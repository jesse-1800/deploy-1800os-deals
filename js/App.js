var Oee=Object.defineProperty;var Pee=(n,t,e)=>t in n?Oee(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Iee=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var fo=(n,t,e)=>Pee(n,typeof t!="symbol"?t+"":t,e);var qze=Iee((BGe,vx)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=e(o);fetch(o.href,i)}})();/**
* @vue/shared v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ba(n){const t=Object.create(null);for(const e of n.split(","))t[e]=1;return e=>e in t}const yr={},tm=[],pa=()=>{},Hp=()=>!1,Kh=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),ik=n=>n.startsWith("onUpdate:"),hr=Object.assign,ak=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},Mee=Object.prototype.hasOwnProperty,Nr=(n,t)=>Mee.call(n,t),dn=Array.isArray,nm=n=>Zm(n)==="[object Map]",Wh=n=>Zm(n)==="[object Set]",_M=n=>Zm(n)==="[object Date]",O5=n=>Zm(n)==="[object RegExp]",Rn=n=>typeof n=="function",Yn=n=>typeof n=="string",Gs=n=>typeof n=="symbol",Qr=n=>n!==null&&typeof n=="object",sk=n=>(Qr(n)||Rn(n))&&Rn(n.then)&&Rn(n.catch),UU=Object.prototype.toString,Zm=n=>UU.call(n),P5=n=>Zm(n).slice(8,-1),b_=n=>Zm(n)==="[object Object]",w_=n=>Yn(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Ed=ba(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),I5=ba("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),lk=n=>{const t=Object.create(null);return(e=>t[e]||(t[e]=n(e)))},Fee=/-\w/g,to=lk(n=>n.replace(Fee,t=>t.slice(1).toUpperCase())),Dee=/\B([A-Z])/g,ns=lk(n=>n.replace(Dee,"-$1").toLowerCase()),Dl=lk(n=>n.charAt(0).toUpperCase()+n.slice(1)),rm=lk(n=>n?`on${Dl(n)}`:""),es=(n,t)=>!Object.is(n,t),om=(n,...t)=>{for(let e=0;e<n.length;e++)n[e](...t)},LU=(n,t,e,r=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:r,value:e})},__=n=>{const t=parseFloat(n);return isNaN(t)?n:t},sw=n=>{const t=Yn(n)?Number(n):NaN;return isNaN(t)?n:t};let zN;const C_=()=>zN||(zN=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Uee=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function Lee(n){return Uee.test(n)?`__props.${n}`:`__props[${JSON.stringify(n)}]`}function Vee(n,t){return n+JSON.stringify(t,(e,r)=>typeof r=="function"?r.toString():r)}const Nee={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},Ree={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},Hee={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},Qee={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},jee={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},$ee="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",VU=ba($ee),Kee=VU,GN=2;function M5(n,t=0,e=n.length){if(t=Math.max(0,Math.min(t,n.length)),e=Math.max(0,Math.min(e,n.length)),t>e)return"";let r=n.split(/(\r?\n)/);const o=r.filter((s,l)=>l%2===1);r=r.filter((s,l)=>l%2===0);let i=0;const a=[];for(let s=0;s<r.length;s++)if(i+=r[s].length+(o[s]&&o[s].length||0),i>=t){for(let l=s-GN;l<=s+GN||e>i;l++){if(l<0||l>=r.length)continue;const u=l+1;a.push(`${u}${" ".repeat(Math.max(3-String(u).length,0))}|  ${r[l]}`);const c=r[l].length,d=o[l]&&o[l].length||0;if(l===s){const f=t-(i-(c+d)),h=Math.max(1,e>i?c-f:e-t);a.push("   |  "+" ".repeat(f)+"^".repeat(h))}else if(l>s){if(e>i){const f=Math.max(Math.min(e-i,c),1);a.push("   |  "+"^".repeat(f))}i+=c+d}}break}return a.join(`
`)}function Ue(n){if(dn(n)){const t={};for(let e=0;e<n.length;e++){const r=n[e],o=Yn(r)?NU(r):Ue(r);if(o)for(const i in o)t[i]=o[i]}return t}else if(Yn(n)||Qr(n))return n}const Wee=/;(?![^(]*\))/g,zee=/:([^]+)/,Gee=/\/\*[^]*?\*\//g;function NU(n){const t={};return n.replace(Gee,"").split(Wee).forEach(e=>{if(e){const r=e.split(zee);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Yee(n){if(!n)return"";if(Yn(n))return n;let t="";for(const e in n){const r=n[e];if(Yn(r)||typeof r=="number"){const o=e.startsWith("--")?e:ns(e);t+=`${o}:${r};`}}return t}function pt(n){let t="";if(Yn(n))t=n;else if(dn(n))for(let e=0;e<n.length;e++){const r=pt(n[e]);r&&(t+=r+" ")}else if(Qr(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}function Ih(n){if(!n)return null;let{class:t,style:e}=n;return t&&!Yn(t)&&(n.class=pt(t)),e&&(n.style=Ue(e)),n}const Xee="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Jee="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Zee="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",qee="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",F5=ba(Xee),D5=ba(Jee),U5=ba(Zee),L5=ba(qee),V5="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",N5=ba(V5),ete=ba(V5+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function RU(n){return!!n||n===""}const tte=/[>/="'\u0009\u000a\u000c\u0020]/,YO={};function nte(n){if(YO.hasOwnProperty(n))return YO[n];const t=tte.test(n);return t&&console.error(`unsafe attribute name: ${n}`),YO[n]=!t}const rte={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},ote=ba("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),ite=ba("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),ate=ba("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function ste(n){if(n==null)return!1;const t=typeof n;return t==="string"||t==="number"||t==="boolean"}const lte=/["'&<>]/;function ute(n){const t=""+n,e=lte.exec(t);if(!e)return t;let r="",o,i,a=0;for(i=e.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#39;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}a!==i&&(r+=t.slice(a,i)),a=i+1,r+=o}return a!==i?r+t.slice(a,i):r}const cte=/^-?>|<!--|-->|--!>|<!-$/g;function dte(n){return n.replace(cte,"")}const R5=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function fte(n,t){return n.replace(R5,e=>t?e==='"'?'\\\\\\"':`\\\\${e}`:`\\${e}`)}function Ate(n,t){if(n.length!==t.length)return!1;let e=!0;for(let r=0;e&&r<n.length;r++)e=eA(n[r],t[r]);return e}function eA(n,t){if(n===t)return!0;let e=_M(n),r=_M(t);if(e||r)return e&&r?n.getTime()===t.getTime():!1;if(e=Gs(n),r=Gs(t),e||r)return n===t;if(e=dn(n),r=dn(t),e||r)return e&&r?Ate(n,t):!1;if(e=Qr(n),r=Qr(t),e||r){if(!e||!r)return!1;const o=Object.keys(n).length,i=Object.keys(t).length;if(o!==i)return!1;for(const a in n){const s=n.hasOwnProperty(a),l=t.hasOwnProperty(a);if(s&&!l||!s&&l||!eA(n[a],t[a]))return!1}}return String(n)===String(t)}function S_(n,t){return n.findIndex(e=>eA(e,t))}const H5=n=>!!(n&&n.__v_isRef===!0),at=n=>Yn(n)?n:n==null?"":dn(n)||Qr(n)&&(n.toString===UU||!Rn(n.toString))?H5(n)?at(n.value):JSON.stringify(n,Q5,2):String(n),Q5=(n,t)=>H5(t)?Q5(n,t.value):nm(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[r,o],i)=>(e[XO(r,i)+" =>"]=o,e),{})}:Wh(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>XO(e))}:Gs(t)?XO(t):Qr(t)&&!dn(t)&&!b_(t)?String(t):t,XO=(n,t="")=>{var e;return Gs(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};function j5(n){return n==null?"initial":typeof n=="string"?n===""?" ":n:String(n)}const hte=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:tm,EMPTY_OBJ:yr,NO:Hp,NOOP:pa,PatchFlagNames:Ree,PatchFlags:Nee,ShapeFlags:Hee,SlotFlags:Qee,camelize:to,capitalize:Dl,cssVarNameEscapeSymbolsRE:R5,def:LU,escapeHtml:ute,escapeHtmlComment:dte,extend:hr,genCacheKey:Vee,genPropsAccessExp:Lee,generateCodeFrame:M5,getEscapedCssVarName:fte,getGlobalThis:C_,hasChanged:es,hasOwn:Nr,hyphenate:ns,includeBooleanAttr:RU,invokeArrayFns:om,isArray:dn,isBooleanAttr:ete,isBuiltInDirective:I5,isDate:_M,isFunction:Rn,isGloballyAllowed:VU,isGloballyWhitelisted:Kee,isHTMLTag:F5,isIntegerKey:w_,isKnownHtmlAttr:ote,isKnownMathMLAttr:ate,isKnownSvgAttr:ite,isMap:nm,isMathMLTag:U5,isModelListener:ik,isObject:Qr,isOn:Kh,isPlainObject:b_,isPromise:sk,isRegExp:O5,isRenderableAttrValue:ste,isReservedProp:Ed,isSSRSafeAttrName:nte,isSVGTag:D5,isSet:Wh,isSpecialBooleanAttr:N5,isString:Yn,isSymbol:Gs,isVoidTag:L5,looseEqual:eA,looseIndexOf:S_,looseToNumber:__,makeMap:ba,normalizeClass:pt,normalizeCssVarValue:j5,normalizeProps:Ih,normalizeStyle:Ue,objectToString:UU,parseStringStyle:NU,propsToAttrMap:rte,remove:ak,slotFlagsText:jee,stringifyStyle:Yee,toDisplayString:at,toHandlerKey:rm,toNumber:sw,toRawType:P5,toTypeString:Zm},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xa;class HU{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xa,!t&&Xa&&(this.index=(Xa.scopes||(Xa.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=Xa;try{return Xa=this,t()}finally{Xa=e}}}on(){++this._on===1&&(this.prevScope=Xa,Xa=this)}off(){this._on>0&&--this._on===0&&(Xa=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let e,r;for(e=0,r=this.effects.length;e<r;e++)this.effects[e].stop();for(this.effects.length=0,e=0,r=this.cleanups.length;e<r;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Mh(n){return new HU(n)}function uk(){return Xa}function Go(n,t=!1){Xa&&Xa.cleanups.push(n)}let go;const JO=new WeakSet;class lw{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xa&&Xa.active&&Xa.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,JO.has(this)&&(JO.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||K5(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,YN(this),W5(this);const t=go,e=Tc;go=this,Tc=!0;try{return this.fn()}finally{z5(this),go=t,Tc=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)$U(t);this.deps=this.depsTail=void 0,YN(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?JO.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){CM(this)&&this.run()}get dirty(){return CM(this)}}let $5=0,xb,Eb;function K5(n,t=!1){if(n.flags|=8,t){n.next=Eb,Eb=n;return}n.next=xb,xb=n}function QU(){$5++}function jU(){if(--$5>0)return;if(Eb){let t=Eb;for(Eb=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let n;for(;xb;){let t=xb;for(xb=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){n||(n=r)}t=e}}if(n)throw n}function W5(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function z5(n){let t,e=n.depsTail,r=e;for(;r;){const o=r.prevDep;r.version===-1?(r===e&&(e=o),$U(r),pte(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=o}n.deps=t,n.depsTail=e}function CM(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(G5(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function G5(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===uw)||(n.globalVersion=uw,!n.isSSR&&n.flags&128&&(!n.deps&&!n._dirty||!CM(n))))return;n.flags|=2;const t=n.dep,e=go,r=Tc;go=n,Tc=!0;try{W5(n);const o=n.fn(n._value);(t.version===0||es(o,n._value))&&(n.flags|=128,n._value=o,t.version++)}catch(o){throw t.version++,o}finally{go=e,Tc=r,z5(n),n.flags&=-3}}function $U(n,t=!1){const{dep:e,prevSub:r,nextSub:o}=n;if(r&&(r.nextSub=o,n.prevSub=void 0),o&&(o.prevSub=r,n.nextSub=void 0),e.subs===n&&(e.subs=r,!r&&e.computed)){e.computed.flags&=-5;for(let i=e.computed.deps;i;i=i.nextDep)$U(i,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function pte(n){const{prevDep:t,nextDep:e}=n;t&&(t.nextDep=e,n.prevDep=void 0),e&&(e.prevDep=t,n.nextDep=void 0)}function mte(n,t){n.effect instanceof lw&&(n=n.effect.fn);const e=new lw(n);t&&hr(e,t);try{e.run()}catch(o){throw e.stop(),o}const r=e.run.bind(e);return r.effect=e,r}function vte(n){n.effect.stop()}let Tc=!0;const Y5=[];function tA(){Y5.push(Tc),Tc=!1}function nA(){const n=Y5.pop();Tc=n===void 0?!0:n}function YN(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const e=go;go=void 0;try{t()}finally{go=e}}}let uw=0;class gte{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ck{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!go||!Tc||go===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==go)e=this.activeLink=new gte(go,this),go.deps?(e.prevDep=go.depsTail,go.depsTail.nextDep=e,go.depsTail=e):go.deps=go.depsTail=e,X5(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const r=e.nextDep;r.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=r),e.prevDep=go.depsTail,e.nextDep=void 0,go.depsTail.nextDep=e,go.depsTail=e,go.deps===e&&(go.deps=r)}return e}trigger(t){this.version++,uw++,this.notify(t)}notify(t){QU();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{jU()}}}function X5(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)X5(r)}const e=n.dep.subs;e!==n&&(n.prevSub=e,e&&(e.nextSub=n)),n.dep.subs=n}}const gx=new WeakMap,im=Symbol(""),SM=Symbol(""),cw=Symbol("");function ts(n,t,e){if(Tc&&go){let r=gx.get(n);r||gx.set(n,r=new Map);let o=r.get(e);o||(r.set(e,o=new ck),o.map=r,o.key=e),o.track()}}function If(n,t,e,r,o,i){const a=gx.get(n);if(!a){uw++;return}const s=l=>{l&&l.trigger()};if(QU(),t==="clear")a.forEach(s);else{const l=dn(n),u=l&&w_(e);if(l&&e==="length"){const c=Number(r);a.forEach((d,f)=>{(f==="length"||f===cw||!Gs(f)&&f>=c)&&s(d)})}else switch((e!==void 0||a.has(void 0))&&s(a.get(e)),u&&s(a.get(cw)),t){case"add":l?u&&s(a.get("length")):(s(a.get(im)),nm(n)&&s(a.get(SM)));break;case"delete":l||(s(a.get(im)),nm(n)&&s(a.get(SM)));break;case"set":nm(n)&&s(a.get(im));break}}jU()}function yte(n,t){const e=gx.get(n);return e&&e.get(t)}function Lv(n){const t=wn(n);return t===n?t:(ts(t,"iterate",cw),Tl(n)?t:t.map(Ic))}function dk(n){return ts(n=wn(n),"iterate",cw),n}function $A(n,t){return kd(n)?oy(Nu(n)?Ic(t):t):Ic(t)}const bte={__proto__:null,[Symbol.iterator](){return ZO(this,Symbol.iterator,n=>$A(this,n))},concat(...n){return Lv(this).concat(...n.map(t=>dn(t)?Lv(t):t))},entries(){return ZO(this,"entries",n=>(n[1]=$A(this,n[1]),n))},every(n,t){return pf(this,"every",n,t,void 0,arguments)},filter(n,t){return pf(this,"filter",n,t,e=>e.map(r=>$A(this,r)),arguments)},find(n,t){return pf(this,"find",n,t,e=>$A(this,e),arguments)},findIndex(n,t){return pf(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return pf(this,"findLast",n,t,e=>$A(this,e),arguments)},findLastIndex(n,t){return pf(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return pf(this,"forEach",n,t,void 0,arguments)},includes(...n){return qO(this,"includes",n)},indexOf(...n){return qO(this,"indexOf",n)},join(n){return Lv(this).join(n)},lastIndexOf(...n){return qO(this,"lastIndexOf",n)},map(n,t){return pf(this,"map",n,t,void 0,arguments)},pop(){return M0(this,"pop")},push(...n){return M0(this,"push",n)},reduce(n,...t){return XN(this,"reduce",n,t)},reduceRight(n,...t){return XN(this,"reduceRight",n,t)},shift(){return M0(this,"shift")},some(n,t){return pf(this,"some",n,t,void 0,arguments)},splice(...n){return M0(this,"splice",n)},toReversed(){return Lv(this).toReversed()},toSorted(n){return Lv(this).toSorted(n)},toSpliced(...n){return Lv(this).toSpliced(...n)},unshift(...n){return M0(this,"unshift",n)},values(){return ZO(this,"values",n=>$A(this,n))}};function ZO(n,t,e){const r=dk(n),o=r[t]();return r!==n&&!Tl(n)&&(o._next=o.next,o.next=()=>{const i=o._next();return i.done||(i.value=e(i.value)),i}),o}const wte=Array.prototype;function pf(n,t,e,r,o,i){const a=dk(n),s=a!==n&&!Tl(n),l=a[t];if(l!==wte[t]){const d=l.apply(n,i);return s?Ic(d):d}let u=e;a!==n&&(s?u=function(d,f){return e.call(this,$A(n,d),f,n)}:e.length>2&&(u=function(d,f){return e.call(this,d,f,n)}));const c=l.call(a,u,r);return s&&o?o(c):c}function XN(n,t,e,r){const o=dk(n);let i=e;return o!==n&&(Tl(n)?e.length>3&&(i=function(a,s,l){return e.call(this,a,s,l,n)}):i=function(a,s,l){return e.call(this,a,$A(n,s),l,n)}),o[t](i,...r)}function qO(n,t,e){const r=wn(n);ts(r,"iterate",cw);const o=r[t](...e);return(o===-1||o===!1)&&x_(e[0])?(e[0]=wn(e[0]),r[t](...e)):o}function M0(n,t,e=[]){tA(),QU();const r=wn(n)[t].apply(n,e);return jU(),nA(),r}const _te=ba("__proto__,__v_isRef,__isVue"),J5=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Gs));function Cte(n){Gs(n)||(n=String(n));const t=wn(this);return ts(t,"has",n),t.hasOwnProperty(n)}class Z5{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,r){if(e==="__v_skip")return t.__v_skip;const o=this._isReadonly,i=this._isShallow;if(e==="__v_isReactive")return!o;if(e==="__v_isReadonly")return o;if(e==="__v_isShallow")return i;if(e==="__v_raw")return r===(o?i?o8:r8:i?n8:t8).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const a=dn(t);if(!o){let l;if(a&&(l=bte[e]))return l;if(e==="hasOwnProperty")return Cte}const s=Reflect.get(t,e,Ht(t)?t:r);if((Gs(e)?J5.has(e):_te(e))||(o||ts(t,"get",e),i))return s;if(Ht(s)){const l=a&&w_(e)?s:s.value;return o&&Qr(l)?Fh(l):l}return Qr(s)?o?Fh(s):Di(s):s}}class q5 extends Z5{constructor(t=!1){super(!1,t)}set(t,e,r,o){let i=t[e];const a=dn(t)&&w_(e);if(!this._isShallow){const u=kd(i);if(!Tl(r)&&!kd(r)&&(i=wn(i),r=wn(r)),!a&&Ht(i)&&!Ht(r))return u||(i.value=r),!0}const s=a?Number(e)<t.length:Nr(t,e),l=Reflect.set(t,e,r,Ht(t)?t:o);return t===wn(o)&&(s?es(r,i)&&If(t,"set",e,r):If(t,"add",e,r)),l}deleteProperty(t,e){const r=Nr(t,e);t[e];const o=Reflect.deleteProperty(t,e);return o&&r&&If(t,"delete",e,void 0),o}has(t,e){const r=Reflect.has(t,e);return(!Gs(e)||!J5.has(e))&&ts(t,"has",e),r}ownKeys(t){return ts(t,"iterate",dn(t)?"length":im),Reflect.ownKeys(t)}}class e8 extends Z5{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Ste=new q5,xte=new e8,Ete=new q5(!0),Bte=new e8(!0),xM=n=>n,u1=n=>Reflect.getPrototypeOf(n);function kte(n,t,e){return function(...r){const o=this.__v_raw,i=wn(o),a=nm(i),s=n==="entries"||n===Symbol.iterator&&a,l=n==="keys"&&a,u=o[n](...r),c=e?xM:t?oy:Ic;return!t&&ts(i,"iterate",l?SM:im),hr(Object.create(u),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:s?[c(d[0]),c(d[1])]:c(d),done:f}}})}}function c1(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function Tte(n,t){const e={get(o){const i=this.__v_raw,a=wn(i),s=wn(o);n||(es(o,s)&&ts(a,"get",o),ts(a,"get",s));const{has:l}=u1(a),u=t?xM:n?oy:Ic;if(l.call(a,o))return u(i.get(o));if(l.call(a,s))return u(i.get(s));i!==a&&i.get(o)},get size(){const o=this.__v_raw;return!n&&ts(wn(o),"iterate",im),o.size},has(o){const i=this.__v_raw,a=wn(i),s=wn(o);return n||(es(o,s)&&ts(a,"has",o),ts(a,"has",s)),o===s?i.has(o):i.has(o)||i.has(s)},forEach(o,i){const a=this,s=a.__v_raw,l=wn(s),u=t?xM:n?oy:Ic;return!n&&ts(l,"iterate",im),s.forEach((c,d)=>o.call(i,u(c),u(d),a))}};return hr(e,n?{add:c1("add"),set:c1("set"),delete:c1("delete"),clear:c1("clear")}:{add(o){!t&&!Tl(o)&&!kd(o)&&(o=wn(o));const i=wn(this);return u1(i).has.call(i,o)||(i.add(o),If(i,"add",o,o)),this},set(o,i){!t&&!Tl(i)&&!kd(i)&&(i=wn(i));const a=wn(this),{has:s,get:l}=u1(a);let u=s.call(a,o);u||(o=wn(o),u=s.call(a,o));const c=l.call(a,o);return a.set(o,i),u?es(i,c)&&If(a,"set",o,i):If(a,"add",o,i),this},delete(o){const i=wn(this),{has:a,get:s}=u1(i);let l=a.call(i,o);l||(o=wn(o),l=a.call(i,o)),s&&s.call(i,o);const u=i.delete(o);return l&&If(i,"delete",o,void 0),u},clear(){const o=wn(this),i=o.size!==0,a=o.clear();return i&&If(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=kte(o,n,t)}),e}function fk(n,t){const e=Tte(n,t);return(r,o,i)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?r:Reflect.get(Nr(e,o)&&o in r?e:r,o,i)}const Ote={get:fk(!1,!1)},Pte={get:fk(!1,!0)},Ite={get:fk(!0,!1)},Mte={get:fk(!0,!0)},t8=new WeakMap,n8=new WeakMap,r8=new WeakMap,o8=new WeakMap;function Fte(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dte(n){return n.__v_skip||!Object.isExtensible(n)?0:Fte(P5(n))}function Di(n){return kd(n)?n:Ak(n,!1,Ste,Ote,t8)}function KU(n){return Ak(n,!1,Ete,Pte,n8)}function Fh(n){return Ak(n,!0,xte,Ite,r8)}function Ute(n){return Ak(n,!0,Bte,Mte,o8)}function Ak(n,t,e,r,o){if(!Qr(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const i=Dte(n);if(i===0)return n;const a=o.get(n);if(a)return a;const s=new Proxy(n,i===2?r:e);return o.set(n,s),s}function Nu(n){return kd(n)?Nu(n.__v_raw):!!(n&&n.__v_isReactive)}function kd(n){return!!(n&&n.__v_isReadonly)}function Tl(n){return!!(n&&n.__v_isShallow)}function x_(n){return n?!!n.__v_raw:!1}function wn(n){const t=n&&n.__v_raw;return t?wn(t):n}function qm(n){return!Nr(n,"__v_skip")&&Object.isExtensible(n)&&LU(n,"__v_skip",!0),n}const Ic=n=>Qr(n)?Di(n):n,oy=n=>Qr(n)?Fh(n):n;function Ht(n){return n?n.__v_isRef===!0:!1}function Oe(n){return i8(n,!1)}function It(n){return i8(n,!0)}function i8(n,t){return Ht(n)?n:new Lte(n,t)}class Lte{constructor(t,e){this.dep=new ck,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:wn(t),this._value=e?t:Ic(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,r=this.__v_isShallow||Tl(t)||kd(t);t=r?t:wn(t),es(t,e)&&(this._rawValue=t,this._value=r?t:Ic(t),this.dep.trigger())}}function Vte(n){n.dep&&n.dep.trigger()}function O(n){return Ht(n)?n.value:n}function Ui(n){return Rn(n)?n():O(n)}const Nte={get:(n,t,e)=>t==="__v_raw"?n:O(Reflect.get(n,t,e)),set:(n,t,e,r)=>{const o=n[t];return Ht(o)&&!Ht(e)?(o.value=e,!0):Reflect.set(n,t,e,r)}};function WU(n){return Nu(n)?n:new Proxy(n,Nte)}class Rte{constructor(t){this.__v_isRef=!0,this._value=void 0;const e=this.dep=new ck,{get:r,set:o}=t(e.track.bind(e),e.trigger.bind(e));this._get=r,this._set=o}get value(){return this._value=this._get()}set value(t){this._set(t)}}function zU(n){return new Rte(n)}function E_(n){const t=dn(n)?new Array(n.length):{};for(const e in n)t[e]=a8(n,e);return t}class Hte{constructor(t,e,r){this._object=t,this._key=e,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0,this._raw=wn(t);let o=!0,i=t;if(!dn(t)||!w_(String(e)))do o=!x_(i)||Tl(i);while(o&&(i=i.__v_raw));this._shallow=o}get value(){let t=this._object[this._key];return this._shallow&&(t=O(t)),this._value=t===void 0?this._defaultValue:t}set value(t){if(this._shallow&&Ht(this._raw[this._key])){const e=this._object[this._key];if(Ht(e)){e.value=t;return}}this._object[this._key]=t}get dep(){return yte(this._raw,this._key)}}class Qte{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function ze(n,t,e){return Ht(n)?n:Rn(n)?new Qte(n):Qr(n)&&arguments.length>1?a8(n,t,e):Oe(n)}function a8(n,t,e){return new Hte(n,t,e)}class jte{constructor(t,e,r){this.fn=t,this.setter=e,this._value=void 0,this.dep=new ck(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=uw-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&go!==this)return K5(this,!0),!0}get value(){const t=this.dep.track();return G5(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $te(n,t,e=!1){let r,o;return Rn(n)?r=n:(r=n.get,o=n.set),new jte(r,o,e)}const Kte={GET:"get",HAS:"has",ITERATE:"iterate"},Wte={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},d1={},yx=new WeakMap;let KA;function zte(){return KA}function s8(n,t=!1,e=KA){if(e){let r=yx.get(e);r||yx.set(e,r=[]),r.push(n)}}function Gte(n,t,e=yr){const{immediate:r,deep:o,once:i,scheduler:a,augmentJob:s,call:l}=e,u=C=>o?C:Tl(C)||o===!1||o===0?Mf(C,1):Mf(C);let c,d,f,h,p=!1,v=!1;if(Ht(n)?(d=()=>n.value,p=Tl(n)):Nu(n)?(d=()=>u(n),p=!0):dn(n)?(v=!0,p=n.some(C=>Nu(C)||Tl(C)),d=()=>n.map(C=>{if(Ht(C))return C.value;if(Nu(C))return u(C);if(Rn(C))return l?l(C,2):C()})):Rn(n)?t?d=l?()=>l(n,2):n:d=()=>{if(f){tA();try{f()}finally{nA()}}const C=KA;KA=c;try{return l?l(n,3,[h]):n(h)}finally{KA=C}}:d=pa,t&&o){const C=d,T=o===!0?1/0:o;d=()=>Mf(C(),T)}const g=uk(),_=()=>{c.stop(),g&&g.active&&ak(g.effects,c)};if(i&&t){const C=t;t=(...T)=>{C(...T),_()}}let S=v?new Array(n.length).fill(d1):d1;const y=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(t){const T=c.run();if(o||p||(v?T.some((P,F)=>es(P,S[F])):es(T,S))){f&&f();const P=KA;KA=c;try{const F=[T,S===d1?void 0:v&&S[0]===d1?[]:S,h];S=T,l?l(t,3,F):t(...F)}finally{KA=P}}}else c.run()};return s&&s(y),c=new lw(d),c.scheduler=a?()=>a(y,!1):y,h=C=>s8(C,!1,c),f=c.onStop=()=>{const C=yx.get(c);if(C){if(l)l(C,4);else for(const T of C)T();yx.delete(c)}},t?r?y(!0):S=c.run():a?a(y.bind(null,!0),!0):c.run(),_.pause=c.pause.bind(c),_.resume=c.resume.bind(c),_.stop=_,_}function Mf(n,t=1/0,e){if(t<=0||!Qr(n)||n.__v_skip||(e=e||new Map,(e.get(n)||0)>=t))return n;if(e.set(n,t),t--,Ht(n))Mf(n.value,t,e);else if(dn(n))for(let r=0;r<n.length;r++)Mf(n[r],t,e);else if(Wh(n)||nm(n))n.forEach(r=>{Mf(r,t,e)});else if(b_(n)){for(const r in n)Mf(n[r],t,e);for(const r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&Mf(n[r],t,e)}return n}/**
* @vue/runtime-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const l8=[];function Yte(n){l8.push(n)}function Xte(){l8.pop()}function Jte(n,t){}const Zte={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},qte={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Uy(n,t,e,r){try{return r?n(...r):n()}catch(o){ev(o,t,e)}}function zu(n,t,e,r){if(Rn(n)){const o=Uy(n,t,e,r);return o&&sk(o)&&o.catch(i=>{ev(i,t,e)}),o}if(dn(n)){const o=[];for(let i=0;i<n.length;i++)o.push(zu(n[i],t,e,r));return o}}function ev(n,t,e,r=!0){const o=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||yr;if(t){let s=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${e}`;for(;s;){const c=s.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](n,l,u)===!1)return}s=s.parent}if(i){tA(),Uy(i,null,10,[n,l,u]),nA();return}}ene(n,e,o,r,a)}function ene(n,t,e,r=!0,o=!1){if(o)throw n;console.error(n)}const Qs=[];let Ad=-1;const Kg=[];let WA=null,sg=0;const u8=Promise.resolve();let bx=null;function tr(n){const t=bx||u8;return n?t.then(this?n.bind(this):n):t}function tne(n){let t=Ad+1,e=Qs.length;for(;t<e;){const r=t+e>>>1,o=Qs[r],i=fw(o);i<n||i===n&&o.flags&2?t=r+1:e=r}return t}function GU(n){if(!(n.flags&1)){const t=fw(n),e=Qs[Qs.length-1];!e||!(n.flags&2)&&t>=fw(e)?Qs.push(n):Qs.splice(tne(t),0,n),n.flags|=1,c8()}}function c8(){bx||(bx=u8.then(d8))}function dw(n){dn(n)?Kg.push(...n):WA&&n.id===-1?WA.splice(sg+1,0,n):n.flags&1||(Kg.push(n),n.flags|=1),c8()}function JN(n,t,e=Ad+1){for(;e<Qs.length;e++){const r=Qs[e];if(r&&r.flags&2){if(n&&r.id!==n.uid)continue;Qs.splice(e,1),e--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function wx(n){if(Kg.length){const t=[...new Set(Kg)].sort((e,r)=>fw(e)-fw(r));if(Kg.length=0,WA){WA.push(...t);return}for(WA=t,sg=0;sg<WA.length;sg++){const e=WA[sg];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}WA=null,sg=0}}const fw=n=>n.id==null?n.flags&2?-1:1/0:n.id;function d8(n){try{for(Ad=0;Ad<Qs.length;Ad++){const t=Qs[Ad];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Uy(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ad<Qs.length;Ad++){const t=Qs[Ad];t&&(t.flags&=-2)}Ad=-1,Qs.length=0,wx(),bx=null,(Qs.length||Kg.length)&&d8()}}let lg,f1=[];function f8(n,t){var e,r;lg=n,lg?(lg.enabled=!0,f1.forEach(({event:o,args:i})=>lg.emit(o,...i)),f1=[]):typeof window<"u"&&window.HTMLElement&&!((r=(e=window.navigator)==null?void 0:e.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{f8(i,t)}),setTimeout(()=>{lg||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,f1=[])},3e3)):f1=[]}let Fa=null,hk=null;function Aw(n){const t=Fa;return Fa=n,hk=n&&n.type.__scopeId||null,t}function nne(n){hk=n}function rne(){hk=null}const one=n=>N;function N(n,t=Fa,e){if(!t||n._n)return n;const r=(...o)=>{r._d&&mw(-1);const i=Aw(t);let a;try{a=n(...o)}finally{Aw(i),r._d&&mw(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Qn(n,t){if(Fa===null)return n;const e=O_(Fa),r=n.dirs||(n.dirs=[]);for(let o=0;o<t.length;o++){let[i,a,s,l=yr]=t[o];i&&(Rn(i)&&(i={mounted:i,updated:i}),i.deep&&Mf(a),r.push({dir:i,instance:e,value:a,oldValue:void 0,arg:s,modifiers:l}))}return n}function md(n,t,e,r){const o=n.dirs,i=t&&t.dirs;for(let a=0;a<o.length;a++){const s=o[a];i&&(s.oldValue=i[a].value);let l=s.dir[r];l&&(tA(),zu(l,e,8,[n.el,s,n,t]),nA())}}function no(n,t){if(Ia){let e=Ia.provides;const r=Ia.parent&&Ia.parent.provides;r===e&&(e=Ia.provides=Object.create(r)),e[n]=t}}function Hn(n,t,e=!1){const r=fs();if(r||am){let o=am?am._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(o&&n in o)return o[n];if(arguments.length>1)return e&&Rn(t)?t.call(r&&r.proxy):t}}function A8(){return!!(fs()||am)}const h8=Symbol.for("v-scx"),p8=()=>Hn(h8);function mo(n,t){return B_(n,null,t)}function ine(n,t){return B_(n,null,{flush:"post"})}function m8(n,t){return B_(n,null,{flush:"sync"})}function lt(n,t,e){return B_(n,t,e)}function B_(n,t,e=yr){const{immediate:r,deep:o,flush:i,once:a}=e,s=hr({},e),l=t&&r||!t&&i!=="post";let u;if(ay){if(i==="sync"){const h=p8();u=h.__watcherHandles||(h.__watcherHandles=[])}else if(!l){const h=()=>{};return h.stop=pa,h.resume=pa,h.pause=pa,h}}const c=Ia;s.call=(h,p,v)=>zu(h,c,p,v);let d=!1;i==="post"?s.scheduler=h=>{Ii(h,c&&c.suspense)}:i!=="sync"&&(d=!0,s.scheduler=(h,p)=>{p?h():GU(h)}),s.augmentJob=h=>{t&&(h.flags|=4),d&&(h.flags|=2,c&&(h.id=c.uid,h.i=c))};const f=Gte(n,t,s);return ay&&(u?u.push(f):l&&f()),f}function ane(n,t,e){const r=this.proxy,o=Yn(n)?n.includes(".")?v8(r,n):()=>r[n]:n.bind(r,r);let i;Rn(t)?i=t:(i=t.handler,e=t);const a=Bm(this),s=B_(o,i.bind(r),e);return a(),s}function v8(n,t){const e=t.split(".");return()=>{let r=n;for(let o=0;o<e.length&&r;o++)r=r[e[o]];return r}}const g8=Symbol("_vte"),y8=n=>n.__isTeleport,Bb=n=>n&&(n.disabled||n.disabled===""),ZN=n=>n&&(n.defer||n.defer===""),qN=n=>typeof SVGElement<"u"&&n instanceof SVGElement,eR=n=>typeof MathMLElement=="function"&&n instanceof MathMLElement,EM=(n,t)=>{const e=n&&n.to;return Yn(e)?t?t(e):null:e},b8={name:"Teleport",__isTeleport:!0,process(n,t,e,r,o,i,a,s,l,u){const{mc:c,pc:d,pbc:f,o:{insert:h,querySelector:p,createText:v,createComment:g}}=u,_=Bb(t.props);let{shapeFlag:S,children:y,dynamicChildren:C}=t;if(n==null){const T=t.el=v(""),P=t.anchor=v("");h(T,e,r),h(P,e,r);const F=(k,M)=>{S&16&&c(y,k,M,o,i,a,s,l)},I=()=>{const k=t.target=EM(t.props,p),M=_8(k,t,v,h);k&&(a!=="svg"&&qN(k)?a="svg":a!=="mathml"&&eR(k)&&(a="mathml"),o&&o.isCE&&(o.ce._teleportTargets||(o.ce._teleportTargets=new Set)).add(k),_||(F(k,M),BS(t,!1)))};_&&(F(e,P),BS(t,!0)),ZN(t.props)?(t.el.__isMounted=!1,Ii(()=>{I(),delete t.el.__isMounted},i)):I()}else{if(ZN(t.props)&&n.el.__isMounted===!1){Ii(()=>{b8.process(n,t,e,r,o,i,a,s,l,u)},i);return}t.el=n.el,t.targetStart=n.targetStart;const T=t.anchor=n.anchor,P=t.target=n.target,F=t.targetAnchor=n.targetAnchor,I=Bb(n.props),k=I?e:P,M=I?T:F;if(a==="svg"||qN(P)?a="svg":(a==="mathml"||eR(P))&&(a="mathml"),C?(f(n.dynamicChildren,C,k,o,i,a,s),sL(n,t,!0)):l||d(n,t,k,M,o,i,a,s,!1),_)I?t.props&&n.props&&t.props.to!==n.props.to&&(t.props.to=n.props.to):A1(t,e,T,u,1);else if((t.props&&t.props.to)!==(n.props&&n.props.to)){const V=t.target=EM(t.props,p);V&&A1(t,V,null,u,0)}else I&&A1(t,P,F,u,1);BS(t,_)}},remove(n,t,e,{um:r,o:{remove:o}},i){const{shapeFlag:a,children:s,anchor:l,targetStart:u,targetAnchor:c,target:d,props:f}=n;if(d&&(o(u),o(c)),i&&o(l),a&16){const h=i||!Bb(f);for(let p=0;p<s.length;p++){const v=s[p];r(v,t,e,h,!!v.dynamicChildren)}}},move:A1,hydrate:sne};function A1(n,t,e,{o:{insert:r},m:o},i=2){i===0&&r(n.targetAnchor,t,e);const{el:a,anchor:s,shapeFlag:l,children:u,props:c}=n,d=i===2;if(d&&r(a,t,e),(!d||Bb(c))&&l&16)for(let f=0;f<u.length;f++)o(u[f],t,e,2);d&&r(s,t,e)}function sne(n,t,e,r,o,i,{o:{nextSibling:a,parentNode:s,querySelector:l,insert:u,createText:c}},d){function f(v,g,_,S){g.anchor=d(a(v),g,s(v),e,r,o,i),g.targetStart=_,g.targetAnchor=S}const h=t.target=EM(t.props,l),p=Bb(t.props);if(h){const v=h._lpa||h.firstChild;if(t.shapeFlag&16)if(p)f(n,t,v,v&&a(v));else{t.anchor=a(n);let g=v;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")t.targetStart=g;else if(g.data==="teleport anchor"){t.targetAnchor=g,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}}g=a(g)}t.targetAnchor||_8(h,t,c,u),d(v&&a(v),t,h,e,r,o,i)}BS(t,p)}else p&&t.shapeFlag&16&&f(n,t,n,a(n));return t.anchor&&a(t.anchor)}const w8=b8;function BS(n,t){const e=n.ctx;if(e&&e.ut){let r,o;for(t?(r=n.el,o=n.anchor):(r=n.targetStart,o=n.targetAnchor);r&&r!==o;)r.nodeType===1&&r.setAttribute("data-v-owner",e.uid),r=r.nextSibling;e.ut()}}function _8(n,t,e,r){const o=t.targetStart=e(""),i=t.targetAnchor=e("");return o[g8]=i,n&&(r(o,n),r(i,n)),i}const Of=Symbol("_leaveCb"),h1=Symbol("_enterCb");function YU(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Kn(()=>{n.isMounted=!0}),Ti(()=>{n.isUnmounting=!0}),n}const Cu=[Function,Array],XU={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Cu,onEnter:Cu,onAfterEnter:Cu,onEnterCancelled:Cu,onBeforeLeave:Cu,onLeave:Cu,onAfterLeave:Cu,onLeaveCancelled:Cu,onBeforeAppear:Cu,onAppear:Cu,onAfterAppear:Cu,onAppearCancelled:Cu},C8=n=>{const t=n.subTree;return t.component?C8(t.component):t},lne={name:"BaseTransition",props:XU,setup(n,{slots:t}){const e=fs(),r=YU();return()=>{const o=t.default&&pk(t.default(),!0);if(!o||!o.length)return;const i=S8(o),a=wn(n),{mode:s}=a;if(r.isLeaving)return eP(i);const l=tR(i);if(!l)return eP(i);let u=iy(l,a,r,e,d=>u=d);l.type!==fi&&rA(l,u);let c=e.subTree&&tR(e.subTree);if(c&&c.type!==fi&&!Sc(c,l)&&C8(e).type!==fi){let d=iy(c,a,r,e);if(rA(c,d),s==="out-in"&&l.type!==fi)return r.isLeaving=!0,d.afterLeave=()=>{r.isLeaving=!1,e.job.flags&8||e.update(),delete d.afterLeave,c=void 0},eP(i);s==="in-out"&&l.type!==fi?d.delayLeave=(f,h,p)=>{const v=E8(r,c);v[String(c.key)]=c,f[Of]=()=>{h(),f[Of]=void 0,delete u.delayedLeave,c=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return i}}};function S8(n){let t=n[0];if(n.length>1){for(const e of n)if(e.type!==fi){t=e;break}}return t}const x8=lne;function E8(n,t){const{leavingVNodes:e}=n;let r=e.get(t.type);return r||(r=Object.create(null),e.set(t.type,r)),r}function iy(n,t,e,r,o){const{appear:i,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:g,onAppear:_,onAfterAppear:S,onAppearCancelled:y}=t,C=String(n.key),T=E8(e,n),P=(k,M)=>{k&&zu(k,r,9,M)},F=(k,M)=>{const V=M[1];P(k,M),dn(k)?k.every(U=>U.length<=1)&&V():k.length<=1&&V()},I={mode:a,persisted:s,beforeEnter(k){let M=l;if(!e.isMounted)if(i)M=g||l;else return;k[Of]&&k[Of](!0);const V=T[C];V&&Sc(n,V)&&V.el[Of]&&V.el[Of](),P(M,[k])},enter(k){let M=u,V=c,U=d;if(!e.isMounted)if(i)M=_||u,V=S||c,U=y||d;else return;let $=!1;const Q=k[h1]=J=>{$||($=!0,J?P(U,[k]):P(V,[k]),I.delayedLeave&&I.delayedLeave(),k[h1]=void 0)};M?F(M,[k,Q]):Q()},leave(k,M){const V=String(n.key);if(k[h1]&&k[h1](!0),e.isUnmounting)return M();P(f,[k]);let U=!1;const $=k[Of]=Q=>{U||(U=!0,M(),Q?P(v,[k]):P(p,[k]),k[Of]=void 0,T[V]===n&&delete T[V])};T[V]=n,h?F(h,[k,$]):$()},clone(k){const M=iy(k,t,e,r,o);return o&&o(M),M}};return I}function eP(n){if(k_(n))return n=Mc(n),n.children=null,n}function tR(n){if(!k_(n))return y8(n.type)&&n.children?S8(n.children):n;if(n.component)return n.component.subTree;const{shapeFlag:t,children:e}=n;if(e){if(t&16)return e[0];if(t&32&&Rn(e.default))return e.default()}}function rA(n,t){n.shapeFlag&6&&n.component?(n.transition=t,rA(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function pk(n,t=!1,e){let r=[],o=0;for(let i=0;i<n.length;i++){let a=n[i];const s=e==null?a.key:String(e)+String(a.key!=null?a.key:i);a.type===ut?(a.patchFlag&128&&o++,r=r.concat(pk(a.children,t,s))):(t||a.type!==fi)&&r.push(s!=null?Mc(a,{key:s}):a)}if(o>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function rn(n,t){return Rn(n)?hr({name:n.name},t,{setup:n}):n}function el(){const n=fs();return n?(n.appContext.config.idPrefix||"v")+"-"+n.ids[0]+n.ids[1]++:""}function JU(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function une(n){const t=fs(),e=It(null);if(t){const o=t.refs===yr?t.refs={}:t.refs;Object.defineProperty(o,n,{enumerable:!0,get:()=>e.value,set:i=>e.value=i})}return e}const _x=new WeakMap;function Wg(n,t,e,r,o=!1){if(dn(n)){n.forEach((p,v)=>Wg(p,t&&(dn(t)?t[v]:t),e,r,o));return}if(Qf(r)&&!o){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Wg(n,t,e,r.component.subTree);return}const i=r.shapeFlag&4?O_(r.component):r.el,a=o?null:i,{i:s,r:l}=n,u=t&&t.r,c=s.refs===yr?s.refs={}:s.refs,d=s.setupState,f=wn(d),h=d===yr?Hp:p=>Nr(f,p);if(u!=null&&u!==l){if(nR(t),Yn(u))c[u]=null,h(u)&&(d[u]=null);else if(Ht(u)){u.value=null;const p=t;p.k&&(c[p.k]=null)}}if(Rn(l))Uy(l,s,12,[a,c]);else{const p=Yn(l),v=Ht(l);if(p||v){const g=()=>{if(n.f){const _=p?h(l)?d[l]:c[l]:l.value;if(o)dn(_)&&ak(_,i);else if(dn(_))_.includes(i)||_.push(i);else if(p)c[l]=[i],h(l)&&(d[l]=c[l]);else{const S=[i];l.value=S,n.k&&(c[n.k]=S)}}else p?(c[l]=a,h(l)&&(d[l]=a)):v&&(l.value=a,n.k&&(c[n.k]=a))};if(a){const _=()=>{g(),_x.delete(n)};_.id=-1,_x.set(n,_),Ii(_,e)}else nR(n),g()}}}function nR(n){const t=_x.get(n);t&&(t.flags|=8,_x.delete(n))}let rR=!1;const Vv=()=>{rR||(console.error("Hydration completed but contains mismatches."),rR=!0)},cne=n=>n.namespaceURI.includes("svg")&&n.tagName!=="foreignObject",dne=n=>n.namespaceURI.includes("MathML"),p1=n=>{if(n.nodeType===1){if(cne(n))return"svg";if(dne(n))return"mathml"}},yg=n=>n.nodeType===8;function fne(n){const{mt:t,p:e,o:{patchProp:r,createText:o,nextSibling:i,parentNode:a,remove:s,insert:l,createComment:u}}=n,c=(y,C)=>{if(!C.hasChildNodes()){e(null,y,C),wx(),C._vnode=y;return}d(C.firstChild,y,null,null,null),wx(),C._vnode=y},d=(y,C,T,P,F,I=!1)=>{I=I||!!C.dynamicChildren;const k=yg(y)&&y.data==="[",M=()=>v(y,C,T,P,F,k),{type:V,ref:U,shapeFlag:$,patchFlag:Q}=C;let J=y.nodeType;C.el=y,Q===-2&&(I=!1,C.dynamicChildren=null);let R=null;switch(V){case jf:J!==3?C.children===""?(l(C.el=o(""),a(y),y),R=y):R=M():(y.data!==C.children&&(Vv(),y.data=C.children),R=i(y));break;case fi:S(y)?(R=i(y),_(C.el=y.content.firstChild,y,T)):J!==8||k?R=M():R=i(y);break;case sm:if(k&&(y=i(y),J=y.nodeType),J===1||J===3){R=y;const ne=!C.children.length;for(let ue=0;ue<C.staticCount;ue++)ne&&(C.children+=R.nodeType===1?R.outerHTML:R.data),ue===C.staticCount-1&&(C.anchor=R),R=i(R);return k?i(R):R}else M();break;case ut:k?R=p(y,C,T,P,F,I):R=M();break;default:if($&1)(J!==1||C.type.toLowerCase()!==y.tagName.toLowerCase())&&!S(y)?R=M():R=f(y,C,T,P,F,I);else if($&6){C.slotScopeIds=F;const ne=a(y);if(k?R=g(y):yg(y)&&y.data==="teleport start"?R=g(y,y.data,"teleport end"):R=i(y),t(C,ne,null,T,P,p1(ne),I),Qf(C)&&!C.type.__asyncResolved){let ue;k?(ue=x(ut),ue.anchor=R?R.previousSibling:ne.lastChild):ue=y.nodeType===3?Je(""):x("div"),ue.el=y,C.component.subTree=ue}}else $&64?J!==8?R=M():R=C.type.hydrate(y,C,T,P,F,I,n,h):$&128&&(R=C.type.hydrate(y,C,T,P,p1(a(y)),F,I,n,d))}return U!=null&&Wg(U,null,P,C),R},f=(y,C,T,P,F,I)=>{I=I||!!C.dynamicChildren;const{type:k,props:M,patchFlag:V,shapeFlag:U,dirs:$,transition:Q}=C,J=k==="input"||k==="option";if(J||V!==-1){$&&md(C,null,T,"created");let R=!1;if(S(y)){R=J8(null,Q)&&T&&T.vnode.props&&T.vnode.props.appear;const ue=y.content.firstChild;if(R){const we=ue.getAttribute("class");we&&(ue.$cls=we),Q.beforeEnter(ue)}_(ue,y,T),C.el=y=ue}if(U&16&&!(M&&(M.innerHTML||M.textContent))){let ue=h(y.firstChild,C,y,T,P,F,I);for(;ue;){m1(y,1)||Vv();const we=ue;ue=ue.nextSibling,s(we)}}else if(U&8){let ue=C.children;ue[0]===`
`&&(y.tagName==="PRE"||y.tagName==="TEXTAREA")&&(ue=ue.slice(1));const{textContent:we}=y;we!==ue&&we!==ue.replace(/\r\n|\r/g,`
`)&&(m1(y,0)||Vv(),y.textContent=C.children)}if(M){if(J||!I||V&48){const ue=y.tagName.includes("-");for(const we in M)(J&&(we.endsWith("value")||we==="indeterminate")||Kh(we)&&!Ed(we)||we[0]==="."||ue&&!Ed(we))&&r(y,we,null,M[we],void 0,T)}else if(M.onClick)r(y,"onClick",null,M.onClick,void 0,T);else if(V&4&&Nu(M.style))for(const ue in M.style)M.style[ue]}let ne;(ne=M&&M.onVnodeBeforeMount)&&yl(ne,T,C),$&&md(C,null,T,"beforeMount"),((ne=M&&M.onVnodeMounted)||$||R)&&t6(()=>{ne&&yl(ne,T,C),R&&Q.enter(y),$&&md(C,null,T,"mounted")},P)}return y.nextSibling},h=(y,C,T,P,F,I,k)=>{k=k||!!C.dynamicChildren;const M=C.children,V=M.length;for(let U=0;U<V;U++){const $=k?M[U]:M[U]=Cl(M[U]),Q=$.type===jf;y?(Q&&!k&&U+1<V&&Cl(M[U+1]).type===jf&&(l(o(y.data.slice($.children.length)),T,i(y)),y.data=$.children),y=d(y,$,P,F,I,k)):Q&&!$.children?l($.el=o(""),T):(m1(T,1)||Vv(),e(null,$,T,null,P,F,p1(T),I))}return y},p=(y,C,T,P,F,I)=>{const{slotScopeIds:k}=C;k&&(F=F?F.concat(k):k);const M=a(y),V=h(i(y),C,M,T,P,F,I);return V&&yg(V)&&V.data==="]"?i(C.anchor=V):(Vv(),l(C.anchor=u("]"),M,V),V)},v=(y,C,T,P,F,I)=>{if(m1(y.parentElement,1)||Vv(),C.el=null,I){const V=g(y);for(;;){const U=i(y);if(U&&U!==V)s(U);else break}}const k=i(y),M=a(y);return s(y),e(null,C,M,k,T,P,p1(M),F),T&&(T.vnode.el=C.el,bk(T,C.el)),k},g=(y,C="[",T="]")=>{let P=0;for(;y;)if(y=i(y),y&&yg(y)&&(y.data===C&&P++,y.data===T)){if(P===0)return i(y);P--}return y},_=(y,C,T)=>{const P=C.parentNode;P&&P.replaceChild(y,C);let F=T;for(;F;)F.vnode.el===C&&(F.vnode.el=F.subTree.el=y),F=F.parent},S=y=>y.nodeType===1&&y.tagName==="TEMPLATE";return[c,d]}const oR="data-allow-mismatch",Ane={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function m1(n,t){if(t===0||t===1)for(;n&&!n.hasAttribute(oR);)n=n.parentElement;const e=n&&n.getAttribute(oR);if(e==null)return!1;if(e==="")return!0;{const r=e.split(",");return t===0&&r.includes("children")?!0:r.includes(Ane[t])}}const hne=C_().requestIdleCallback||(n=>setTimeout(n,1)),pne=C_().cancelIdleCallback||(n=>clearTimeout(n)),mne=(n=1e4)=>t=>{const e=hne(t,{timeout:n});return()=>pne(e)};function vne(n){const{top:t,left:e,bottom:r,right:o}=n.getBoundingClientRect(),{innerHeight:i,innerWidth:a}=window;return(t>0&&t<i||r>0&&r<i)&&(e>0&&e<a||o>0&&o<a)}const gne=n=>(t,e)=>{const r=new IntersectionObserver(o=>{for(const i of o)if(i.isIntersecting){r.disconnect(),t();break}},n);return e(o=>{if(o instanceof Element){if(vne(o))return t(),r.disconnect(),!1;r.observe(o)}}),()=>r.disconnect()},yne=n=>t=>{if(n){const e=matchMedia(n);if(e.matches)t();else return e.addEventListener("change",t,{once:!0}),()=>e.removeEventListener("change",t)}},bne=(n=[])=>(t,e)=>{Yn(n)&&(n=[n]);let r=!1;const o=a=>{r||(r=!0,i(),t(),a.target.dispatchEvent(new a.constructor(a.type,a)))},i=()=>{e(a=>{for(const s of n)a.removeEventListener(s,o)})};return e(a=>{for(const s of n)a.addEventListener(s,o,{once:!0})}),i};function wne(n,t){if(yg(n)&&n.data==="["){let e=1,r=n.nextSibling;for(;r;){if(r.nodeType===1){if(t(r)===!1)break}else if(yg(r))if(r.data==="]"){if(--e===0)break}else r.data==="["&&e++;r=r.nextSibling}}else t(n)}const Qf=n=>!!n.type.__asyncLoader;function _ne(n){Rn(n)&&(n={loader:n});const{loader:t,loadingComponent:e,errorComponent:r,delay:o=200,hydrate:i,timeout:a,suspensible:s=!0,onError:l}=n;let u=null,c,d=0;const f=()=>(d++,u=null,h()),h=()=>{let p;return u||(p=u=t().catch(v=>{if(v=v instanceof Error?v:new Error(String(v)),l)return new Promise((g,_)=>{l(v,()=>g(f()),()=>_(v),d+1)});throw v}).then(v=>p!==u&&u?u:(v&&(v.__esModule||v[Symbol.toStringTag]==="Module")&&(v=v.default),c=v,v)))};return rn({name:"AsyncComponentWrapper",__asyncLoader:h,__asyncHydrate(p,v,g){let _=!1;(v.bu||(v.bu=[])).push(()=>_=!0);const S=()=>{_||g()},y=i?()=>{const C=i(S,T=>wne(p,T));C&&(v.bum||(v.bum=[])).push(C)}:S;c?y():h().then(()=>!v.isUnmounted&&y())},get __asyncResolved(){return c},setup(){const p=Ia;if(JU(p),c)return()=>v1(c,p);const v=y=>{u=null,ev(y,p,13,!r)};if(s&&p.suspense||ay)return h().then(y=>()=>v1(y,p)).catch(y=>(v(y),()=>r?x(r,{error:y}):null));const g=Oe(!1),_=Oe(),S=Oe(!!o);return o&&setTimeout(()=>{S.value=!1},o),a!=null&&setTimeout(()=>{if(!g.value&&!_.value){const y=new Error(`Async component timed out after ${a}ms.`);v(y),_.value=y}},a),h().then(()=>{g.value=!0,p.parent&&k_(p.parent.vnode)&&p.parent.update()}).catch(y=>{v(y),_.value=y}),()=>{if(g.value&&c)return v1(c,p);if(_.value&&r)return x(r,{error:_.value});if(e&&!S.value)return v1(e,p)}}})}function v1(n,t){const{ref:e,props:r,children:o,ce:i}=t.vnode,a=x(n,r,o);return a.ref=e,a.ce=i,delete t.vnode.ce,a}const k_=n=>n.type.__isKeepAlive,Cne={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:t}){const e=fs(),r=e.ctx;if(!r.renderer)return()=>{const S=t.default&&t.default();return S&&S.length===1?S[0]:S};const o=new Map,i=new Set;let a=null;const s=e.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,f=d("div");r.activate=(S,y,C,T,P)=>{const F=S.component;u(S,y,C,0,s),l(F.vnode,S,y,C,F,s,T,S.slotScopeIds,P),Ii(()=>{F.isDeactivated=!1,F.a&&om(F.a);const I=S.props&&S.props.onVnodeMounted;I&&yl(I,F.parent,S)},s)},r.deactivate=S=>{const y=S.component;Sx(y.m),Sx(y.a),u(S,f,null,1,s),Ii(()=>{y.da&&om(y.da);const C=S.props&&S.props.onVnodeUnmounted;C&&yl(C,y.parent,S),y.isDeactivated=!0},s)};function h(S){tP(S),c(S,e,s,!0)}function p(S){o.forEach((y,C)=>{const T=LM(Qf(y)?y.type.__asyncResolved||{}:y.type);T&&!S(T)&&v(C)})}function v(S){const y=o.get(S);y&&(!a||!Sc(y,a))?h(y):a&&tP(a),o.delete(S),i.delete(S)}lt(()=>[n.include,n.exclude],([S,y])=>{S&&p(C=>nb(S,C)),y&&p(C=>!nb(y,C))},{flush:"post",deep:!0});let g=null;const _=()=>{g!=null&&(xx(e.subTree.type)?Ii(()=>{o.set(g,g1(e.subTree))},e.subTree.suspense):o.set(g,g1(e.subTree)))};return Kn(_),T_(_),Ti(()=>{o.forEach(S=>{const{subTree:y,suspense:C}=e,T=g1(y);if(S.type===T.type&&S.key===T.key){tP(T);const P=T.component.da;P&&Ii(P,C);return}h(S)})}),()=>{if(g=null,!t.default)return a=null;const S=t.default(),y=S[0];if(S.length>1)return a=null,S;if(!Td(y)||!(y.shapeFlag&4)&&!(y.shapeFlag&128))return a=null,y;let C=g1(y);if(C.type===fi)return a=null,C;const T=C.type,P=LM(Qf(C)?C.type.__asyncResolved||{}:T),{include:F,exclude:I,max:k}=n;if(F&&(!P||!nb(F,P))||I&&P&&nb(I,P))return C.shapeFlag&=-257,a=C,y;const M=C.key==null?T:C.key,V=o.get(M);return C.el&&(C=Mc(C),y.shapeFlag&128&&(y.ssContent=C)),g=M,V?(C.el=V.el,C.component=V.component,C.transition&&rA(C,C.transition),C.shapeFlag|=512,i.delete(M),i.add(M)):(i.add(M),k&&i.size>parseInt(k,10)&&v(i.values().next().value)),C.shapeFlag|=256,a=C,xx(y.type)?y:C}}},Sne=Cne;function nb(n,t){return dn(n)?n.some(e=>nb(e,t)):Yn(n)?n.split(",").includes(t):O5(n)?(n.lastIndex=0,n.test(t)):!1}function ZU(n,t){B8(n,"a",t)}function mk(n,t){B8(n,"da",t)}function B8(n,t,e=Ia){const r=n.__wdc||(n.__wdc=()=>{let o=e;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(vk(t,r,e),e){let o=e.parent;for(;o&&o.parent;)k_(o.parent.vnode)&&xne(r,t,e,o),o=o.parent}}function xne(n,t,e,r){const o=vk(t,n,r,!0);lu(()=>{ak(r[t],o)},e)}function tP(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function g1(n){return n.shapeFlag&128?n.ssContent:n}function vk(n,t,e=Ia,r=!1){if(e){const o=e[n]||(e[n]=[]),i=t.__weh||(t.__weh=(...a)=>{tA();const s=Bm(e),l=zu(t,e,n,a);return s(),nA(),l});return r?o.unshift(i):o.push(i),i}}const uA=n=>(t,e=Ia)=>{(!ay||n==="sp")&&vk(n,(...r)=>t(...r),e)},zh=uA("bm"),Kn=uA("m"),gk=uA("bu"),T_=uA("u"),Ti=uA("bum"),lu=uA("um"),k8=uA("sp"),T8=uA("rtg"),O8=uA("rtc");function P8(n,t=Ia){vk("ec",n,t)}const qU="components",Ene="directives";function eL(n,t){return nL(qU,n,!0,t)||n}const I8=Symbol.for("v-ndc");function tL(n){return Yn(n)?nL(qU,n,!1)||n:n||I8}function Bne(n){return nL(Ene,n)}function nL(n,t,e=!0,r=!1){const o=Fa||Ia;if(o){const i=o.type;if(n===qU){const s=LM(i,!1);if(s&&(s===t||s===to(t)||s===Dl(to(t))))return i}const a=iR(o[n]||i[n],t)||iR(o.appContext[n],t);return!a&&r?i:a}}function iR(n,t){return n&&(n[t]||n[to(t)]||n[Dl(to(t))])}function Wr(n,t,e,r){let o;const i=e&&e[r],a=dn(n);if(a||Yn(n)){const s=a&&Nu(n);let l=!1,u=!1;s&&(l=!Tl(n),u=kd(n),n=dk(n)),o=new Array(n.length);for(let c=0,d=n.length;c<d;c++)o[c]=t(l?u?oy(Ic(n[c])):Ic(n[c]):n[c],c,void 0,i&&i[c])}else if(typeof n=="number"){o=new Array(n);for(let s=0;s<n;s++)o[s]=t(s+1,s,void 0,i&&i[s])}else if(Qr(n))if(n[Symbol.iterator])o=Array.from(n,(s,l)=>t(s,l,void 0,i&&i[l]));else{const s=Object.keys(n);o=new Array(s.length);for(let l=0,u=s.length;l<u;l++){const c=s[l];o[l]=t(n[c],c,l,i&&i[l])}}else o=[];return e&&(e[r]=o),o}function cA(n,t){for(let e=0;e<t.length;e++){const r=t[e];if(dn(r))for(let o=0;o<r.length;o++)n[r[o].name]=r[o].fn;else r&&(n[r.name]=r.key?(...o)=>{const i=r.fn(...o);return i&&(i.key=r.key),i}:r.fn)}return n}function Ar(n,t,e={},r,o){if(Fa.ce||Fa.parent&&Qf(Fa.parent)&&Fa.parent.ce){const u=Object.keys(e).length>0;return t!=="default"&&(e.name=t),le(),Re(ut,null,[x("slot",e,r&&r())],u?-2:64)}let i=n[t];i&&i._c&&(i._d=!1),le();const a=i&&rL(i(e)),s=e.key||a&&a.key,l=Re(ut,{key:(s&&!Gs(s)?s:`_${t}`)+(!a&&r?"_fb":"")},a||(r?r():[]),a&&n._===1?64:-2);return!o&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function rL(n){return n.some(t=>Td(t)?!(t.type===fi||t.type===ut&&!rL(t.children)):!0)?n:null}function kne(n,t){const e={};for(const r in n)e[t&&/[A-Z]/.test(r)?`on:${r}`:rm(r)]=n[r];return e}const BM=n=>n?a6(n)?O_(n):BM(n.parent):null,kb=hr(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>BM(n.parent),$root:n=>BM(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>oL(n),$forceUpdate:n=>n.f||(n.f=()=>{GU(n.update)}),$nextTick:n=>n.n||(n.n=tr.bind(n.proxy)),$watch:n=>ane.bind(n)}),nP=(n,t)=>n!==yr&&!n.__isScriptSetup&&Nr(n,t),kM={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:r,data:o,props:i,accessCache:a,type:s,appContext:l}=n;if(t[0]!=="$"){const f=a[t];if(f!==void 0)switch(f){case 1:return r[t];case 2:return o[t];case 4:return e[t];case 3:return i[t]}else{if(nP(r,t))return a[t]=1,r[t];if(o!==yr&&Nr(o,t))return a[t]=2,o[t];if(Nr(i,t))return a[t]=3,i[t];if(e!==yr&&Nr(e,t))return a[t]=4,e[t];TM&&(a[t]=0)}}const u=kb[t];let c,d;if(u)return t==="$attrs"&&ts(n.attrs,"get",""),u(n);if((c=s.__cssModules)&&(c=c[t]))return c;if(e!==yr&&Nr(e,t))return a[t]=4,e[t];if(d=l.config.globalProperties,Nr(d,t))return d[t]},set({_:n},t,e){const{data:r,setupState:o,ctx:i}=n;return nP(o,t)?(o[t]=e,!0):r!==yr&&Nr(r,t)?(r[t]=e,!0):Nr(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(i[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:r,appContext:o,props:i,type:a}},s){let l;return!!(e[s]||n!==yr&&s[0]!=="$"&&Nr(n,s)||nP(t,s)||Nr(i,s)||Nr(r,s)||Nr(kb,s)||Nr(o.config.globalProperties,s)||(l=a.__cssModules)&&l[s])},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:Nr(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}},Tne=hr({},kM,{get(n,t){if(t!==Symbol.unscopables)return kM.get(n,t,n)},has(n,t){return t[0]!=="_"&&!VU(t)}});function One(){return null}function Pne(){return null}function Ine(n){}function Mne(n){}function Fne(){return null}function Dne(){}function Une(n,t){return null}function Lne(){return M8().slots}function Vne(){return M8().attrs}function M8(n){const t=fs();return t.setupContext||(t.setupContext=u6(t))}function hw(n){return dn(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}function Nne(n,t){const e=hw(n);for(const r in t){if(r.startsWith("__skip"))continue;let o=e[r];o?dn(o)||Rn(o)?o=e[r]={type:o,default:t[r]}:o.default=t[r]:o===null&&(o=e[r]={default:t[r]}),o&&t[`__skip_${r}`]&&(o.skipFactory=!0)}return e}function F8(n,t){return!n||!t?n||t:dn(n)&&dn(t)?n.concat(t):hr({},hw(n),hw(t))}function Rne(n,t){const e={};for(const r in n)t.includes(r)||Object.defineProperty(e,r,{enumerable:!0,get:()=>n[r]});return e}function Hne(n){const t=fs();let e=n();return FM(),sk(e)&&(e=e.catch(r=>{throw Bm(t),r})),[e,()=>Bm(t)]}let TM=!0;function Qne(n){const t=oL(n),e=n.proxy,r=n.ctx;TM=!1,t.beforeCreate&&aR(t.beforeCreate,n,"bc");const{data:o,computed:i,methods:a,watch:s,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:v,deactivated:g,beforeDestroy:_,beforeUnmount:S,destroyed:y,unmounted:C,render:T,renderTracked:P,renderTriggered:F,errorCaptured:I,serverPrefetch:k,expose:M,inheritAttrs:V,components:U,directives:$,filters:Q}=t;if(u&&jne(u,r,null),a)for(const ne in a){const ue=a[ne];Rn(ue)&&(r[ne]=ue.bind(e))}if(o){const ne=o.call(e,e);Qr(ne)&&(n.data=Di(ne))}if(TM=!0,i)for(const ne in i){const ue=i[ne],we=Rn(ue)?ue.bind(e,e):Rn(ue.get)?ue.get.bind(e,e):pa,Be=!Rn(ue)&&Rn(ue.set)?ue.set.bind(e):pa,We=ae({get:we,set:Be});Object.defineProperty(r,ne,{enumerable:!0,configurable:!0,get:()=>We.value,set:pe=>We.value=pe})}if(s)for(const ne in s)D8(s[ne],r,e,ne);if(l){const ne=Rn(l)?l.call(e):l;Reflect.ownKeys(ne).forEach(ue=>{no(ue,ne[ue])})}c&&aR(c,n,"c");function R(ne,ue){dn(ue)?ue.forEach(we=>ne(we.bind(e))):ue&&ne(ue.bind(e))}if(R(zh,d),R(Kn,f),R(gk,h),R(T_,p),R(ZU,v),R(mk,g),R(P8,I),R(O8,P),R(T8,F),R(Ti,S),R(lu,C),R(k8,k),dn(M))if(M.length){const ne=n.exposed||(n.exposed={});M.forEach(ue=>{Object.defineProperty(ne,ue,{get:()=>e[ue],set:we=>e[ue]=we,enumerable:!0})})}else n.exposed||(n.exposed={});T&&n.render===pa&&(n.render=T),V!=null&&(n.inheritAttrs=V),U&&(n.components=U),$&&(n.directives=$),k&&JU(n)}function jne(n,t,e=pa){dn(n)&&(n=OM(n));for(const r in n){const o=n[r];let i;Qr(o)?"default"in o?i=Hn(o.from||r,o.default,!0):i=Hn(o.from||r):i=Hn(o),Ht(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function aR(n,t,e){zu(dn(n)?n.map(r=>r.bind(t.proxy)):n.bind(t.proxy),t,e)}function D8(n,t,e,r){let o=r.includes(".")?v8(e,r):()=>e[r];if(Yn(n)){const i=t[n];Rn(i)&&lt(o,i)}else if(Rn(n))lt(o,n.bind(e));else if(Qr(n))if(dn(n))n.forEach(i=>D8(i,t,e,r));else{const i=Rn(n.handler)?n.handler.bind(e):t[n.handler];Rn(i)&&lt(o,i,n)}}function oL(n){const t=n.type,{mixins:e,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:a}}=n.appContext,s=i.get(t);let l;return s?l=s:!o.length&&!e&&!r?l=t:(l={},o.length&&o.forEach(u=>Cx(l,u,a,!0)),Cx(l,t,a)),Qr(t)&&i.set(t,l),l}function Cx(n,t,e,r=!1){const{mixins:o,extends:i}=t;i&&Cx(n,i,e,!0),o&&o.forEach(a=>Cx(n,a,e,!0));for(const a in t)if(!(r&&a==="expose")){const s=$ne[a]||e&&e[a];n[a]=s?s(n[a],t[a]):t[a]}return n}const $ne={data:sR,props:lR,emits:lR,methods:rb,computed:rb,beforeCreate:Ms,created:Ms,beforeMount:Ms,mounted:Ms,beforeUpdate:Ms,updated:Ms,beforeDestroy:Ms,beforeUnmount:Ms,destroyed:Ms,unmounted:Ms,activated:Ms,deactivated:Ms,errorCaptured:Ms,serverPrefetch:Ms,components:rb,directives:rb,watch:Wne,provide:sR,inject:Kne};function sR(n,t){return t?n?function(){return hr(Rn(n)?n.call(this,this):n,Rn(t)?t.call(this,this):t)}:t:n}function Kne(n,t){return rb(OM(n),OM(t))}function OM(n){if(dn(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function Ms(n,t){return n?[...new Set([].concat(n,t))]:t}function rb(n,t){return n?hr(Object.create(null),n,t):t}function lR(n,t){return n?dn(n)&&dn(t)?[...new Set([...n,...t])]:hr(Object.create(null),hw(n),hw(t??{})):t}function Wne(n,t){if(!n)return t;if(!t)return n;const e=hr(Object.create(null),n);for(const r in t)e[r]=Ms(n[r],t[r]);return e}function U8(){return{app:null,config:{isNativeTag:Hp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zne=0;function Gne(n,t){return function(r,o=null){Rn(r)||(r=hr({},r)),o!=null&&!Qr(o)&&(o=null);const i=U8(),a=new WeakSet,s=[];let l=!1;const u=i.app={_uid:zne++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:d6,get config(){return i.config},set config(c){},use(c,...d){return a.has(c)||(c&&Rn(c.install)?(a.add(c),c.install(u,...d)):Rn(c)&&(a.add(c),c(u,...d))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,d){return d?(i.components[c]=d,u):i.components[c]},directive(c,d){return d?(i.directives[c]=d,u):i.directives[c]},mount(c,d,f){if(!l){const h=u._ceVNode||x(r,o);return h.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(h,c):n(h,c,f),l=!0,u._container=c,c.__vue_app__=u,O_(h.component)}},onUnmount(c){s.push(c)},unmount(){l&&(zu(s,u._instance,16),n(null,u._container),delete u._container.__vue_app__)},provide(c,d){return i.provides[c]=d,u},runWithContext(c){const d=am;am=u;try{return c()}finally{am=d}}};return u}}let am=null;function L8(n,t,e=yr){const r=fs(),o=to(t),i=ns(t),a=V8(n,o),s=zU((l,u)=>{let c,d=yr,f;return m8(()=>{const h=n[o];es(c,h)&&(c=h,u())}),{get(){return l(),e.get?e.get(c):c},set(h){const p=e.set?e.set(h):h;if(!es(p,c)&&!(d!==yr&&es(h,d)))return;const v=r.vnode.props;v&&(t in v||o in v||i in v)&&(`onUpdate:${t}`in v||`onUpdate:${o}`in v||`onUpdate:${i}`in v)||(c=h,u()),r.emit(`update:${t}`,p),es(h,p)&&es(h,d)&&!es(p,f)&&u(),d=h,f=p}}});return s[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?a||yr:s,done:!1}:{done:!0}}}},s}const V8=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${to(t)}Modifiers`]||n[`${ns(t)}Modifiers`];function Yne(n,t,...e){if(n.isUnmounted)return;const r=n.vnode.props||yr;let o=e;const i=t.startsWith("update:"),a=i&&V8(r,t.slice(7));a&&(a.trim&&(o=e.map(c=>Yn(c)?c.trim():c)),a.number&&(o=e.map(__)));let s,l=r[s=rm(t)]||r[s=rm(to(t))];!l&&i&&(l=r[s=rm(ns(t))]),l&&zu(l,n,6,o);const u=r[s+"Once"];if(u){if(!n.emitted)n.emitted={};else if(n.emitted[s])return;n.emitted[s]=!0,zu(u,n,6,o)}}const Xne=new WeakMap;function N8(n,t,e=!1){const r=e?Xne:t.emitsCache,o=r.get(n);if(o!==void 0)return o;const i=n.emits;let a={},s=!1;if(!Rn(n)){const l=u=>{const c=N8(u,t,!0);c&&(s=!0,hr(a,c))};!e&&t.mixins.length&&t.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!i&&!s?(Qr(n)&&r.set(n,null),null):(dn(i)?i.forEach(l=>a[l]=null):hr(a,i),Qr(n)&&r.set(n,a),a)}function yk(n,t){return!n||!Kh(t)?!1:(t=t.slice(2).replace(/Once$/,""),Nr(n,t[0].toLowerCase()+t.slice(1))||Nr(n,ns(t))||Nr(n,t))}function kS(n){const{type:t,vnode:e,proxy:r,withProxy:o,propsOptions:[i],slots:a,attrs:s,emit:l,render:u,renderCache:c,props:d,data:f,setupState:h,ctx:p,inheritAttrs:v}=n,g=Aw(n);let _,S;try{if(e.shapeFlag&4){const C=o||r,T=C;_=Cl(u.call(T,C,c,d,h,f,p)),S=s}else{const C=t;_=Cl(C.length>1?C(d,{attrs:s,slots:a,emit:l}):C(d,null)),S=t.props?s:Zne(s)}}catch(C){Tb.length=0,ev(C,n,1),_=x(fi)}let y=_;if(S&&v!==!1){const C=Object.keys(S),{shapeFlag:T}=y;C.length&&T&7&&(i&&C.some(ik)&&(S=qne(S,i)),y=Mc(y,S,!1,!0))}return e.dirs&&(y=Mc(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(e.dirs):e.dirs),e.transition&&rA(y,e.transition),_=y,Aw(g),_}function Jne(n,t=!0){let e;for(let r=0;r<n.length;r++){const o=n[r];if(Td(o)){if(o.type!==fi||o.children==="v-if"){if(e)return;e=o}}else return}return e}const Zne=n=>{let t;for(const e in n)(e==="class"||e==="style"||Kh(e))&&((t||(t={}))[e]=n[e]);return t},qne=(n,t)=>{const e={};for(const r in n)(!ik(r)||!(r.slice(9)in t))&&(e[r]=n[r]);return e};function ere(n,t,e){const{props:r,children:o,component:i}=n,{props:a,children:s,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&l>=0){if(l&1024)return!0;if(l&16)return r?uR(r,a,u):!!a;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(a[f]!==r[f]&&!yk(u,f))return!0}}}else return(o||s)&&(!s||!s.$stable)?!0:r===a?!1:r?a?uR(r,a,u):!0:!!a;return!1}function uR(n,t,e){const r=Object.keys(t);if(r.length!==Object.keys(n).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==n[i]&&!yk(e,i))return!0}return!1}function bk({vnode:n,parent:t},e){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===n&&(r.el=n.el),r===n)(n=t.vnode).el=e,t=t.parent;else break}}const R8={},H8=()=>Object.create(R8),Q8=n=>Object.getPrototypeOf(n)===R8;function tre(n,t,e,r=!1){const o={},i=H8();n.propsDefaults=Object.create(null),j8(n,t,o,i);for(const a in n.propsOptions[0])a in o||(o[a]=void 0);e?n.props=r?o:KU(o):n.type.props?n.props=o:n.props=i,n.attrs=i}function nre(n,t,e,r){const{props:o,attrs:i,vnode:{patchFlag:a}}=n,s=wn(o),[l]=n.propsOptions;let u=!1;if((r||a>0)&&!(a&16)){if(a&8){const c=n.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(yk(n.emitsOptions,f))continue;const h=t[f];if(l)if(Nr(i,f))h!==i[f]&&(i[f]=h,u=!0);else{const p=to(f);o[p]=PM(l,s,p,h,n,!1)}else h!==i[f]&&(i[f]=h,u=!0)}}}else{j8(n,t,o,i)&&(u=!0);let c;for(const d in s)(!t||!Nr(t,d)&&((c=ns(d))===d||!Nr(t,c)))&&(l?e&&(e[d]!==void 0||e[c]!==void 0)&&(o[d]=PM(l,s,d,void 0,n,!0)):delete o[d]);if(i!==s)for(const d in i)(!t||!Nr(t,d))&&(delete i[d],u=!0)}u&&If(n.attrs,"set","")}function j8(n,t,e,r){const[o,i]=n.propsOptions;let a=!1,s;if(t)for(let l in t){if(Ed(l))continue;const u=t[l];let c;o&&Nr(o,c=to(l))?!i||!i.includes(c)?e[c]=u:(s||(s={}))[c]=u:yk(n.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,a=!0)}if(i){const l=wn(e),u=s||yr;for(let c=0;c<i.length;c++){const d=i[c];e[d]=PM(o,l,d,u[d],n,!Nr(u,d))}}return a}function PM(n,t,e,r,o,i){const a=n[e];if(a!=null){const s=Nr(a,"default");if(s&&r===void 0){const l=a.default;if(a.type!==Function&&!a.skipFactory&&Rn(l)){const{propsDefaults:u}=o;if(e in u)r=u[e];else{const c=Bm(o);r=u[e]=l.call(null,t),c()}}else r=l;o.ce&&o.ce._setProp(e,r)}a[0]&&(i&&!s?r=!1:a[1]&&(r===""||r===ns(e))&&(r=!0))}return r}const rre=new WeakMap;function $8(n,t,e=!1){const r=e?rre:t.propsCache,o=r.get(n);if(o)return o;const i=n.props,a={},s=[];let l=!1;if(!Rn(n)){const c=d=>{l=!0;const[f,h]=$8(d,t,!0);hr(a,f),h&&s.push(...h)};!e&&t.mixins.length&&t.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}if(!i&&!l)return Qr(n)&&r.set(n,tm),tm;if(dn(i))for(let c=0;c<i.length;c++){const d=to(i[c]);cR(d)&&(a[d]=yr)}else if(i)for(const c in i){const d=to(c);if(cR(d)){const f=i[c],h=a[d]=dn(f)||Rn(f)?{type:f}:hr({},f),p=h.type;let v=!1,g=!0;if(dn(p))for(let _=0;_<p.length;++_){const S=p[_],y=Rn(S)&&S.name;if(y==="Boolean"){v=!0;break}else y==="String"&&(g=!1)}else v=Rn(p)&&p.name==="Boolean";h[0]=v,h[1]=g,(v||Nr(h,"default"))&&s.push(d)}}const u=[a,s];return Qr(n)&&r.set(n,u),u}function cR(n){return n[0]!=="$"&&!Ed(n)}const iL=n=>n==="_"||n==="_ctx"||n==="$stable",aL=n=>dn(n)?n.map(Cl):[Cl(n)],ore=(n,t,e)=>{if(t._n)return t;const r=N((...o)=>aL(t(...o)),e);return r._c=!1,r},K8=(n,t,e)=>{const r=n._ctx;for(const o in n){if(iL(o))continue;const i=n[o];if(Rn(i))t[o]=ore(o,i,r);else if(i!=null){const a=aL(i);t[o]=()=>a}}},W8=(n,t)=>{const e=aL(t);n.slots.default=()=>e},z8=(n,t,e)=>{for(const r in t)(e||!iL(r))&&(n[r]=t[r])},ire=(n,t,e)=>{const r=n.slots=H8();if(n.vnode.shapeFlag&32){const o=t._;o?(z8(r,t,e),e&&LU(r,"_",o,!0)):K8(t,r)}else t&&W8(n,t)},are=(n,t,e)=>{const{vnode:r,slots:o}=n;let i=!0,a=yr;if(r.shapeFlag&32){const s=t._;s?e&&s===1?i=!1:z8(o,t,e):(i=!t.$stable,K8(t,o)),a=t}else t&&(W8(n,t),a={default:1});if(i)for(const s in o)!iL(s)&&a[s]==null&&delete o[s]},Ii=t6;function G8(n){return X8(n)}function Y8(n){return X8(n,fne)}function X8(n,t){const e=C_();e.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:a,createText:s,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:h=pa,insertStaticContent:p}=n,v=(ye,be,me,Ve=null,Ie=null,K=null,te=void 0,ee=null,Ae=!!be.dynamicChildren)=>{if(ye===be)return;ye&&!Sc(ye,be)&&(Ve=se(ye),pe(ye,Ie,K,!0),ye=null),be.patchFlag===-2&&(Ae=!1,be.dynamicChildren=null);const{type:xe,ref:he,shapeFlag:Pe}=be;switch(xe){case jf:g(ye,be,me,Ve);break;case fi:_(ye,be,me,Ve);break;case sm:ye==null&&S(be,me,Ve,te);break;case ut:U(ye,be,me,Ve,Ie,K,te,ee,Ae);break;default:Pe&1?T(ye,be,me,Ve,Ie,K,te,ee,Ae):Pe&6?$(ye,be,me,Ve,Ie,K,te,ee,Ae):(Pe&64||Pe&128)&&xe.process(ye,be,me,Ve,Ie,K,te,ee,Ae,nt)}he!=null&&Ie?Wg(he,ye&&ye.ref,K,be||ye,!be):he==null&&ye&&ye.ref!=null&&Wg(ye.ref,null,K,ye,!0)},g=(ye,be,me,Ve)=>{if(ye==null)r(be.el=s(be.children),me,Ve);else{const Ie=be.el=ye.el;be.children!==ye.children&&u(Ie,be.children)}},_=(ye,be,me,Ve)=>{ye==null?r(be.el=l(be.children||""),me,Ve):be.el=ye.el},S=(ye,be,me,Ve)=>{[ye.el,ye.anchor]=p(ye.children,be,me,Ve,ye.el,ye.anchor)},y=({el:ye,anchor:be},me,Ve)=>{let Ie;for(;ye&&ye!==be;)Ie=f(ye),r(ye,me,Ve),ye=Ie;r(be,me,Ve)},C=({el:ye,anchor:be})=>{let me;for(;ye&&ye!==be;)me=f(ye),o(ye),ye=me;o(be)},T=(ye,be,me,Ve,Ie,K,te,ee,Ae)=>{if(be.type==="svg"?te="svg":be.type==="math"&&(te="mathml"),ye==null)P(be,me,Ve,Ie,K,te,ee,Ae);else{const xe=ye.el&&ye.el._isVueCE?ye.el:null;try{xe&&xe._beginPatch(),k(ye,be,Ie,K,te,ee,Ae)}finally{xe&&xe._endPatch()}}},P=(ye,be,me,Ve,Ie,K,te,ee)=>{let Ae,xe;const{props:he,shapeFlag:Pe,transition:Ee,dirs:st}=ye;if(Ae=ye.el=a(ye.type,K,he&&he.is,he),Pe&8?c(Ae,ye.children):Pe&16&&I(ye.children,Ae,null,Ve,Ie,rP(ye,K),te,ee),st&&md(ye,null,Ve,"created"),F(Ae,ye,ye.scopeId,te,Ve),he){for(const Rt in he)Rt!=="value"&&!Ed(Rt)&&i(Ae,Rt,null,he[Rt],K,Ve);"value"in he&&i(Ae,"value",null,he.value,K),(xe=he.onVnodeBeforeMount)&&yl(xe,Ve,ye)}st&&md(ye,null,Ve,"beforeMount");const kt=J8(Ie,Ee);kt&&Ee.beforeEnter(Ae),r(Ae,be,me),((xe=he&&he.onVnodeMounted)||kt||st)&&Ii(()=>{xe&&yl(xe,Ve,ye),kt&&Ee.enter(Ae),st&&md(ye,null,Ve,"mounted")},Ie)},F=(ye,be,me,Ve,Ie)=>{if(me&&h(ye,me),Ve)for(let K=0;K<Ve.length;K++)h(ye,Ve[K]);if(Ie){let K=Ie.subTree;if(be===K||xx(K.type)&&(K.ssContent===be||K.ssFallback===be)){const te=Ie.vnode;F(ye,te,te.scopeId,te.slotScopeIds,Ie.parent)}}},I=(ye,be,me,Ve,Ie,K,te,ee,Ae=0)=>{for(let xe=Ae;xe<ye.length;xe++){const he=ye[xe]=ee?zA(ye[xe]):Cl(ye[xe]);v(null,he,be,me,Ve,Ie,K,te,ee)}},k=(ye,be,me,Ve,Ie,K,te)=>{const ee=be.el=ye.el;let{patchFlag:Ae,dynamicChildren:xe,dirs:he}=be;Ae|=ye.patchFlag&16;const Pe=ye.props||yr,Ee=be.props||yr;let st;if(me&&gp(me,!1),(st=Ee.onVnodeBeforeUpdate)&&yl(st,me,be,ye),he&&md(be,ye,me,"beforeUpdate"),me&&gp(me,!0),(Pe.innerHTML&&Ee.innerHTML==null||Pe.textContent&&Ee.textContent==null)&&c(ee,""),xe?M(ye.dynamicChildren,xe,ee,me,Ve,rP(be,Ie),K):te||ue(ye,be,ee,null,me,Ve,rP(be,Ie),K,!1),Ae>0){if(Ae&16)V(ee,Pe,Ee,me,Ie);else if(Ae&2&&Pe.class!==Ee.class&&i(ee,"class",null,Ee.class,Ie),Ae&4&&i(ee,"style",Pe.style,Ee.style,Ie),Ae&8){const kt=be.dynamicProps;for(let Rt=0;Rt<kt.length;Rt++){const Y=kt[Rt],ie=Pe[Y],G=Ee[Y];(G!==ie||Y==="value")&&i(ee,Y,ie,G,Ie,me)}}Ae&1&&ye.children!==be.children&&c(ee,be.children)}else!te&&xe==null&&V(ee,Pe,Ee,me,Ie);((st=Ee.onVnodeUpdated)||he)&&Ii(()=>{st&&yl(st,me,be,ye),he&&md(be,ye,me,"updated")},Ve)},M=(ye,be,me,Ve,Ie,K,te)=>{for(let ee=0;ee<be.length;ee++){const Ae=ye[ee],xe=be[ee],he=Ae.el&&(Ae.type===ut||!Sc(Ae,xe)||Ae.shapeFlag&198)?d(Ae.el):me;v(Ae,xe,he,null,Ve,Ie,K,te,!0)}},V=(ye,be,me,Ve,Ie)=>{if(be!==me){if(be!==yr)for(const K in be)!Ed(K)&&!(K in me)&&i(ye,K,be[K],null,Ie,Ve);for(const K in me){if(Ed(K))continue;const te=me[K],ee=be[K];te!==ee&&K!=="value"&&i(ye,K,ee,te,Ie,Ve)}"value"in me&&i(ye,"value",be.value,me.value,Ie)}},U=(ye,be,me,Ve,Ie,K,te,ee,Ae)=>{const xe=be.el=ye?ye.el:s(""),he=be.anchor=ye?ye.anchor:s("");let{patchFlag:Pe,dynamicChildren:Ee,slotScopeIds:st}=be;st&&(ee=ee?ee.concat(st):st),ye==null?(r(xe,me,Ve),r(he,me,Ve),I(be.children||[],me,he,Ie,K,te,ee,Ae)):Pe>0&&Pe&64&&Ee&&ye.dynamicChildren&&ye.dynamicChildren.length===Ee.length?(M(ye.dynamicChildren,Ee,me,Ie,K,te,ee),(be.key!=null||Ie&&be===Ie.subTree)&&sL(ye,be,!0)):ue(ye,be,me,he,Ie,K,te,ee,Ae)},$=(ye,be,me,Ve,Ie,K,te,ee,Ae)=>{be.slotScopeIds=ee,ye==null?be.shapeFlag&512?Ie.ctx.activate(be,me,Ve,te,Ae):Q(be,me,Ve,Ie,K,te,Ae):J(ye,be,Ae)},Q=(ye,be,me,Ve,Ie,K,te)=>{const ee=ye.component=i6(ye,Ve,Ie);if(k_(ye)&&(ee.ctx.renderer=nt),s6(ee,!1,te),ee.asyncDep){if(Ie&&Ie.registerDep(ee,R,te),!ye.el){const Ae=ee.subTree=x(fi);_(null,Ae,be,me),ye.placeholder=Ae.el}}else R(ee,ye,be,me,Ie,K,te)},J=(ye,be,me)=>{const Ve=be.component=ye.component;if(ere(ye,be,me))if(Ve.asyncDep&&!Ve.asyncResolved){ne(Ve,be,me);return}else Ve.next=be,Ve.update();else be.el=ye.el,Ve.vnode=be},R=(ye,be,me,Ve,Ie,K,te)=>{const ee=()=>{if(ye.isMounted){let{next:Pe,bu:Ee,u:st,parent:kt,vnode:Rt}=ye;{const De=Z8(ye);if(De){Pe&&(Pe.el=Rt.el,ne(ye,Pe,te)),De.asyncDep.then(()=>{ye.isUnmounted||ee()});return}}let Y=Pe,ie;gp(ye,!1),Pe?(Pe.el=Rt.el,ne(ye,Pe,te)):Pe=Rt,Ee&&om(Ee),(ie=Pe.props&&Pe.props.onVnodeBeforeUpdate)&&yl(ie,kt,Pe,Rt),gp(ye,!0);const G=kS(ye),He=ye.subTree;ye.subTree=G,v(He,G,d(He.el),se(He),ye,Ie,K),Pe.el=G.el,Y===null&&bk(ye,G.el),st&&Ii(st,Ie),(ie=Pe.props&&Pe.props.onVnodeUpdated)&&Ii(()=>yl(ie,kt,Pe,Rt),Ie)}else{let Pe;const{el:Ee,props:st}=be,{bm:kt,m:Rt,parent:Y,root:ie,type:G}=ye,He=Qf(be);if(gp(ye,!1),kt&&om(kt),!He&&(Pe=st&&st.onVnodeBeforeMount)&&yl(Pe,Y,be),gp(ye,!0),Ee&&ot){const De=()=>{ye.subTree=kS(ye),ot(Ee,ye.subTree,ye,Ie,null)};He&&G.__asyncHydrate?G.__asyncHydrate(Ee,ye,De):De()}else{ie.ce&&ie.ce._def.shadowRoot!==!1&&ie.ce._injectChildStyle(G);const De=ye.subTree=kS(ye);v(null,De,me,Ve,ye,Ie,K),be.el=De.el}if(Rt&&Ii(Rt,Ie),!He&&(Pe=st&&st.onVnodeMounted)){const De=be;Ii(()=>yl(Pe,Y,De),Ie)}(be.shapeFlag&256||Y&&Qf(Y.vnode)&&Y.vnode.shapeFlag&256)&&ye.a&&Ii(ye.a,Ie),ye.isMounted=!0,be=me=Ve=null}};ye.scope.on();const Ae=ye.effect=new lw(ee);ye.scope.off();const xe=ye.update=Ae.run.bind(Ae),he=ye.job=Ae.runIfDirty.bind(Ae);he.i=ye,he.id=ye.uid,Ae.scheduler=()=>GU(he),gp(ye,!0),xe()},ne=(ye,be,me)=>{be.component=ye;const Ve=ye.vnode.props;ye.vnode=be,ye.next=null,nre(ye,be.props,Ve,me),are(ye,be.children,me),tA(),JN(ye),nA()},ue=(ye,be,me,Ve,Ie,K,te,ee,Ae=!1)=>{const xe=ye&&ye.children,he=ye?ye.shapeFlag:0,Pe=be.children,{patchFlag:Ee,shapeFlag:st}=be;if(Ee>0){if(Ee&128){Be(xe,Pe,me,Ve,Ie,K,te,ee,Ae);return}else if(Ee&256){we(xe,Pe,me,Ve,Ie,K,te,ee,Ae);return}}st&8?(he&16&&Qe(xe,Ie,K),Pe!==xe&&c(me,Pe)):he&16?st&16?Be(xe,Pe,me,Ve,Ie,K,te,ee,Ae):Qe(xe,Ie,K,!0):(he&8&&c(me,""),st&16&&I(Pe,me,Ve,Ie,K,te,ee,Ae))},we=(ye,be,me,Ve,Ie,K,te,ee,Ae)=>{ye=ye||tm,be=be||tm;const xe=ye.length,he=be.length,Pe=Math.min(xe,he);let Ee;for(Ee=0;Ee<Pe;Ee++){const st=be[Ee]=Ae?zA(be[Ee]):Cl(be[Ee]);v(ye[Ee],st,me,null,Ie,K,te,ee,Ae)}xe>he?Qe(ye,Ie,K,!0,!1,Pe):I(be,me,Ve,Ie,K,te,ee,Ae,Pe)},Be=(ye,be,me,Ve,Ie,K,te,ee,Ae)=>{let xe=0;const he=be.length;let Pe=ye.length-1,Ee=he-1;for(;xe<=Pe&&xe<=Ee;){const st=ye[xe],kt=be[xe]=Ae?zA(be[xe]):Cl(be[xe]);if(Sc(st,kt))v(st,kt,me,null,Ie,K,te,ee,Ae);else break;xe++}for(;xe<=Pe&&xe<=Ee;){const st=ye[Pe],kt=be[Ee]=Ae?zA(be[Ee]):Cl(be[Ee]);if(Sc(st,kt))v(st,kt,me,null,Ie,K,te,ee,Ae);else break;Pe--,Ee--}if(xe>Pe){if(xe<=Ee){const st=Ee+1,kt=st<he?be[st].el:Ve;for(;xe<=Ee;)v(null,be[xe]=Ae?zA(be[xe]):Cl(be[xe]),me,kt,Ie,K,te,ee,Ae),xe++}}else if(xe>Ee)for(;xe<=Pe;)pe(ye[xe],Ie,K,!0),xe++;else{const st=xe,kt=xe,Rt=new Map;for(xe=kt;xe<=Ee;xe++){const ft=be[xe]=Ae?zA(be[xe]):Cl(be[xe]);ft.key!=null&&Rt.set(ft.key,xe)}let Y,ie=0;const G=Ee-kt+1;let He=!1,De=0;const rt=new Array(G);for(xe=0;xe<G;xe++)rt[xe]=0;for(xe=st;xe<=Pe;xe++){const ft=ye[xe];if(ie>=G){pe(ft,Ie,K,!0);continue}let gt;if(ft.key!=null)gt=Rt.get(ft.key);else for(Y=kt;Y<=Ee;Y++)if(rt[Y-kt]===0&&Sc(ft,be[Y])){gt=Y;break}gt===void 0?pe(ft,Ie,K,!0):(rt[gt-kt]=xe+1,gt>=De?De=gt:He=!0,v(ft,be[gt],me,null,Ie,K,te,ee,Ae),ie++)}const mt=He?sre(rt):tm;for(Y=mt.length-1,xe=G-1;xe>=0;xe--){const ft=kt+xe,gt=be[ft],St=be[ft+1],Tt=ft+1<he?St.el||q8(St):Ve;rt[xe]===0?v(null,gt,me,Tt,Ie,K,te,ee,Ae):He&&(Y<0||xe!==mt[Y]?We(gt,me,Tt,2):Y--)}}},We=(ye,be,me,Ve,Ie=null)=>{const{el:K,type:te,transition:ee,children:Ae,shapeFlag:xe}=ye;if(xe&6){We(ye.component.subTree,be,me,Ve);return}if(xe&128){ye.suspense.move(be,me,Ve);return}if(xe&64){te.move(ye,be,me,nt);return}if(te===ut){r(K,be,me);for(let Pe=0;Pe<Ae.length;Pe++)We(Ae[Pe],be,me,Ve);r(ye.anchor,be,me);return}if(te===sm){y(ye,be,me);return}if(Ve!==2&&xe&1&&ee)if(Ve===0)ee.beforeEnter(K),r(K,be,me),Ii(()=>ee.enter(K),Ie);else{const{leave:Pe,delayLeave:Ee,afterLeave:st}=ee,kt=()=>{ye.ctx.isUnmounted?o(K):r(K,be,me)},Rt=()=>{K._isLeaving&&K[Of](!0),Pe(K,()=>{kt(),st&&st()})};Ee?Ee(K,kt,Rt):Rt()}else r(K,be,me)},pe=(ye,be,me,Ve=!1,Ie=!1)=>{const{type:K,props:te,ref:ee,children:Ae,dynamicChildren:xe,shapeFlag:he,patchFlag:Pe,dirs:Ee,cacheIndex:st}=ye;if(Pe===-2&&(Ie=!1),ee!=null&&(tA(),Wg(ee,null,me,ye,!0),nA()),st!=null&&(be.renderCache[st]=void 0),he&256){be.ctx.deactivate(ye);return}const kt=he&1&&Ee,Rt=!Qf(ye);let Y;if(Rt&&(Y=te&&te.onVnodeBeforeUnmount)&&yl(Y,be,ye),he&6)ve(ye.component,me,Ve);else{if(he&128){ye.suspense.unmount(me,Ve);return}kt&&md(ye,null,be,"beforeUnmount"),he&64?ye.type.remove(ye,be,me,nt,Ve):xe&&!xe.hasOnce&&(K!==ut||Pe>0&&Pe&64)?Qe(xe,be,me,!1,!0):(K===ut&&Pe&384||!Ie&&he&16)&&Qe(Ae,be,me),Ve&&_e(ye)}(Rt&&(Y=te&&te.onVnodeUnmounted)||kt)&&Ii(()=>{Y&&yl(Y,be,ye),kt&&md(ye,null,be,"unmounted")},me)},_e=ye=>{const{type:be,el:me,anchor:Ve,transition:Ie}=ye;if(be===ut){Ce(me,Ve);return}if(be===sm){C(ye);return}const K=()=>{o(me),Ie&&!Ie.persisted&&Ie.afterLeave&&Ie.afterLeave()};if(ye.shapeFlag&1&&Ie&&!Ie.persisted){const{leave:te,delayLeave:ee}=Ie,Ae=()=>te(me,K);ee?ee(ye.el,K,Ae):Ae()}else K()},Ce=(ye,be)=>{let me;for(;ye!==be;)me=f(ye),o(ye),ye=me;o(be)},ve=(ye,be,me)=>{const{bum:Ve,scope:Ie,job:K,subTree:te,um:ee,m:Ae,a:xe}=ye;Sx(Ae),Sx(xe),Ve&&om(Ve),Ie.stop(),K&&(K.flags|=8,pe(te,ye,be,me)),ee&&Ii(ee,be),Ii(()=>{ye.isUnmounted=!0},be)},Qe=(ye,be,me,Ve=!1,Ie=!1,K=0)=>{for(let te=K;te<ye.length;te++)pe(ye[te],be,me,Ve,Ie)},se=ye=>{if(ye.shapeFlag&6)return se(ye.component.subTree);if(ye.shapeFlag&128)return ye.suspense.next();const be=f(ye.anchor||ye.el),me=be&&be[g8];return me?f(me):be};let Te=!1;const je=(ye,be,me)=>{let Ve;ye==null?be._vnode&&(pe(be._vnode,null,null,!0),Ve=be._vnode.component):v(be._vnode||null,ye,be,null,null,null,me),be._vnode=ye,Te||(Te=!0,JN(Ve),wx(),Te=!1)},nt={p:v,um:pe,m:We,r:_e,mt:Q,mc:I,pc:ue,pbc:M,n:se,o:n};let tt,ot;return t&&([tt,ot]=t(nt)),{render:je,hydrate:tt,createApp:Gne(je,tt)}}function rP({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function gp({effect:n,job:t},e){e?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function J8(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function sL(n,t,e=!1){const r=n.children,o=t.children;if(dn(r)&&dn(o))for(let i=0;i<r.length;i++){const a=r[i];let s=o[i];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=o[i]=zA(o[i]),s.el=a.el),!e&&s.patchFlag!==-2&&sL(a,s)),s.type===jf&&(s.patchFlag!==-1?s.el=a.el:s.__elIndex=i+(n.type===ut?1:0)),s.type===fi&&!s.el&&(s.el=a.el)}}function sre(n){const t=n.slice(),e=[0];let r,o,i,a,s;const l=n.length;for(r=0;r<l;r++){const u=n[r];if(u!==0){if(o=e[e.length-1],n[o]<u){t[r]=o,e.push(r);continue}for(i=0,a=e.length-1;i<a;)s=i+a>>1,n[e[s]]<u?i=s+1:a=s;u<n[e[i]]&&(i>0&&(t[r]=e[i-1]),e[i]=r)}}for(i=e.length,a=e[i-1];i-- >0;)e[i]=a,a=t[a];return e}function Z8(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Z8(t)}function Sx(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}function q8(n){if(n.placeholder)return n.placeholder;const t=n.component;return t?q8(t.subTree):null}const xx=n=>n.__isSuspense;let IM=0;const lre={name:"Suspense",__isSuspense:!0,process(n,t,e,r,o,i,a,s,l,u){if(n==null)cre(t,e,r,o,i,a,s,l,u);else{if(i&&i.deps>0&&!n.suspense.isInFallback){t.suspense=n.suspense,t.suspense.vnode=t,t.el=n.el;return}dre(n,t,e,r,o,a,s,l,u)}},hydrate:fre,normalize:Are},ure=lre;function pw(n,t){const e=n.props&&n.props[t];Rn(e)&&e()}function cre(n,t,e,r,o,i,a,s,l){const{p:u,o:{createElement:c}}=l,d=c("div"),f=n.suspense=e6(n,o,r,t,d,e,i,a,s,l);u(null,f.pendingBranch=n.ssContent,d,null,r,f,i,a),f.deps>0?(pw(n,"onPending"),pw(n,"onFallback"),u(null,n.ssFallback,t,e,r,null,i,a),zg(f,n.ssFallback)):f.resolve(!1,!0)}function dre(n,t,e,r,o,i,a,s,{p:l,um:u,o:{createElement:c}}){const d=t.suspense=n.suspense;d.vnode=t,t.el=n.el;const f=t.ssContent,h=t.ssFallback,{activeBranch:p,pendingBranch:v,isInFallback:g,isHydrating:_}=d;if(v)d.pendingBranch=f,Sc(v,f)?(l(v,f,d.hiddenContainer,null,o,d,i,a,s),d.deps<=0?d.resolve():g&&(_||(l(p,h,e,r,o,null,i,a,s),zg(d,h)))):(d.pendingId=IM++,_?(d.isHydrating=!1,d.activeBranch=v):u(v,o,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),g?(l(null,f,d.hiddenContainer,null,o,d,i,a,s),d.deps<=0?d.resolve():(l(p,h,e,r,o,null,i,a,s),zg(d,h))):p&&Sc(p,f)?(l(p,f,e,r,o,d,i,a,s),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,o,d,i,a,s),d.deps<=0&&d.resolve()));else if(p&&Sc(p,f))l(p,f,e,r,o,d,i,a,s),zg(d,f);else if(pw(t,"onPending"),d.pendingBranch=f,f.shapeFlag&512?d.pendingId=f.component.suspenseId:d.pendingId=IM++,l(null,f,d.hiddenContainer,null,o,d,i,a,s),d.deps<=0)d.resolve();else{const{timeout:S,pendingId:y}=d;S>0?setTimeout(()=>{d.pendingId===y&&d.fallback(h)},S):S===0&&d.fallback(h)}}function e6(n,t,e,r,o,i,a,s,l,u,c=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:v,remove:g}}=u;let _;const S=hre(n);S&&t&&t.pendingBranch&&(_=t.pendingId,t.deps++);const y=n.props?sw(n.props.timeout):void 0,C=i,T={vnode:n,parent:t,parentComponent:e,namespace:a,container:r,hiddenContainer:o,deps:0,pendingId:IM++,timeout:typeof y=="number"?y:-1,activeBranch:null,pendingBranch:null,isInFallback:!c,isHydrating:c,isUnmounted:!1,effects:[],resolve(P=!1,F=!1){const{vnode:I,activeBranch:k,pendingBranch:M,pendingId:V,effects:U,parentComponent:$,container:Q,isInFallback:J}=T;let R=!1;T.isHydrating?T.isHydrating=!1:P||(R=k&&M.transition&&M.transition.mode==="out-in",R&&(k.transition.afterLeave=()=>{V===T.pendingId&&(f(M,Q,i===C?p(k):i,0),dw(U),J&&I.ssFallback&&(I.ssFallback.el=null))}),k&&(v(k.el)===Q&&(i=p(k)),h(k,$,T,!0),!R&&J&&I.ssFallback&&Ii(()=>I.ssFallback.el=null,T)),R||f(M,Q,i,0)),zg(T,M),T.pendingBranch=null,T.isInFallback=!1;let ne=T.parent,ue=!1;for(;ne;){if(ne.pendingBranch){ne.effects.push(...U),ue=!0;break}ne=ne.parent}!ue&&!R&&dw(U),T.effects=[],S&&t&&t.pendingBranch&&_===t.pendingId&&(t.deps--,t.deps===0&&!F&&t.resolve()),pw(I,"onResolve")},fallback(P){if(!T.pendingBranch)return;const{vnode:F,activeBranch:I,parentComponent:k,container:M,namespace:V}=T;pw(F,"onFallback");const U=p(I),$=()=>{T.isInFallback&&(d(null,P,M,U,k,null,V,s,l),zg(T,P))},Q=P.transition&&P.transition.mode==="out-in";Q&&(I.transition.afterLeave=$),T.isInFallback=!0,h(I,k,null,!0),Q||$()},move(P,F,I){T.activeBranch&&f(T.activeBranch,P,F,I),T.container=P},next(){return T.activeBranch&&p(T.activeBranch)},registerDep(P,F,I){const k=!!T.pendingBranch;k&&T.deps++;const M=P.vnode.el;P.asyncDep.catch(V=>{ev(V,P,0)}).then(V=>{if(P.isUnmounted||T.isUnmounted||T.pendingId!==P.suspenseId)return;P.asyncResolved=!0;const{vnode:U}=P;DM(P,V,!1),M&&(U.el=M);const $=!M&&P.subTree.el;F(P,U,v(M||P.subTree.el),M?null:p(P.subTree),T,a,I),$&&(U.placeholder=null,g($)),bk(P,U.el),k&&--T.deps===0&&T.resolve()})},unmount(P,F){T.isUnmounted=!0,T.activeBranch&&h(T.activeBranch,e,P,F),T.pendingBranch&&h(T.pendingBranch,e,P,F)}};return T}function fre(n,t,e,r,o,i,a,s,l){const u=t.suspense=e6(t,r,e,n.parentNode,document.createElement("div"),null,o,i,a,s,!0),c=l(n,u.pendingBranch=t.ssContent,e,u,i,a);return u.deps===0&&u.resolve(!1,!0),c}function Are(n){const{shapeFlag:t,children:e}=n,r=t&32;n.ssContent=dR(r?e.default:e),n.ssFallback=r?dR(e.fallback):x(fi)}function dR(n){let t;if(Rn(n)){const e=Em&&n._c;e&&(n._d=!1,le()),n=n(),e&&(n._d=!0,t=as,n6())}return dn(n)&&(n=Jne(n)),n=Cl(n),t&&!n.dynamicChildren&&(n.dynamicChildren=t.filter(e=>e!==n)),n}function t6(n,t){t&&t.pendingBranch?dn(n)?t.effects.push(...n):t.effects.push(n):dw(n)}function zg(n,t){n.activeBranch=t;const{vnode:e,parentComponent:r}=n;let o=t.el;for(;!o&&t.component;)t=t.component.subTree,o=t.el;e.el=o,r&&r.subTree===e&&(r.vnode.el=o,bk(r,o))}function hre(n){const t=n.props&&n.props.suspensible;return t!=null&&t!==!1}const ut=Symbol.for("v-fgt"),jf=Symbol.for("v-txt"),fi=Symbol.for("v-cmt"),sm=Symbol.for("v-stc"),Tb=[];let as=null;function le(n=!1){Tb.push(as=n?null:[])}function n6(){Tb.pop(),as=Tb[Tb.length-1]||null}let Em=1;function mw(n,t=!1){Em+=n,n<0&&as&&t&&(as.hasOnce=!0)}function r6(n){return n.dynamicChildren=Em>0?as||tm:null,n6(),Em>0&&as&&as.push(n),n}function et(n,t,e,r,o,i){return r6(H(n,t,e,r,o,i,!0))}function Re(n,t,e,r,o){return r6(x(n,t,e,r,o,!0))}function Td(n){return n?n.__v_isVNode===!0:!1}function Sc(n,t){return n.type===t.type&&n.key===t.key}function pre(n){}const o6=({key:n})=>n??null,TS=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?Yn(n)||Ht(n)||Rn(n)?{i:Fa,r:n,k:t,f:!!e}:n:null);function H(n,t=null,e=null,r=0,o=null,i=n===ut?0:1,a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&o6(t),ref:t&&TS(t),scopeId:hk,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Fa};return s?(lL(l,e),i&128&&n.normalize(l)):e&&(l.shapeFlag|=Yn(e)?8:16),Em>0&&!a&&as&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&as.push(l),l}const x=mre;function mre(n,t=null,e=null,r=0,o=null,i=!1){if((!n||n===I8)&&(n=fi),Td(n)){const s=Mc(n,t,!0);return e&&lL(s,e),Em>0&&!i&&as&&(s.shapeFlag&6?as[as.indexOf(n)]=s:as.push(s)),s.patchFlag=-2,s}if(Sre(n)&&(n=n.__vccOpts),t){t=Dh(t);let{class:s,style:l}=t;s&&!Yn(s)&&(t.class=pt(s)),Qr(l)&&(x_(l)&&!dn(l)&&(l=hr({},l)),t.style=Ue(l))}const a=Yn(n)?1:xx(n)?128:y8(n)?64:Qr(n)?4:Rn(n)?2:0;return H(n,t,e,r,o,a,i,!0)}function Dh(n){return n?x_(n)||Q8(n)?hr({},n):n:null}function Mc(n,t,e=!1,r=!1){const{props:o,ref:i,patchFlag:a,children:s,transition:l}=n,u=t?bt(o||{},t):o,c={__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&o6(u),ref:t&&t.ref?e&&i?dn(i)?i.concat(TS(t)):[i,TS(t)]:TS(t):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:s,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==ut?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&Mc(n.ssContent),ssFallback:n.ssFallback&&Mc(n.ssFallback),placeholder:n.placeholder,el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&r&&rA(c,l.clone(c)),c}function Je(n=" ",t=0){return x(jf,null,n,t)}function vre(n,t){const e=x(sm,null,n);return e.staticCount=t,e}function xt(n="",t=!1){return t?(le(),Re(fi,null,n)):x(fi,null,n)}function Cl(n){return n==null||typeof n=="boolean"?x(fi):dn(n)?x(ut,null,n.slice()):Td(n)?zA(n):x(jf,null,String(n))}function zA(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:Mc(n)}function lL(n,t){let e=0;const{shapeFlag:r}=n;if(t==null)t=null;else if(dn(t))e=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),lL(n,o()),o._c&&(o._d=!0));return}else{e=32;const o=t._;!o&&!Q8(t)?t._ctx=Fa:o===3&&Fa&&(Fa.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else Rn(t)?(t={default:t,_ctx:Fa},e=32):(t=String(t),r&64?(e=16,t=[Je(t)]):e=8);n.children=t,n.shapeFlag|=e}function bt(...n){const t={};for(let e=0;e<n.length;e++){const r=n[e];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=pt([t.class,r.class]));else if(o==="style")t.style=Ue([t.style,r.style]);else if(Kh(o)){const i=t[o],a=r[o];a&&i!==a&&!(dn(i)&&i.includes(a))&&(t[o]=i?[].concat(i,a):a)}else o!==""&&(t[o]=r[o])}return t}function yl(n,t,e,r=null){zu(n,t,7,[e,r])}const gre=U8();let yre=0;function i6(n,t,e){const r=n.type,o=(t?t.appContext:n.appContext)||gre,i={uid:yre++,vnode:n,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new HU(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$8(r,o),emitsOptions:N8(r,o),emit:null,emitted:null,propsDefaults:yr,inheritAttrs:r.inheritAttrs,ctx:yr,data:yr,props:yr,attrs:yr,slots:yr,refs:yr,setupState:yr,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Yne.bind(null,i),n.ce&&n.ce(i),i}let Ia=null;const fs=()=>Ia||Fa;let Ex,MM;{const n=C_(),t=(e,r)=>{let o;return(o=n[e])||(o=n[e]=[]),o.push(r),i=>{o.length>1?o.forEach(a=>a(i)):o[0](i)}};Ex=t("__VUE_INSTANCE_SETTERS__",e=>Ia=e),MM=t("__VUE_SSR_SETTERS__",e=>ay=e)}const Bm=n=>{const t=Ia;return Ex(n),n.scope.on(),()=>{n.scope.off(),Ex(t)}},FM=()=>{Ia&&Ia.scope.off(),Ex(null)};function a6(n){return n.vnode.shapeFlag&4}let ay=!1;function s6(n,t=!1,e=!1){t&&MM(t);const{props:r,children:o}=n.vnode,i=a6(n);tre(n,r,i,t),ire(n,o,e||t);const a=i?bre(n,t):void 0;return t&&MM(!1),a}function bre(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,kM);const{setup:r}=e;if(r){tA();const o=n.setupContext=r.length>1?u6(n):null,i=Bm(n),a=Uy(r,n,0,[n.props,o]),s=sk(a);if(nA(),i(),(s||n.sp)&&!Qf(n)&&JU(n),s){if(a.then(FM,FM),t)return a.then(l=>{DM(n,l,t)}).catch(l=>{ev(l,n,0)});n.asyncDep=a}else DM(n,a,t)}else l6(n,t)}function DM(n,t,e){Rn(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:Qr(t)&&(n.setupState=WU(t)),l6(n,e)}let Bx,UM;function wre(n){Bx=n,UM=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,Tne))}}const _re=()=>!Bx;function l6(n,t,e){const r=n.type;if(!n.render){if(!t&&Bx&&!r.render){const o=r.template||oL(n).template;if(o){const{isCustomElement:i,compilerOptions:a}=n.appContext.config,{delimiters:s,compilerOptions:l}=r,u=hr(hr({isCustomElement:i,delimiters:s},a),l);r.render=Bx(o,u)}}n.render=r.render||pa,UM&&UM(n)}{const o=Bm(n);tA();try{Qne(n)}finally{nA(),o()}}}const Cre={get(n,t){return ts(n,"get",""),n[t]}};function u6(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,Cre),slots:n.slots,emit:n.emit,expose:t}}function O_(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(WU(qm(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in kb)return kb[e](n)},has(t,e){return e in t||e in kb}})):n.proxy}function LM(n,t=!0){return Rn(n)?n.displayName||n.name:n.name||t&&n.__name}function Sre(n){return Rn(n)&&"__vccOpts"in n}const ae=(n,t)=>$te(n,t,ay);function uu(n,t,e){try{mw(-1);const r=arguments.length;return r===2?Qr(t)&&!dn(t)?Td(t)?x(n,null,[t]):x(n,t):x(n,null,t):(r>3?e=Array.prototype.slice.call(arguments,2):r===3&&Td(e)&&(e=[e]),x(n,t,e))}finally{mw(1)}}function xre(){}function Ere(n,t,e,r){const o=e[r];if(o&&c6(o,n))return o;const i=t();return i.memo=n.slice(),i.cacheIndex=r,e[r]=i}function c6(n,t){const e=n.memo;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(es(e[r],t[r]))return!1;return Em>0&&as&&as.push(n),!0}const d6="3.5.27",Bre=pa,kre=qte,Tre=lg,Ore=f8,Pre={createComponentInstance:i6,setupComponent:s6,renderComponentRoot:kS,setCurrentRenderingInstance:Aw,isVNode:Td,normalizeVNode:Cl,getComponentPublicInstance:O_,ensureValidVNode:rL,pushWarningContext:Yte,popWarningContext:Xte},Ire=Pre,Mre=null,Fre=null,Dre=null;/**
* @vue/runtime-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let VM;const fR=typeof window<"u"&&window.trustedTypes;if(fR)try{VM=fR.createPolicy("vue",{createHTML:n=>n})}catch{}const f6=VM?n=>VM.createHTML(n):n=>n,Ure="http://www.w3.org/2000/svg",Lre="http://www.w3.org/1998/Math/MathML",xf=typeof document<"u"?document:null,AR=xf&&xf.createElement("template"),A6={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,r)=>{const o=t==="svg"?xf.createElementNS(Ure,n):t==="mathml"?xf.createElementNS(Lre,n):e?xf.createElement(n,{is:e}):xf.createElement(n);return n==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:n=>xf.createTextNode(n),createComment:n=>xf.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>xf.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,r,o,i){const a=e?e.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),e),!(o===i||!(o=o.nextSibling)););else{AR.innerHTML=f6(r==="svg"?`<svg>${n}</svg>`:r==="mathml"?`<math>${n}</math>`:n);const s=AR.content;if(r==="svg"||r==="mathml"){const l=s.firstChild;for(;l.firstChild;)s.appendChild(l.firstChild);s.removeChild(l)}t.insertBefore(s,e)}return[a?a.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},DA="transition",F0="animation",sy=Symbol("_vtc"),h6={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},p6=hr({},XU,h6),Vre=n=>(n.displayName="Transition",n.props=p6,n),oA=Vre((n,{slots:t})=>uu(x8,m6(n),t)),yp=(n,t=[])=>{dn(n)?n.forEach(e=>e(...t)):n&&n(...t)},hR=n=>n?dn(n)?n.some(t=>t.length>1):n.length>1:!1;function m6(n){const t={};for(const U in n)U in h6||(t[U]=n[U]);if(n.css===!1)return t;const{name:e="v",type:r,duration:o,enterFromClass:i=`${e}-enter-from`,enterActiveClass:a=`${e}-enter-active`,enterToClass:s=`${e}-enter-to`,appearFromClass:l=i,appearActiveClass:u=a,appearToClass:c=s,leaveFromClass:d=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:h=`${e}-leave-to`}=n,p=Nre(o),v=p&&p[0],g=p&&p[1],{onBeforeEnter:_,onEnter:S,onEnterCancelled:y,onLeave:C,onLeaveCancelled:T,onBeforeAppear:P=_,onAppear:F=S,onAppearCancelled:I=y}=t,k=(U,$,Q,J)=>{U._enterCancelled=J,NA(U,$?c:s),NA(U,$?u:a),Q&&Q()},M=(U,$)=>{U._isLeaving=!1,NA(U,d),NA(U,h),NA(U,f),$&&$()},V=U=>($,Q)=>{const J=U?F:S,R=()=>k($,U,Q);yp(J,[$,R]),pR(()=>{NA($,U?l:i),fd($,U?c:s),hR(J)||mR($,r,v,R)})};return hr(t,{onBeforeEnter(U){yp(_,[U]),fd(U,i),fd(U,a)},onBeforeAppear(U){yp(P,[U]),fd(U,l),fd(U,u)},onEnter:V(!1),onAppear:V(!0),onLeave(U,$){U._isLeaving=!0;const Q=()=>M(U,$);fd(U,d),U._enterCancelled?(fd(U,f),NM(U)):(NM(U),fd(U,f)),pR(()=>{U._isLeaving&&(NA(U,d),fd(U,h),hR(C)||mR(U,r,g,Q))}),yp(C,[U,Q])},onEnterCancelled(U){k(U,!1,void 0,!0),yp(y,[U])},onAppearCancelled(U){k(U,!0,void 0,!0),yp(I,[U])},onLeaveCancelled(U){M(U),yp(T,[U])}})}function Nre(n){if(n==null)return null;if(Qr(n))return[oP(n.enter),oP(n.leave)];{const t=oP(n);return[t,t]}}function oP(n){return sw(n)}function fd(n,t){t.split(/\s+/).forEach(e=>e&&n.classList.add(e)),(n[sy]||(n[sy]=new Set)).add(t)}function NA(n,t){t.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const e=n[sy];e&&(e.delete(t),e.size||(n[sy]=void 0))}function pR(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let Rre=0;function mR(n,t,e,r){const o=n._endId=++Rre,i=()=>{o===n._endId&&r()};if(e!=null)return setTimeout(i,e);const{type:a,timeout:s,propCount:l}=v6(n,t);if(!a)return r();const u=a+"end";let c=0;const d=()=>{n.removeEventListener(u,f),i()},f=h=>{h.target===n&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},s+1),n.addEventListener(u,f)}function v6(n,t){const e=window.getComputedStyle(n),r=p=>(e[p]||"").split(", "),o=r(`${DA}Delay`),i=r(`${DA}Duration`),a=vR(o,i),s=r(`${F0}Delay`),l=r(`${F0}Duration`),u=vR(s,l);let c=null,d=0,f=0;t===DA?a>0&&(c=DA,d=a,f=i.length):t===F0?u>0&&(c=F0,d=u,f=l.length):(d=Math.max(a,u),c=d>0?a>u?DA:F0:null,f=c?c===DA?i.length:l.length:0);const h=c===DA&&/\b(?:transform|all)(?:,|$)/.test(r(`${DA}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:h}}function vR(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((e,r)=>gR(e)+gR(n[r])))}function gR(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function NM(n){return(n?n.ownerDocument:document).body.offsetHeight}function Hre(n,t,e){const r=n[sy];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const kx=Symbol("_vod"),g6=Symbol("_vsh"),Ju={name:"show",beforeMount(n,{value:t},{transition:e}){n[kx]=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):D0(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:r}){!t!=!e&&(r?t?(r.beforeEnter(n),D0(n,!0),r.enter(n)):r.leave(n,()=>{D0(n,!1)}):D0(n,t))},beforeUnmount(n,{value:t}){D0(n,t)}};function D0(n,t){n.style.display=t?n[kx]:"none",n[g6]=!t}function Qre(){Ju.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}const y6=Symbol("");function jre(n){const t=fs();if(!t)return;const e=t.ut=(o=n(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(i=>Tx(i,o))},r=()=>{const o=n(t.proxy);t.ce?Tx(t.ce,o):RM(t.subTree,o),e(o)};gk(()=>{dw(r)}),Kn(()=>{lt(r,pa,{flush:"post"});const o=new MutationObserver(r);o.observe(t.subTree.el.parentNode,{childList:!0}),lu(()=>o.disconnect())})}function RM(n,t){if(n.shapeFlag&128){const e=n.suspense;n=e.activeBranch,e.pendingBranch&&!e.isHydrating&&e.effects.push(()=>{RM(e.activeBranch,t)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)Tx(n.el,t);else if(n.type===ut)n.children.forEach(e=>RM(e,t));else if(n.type===sm){let{el:e,anchor:r}=n;for(;e&&(Tx(e,t),e!==r);)e=e.nextSibling}}function Tx(n,t){if(n.nodeType===1){const e=n.style;let r="";for(const o in t){const i=j5(t[o]);e.setProperty(`--${o}`,i),r+=`--${o}: ${i};`}e[y6]=r}}const $re=/(?:^|;)\s*display\s*:/;function Kre(n,t,e){const r=n.style,o=Yn(e);let i=!1;if(e&&!o){if(t)if(Yn(t))for(const a of t.split(";")){const s=a.slice(0,a.indexOf(":")).trim();e[s]==null&&OS(r,s,"")}else for(const a in t)e[a]==null&&OS(r,a,"");for(const a in e)a==="display"&&(i=!0),OS(r,a,e[a])}else if(o){if(t!==e){const a=r[y6];a&&(e+=";"+a),r.cssText=e,i=$re.test(e)}}else t&&n.removeAttribute("style");kx in n&&(n[kx]=i?r.display:"",n[g6]&&(r.display="none"))}const yR=/\s*!important$/;function OS(n,t,e){if(dn(e))e.forEach(r=>OS(n,t,r));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const r=Wre(n,t);yR.test(e)?n.setProperty(ns(r),e.replace(yR,""),"important"):n[r]=e}}const bR=["Webkit","Moz","ms"],iP={};function Wre(n,t){const e=iP[t];if(e)return e;let r=to(t);if(r!=="filter"&&r in n)return iP[t]=r;r=Dl(r);for(let o=0;o<bR.length;o++){const i=bR[o]+r;if(i in n)return iP[t]=i}return t}const wR="http://www.w3.org/1999/xlink";function _R(n,t,e,r,o,i=N5(t)){r&&t.startsWith("xlink:")?e==null?n.removeAttributeNS(wR,t.slice(6,t.length)):n.setAttributeNS(wR,t,e):e==null||i&&!RU(e)?n.removeAttribute(t):n.setAttribute(t,i?"":Gs(e)?String(e):e)}function CR(n,t,e,r,o){if(t==="innerHTML"||t==="textContent"){e!=null&&(n[t]=t==="innerHTML"?f6(e):e);return}const i=n.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const s=i==="OPTION"?n.getAttribute("value")||"":n.value,l=e==null?n.type==="checkbox"?"on":"":String(e);(s!==l||!("_value"in n))&&(n.value=l),e==null&&n.removeAttribute(t),n._value=e;return}let a=!1;if(e===""||e==null){const s=typeof n[t];s==="boolean"?e=RU(e):e==null&&s==="string"?(e="",a=!0):s==="number"&&(e=0,a=!0)}try{n[t]=e}catch{}a&&n.removeAttribute(o||t)}function Ff(n,t,e,r){n.addEventListener(t,e,r)}function zre(n,t,e,r){n.removeEventListener(t,e,r)}const SR=Symbol("_vei");function Gre(n,t,e,r,o=null){const i=n[SR]||(n[SR]={}),a=i[t];if(r&&a)a.value=r;else{const[s,l]=Yre(t);if(r){const u=i[t]=Zre(r,o);Ff(n,s,u,l)}else a&&(zre(n,s,a,l),i[t]=void 0)}}const xR=/(?:Once|Passive|Capture)$/;function Yre(n){let t;if(xR.test(n)){t={};let r;for(;r=n.match(xR);)n=n.slice(0,n.length-r[0].length),t[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):ns(n.slice(2)),t]}let aP=0;const Xre=Promise.resolve(),Jre=()=>aP||(Xre.then(()=>aP=0),aP=Date.now());function Zre(n,t){const e=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=e.attached)return;zu(qre(r,e.value),t,5,[r])};return e.value=n,e.attached=Jre(),e}function qre(n,t){if(dn(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const ER=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,b6=(n,t,e,r,o,i)=>{const a=o==="svg";t==="class"?Hre(n,r,a):t==="style"?Kre(n,e,r):Kh(t)?ik(t)||Gre(n,t,e,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):eoe(n,t,r,a))?(CR(n,t,r),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&_R(n,t,r,a,i,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!Yn(r))?CR(n,to(t),r,i,t):(t==="true-value"?n._trueValue=r:t==="false-value"&&(n._falseValue=r),_R(n,t,r,a))};function eoe(n,t,e,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in n&&ER(t)&&Rn(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="sandbox"&&n.tagName==="IFRAME"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=n.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return ER(t)&&Yn(e)?!1:t in n}const BR={};function w6(n,t,e){let r=rn(n,t);b_(r)&&(r=hr({},r,t));class o extends wk{constructor(a){super(r,a,e)}}return o.def=r,o}const toe=((n,t)=>w6(n,t,I6)),noe=typeof HTMLElement<"u"?HTMLElement:class{};class wk extends noe{constructor(t,e={},r=Px){super(),this._def=t,this._props=e,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._patching=!1,this._dirty=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==Px?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow(hr({},t.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof wk){this._parent=t;break}this._instance||(this._resolved?this._mount(this._def):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._inheritParentContext(t))}_inheritParentContext(t=this._parent){t&&this._app&&Object.setPrototypeOf(this._app._context.provides,t._instance.provides)}disconnectedCallback(){this._connected=!1,tr(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(t){for(const e of t)this._setAttr(e.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const t=(r,o=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:a}=r;let s;if(i&&!dn(i))for(const l in i){const u=i[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=sw(this._props[l])),(s||(s=Object.create(null)))[to(l)]=!0)}this._numberProps=s,this._resolveProps(r),this.shadowRoot&&this._applyStyles(a),this._mount(r)},e=this._def.__asyncLoader;e?this._pendingResolve=e().then(r=>{r.configureApp=this._def.configureApp,t(this._def=r,!0)}):t(this._def)}_mount(t){this._app=this._createApp(t),this._inheritParentContext(),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const e=this._instance&&this._instance.exposed;if(e)for(const r in e)Nr(this,r)||Object.defineProperty(this,r,{get:()=>O(e[r])})}_resolveProps(t){const{props:e}=t,r=dn(e)?e:Object.keys(e||{});for(const o of Object.keys(this))o[0]!=="_"&&r.includes(o)&&this._setProp(o,this[o]);for(const o of r.map(to))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(i){this._setProp(o,i,!0,!this._patching)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const e=this.hasAttribute(t);let r=e?this.getAttribute(t):BR;const o=to(t);e&&this._numberProps&&this._numberProps[o]&&(r=sw(r)),this._setProp(o,r,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,e,r=!0,o=!1){if(e!==this._props[t]&&(this._dirty=!0,e===BR?delete this._props[t]:(this._props[t]=e,t==="key"&&this._app&&(this._app._ceVNode.key=e)),o&&this._instance&&this._update(),r)){const i=this._ob;i&&(this._processMutations(i.takeRecords()),i.disconnect()),e===!0?this.setAttribute(ns(t),""):typeof e=="string"||typeof e=="number"?this.setAttribute(ns(t),e+""):e||this.removeAttribute(ns(t)),i&&i.observe(this,{attributes:!0})}}_update(){const t=this._createVNode();this._app&&(t.appContext=this._app._context),Ck(t,this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const e=x(this._def,hr(t,this._props));return this._instance||(e.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const o=(i,a)=>{this.dispatchEvent(new CustomEvent(i,b_(a[0])?hr({detail:a},a[0]):{detail:a}))};r.emit=(i,...a)=>{o(i,a),ns(i)!==i&&o(ns(i),a)},this._setParent()}),e}_applyStyles(t,e){if(!t)return;if(e){if(e===this._def||this._styleChildren.has(e))return;this._styleChildren.add(e)}const r=this._nonce;for(let o=t.length-1;o>=0;o--){const i=document.createElement("style");r&&i.setAttribute("nonce",r),i.textContent=t[o],this.shadowRoot.prepend(i)}}_parseSlots(){const t=this._slots={};let e;for(;e=this.firstChild;){const r=e.nodeType===1&&e.getAttribute("slot")||"default";(t[r]||(t[r]=[])).push(e),this.removeChild(e)}}_renderSlots(){const t=this._getSlots(),e=this._instance.type.__scopeId;for(let r=0;r<t.length;r++){const o=t[r],i=o.getAttribute("name")||"default",a=this._slots[i],s=o.parentNode;if(a)for(const l of a){if(e&&l.nodeType===1){const u=e+"-s",c=document.createTreeWalker(l,1);l.setAttribute(u,"");let d;for(;d=c.nextNode();)d.setAttribute(u,"")}s.insertBefore(l,o)}else for(;o.firstChild;)s.insertBefore(o.firstChild,o);s.removeChild(o)}}_getSlots(){const t=[this];this._teleportTargets&&t.push(...this._teleportTargets);const e=new Set;for(const r of t){const o=r.querySelectorAll("slot");for(let i=0;i<o.length;i++)e.add(o[i])}return Array.from(e)}_injectChildStyle(t){this._applyStyles(t.styles,t)}_beginPatch(){this._patching=!0,this._dirty=!1}_endPatch(){this._patching=!1,this._dirty&&this._instance&&this._update()}_removeChildStyle(t){}}function _6(n){const t=fs(),e=t&&t.ce;return e||null}function roe(){const n=_6();return n&&n.shadowRoot}function ooe(n="$style"){{const t=fs();if(!t)return yr;const e=t.type.__cssModules;if(!e)return yr;const r=e[n];return r||yr}}const C6=new WeakMap,S6=new WeakMap,Ox=Symbol("_moveCb"),kR=Symbol("_enterCb"),ioe=n=>(delete n.props.mode,n),aoe=ioe({name:"TransitionGroup",props:hr({},p6,{tag:String,moveClass:String}),setup(n,{slots:t}){const e=fs(),r=YU();let o,i;return T_(()=>{if(!o.length)return;const a=n.moveClass||`${n.name||"v"}-move`;if(!coe(o[0].el,e.vnode.el,a)){o=[];return}o.forEach(soe),o.forEach(loe);const s=o.filter(uoe);NM(e.vnode.el),s.forEach(l=>{const u=l.el,c=u.style;fd(u,a),c.transform=c.webkitTransform=c.transitionDuration="";const d=u[Ox]=f=>{f&&f.target!==u||(!f||f.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",d),u[Ox]=null,NA(u,a))};u.addEventListener("transitionend",d)}),o=[]}),()=>{const a=wn(n),s=m6(a);let l=a.tag||ut;if(o=[],i)for(let u=0;u<i.length;u++){const c=i[u];c.el&&c.el instanceof Element&&(o.push(c),rA(c,iy(c,s,r,e)),C6.set(c,{left:c.el.offsetLeft,top:c.el.offsetTop}))}i=t.default?pk(t.default()):[];for(let u=0;u<i.length;u++){const c=i[u];c.key!=null&&rA(c,iy(c,s,r,e))}return x(l,null,i)}}}),_k=aoe;function soe(n){const t=n.el;t[Ox]&&t[Ox](),t[kR]&&t[kR]()}function loe(n){S6.set(n,{left:n.el.offsetLeft,top:n.el.offsetTop})}function uoe(n){const t=C6.get(n),e=S6.get(n),r=t.left-e.left,o=t.top-e.top;if(r||o){const i=n.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${o}px)`,i.transitionDuration="0s",n}}function coe(n,t,e){const r=n.cloneNode(),o=n[sy];o&&o.forEach(s=>{s.split(/\s+/).forEach(l=>l&&r.classList.remove(l))}),e.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:a}=v6(r);return i.removeChild(r),a}const Uh=n=>{const t=n.props["onUpdate:modelValue"]||!1;return dn(t)?e=>om(t,e):t};function doe(n){n.target.composing=!0}function TR(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ru=Symbol("_assign");function OR(n,t,e){return t&&(n=n.trim()),e&&(n=__(n)),n}const vw={created(n,{modifiers:{lazy:t,trim:e,number:r}},o){n[Ru]=Uh(o);const i=r||o.props&&o.props.type==="number";Ff(n,t?"change":"input",a=>{a.target.composing||n[Ru](OR(n.value,e,i))}),(e||i)&&Ff(n,"change",()=>{n.value=OR(n.value,e,i)}),t||(Ff(n,"compositionstart",doe),Ff(n,"compositionend",TR),Ff(n,"change",TR))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,oldValue:e,modifiers:{lazy:r,trim:o,number:i}},a){if(n[Ru]=Uh(a),n.composing)return;const s=(i||n.type==="number")&&!/^0\d/.test(n.value)?__(n.value):n.value,l=t??"";s!==l&&(document.activeElement===n&&n.type!=="range"&&(r&&t===e||o&&n.value.trim()===l)||(n.value=l))}},uL={deep:!0,created(n,t,e){n[Ru]=Uh(e),Ff(n,"change",()=>{const r=n._modelValue,o=ly(n),i=n.checked,a=n[Ru];if(dn(r)){const s=S_(r,o),l=s!==-1;if(i&&!l)a(r.concat(o));else if(!i&&l){const u=[...r];u.splice(s,1),a(u)}}else if(Wh(r)){const s=new Set(r);i?s.add(o):s.delete(o),a(s)}else a(E6(n,i))})},mounted:PR,beforeUpdate(n,t,e){n[Ru]=Uh(e),PR(n,t,e)}};function PR(n,{value:t,oldValue:e},r){n._modelValue=t;let o;if(dn(t))o=S_(t,r.props.value)>-1;else if(Wh(t))o=t.has(r.props.value);else{if(t===e)return;o=eA(t,E6(n,!0))}n.checked!==o&&(n.checked=o)}const cL={created(n,{value:t},e){n.checked=eA(t,e.props.value),n[Ru]=Uh(e),Ff(n,"change",()=>{n[Ru](ly(n))})},beforeUpdate(n,{value:t,oldValue:e},r){n[Ru]=Uh(r),t!==e&&(n.checked=eA(t,r.props.value))}},x6={deep:!0,created(n,{value:t,modifiers:{number:e}},r){const o=Wh(t);Ff(n,"change",()=>{const i=Array.prototype.filter.call(n.options,a=>a.selected).map(a=>e?__(ly(a)):ly(a));n[Ru](n.multiple?o?new Set(i):i:i[0]),n._assigning=!0,tr(()=>{n._assigning=!1})}),n[Ru]=Uh(r)},mounted(n,{value:t}){IR(n,t)},beforeUpdate(n,t,e){n[Ru]=Uh(e)},updated(n,{value:t}){n._assigning||IR(n,t)}};function IR(n,t){const e=n.multiple,r=dn(t);if(!(e&&!r&&!Wh(t))){for(let o=0,i=n.options.length;o<i;o++){const a=n.options[o],s=ly(a);if(e)if(r){const l=typeof s;l==="string"||l==="number"?a.selected=t.some(u=>String(u)===String(s)):a.selected=S_(t,s)>-1}else a.selected=t.has(s);else if(eA(ly(a),t)){n.selectedIndex!==o&&(n.selectedIndex=o);return}}!e&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function ly(n){return"_value"in n?n._value:n.value}function E6(n,t){const e=t?"_trueValue":"_falseValue";return e in n?n[e]:t}const B6={created(n,t,e){y1(n,t,e,null,"created")},mounted(n,t,e){y1(n,t,e,null,"mounted")},beforeUpdate(n,t,e,r){y1(n,t,e,r,"beforeUpdate")},updated(n,t,e,r){y1(n,t,e,r,"updated")}};function k6(n,t){switch(n){case"SELECT":return x6;case"TEXTAREA":return vw;default:switch(t){case"checkbox":return uL;case"radio":return cL;default:return vw}}}function y1(n,t,e,r,o){const a=k6(n.tagName,e.props&&e.props.type)[o];a&&a(n,t,e,r)}function foe(){vw.getSSRProps=({value:n})=>({value:n}),cL.getSSRProps=({value:n},t)=>{if(t.props&&eA(t.props.value,n))return{checked:!0}},uL.getSSRProps=({value:n},t)=>{if(dn(n)){if(t.props&&S_(n,t.props.value)>-1)return{checked:!0}}else if(Wh(n)){if(t.props&&n.has(t.props.value))return{checked:!0}}else if(n)return{checked:!0}},B6.getSSRProps=(n,t)=>{if(typeof t.type!="string")return;const e=k6(t.type.toUpperCase(),t.props&&t.props.type);if(e.getSSRProps)return e.getSSRProps(n,t)}}const Aoe=["ctrl","shift","alt","meta"],hoe={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>Aoe.some(e=>n[`${e}Key`]&&!t.includes(e))},Mu=(n,t)=>{const e=n._withMods||(n._withMods={}),r=t.join(".");return e[r]||(e[r]=((o,...i)=>{for(let a=0;a<t.length;a++){const s=hoe[t[a]];if(s&&s(o,t))return}return n(o,...i)}))},poe={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},moe=(n,t)=>{const e=n._withKeys||(n._withKeys={}),r=t.join(".");return e[r]||(e[r]=(o=>{if(!("key"in o))return;const i=ns(o.key);if(t.some(a=>a===i||poe[a]===i))return n(o)}))},T6=hr({patchProp:b6},A6);let Ob,MR=!1;function O6(){return Ob||(Ob=G8(T6))}function P6(){return Ob=MR?Ob:Y8(T6),MR=!0,Ob}const Ck=((...n)=>{O6().render(...n)}),voe=((...n)=>{P6().hydrate(...n)}),Px=((...n)=>{const t=O6().createApp(...n),{mount:e}=t;return t.mount=r=>{const o=F6(r);if(!o)return;const i=t._component;!Rn(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=e(o,!1,M6(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t}),I6=((...n)=>{const t=P6().createApp(...n),{mount:e}=t;return t.mount=r=>{const o=F6(r);if(o)return e(o,!0,M6(o))},t});function M6(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function F6(n){return Yn(n)?document.querySelector(n):n}let FR=!1;const goe=()=>{FR||(FR=!0,foe(),Qre())},yoe=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:x8,BaseTransitionPropsValidators:XU,Comment:fi,DeprecationTypes:Dre,EffectScope:HU,ErrorCodes:Zte,ErrorTypeStrings:kre,Fragment:ut,KeepAlive:Sne,ReactiveEffect:lw,Static:sm,Suspense:ure,Teleport:w8,Text:jf,TrackOpTypes:Kte,Transition:oA,TransitionGroup:_k,TriggerOpTypes:Wte,VueElement:wk,assertNumber:Jte,callWithAsyncErrorHandling:zu,callWithErrorHandling:Uy,camelize:to,capitalize:Dl,cloneVNode:Mc,compatUtils:Fre,computed:ae,createApp:Px,createBlock:Re,createCommentVNode:xt,createElementBlock:et,createElementVNode:H,createHydrationRenderer:Y8,createPropsRestProxy:Rne,createRenderer:G8,createSSRApp:I6,createSlots:cA,createStaticVNode:vre,createTextVNode:Je,createVNode:x,customRef:zU,defineAsyncComponent:_ne,defineComponent:rn,defineCustomElement:w6,defineEmits:Pne,defineExpose:Ine,defineModel:Dne,defineOptions:Mne,defineProps:One,defineSSRCustomElement:toe,defineSlots:Fne,devtools:Tre,effect:mte,effectScope:Mh,getCurrentInstance:fs,getCurrentScope:uk,getCurrentWatcher:zte,getTransitionRawChildren:pk,guardReactiveProps:Dh,h:uu,handleError:ev,hasInjectionContext:A8,hydrate:voe,hydrateOnIdle:mne,hydrateOnInteraction:bne,hydrateOnMediaQuery:yne,hydrateOnVisible:gne,initCustomFormatter:xre,initDirectivesForSSR:goe,inject:Hn,isMemoSame:c6,isProxy:x_,isReactive:Nu,isReadonly:kd,isRef:Ht,isRuntimeOnly:_re,isShallow:Tl,isVNode:Td,markRaw:qm,mergeDefaults:Nne,mergeModels:F8,mergeProps:bt,nextTick:tr,nodeOps:A6,normalizeClass:pt,normalizeProps:Ih,normalizeStyle:Ue,onActivated:ZU,onBeforeMount:zh,onBeforeUnmount:Ti,onBeforeUpdate:gk,onDeactivated:mk,onErrorCaptured:P8,onMounted:Kn,onRenderTracked:O8,onRenderTriggered:T8,onScopeDispose:Go,onServerPrefetch:k8,onUnmounted:lu,onUpdated:T_,onWatcherCleanup:s8,openBlock:le,patchProp:b6,popScopeId:rne,provide:no,proxyRefs:WU,pushScopeId:nne,queuePostFlushCb:dw,reactive:Di,readonly:Fh,ref:Oe,registerRuntimeCompiler:wre,render:Ck,renderList:Wr,renderSlot:Ar,resolveComponent:eL,resolveDirective:Bne,resolveDynamicComponent:tL,resolveFilter:Mre,resolveTransitionHooks:iy,setBlockTracking:mw,setDevtoolsHook:Ore,setTransitionHooks:rA,shallowReactive:KU,shallowReadonly:Ute,shallowRef:It,ssrContextKey:h8,ssrUtils:Ire,stop:vte,toDisplayString:at,toHandlerKey:rm,toHandlers:kne,toRaw:wn,toRef:ze,toRefs:E_,toValue:Ui,transformVNodeArgs:pre,triggerRef:Vte,unref:O,useAttrs:Vne,useCssModule:ooe,useCssVars:jre,useHost:_6,useId:el,useModel:L8,useSSRContext:p8,useShadowRoot:roe,useSlots:Lne,useTemplateRef:une,useTransitionState:YU,vModelCheckbox:uL,vModelDynamic:B6,vModelRadio:cL,vModelSelect:x6,vModelText:vw,vShow:Ju,version:d6,warn:Bre,watch:lt,watchEffect:mo,watchPostEffect:ine,watchSyncEffect:m8,withAsyncContext:Hne,withCtx:N,withDefaults:Une,withDirectives:Qn,withKeys:moe,withMemo:Ere,withModifiers:Mu,withScopeId:one},Symbol.toStringTag,{value:"Module"}));/*!
 * pinia v3.0.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let D6;const Sk=n=>D6=n,U6=Symbol();function HM(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var Pb;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(Pb||(Pb={}));function boe(){const n=Mh(!0),t=n.run(()=>Oe({}));let e=[],r=[];const o=qm({install(i){Sk(o),o._a=i,i.provide(U6,o),i.config.globalProperties.$pinia=o,r.forEach(a=>e.push(a)),r=[]},use(i){return this._a?e.push(i):r.push(i),this},_p:e,_a:null,_e:n,_s:new Map,state:t});return o}const L6=()=>{};function DR(n,t,e,r=L6){n.add(t);const o=()=>{n.delete(t)&&r()};return!e&&uk()&&Go(o),o}function Nv(n,...t){n.forEach(e=>{e(...t)})}const woe=n=>n(),UR=Symbol(),sP=Symbol();function QM(n,t){n instanceof Map&&t instanceof Map?t.forEach((e,r)=>n.set(r,e)):n instanceof Set&&t instanceof Set&&t.forEach(n.add,n);for(const e in t){if(!t.hasOwnProperty(e))continue;const r=t[e],o=n[e];HM(o)&&HM(r)&&n.hasOwnProperty(e)&&!Ht(r)&&!Nu(r)?n[e]=QM(o,r):n[e]=r}return n}const _oe=Symbol();function Coe(n){return!HM(n)||!Object.prototype.hasOwnProperty.call(n,_oe)}const{assign:RA}=Object;function Soe(n){return!!(Ht(n)&&n.effect)}function xoe(n,t,e,r){const{state:o,actions:i,getters:a}=t,s=e.state.value[n];let l;function u(){s||(e.state.value[n]=o?o():{});const c=E_(e.state.value[n]);return RA(c,i,Object.keys(a||{}).reduce((d,f)=>(d[f]=qm(ae(()=>{Sk(e);const h=e._s.get(n);return a[f].call(h,h)})),d),{}))}return l=V6(n,u,t,e,r,!0),l}function V6(n,t,e={},r,o,i){let a;const s=RA({actions:{}},e),l={deep:!0};let u,c,d=new Set,f=new Set,h;const p=r.state.value[n];!i&&!p&&(r.state.value[n]={});let v;function g(I){let k;u=c=!1,typeof I=="function"?(I(r.state.value[n]),k={type:Pb.patchFunction,storeId:n,events:h}):(QM(r.state.value[n],I),k={type:Pb.patchObject,payload:I,storeId:n,events:h});const M=v=Symbol();tr().then(()=>{v===M&&(u=!0)}),c=!0,Nv(d,k,r.state.value[n])}const _=i?function(){const{state:k}=e,M=k?k():{};this.$patch(V=>{RA(V,M)})}:L6;function S(){a.stop(),d.clear(),f.clear(),r._s.delete(n)}const y=(I,k="")=>{if(UR in I)return I[sP]=k,I;const M=function(){Sk(r);const V=Array.from(arguments),U=new Set,$=new Set;function Q(ne){U.add(ne)}function J(ne){$.add(ne)}Nv(f,{args:V,name:M[sP],store:T,after:Q,onError:J});let R;try{R=I.apply(this&&this.$id===n?this:T,V)}catch(ne){throw Nv($,ne),ne}return R instanceof Promise?R.then(ne=>(Nv(U,ne),ne)).catch(ne=>(Nv($,ne),Promise.reject(ne))):(Nv(U,R),R)};return M[UR]=!0,M[sP]=k,M},C={_p:r,$id:n,$onAction:DR.bind(null,f),$patch:g,$reset:_,$subscribe(I,k={}){const M=DR(d,I,k.detached,()=>V()),V=a.run(()=>lt(()=>r.state.value[n],U=>{(k.flush==="sync"?c:u)&&I({storeId:n,type:Pb.direct,events:h},U)},RA({},l,k)));return M},$dispose:S},T=Di(C);r._s.set(n,T);const F=(r._a&&r._a.runWithContext||woe)(()=>r._e.run(()=>(a=Mh()).run(()=>t({action:y}))));for(const I in F){const k=F[I];if(Ht(k)&&!Soe(k)||Nu(k))i||(p&&Coe(k)&&(Ht(k)?k.value=p[I]:QM(k,p[I])),r.state.value[n][I]=k);else if(typeof k=="function"){const M=y(k,I);F[I]=M,s.actions[I]=k}}return RA(T,F),RA(wn(T),F),Object.defineProperty(T,"$state",{get:()=>r.state.value[n],set:I=>{g(k=>{RA(k,I)})}}),r._p.forEach(I=>{RA(T,a.run(()=>I({store:T,app:r._a,pinia:r,options:s})))}),p&&i&&e.hydrate&&e.hydrate(T.$state,p),u=!0,c=!0,T}/*! #__NO_SIDE_EFFECTS__ */function N6(n,t,e){let r;const o=typeof t=="function";r=o?e:t;function i(a,s){const l=A8();return a=a||(l?Hn(U6,null):null),a&&Sk(a),a=D6,a._s.has(n)||(o?V6(n,t,r,a):xoe(n,r,a)),a._s.get(n)}return i.$id=n,i}function Lt(n){const t=wn(n),e={};for(const r in t){const o=t[r];o.effect?e[r]=ae({get:()=>n[r],set(i){n[r]=i}}):(Ht(o)||Nu(o))&&(e[r]=ze(n,r))}return e}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const ug=typeof document<"u";function R6(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Eoe(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&R6(n.default)}const Jr=Object.assign;function lP(n,t){const e={};for(const r in t){const o=t[r];e[r]=Fc(o)?o.map(n):n(o)}return e}const Ib=()=>{},Fc=Array.isArray;function LR(n,t){const e={};for(const r in n)e[r]=r in t?t[r]:n[r];return e}const H6=/#/g,Boe=/&/g,koe=/\//g,Toe=/=/g,Ooe=/\?/g,Q6=/\+/g,Poe=/%5B/g,Ioe=/%5D/g,j6=/%5E/g,Moe=/%60/g,$6=/%7B/g,Foe=/%7C/g,K6=/%7D/g,Doe=/%20/g;function dL(n){return n==null?"":encodeURI(""+n).replace(Foe,"|").replace(Poe,"[").replace(Ioe,"]")}function Uoe(n){return dL(n).replace($6,"{").replace(K6,"}").replace(j6,"^")}function jM(n){return dL(n).replace(Q6,"%2B").replace(Doe,"+").replace(H6,"%23").replace(Boe,"%26").replace(Moe,"`").replace($6,"{").replace(K6,"}").replace(j6,"^")}function Loe(n){return jM(n).replace(Toe,"%3D")}function Voe(n){return dL(n).replace(H6,"%23").replace(Ooe,"%3F")}function Noe(n){return Voe(n).replace(koe,"%2F")}function gw(n){if(n==null)return null;try{return decodeURIComponent(""+n)}catch{}return""+n}const Roe=/\/$/,Hoe=n=>n.replace(Roe,"");function uP(n,t,e="/"){let r,o={},i="",a="";const s=t.indexOf("#");let l=t.indexOf("?");return l=s>=0&&l>s?-1:l,l>=0&&(r=t.slice(0,l),i=t.slice(l,s>0?s:t.length),o=n(i.slice(1))),s>=0&&(r=r||t.slice(0,s),a=t.slice(s,t.length)),r=Koe(r??t,e),{fullPath:r+i+a,path:r,query:o,hash:gw(a)}}function Qoe(n,t){const e=t.query?n(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function VR(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function joe(n,t,e){const r=t.matched.length-1,o=e.matched.length-1;return r>-1&&r===o&&uy(t.matched[r],e.matched[o])&&W6(t.params,e.params)&&n(t.query)===n(e.query)&&t.hash===e.hash}function uy(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function W6(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(var e in n)if(!$oe(n[e],t[e]))return!1;return!0}function $oe(n,t){return Fc(n)?NR(n,t):Fc(t)?NR(t,n):(n==null?void 0:n.valueOf())===(t==null?void 0:t.valueOf())}function NR(n,t){return Fc(t)?n.length===t.length&&n.every((e,r)=>e===t[r]):n.length===1&&n[0]===t}function Koe(n,t){if(n.startsWith("/"))return n;if(!n)return t;const e=t.split("/"),r=n.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let i=e.length-1,a,s;for(a=0;a<r.length;a++)if(s=r[a],s!==".")if(s==="..")i>1&&i--;else break;return e.slice(0,i).join("/")+"/"+r.slice(a).join("/")}const UA={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let $M=(function(n){return n.pop="pop",n.push="push",n})({}),cP=(function(n){return n.back="back",n.forward="forward",n.unknown="",n})({});function Woe(n){if(!n)if(ug){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Hoe(n)}const zoe=/^[^#]+#/;function Goe(n,t){return n.replace(zoe,"#")+t}function Yoe(n,t){const e=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:t.behavior,left:r.left-e.left-(t.left||0),top:r.top-e.top-(t.top||0)}}const xk=()=>({left:window.scrollX,top:window.scrollY});function Xoe(n){let t;if("el"in n){const e=n.el,r=typeof e=="string"&&e.startsWith("#"),o=typeof e=="string"?r?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!o)return;t=Yoe(o,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function RR(n,t){return(history.state?history.state.position-t:-1)+n}const KM=new Map;function Joe(n,t){KM.set(n,t)}function Zoe(n){const t=KM.get(n);return KM.delete(n),t}function qoe(n){return typeof n=="string"||n&&typeof n=="object"}function z6(n){return typeof n=="string"||typeof n=="symbol"}let ii=(function(n){return n[n.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",n[n.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",n[n.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",n[n.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",n[n.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",n})({});const G6=Symbol("");ii.MATCHER_NOT_FOUND+"",ii.NAVIGATION_GUARD_REDIRECT+"",ii.NAVIGATION_ABORTED+"",ii.NAVIGATION_CANCELLED+"",ii.NAVIGATION_DUPLICATED+"";function cy(n,t){return Jr(new Error,{type:n,[G6]:!0},t)}function mf(n,t){return n instanceof Error&&G6 in n&&(t==null||!!(n.type&t))}const eie=["params","query","hash"];function tie(n){if(typeof n=="string")return n;if(n.path!=null)return n.path;const t={};for(const e of eie)e in n&&(t[e]=n[e]);return JSON.stringify(t,null,2)}function nie(n){const t={};if(n===""||n==="?")return t;const e=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<e.length;++r){const o=e[r].replace(Q6," "),i=o.indexOf("="),a=gw(i<0?o:o.slice(0,i)),s=i<0?null:gw(o.slice(i+1));if(a in t){let l=t[a];Fc(l)||(l=t[a]=[l]),l.push(s)}else t[a]=s}return t}function HR(n){let t="";for(let e in n){const r=n[e];if(e=Loe(e),r==null){r!==void 0&&(t+=(t.length?"&":"")+e);continue}(Fc(r)?r.map(o=>o&&jM(o)):[r&&jM(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+e,o!=null&&(t+="="+o))})}return t}function rie(n){const t={};for(const e in n){const r=n[e];r!==void 0&&(t[e]=Fc(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const oie=Symbol(""),QR=Symbol(""),Ek=Symbol(""),fL=Symbol(""),WM=Symbol("");function U0(){let n=[];function t(r){return n.push(r),()=>{const o=n.indexOf(r);o>-1&&n.splice(o,1)}}function e(){n=[]}return{add:t,list:()=>n.slice(),reset:e}}function GA(n,t,e,r,o,i=a=>a()){const a=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((s,l)=>{const u=f=>{f===!1?l(cy(ii.NAVIGATION_ABORTED,{from:e,to:t})):f instanceof Error?l(f):qoe(f)?l(cy(ii.NAVIGATION_GUARD_REDIRECT,{from:t,to:f})):(a&&r.enterCallbacks[o]===a&&typeof f=="function"&&a.push(f),s())},c=i(()=>n.call(r&&r.instances[o],t,e,u));let d=Promise.resolve(c);n.length<3&&(d=d.then(u)),d.catch(f=>l(f))})}function dP(n,t,e,r,o=i=>i()){const i=[];for(const a of n)for(const s in a.components){let l=a.components[s];if(!(t!=="beforeRouteEnter"&&!a.instances[s]))if(R6(l)){const u=(l.__vccOpts||l)[t];u&&i.push(GA(u,e,r,a,s,o))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${s}" at "${a.path}"`);const d=Eoe(c)?c.default:c;a.mods[s]=c,a.components[s]=d;const f=(d.__vccOpts||d)[t];return f&&GA(f,e,r,a,s,o)()}))}}return i}function iie(n,t){const e=[],r=[],o=[],i=Math.max(t.matched.length,n.matched.length);for(let a=0;a<i;a++){const s=t.matched[a];s&&(n.matched.find(u=>uy(u,s))?r.push(s):e.push(s));const l=n.matched[a];l&&(t.matched.find(u=>uy(u,l))||o.push(l))}return[e,r,o]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let aie=()=>location.protocol+"//"+location.host;function Y6(n,t){const{pathname:e,search:r,hash:o}=t,i=n.indexOf("#");if(i>-1){let a=o.includes(n.slice(i))?n.slice(i).length:1,s=o.slice(a);return s[0]!=="/"&&(s="/"+s),VR(s,"")}return VR(e,n)+r+o}function sie(n,t,e,r){let o=[],i=[],a=null;const s=({state:f})=>{const h=Y6(n,location),p=e.value,v=t.value;let g=0;if(f){if(e.value=h,t.value=f,a&&a===p){a=null;return}g=v?f.position-v.position:0}else r(h);o.forEach(_=>{_(e.value,p,{delta:g,type:$M.pop,direction:g?g>0?cP.forward:cP.back:cP.unknown})})};function l(){a=e.value}function u(f){o.push(f);const h=()=>{const p=o.indexOf(f);p>-1&&o.splice(p,1)};return i.push(h),h}function c(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(Jr({},f.state,{scroll:xk()}),"")}}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",s),window.removeEventListener("pagehide",c),document.removeEventListener("visibilitychange",c)}return window.addEventListener("popstate",s),window.addEventListener("pagehide",c),document.addEventListener("visibilitychange",c),{pauseListeners:l,listen:u,destroy:d}}function jR(n,t,e,r=!1,o=!1){return{back:n,current:t,forward:e,replaced:r,position:window.history.length,scroll:o?xk():null}}function lie(n){const{history:t,location:e}=window,r={value:Y6(n,e)},o={value:t.state};o.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const d=n.indexOf("#"),f=d>-1?(e.host&&document.querySelector("base")?n:n.slice(d))+l:aie()+n+l;try{t[c?"replaceState":"pushState"](u,"",f),o.value=u}catch(h){console.error(h),e[c?"replace":"assign"](f)}}function a(l,u){i(l,Jr({},t.state,jR(o.value.back,l,o.value.forward,!0),u,{position:o.value.position}),!0),r.value=l}function s(l,u){const c=Jr({},o.value,t.state,{forward:l,scroll:xk()});i(c.current,c,!0),i(l,Jr({},jR(r.value,l,null),{position:c.position+1},u),!1),r.value=l}return{location:r,state:o,push:s,replace:a}}function uie(n){n=Woe(n);const t=lie(n),e=sie(n,t.state,t.location,t.replace);function r(i,a=!0){a||e.pauseListeners(),history.go(i)}const o=Jr({location:"",base:n,go:r,createHref:Goe.bind(null,n)},t,e);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}let Qp=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.Group=2]="Group",n})({});var zi=(function(n){return n[n.Static=0]="Static",n[n.Param=1]="Param",n[n.ParamRegExp=2]="ParamRegExp",n[n.ParamRegExpEnd=3]="ParamRegExpEnd",n[n.EscapeNext=4]="EscapeNext",n})(zi||{});const cie={type:Qp.Static,value:""},die=/[a-zA-Z0-9_]/;function fie(n){if(!n)return[[]];if(n==="/")return[[cie]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(h){throw new Error(`ERR (${e})/"${u}": ${h}`)}let e=zi.Static,r=e;const o=[];let i;function a(){i&&o.push(i),i=[]}let s=0,l,u="",c="";function d(){u&&(e===zi.Static?i.push({type:Qp.Static,value:u}):e===zi.Param||e===zi.ParamRegExp||e===zi.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Qp.Param,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;s<n.length;){if(l=n[s++],l==="\\"&&e!==zi.ParamRegExp){r=e,e=zi.EscapeNext;continue}switch(e){case zi.Static:l==="/"?(u&&d(),a()):l===":"?(d(),e=zi.Param):f();break;case zi.EscapeNext:f(),e=r;break;case zi.Param:l==="("?e=zi.ParamRegExp:die.test(l)?f():(d(),e=zi.Static,l!=="*"&&l!=="?"&&l!=="+"&&s--);break;case zi.ParamRegExp:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:e=zi.ParamRegExpEnd:c+=l;break;case zi.ParamRegExpEnd:d(),e=zi.Static,l!=="*"&&l!=="?"&&l!=="+"&&s--,c="";break;default:t("Unknown state");break}}return e===zi.ParamRegExp&&t(`Unfinished custom RegExp for param "${u}"`),d(),a(),o}const $R="[^/]+?",Aie={sensitive:!1,strict:!1,start:!0,end:!0};var Ls=(function(n){return n[n._multiplier=10]="_multiplier",n[n.Root=90]="Root",n[n.Segment=40]="Segment",n[n.SubSegment=30]="SubSegment",n[n.Static=40]="Static",n[n.Dynamic=20]="Dynamic",n[n.BonusCustomRegExp=10]="BonusCustomRegExp",n[n.BonusWildcard=-50]="BonusWildcard",n[n.BonusRepeatable=-20]="BonusRepeatable",n[n.BonusOptional=-8]="BonusOptional",n[n.BonusStrict=.7000000000000001]="BonusStrict",n[n.BonusCaseSensitive=.25]="BonusCaseSensitive",n})(Ls||{});const hie=/[.+*?^${}()[\]/\\]/g;function pie(n,t){const e=Jr({},Aie,t),r=[];let o=e.start?"^":"";const i=[];for(const u of n){const c=u.length?[]:[Ls.Root];e.strict&&!u.length&&(o+="/");for(let d=0;d<u.length;d++){const f=u[d];let h=Ls.Segment+(e.sensitive?Ls.BonusCaseSensitive:0);if(f.type===Qp.Static)d||(o+="/"),o+=f.value.replace(hie,"\\$&"),h+=Ls.Static;else if(f.type===Qp.Param){const{value:p,repeatable:v,optional:g,regexp:_}=f;i.push({name:p,repeatable:v,optional:g});const S=_||$R;if(S!==$R){h+=Ls.BonusCustomRegExp;try{`${S}`}catch(C){throw new Error(`Invalid custom RegExp for param "${p}" (${S}): `+C.message)}}let y=v?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;d||(y=g&&u.length<2?`(?:/${y})`:"/"+y),g&&(y+="?"),o+=y,h+=Ls.Dynamic,g&&(h+=Ls.BonusOptional),v&&(h+=Ls.BonusRepeatable),S===".*"&&(h+=Ls.BonusWildcard)}c.push(h)}r.push(c)}if(e.strict&&e.end){const u=r.length-1;r[u][r[u].length-1]+=Ls.BonusStrict}e.strict||(o+="/?"),e.end?o+="$":e.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const a=new RegExp(o,e.sensitive?"":"i");function s(u){const c=u.match(a),d={};if(!c)return null;for(let f=1;f<c.length;f++){const h=c[f]||"",p=i[f-1];d[p.name]=h&&p.repeatable?h.split("/"):h}return d}function l(u){let c="",d=!1;for(const f of n){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const h of f)if(h.type===Qp.Static)c+=h.value;else if(h.type===Qp.Param){const{value:p,repeatable:v,optional:g}=h,_=p in u?u[p]:"";if(Fc(_)&&!v)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const S=Fc(_)?_.join("/"):_;if(!S)if(g)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);c+=S}}return c||"/"}return{re:a,score:r,keys:i,parse:s,stringify:l}}function mie(n,t){let e=0;for(;e<n.length&&e<t.length;){const r=t[e]-n[e];if(r)return r;e++}return n.length<t.length?n.length===1&&n[0]===Ls.Static+Ls.Segment?-1:1:n.length>t.length?t.length===1&&t[0]===Ls.Static+Ls.Segment?1:-1:0}function X6(n,t){let e=0;const r=n.score,o=t.score;for(;e<r.length&&e<o.length;){const i=mie(r[e],o[e]);if(i)return i;e++}if(Math.abs(o.length-r.length)===1){if(KR(r))return 1;if(KR(o))return-1}return o.length-r.length}function KR(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const vie={strict:!1,end:!0,sensitive:!1};function gie(n,t,e){const r=pie(fie(n.path),e),o=Jr(r,{record:n,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function yie(n,t){const e=[],r=new Map;t=LR(vie,t);function o(d){return r.get(d)}function i(d,f,h){const p=!h,v=zR(d);v.aliasOf=h&&h.record;const g=LR(t,d),_=[v];if("alias"in d){const C=typeof d.alias=="string"?[d.alias]:d.alias;for(const T of C)_.push(zR(Jr({},v,{components:h?h.record.components:v.components,path:T,aliasOf:h?h.record:v})))}let S,y;for(const C of _){const{path:T}=C;if(f&&T[0]!=="/"){const P=f.record.path,F=P[P.length-1]==="/"?"":"/";C.path=f.record.path+(T&&F+T)}if(S=gie(C,f,g),h?h.alias.push(S):(y=y||S,y!==S&&y.alias.push(S),p&&d.name&&!GR(S)&&a(d.name)),J6(S)&&l(S),v.children){const P=v.children;for(let F=0;F<P.length;F++)i(P[F],S,h&&h.children[F])}h=h||S}return y?()=>{a(y)}:Ib}function a(d){if(z6(d)){const f=r.get(d);f&&(r.delete(d),e.splice(e.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=e.indexOf(d);f>-1&&(e.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function s(){return e}function l(d){const f=_ie(d,e);e.splice(f,0,d),d.record.name&&!GR(d)&&r.set(d.record.name,d)}function u(d,f){let h,p={},v,g;if("name"in d&&d.name){if(h=r.get(d.name),!h)throw cy(ii.MATCHER_NOT_FOUND,{location:d});g=h.record.name,p=Jr(WR(f.params,h.keys.filter(y=>!y.optional).concat(h.parent?h.parent.keys.filter(y=>y.optional):[]).map(y=>y.name)),d.params&&WR(d.params,h.keys.map(y=>y.name))),v=h.stringify(p)}else if(d.path!=null)v=d.path,h=e.find(y=>y.re.test(v)),h&&(p=h.parse(v),g=h.record.name);else{if(h=f.name?r.get(f.name):e.find(y=>y.re.test(f.path)),!h)throw cy(ii.MATCHER_NOT_FOUND,{location:d,currentLocation:f});g=h.record.name,p=Jr({},f.params,d.params),v=h.stringify(p)}const _=[];let S=h;for(;S;)_.unshift(S.record),S=S.parent;return{name:g,path:v,params:p,matched:_,meta:wie(_)}}n.forEach(d=>i(d));function c(){e.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:a,clearRoutes:c,getRoutes:s,getRecordMatcher:o}}function WR(n,t){const e={};for(const r of t)r in n&&(e[r]=n[r]);return e}function zR(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:bie(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function bie(n){const t={},e=n.props||!1;if("component"in n)t.default=e;else for(const r in n.components)t[r]=typeof e=="object"?e[r]:e;return t}function GR(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function wie(n){return n.reduce((t,e)=>Jr(t,e.meta),{})}function _ie(n,t){let e=0,r=t.length;for(;e!==r;){const i=e+r>>1;X6(n,t[i])<0?r=i:e=i+1}const o=Cie(n);return o&&(r=t.lastIndexOf(o,r-1)),r}function Cie(n){let t=n;for(;t=t.parent;)if(J6(t)&&X6(n,t)===0)return t}function J6({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function YR(n){const t=Hn(Ek),e=Hn(fL),r=ae(()=>{const l=O(n.to);return t.resolve(l)}),o=ae(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=e.matched;if(!c||!d.length)return-1;const f=d.findIndex(uy.bind(null,c));if(f>-1)return f;const h=XR(l[u-2]);return u>1&&XR(c)===h&&d[d.length-1].path!==h?d.findIndex(uy.bind(null,l[u-2])):f}),i=ae(()=>o.value>-1&&kie(e.params,r.value.params)),a=ae(()=>o.value>-1&&o.value===e.matched.length-1&&W6(e.params,r.value.params));function s(l={}){if(Bie(l)){const u=t[O(n.replace)?"replace":"push"](O(n.to)).catch(Ib);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:ae(()=>r.value.href),isActive:i,isExactActive:a,navigate:s}}function Sie(n){return n.length===1?n[0]:n}const xie=rn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:YR,setup(n,{slots:t}){const e=Di(YR(n)),{options:r}=Hn(Ek),o=ae(()=>({[JR(n.activeClass,r.linkActiveClass,"router-link-active")]:e.isActive,[JR(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const i=t.default&&Sie(t.default(e));return n.custom?i:uu("a",{"aria-current":e.isExactActive?n.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:o.value},i)}}}),Eie=xie;function Bie(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function kie(n,t){for(const e in t){const r=t[e],o=n[e];if(typeof r=="string"){if(r!==o)return!1}else if(!Fc(o)||o.length!==r.length||r.some((i,a)=>i.valueOf()!==o[a].valueOf()))return!1}return!0}function XR(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const JR=(n,t,e)=>n??t??e,Tie=rn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:e}){const r=Hn(WM),o=ae(()=>n.route||r.value),i=Hn(QR,0),a=ae(()=>{let u=O(i);const{matched:c}=o.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),s=ae(()=>o.value.matched[a.value]);no(QR,ae(()=>a.value+1)),no(oie,s),no(WM,o);const l=Oe();return lt(()=>[l.value,s.value,n.name],([u,c,d],[f,h,p])=>{c&&(c.instances[d]=u,h&&h!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=h.leaveGuards),c.updateGuards.size||(c.updateGuards=h.updateGuards))),u&&c&&(!h||!uy(c,h)||!f)&&(c.enterCallbacks[d]||[]).forEach(v=>v(u))},{flush:"post"}),()=>{const u=o.value,c=n.name,d=s.value,f=d&&d.components[c];if(!f)return ZR(e.default,{Component:f,route:u});const h=d.props[c],p=h?h===!0?u.params:typeof h=="function"?h(u):h:null,g=uu(f,Jr({},p,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return ZR(e.default,{Component:g,route:u})||g}}});function ZR(n,t){if(!n)return null;const e=n(t);return e.length===1?e[0]:e}const Oie=Tie;function Pie(n){const t=yie(n.routes,n),e=n.parseQuery||nie,r=n.stringifyQuery||HR,o=n.history,i=U0(),a=U0(),s=U0(),l=It(UA);let u=UA;ug&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=lP.bind(null,se=>""+se),d=lP.bind(null,Noe),f=lP.bind(null,gw);function h(se,Te){let je,nt;return z6(se)?(je=t.getRecordMatcher(se),nt=Te):nt=se,t.addRoute(nt,je)}function p(se){const Te=t.getRecordMatcher(se);Te&&t.removeRoute(Te)}function v(){return t.getRoutes().map(se=>se.record)}function g(se){return!!t.getRecordMatcher(se)}function _(se,Te){if(Te=Jr({},Te||l.value),typeof se=="string"){const be=uP(e,se,Te.path),me=t.resolve({path:be.path},Te),Ve=o.createHref(be.fullPath);return Jr(be,me,{params:f(me.params),hash:gw(be.hash),redirectedFrom:void 0,href:Ve})}let je;if(se.path!=null)je=Jr({},se,{path:uP(e,se.path,Te.path).path});else{const be=Jr({},se.params);for(const me in be)be[me]==null&&delete be[me];je=Jr({},se,{params:d(be)}),Te.params=d(Te.params)}const nt=t.resolve(je,Te),tt=se.hash||"";nt.params=c(f(nt.params));const ot=Qoe(r,Jr({},se,{hash:Uoe(tt),path:nt.path})),ye=o.createHref(ot);return Jr({fullPath:ot,hash:tt,query:r===HR?rie(se.query):se.query||{}},nt,{redirectedFrom:void 0,href:ye})}function S(se){return typeof se=="string"?uP(e,se,l.value.path):Jr({},se)}function y(se,Te){if(u!==se)return cy(ii.NAVIGATION_CANCELLED,{from:Te,to:se})}function C(se){return F(se)}function T(se){return C(Jr(S(se),{replace:!0}))}function P(se,Te){const je=se.matched[se.matched.length-1];if(je&&je.redirect){const{redirect:nt}=je;let tt=typeof nt=="function"?nt(se,Te):nt;return typeof tt=="string"&&(tt=tt.includes("?")||tt.includes("#")?tt=S(tt):{path:tt},tt.params={}),Jr({query:se.query,hash:se.hash,params:tt.path!=null?{}:se.params},tt)}}function F(se,Te){const je=u=_(se),nt=l.value,tt=se.state,ot=se.force,ye=se.replace===!0,be=P(je,nt);if(be)return F(Jr(S(be),{state:typeof be=="object"?Jr({},tt,be.state):tt,force:ot,replace:ye}),Te||je);const me=je;me.redirectedFrom=Te;let Ve;return!ot&&joe(r,nt,je)&&(Ve=cy(ii.NAVIGATION_DUPLICATED,{to:me,from:nt}),We(nt,nt,!0,!1)),(Ve?Promise.resolve(Ve):M(me,nt)).catch(Ie=>mf(Ie)?mf(Ie,ii.NAVIGATION_GUARD_REDIRECT)?Ie:Be(Ie):ue(Ie,me,nt)).then(Ie=>{if(Ie){if(mf(Ie,ii.NAVIGATION_GUARD_REDIRECT))return F(Jr({replace:ye},S(Ie.to),{state:typeof Ie.to=="object"?Jr({},tt,Ie.to.state):tt,force:ot}),Te||me)}else Ie=U(me,nt,!0,ye,tt);return V(me,nt,Ie),Ie})}function I(se,Te){const je=y(se,Te);return je?Promise.reject(je):Promise.resolve()}function k(se){const Te=Ce.values().next().value;return Te&&typeof Te.runWithContext=="function"?Te.runWithContext(se):se()}function M(se,Te){let je;const[nt,tt,ot]=iie(se,Te);je=dP(nt.reverse(),"beforeRouteLeave",se,Te);for(const be of nt)be.leaveGuards.forEach(me=>{je.push(GA(me,se,Te))});const ye=I.bind(null,se,Te);return je.push(ye),Qe(je).then(()=>{je=[];for(const be of i.list())je.push(GA(be,se,Te));return je.push(ye),Qe(je)}).then(()=>{je=dP(tt,"beforeRouteUpdate",se,Te);for(const be of tt)be.updateGuards.forEach(me=>{je.push(GA(me,se,Te))});return je.push(ye),Qe(je)}).then(()=>{je=[];for(const be of ot)if(be.beforeEnter)if(Fc(be.beforeEnter))for(const me of be.beforeEnter)je.push(GA(me,se,Te));else je.push(GA(be.beforeEnter,se,Te));return je.push(ye),Qe(je)}).then(()=>(se.matched.forEach(be=>be.enterCallbacks={}),je=dP(ot,"beforeRouteEnter",se,Te,k),je.push(ye),Qe(je))).then(()=>{je=[];for(const be of a.list())je.push(GA(be,se,Te));return je.push(ye),Qe(je)}).catch(be=>mf(be,ii.NAVIGATION_CANCELLED)?be:Promise.reject(be))}function V(se,Te,je){s.list().forEach(nt=>k(()=>nt(se,Te,je)))}function U(se,Te,je,nt,tt){const ot=y(se,Te);if(ot)return ot;const ye=Te===UA,be=ug?history.state:{};je&&(nt||ye?o.replace(se.fullPath,Jr({scroll:ye&&be&&be.scroll},tt)):o.push(se.fullPath,tt)),l.value=se,We(se,Te,je,ye),Be()}let $;function Q(){$||($=o.listen((se,Te,je)=>{if(!ve.listening)return;const nt=_(se),tt=P(nt,ve.currentRoute.value);if(tt){F(Jr(tt,{replace:!0,force:!0}),nt).catch(Ib);return}u=nt;const ot=l.value;ug&&Joe(RR(ot.fullPath,je.delta),xk()),M(nt,ot).catch(ye=>mf(ye,ii.NAVIGATION_ABORTED|ii.NAVIGATION_CANCELLED)?ye:mf(ye,ii.NAVIGATION_GUARD_REDIRECT)?(F(Jr(S(ye.to),{force:!0}),nt).then(be=>{mf(be,ii.NAVIGATION_ABORTED|ii.NAVIGATION_DUPLICATED)&&!je.delta&&je.type===$M.pop&&o.go(-1,!1)}).catch(Ib),Promise.reject()):(je.delta&&o.go(-je.delta,!1),ue(ye,nt,ot))).then(ye=>{ye=ye||U(nt,ot,!1),ye&&(je.delta&&!mf(ye,ii.NAVIGATION_CANCELLED)?o.go(-je.delta,!1):je.type===$M.pop&&mf(ye,ii.NAVIGATION_ABORTED|ii.NAVIGATION_DUPLICATED)&&o.go(-1,!1)),V(nt,ot,ye)}).catch(Ib)}))}let J=U0(),R=U0(),ne;function ue(se,Te,je){Be(se);const nt=R.list();return nt.length?nt.forEach(tt=>tt(se,Te,je)):console.error(se),Promise.reject(se)}function we(){return ne&&l.value!==UA?Promise.resolve():new Promise((se,Te)=>{J.add([se,Te])})}function Be(se){return ne||(ne=!se,Q(),J.list().forEach(([Te,je])=>se?je(se):Te()),J.reset()),se}function We(se,Te,je,nt){const{scrollBehavior:tt}=n;if(!ug||!tt)return Promise.resolve();const ot=!je&&Zoe(RR(se.fullPath,0))||(nt||!je)&&history.state&&history.state.scroll||null;return tr().then(()=>tt(se,Te,ot)).then(ye=>ye&&Xoe(ye)).catch(ye=>ue(ye,se,Te))}const pe=se=>o.go(se);let _e;const Ce=new Set,ve={currentRoute:l,listening:!0,addRoute:h,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:v,resolve:_,options:n,push:C,replace:T,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:i.add,beforeResolve:a.add,afterEach:s.add,onError:R.add,isReady:we,install(se){se.component("RouterLink",Eie),se.component("RouterView",Oie),se.config.globalProperties.$router=ve,Object.defineProperty(se.config.globalProperties,"$route",{enumerable:!0,get:()=>O(l)}),ug&&!_e&&l.value===UA&&(_e=!0,C(o.location).catch(nt=>{}));const Te={};for(const nt in UA)Object.defineProperty(Te,nt,{get:()=>l.value[nt],enumerable:!0});se.provide(Ek,ve),se.provide(fL,KU(Te)),se.provide(WM,l);const je=se.unmount;Ce.add(se),se.unmount=function(){Ce.delete(se),Ce.size<1&&(u=UA,$&&$(),$=null,l.value=UA,_e=!1,ne=!1),je()}}};function Qe(se){return se.reduce((Te,je)=>Te.then(()=>k(je)),Promise.resolve())}return ve}function tv(){return Hn(Ek)}function P_(n){return Hn(fL)}const Z6=Symbol("$auth0");function gd(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]])}return e}var Ip=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function AL(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function hL(n,t){return n(t={exports:{}},t.exports),t.exports}var kp=hL((function(n,t){Object.defineProperty(t,"__esModule",{value:!0});var e=(function(){function r(){var o=this;this.locked=new Map,this.addToLocked=function(i,a){var s=o.locked.get(i);s===void 0?a===void 0?o.locked.set(i,[]):o.locked.set(i,[a]):a!==void 0&&(s.unshift(a),o.locked.set(i,s))},this.isLocked=function(i){return o.locked.has(i)},this.lock=function(i){return new Promise((function(a,s){o.isLocked(i)?o.addToLocked(i,a):(o.addToLocked(i),a())}))},this.unlock=function(i){var a=o.locked.get(i);if(a!==void 0&&a.length!==0){var s=a.pop();o.locked.set(i,a),s!==void 0&&setTimeout(s,0)}else o.locked.delete(i)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r})();t.default=function(){return e.getInstance()}}));AL(kp);var Iie=AL(hL((function(n,t){var e=Ip&&Ip.__awaiter||function(c,d,f,h){return new(f||(f=Promise))((function(p,v){function g(y){try{S(h.next(y))}catch(C){v(C)}}function _(y){try{S(h.throw(y))}catch(C){v(C)}}function S(y){y.done?p(y.value):new f((function(C){C(y.value)})).then(g,_)}S((h=h.apply(c,d||[])).next())}))},r=Ip&&Ip.__generator||function(c,d){var f,h,p,v,g={label:0,sent:function(){if(1&p[0])throw p[1];return p[1]},trys:[],ops:[]};return v={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function _(S){return function(y){return(function(C){if(f)throw new TypeError("Generator is already executing.");for(;g;)try{if(f=1,h&&(p=2&C[0]?h.return:C[0]?h.throw||((p=h.return)&&p.call(h),0):h.next)&&!(p=p.call(h,C[1])).done)return p;switch(h=0,p&&(C=[2&C[0],p.value]),C[0]){case 0:case 1:p=C;break;case 4:return g.label++,{value:C[1],done:!1};case 5:g.label++,h=C[1],C=[0];continue;case 7:C=g.ops.pop(),g.trys.pop();continue;default:if(!((p=(p=g.trys).length>0&&p[p.length-1])||C[0]!==6&&C[0]!==2)){g=0;continue}if(C[0]===3&&(!p||C[1]>p[0]&&C[1]<p[3])){g.label=C[1];break}if(C[0]===6&&g.label<p[1]){g.label=p[1],p=C;break}if(p&&g.label<p[2]){g.label=p[2],g.ops.push(C);break}p[2]&&g.ops.pop(),g.trys.pop();continue}C=d.call(c,g)}catch(T){C=[6,T],h=0}finally{f=p=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}})([S,y])}}},o=Ip;Object.defineProperty(t,"__esModule",{value:!0});var i="browser-tabs-lock-key",a={key:function(c){return e(o,void 0,void 0,(function(){return r(this,(function(d){throw new Error("Unsupported")}))}))},getItem:function(c){return e(o,void 0,void 0,(function(){return r(this,(function(d){throw new Error("Unsupported")}))}))},clear:function(){return e(o,void 0,void 0,(function(){return r(this,(function(c){return[2,window.localStorage.clear()]}))}))},removeItem:function(c){return e(o,void 0,void 0,(function(){return r(this,(function(d){throw new Error("Unsupported")}))}))},setItem:function(c,d){return e(o,void 0,void 0,(function(){return r(this,(function(f){throw new Error("Unsupported")}))}))},keySync:function(c){return window.localStorage.key(c)},getItemSync:function(c){return window.localStorage.getItem(c)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(c){return window.localStorage.removeItem(c)},setItemSync:function(c,d){return window.localStorage.setItem(c,d)}};function s(c){return new Promise((function(d){return setTimeout(d,c)}))}function l(c){for(var d="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",f="",h=0;h<c;h++)f+=d[Math.floor(Math.random()*d.length)];return f}var u=(function(){function c(d){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+l(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=d,c.waiters===void 0&&(c.waiters=[])}return c.prototype.acquireLock=function(d,f){return f===void 0&&(f=5e3),e(this,void 0,void 0,(function(){var h,p,v,g,_,S,y;return r(this,(function(C){switch(C.label){case 0:h=Date.now()+l(4),p=Date.now()+f,v=i+"-"+d,g=this.storageHandler===void 0?a:this.storageHandler,C.label=1;case 1:return Date.now()<p?[4,s(30)]:[3,8];case 2:return C.sent(),g.getItemSync(v)!==null?[3,5]:(_=this.id+"-"+d+"-"+h,[4,s(Math.floor(25*Math.random()))]);case 3:return C.sent(),g.setItemSync(v,JSON.stringify({id:this.id,iat:h,timeoutKey:_,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return C.sent(),(S=g.getItemSync(v))!==null&&(y=JSON.parse(S)).id===this.id&&y.iat===h?(this.acquiredIatSet.add(h),this.refreshLockWhileAcquired(v,h),[2,!0]):[3,7];case 5:return c.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(p)];case 6:C.sent(),C.label=7;case 7:return h=Date.now()+l(4),[3,1];case 8:return[2,!1]}}))}))},c.prototype.refreshLockWhileAcquired=function(d,f){return e(this,void 0,void 0,(function(){var h=this;return r(this,(function(p){return setTimeout((function(){return e(h,void 0,void 0,(function(){var v,g,_;return r(this,(function(S){switch(S.label){case 0:return[4,kp.default().lock(f)];case 1:return S.sent(),this.acquiredIatSet.has(f)?(v=this.storageHandler===void 0?a:this.storageHandler,(g=v.getItemSync(d))===null?(kp.default().unlock(f),[2]):((_=JSON.parse(g)).timeRefreshed=Date.now(),v.setItemSync(d,JSON.stringify(_)),kp.default().unlock(f),this.refreshLockWhileAcquired(d,f),[2])):(kp.default().unlock(f),[2])}}))}))}),1e3),[2]}))}))},c.prototype.waitForSomethingToChange=function(d){return e(this,void 0,void 0,(function(){return r(this,(function(f){switch(f.label){case 0:return[4,new Promise((function(h){var p=!1,v=Date.now(),g=!1;function _(){if(g||(window.removeEventListener("storage",_),c.removeFromWaiting(_),clearTimeout(S),g=!0),!p){p=!0;var y=50-(Date.now()-v);y>0?setTimeout(h,y):h(null)}}window.addEventListener("storage",_),c.addToWaiting(_);var S=setTimeout(_,Math.max(0,d-Date.now()))}))];case 1:return f.sent(),[2]}}))}))},c.addToWaiting=function(d){this.removeFromWaiting(d),c.waiters!==void 0&&c.waiters.push(d)},c.removeFromWaiting=function(d){c.waiters!==void 0&&(c.waiters=c.waiters.filter((function(f){return f!==d})))},c.notifyWaiters=function(){c.waiters!==void 0&&c.waiters.slice().forEach((function(d){return d()}))},c.prototype.releaseLock=function(d){return e(this,void 0,void 0,(function(){return r(this,(function(f){switch(f.label){case 0:return[4,this.releaseLock__private__(d)];case 1:return[2,f.sent()]}}))}))},c.prototype.releaseLock__private__=function(d){return e(this,void 0,void 0,(function(){var f,h,p,v;return r(this,(function(g){switch(g.label){case 0:return f=this.storageHandler===void 0?a:this.storageHandler,h=i+"-"+d,(p=f.getItemSync(h))===null?[2]:(v=JSON.parse(p)).id!==this.id?[3,2]:[4,kp.default().lock(v.iat)];case 1:g.sent(),this.acquiredIatSet.delete(v.iat),f.removeItemSync(h),kp.default().unlock(v.iat),c.notifyWaiters(),g.label=2;case 2:return[2]}}))}))},c.lockCorrector=function(d){for(var f=Date.now()-5e3,h=d,p=[],v=0;;){var g=h.keySync(v);if(g===null)break;p.push(g),v++}for(var _=!1,S=0;S<p.length;S++){var y=p[S];if(y.includes(i)){var C=h.getItemSync(y);if(C!==null){var T=JSON.parse(C);(T.timeRefreshed===void 0&&T.timeAcquired<f||T.timeRefreshed!==void 0&&T.timeRefreshed<f)&&(h.removeItemSync(y),_=!0)}}}_&&c.notifyWaiters()},c.waiters=void 0,c})();t.default=u})));const Mie={timeoutInSeconds:60},q6={name:"auth0-spa-js",version:"2.10.0"},eK=()=>Date.now();class ai extends Error{constructor(t,e){super(e),this.error=t,this.error_description=e,Object.setPrototypeOf(this,ai.prototype)}static fromPayload({error:t,error_description:e}){return new ai(t,e)}}class pL extends ai{constructor(t,e,r,o=null){super(t,e),this.state=r,this.appState=o,Object.setPrototypeOf(this,pL.prototype)}}class mL extends ai{constructor(t,e,r,o,i=null){super(t,e),this.connection=r,this.state=o,this.appState=i,Object.setPrototypeOf(this,mL.prototype)}}let zM=class tK extends ai{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,tK.prototype)}};class vL extends zM{constructor(t){super(),this.popup=t,Object.setPrototypeOf(this,vL.prototype)}}class gL extends ai{constructor(t){super("cancelled","Popup closed"),this.popup=t,Object.setPrototypeOf(this,gL.prototype)}}let Fie=class nK extends ai{constructor(){super("popup_open","Unable to open a popup for loginWithPopup - window.open returned `null`"),Object.setPrototypeOf(this,nK.prototype)}};class yL extends ai{constructor(t,e,r){super(t,e),this.mfa_token=r,Object.setPrototypeOf(this,yL.prototype)}}class Bk extends ai{constructor(t,e){super("missing_refresh_token",`Missing Refresh Token (audience: '${Ix(t,["default"])}', scope: '${Ix(e)}')`),this.audience=t,this.scope=e,Object.setPrototypeOf(this,Bk.prototype)}}class bL extends ai{constructor(t,e){super("missing_scopes",`Missing requested scopes after refresh (audience: '${Ix(t,["default"])}', missing scope: '${Ix(e)}')`),this.audience=t,this.scope=e,Object.setPrototypeOf(this,bL.prototype)}}class kk extends ai{constructor(t){super("use_dpop_nonce","Server rejected DPoP proof: wrong nonce"),this.newDpopNonce=t,Object.setPrototypeOf(this,kk.prototype)}}function Ix(n,t=[]){return n&&!t.includes(n)?n:""}const Mx=()=>window.crypto,L0=()=>{const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let t="";return Array.from(Mx().getRandomValues(new Uint8Array(43))).forEach((e=>t+=n[e%n.length])),t},fP=n=>btoa(n),Die=[{key:"name",type:["string"]},{key:"version",type:["string","number"]},{key:"env",type:["object"]}],Uie=n=>Object.keys(n).reduce(((t,e)=>{const r=Die.find((o=>o.key===e));return r&&r.type.includes(typeof n[e])&&(t[e]=n[e]),t}),{}),GM=n=>{var{clientId:t}=n,e=gd(n,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter((o=>r[o]!==void 0)).reduce(((o,i)=>Object.assign(Object.assign({},o),{[i]:r[i]})),{}))(Object.assign({client_id:t},e))).toString()},qR=async n=>await Mx().subtle.digest({name:"SHA-256"},new TextEncoder().encode(n)),eH=n=>(t=>decodeURIComponent(atob(t).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")))(n.replace(/_/g,"/").replace(/-/g,"+")),tH=n=>{const t=new Uint8Array(n);return(e=>{const r={"+":"-","/":"_","=":""};return e.replace(/[+/=]/g,(o=>r[o]))})(window.btoa(String.fromCharCode(...Array.from(t))))},Lie=new TextEncoder,Vie=new TextDecoder;function ob(n){return typeof n=="string"?Lie.encode(n):Vie.decode(n)}function nH(n){if(typeof n.modulusLength!="number"||n.modulusLength<2048)throw new Nie(`${n.name} modulusLength must be at least 2048 bits`)}let YM;Uint8Array.prototype.toBase64?YM=n=>(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),n.toBase64({alphabet:"base64url",omitPadding:!0})):YM=t=>{t instanceof ArrayBuffer&&(t=new Uint8Array(t));const e=[];for(let r=0;r<t.byteLength;r+=32768)e.push(String.fromCharCode.apply(null,t.subarray(r,r+32768)));return btoa(e.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")};function ib(n){return YM(n)}let bg=class extends Error{constructor(t){var e;super(t??"operation not supported"),this.name=this.constructor.name,(e=Error.captureStackTrace)===null||e===void 0||e.call(Error,this,this.constructor)}};class Nie extends Error{constructor(t){var e;super(t),this.name=this.constructor.name,(e=Error.captureStackTrace)===null||e===void 0||e.call(Error,this,this.constructor)}}function Rie(n){switch(n.algorithm.name){case"RSA-PSS":return(function(t){if(t.algorithm.hash.name==="SHA-256")return"PS256";throw new bg("unsupported RsaHashedKeyAlgorithm hash name")})(n);case"RSASSA-PKCS1-v1_5":return(function(t){if(t.algorithm.hash.name==="SHA-256")return"RS256";throw new bg("unsupported RsaHashedKeyAlgorithm hash name")})(n);case"ECDSA":return(function(t){if(t.algorithm.namedCurve==="P-256")return"ES256";throw new bg("unsupported EcKeyAlgorithm namedCurve")})(n);case"Ed25519":return"Ed25519";default:throw new bg("unsupported CryptoKey algorithm name")}}function rK(n){return n instanceof CryptoKey}function oK(n){return rK(n)&&n.type==="public"}async function Hie(n,t,e,r,o,i){const a=n==null?void 0:n.privateKey,s=n==null?void 0:n.publicKey;if(!rK(l=a)||l.type!=="private")throw new TypeError('"keypair.privateKey" must be a private CryptoKey');var l;if(!oK(s))throw new TypeError('"keypair.publicKey" must be a public CryptoKey');if(s.extractable!==!0)throw new TypeError('"keypair.publicKey.extractable" must be true');if(typeof t!="string")throw new TypeError('"htu" must be a string');if(typeof e!="string")throw new TypeError('"htm" must be a string');if(r!==void 0&&typeof r!="string")throw new TypeError('"nonce" must be a string or undefined');if(o!==void 0&&typeof o!="string")throw new TypeError('"accessToken" must be a string or undefined');return(async function(u,c,d){if(d.usages.includes("sign")===!1)throw new TypeError('private CryptoKey instances used for signing assertions must include "sign" in their "usages"');const f=`${ib(ob(JSON.stringify(u)))}.${ib(ob(JSON.stringify(c)))}`;return`${f}.${ib(await crypto.subtle.sign((function(h){switch(h.algorithm.name){case"ECDSA":return{name:h.algorithm.name,hash:"SHA-256"};case"RSA-PSS":return nH(h.algorithm),{name:h.algorithm.name,saltLength:32};case"RSASSA-PKCS1-v1_5":return nH(h.algorithm),{name:h.algorithm.name};case"Ed25519":return{name:h.algorithm.name}}throw new bg})(d),d,ob(f)))}`})({alg:Rie(a),typ:"dpop+jwt",jwk:await iK(s)},Object.assign(Object.assign({},i),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:e,nonce:r,htu:t,ath:o?ib(await crypto.subtle.digest("SHA-256",ob(o))):void 0}),a)}async function iK(n){const{kty:t,e,n:r,x:o,y:i,crv:a}=await crypto.subtle.exportKey("jwk",n);return{kty:t,crv:a,e,n:r,x:o,y:i}}const Qie=["authorization_code","refresh_token","urn:ietf:params:oauth:grant-type:token-exchange"],jie=async(n,t)=>{const e=await fetch(n,t);return{ok:e.ok,json:await e.json(),headers:(r=e.headers,[...r].reduce(((o,[i,a])=>(o[i]=a,o)),{}))};var r},$ie=async(n,t,e,r,o,i,a=1e4,s)=>o?(async(l,u,c,d,f,h,p,v)=>{return g={auth:{audience:u,scope:c},timeout:f,fetchUrl:l,fetchOptions:d,useFormData:p,useMrrt:v},_=h,new Promise((function(S,y){const C=new MessageChannel;C.port1.onmessage=function(T){T.data.error?y(new Error(T.data.error)):S(T.data),C.port1.close()},_.postMessage(g,[C.port2])}));var g,_})(n,t,e,r,a,o,i,s):(async(l,u,c)=>{const d=new AbortController;let f;return u.signal=d.signal,Promise.race([jie(l,u),new Promise(((h,p)=>{f=setTimeout((()=>{d.abort(),p(new Error("Timeout when executing 'fetch'"))}),c)}))]).finally((()=>{clearTimeout(f)}))})(n,r,a);async function aK(n,t,e,r,o,i,a,s,l,u){if(l){const y=await l.generateProof({url:n,method:o.method||"GET",nonce:await l.getNonce()});o.headers=Object.assign(Object.assign({},o.headers),{dpop:y})}let c,d=null;for(let y=0;y<3;y++)try{c=await $ie(n,e,r,o,i,a,t,s),d=null;break}catch(C){d=C}if(d)throw d;const f=c.json,{error:h,error_description:p}=f,v=gd(f,["error","error_description"]),{headers:g,ok:_}=c;let S;if(l&&(S=g["dpop-nonce"],S&&await l.setNonce(S)),!_){const y=p||`HTTP error. Unable to fetch ${n}`;if(h==="mfa_required")throw new yL(h,y,v.mfa_token);if(h==="missing_refresh_token")throw new Bk(e,r);if(h==="use_dpop_nonce"){if(!l||!S||u)throw new kk(S);return aK(n,t,e,r,o,i,a,s,l,!0)}throw new ai(h||"request_error",y)}return v}async function Kie(n,t){var{baseUrl:e,timeout:r,audience:o,scope:i,auth0Client:a,useFormData:s,useMrrt:l,dpop:u}=n,c=gd(n,["baseUrl","timeout","audience","scope","auth0Client","useFormData","useMrrt","dpop"]);const d=c.grant_type==="urn:ietf:params:oauth:grant-type:token-exchange",f=c.grant_type==="refresh_token"&&l,h=Object.assign(Object.assign(Object.assign(Object.assign({},c),d&&o&&{audience:o}),d&&i&&{scope:i}),f&&{audience:o,scope:i}),p=s?GM(h):JSON.stringify(h),v=(g=c.grant_type,Qie.includes(g));var g;return await aK(`${e}/oauth/token`,r,o||"default",i,{method:"POST",body:p,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(Uie(a||q6)))}},t,s,l,v?u:void 0)}const PS=(...n)=>{return(t=n.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(t))).join(" ");var t},b1=(n,t,e)=>{let r;return e&&(r=n[e]),r||(r=n.default),PS(r,t)};class Pu{constructor(t,e="@@auth0spajs@@",r){this.prefix=e,this.suffix=r,this.clientId=t.clientId,this.scope=t.scope,this.audience=t.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(t){const[e,r,o,i]=t.split("::");return new Pu({clientId:r,scope:i,audience:o},e)}static fromCacheEntry(t){const{scope:e,audience:r,client_id:o}=t;return new Pu({scope:e,audience:r,clientId:o})}}let Wie=class{set(t,e){localStorage.setItem(t,JSON.stringify(e))}get(t){const e=window.localStorage.getItem(t);if(e)try{return JSON.parse(e)}catch{return}}remove(t){localStorage.removeItem(t)}allKeys(){return Object.keys(window.localStorage).filter((t=>t.startsWith("@@auth0spajs@@")))}};class sK{constructor(){this.enclosedCache=(function(){let t={};return{set(e,r){t[e]=r},get(e){const r=t[e];if(r)return r},remove(e){delete t[e]},allKeys:()=>Object.keys(t)}})()}}class zie{constructor(t,e,r){this.cache=t,this.keyManifest=e,this.nowProvider=r||eK}async setIdToken(t,e,r){var o;const i=this.getIdTokenCacheKey(t);await this.cache.set(i,{id_token:e,decodedToken:r}),await((o=this.keyManifest)===null||o===void 0?void 0:o.add(i))}async getIdToken(t){const e=await this.cache.get(this.getIdTokenCacheKey(t.clientId));if(!e&&t.scope&&t.audience){const r=await this.get(t);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(e)return{id_token:e.id_token,decodedToken:e.decodedToken}}async get(t,e=0,r=!1,o){var i;let a=await this.cache.get(t.toKey());if(!a){const u=await this.getCacheKeys();if(!u)return;const c=this.matchExistingCacheKey(t,u);if(c&&(a=await this.cache.get(c)),!c&&r&&o!=="cache-only")return this.getEntryWithRefreshToken(t,u)}if(!a)return;const s=await this.nowProvider(),l=Math.floor(s/1e3);return a.expiresAt-e<l?a.body.refresh_token?this.modifiedCachedEntry(a,t):(await this.cache.remove(t.toKey()),void await((i=this.keyManifest)===null||i===void 0?void 0:i.remove(t.toKey()))):a.body}async modifiedCachedEntry(t,e){return t.body={refresh_token:t.body.refresh_token,audience:t.body.audience,scope:t.body.scope},await this.cache.set(e.toKey(),t),{refresh_token:t.body.refresh_token,audience:t.body.audience,scope:t.body.scope}}async set(t){var e;const r=new Pu({clientId:t.client_id,scope:t.scope,audience:t.audience}),o=await this.wrapCacheEntry(t);await this.cache.set(r.toKey(),o),await((e=this.keyManifest)===null||e===void 0?void 0:e.add(r.toKey()))}async remove(t,e,r){const o=new Pu({clientId:t,scope:r,audience:e});await this.cache.remove(o.toKey())}async clear(t){var e;const r=await this.getCacheKeys();r&&(await r.filter((o=>!t||o.includes(t))).reduce((async(o,i)=>{await o,await this.cache.remove(i)}),Promise.resolve()),await((e=this.keyManifest)===null||e===void 0?void 0:e.clear()))}async wrapCacheEntry(t){const e=await this.nowProvider();return{body:t,expiresAt:Math.floor(e/1e3)+t.expires_in}}async getCacheKeys(){var t;return this.keyManifest?(t=await this.keyManifest.get())===null||t===void 0?void 0:t.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(t){return new Pu({clientId:t},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(t,e){return e.filter((r=>{var o;const i=Pu.fromKey(r),a=new Set(i.scope&&i.scope.split(" ")),s=((o=t.scope)===null||o===void 0?void 0:o.split(" "))||[],l=i.scope&&s.reduce(((u,c)=>u&&a.has(c)),!0);return i.prefix==="@@auth0spajs@@"&&i.clientId===t.clientId&&i.audience===t.audience&&l}))[0]}async getEntryWithRefreshToken(t,e){var r;for(const o of e){const i=Pu.fromKey(o);if(i.prefix==="@@auth0spajs@@"&&i.clientId===t.clientId){const a=await this.cache.get(o);if(!((r=a==null?void 0:a.body)===null||r===void 0)&&r.refresh_token)return this.modifiedCachedEntry(a,t)}}}async updateEntry(t,e){var r;const o=await this.getCacheKeys();if(o)for(const i of o){const a=await this.cache.get(i);if(((r=a==null?void 0:a.body)===null||r===void 0?void 0:r.refresh_token)===t){const s=Object.assign(Object.assign({},a.body),{refresh_token:e});await this.set(s)}}}}class Gie{constructor(t,e,r){this.storage=t,this.clientId=e,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(t){this.storage.save(this.storageKey,t,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const V0=n=>typeof n=="number",Yie=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"];var jp=hL((function(n,t){var e=Ip&&Ip.__assign||function(){return e=Object.assign||function(l){for(var u,c=1,d=arguments.length;c<d;c++)for(var f in u=arguments[c])Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f]);return l},e.apply(this,arguments)};function r(l,u){if(!u)return"";var c="; "+l;return u===!0?c:c+"="+u}function o(l,u,c){return encodeURIComponent(l).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(u).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+(function(d){if(typeof d.expires=="number"){var f=new Date;f.setMilliseconds(f.getMilliseconds()+864e5*d.expires),d.expires=f}return r("Expires",d.expires?d.expires.toUTCString():"")+r("Domain",d.domain)+r("Path",d.path)+r("Secure",d.secure)+r("SameSite",d.sameSite)})(c)}function i(l){for(var u={},c=l?l.split("; "):[],d=/(%[\dA-F]{2})+/gi,f=0;f<c.length;f++){var h=c[f].split("="),p=h.slice(1).join("=");p.charAt(0)==='"'&&(p=p.slice(1,-1));try{u[h[0].replace(d,decodeURIComponent)]=p.replace(d,decodeURIComponent)}catch{}}return u}function a(){return i(document.cookie)}function s(l,u,c){document.cookie=o(l,u,e({path:"/"},c))}t.__esModule=!0,t.encode=o,t.parse=i,t.getAll=a,t.get=function(l){return a()[l]},t.set=s,t.remove=function(l,u){s(l,"",e(e({},u),{expires:-1}))}}));AL(jp),jp.encode,jp.parse,jp.getAll;var Xie=jp.get,lK=jp.set,uK=jp.remove;const cg={get(n){const t=Xie(n);if(t!==void 0)return JSON.parse(t)},save(n,t,e){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),e!=null&&e.daysUntilExpire&&(r.expires=e.daysUntilExpire),e!=null&&e.cookieDomain&&(r.domain=e.cookieDomain),lK(n,JSON.stringify(t),r)},remove(n,t){let e={};t!=null&&t.cookieDomain&&(e.domain=t.cookieDomain),uK(n,e)}},Jie={get:n=>cg.get(n)||cg.get(`_legacy_${n}`),save(n,t,e){let r={};window.location.protocol==="https:"&&(r={secure:!0}),e!=null&&e.daysUntilExpire&&(r.expires=e.daysUntilExpire),e!=null&&e.cookieDomain&&(r.domain=e.cookieDomain),lK(`_legacy_${n}`,JSON.stringify(t),r),cg.save(n,t,e)},remove(n,t){let e={};t!=null&&t.cookieDomain&&(e.domain=t.cookieDomain),uK(n,e),cg.remove(n,t),cg.remove(`_legacy_${n}`,t)}},Zie={get(n){if(typeof sessionStorage>"u")return;const t=sessionStorage.getItem(n);return t!=null?JSON.parse(t):void 0},save(n,t){sessionStorage.setItem(n,JSON.stringify(t))},remove(n){sessionStorage.removeItem(n)}};var Mp;(function(n){n.Code="code",n.ConnectCode="connect_code"})(Mp||(Mp={}));var AP,qie=(function(n){return AP=AP||(function(t,e,r){var o=(function(l,u){var c=atob(l);return c})(t),i=o.indexOf(`
`,10)+1,a=o.substring(i)+"",s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)})("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YSx1c2VNcnJ0OmZ9LHBvcnRzOltwXX0pPT57bGV0IGgsdSxsPXt9O2NvbnN0e2F1ZGllbmNlOmQsc2NvcGU6eX09cnx8e307dHJ5e2NvbnN0IHI9YT8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShjLmJvZHkpOkpTT04ucGFyc2UoYy5ib2R5KTtpZighci5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1yLmdyYW50X3R5cGUpe2lmKHU9KChlLHQpPT5vW24oZSx0KV0pKGQseSksIXUmJmYpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKGAke2V9fGApKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxkKTtlJiYhdCYmKHU9ZSl9aWYoIXUpdGhyb3cgbmV3IHQoZCx5KTtjLmJvZHk9YT9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxyKSx7cmVmcmVzaF90b2tlbjp1fSkpfWxldCBqLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGo9bmV3IEFib3J0Q29udHJvbGxlcixjLnNpZ25hbD1qLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoXz1lLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsXykpKSksZmV0Y2goaSxPYmplY3QuYXNzaWduKHt9LGMpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHAucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBqJiZqLmFib3J0KCksdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO2c9ay5oZWFkZXJzLGw9Wy4uLmddLnJlZHVjZSgoKGUsW3Qscl0pPT4oZVt0XT1yLGUpKSx7fSksaD1hd2FpdCBrLmpzb24oKSxoLnJlZnJlc2hfdG9rZW4/KGYmJihvLmxhdGVzdF9yZWZyZXNoX3Rva2VuPWgucmVmcmVzaF90b2tlbixPPXUsYj1oLnJlZnJlc2hfdG9rZW4sT2JqZWN0LmVudHJpZXMobykuZm9yRWFjaCgoKFtlLHRdKT0+e3Q9PT1PJiYob1tlXT1iKX0pKSksKChlLHQscik9PntvW24odCxyKV09ZX0pKGgucmVmcmVzaF90b2tlbixkLHkpLGRlbGV0ZSBoLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KShkLHkpLHAucG9zdE1lc3NhZ2Uoe29rOmsub2ssanNvbjpoLGhlYWRlcnM6bH0pfWNhdGNoKGUpe3AucG9zdE1lc3NhZ2Uoe29rOiExLGpzb246e2Vycm9yOmUuZXJyb3IsZXJyb3JfZGVzY3JpcHRpb246ZS5tZXNzYWdlfSxoZWFkZXJzOmx9KX12YXIgTyxiLGcsX30pKX0oKTsKCg=="),new Worker(AP,n)});const hP={};class eae{constructor(t,e){this.cache=t,this.clientId=e,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(t){var e;const r=new Set(((e=await this.cache.get(this.manifestKey))===null||e===void 0?void 0:e.keys)||[]);r.add(t),await this.cache.set(this.manifestKey,{keys:[...r]})}async remove(t){const e=await this.cache.get(this.manifestKey);if(e){const r=new Set(e.keys);return r.delete(t),r.size>0?await this.cache.set(this.manifestKey,{keys:[...r]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(t){return`@@auth0spajs@@::${t}`}}const tae={memory:()=>new sK().enclosedCache,localstorage:()=>new Wie},rH=n=>tae[n],oH=n=>{const{openUrl:t,onRedirect:e}=n,r=gd(n,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:t===!1||t?t:e})},iH=(n,t)=>{const e=(t==null?void 0:t.split(" "))||[];return((n==null?void 0:n.split(" "))||[]).every((r=>e.includes(r)))},bp={NONCE:"nonce",KEYPAIR:"keypair"};class nae{constructor(t){this.clientId=t}getVersion(){return 1}createDbHandle(){const t=window.indexedDB.open("auth0-spa-js",this.getVersion());return new Promise(((e,r)=>{t.onupgradeneeded=()=>Object.values(bp).forEach((o=>t.result.createObjectStore(o))),t.onerror=()=>r(t.error),t.onsuccess=()=>e(t.result)}))}async getDbHandle(){return this.dbHandle||(this.dbHandle=await this.createDbHandle()),this.dbHandle}async executeDbRequest(t,e,r){const o=r((await this.getDbHandle()).transaction(t,e).objectStore(t));return new Promise(((i,a)=>{o.onsuccess=()=>i(o.result),o.onerror=()=>a(o.error)}))}buildKey(t){const e=t?`_${t}`:"auth0";return`${this.clientId}::${e}`}setNonce(t,e){return this.save(bp.NONCE,this.buildKey(e),t)}setKeyPair(t){return this.save(bp.KEYPAIR,this.buildKey(),t)}async save(t,e,r){await this.executeDbRequest(t,"readwrite",(o=>o.put(r,e)))}findNonce(t){return this.find(bp.NONCE,this.buildKey(t))}findKeyPair(){return this.find(bp.KEYPAIR,this.buildKey())}find(t,e){return this.executeDbRequest(t,"readonly",(r=>r.get(e)))}async deleteBy(t,e){const r=await this.executeDbRequest(t,"readonly",(o=>o.getAllKeys()));r==null||r.filter(e).map((o=>this.executeDbRequest(t,"readwrite",(i=>i.delete(o)))))}deleteByClientId(t,e){return this.deleteBy(t,(r=>typeof r=="string"&&r.startsWith(`${e}::`)))}clearNonces(){return this.deleteByClientId(bp.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(bp.KEYPAIR,this.clientId)}}class rae{constructor(t){this.storage=new nae(t)}getNonce(t){return this.storage.findNonce(t)}setNonce(t,e){return this.storage.setNonce(t,e)}async getOrGenerateKeyPair(){let t=await this.storage.findKeyPair();return t||(t=await(async function(e,r){var o;let i;return i={name:"ECDSA",namedCurve:"P-256"},crypto.subtle.generateKey(i,(o=r==null?void 0:r.extractable)!==null&&o!==void 0&&o,["sign","verify"])})(0,{extractable:!1}),await this.storage.setKeyPair(t)),t}async generateProof(t){const e=await this.getOrGenerateKeyPair();return(function({keyPair:r,url:o,method:i,nonce:a,accessToken:s}){const l=(function(u){const c=new URL(u);return c.search="",c.hash="",c.href})(o);return Hie(r,l,i,a,s)})(Object.assign({keyPair:e},t))}async calculateThumbprint(){return(function(t){return(async function(e){if(!oK(e))throw new TypeError('"publicKey" must be a public CryptoKey');if(e.extractable!==!0)throw new TypeError('"publicKey.extractable" must be true');const r=await iK(e);let o;switch(r.kty){case"EC":o={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":o={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":o={e:r.e,kty:r.kty,n:r.n};break;default:throw new bg("unsupported JWK kty")}return ib(await crypto.subtle.digest({name:"SHA-256"},ob(JSON.stringify(o))))})(t.publicKey)})(await this.getOrGenerateKeyPair())}async clear(){await Promise.all([this.storage.clearNonces(),this.storage.clearKeyPairs()])}}var wg;(function(n){n.Bearer="Bearer",n.DPoP="DPoP"})(wg||(wg={}));class oae{constructor(t,e){this.hooks=e,this.config=Object.assign(Object.assign({},t),{fetch:t.fetch||(typeof window>"u"?fetch:window.fetch.bind(window))})}isAbsoluteUrl(t){return/^(https?:)?\/\//i.test(t)}buildUrl(t,e){if(e){if(this.isAbsoluteUrl(e))return e;if(t)return`${t.replace(/\/?\/$/,"")}/${e.replace(/^\/+/,"")}`}throw new TypeError("`url` must be absolute or `baseUrl` non-empty.")}getAccessToken(t){return this.config.getAccessToken?this.config.getAccessToken(t):this.hooks.getAccessToken(t)}extractUrl(t){return typeof t=="string"?t:t instanceof URL?t.href:t.url}buildBaseRequest(t,e){if(!this.config.baseUrl)return new Request(t,e);const r=this.buildUrl(this.config.baseUrl,this.extractUrl(t)),o=t instanceof Request?new Request(r,t):r;return new Request(o,e)}setAuthorizationHeader(t,e,r=wg.Bearer){t.headers.set("authorization",`${r} ${e}`)}async setDpopProofHeader(t,e){if(!this.config.dpopNonceId)return;const r=await this.hooks.getDpopNonce(),o=await this.hooks.generateDpopProof({accessToken:e,method:t.method,nonce:r,url:t.url});t.headers.set("dpop",o)}async prepareRequest(t,e){const r=await this.getAccessToken(e);let o,i;typeof r=="string"?(o=this.config.dpopNonceId?wg.DPoP:wg.Bearer,i=r):(o=r.token_type,i=r.access_token),this.setAuthorizationHeader(t,i,o),o===wg.DPoP&&await this.setDpopProofHeader(t,i)}getHeader(t,e){return Array.isArray(t)?new Headers(t).get(e)||"":typeof t.get=="function"?t.get(e)||"":t[e]||""}hasUseDpopNonceError(t){if(t.status!==401)return!1;const e=this.getHeader(t.headers,"www-authenticate");return e.includes("invalid_dpop_nonce")||e.includes("use_dpop_nonce")}async handleResponse(t,e){const r=this.getHeader(t.headers,"dpop-nonce");if(r&&await this.hooks.setDpopNonce(r),!this.hasUseDpopNonceError(t))return t;if(!r||!e.onUseDpopNonceError)throw new kk(r);return e.onUseDpopNonceError()}async internalFetchWithAuth(t,e,r,o){const i=this.buildBaseRequest(t,e);await this.prepareRequest(i,o);const a=await this.config.fetch(i);return this.handleResponse(a,r)}fetchWithAuth(t,e,r){const o={onUseDpopNonceError:()=>this.internalFetchWithAuth(t,e,Object.assign(Object.assign({},o),{onUseDpopNonceError:void 0}),r)};return this.internalFetchWithAuth(t,e,o,r)}}class iae{constructor(t,e){this.myAccountFetcher=t,this.apiBase=e}async connectAccount(t){const e=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/connect`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return this._handleResponse(e)}async completeAccount(t){const e=await this.myAccountFetcher.fetchWithAuth(`${this.apiBase}v1/connected-accounts/complete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return this._handleResponse(e)}async _handleResponse(t){let e;try{e=await t.text(),e=JSON.parse(e)}catch(r){throw new Fx({type:"invalid_json",status:t.status,title:"Invalid JSON response",detail:e||String(r)})}if(t.ok)return e;throw new Fx(e)}}class Fx extends Error{constructor({type:t,status:e,title:r,detail:o,validation_errors:i}){super(o),this.name="MyAccountApiError",this.type=t,this.status=e,this.title=r,this.detail=o,this.validation_errors=i,Object.setPrototypeOf(this,Fx.prototype)}}const pP=new Iie;class aae{constructor(t){let e,r;if(this.userCache=new sK().enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{const l=Array.from(this.activeLockKeys);for(const u of l)await pP.releaseLock(u);this.activeLockKeys.clear(),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),t),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),t.authorizationParams)}),typeof window<"u"&&(()=>{if(!Mx())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Mx().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),t.cache&&t.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),t.cache)r=t.cache;else{if(e=t.cacheLocation||"memory",!rH(e))throw new Error(`Invalid cache location "${e}"`);r=rH(e)()}this.httpTimeoutMs=t.httpTimeoutInSeconds?1e3*t.httpTimeoutInSeconds:1e4,this.cookieStorage=t.legacySameSiteCookie===!1?cg:Jie,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(l=>`auth0.${this.options.clientId}.is.authenticated`)(),this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1;const o=t.useCookiesForTransactions?this.cookieStorage:Zie;var i;this.scope=((l,u,...c)=>{if(typeof l!="object")return{default:PS(u,l,...c)};let d={default:PS(u,...c)};return Object.keys(l).forEach((f=>{const h=l[f];d[f]=PS(u,h,...c)})),d})(this.options.authorizationParams.scope,"openid",this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new Gie(o,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||eK,this.cacheManager=new zie(r,r.allKeys?void 0:new eae(r,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new rae(this.options.clientId):void 0,this.domainUrl=(i=this.options.domain,/^https?:\/\//.test(i)?i:`https://${i}`),this.tokenIssuer=((l,u)=>l?l.startsWith("https://")?l:`https://${l}/`:`${u}/`)(this.options.issuer,this.domainUrl);const a=`${this.domainUrl}/me/`,s=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:"__auth0_my_account_api__"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:"create:me:connected_accounts",audience:a},detailedResponse:!0})}));this.myAccountApi=new iae(s,a),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&e==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new qie)}_url(t){const e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||q6)));return`${this.domainUrl}${t}&auth0Client=${e}`}_authorizeUrl(t){return this._url(`/authorize?${GM(t)}`)}async _verifyIdToken(t,e,r){const o=await this.nowProvider();return(a=>{if(!a.id_token)throw new Error("ID token is required but missing");const s=(d=>{const f=d.split("."),[h,p,v]=f;if(f.length!==3||!h||!p||!v)throw new Error("ID token could not be decoded");const g=JSON.parse(eH(p)),_={__raw:d},S={};return Object.keys(g).forEach((y=>{_[y]=g[y],Yie.includes(y)||(S[y]=g[y])})),{encoded:{header:h,payload:p,signature:v},header:JSON.parse(eH(h)),claims:_,user:S}})(a.id_token);if(!s.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(s.claims.iss!==a.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${a.iss}", found "${s.claims.iss}"`);if(!s.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(s.header.alg!=="RS256")throw new Error(`Signature algorithm of "${s.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!s.claims.aud||typeof s.claims.aud!="string"&&!Array.isArray(s.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(s.claims.aud)){if(!s.claims.aud.includes(a.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${a.aud}" but was not one of "${s.claims.aud.join(", ")}"`);if(s.claims.aud.length>1){if(!s.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(s.claims.azp!==a.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${a.aud}", found "${s.claims.azp}"`)}}else if(s.claims.aud!==a.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${a.aud}" but found "${s.claims.aud}"`);if(a.nonce){if(!s.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(s.claims.nonce!==a.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${a.nonce}", found "${s.claims.nonce}"`)}if(a.max_age&&!V0(s.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(s.claims.exp==null||!V0(s.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!V0(s.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const l=a.leeway||60,u=new Date(a.now||Date.now()),c=new Date(0);if(c.setUTCSeconds(s.claims.exp+l),u>c)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${u}) is after expiration time (${c})`);if(s.claims.nbf!=null&&V0(s.claims.nbf)){const d=new Date(0);if(d.setUTCSeconds(s.claims.nbf-l),u<d)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${u}) is before ${d}`)}if(s.claims.auth_time!=null&&V0(s.claims.auth_time)){const d=new Date(0);if(d.setUTCSeconds(parseInt(s.claims.auth_time)+a.max_age+l),u>d)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${u}) is after last auth at ${d}`)}if(a.organization){const d=a.organization.trim();if(d.startsWith("org_")){const f=d;if(!s.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(f!==s.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${f}", found "${s.claims.org_id}"`)}else{const f=d.toLowerCase();if(!s.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(f!==s.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${f}", found "${s.claims.org_name}"`)}}return s})({iss:this.tokenIssuer,aud:this.options.clientId,id_token:t,nonce:e,organization:r,leeway:this.options.leeway,max_age:(i=this.options.authorizationParams.max_age,typeof i!="string"?i:parseInt(i,10)||void 0),now:o});var i}_processOrgHint(t){t?this.cookieStorage.save(this.orgHintCookieName,t,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(t,e,r){var o;const i=fP(L0()),a=fP(L0()),s=L0(),l=await qR(s),u=tH(l),c=await((o=this.dpop)===null||o===void 0?void 0:o.calculateThumbprint()),d=((h,p,v,g,_,S,y,C,T)=>Object.assign(Object.assign(Object.assign({client_id:h.clientId},h.authorizationParams),v),{scope:b1(p,v.scope,v.audience),response_type:"code",response_mode:C||"query",state:g,nonce:_,redirect_uri:y||h.authorizationParams.redirect_uri,code_challenge:S,code_challenge_method:"S256",dpop_jkt:T}))(this.options,this.scope,t,i,a,u,t.redirect_uri||this.options.authorizationParams.redirect_uri||r,e==null?void 0:e.response_mode,c),f=this._authorizeUrl(d);return{nonce:a,code_verifier:s,scope:d.scope,audience:d.audience||"default",redirect_uri:d.redirect_uri,state:i,url:f}}async loginWithPopup(t,e){var r;if(t=t||{},!(e=e||{}).popup&&(e.popup=(s=>{const l=window.screenX+(window.innerWidth-400)/2,u=window.screenY+(window.innerHeight-600)/2;return window.open("","auth0:authorize:popup",`left=${l},top=${u},width=400,height=600,resizable,scrollbars=yes,status=1`)})(),!e.popup))throw new Fie;const o=await this._prepareAuthorizeUrl(t.authorizationParams||{},{response_mode:"web_message"},window.location.origin);e.popup.location.href=o.url;const i=await(s=>new Promise(((l,u)=>{let c;const d=setInterval((()=>{s.popup&&s.popup.closed&&(clearInterval(d),clearTimeout(f),window.removeEventListener("message",c,!1),u(new gL(s.popup)))}),1e3),f=setTimeout((()=>{clearInterval(d),u(new vL(s.popup)),window.removeEventListener("message",c,!1)}),1e3*(s.timeoutInSeconds||60));c=function(h){if(h.data&&h.data.type==="authorization_response"){if(clearTimeout(f),clearInterval(d),window.removeEventListener("message",c,!1),s.popup.close(),h.data.response.error)return u(ai.fromPayload(h.data.response));l(h.data.response)}},window.addEventListener("message",c)})))(Object.assign(Object.assign({},e),{timeoutInSeconds:e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(o.state!==i.state)throw new ai("state_mismatch","Invalid state");const a=((r=t.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:"authorization_code",code:i.code,redirect_uri:o.redirect_uri},{nonceIn:o.nonce,organization:a})}async getUser(){var t;const e=await this._getIdTokenFromCache();return(t=e==null?void 0:e.decodedToken)===null||t===void 0?void 0:t.user}async getIdTokenClaims(){var t;const e=await this._getIdTokenFromCache();return(t=e==null?void 0:e.decodedToken)===null||t===void 0?void 0:t.claims}async loginWithRedirect(t={}){var e;const r=oH(t),{openUrl:o,fragment:i,appState:a}=r,s=gd(r,["openUrl","fragment","appState"]),l=((e=s.authorizationParams)===null||e===void 0?void 0:e.organization)||this.options.authorizationParams.organization,u=await this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:c}=u,d=gd(u,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},d),{appState:a,response_type:Mp.Code}),l&&{organization:l}));const f=i?`${c}#${i}`:c;o?await o(f):window.location.assign(f)}async handleRedirectCallback(t=window.location.href){const e=t.split("?").slice(1);if(e.length===0)throw new Error("There are no query params available for parsing.");const r=this.transactionManager.get();if(!r)throw new ai("missing_transaction","Invalid state");this.transactionManager.remove();const o=(i=>{i.indexOf("#")>-1&&(i=i.substring(0,i.indexOf("#")));const a=new URLSearchParams(i);return{state:a.get("state"),code:a.get("code")||void 0,connect_code:a.get("connect_code")||void 0,error:a.get("error")||void 0,error_description:a.get("error_description")||void 0}})(e.join(""));return r.response_type===Mp.ConnectCode?this._handleConnectAccountRedirectCallback(o,r):this._handleLoginRedirectCallback(o,r)}async _handleLoginRedirectCallback(t,e){const{code:r,state:o,error:i,error_description:a}=t;if(i)throw new pL(i,a||i,o,e.appState);if(!e.code_verifier||e.state&&e.state!==o)throw new ai("state_mismatch","Invalid state");const s=e.organization,l=e.nonce,u=e.redirect_uri;return await this._requestToken(Object.assign({audience:e.audience,scope:e.scope,code_verifier:e.code_verifier,grant_type:"authorization_code",code:r},u?{redirect_uri:u}:{}),{nonceIn:l,organization:s}),{appState:e.appState,response_type:Mp.Code}}async _handleConnectAccountRedirectCallback(t,e){const{connect_code:r,state:o,error:i,error_description:a}=t;if(i)throw new mL(i,a||i,e.connection,o,e.appState);if(!r)throw new ai("missing_connect_code","Missing connect code");if(!(e.code_verifier&&e.state&&e.auth_session&&e.redirect_uri&&e.state===o))throw new ai("state_mismatch","Invalid state");const s=await this.myAccountApi.completeAccount({auth_session:e.auth_session,connect_code:r,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier});return Object.assign(Object.assign({},s),{appState:e.appState,response_type:Mp.ConnectCode})}async checkSession(t){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(t)}catch{}}async getTokenSilently(t={}){var e,r;const o=Object.assign(Object.assign({cacheMode:"on"},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:b1(this.scope,(e=t.authorizationParams)===null||e===void 0?void 0:e.scope,((r=t.authorizationParams)===null||r===void 0?void 0:r.audience)||this.options.authorizationParams.audience)})}),i=await((a,s)=>{let l=hP[s];return l||(l=a().finally((()=>{delete hP[s],l=null})),hP[s]=l),l})((()=>this._getTokenSilently(o)),`${this.options.clientId}::${o.authorizationParams.audience}::${o.authorizationParams.scope}`);return t.detailedResponse?i:i==null?void 0:i.access_token}async _getTokenSilently(t){const{cacheMode:e}=t,r=gd(t,["cacheMode"]);if(e!=="off"){const i=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId,cacheMode:e});if(i)return i}if(e==="cache-only")return;const o=`auth0.lock.getTokenSilently.${this.options.clientId}.${r.authorizationParams.audience||"default"}`;if(!await(async(i,a=3)=>{for(let s=0;s<a;s++)if(await i())return!0;return!1})((()=>pP.acquireLock(o,5e3)),10))throw new zM;this.activeLockKeys.add(o),this.activeLockKeys.size===1&&window.addEventListener("pagehide",this._releaseLockOnPageHide);try{if(e!=="off"){const d=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(d)return d}const i=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(r):await this._getTokenFromIFrame(r),{id_token:a,token_type:s,access_token:l,oauthTokenScope:u,expires_in:c}=i;return Object.assign(Object.assign({id_token:a,token_type:s,access_token:l},u?{scope:u}:null),{expires_in:c})}finally{await pP.releaseLock(o),this.activeLockKeys.delete(o),this.activeLockKeys.size===0&&window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}async getTokenWithPopup(t={},e={}){var r,o;const i=Object.assign(Object.assign({},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:b1(this.scope,(r=t.authorizationParams)===null||r===void 0?void 0:r.scope,((o=t.authorizationParams)===null||o===void 0?void 0:o.audience)||this.options.authorizationParams.audience)})});return e=Object.assign(Object.assign({},Mie),e),await this.loginWithPopup(i,e),(await this.cacheManager.get(new Pu({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt)).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(t){t.clientId!==null?t.clientId=t.clientId||this.options.clientId:delete t.clientId;const e=t.logoutParams||{},{federated:r}=e,o=gd(e,["federated"]),i=r?"&federated":"";return this._url(`/v2/logout?${GM(Object.assign({clientId:t.clientId},o))}`)+i}async logout(t={}){var e;const r=oH(t),{openUrl:o}=r,i=gd(r,["openUrl"]);t.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@"),await((e=this.dpop)===null||e===void 0?void 0:e.clear());const a=this._buildLogoutUrl(i);o?await o(a):o!==!1&&window.location.assign(a)}async _getTokenFromIFrame(t){const e=Object.assign(Object.assign({},t.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!e.organization&&(e.organization=r);const{url:o,state:i,nonce:a,code_verifier:s,redirect_uri:l,scope:u,audience:c}=await this._prepareAuthorizeUrl(e,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new ai("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const d=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds;let f;try{f=new URL(this.domainUrl).origin}catch{f=this.domainUrl}const h=await((v,g,_=60)=>new Promise(((S,y)=>{const C=window.document.createElement("iframe");C.setAttribute("width","0"),C.setAttribute("height","0"),C.style.display="none";const T=()=>{window.document.body.contains(C)&&(window.document.body.removeChild(C),window.removeEventListener("message",P,!1))};let P;const F=setTimeout((()=>{y(new zM),T()}),1e3*_);P=function(I){if(I.origin!=g||!I.data||I.data.type!=="authorization_response")return;const k=I.source;k&&k.close(),I.data.response.error?y(ai.fromPayload(I.data.response)):S(I.data.response),clearTimeout(F),window.removeEventListener("message",P,!1),setTimeout(T,2e3)},window.addEventListener("message",P,!1),window.document.body.appendChild(C),C.setAttribute("src",v)})))(o,f,d);if(i!==h.state)throw new ai("state_mismatch","Invalid state");const p=await this._requestToken(Object.assign(Object.assign({},t.authorizationParams),{code_verifier:s,code:h.code,grant_type:"authorization_code",redirect_uri:l,timeout:t.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:e.organization});return Object.assign(Object.assign({},p),{scope:u,oauthTokenScope:p.scope,audience:c})}catch(d){throw d.error==="login_required"&&this.logout({openUrl:!1}),d}}async _getTokenUsingRefreshToken(t){const e=await this.cacheManager.get(new Pu({scope:t.authorizationParams.scope,audience:t.authorizationParams.audience||"default",clientId:this.options.clientId}),void 0,this.options.useMrrt);if(!(e&&e.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);throw new Bk(t.authorizationParams.audience||"default",t.authorizationParams.scope)}const r=t.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,o=typeof t.timeoutInSeconds=="number"?1e3*t.timeoutInSeconds:null,i=((c,d,f,h)=>{var p;if(c&&f&&h){if(d.audience!==f)return d.scope;const v=h.split(" "),g=((p=d.scope)===null||p===void 0?void 0:p.split(" "))||[],_=g.every((S=>v.includes(S)));return v.length>=g.length&&_?h:d.scope}return d.scope})(this.options.useMrrt,t.authorizationParams,e==null?void 0:e.audience,e==null?void 0:e.scope);try{const c=await this._requestToken(Object.assign(Object.assign(Object.assign({},t.authorizationParams),{grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:r}),o&&{timeout:o}),{scopesToRequest:i});if(c.refresh_token&&this.options.useMrrt&&(e!=null&&e.refresh_token)&&await this.cacheManager.updateEntry(e.refresh_token,c.refresh_token),this.options.useMrrt&&(a=e==null?void 0:e.audience,s=e==null?void 0:e.scope,l=t.authorizationParams.audience,u=t.authorizationParams.scope,!(a===l&&iH(u,s)||iH(i,c.scope)))){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);await this.cacheManager.remove(this.options.clientId,t.authorizationParams.audience,t.authorizationParams.scope);const d=((f,h)=>{const p=(f==null?void 0:f.split(" "))||[],v=(h==null?void 0:h.split(" "))||[];return p.filter((g=>v.indexOf(g)==-1)).join(",")})(i,c.scope);throw new bL(t.authorizationParams.audience||"default",d)}return Object.assign(Object.assign({},c),{scope:t.authorizationParams.scope,oauthTokenScope:c.scope,audience:t.authorizationParams.audience||"default"})}catch(c){if((c.message.indexOf("Missing Refresh Token")>-1||c.message&&c.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(t);throw c}var a,s,l,u}async _saveEntryInCache(t){const{id_token:e,decodedToken:r}=t,o=gd(t,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:e,decodedToken:r}),await this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),await this.cacheManager.set(o)}async _getIdTokenFromCache(){const t=this.options.authorizationParams.audience||"default",e=this.scope[t],r=await this.cacheManager.getIdToken(new Pu({clientId:this.options.clientId,audience:t,scope:e})),o=this.userCache.get("@@user@@");return r&&r.id_token===(o==null?void 0:o.id_token)?o:(this.userCache.set("@@user@@",r),r)}async _getEntryFromCache({scope:t,audience:e,clientId:r,cacheMode:o}){const i=await this.cacheManager.get(new Pu({scope:t,audience:e,clientId:r}),60,this.options.useMrrt,o);if(i&&i.access_token){const{token_type:a,access_token:s,oauthTokenScope:l,expires_in:u}=i,c=await this._getIdTokenFromCache();return c&&Object.assign(Object.assign({id_token:c.id_token,token_type:a||"Bearer",access_token:s},l?{scope:l}:null),{expires_in:u})}}async _requestToken(t,e){const{nonceIn:r,organization:o,scopesToRequest:i}=e||{},a=await Kie(Object.assign(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs,useMrrt:this.options.useMrrt,dpop:this.dpop},t),{scope:i||t.scope}),this.worker),s=await this._verifyIdToken(a.id_token,r,o);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},a),{decodedToken:s,scope:t.scope,audience:t.audience||"default"}),a.scope?{oauthTokenScope:a.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(o||s.claims.org_id),Object.assign(Object.assign({},a),{decodedToken:s})}async exchangeToken(t){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:t.subject_token,subject_token_type:t.subject_token_type,scope:b1(this.scope,t.scope,t.audience||this.options.authorizationParams.audience),audience:t.audience||this.options.authorizationParams.audience})}_assertDpop(t){if(!t)throw new Error("`useDpop` option must be enabled before using DPoP.")}getDpopNonce(t){return this._assertDpop(this.dpop),this.dpop.getNonce(t)}setDpopNonce(t,e){return this._assertDpop(this.dpop),this.dpop.setNonce(t,e)}generateDpopProof(t){return this._assertDpop(this.dpop),this.dpop.generateProof(t)}createFetcher(t={}){return new oae(t,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:e=>{var r;return this.getTokenSilently({authorizationParams:{scope:(r=e==null?void 0:e.scope)===null||r===void 0?void 0:r.join(" "),audience:e==null?void 0:e.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(t.dpopNonceId),setDpopNonce:e=>this.setDpopNonce(e,t.dpopNonceId),generateDpopProof:e=>this.generateDpopProof(e)})}async connectAccountWithRedirect(t){const{openUrl:e,appState:r,connection:o,scopes:i,authorization_params:a,redirectUri:s=this.options.authorizationParams.redirect_uri||window.location.origin}=t;if(!o)throw new Error("connection is required");const l=fP(L0()),u=L0(),c=await qR(u),d=tH(c),{connect_uri:f,connect_params:h,auth_session:p}=await this.myAccountApi.connectAccount({connection:o,scopes:i,redirect_uri:s,state:l,code_challenge:d,code_challenge_method:"S256",authorization_params:a});this.transactionManager.create({state:l,code_verifier:u,auth_session:p,redirect_uri:s,appState:r,connection:o,response_type:Mp.ConnectCode});const v=new URL(f);v.searchParams.set("ticket",h.ticket),e?await e(v.toString()):window.location.assign(v)}}function ab(n){n!=null&&n.redirect_uri&&(console.warn("Using `redirect_uri` has been deprecated, please use `authorizationParams.redirect_uri` instead as `redirectUri` will be no longer supported in a future version"),n.authorizationParams=n.authorizationParams||{},n.authorizationParams.redirect_uri=n.redirect_uri,delete n.redirect_uri)}const pc=()=>{console.error("Please ensure Auth0's Vue plugin is correctly installed.")},sae={isLoading:Oe(!1),isAuthenticated:Oe(!1),user:Oe(void 0),idTokenClaims:Oe(void 0),error:Oe(null),loginWithPopup:pc,loginWithRedirect:pc,getAccessTokenSilently:pc,getAccessTokenWithPopup:pc,logout:pc,checkSession:pc,handleRedirectCallback:pc,getDpopNonce:pc,setDpopNonce:pc,generateDpopProof:pc,createFetcher:pc},lae=Oe(sae);class uae{constructor(t,e){var r,o;this.clientOptions=t,this.pluginOptions=e,this.isLoading=Oe(!0),this.isAuthenticated=Oe(!1),this.user=Oe({}),this.idTokenClaims=Oe(),this.error=Oe(null),r=this,o=["constructor"],Object.getOwnPropertyNames(Object.getPrototypeOf(r)).filter((i=>!o.includes(i))).forEach((i=>r[i]=r[i].bind(r)))}install(t){this._client=new aae(Object.assign(Object.assign({},this.clientOptions),{auth0Client:{name:"auth0-vue",version:"2.3.1"}})),this.__checkSession(t.config.globalProperties.$router),t.config.globalProperties.$auth0=this,t.provide(Z6,this),lae.value=this}async loginWithRedirect(t){return ab(t),this._client.loginWithRedirect(t)}async loginWithPopup(t,e){return ab(t),this.__proxy((()=>this._client.loginWithPopup(t,e)))}async logout(t){return t!=null&&t.openUrl||(t==null?void 0:t.openUrl)===!1?this.__proxy((()=>this._client.logout(t))):this._client.logout(t)}async getAccessTokenSilently(t={}){return ab(t),this.__proxy((()=>this._client.getTokenSilently(t)))}async getAccessTokenWithPopup(t,e){return ab(t),this.__proxy((()=>this._client.getTokenWithPopup(t,e)))}async checkSession(t){return this.__proxy((()=>this._client.checkSession(t)))}async handleRedirectCallback(t){return this.__proxy((()=>this._client.handleRedirectCallback(t)))}async getDpopNonce(t){return this.__proxy((()=>this._client.getDpopNonce(t)))}async setDpopNonce(t,e){return this.__proxy((()=>this._client.setDpopNonce(t,e)))}async generateDpopProof(t){return this.__proxy((()=>this._client.generateDpopProof(t)))}createFetcher(t){return this._client.createFetcher(t)}async __checkSession(t){var e,r,o;const i=window.location.search;try{if((i.includes("code=")||i.includes("error="))&&i.includes("state=")&&!(!((e=this.pluginOptions)===null||e===void 0)&&e.skipRedirectCallback)){const a=await this.handleRedirectCallback(),s=a==null?void 0:a.appState,l=(r=s==null?void 0:s.target)!==null&&r!==void 0?r:"/";return window.history.replaceState({},"","/"),t&&t.push(l),a}await this.checkSession()}catch{window.history.replaceState({},"","/"),t&&t.push(((o=this.pluginOptions)===null||o===void 0?void 0:o.errorPath)||"/")}}async __refreshState(){this.isAuthenticated.value=await this._client.isAuthenticated(),this.user.value=await this._client.getUser(),this.idTokenClaims.value=await this._client.getIdTokenClaims(),this.isLoading.value=!1}async __proxy(t,e=!0){let r;try{r=await t(),this.error.value=null}catch(o){throw this.error.value=o,o}finally{e&&await this.__refreshState()}return r}}function cae(n,t){return ab(n),new uae(n,t)}function Er(){return Hn(Z6)}function cK(n,t){return function(){return n.apply(t,arguments)}}const{toString:dae}=Object.prototype,{getPrototypeOf:wL}=Object,Tk=(n=>t=>{const e=dae.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Hd=n=>(n=n.toLowerCase(),t=>Tk(t)===n),Ok=n=>t=>typeof t===n,{isArray:Ly}=Array,yw=Ok("undefined");function fae(n){return n!==null&&!yw(n)&&n.constructor!==null&&!yw(n.constructor)&&Hu(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const dK=Hd("ArrayBuffer");function Aae(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&dK(n.buffer),t}const hae=Ok("string"),Hu=Ok("function"),fK=Ok("number"),Pk=n=>n!==null&&typeof n=="object",pae=n=>n===!0||n===!1,IS=n=>{if(Tk(n)!=="object")return!1;const t=wL(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},mae=Hd("Date"),vae=Hd("File"),gae=Hd("Blob"),yae=Hd("FileList"),bae=n=>Pk(n)&&Hu(n.pipe),wae=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||Hu(n.append)&&((t=Tk(n))==="formdata"||t==="object"&&Hu(n.toString)&&n.toString()==="[object FormData]"))},_ae=Hd("URLSearchParams"),Cae=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function I_(n,t,{allOwnKeys:e=!1}={}){if(n===null||typeof n>"u")return;let r,o;if(typeof n!="object"&&(n=[n]),Ly(n))for(r=0,o=n.length;r<o;r++)t.call(null,n[r],r,n);else{const i=e?Object.getOwnPropertyNames(n):Object.keys(n),a=i.length;let s;for(r=0;r<a;r++)s=i[r],t.call(null,n[s],s,n)}}function AK(n,t){t=t.toLowerCase();const e=Object.keys(n);let r=e.length,o;for(;r-- >0;)if(o=e[r],t===o.toLowerCase())return o;return null}const hK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pK=n=>!yw(n)&&n!==hK;function XM(){const{caseless:n}=pK(this)&&this||{},t={},e=(r,o)=>{const i=n&&AK(t,o)||o;IS(t[i])&&IS(r)?t[i]=XM(t[i],r):IS(r)?t[i]=XM({},r):Ly(r)?t[i]=r.slice():t[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&I_(arguments[r],e);return t}const Sae=(n,t,e,{allOwnKeys:r}={})=>(I_(t,(o,i)=>{e&&Hu(o)?n[i]=cK(o,e):n[i]=o},{allOwnKeys:r}),n),xae=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Eae=(n,t,e,r)=>{n.prototype=Object.create(t.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),e&&Object.assign(n.prototype,e)},Bae=(n,t,e,r)=>{let o,i,a;const s={};if(t=t||{},n==null)return t;do{for(o=Object.getOwnPropertyNames(n),i=o.length;i-- >0;)a=o[i],(!r||r(a,n,t))&&!s[a]&&(t[a]=n[a],s[a]=!0);n=e!==!1&&wL(n)}while(n&&(!e||e(n,t))&&n!==Object.prototype);return t},kae=(n,t,e)=>{n=String(n),(e===void 0||e>n.length)&&(e=n.length),e-=t.length;const r=n.indexOf(t,e);return r!==-1&&r===e},Tae=n=>{if(!n)return null;if(Ly(n))return n;let t=n.length;if(!fK(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=n[t];return e},Oae=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&wL(Uint8Array)),Pae=(n,t)=>{const r=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=r.next())&&!o.done;){const i=o.value;t.call(n,i[0],i[1])}},Iae=(n,t)=>{let e;const r=[];for(;(e=n.exec(t))!==null;)r.push(e);return r},Mae=Hd("HTMLFormElement"),Fae=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,r,o){return r.toUpperCase()+o}),aH=(({hasOwnProperty:n})=>(t,e)=>n.call(t,e))(Object.prototype),Dae=Hd("RegExp"),mK=(n,t)=>{const e=Object.getOwnPropertyDescriptors(n),r={};I_(e,(o,i)=>{let a;(a=t(o,i,n))!==!1&&(r[i]=a||o)}),Object.defineProperties(n,r)},Uae=n=>{mK(n,(t,e)=>{if(Hu(n)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const r=n[e];if(Hu(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},Lae=(n,t)=>{const e={},r=o=>{o.forEach(i=>{e[i]=!0})};return Ly(n)?r(n):r(String(n).split(t)),e},Vae=()=>{},Nae=(n,t)=>(n=+n,Number.isFinite(n)?n:t),mP="abcdefghijklmnopqrstuvwxyz",sH="0123456789",vK={DIGIT:sH,ALPHA:mP,ALPHA_DIGIT:mP+mP.toUpperCase()+sH},Rae=(n=16,t=vK.ALPHA_DIGIT)=>{let e="";const{length:r}=t;for(;n--;)e+=t[Math.random()*r|0];return e};function Hae(n){return!!(n&&Hu(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Qae=n=>{const t=new Array(10),e=(r,o)=>{if(Pk(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[o]=r;const i=Ly(r)?[]:{};return I_(r,(a,s)=>{const l=e(a,o+1);!yw(l)&&(i[s]=l)}),t[o]=void 0,i}}return r};return e(n,0)},jae=Hd("AsyncFunction"),$ae=n=>n&&(Pk(n)||Hu(n))&&Hu(n.then)&&Hu(n.catch),Bt={isArray:Ly,isArrayBuffer:dK,isBuffer:fae,isFormData:wae,isArrayBufferView:Aae,isString:hae,isNumber:fK,isBoolean:pae,isObject:Pk,isPlainObject:IS,isUndefined:yw,isDate:mae,isFile:vae,isBlob:gae,isRegExp:Dae,isFunction:Hu,isStream:bae,isURLSearchParams:_ae,isTypedArray:Oae,isFileList:yae,forEach:I_,merge:XM,extend:Sae,trim:Cae,stripBOM:xae,inherits:Eae,toFlatObject:Bae,kindOf:Tk,kindOfTest:Hd,endsWith:kae,toArray:Tae,forEachEntry:Pae,matchAll:Iae,isHTMLForm:Mae,hasOwnProperty:aH,hasOwnProp:aH,reduceDescriptors:mK,freezeMethods:Uae,toObjectSet:Lae,toCamelCase:Fae,noop:Vae,toFiniteNumber:Nae,findKey:AK,global:hK,isContextDefined:pK,ALPHABET:vK,generateString:Rae,isSpecCompliantForm:Hae,toJSONObject:Qae,isAsyncFn:jae,isThenable:$ae};function Pr(n,t,e,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),r&&(this.request=r),o&&(this.response=o)}Bt.inherits(Pr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Bt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gK=Pr.prototype,yK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{yK[n]={value:n}});Object.defineProperties(Pr,yK);Object.defineProperty(gK,"isAxiosError",{value:!0});Pr.from=(n,t,e,r,o,i)=>{const a=Object.create(gK);return Bt.toFlatObject(n,a,function(l){return l!==Error.prototype},s=>s!=="isAxiosError"),Pr.call(a,n.message,t,e,r,o),a.cause=n,a.name=n.name,i&&Object.assign(a,i),a};const Kae=null;function JM(n){return Bt.isPlainObject(n)||Bt.isArray(n)}function bK(n){return Bt.endsWith(n,"[]")?n.slice(0,-2):n}function lH(n,t,e){return n?n.concat(t).map(function(o,i){return o=bK(o),!e&&i?"["+o+"]":o}).join(e?".":""):t}function Wae(n){return Bt.isArray(n)&&!n.some(JM)}const zae=Bt.toFlatObject(Bt,{},null,function(t){return/^is[A-Z]/.test(t)});function Ik(n,t,e){if(!Bt.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,e=Bt.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,g){return!Bt.isUndefined(g[v])});const r=e.metaTokens,o=e.visitor||c,i=e.dots,a=e.indexes,l=(e.Blob||typeof Blob<"u"&&Blob)&&Bt.isSpecCompliantForm(t);if(!Bt.isFunction(o))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Bt.isDate(p))return p.toISOString();if(!l&&Bt.isBlob(p))throw new Pr("Blob is not supported. Use a Buffer instead.");return Bt.isArrayBuffer(p)||Bt.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function c(p,v,g){let _=p;if(p&&!g&&typeof p=="object"){if(Bt.endsWith(v,"{}"))v=r?v:v.slice(0,-2),p=JSON.stringify(p);else if(Bt.isArray(p)&&Wae(p)||(Bt.isFileList(p)||Bt.endsWith(v,"[]"))&&(_=Bt.toArray(p)))return v=bK(v),_.forEach(function(y,C){!(Bt.isUndefined(y)||y===null)&&t.append(a===!0?lH([v],C,i):a===null?v:v+"[]",u(y))}),!1}return JM(p)?!0:(t.append(lH(g,v,i),u(p)),!1)}const d=[],f=Object.assign(zae,{defaultVisitor:c,convertValue:u,isVisitable:JM});function h(p,v){if(!Bt.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(p),Bt.forEach(p,function(_,S){(!(Bt.isUndefined(_)||_===null)&&o.call(t,_,Bt.isString(S)?S.trim():S,v,f))===!0&&h(_,v?v.concat(S):[S])}),d.pop()}}if(!Bt.isObject(n))throw new TypeError("data must be an object");return h(n),t}function uH(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function _L(n,t){this._pairs=[],n&&Ik(n,this,t)}const wK=_L.prototype;wK.append=function(t,e){this._pairs.push([t,e])};wK.toString=function(t){const e=t?function(r){return t.call(this,r,uH)}:uH;return this._pairs.map(function(o){return e(o[0])+"="+e(o[1])},"").join("&")};function Gae(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _K(n,t,e){if(!t)return n;const r=e&&e.encode||Gae,o=e&&e.serialize;let i;if(o?i=o(t,e):i=Bt.isURLSearchParams(t)?t.toString():new _L(t,e).toString(r),i){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class cH{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Bt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const CK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yae=typeof URLSearchParams<"u"?URLSearchParams:_L,Xae=typeof FormData<"u"?FormData:null,Jae=typeof Blob<"u"?Blob:null,Zae=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),qae=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Cd={classes:{URLSearchParams:Yae,FormData:Xae,Blob:Jae},isStandardBrowserEnv:Zae,isStandardBrowserWebWorkerEnv:qae,protocols:["http","https","file","blob","url","data"]};function ese(n,t){return Ik(n,new Cd.classes.URLSearchParams,Object.assign({visitor:function(e,r,o,i){return Cd.isNode&&Bt.isBuffer(e)?(this.append(r,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function tse(n){return Bt.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function nse(n){const t={},e=Object.keys(n);let r;const o=e.length;let i;for(r=0;r<o;r++)i=e[r],t[i]=n[i];return t}function SK(n){function t(e,r,o,i){let a=e[i++];const s=Number.isFinite(+a),l=i>=e.length;return a=!a&&Bt.isArray(o)?o.length:a,l?(Bt.hasOwnProp(o,a)?o[a]=[o[a],r]:o[a]=r,!s):((!o[a]||!Bt.isObject(o[a]))&&(o[a]=[]),t(e,r,o[a],i)&&Bt.isArray(o[a])&&(o[a]=nse(o[a])),!s)}if(Bt.isFormData(n)&&Bt.isFunction(n.entries)){const e={};return Bt.forEachEntry(n,(r,o)=>{t(tse(r),o,e,0)}),e}return null}function rse(n,t,e){if(Bt.isString(n))try{return(t||JSON.parse)(n),Bt.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(e||JSON.stringify)(n)}const M_={transitional:CK,adapter:["xhr","http"],transformRequest:[function(t,e){const r=e.getContentType()||"",o=r.indexOf("application/json")>-1,i=Bt.isObject(t);if(i&&Bt.isHTMLForm(t)&&(t=new FormData(t)),Bt.isFormData(t))return o&&o?JSON.stringify(SK(t)):t;if(Bt.isArrayBuffer(t)||Bt.isBuffer(t)||Bt.isStream(t)||Bt.isFile(t)||Bt.isBlob(t))return t;if(Bt.isArrayBufferView(t))return t.buffer;if(Bt.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let s;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ese(t,this.formSerializer).toString();if((s=Bt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ik(s?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||o?(e.setContentType("application/json",!1),rse(t)):t}],transformResponse:[function(t){const e=this.transitional||M_.transitional,r=e&&e.forcedJSONParsing,o=this.responseType==="json";if(t&&Bt.isString(t)&&(r&&!this.responseType||o)){const a=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(s){if(a)throw s.name==="SyntaxError"?Pr.from(s,Pr.ERR_BAD_RESPONSE,this,null,this.response):s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cd.classes.FormData,Blob:Cd.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Bt.forEach(["delete","get","head","post","put","patch"],n=>{M_.headers[n]={}});const ose=Bt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ise=n=>{const t={};let e,r,o;return n&&n.split(`
`).forEach(function(a){o=a.indexOf(":"),e=a.substring(0,o).trim().toLowerCase(),r=a.substring(o+1).trim(),!(!e||t[e]&&ose[e])&&(e==="set-cookie"?t[e]?t[e].push(r):t[e]=[r]:t[e]=t[e]?t[e]+", "+r:r)}),t},dH=Symbol("internals");function N0(n){return n&&String(n).trim().toLowerCase()}function MS(n){return n===!1||n==null?n:Bt.isArray(n)?n.map(MS):String(n)}function ase(n){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=e.exec(n);)t[r[1]]=r[2];return t}const sse=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function vP(n,t,e,r,o){if(Bt.isFunction(r))return r.call(this,t,e);if(o&&(t=e),!!Bt.isString(t)){if(Bt.isString(r))return t.indexOf(r)!==-1;if(Bt.isRegExp(r))return r.test(t)}}function lse(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,r)=>e.toUpperCase()+r)}function use(n,t){const e=Bt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+e,{value:function(o,i,a){return this[r].call(this,t,o,i,a)},configurable:!0})})}let Qu=class{constructor(t){t&&this.set(t)}set(t,e,r){const o=this;function i(s,l,u){const c=N0(l);if(!c)throw new Error("header name must be a non-empty string");const d=Bt.findKey(o,c);(!d||o[d]===void 0||u===!0||u===void 0&&o[d]!==!1)&&(o[d||l]=MS(s))}const a=(s,l)=>Bt.forEach(s,(u,c)=>i(u,c,l));return Bt.isPlainObject(t)||t instanceof this.constructor?a(t,e):Bt.isString(t)&&(t=t.trim())&&!sse(t)?a(ise(t),e):t!=null&&i(e,t,r),this}get(t,e){if(t=N0(t),t){const r=Bt.findKey(this,t);if(r){const o=this[r];if(!e)return o;if(e===!0)return ase(o);if(Bt.isFunction(e))return e.call(this,o,r);if(Bt.isRegExp(e))return e.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=N0(t),t){const r=Bt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!e||vP(this,this[r],r,e)))}return!1}delete(t,e){const r=this;let o=!1;function i(a){if(a=N0(a),a){const s=Bt.findKey(r,a);s&&(!e||vP(r,r[s],s,e))&&(delete r[s],o=!0)}}return Bt.isArray(t)?t.forEach(i):i(t),o}clear(t){const e=Object.keys(this);let r=e.length,o=!1;for(;r--;){const i=e[r];(!t||vP(this,this[i],i,t,!0))&&(delete this[i],o=!0)}return o}normalize(t){const e=this,r={};return Bt.forEach(this,(o,i)=>{const a=Bt.findKey(r,i);if(a){e[a]=MS(o),delete e[i];return}const s=t?lse(i):String(i).trim();s!==i&&delete e[i],e[s]=MS(o),r[s]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Bt.forEach(this,(r,o)=>{r!=null&&r!==!1&&(e[o]=t&&Bt.isArray(r)?r.join(", "):r)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach(o=>r.set(o)),r}static accessor(t){const r=(this[dH]=this[dH]={accessors:{}}).accessors,o=this.prototype;function i(a){const s=N0(a);r[s]||(use(o,a),r[s]=!0)}return Bt.isArray(t)?t.forEach(i):i(t),this}};Qu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Bt.reduceDescriptors(Qu.prototype,({value:n},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(r){this[e]=r}}});Bt.freezeMethods(Qu);function gP(n,t){const e=this||M_,r=t||e,o=Qu.from(r.headers);let i=r.data;return Bt.forEach(n,function(s){i=s.call(e,i,o.normalize(),t?t.status:void 0)}),o.normalize(),i}function xK(n){return!!(n&&n.__CANCEL__)}function F_(n,t,e){Pr.call(this,n??"canceled",Pr.ERR_CANCELED,t,e),this.name="CanceledError"}Bt.inherits(F_,Pr,{__CANCEL__:!0});function cse(n,t,e){const r=e.config.validateStatus;!e.status||!r||r(e.status)?n(e):t(new Pr("Request failed with status code "+e.status,[Pr.ERR_BAD_REQUEST,Pr.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}const dse=Cd.isStandardBrowserEnv?(function(){return{write:function(e,r,o,i,a,s){const l=[];l.push(e+"="+encodeURIComponent(r)),Bt.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),Bt.isString(i)&&l.push("path="+i),Bt.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}})():(function(){return{write:function(){},read:function(){return null},remove:function(){}}})();function fse(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Ase(n,t){return t?n.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):n}function EK(n,t){return n&&!fse(t)?Ase(n,t):t}const hse=Cd.isStandardBrowserEnv?(function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function o(i){let a=i;return t&&(e.setAttribute("href",a),a=e.href),e.setAttribute("href",a),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return r=o(window.location.href),function(a){const s=Bt.isString(a)?o(a):a;return s.protocol===r.protocol&&s.host===r.host}})():(function(){return function(){return!0}})();function pse(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function mse(n,t){n=n||10;const e=new Array(n),r=new Array(n);let o=0,i=0,a;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[i];a||(a=u),e[o]=l,r[o]=u;let d=i,f=0;for(;d!==o;)f+=e[d++],d=d%n;if(o=(o+1)%n,o===i&&(i=(i+1)%n),u-a<t)return;const h=c&&u-c;return h?Math.round(f*1e3/h):void 0}}function fH(n,t){let e=0;const r=mse(50,250);return o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-e,l=r(s),u=i<=a;e=i;const c={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&u?(a-i)/l:void 0,event:o};c[t?"download":"upload"]=!0,n(c)}}const vse=typeof XMLHttpRequest<"u",gse=vse&&function(n){return new Promise(function(e,r){let o=n.data;const i=Qu.from(n.headers).normalize(),a=n.responseType;let s;function l(){n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let u;Bt.isFormData(o)&&(Cd.isStandardBrowserEnv||Cd.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.getContentType(/^\s*multipart\/form-data/)?Bt.isString(u=i.getContentType())&&i.setContentType(u.replace(/^\s*(multipart\/form-data);+/,"$1")):i.setContentType("multipart/form-data"));let c=new XMLHttpRequest;if(n.auth){const p=n.auth.username||"",v=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+v))}const d=EK(n.baseURL,n.url);c.open(n.method.toUpperCase(),_K(d,n.params,n.paramsSerializer),!0),c.timeout=n.timeout;function f(){if(!c)return;const p=Qu.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!a||a==="text"||a==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:n,request:c};cse(function(S){e(S),l()},function(S){r(S),l()},g),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(r(new Pr("Request aborted",Pr.ECONNABORTED,n,c)),c=null)},c.onerror=function(){r(new Pr("Network Error",Pr.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let v=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const g=n.transitional||CK;n.timeoutErrorMessage&&(v=n.timeoutErrorMessage),r(new Pr(v,g.clarifyTimeoutError?Pr.ETIMEDOUT:Pr.ECONNABORTED,n,c)),c=null},Cd.isStandardBrowserEnv){const p=hse(d)&&n.xsrfCookieName&&dse.read(n.xsrfCookieName);p&&i.set(n.xsrfHeaderName,p)}o===void 0&&i.setContentType(null),"setRequestHeader"in c&&Bt.forEach(i.toJSON(),function(v,g){c.setRequestHeader(g,v)}),Bt.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),a&&a!=="json"&&(c.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&c.addEventListener("progress",fH(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",fH(n.onUploadProgress)),(n.cancelToken||n.signal)&&(s=p=>{c&&(r(!p||p.type?new F_(null,n,c):p),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const h=pse(d);if(h&&Cd.protocols.indexOf(h)===-1){r(new Pr("Unsupported protocol "+h+":",Pr.ERR_BAD_REQUEST,n));return}c.send(o||null)})},ZM={http:Kae,xhr:gse};Bt.forEach(ZM,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const AH=n=>`- ${n}`,yse=n=>Bt.isFunction(n)||n===null||n===!1,BK={getAdapter:n=>{n=Bt.isArray(n)?n:[n];const{length:t}=n;let e,r;const o={};for(let i=0;i<t;i++){e=n[i];let a;if(r=e,!yse(e)&&(r=ZM[(a=String(e)).toLowerCase()],r===void 0))throw new Pr(`Unknown adapter '${a}'`);if(r)break;o[a||"#"+i]=r}if(!r){const i=Object.entries(o).map(([s,l])=>`adapter ${s} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?i.length>1?`since :
`+i.map(AH).join(`
`):" "+AH(i[0]):"as no adapter specified";throw new Pr("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:ZM};function yP(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new F_(null,n)}function hH(n){return yP(n),n.headers=Qu.from(n.headers),n.data=gP.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),BK.getAdapter(n.adapter||M_.adapter)(n).then(function(r){return yP(n),r.data=gP.call(n,n.transformResponse,r),r.headers=Qu.from(r.headers),r},function(r){return xK(r)||(yP(n),r&&r.response&&(r.response.data=gP.call(n,n.transformResponse,r.response),r.response.headers=Qu.from(r.response.headers))),Promise.reject(r)})}const pH=n=>n instanceof Qu?n.toJSON():n;function dy(n,t){t=t||{};const e={};function r(u,c,d){return Bt.isPlainObject(u)&&Bt.isPlainObject(c)?Bt.merge.call({caseless:d},u,c):Bt.isPlainObject(c)?Bt.merge({},c):Bt.isArray(c)?c.slice():c}function o(u,c,d){if(Bt.isUndefined(c)){if(!Bt.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function i(u,c){if(!Bt.isUndefined(c))return r(void 0,c)}function a(u,c){if(Bt.isUndefined(c)){if(!Bt.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function s(u,c,d){if(d in t)return r(u,c);if(d in n)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(u,c)=>o(pH(u),pH(c),!0)};return Bt.forEach(Object.keys(Object.assign({},n,t)),function(c){const d=l[c]||o,f=d(n[c],t[c],c);Bt.isUndefined(f)&&d!==s||(e[c]=f)}),e}const kK="1.6.0",CL={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{CL[n]=function(r){return typeof r===n||"a"+(t<1?"n ":" ")+n}});const mH={};CL.transitional=function(t,e,r){function o(i,a){return"[Axios v"+kK+"] Transitional option '"+i+"'"+a+(r?". "+r:"")}return(i,a,s)=>{if(t===!1)throw new Pr(o(a," has been removed"+(e?" in "+e:"")),Pr.ERR_DEPRECATED);return e&&!mH[a]&&(mH[a]=!0,console.warn(o(a," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(i,a,s):!0}};function bse(n,t,e){if(typeof n!="object")throw new Pr("options must be an object",Pr.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const s=n[i],l=s===void 0||a(s,i,n);if(l!==!0)throw new Pr("option "+i+" must be "+l,Pr.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Pr("Unknown option "+i,Pr.ERR_BAD_OPTION)}}const qM={assertOptions:bse,validators:CL},LA=qM.validators;let lm=class{constructor(t){this.defaults=t,this.interceptors={request:new cH,response:new cH}}request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=dy(this.defaults,e);const{transitional:r,paramsSerializer:o,headers:i}=e;r!==void 0&&qM.assertOptions(r,{silentJSONParsing:LA.transitional(LA.boolean),forcedJSONParsing:LA.transitional(LA.boolean),clarifyTimeoutError:LA.transitional(LA.boolean)},!1),o!=null&&(Bt.isFunction(o)?e.paramsSerializer={serialize:o}:qM.assertOptions(o,{encode:LA.function,serialize:LA.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let a=i&&Bt.merge(i.common,i[e.method]);i&&Bt.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),e.headers=Qu.concat(a,i);const s=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(e)===!1||(l=l&&v.synchronous,s.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let c,d=0,f;if(!l){const p=[hH.bind(this),void 0];for(p.unshift.apply(p,s),p.push.apply(p,u),f=p.length,c=Promise.resolve(e);d<f;)c=c.then(p[d++],p[d++]);return c}f=s.length;let h=e;for(d=0;d<f;){const p=s[d++],v=s[d++];try{h=p(h)}catch(g){v.call(this,g);break}}try{c=hH.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(t){t=dy(this.defaults,t);const e=EK(t.baseURL,t.url);return _K(e,t.params,t.paramsSerializer)}};Bt.forEach(["delete","get","head","options"],function(t){lm.prototype[t]=function(e,r){return this.request(dy(r||{},{method:t,url:e,data:(r||{}).data}))}});Bt.forEach(["post","put","patch"],function(t){function e(r){return function(i,a,s){return this.request(dy(s||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:a}))}}lm.prototype[t]=e(),lm.prototype[t+"Form"]=e(!0)});let wse=class TK{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(i){e=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const a=new Promise(s=>{r.subscribe(s),i=s}).then(o);return a.cancel=function(){r.unsubscribe(i)},a},t(function(i,a,s){r.reason||(r.reason=new F_(i,a,s),e(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}static source(){let t;return{token:new TK(function(o){t=o}),cancel:t}}};function _se(n){return function(e){return n.apply(null,e)}}function Cse(n){return Bt.isObject(n)&&n.isAxiosError===!0}const eF={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eF).forEach(([n,t])=>{eF[t]=n});function OK(n){const t=new lm(n),e=cK(lm.prototype.request,t);return Bt.extend(e,lm.prototype,t,{allOwnKeys:!0}),Bt.extend(e,t,null,{allOwnKeys:!0}),e.create=function(o){return OK(dy(n,o))},e}const ki=OK(M_);ki.Axios=lm;ki.CanceledError=F_;ki.CancelToken=wse;ki.isCancel=xK;ki.VERSION=kK;ki.toFormData=Ik;ki.AxiosError=Pr;ki.Cancel=ki.CanceledError;ki.all=function(t){return Promise.all(t)};ki.spread=_se;ki.isAxiosError=Cse;ki.mergeConfig=dy;ki.AxiosHeaders=Qu;ki.formToJSON=n=>SK(Bt.isHTMLForm(n)?new FormData(n):n);ki.getAdapter=BK.getAdapter;ki.HttpStatusCode=eF;ki.default=ki;const{Axios:iGe,AxiosError:aGe,CanceledError:sGe,isCancel:lGe,CancelToken:uGe,VERSION:cGe,all:dGe,Cancel:fGe,isAxiosError:AGe,spread:hGe,toFormData:pGe,AxiosHeaders:mGe,HttpStatusCode:vGe,formToJSON:gGe,getAdapter:yGe,mergeConfig:bGe}=ki,sn=n=>{const t=ki.create({baseURL:"/",headers:{"X-Authorization":`Bearer ${n}`}}),{ShowError:e}=Vt();return t.interceptors.response.use(r=>{var o;return((o=r.data)==null?void 0:o.result)===!1?(e(r.data.message||"Unknown error"),Promise.reject(new Error(r.data.message))):r},r=>{var i,a;const o=(a=(i=r==null?void 0:r.response)==null?void 0:i.data)==null?void 0:a.message;return e(o||"A network or server error occurred"),Promise.reject(r)}),t},Vt=N6("globals",{state:()=>({snackbar:{visible:!1,content:"",type:"",icon:""},profile:null,sidebar:!1,is_mobile:!1,hide_layout:!1,global_loading:!1,is_data_loaded:!1,are_customfields_added:!1,is_view_proposal_loaded:!1,pdfpage_default_zoom:1.1,proposal_active_filter:2,proposal_filter_loading:!1,proposal_filters:{manufacturer_id:null,filter_color:null,connectivity:[],print_volume_min:null,print_volume_max:null,print_speed_color:null,print_speed_black:null,paper_sizes:[],search_filter:""},proposal_ai_filter:{user_prompt:"",product_results:[],response_summary:""},products:[],datasets:[],accessories:[],lease_terms:[],manufacturers:[],categories:[],printer_categories:[],paper_sizes:[],connection_types:[],media_types:[],shortcodes:[],reserved_shortcodes:[],partners:[],partner_users:[],proposals:[],providers:[],files:[],inventory:[],upload_mapping:[],product_pricing:[],accessory_pricing:[],templates:[],addons:[],custom_fields:[],field_values:[],options:[],it_service_tiers:[],it_service_items:[],metrics:[],my_products:[],users:[],llm_fetching:!1,proposal:{id:null,user_id:"",partner_id:"",template_id:null,template_css:"",template_html:"",hash_code:"",category:"copier-lease",acquisition_type:"lease",company_name:"",first_name:"",last_name:"",email:"",title:"",cover_letter:"",status:"draft",expiry_date:"",sent_date:"",lease_type:"",lease_term_offered:"",lease_term_selected:"",prints_included_free:0,is_global_print_cost:0,show_contract_pages:0,show_term_options:1,show_prints_cost:1,accepted_by:"",accepted_date:"",accepted_ip_addr:"",accepted_initials:"",accepted_signature:"",lease_factor_provider:"",global_print_cost:{charge_type:"fixed-monthly",black_prints_included:0,color_prints_included:0,black_prints_cost:0,black_prints_margin:0,color_prints_cost:0,color_prints_margin:0,black_overage_cost:0,color_overage_cost:0},cart_items:[],cost_addons:[],it_service_items:[],contract_pages:[],created_at:"",updated_at:""},proposal_signatures:[],admin_signature:null,prop_custom_fields:[],email_form:{to:"",cc:[],from:"",body:"",subject:""},modals:{send_proposal:!1,preview_proposal:!1,proposal_template:!1,proposal_category:!0,my_product_editor:!1,metrics_modal:!1,paperwork_editor:!1,admin_signature:!1,custom_accessories:!1},view_proposal:null,view_prop_config:{is_loading:!1,signature_modal:!1,accept_modal:!1,pick_signer_modal:!1,selected_signer:null},gjs_instance:null,is_gjs_loaded:!1,component_order:[0,1,2,3],is_reordering:!1,panels:{products:0,lease_details:0,proposal_details:0,cost_breakdown:0},backend_theme:"dark",frontend_theme:"dark",dialog:{show:!1,title:"",content:"",ok_txt:"OK",cancel_txt:"Cancel",resolver:null},input_dialog:{show:!1,title:"",content:"",ok_txt:"OK",cancel_txt:"Cancel",resolver:null},partner_loading:!1,partner_modal:!1,partner_form:{id:null,name:"",website:"",logo:"",phone_number:"",brand_color:"",smtp_host:"",smtp_port:"",smtp_username:"",smtp_password:"",products_price_url:"",supported_brands:[],big_deals_feature:0,is_active:1},new_user_modal:!1,user_added_modal:!1}),persist:{pick:["profile","sidebar","component_order","panels","backend_theme","frontend_theme"]},actions:{LogError(n){console.log("%c"+n,"color: #FF2F50; font-weight: bold;")},ShowError(n){this.snackbar={visible:!0,content:n,type:"error",icon:"mdi-alert-circle"}},LogSuccess(n){console.log("%c"+n,"color: #4CAF50; font-weight: bold;")},ShowSuccess(n){this.snackbar={visible:!0,content:n,type:"success",icon:"mdi-check-circle"}},CloseSnackbar(){this.snackbar={visible:!1,content:"",type:"",icon:""}},SetProfile(n){this.profile=n},SetState(n){Object.assign(this,n)},SetPanel(n,t){this.panels[n]=t==null?1:0},SetPropCustomFields(n){this.prop_custom_fields=n},SetTemplateCssAndHtml(n,t,e){this.proposal.template_id=n,this.proposal.template_css=t,this.proposal.template_html=e},async FetchCatalogProducts(){return await sn("").post("/catalog/fetch-products").then(n=>{this.products=n.data.products,this.LogSuccess("Products fetched successfully.")})},async FetchCatalogAccessories(){return await sn("").post("/catalog/fetch-accessories").then(n=>{this.accessories=n.data.accessories,this.LogSuccess("Accessories fetched successfully.")})},async FetchCatalogDatasets(){return await sn("").post("/catalog/fetch-datasets").then(n=>{this.datasets=n.data.datasets,this.LogSuccess("Datasets fetched successfully.")})},async FetchUsers(n){return await sn(n).get("/users/fetch").then(t=>{this.users=t.data})},async FetchPartners(n){return await sn(n).get("/partners/fetch").then(t=>{this.partners=t.data})},async FetchPartnerUsers(n){return await sn(n).get("/partnerusers/fetch").then(t=>{this.partner_users=t.data})},async FetchProposals(n){return this.global_loading=!0,await sn(n).get(`/proposals/fetch/${this.FindPartnerId()}`).then(t=>{this.proposals=t.data}).finally(()=>{this.global_loading=!1})},async FetchProviders(n){return this.global_loading=!0,await sn(n).get(`/providers/fetch/${this.FindPartnerId()}`).then(t=>{this.providers=t.data}).finally(()=>{this.global_loading=!1})},async FetchFiles(n){return await sn(n).get(`/files/fetch/${this.FindPartnerId()}`).then(t=>{this.files=t.data})},async FetchInventory(n){return await sn(n).get(`/inventory/fetch/${this.FindPartnerId()}`).then(t=>{this.inventory=t.data})},async FetchProductPricing({token:n,partner_id:t}){const e=`/pricing/products-pricing/${t}`;return await sn(n).get(e).then(r=>{this.product_pricing=r.data})},async FetchAccessoryPricing({token:n,partner_id:t}){const e=`/pricing/accessories-pricing/${t}`;return await sn(n).get(e).then(r=>{this.accessory_pricing=r.data})},async FetchTemplates(n,t=!1){return t&&(this.global_loading=!0),await sn(n).get(`/templates/fetch/${this.FindPartnerId()}`).then(e=>{this.templates=e.data}).finally(()=>{this.global_loading=!1})},async FetchAddons(n){return this.global_loading=!1,await sn(n).get(`/addons/fetch/${this.FindPartnerId()}`).then(t=>{this.addons=t.data}).finally(()=>{this.global_loading=!1})},async FetchCustomFields(n){return await sn(n).get(`/customfields/fetch/${this.FindPartnerId()}`).then(t=>{this.custom_fields=t.data})},async FetchFieldValues(n){return await sn(n).get("/fieldvalues/fetch").then(t=>{this.field_values=t.data})},async FetchOptions(n){return await sn(n).get(`/options/fetch/${this.FindPartnerId()}`).then(t=>{this.options=t.data})},async FetchMetrics(n){return await sn(n).get(`/metrics/fetch/${this.FindPartnerId()}`).then(t=>{this.metrics=t.data})},async FetchItServiceItemsAndTiers(n){return await sn(n).get(`/itservices/fetch/${this.FindPartnerId()}`).then(t=>{this.it_service_items=t.data.items,this.it_service_tiers=t.data.tiers})},async SubmitPartnerForm(n,t){const e=new FormData,r=this.partner_form.id?"/partners/update":"/partners/store";this.partner_loading=!0,e.append("user_id",t),e.append("partner",JSON.stringify(this.partner_form)),sn(n).post(r,e).then(o=>{console.log(o.data),this.ShowSuccess(`Form successfully ${this.partner_form.id?"updated!":"added!"}`)}).finally(()=>{this.partner_modal=!1,this.FetchPartners(n).finally(()=>{this.partner_loading=!1})})},async FetchMyProducts(n){const t=this.FindPartnerId();sn(n).get(`/inventory/my-products/${t}`).then(e=>{this.my_products=e.data})},async FetchAllData(n){return await sn(n).get(`/data/fetch/${this.FindPartnerId()}`).then(t=>{this.users=t.data.users,this.files=t.data.files,this.options=t.data.options,this.lease_terms=t.data.lease_terms,this.manufacturers=t.data.manufacturers,this.categories=t.data.categories,this.partners=t.data.partners,this.proposals=t.data.proposals,this.providers=t.data.providers,this.partner_users=t.data.partner_users,this.upload_mapping=t.data.upload_mapping,this.inventory=t.data.inventory,this.addons=t.data.addons,this.custom_fields=t.data.custom_fields,this.field_values=t.data.field_values,this.it_service_items=t.data.it_service_items,this.it_service_tiers=t.data.it_service_tiers,this.metrics=t.data.metrics,this.shortcodes=t.data.shortcodes,this.reserved_shortcodes=t.data.reserved_shortcodes,this.printer_categories=t.data.printer_categories,this.paper_sizes=t.data.paper_sizes,this.connection_types=t.data.connection_types,this.media_types=t.data.media_types}).finally(()=>{this.is_data_loaded=!0})},OpenDialog(n,t,e="OK",r="CANCEL"){return this.dialog.title=n,this.dialog.content=t,this.dialog.show=!0,this.dialog.cancel_txt=r,this.dialog.ok_txt=e,new Promise(o=>{this.dialog.resolver=o})},ConfirmDialog(){var n,t;this.dialog.show=!1,(t=(n=this.dialog).resolver)==null||t.call(n,!0),this.dialog.resolver=null},CancelDialog(){var n,t;this.dialog.show=!1,(t=(n=this.dialog).resolver)==null||t.call(n,!1),this.dialog.resolver=null},InputDialog(n,t,e,r="OK",o="Cancel"){return new Promise(i=>{this.input_dialog.title=n,this.input_dialog.value=e,this.input_dialog.content=t,this.input_dialog.ok_txt=r,this.input_dialog.cancel_txt=o,this.input_dialog.resolver=i,this.input_dialog.show=!0})},ResolveInputDialog(n){this.input_dialog.resolver&&this.input_dialog.resolver(n),this.input_dialog.show=!1,this.input_dialog.resolver=null},FindPartnerId(){const n=this.partner_users.find(t=>{var e;return t.user_id==((e=this.profile)==null?void 0:e.sub)});return n?n.partner_id:null}}});function it(n,t){return e=>Object.keys(n).reduce((r,o)=>{const a=typeof n[o]=="object"&&n[o]!=null&&!Array.isArray(n[o])?n[o]:{type:n[o]};return e&&o in e?r[o]={...a,default:e[o]}:r[o]=a,t&&!r[o].source&&(r[o].source=t),r},{})}const Cn=it({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function PK(n,t){t=Array.isArray(t)?t.slice(0,-1).map(e=>`'${e}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const Rr=typeof window<"u",SL=Rr&&"IntersectionObserver"in window,Sse=Rr&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),vH=Rr&&"EyeDropper"in window,xL=Rr&&"matchMedia"in window&&typeof window.matchMedia=="function",km=()=>xL&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;function gH(n,t,e){xse(n,t),t.set(n,e)}function xse(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yH(n,t,e){return n.set(IK(n,t),e),e}function vf(n,t){return n.get(IK(n,t))}function IK(n,t,e){if(typeof n=="function"?n===t:n.has(t))return arguments.length<3?t:e;throw new TypeError("Private element is not present on this object")}function MK(n,t,e){const r=t.length-1;if(r<0)return n===void 0?e:n;for(let o=0;o<r;o++){if(n==null)return e;n=n[t[o]]}return n==null||n[t[r]]===void 0?e:n[t[r]]}function Tm(n,t,e){return n==null||!t||typeof t!="string"?e:n[t]!==void 0?n[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),MK(n,t.split("."),e))}function rs(n,t,e){if(t===!0)return n===void 0?e:n;if(t==null||typeof t=="boolean")return e;if(n!==Object(n)){if(typeof t!="function")return e;const o=t(n,e);return typeof o>"u"?e:o}if(typeof t=="string")return Tm(n,t,e);if(Array.isArray(t))return MK(n,t,e);if(typeof t!="function")return e;const r=t(n,e);return typeof r>"u"?e:r}function Uf(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:n},(e,r)=>t+r)}function $t(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(n==null||n==="")return;const e=Number(n);return isNaN(e)?String(n):isFinite(e)?`${e}${t}`:void 0}function Om(n){return n!==null&&typeof n=="object"&&!Array.isArray(n)}function bH(n){let t;return n!==null&&typeof n=="object"&&((t=Object.getPrototypeOf(n))===Object.prototype||t===null)}function EL(n){if(n&&"$el"in n){const t=n.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return n}const tF=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function FK(n){return Object.keys(n)}function $p(n,t){return t.every(e=>n.hasOwnProperty(e))}function Od(n,t){const e={};for(const r of t)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}function nF(n,t,e){const r=Object.create(null),o=Object.create(null);for(const i in n)t.some(a=>a instanceof RegExp?a.test(i):a===i)?r[i]=n[i]:o[i]=n[i];return[r,o]}function Ir(n,t){const e={...n};return t.forEach(r=>delete e[r]),e}const DK=/^on[^a-z]/,BL=n=>DK.test(n),Ese=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"],Bse=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Enter","Escape","Tab"," "];function kse(n){return n.isComposing&&Bse.includes(n.key)}function Gh(n){const[t,e]=nF(n,[DK]),r=Ir(t,Ese),[o,i]=nF(e,["class","style","id","inert",/^data-/]);return Object.assign(o,t),Object.assign(i,r),[o,i]}function ao(n){return n==null?[]:Array.isArray(n)?n:[n]}function Tse(n,t){let e=0;const r=function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];clearTimeout(e),e=setTimeout(()=>n(...i),O(t))};return r.clear=()=>{clearTimeout(e)},r.immediate=n,r}function To(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(e,n))}function wH(n){const t=n.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function _H(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return n+e.repeat(Math.max(0,t-n.length))}function CH(n,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-n.length))+n}function Ose(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const e=[];let r=0;for(;r<n.length;)e.push(n.substr(r,t)),r+=t;return e}function SH(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(n<t)return`${n} B`;const e=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(n)>=t&&r<e.length-1;)n/=t,++r;return`${n.toFixed(1)} ${e[r]}B`}function ss(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;const r={};for(const o in n)r[o]=n[o];for(const o in t){const i=n[o],a=t[o];if(bH(i)&&bH(a)){r[o]=ss(i,a,e);continue}if(e&&Array.isArray(i)&&Array.isArray(a)){r[o]=e(i,a);continue}r[o]=a}return r}function UK(n){return n.map(t=>t.type===ut?UK(t.children):t).flat()}function um(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(um.cache.has(n))return um.cache.get(n);const t=n.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return um.cache.set(n,t),t}um.cache=new Map;function _g(n,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(e=>_g(n,e)).flat(1);if(t.suspense)return _g(n,t.ssContent);if(Array.isArray(t.children))return t.children.map(e=>_g(n,e)).flat(1);if(t.component){if(Object.getOwnPropertyDescriptor(t.component.provides,n))return[t.component];if(t.component.subTree)return _g(n,t.component.subTree).flat(1)}return[]}var Rv=new WeakMap,wp=new WeakMap;class LK{constructor(t){gH(this,Rv,[]),gH(this,wp,0),this.size=t}get isFull(){return vf(Rv,this).length===this.size}push(t){vf(Rv,this)[vf(wp,this)]=t,yH(wp,this,(vf(wp,this)+1)%this.size)}values(){return vf(Rv,this).slice(vf(wp,this)).concat(vf(Rv,this).slice(0,vf(wp,this)))}clear(){vf(Rv,this).length=0,yH(wp,this,0)}}function Pse(n){return"touches"in n?{clientX:n.touches[0].clientX,clientY:n.touches[0].clientY}:{clientX:n.clientX,clientY:n.clientY}}function kL(n){const t=Di({});mo(()=>{const r=n();for(const o in r)t[o]=r[o]},{flush:"sync"});const e={};for(const r in t)e[r]=ze(()=>t[r]);return e}function Dx(n,t){return n.includes(t)}function VK(n){return n[2].toLowerCase()+n.slice(3)}const ma=()=>[Function,Array];function xH(n,t){return t="on"+Dl(t),!!(n[t]||n[`${t}Once`]||n[`${t}Capture`]||n[`${t}OnceCapture`]||n[`${t}CaptureOnce`])}function D_(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];if(Array.isArray(n))for(const o of n)o(...e);else typeof n=="function"&&n(...e)}function cm(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const e=["button","[href]",'input:not([type="hidden"])',"select","textarea","details:not(:has(> summary))","details > summary","[tabindex]",'[contenteditable]:not([contenteditable="false"])',"audio[controls]","video[controls]"].map(o=>`${o}${t?':not([tabindex="-1"])':""}:not([disabled], [inert])`).join(", ");let r;try{r=[...n.querySelectorAll(e)]}catch{return[]}return r.filter(o=>!o.closest("[inert]")).filter(o=>!!o.offsetParent||o.getClientRects().length>0).filter(o=>{var i,a;return!((i=o.parentElement)!=null&&i.closest("details:not([open])"))||o.tagName==="SUMMARY"&&((a=o.parentElement)==null?void 0:a.tagName)==="DETAILS"})}function NK(n,t,e){let r,o=n.indexOf(document.activeElement);const i=t==="next"?1:-1;do o+=i,r=n[o];while((!r||r.offsetParent==null||!((e==null?void 0:e(r))??!0))&&o<n.length&&o>=0);return r}function Mb(n,t){var r,o,i,a;const e=cm(n);if(t==null)(n===document.activeElement||!n.contains(document.activeElement))&&((r=e[0])==null||r.focus());else if(t==="first")(o=e[0])==null||o.focus();else if(t==="last")(i=e.at(-1))==null||i.focus();else if(typeof t=="number")(a=e[t])==null||a.focus();else{const s=NK(e,t);s?s.focus():Mb(n,t==="next"?"first":"last")}}function w1(n){return n==null||typeof n=="string"&&n.trim()===""}function Ise(){}function Ux(n,t){if(!(Rr&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!n&&n.matches(t)}catch{return null}}function TL(n){return n.some(t=>Td(t)?t.type===fi?!1:t.type!==ut||TL(t.children):!0)?n:null}function Mse(n,t){if(!Rr||n===0)return t(),()=>{};const e=window.setTimeout(t,n);return()=>window.clearTimeout(e)}function Fse(n,t){const e=n.clientX,r=n.clientY,o=t.getBoundingClientRect(),i=o.left,a=o.top,s=o.right,l=o.bottom;return e>=i&&e<=s&&r>=a&&r<=l}function Lx(){const n=It(),t=e=>{n.value=e};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>n.value,set:e=>n.value=e}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>EL(n.value)}),t}function Vx(n){const t=n.key.length===1,e=!n.ctrlKey&&!n.metaKey&&!n.altKey;return t&&e}function Lh(n){return typeof n=="string"||typeof n=="number"||typeof n=="boolean"||typeof n=="bigint"}function Dse(n){return"\\^$*+?.()|{}[]".includes(n)?`\\${n}`:n}function Use(n){const t={};for(const e in n)t[to(e)]=n[e];return t}function Lse(n){const t=["checked","disabled"];return Object.fromEntries(Object.entries(n).filter(e=>{let[r,o]=e;return t.includes(r)?!!o:o!==void 0}))}const RK=["top","bottom"],Vse=["start","end","left","right"];function rF(n,t){let[e,r]=n.split(" ");return r||(r=Dx(RK,e)?"start":Dx(Vse,e)?"top":"center"),{side:oF(e,t),align:oF(r,t)}}function oF(n,t){return n==="start"?t?"right":"left":n==="end"?t?"left":"right":n}function bP(n){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.side],align:n.align}}function wP(n){return{side:n.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[n.align]}}function EH(n){return{side:n.align,align:n.side}}function BH(n){return Dx(RK,n.side)?"y":"x"}class Fu{constructor(t){const e=document.body.currentCSSZoom??1,r=t instanceof Element,o=r?1+(1-e)/e:1,{x:i,y:a,width:s,height:l}=r?t.getBoundingClientRect():t;this.x=i*o,this.y=a*o,this.width=s*o,this.height=l*o}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function kH(n,t){return{x:{before:Math.max(0,t.left-n.left),after:Math.max(0,n.right-t.right)},y:{before:Math.max(0,t.top-n.top),after:Math.max(0,n.bottom-t.bottom)}}}function HK(n){if(Array.isArray(n)){const t=document.body.currentCSSZoom??1,e=1+(1-t)/t;return new Fu({x:n[0]*e,y:n[1]*e,width:0*e,height:0*e})}else return new Fu(n)}function Nse(n){if(n===document.documentElement)if(visualViewport){const t=document.body.currentCSSZoom??1;return new Fu({x:visualViewport.scale>1?0:visualViewport.offsetLeft,y:visualViewport.scale>1?0:visualViewport.offsetTop,width:visualViewport.width*visualViewport.scale/t,height:visualViewport.height*visualViewport.scale/t})}else return new Fu({x:0,y:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight});else return new Fu(n)}function OL(n){const t=new Fu(n),e=getComputedStyle(n),r=e.transform;if(r){let o,i,a,s,l;if(r.startsWith("matrix3d("))o=r.slice(9,-1).split(/, /),i=Number(o[0]),a=Number(o[5]),s=Number(o[12]),l=Number(o[13]);else if(r.startsWith("matrix("))o=r.slice(7,-1).split(/, /),i=Number(o[0]),a=Number(o[3]),s=Number(o[4]),l=Number(o[5]);else return new Fu(t);const u=e.transformOrigin,c=t.x-s-(1-i)*parseFloat(u),d=t.y-l-(1-a)*parseFloat(u.slice(u.indexOf(" ")+1)),f=i?t.width/i:n.offsetWidth+1,h=a?t.height/a:n.offsetHeight+1;return new Fu({x:c,y:d,width:f,height:h})}else return new Fu(t)}function Pf(n,t,e){if(typeof n.animate>"u")return{finished:Promise.resolve()};let r;try{r=n.animate(t,e)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(o=>{r.onfinish=()=>{o(r)}})),r}const FS=new WeakMap;function Rse(n,t){Object.keys(t).forEach(e=>{if(BL(e)){const r=VK(e),o=FS.get(n);if(t[e]==null)o==null||o.forEach(i=>{const[a,s]=i;a===r&&(n.removeEventListener(r,s),o.delete(i))});else if(!o||![...o].some(i=>i[0]===r&&i[1]===t[e])){n.addEventListener(r,t[e]);const i=o||new Set;i.add([r,t[e]]),FS.has(n)||FS.set(n,i)}}else t[e]==null?n.removeAttribute(e):n.setAttribute(e,t[e])})}function Hse(n,t){Object.keys(t).forEach(e=>{if(BL(e)){const r=VK(e),o=FS.get(n);o==null||o.forEach(i=>{const[a,s]=i;a===r&&(n.removeEventListener(r,s),o.delete(i))})}else n.removeAttribute(e)})}const Hv=2.4,TH=.2126729,OH=.7151522,PH=.072175,Qse=.55,jse=.58,$se=.57,Kse=.62,_1=.03,IH=1.45,Wse=5e-4,zse=1.25,Gse=1.25,MH=.078,FH=12.82051282051282,C1=.06,DH=.001;function UH(n,t){const e=(n.r/255)**Hv,r=(n.g/255)**Hv,o=(n.b/255)**Hv,i=(t.r/255)**Hv,a=(t.g/255)**Hv,s=(t.b/255)**Hv;let l=e*TH+r*OH+o*PH,u=i*TH+a*OH+s*PH;if(l<=_1&&(l+=(_1-l)**IH),u<=_1&&(u+=(_1-u)**IH),Math.abs(u-l)<Wse)return 0;let c;if(u>l){const d=(u**Qse-l**jse)*zse;c=d<DH?0:d<MH?d-d*FH*C1:d-C1}else{const d=(u**Kse-l**$se)*Gse;c=d>-DH?0:d>-MH?d-d*FH*C1:d+C1}return c*100}const Nx=.20689655172413793,Yse=n=>n>Nx**3?Math.cbrt(n):n/(3*Nx**2)+4/29,Xse=n=>n>Nx?n**3:3*Nx**2*(n-4/29);function QK(n){const t=Yse,e=t(n[1]);return[116*e-16,500*(t(n[0]/.95047)-e),200*(e-t(n[2]/1.08883))]}function jK(n){const t=Xse,e=(n[0]+16)/116;return[t(e+n[1]/500)*.95047,t(e),t(e-n[2]/200)*1.08883]}const Jse=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],Zse=n=>n<=.0031308?n*12.92:1.055*n**(1/2.4)-.055,qse=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],ele=n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4;function $K(n){const t=Array(3),e=Zse,r=Jse;for(let o=0;o<3;++o)t[o]=Math.round(To(e(r[o][0]*n[0]+r[o][1]*n[1]+r[o][2]*n[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function PL(n){let{r:t,g:e,b:r}=n;const o=[0,0,0],i=ele,a=qse;t=i(t/255),e=i(e/255),r=i(r/255);for(let s=0;s<3;++s)o[s]=a[s][0]*t+a[s][1]*e+a[s][2]*r;return o}function iF(n){return!!n&&/^(#|var\(--|(rgb|hsl)a?\()/.test(n)}function tle(n){return iF(n)&&!/^((rgb|hsl)a?\()?var\(--/.test(n)}const LH=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,nle={rgb:(n,t,e,r)=>({r:n,g:t,b:e,a:r}),rgba:(n,t,e,r)=>({r:n,g:t,b:e,a:r}),hsl:(n,t,e,r)=>VH({h:n,s:t,l:e,a:r}),hsla:(n,t,e,r)=>VH({h:n,s:t,l:e,a:r}),hsv:(n,t,e,r)=>Pd({h:n,s:t,v:e,a:r}),hsva:(n,t,e,r)=>Pd({h:n,s:t,v:e,a:r})};function ru(n){if(typeof n=="number")return{r:(n&16711680)>>16,g:(n&65280)>>8,b:n&255};if(typeof n=="string"&&LH.test(n)){const{groups:t}=n.match(LH),{fn:e,values:r}=t,o=r.split(/,\s*|\s*\/\s*|\s+/).map((i,a)=>i.endsWith("%")||a>0&&a<3&&["hsl","hsla","hsv","hsva"].includes(e)?parseFloat(i)/100:parseFloat(i));return nle[e](...o)}else if(typeof n=="string"){let t=n.startsWith("#")?n.slice(1):n;return[3,4].includes(t.length)?t=t.split("").map(e=>e+e).join(""):[6,8].includes(t.length),GK(t)}else if(typeof n=="object"){if($p(n,["r","g","b"]))return n;if($p(n,["h","s","l"]))return Pd(IL(n));if($p(n,["h","s","v"]))return Pd(n)}throw new TypeError(`Invalid color: ${n==null?n:String(n)||n.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Pd(n){const{h:t,s:e,v:r,a:o}=n,i=s=>{const l=(s+t/60)%6;return r-r*e*Math.max(Math.min(l,4-l,1),0)},a=[i(5),i(3),i(1)].map(s=>Math.round(s*255));return{r:a[0],g:a[1],b:a[2],a:o}}function VH(n){return Pd(IL(n))}function U_(n){if(!n)return{h:0,s:1,v:1,a:1};const t=n.r/255,e=n.g/255,r=n.b/255,o=Math.max(t,e,r),i=Math.min(t,e,r);let a=0;o!==i&&(o===t?a=60*(0+(e-r)/(o-i)):o===e?a=60*(2+(r-t)/(o-i)):o===r&&(a=60*(4+(t-e)/(o-i)))),a<0&&(a=a+360);const s=o===0?0:(o-i)/o,l=[a,s,o];return{h:l[0],s:l[1],v:l[2],a:n.a}}function aF(n){const{h:t,s:e,v:r,a:o}=n,i=r-r*e/2,a=i===1||i===0?0:(r-i)/Math.min(i,1-i);return{h:t,s:a,l:i,a:o}}function IL(n){const{h:t,s:e,l:r,a:o}=n,i=r+e*Math.min(r,1-r),a=i===0?0:2-2*r/i;return{h:t,s:a,v:i,a:o}}function KK(n){let{r:t,g:e,b:r,a:o}=n;return o===void 0?`rgb(${t}, ${e}, ${r})`:`rgba(${t}, ${e}, ${r}, ${o})`}function WK(n){return KK(Pd(n))}function S1(n){const t=Math.round(n).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function zK(n){let{r:t,g:e,b:r,a:o}=n;return`#${[S1(t),S1(e),S1(r),o!==void 0?S1(Math.round(o*255)):""].join("")}`}function GK(n){n=ole(n);let[t,e,r,o]=Ose(n,2).map(i=>parseInt(i,16));return o=o===void 0?o:o/255,{r:t,g:e,b:r,a:o}}function rle(n){const t=GK(n);return U_(t)}function YK(n){return zK(Pd(n))}function ole(n){return n.startsWith("#")&&(n=n.slice(1)),n=n.replace(/([^0-9a-f])/gi,"F"),(n.length===3||n.length===4)&&(n=n.split("").map(t=>t+t).join("")),n.length!==6&&(n=_H(_H(n,6),8,"F")),n}function ile(n,t){const e=QK(PL(n));return e[0]=e[0]+t*10,$K(jK(e))}function ale(n,t){const e=QK(PL(n));return e[0]=e[0]-t*10,$K(jK(e))}function sF(n){const t=ru(n);return PL(t)[1]}function sle(n,t){const e=sF(n),r=sF(t),o=Math.max(e,r),i=Math.min(e,r);return(o+.05)/(i+.05)}function XK(n){const t=Math.abs(UH(ru(0),ru(n)));return Math.abs(UH(ru(16777215),ru(n)))>Math.min(t,50)?"#fff":"#000"}function Yo(n,t){const e=fs();if(!e)throw new Error(`[Vuetify] ${n} must be called from inside a setup function`);return e}function Qd(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Yo(n).type;return um((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}function lle(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yo("injectSelf");const{provides:e}=t;if(e&&n in e)return e[n]}const fy=Symbol.for("vuetify:defaults");function ule(n){return Oe(n)}function ML(){const n=Hn(fy);if(!n)throw new Error("[Vuetify] Could not find defaults instance");return n}function Pl(n,t){const e=ML(),r=Oe(n),o=ae(()=>{if(O(t==null?void 0:t.disabled))return e.value;const a=O(t==null?void 0:t.scoped),s=O(t==null?void 0:t.reset),l=O(t==null?void 0:t.root);if(r.value==null&&!(a||s||l))return e.value;let u=ss(r.value,{prev:e.value});if(a)return u;if(s||l){const c=Number(s||1/0);for(let d=0;d<=c&&!(!u||!("prev"in u));d++)u=u.prev;return u&&typeof l=="string"&&l in u&&(u=ss(ss(u,{prev:u}),u[l])),u}return u.prev?ss(u.prev,u):u});return no(fy,o),o}function cle(n,t){return n.props&&(typeof n.props[t]<"u"||typeof n.props[um(t)]<"u")}function dle(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ML();const r=Yo("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const o=ae(()=>{var l;return(l=e.value)==null?void 0:l[n._as??t]}),i=new Proxy(n,{get(l,u){var h,p,v,g;const c=Reflect.get(l,u);if(u==="class"||u==="style")return[(h=o.value)==null?void 0:h[u],c].filter(_=>_!=null);if(cle(r.vnode,u))return c;const d=(p=o.value)==null?void 0:p[u];if(d!==void 0)return d;const f=(g=(v=e.value)==null?void 0:v.global)==null?void 0:g[u];return f!==void 0?f:c}}),a=It();mo(()=>{if(o.value){const l=Object.entries(o.value).filter(u=>{let[c]=u;return c.startsWith(c[0].toUpperCase())});a.value=l.length?Object.fromEntries(l):void 0}else a.value=void 0});function s(){const l=lle(fy,r);no(fy,ae(()=>a.value?ss((l==null?void 0:l.value)??{},a.value):l==null?void 0:l.value))}return{props:i,provideSubDefaults:s}}function Vc(n){if(n._setup=n._setup??n.setup,!n.name)return n;if(n._setup){n.props=it(n.props??{},n.name)();const t=Object.keys(n.props).filter(e=>e!=="class"&&e!=="style");n.filterProps=function(r){return Od(r,t)},n.props._as=String,n.setup=function(r,o){const i=ML();if(!i.value)return n._setup(r,o);const{props:a,provideSubDefaults:s}=dle(r,r._as??n.name,i),l=n._setup(a,o);return s(),l}}return n}function Dt(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(n?Vc:rn)(t)}function fle(n,t){return t.props=n,t}function L_(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",e=arguments.length>2?arguments[2]:void 0;return Dt()({name:e??Dl(to(n.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...Cn()},setup(r,o){let{slots:i}=o;return()=>{var a;return uu(r.tag,{class:[n,r.class],style:r.style},(a=i.default)==null?void 0:a.call(i))}}})}function Ale(n,t,e,r){if(!e||Lh(n)||Lh(t))return;const o=e.get(n);if(o)o.set(t,r);else{const i=new WeakMap;i.set(t,r),e.set(n,i)}}function hle(n,t,e){var i,a;if(!e||Lh(n)||Lh(t))return null;const r=(i=e.get(n))==null?void 0:i.get(t);if(typeof r=="boolean")return r;const o=(a=e.get(t))==null?void 0:a.get(n);return typeof o=="boolean"?o:null}function Ua(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new WeakMap;if(n===t)return!0;if(n instanceof Date&&t instanceof Date&&n.getTime()!==t.getTime()||n!==Object(n)||t!==Object(t))return!1;const r=Object.keys(n);if(r.length!==Object.keys(t).length)return!1;const o=hle(n,t,e);return o||(Ale(n,t,e,!0),r.every(i=>Ua(n[i],t[i],e)))}function JK(n){if(typeof n.getRootNode!="function"){for(;n.parentNode;)n=n.parentNode;return n!==document?null:document}const t=n.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const bw="cubic-bezier(0.4, 0, 0.2, 1)",NH="cubic-bezier(0.0, 0, 0.2, 1)",RH="cubic-bezier(0.4, 0, 1, 1)",ple={linear:n=>n,easeInQuad:n=>n**2,easeOutQuad:n=>n*(2-n),easeInOutQuad:n=>n<.5?2*n**2:-1+(4-2*n)*n,easeInCubic:n=>n**3,easeOutCubic:n=>--n**3+1,easeInOutCubic:n=>n<.5?4*n**3:(n-1)*(2*n-2)*(2*n-2)+1,easeInQuart:n=>n**4,easeOutQuart:n=>1- --n**4,easeInOutQuart:n=>n<.5?8*n**4:1-8*--n**4,easeInQuint:n=>n**5,easeOutQuint:n=>1+--n**5,easeInOutQuint:n=>n<.5?16*n**5:1+16*--n**5,instant:n=>1};function HH(n,t,e){return Object.keys(n).filter(r=>BL(r)&&r.endsWith(t)).reduce((r,o)=>(r[o.slice(0,-t.length)]=i=>D_(n[o],i,e(i)),r),{})}function FL(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;n;){if(t?mle(n):DL(n))return n;n=n.parentElement}return document.scrollingElement}function Rx(n,t){const e=[];if(t&&n&&!t.contains(n))return e;for(;n&&(DL(n)&&e.push(n),n!==t);)n=n.parentElement;return e}function DL(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(n),e=t.overflowY==="scroll"||t.overflowY==="auto"&&n.scrollHeight>n.clientHeight,r=t.overflowX==="scroll"||t.overflowX==="auto"&&n.scrollWidth>n.clientWidth;return e||r}function mle(n){if(!n||n.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(n);return["scroll","auto"].includes(t.overflowY)}function vle(n){for(;n;){if(window.getComputedStyle(n).position==="fixed")return!0;n=n.offsetParent}return!1}function Kt(n){const t=Yo("useRender");t.render=n}function gle(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{leading:!0,trailing:!0},r=0,o=0,i=!1,a=0;function s(){clearTimeout(r),i=!1,a=0}const l=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];clearTimeout(r);const f=Date.now();a||(a=f);const h=f-Math.max(a,o);function p(){o=Date.now(),r=setTimeout(s,t),n(...c)}i?h>=t?p():e.trailing&&(r=setTimeout(p,t-h)):(i=!0,e.leading&&p())};return l.clear=s,l.immediate=n,l}function Id(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const e=Lx(),r=Oe();if(Rr){const o=new ResizeObserver(i=>{n==null||n(i,o),i.length&&(t==="content"?r.value=i[0].contentRect:r.value=i[0].target.getBoundingClientRect())});Ti(()=>{o.disconnect()}),lt(()=>e.el,(i,a)=>{a&&(o.unobserve(a),r.value=void 0),i&&o.observe(i)},{flush:"post"})}return{resizeRef:e,contentRect:Fh(r)}}const ww=Symbol.for("vuetify:layout"),ZK=Symbol.for("vuetify:layout-item"),QH=1e3,qK=it({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),UL=it({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function eW(){const n=Hn(ww);if(!n)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:n.getLayoutItem,mainRect:n.mainRect,mainStyles:n.mainStyles}}function LL(n){const t=Hn(ww);if(!t)throw new Error("[Vuetify] Could not find injected layout");const e=n.id??`layout-item-${el()}`,r=Yo("useLayoutItem");no(ZK,{id:e});const o=It(!1);mk(()=>o.value=!0),ZU(()=>o.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:a}=t.register(r,{...n,active:ae(()=>o.value?!1:n.active.value),id:e});return Ti(()=>t.unregister(e)),{layoutItemStyles:i,layoutRect:t.layoutRect,layoutItemScrimStyles:a}}const yle=(n,t,e,r)=>{let o={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...o}}];for(const a of n){const s=t.get(a),l=e.get(a),u=r.get(a);if(!s||!l||!u)continue;const c={...o,[s.value]:parseInt(o[s.value],10)+(u.value?parseInt(l.value,10):0)};i.push({id:a,layer:c}),o=c}return i};function tW(n){const t=Hn(ww,null),e=ae(()=>t?t.rootZIndex.value-100:QH),r=Oe([]),o=Di(new Map),i=Di(new Map),a=Di(new Map),s=Di(new Map),l=Di(new Map),{resizeRef:u,contentRect:c}=Id(),d=ae(()=>{const P=new Map,F=n.overlaps??[];for(const I of F.filter(k=>k.includes(":"))){const[k,M]=I.split(":");if(!r.value.includes(k)||!r.value.includes(M))continue;const V=o.get(k),U=o.get(M),$=i.get(k),Q=i.get(M);!V||!U||!$||!Q||(P.set(M,{position:V.value,amount:parseInt($.value,10)}),P.set(k,{position:U.value,amount:-parseInt(Q.value,10)}))}return P}),f=ae(()=>{const P=[...new Set([...a.values()].map(I=>I.value))].sort((I,k)=>I-k),F=[];for(const I of P){const k=r.value.filter(M=>{var V;return((V=a.get(M))==null?void 0:V.value)===I});F.push(...k)}return yle(F,o,i,s)}),h=ae(()=>!Array.from(l.values()).some(P=>P.value)),p=ae(()=>f.value[f.value.length-1].layer),v=ze(()=>({"--v-layout-left":$t(p.value.left),"--v-layout-right":$t(p.value.right),"--v-layout-top":$t(p.value.top),"--v-layout-bottom":$t(p.value.bottom),...h.value?void 0:{transition:"none"}})),g=ae(()=>f.value.slice(1).map((P,F)=>{let{id:I}=P;const{layer:k}=f.value[F],M=i.get(I),V=o.get(I);return{id:I,...k,size:Number(M.value),position:V.value}})),_=P=>g.value.find(F=>F.id===P),S=Yo("createLayout"),y=It(!1);return Kn(()=>{y.value=!0}),no(ww,{register:(P,F)=>{let{id:I,order:k,position:M,layoutSize:V,elementSize:U,active:$,disableTransitions:Q,absolute:J}=F;a.set(I,k),o.set(I,M),i.set(I,V),s.set(I,$),Q&&l.set(I,Q);const ne=_g(ZK,S==null?void 0:S.vnode).indexOf(P);ne>-1?r.value.splice(ne,0,I):r.value.push(I);const ue=ae(()=>g.value.findIndex(pe=>pe.id===I)),we=ae(()=>e.value+f.value.length*2-ue.value*2),Be=ae(()=>{const pe=M.value==="left"||M.value==="right",_e=M.value==="right",Ce=M.value==="bottom",ve=U.value??V.value,Qe=ve===0?"%":"px",se={[M.value]:0,zIndex:we.value,transform:`translate${pe?"X":"Y"}(${($.value?0:-(ve===0?100:ve))*(_e||Ce?-1:1)}${Qe})`,position:J.value||e.value!==QH?"absolute":"fixed",...h.value?void 0:{transition:"none"}};if(!y.value)return se;const Te=g.value[ue.value],je=d.value.get(I);return je&&(Te[je.position]+=je.amount),{...se,height:pe?`calc(100% - ${Te.top}px - ${Te.bottom}px)`:U.value?`${U.value}px`:void 0,left:_e?void 0:`${Te.left}px`,right:_e?`${Te.right}px`:void 0,top:M.value!=="bottom"?`${Te.top}px`:void 0,bottom:M.value!=="top"?`${Te.bottom}px`:void 0,width:pe?U.value?`${U.value}px`:void 0:`calc(100% - ${Te.left}px - ${Te.right}px)`}}),We=ae(()=>({zIndex:we.value-1}));return{layoutItemStyles:Be,layoutItemScrimStyles:We,zIndex:we}},unregister:P=>{a.delete(P),o.delete(P),i.delete(P),s.delete(P),l.delete(P),r.value=r.value.filter(F=>F!==P)},mainRect:p,mainStyles:v,getLayoutItem:_,items:g,layoutRect:c,rootZIndex:e}),{layoutClasses:ze(()=>["v-layout",{"v-layout--full-height":n.fullHeight}]),layoutStyles:ze(()=>({zIndex:t?e.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0})),getLayoutItem:_,items:g,layoutRect:c,layoutRef:u}}function zs(n,t){let e;function r(){e=Mh(),e.run(()=>t.length?t(()=>{e==null||e.stop(),r()}):t())}lt(n,o=>{o&&!e?r():o||(e==null||e.stop(),e=void 0)},{immediate:!0}),Go(()=>{e==null||e.stop()})}function Mn(n,t,e){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:d=>d,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d=>d;const i=Yo("useProxiedModel"),a=Oe(n[t]!==void 0?n[t]:e),s=um(t),u=ae(s!==t?()=>{var d,f,h,p;return n[t],!!(((d=i.vnode.props)!=null&&d.hasOwnProperty(t)||(f=i.vnode.props)!=null&&f.hasOwnProperty(s))&&((h=i.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${t}`)||(p=i.vnode.props)!=null&&p.hasOwnProperty(`onUpdate:${s}`)))}:()=>{var d,f;return n[t],!!((d=i.vnode.props)!=null&&d.hasOwnProperty(t)&&((f=i.vnode.props)!=null&&f.hasOwnProperty(`onUpdate:${t}`)))});zs(()=>!u.value,()=>{lt(()=>n[t],d=>{a.value=d})});const c=ae({get(){const d=n[t];return r(u.value?d:a.value)},set(d){const f=o(d),h=wn(u.value?n[t]:a.value);h===f||r(h)===d||(a.value=f,i==null||i.emit(`update:${t}`,f))}});return Object.defineProperty(c,"externalValue",{get:()=>u.value?n[t]:a.value}),c}const ble={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"},ariaLabel:{previousMonth:"Previous month",nextMonth:"Next month",selectYear:"Select year",previousYear:"Previous year",nextYear:"Next year",selectMonth:"Select month",selectDate:"{0}",currentDate:"Today, {0}"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time",hour:"Hour",minute:"Minute",second:"Second"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"},hotkey:{then:"then",ctrl:"Ctrl",command:"Command",space:"Space",shift:"Shift",alt:"Alt",enter:"Enter",escape:"Escape",upArrow:"Up Arrow",downArrow:"Down Arrow",leftArrow:"Left Arrow",rightArrow:"Right Arrow",backspace:"Backspace",option:"Option",plus:"plus",shortcut:"Keyboard shortcut: {0}",or:"or"},video:{play:"Play",pause:"Pause",seek:"Seek",volume:"Volume",showVolume:"Show volume control",mute:"Mute",unmute:"Unmute",enterFullscreen:"Full screen",exitFullscreen:"Exit full screen"},colorPicker:{ariaLabel:{eyedropper:"Select color with eyedropper",hueSlider:"Hue",alphaSlider:"Alpha",redInput:"Red value",greenInput:"Green value",blueInput:"Blue value",alphaInput:"Alpha value",hueInput:"Hue value",saturationInput:"Saturation value",lightnessInput:"Lightness value",hexInput:"HEX value",hexaInput:"HEX with alpha value",changeFormat:"Change color format"}}},jH="$vuetify.",$H=(n,t)=>n.replace(/\{(\d+)\}/g,(e,r)=>String(t[Number(r)])),nW=(n,t,e)=>function(r){for(var o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(!r.startsWith(jH))return $H(r,i);const s=r.replace(jH,""),l=n.value&&e.value[n.value],u=t.value&&e.value[t.value];let c=Tm(l,s,null);return c||(`${r}${n.value}`,c=Tm(u,s,null)),c||(c=r),typeof c!="string"&&(c=r),$H(c,i)};function VL(n,t){return(e,r)=>new Intl.NumberFormat([n.value,t.value],r).format(e)}function rW(n,t){return VL(n,t)(.1).includes(",")?",":"."}function _P(n,t,e){const r=Mn(n,t,n[t]??e.value);return r.value=n[t]??e.value,lt(e,o=>{n[t]==null&&(r.value=e.value)}),r}function oW(n){return t=>{const e=_P(t,"locale",n.current),r=_P(t,"fallback",n.fallback),o=_P(t,"messages",n.messages);return{name:"vuetify",current:e,fallback:r,messages:o,decimalSeparator:ze(()=>rW(e,r)),t:nW(e,r,o),n:VL(e,r),provide:oW({current:e,fallback:r,messages:o})}}}function wle(n){const t=It((n==null?void 0:n.locale)??"en"),e=It((n==null?void 0:n.fallback)??"en"),r=Oe({en:ble,...n==null?void 0:n.messages});return{name:"vuetify",current:t,fallback:e,messages:r,decimalSeparator:ze(()=>(n==null?void 0:n.decimalSeparator)??rW(t,e)),t:nW(t,e,r),n:VL(t,e),provide:oW({current:t,fallback:e,messages:r})}}const Hx=Symbol.for("vuetify:locale");function _le(n){return n.name!=null}function Cle(n){const t=n!=null&&n.adapter&&_le(n==null?void 0:n.adapter)?n==null?void 0:n.adapter:wle(n),e=xle(t,n);return{...t,...e}}function Ri(){const n=Hn(Hx);if(!n)throw new Error("[Vuetify] Could not find injected locale instance");return n}function Sle(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function xle(n,t){const e=Oe((t==null?void 0:t.rtl)??Sle()),r=ae(()=>e.value[n.current.value]??!1);return{isRtl:r,rtl:e,rtlClasses:ze(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Ji(){const n=Hn(Hx);if(!n)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:n.isRtl,rtlClasses:n.rtlClasses}}const _w=Symbol.for("vuetify:theme"),Zr=it({theme:String},"theme");function KH(){return{defaultTheme:"light",prefix:"v-",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#EEEEEE","theme-on-kbd":"#000000","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#424242","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet",scoped:!1,unimportant:!1,utilities:!0}}function Ele(){var r,o;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:KH();const t=KH();if(!n)return{...t,isDisabled:!0};const e={};for(const[i,a]of Object.entries(n.themes??{})){const s=a.dark||i==="dark"?(r=t.themes)==null?void 0:r.dark:(o=t.themes)==null?void 0:o.light;e[i]=ss(s,a)}return ss(t,{...n,themes:e})}function _p(n,t,e,r){n.push(`${Ole(t,r)} {
`,...e.map(o=>`  ${o};
`),`}
`)}function WH(n,t){const e=n.dark?2:1,r=n.dark?1:2,o=[];for(const[i,a]of Object.entries(n.colors)){const s=ru(a);o.push(`--${t}theme-${i}: ${s.r},${s.g},${s.b}`),i.startsWith("on-")||o.push(`--${t}theme-${i}-overlay-multiplier: ${sF(a)>.18?e:r}`)}for(const[i,a]of Object.entries(n.variables)){const s=typeof a=="string"&&a.startsWith("#")?ru(a):void 0,l=s?`${s.r}, ${s.g}, ${s.b}`:void 0;o.push(`--${t}${i}: ${l??a}`)}return o}function Ble(n,t,e){const r={};if(e)for(const o of["lighten","darken"]){const i=o==="lighten"?ile:ale;for(const a of Uf(e[o],1))r[`${n}-${o}-${a}`]=zK(i(ru(t),a))}return r}function kle(n,t){if(!t)return{};let e={};for(const r of t.colors){const o=n[r];o&&(e={...e,...Ble(r,o,t)})}return e}function Tle(n){const t={};for(const e of Object.keys(n)){if(e.startsWith("on-")||n[`on-${e}`])continue;const r=`on-${e}`,o=ru(n[e]);t[r]=XK(o)}return t}function Ole(n,t){if(!t)return n;const e=`:where(${t})`;return n===":root"?e:`${e} ${n}`}function Ple(n,t,e){const r=Ile(n,t);r&&(r.innerHTML=e)}function Ile(n,t){if(!Rr)return null;let e=document.getElementById(n);return e||(e=document.createElement("style"),e.id=n,e.type="text/css",t&&e.setAttribute("nonce",t),document.head.appendChild(e)),e}function Mle(n){const t=Ele(n),e=It(t.defaultTheme),r=Oe(t.themes),o=It("light"),i=ae({get(){return e.value==="system"?o.value:e.value},set(S){e.value=S}}),a=ae(()=>{const S={};for(const[y,C]of Object.entries(r.value)){const T={...C.colors,...kle(C.colors,t.variations)};S[y]={...C,colors:{...T,...Tle(T)}}}return S}),s=ze(()=>a.value[i.value]),l=ze(()=>e.value==="system"),u=ae(()=>{var P;const S=[],y=t.unimportant?"":" !important",C=t.scoped?t.prefix:"";(P=s.value)!=null&&P.dark&&_p(S,":root",["color-scheme: dark"],t.scope),_p(S,":root",WH(s.value,t.prefix),t.scope);for(const[F,I]of Object.entries(a.value))_p(S,`.${t.prefix}theme--${F}`,[`color-scheme: ${I.dark?"dark":"normal"}`,...WH(I,t.prefix)],t.scope);if(t.utilities){const F=[],I=[],k=new Set(Object.values(a.value).flatMap(M=>Object.keys(M.colors)));for(const M of k)M.startsWith("on-")?_p(I,`.${M}`,[`color: rgb(var(--${t.prefix}theme-${M}))${y}`],t.scope):(_p(F,`.${C}bg-${M}`,[`--${t.prefix}theme-overlay-multiplier: var(--${t.prefix}theme-${M}-overlay-multiplier)`,`background-color: rgb(var(--${t.prefix}theme-${M}))${y}`,`color: rgb(var(--${t.prefix}theme-on-${M}))${y}`],t.scope),_p(I,`.${C}text-${M}`,[`color: rgb(var(--${t.prefix}theme-${M}))${y}`],t.scope),_p(I,`.${C}border-${M}`,[`--${t.prefix}border-color: var(--${t.prefix}theme-${M})`],t.scope));t.layers?S.push(`@layer background {
`,...F.map(M=>`  ${M}`),`}
`,`@layer foreground {
`,...I.map(M=>`  ${M}`),`}
`):S.push(...F,...I)}let T=S.map((F,I)=>I===0?F:`    ${F}`).join("");return t.layers&&(T=`@layer vuetify.theme {
`+S.map(F=>`  ${F}`).join("")+`
}`),T}),c=ze(()=>t.isDisabled?void 0:`${t.prefix}theme--${i.value}`),d=ze(()=>Object.keys(a.value));if(xL){let y=function(){o.value=S.matches?"dark":"light"};var _=y;const S=window.matchMedia("(prefers-color-scheme: dark)");y(),S.addEventListener("change",y,{passive:!0}),uk()&&Go(()=>{S.removeEventListener("change",y)})}function f(S){if(t.isDisabled)return;const y=S._context.provides.usehead;if(y){let P=function(){return{style:[{textContent:u.value,id:t.stylesheetId,nonce:t.cspNonce||!1}]}};var C=P;if(y.push){const F=y.push(P);Rr&&lt(u,()=>{F.patch(P)})}else Rr?(y.addHeadObjs(ze(P)),mo(()=>y.updateDOM())):y.addHeadObjs(P())}else{let P=function(){Ple(t.stylesheetId,t.cspNonce,u.value)};var T=P;Rr?lt(u,P,{immediate:!0}):P()}}function h(S){S!=="system"&&!d.value.includes(S)||(i.value=S)}function p(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d.value;const y=S.indexOf(i.value),C=y===-1?0:(y+1)%S.length;h(S[C])}function v(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["light","dark"];p(S)}const g=new Proxy(i,{get(S,y){return Reflect.get(S,y)},set(S,y,C){return y==="value"&&PK(`theme.global.name.value = ${C}`,`theme.change('${C}')`),Reflect.set(S,y,C)}});return{install:f,change:h,cycle:p,toggle:v,isDisabled:t.isDisabled,isSystem:l,name:i,themes:r,current:s,computedThemes:a,prefix:t.prefix,themeClasses:c,styles:u,global:{name:g,current:s}}}function Co(n){Yo("provideTheme");const t=Hn(_w,null);if(!t)throw new Error("Could not find Vuetify theme injection");const e=ze(()=>n.theme??t.name.value),i={...t,name:e,current:ze(()=>t.themes.value[e.value]),themeClasses:ze(()=>t.isDisabled?void 0:`${t.prefix}theme--${e.value}`)};return no(_w,i),i}function iW(){Yo("useTheme");const n=Hn(_w,null);if(!n)throw new Error("Could not find Vuetify theme injection");return n}const Fle=it({...Cn(),...Ir(qK(),["fullHeight"]),...Zr()},"VApp"),NL=Dt()({name:"VApp",props:Fle(),setup(n,t){let{slots:e}=t;const r=Co(n),{layoutClasses:o,getLayoutItem:i,items:a,layoutRef:s}=tW({...n,fullHeight:!0}),{rtlClasses:l}=Ji();return Kt(()=>{var u;return H("div",{ref:s,class:pt(["v-application",r.themeClasses.value,o.value,l.value,n.class]),style:Ue([n.style])},[H("div",{class:"v-application__wrap"},[(u=e.default)==null?void 0:u.call(e)])])}),{getLayoutItem:i,items:a,theme:r}}}),As=it({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function hs(n){return{dimensionStyles:ae(()=>{const e={},r=$t(n.height),o=$t(n.maxHeight),i=$t(n.maxWidth),a=$t(n.minHeight),s=$t(n.minWidth),l=$t(n.width);return r!=null&&(e.height=r),o!=null&&(e.maxHeight=o),i!=null&&(e.maxWidth=i),a!=null&&(e.minHeight=a),s!=null&&(e.minWidth=s),l!=null&&(e.width=l),e})}}function V_(){const n=It(!1);return Kn(()=>{window.requestAnimationFrame(()=>{n.value=!0})}),{ssrBootStyles:ze(()=>n.value?void 0:{transition:"none !important"}),isBooted:Fh(n)}}const Br=it({tag:{type:[String,Object,Function],default:"div"}},"tag"),Dle=it({scrollable:Boolean,...Cn(),...As(),...Br({tag:"main"})},"VMain"),RL=Dt()({name:"VMain",props:Dle(),setup(n,t){let{slots:e}=t;const{dimensionStyles:r}=hs(n),{mainStyles:o}=eW(),{ssrBootStyles:i}=V_();return Kt(()=>x(n.tag,{class:pt(["v-main",{"v-main--scrollable":n.scrollable},n.class]),style:Ue([o.value,i.value,r.value,n.style])},{default:()=>{var a,s;return[n.scrollable?H("div",{class:"v-main__scroller"},[(a=e.default)==null?void 0:a.call(e)]):(s=e.default)==null?void 0:s.call(e)]}})),{}}}),Ule=rn({__name:"App",setup(n){const t=Vt(),e=tv(),{isAuthenticated:r}=Er(),{getAccessTokenSilently:o}=Er(),{sidebar:i,is_mobile:a,profile:s,partner_users:l}=Lt(t),u=()=>{a.value=window.innerWidth<=768};return Kn(async()=>{i.value=!0;const c=new URL(window.location.href);if(c.searchParams.has("code")&&c.searchParams.has("state"))return e.push("/dashboard");u(),window.addEventListener("resize",u)}),lu(()=>{window.removeEventListener("resize",u)}),lt(r,async()=>{t.global_loading=!0;const c=await o();t.FetchPartnerUsers(c).then(()=>{const d=l.value.find(f=>{var h;return f.user_id==((h=s.value)==null?void 0:h.sub)});d&&s.value&&(s.value.role=d.role??"User"),location.pathname.startsWith("/proposal/")||t.FetchAllData(c).finally(()=>{t.global_loading=!1})})}),(c,d)=>{const f=eL("router-view");return le(),Re(NL,null,{default:N(()=>[x(RL,null,{default:N(()=>[x(f)]),_:1})]),_:1})}}}),Tn=[String,Function,Object,Array],lF=Symbol.for("vuetify:icons"),Mk=it({icon:{type:Tn},tag:{type:[String,Object,Function],required:!0}},"icon"),zH=Dt()({name:"VComponentIcon",props:Mk(),setup(n,t){let{slots:e}=t;return()=>{const r=n.icon;return x(n.tag,null,{default:()=>{var o;return[n.icon?x(r,null,null):(o=e.default)==null?void 0:o.call(e)]}})}}}),aW=Vc({name:"VSvgIcon",inheritAttrs:!1,props:Mk(),setup(n,t){let{attrs:e}=t;return()=>x(n.tag,bt(e,{style:null}),{default:()=>[H("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(n.icon)?n.icon.map(r=>Array.isArray(r)?H("path",{d:r[0],"fill-opacity":r[1]},null):H("path",{d:r},null)):H("path",{d:n.icon},null)])]})}});Vc({name:"VLigatureIcon",props:Mk(),setup(n){return()=>x(n.tag,null,{default:()=>[n.icon]})}});const sW=Vc({name:"VClassIcon",props:Mk(),setup(n){return()=>x(n.tag,{class:pt(n.icon)},null)}}),Lle=n=>{const t=Hn(lF);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:ae(()=>{var l;const r=Ui(n);if(!r)return{component:zH};let o=r;if(typeof o=="string"&&(o=o.trim(),o.startsWith("$")&&(o=(l=t.aliases)==null?void 0:l[o.slice(1)])),Array.isArray(o))return{component:aW,icon:o};if(typeof o!="string")return{component:zH,icon:o};const i=Object.keys(t.sets).find(u=>typeof o=="string"&&o.startsWith(`${u}:`)),a=i?o.slice(i.length+1):o;return{component:t.sets[i??t.defaultSet].component,icon:a}})}},Vle={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",tableGroupCollapse:"mdi-chevron-down",tableGroupExpand:"mdi-chevron-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette",command:"mdi-apple-keyboard-command",ctrl:"mdi-apple-keyboard-control",space:"mdi-keyboard-space",shift:"mdi-apple-keyboard-shift",alt:"mdi-apple-keyboard-option",enter:"mdi-keyboard-return",arrowup:"mdi-arrow-up",arrowdown:"mdi-arrow-down",arrowleft:"mdi-arrow-left",arrowright:"mdi-arrow-right",backspace:"mdi-backspace",play:"mdi-play",pause:"mdi-pause",fullscreen:"mdi-fullscreen",fullscreenExit:"mdi-fullscreen-exit",volumeHigh:"mdi-volume-high",volumeMedium:"mdi-volume-medium",volumeLow:"mdi-volume-low",volumeOff:"mdi-volume-variant-off"},Nle={component:n=>uu(sW,{...n,class:"mdi"})};function Rle(){return{svg:{component:aW},class:{component:sW}}}function Hle(n){const t=Rle(),e=(n==null?void 0:n.defaultSet)??"mdi";return e==="mdi"&&!t.mdi&&(t.mdi=Nle),ss({defaultSet:e,sets:t,aliases:{...Vle,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},n)}function N_(n){const t=n.slice(-2).toUpperCase();switch(!0){case n==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case n==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(t):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(t):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(t):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(t):return{firstDay:6,firstWeekSize:1};case t==="MV":return{firstDay:5,firstWeekSize:1};case t==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function Qle(n,t,e){var c;const r=[];let o=[];const i=lW(n),a=uW(n),s=e??((c=N_(t))==null?void 0:c.firstDay)??0,l=(i.getDay()-s+7)%7,u=(a.getDay()-s+7)%7;for(let d=0;d<l;d++){const f=new Date(i);f.setDate(f.getDate()-(l-d)),o.push(f)}for(let d=1;d<=a.getDate();d++){const f=new Date(n.getFullYear(),n.getMonth(),d);o.push(f),o.length===7&&(r.push(o),o=[])}for(let d=1;d<7-u;d++){const f=new Date(a);f.setDate(f.getDate()+d),o.push(f)}return o.length>0&&r.push(o),r}function Fb(n,t,e){var i;let r=(e??((i=N_(t))==null?void 0:i.firstDay)??0)%7;[0,1,2,3,4,5,6].includes(r)||(r=0);const o=new Date(n);for(;o.getDay()!==r;)o.setDate(o.getDate()-1);return o}function jle(n,t){var o;const e=new Date(n),r=((((o=N_(t))==null?void 0:o.firstDay)??0)+6)%7;for(;e.getDay()!==r;)e.setDate(e.getDate()+1);return e}function lW(n){return new Date(n.getFullYear(),n.getMonth(),1)}function uW(n){return new Date(n.getFullYear(),n.getMonth()+1,0)}function $le(n){const t=n.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const Kle=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function cW(n){if(n==null)return new Date;if(n instanceof Date)return n;if(typeof n=="string"){let t;if(Kle.test(n))return $le(n);if(t=Date.parse(n),!isNaN(t))return new Date(t)}return null}const GH=new Date(2e3,0,2);function Wle(n,t,e){var o;const r=t??((o=N_(n))==null?void 0:o.firstDay)??0;return Uf(7).map(i=>{const a=new Date(GH);return a.setDate(GH.getDate()+r+i),new Intl.DateTimeFormat(n,{weekday:e??"narrow"}).format(a)})}function zle(n,t,e,r){const o=cW(n)??new Date,i=r==null?void 0:r[t];if(typeof i=="function")return i(o,t,e);let a={};switch(t){case"fullDate":a={year:"numeric",month:"short",day:"numeric"};break;case"fullDateWithWeekday":a={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const s=o.getDate(),l=new Intl.DateTimeFormat(e,{month:"long"}).format(o);return`${s} ${l}`;case"normalDateWithWeekday":a={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":a={month:"short",day:"numeric"};break;case"year":a={year:"numeric"};break;case"month":a={month:"long"};break;case"monthShort":a={month:"short"};break;case"monthAndYear":a={month:"long",year:"numeric"};break;case"monthAndDate":a={month:"long",day:"numeric"};break;case"weekday":a={weekday:"long"};break;case"weekdayShort":a={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(e).format(o.getDate());case"hours12h":a={hour:"numeric",hour12:!0};break;case"hours24h":a={hour:"numeric",hour12:!1};break;case"minutes":a={minute:"numeric"};break;case"seconds":a={second:"numeric"};break;case"fullTime":a={hour:"numeric",minute:"numeric"};break;case"fullTime12h":a={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":a={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":a={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(e,a).format(o).replace(/, /g," ");case"keyboardDateTime12h":return a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(e,a).format(o).replace(/, /g," ");case"keyboardDateTime24h":return a={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(e,a).format(o).replace(/, /g," ");default:a=i??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(e,a).format(o)}function Gle(n,t){const e=n.toJsDate(t),r=e.getFullYear(),o=CH(String(e.getMonth()+1),2,"0"),i=CH(String(e.getDate()),2,"0");return`${r}-${o}-${i}`}function Yle(n){const[t,e,r]=n.split("-").map(Number);return new Date(t,e-1,r)}function Xle(n,t){const e=new Date(n);return e.setMinutes(e.getMinutes()+t),e}function Jle(n,t){const e=new Date(n);return e.setHours(e.getHours()+t),e}function dm(n,t){const e=new Date(n);return e.setDate(e.getDate()+t),e}function Zle(n,t){const e=new Date(n);return e.setDate(e.getDate()+t*7),e}function qle(n,t){const e=new Date(n);return e.setDate(1),e.setMonth(e.getMonth()+t),e}function Cw(n){return n.getFullYear()}function eue(n){return n.getMonth()}function tue(n,t,e,r){const o=N_(t),i=e??(o==null?void 0:o.firstDay)??0,a=(o==null?void 0:o.firstWeekSize)??1;return r!==void 0?nue(n,t,i,r):rue(n,t,i,a)}function nue(n,t,e,r){const o=(7+r-e)%7,i=Fb(n,t,e),a=dm(i,6);function s(f){return(7+new Date(f,0,1).getDay()-e)%7}let l=Cw(i);l<Cw(a)&&s(l+1)<=o&&l++;const u=new Date(l,0,1),c=s(l),d=c<=o?dm(u,-c):dm(u,7-c);return 1+jx(HL(i),Sw(d),"weeks")}function rue(n,t,e,r){const o=Fb(n,t,e),i=dm(Fb(n,t,e),6);function a(d){const f=new Date(d,0,1);return 7-jx(f,Fb(f,t,e),"days")}let s=Cw(o);s<Cw(i)&&a(s+1)>=r&&s++;const l=new Date(s,0,1),u=a(s),c=u>=r?dm(l,u-7):dm(l,u);return 1+jx(HL(o),Sw(c),"weeks")}function oue(n){return n.getDate()}function iue(n){return new Date(n.getFullYear(),n.getMonth()+1,1)}function aue(n){return new Date(n.getFullYear(),n.getMonth()-1,1)}function sue(n){return n.getHours()}function lue(n){return n.getMinutes()}function uue(n){return new Date(n.getFullYear(),0,1)}function cue(n){return new Date(n.getFullYear(),11,31)}function due(n,t){return Qx(n,t[0])&&hue(n,t[1])}function fue(n){const t=new Date(n);return t instanceof Date&&!isNaN(t.getTime())}function Qx(n,t){return n.getTime()>t.getTime()}function Aue(n,t){return Qx(Sw(n),Sw(t))}function hue(n,t){return n.getTime()<t.getTime()}function YH(n,t){return n.getTime()===t.getTime()}function pue(n,t){return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()}function mue(n,t){return n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()}function vue(n,t){return n.getFullYear()===t.getFullYear()}function jx(n,t,e){const r=new Date(n),o=new Date(t);switch(e){case"years":return r.getFullYear()-o.getFullYear();case"quarters":return Math.floor((r.getMonth()-o.getMonth()+(r.getFullYear()-o.getFullYear())*12)/4);case"months":return r.getMonth()-o.getMonth()+(r.getFullYear()-o.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-o.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-o.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-o.getTime())/1e3);default:return r.getTime()-o.getTime()}}function gue(n,t){const e=new Date(n);return e.setHours(t),e}function yue(n,t){const e=new Date(n);return e.setMinutes(t),e}function bue(n,t){const e=new Date(n);return e.setMonth(t),e}function wue(n,t){const e=new Date(n);return e.setDate(t),e}function _ue(n,t){const e=new Date(n);return e.setFullYear(t),e}function Sw(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0)}function HL(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59,999)}class Cue{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return cW(t)}toJsDate(t){return t}toISO(t){return Gle(this,t)}parseISO(t){return Yle(t)}addMinutes(t,e){return Xle(t,e)}addHours(t,e){return Jle(t,e)}addDays(t,e){return dm(t,e)}addWeeks(t,e){return Zle(t,e)}addMonths(t,e){return qle(t,e)}getWeekArray(t,e){const r=e!==void 0?Number(e):void 0;return Qle(t,this.locale,r)}startOfWeek(t,e){const r=e!==void 0?Number(e):void 0;return Fb(t,this.locale,r)}endOfWeek(t){return jle(t,this.locale)}startOfMonth(t){return lW(t)}endOfMonth(t){return uW(t)}format(t,e){return zle(t,e,this.locale,this.formats)}isEqual(t,e){return YH(t,e)}isValid(t){return fue(t)}isWithinRange(t,e){return due(t,e)}isAfter(t,e){return Qx(t,e)}isAfterDay(t,e){return Aue(t,e)}isBefore(t,e){return!Qx(t,e)&&!YH(t,e)}isSameDay(t,e){return pue(t,e)}isSameMonth(t,e){return mue(t,e)}isSameYear(t,e){return vue(t,e)}setMinutes(t,e){return yue(t,e)}setHours(t,e){return gue(t,e)}setMonth(t,e){return bue(t,e)}setDate(t,e){return wue(t,e)}setYear(t,e){return _ue(t,e)}getDiff(t,e,r){return jx(t,e,r)}getWeekdays(t,e){const r=t!==void 0?Number(t):void 0;return Wle(this.locale,r,e)}getYear(t){return Cw(t)}getMonth(t){return eue(t)}getWeek(t,e,r){const o=e!==void 0?Number(e):void 0,i=r!==void 0?Number(r):void 0;return tue(t,this.locale,o,i)}getDate(t){return oue(t)}getNextMonth(t){return iue(t)}getPreviousMonth(t){return aue(t)}getHours(t){return sue(t)}getMinutes(t){return lue(t)}startOfDay(t){return Sw(t)}endOfDay(t){return HL(t)}startOfYear(t){return uue(t)}endOfYear(t){return cue(t)}}const dW=Symbol.for("vuetify:date-options"),XH=Symbol.for("vuetify:date-adapter");function Sue(n,t){const e=ss({adapter:Cue,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},n);return{options:e,instance:AW(e,t)}}function xue(n,t,e){const r=fW(n,t,e),o=[t];for(let i=1;i<r;i++){const a=n.addDays(t,i);o.push(a)}return e&&o.push(n.endOfDay(e)),o}function fW(n,t,e){const r=[`${n.toISO(e??t).split("T")[0]}T00:00:00Z`,`${n.toISO(t).split("T")[0]}T00:00:00Z`];return typeof n.date()=="string"?n.getDiff(r[0],r[1],"days"):n.getDiff(n.date(r[0]),n.date(r[1]),"days")}function AW(n,t){const e=Di(typeof n.adapter=="function"?new n.adapter({locale:n.locale[t.current.value]??t.current.value,formats:n.formats}):n.adapter);return lt(t.current,r=>{e.locale=n.locale[r]??r??e.locale}),e}function Vy(){const n=Hn(dW);if(!n)throw new Error("[Vuetify] Could not find injected date options");const t=Ri();return AW(n,t)}const Fk=["sm","md","lg","xl","xxl"],uF=Symbol.for("vuetify:display"),JH={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Eue=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:JH;return ss(JH,n)};function ZH(n){return Rr&&!n?window.innerWidth:typeof n=="object"&&n.clientWidth||0}function qH(n){return Rr&&!n?window.innerHeight:typeof n=="object"&&n.clientHeight||0}function e4(n){const t=Rr&&!n?window.navigator.userAgent:"ssr";function e(p){return!!t.match(p)}const r=e(/android/i),o=e(/iphone|ipad|ipod/i),i=e(/cordova/i),a=e(/electron/i),s=e(/chrome/i),l=e(/edge/i),u=e(/firefox/i),c=e(/opera/i),d=e(/win/i),f=e(/mac/i),h=e(/linux/i);return{android:r,ios:o,cordova:i,electron:a,chrome:s,edge:l,firefox:u,opera:c,win:d,mac:f,linux:h,touch:Sse,ssr:t==="ssr"}}function Bue(n,t){const{thresholds:e,mobileBreakpoint:r}=Eue(n),o=It(qH(t)),i=It(e4(t)),a=Di({}),s=It(ZH(t));function l(){o.value=qH(),s.value=ZH()}function u(){l(),i.value=e4()}return mo(()=>{const c=s.value<e.sm,d=s.value<e.md&&!c,f=s.value<e.lg&&!(d||c),h=s.value<e.xl&&!(f||d||c),p=s.value<e.xxl&&!(h||f||d||c),v=s.value>=e.xxl,g=c?"xs":d?"sm":f?"md":h?"lg":p?"xl":"xxl",_=typeof r=="number"?r:e[r],S=s.value<_;a.xs=c,a.sm=d,a.md=f,a.lg=h,a.xl=p,a.xxl=v,a.smAndUp=!c,a.mdAndUp=!(c||d),a.lgAndUp=!(c||d||f),a.xlAndUp=!(c||d||f||h),a.smAndDown=!(f||h||p||v),a.mdAndDown=!(h||p||v),a.lgAndDown=!(p||v),a.xlAndDown=!v,a.name=g,a.height=o.value,a.width=s.value,a.mobile=S,a.mobileBreakpoint=r,a.platform=i.value,a.thresholds=e}),Rr&&(window.addEventListener("resize",l,{passive:!0}),Go(()=>{window.removeEventListener("resize",l)},!0)),{...E_(a),update:u,ssr:!!t}}const R_=it({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function dA(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qd();const e=Hn(uF);if(!e)throw new Error("Could not find Vuetify display injection");const r=ae(()=>n.mobile?!0:typeof n.mobileBreakpoint=="number"?e.width.value<n.mobileBreakpoint:n.mobileBreakpoint?e.width.value<e.thresholds.value[n.mobileBreakpoint]:n.mobile===null?e.mobile.value:!1);return{...e,displayClasses:ze(()=>t?{[`${t}--mobile`]:r.value}:{}),mobile:r}}const hW=Symbol.for("vuetify:goto");function pW(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:ple}}function kue(n){return QL(n)??(document.scrollingElement||document.body)}function QL(n){return typeof n=="string"?document.querySelector(n):EL(n)}function CP(n,t,e){if(typeof n=="number")return t&&e?-n:n;let r=QL(n),o=0;for(;r;)o+=t?r.offsetLeft:r.offsetTop,r=r.offsetParent;return o}function Tue(n,t){return{rtl:t.isRtl,options:ss(pW(),n)}}async function t4(n,t,e,r){const o=e?"scrollLeft":"scrollTop",i=ss((r==null?void 0:r.options)??pW(),t),a=r==null?void 0:r.rtl.value,s=(typeof n=="number"?n:QL(n))??0,l=i.container==="parent"&&s instanceof HTMLElement?s.parentElement:kue(i.container),u=km()?i.patterns.instant:typeof i.easing=="function"?i.easing:i.patterns[i.easing];if(!u)throw new TypeError(`Easing function "${i.easing}" not found.`);let c;if(typeof s=="number")c=CP(s,e,a);else if(c=CP(s,e,a)-CP(l,e,a),i.layout){const p=window.getComputedStyle(s).getPropertyValue("--v-layout-top");p&&(c-=parseInt(p,10))}c+=i.offset,c=Pue(l,c,!!a,!!e);const d=l[o]??0;if(c===d)return Promise.resolve(c);const f=performance.now();return new Promise(h=>requestAnimationFrame(function p(v){const _=(v-f)/i.duration,S=Math.floor(d+(c-d)*u(To(_,0,1)));if(l[o]=S,_>=1&&Math.abs(S-l[o])<10)return h(c);if(_>2)return h(l[o]);requestAnimationFrame(p)}))}function Oue(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Hn(hW),{isRtl:e}=Ji();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const r={...t,rtl:ze(()=>t.rtl.value||e.value)};async function o(i,a){return t4(i,ss(n,a),!1,r)}return o.horizontal=async(i,a)=>t4(i,ss(n,a),!0,r),o}function Pue(n,t,e,r){const{scrollWidth:o,scrollHeight:i}=n,[a,s]=n===document.scrollingElement?[window.innerWidth,window.innerHeight]:[n.offsetWidth,n.offsetHeight];let l,u;return r?e?(l=-(o-a),u=0):(l=0,u=o-a):(l=0,u=i+-s),To(t,l,u)}function mW(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...e}=n,r=ss(t,e),{aliases:o={},components:i={},directives:a={}}=r,s=Mh();return s.run(()=>{const l=ule(r.defaults),u=Bue(r.display,r.ssr),c=Mle(r.theme),d=Hle(r.icons),f=Cle(r.locale),h=Sue(r.date,f),p=Tue(r.goTo,f);function v(_){for(const y in a)_.directive(y,a[y]);for(const y in i)_.component(y,i[y]);for(const y in o)_.component(y,Vc({...o[y],name:y,aliasName:o[y].name}));const S=Mh();if(S.run(()=>{c.install(_)}),_.onUnmount(()=>S.stop()),_.provide(fy,l),_.provide(uF,u),_.provide(_w,c),_.provide(lF,d),_.provide(Hx,f),_.provide(dW,h.options),_.provide(XH,h.instance),_.provide(hW,p),Rr&&r.ssr)if(_.$nuxt)_.$nuxt.hook("app:suspense:resolve",()=>{u.update()});else{const{mount:y}=_;_.mount=function(){const C=y(...arguments);return tr(()=>u.update()),_.mount=y,C}}_.mixin({computed:{$vuetify(){return Di({defaults:Qv.call(this,fy),display:Qv.call(this,uF),theme:Qv.call(this,_w),icons:Qv.call(this,lF),locale:Qv.call(this,Hx),date:Qv.call(this,XH)})}}})}function g(){s.stop()}return{install:v,unmount:g,defaults:l,display:u,theme:c,icons:d,locale:f,date:h,goTo:p}})}const Iue="3.11.7";mW.version=Iue;function Qv(n){var r,o;const t=this.$,e=((r=t.parent)==null?void 0:r.provides)??((o=t.vnode.appContext)==null?void 0:o.provides);if(e&&n in e)return e[n]}const Mue=mW({theme:{defaultTheme:"dark"}}),Fue="modulepreload",Due=function(n){return"/"+n},n4={},ni=function(t,e,r){let o=Promise.resolve();if(e&&e.length>0){let a=function(u){return Promise.all(u.map(c=>Promise.resolve(c).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=a(e.map(u=>{if(u=Due(u),u in n4)return;n4[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Fue,c||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return o.then(a=>{for(const s of a||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},vW=[{path:"/",name:"/",component:()=>ni(()=>Promise.resolve().then(()=>BAe),void 0)},{path:"/:notfound(.*)",name:"/[...notfound]",component:()=>ni(()=>Promise.resolve().then(()=>PAe),void 0)},{path:"/dashboard",name:"/dashboard",component:()=>ni(()=>Promise.resolve().then(()=>MAe),void 0)},{path:"/inventory",name:"/inventory",component:()=>ni(()=>Promise.resolve().then(()=>Mxe),void 0)},{path:"/it-services",name:"/it-services",component:()=>ni(()=>Promise.resolve().then(()=>$xe),void 0)},{path:"/login",name:"/login",component:()=>ni(()=>Promise.resolve().then(()=>Wxe),void 0)},{path:"/paperwork",children:[{path:":provider_id",name:"/paperwork/[provider_id]",component:()=>ni(()=>Promise.resolve().then(()=>PVe),void 0)}]},{path:"/partners",name:"/partners",component:()=>ni(()=>Promise.resolve().then(()=>U2e),void 0)},{path:"/pricing",name:"/pricing",component:()=>ni(()=>Promise.resolve().then(()=>z2e),void 0)},{path:"/proposal",children:[{path:":hash",name:"/proposal/[hash]",component:()=>ni(()=>Promise.resolve().then(()=>VNe),void 0)}]},{path:"/proposals",children:[{path:"",name:"/proposals/",component:()=>ni(()=>Promise.resolve().then(()=>$Ne),void 0)},{path:"accepted",name:"/proposals/accepted",component:()=>ni(()=>Promise.resolve().then(()=>WNe),void 0)},{path:"create",name:"/proposals/create",component:()=>ni(()=>Promise.resolve().then(()=>U$e),void 0)},{path:"declined",name:"/proposals/declined",component:()=>ni(()=>Promise.resolve().then(()=>V$e),void 0)},{path:"drafts",name:"/proposals/drafts",component:()=>ni(()=>Promise.resolve().then(()=>R$e),void 0)},{path:"edit",children:[{path:":id",name:"/proposals/edit/[id]",component:()=>ni(()=>Promise.resolve().then(()=>Q$e),void 0)}]}]},{path:"/providers",name:"/providers",component:()=>ni(()=>Promise.resolve().then(()=>X$e),void 0)},{path:"/settings",children:[{path:":settings",name:"/settings/[settings]",component:()=>ni(()=>Promise.resolve().then(()=>A5e),void 0)}]},{path:"/templates",children:[{path:"",name:"/templates/",component:()=>ni(()=>Promise.resolve().then(()=>v5e),void 0)},{path:"build",name:"/templates/build",component:()=>ni(()=>Promise.resolve().then(()=>jze),void 0)},{path:"edit",children:[{path:":id",name:"/templates/edit/[id]",component:()=>ni(()=>Promise.resolve().then(()=>Kze),void 0)}]}]},{path:"/users",name:"/users",component:()=>ni(()=>Promise.resolve().then(()=>Zze),void 0)}];function Uue(n){const{extendRoutes:t,routes:e}=n;return t&&console.warn('"extendRoutes()" is deprecated, please modify the routes directly. See https://uvr.esm.is/guide/extending-routes.html#extending-routes-at-runtime for an alternative.'),Pie(Object.assign(n,{routes:typeof t=="function"&&t(e)||e}))}const Lue=["/","/dashboard","/partners","/pricing","/providers","/proposals","/users","/templates","/templates/build","/paperwork","/settings","/it-services"];vW.forEach(n=>{Lue.includes(n.path.toLowerCase())&&(n.meta={...n.meta||{},requiresAuth:!0})});const Dk=Uue({history:uie("/"),routes:vW});Dk.beforeEach(async(n,t,e)=>{const r=Vt(),{isAuthenticated:o,user:i,isLoading:a}=Er(),{SetProfile:s}=r,{partner_users:l}=Lt(r);for(;a.value;)await new Promise(u=>setTimeout(u,50));if(o.value&&i.value){let u="user";if(l.value.length>0){const c=l.value.find(d=>{var f;return d.user_id==((f=i.value)==null?void 0:f.sub)});c&&(u=c.role??"User")}s({...i.value,role:u})}else s(null);if(n.meta.requiresAuth&&!o.value)return e("/login");e()});Dk.onError((n,t)=>{var e,r;(r=(e=n==null?void 0:n.message)==null?void 0:e.includes)!=null&&r.call(e,"Failed to fetch dynamically imported module")?localStorage.getItem("vuetify:dynamic-reload")?console.error("Dynamic import error, reloading page did not fix it",n):(console.log("Reloading page to fix dynamic import error"),localStorage.setItem("vuetify:dynamic-reload","true"),location.assign(t.fullPath)):console.error(n)});Dk.isReady().then(()=>{localStorage.removeItem("vuetify:dynamic-reload")});function Vue(n){n.use(Mue).use(Dk)}function Nue(n,t){if(n==null)return;let e=n;for(let r=0;r<t.length;r++){if(e===void 0||e[t[r]]===void 0)return;if(e===null||e[t[r]]===null)return null;e=e[t[r]]}return e}function jL(n,t,e){if(e.length===0)return t;const r=e[0];return e.length>1&&(t=jL(typeof n!="object"||n===null||!Object.prototype.hasOwnProperty.call(n,r)?Number.isInteger(Number(e[1]))?[]:{}:n[r],t,Array.prototype.slice.call(e,1))),Number.isInteger(Number(r))&&Array.isArray(n)?n.slice()[r]:Object.assign({},n,{[r]:t})}function gW(n,t){if(n==null||t.length===0)return n;if(t.length===1){if(n==null)return n;if(Number.isInteger(t[0])&&Array.isArray(n))return Array.prototype.slice.call(n,0).splice(t[0],1);const e={};for(const r in n)e[r]=n[r];return delete e[t[0]],e}if(n[t[0]]==null){if(Number.isInteger(t[0])&&Array.isArray(n))return Array.prototype.concat.call([],n);const e={};for(const r in n)e[r]=n[r];return e}return jL(n,gW(n[t[0]],Array.prototype.slice.call(t,1)),[t[0]])}function yW(n,t){return t.map(e=>e.split(".")).map(e=>[e,Nue(n,e)]).filter(e=>e[1]!==void 0).reduce((e,r)=>jL(e,r[1],r[0]),{})}function bW(n,t){return t.map(e=>e.split(".")).reduce((e,r)=>gW(e,r),n)}function r4(n,{storage:t,serializer:e,key:r,debug:o,pick:i,omit:a,beforeHydrate:s,afterHydrate:l},u,c=!0){try{c&&(s==null||s(u));const d=t.getItem(r);if(d){const f=e.deserialize(d),h=i?yW(f,i):f,p=a?bW(h,a):h;n.$patch(p)}c&&(l==null||l(u))}catch(d){o&&console.error("[pinia-plugin-persistedstate]",d)}}function o4(n,{storage:t,serializer:e,key:r,debug:o,pick:i,omit:a}){try{const s=i?yW(n,i):n,l=a?bW(s,a):s,u=e.serialize(l);t.setItem(r,u)}catch(s){o&&console.error("[pinia-plugin-persistedstate]",s)}}function Rue(n,t){return typeof n=="function"?n(t):typeof n=="string"?n:t}function Hue(n,t,e){const{pinia:r,store:o,options:{persist:i=e}}=n;if(!i)return;// v8 ignore if -- @preserve
if(!(o.$id in r.state.value)){const s=r._s.get(o.$id.replace("__hot:",""));s&&Promise.resolve().then(()=>s.$persist());return}const a=(Array.isArray(i)?i:i===!0?[{}]:[i]).map(t);o.$hydrate=({runHooks:s=!0}={})=>{a.forEach(l=>{r4(o,l,n,s)})},o.$persist=()=>{a.forEach(s=>{o4(o.$state,s)})},a.forEach(s=>{r4(o,s,n),o.$subscribe((l,u)=>o4(u,s),{detached:!0})})}function Que(n={}){return function(t){Hue(t,e=>{const r=Rue(e.key,t.store.$id);return{key:(n.key?n.key:o=>o)(r),debug:e.debug??n.debug??!1,serializer:e.serializer??n.serializer??{serialize:o=>JSON.stringify(o),deserialize:o=>JSON.parse(o)},storage:e.storage??n.storage??window.localStorage,beforeHydrate:e.beforeHydrate??n.beforeHydrate,afterHydrate:e.afterHydrate??n.afterHydrate,pick:e.pick,omit:e.omit}},n.auto??!1)}}var jue=Que();const wW=boe();wW.use(jue);const H_=Px(Ule);H_.use(wW);H_.use(cae({domain:"auth.1800os.com",clientId:"lzPcWFqoVq6026sAYt7xcaRI8CSL86Af",authorizationParams:{redirect_uri:"https://deals.1800os.com/",audience:"https://my-php-validation-identifier.com"},cacheLocation:"localstorage"}));H_.config.errorHandler=(n,t,e)=>{var r;if(n.error==="login_required"||(r=n.message)!=null&&r.includes("Login required")){console.log("Auth0: Login required, redirecting..."),location.href="/login";return}console.error("Global error:",n)};Vue(H_);H_.mount("#app");const Zu=it({border:[Boolean,Number,String]},"border");function Nc(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qd();return{borderClasses:ae(()=>{const r=n.border;return r===!0||r===""?`${t}--border`:typeof r=="string"||r===0?String(r).split(" ").map(o=>`border-${o}`):[]})}}const $ue=[null,"default","comfortable","compact"],Va=it({density:{type:String,default:"default",validator:n=>$ue.includes(n)}},"density");function qu(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qd();return{densityClasses:ze(()=>`${t}--density-${n.density}`)}}const tl=it({elevation:{type:[Number,String],validator(n){const t=parseInt(n);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Ul(n){return{elevationClasses:ze(()=>{const e=Ht(n)?n.value:n.elevation;return e==null?[]:[`elevation-${e}`]})}}const Hi=it({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Zi(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qd();return{roundedClasses:ae(()=>{const r=Ht(n)?n.value:n.rounded,o=Ht(n)?!1:n.tile,i=[];if(o||r===!1)i.push("rounded-0");else if(r===!0||r==="")i.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const a of String(r).split(" "))i.push(`rounded-${a}`);return i})}}function $L(n){return kL(()=>{const{class:t,style:e}=Kue(n);return{colorClasses:t,colorStyles:e}})}function Il(n){const{colorClasses:t,colorStyles:e}=$L(()=>({text:Ui(n)}));return{textColorClasses:t,textColorStyles:e}}function Po(n){const{colorClasses:t,colorStyles:e}=$L(()=>({background:Ui(n)}));return{backgroundColorClasses:t,backgroundColorStyles:e}}function Kue(n){const t=Ui(n),e=[],r={};if(t.background)if(iF(t.background)){if(r.backgroundColor=t.background,!t.text&&tle(t.background)){const o=ru(t.background);if(o.a==null||o.a===1){const i=XK(o);r.color=i,r.caretColor=i}}}else e.push(`bg-${t.background}`);return t.text&&(iF(t.text)?(r.color=t.text,r.caretColor=t.text):e.push(`text-${t.text}`)),{class:e,style:r}}const Wue=["elevated","flat","tonal","outlined","text","plain"];function nv(n,t){return H(ut,null,[n&&H("span",{key:"overlay",class:pt(`${t}__overlay`)},null),H("span",{key:"underlay",class:pt(`${t}__underlay`)},null)])}const Rc=it({color:String,variant:{type:String,default:"elevated",validator:n=>Wue.includes(n)}},"variant");function rv(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qd();const e=ze(()=>{const{variant:i}=Ui(n);return`${t}--variant-${i}`}),{colorClasses:r,colorStyles:o}=$L(()=>{const{variant:i,color:a}=Ui(n);return{[["elevated","flat"].includes(i)?"background":"text"]:a}});return{colorClasses:r,colorStyles:o,variantClasses:e}}const _W=it({baseColor:String,divided:Boolean,direction:{type:String,default:"horizontal"},...Zu(),...Cn(),...Va(),...tl(),...Hi(),...Br(),...Zr(),...Rc()},"VBtnGroup"),cF=Dt()({name:"VBtnGroup",props:_W(),setup(n,t){let{slots:e}=t;const{themeClasses:r}=Co(n),{densityClasses:o}=qu(n),{borderClasses:i}=Nc(n),{elevationClasses:a}=Ul(n),{roundedClasses:s}=Zi(n);Pl({VBtn:{height:ze(()=>n.direction==="horizontal"?"auto":null),baseColor:ze(()=>n.baseColor),color:ze(()=>n.color),density:ze(()=>n.density),flat:!0,variant:ze(()=>n.variant)}}),Kt(()=>x(n.tag,{class:pt(["v-btn-group",`v-btn-group--${n.direction}`,{"v-btn-group--divided":n.divided},r.value,i.value,o.value,a.value,s.value,n.class]),style:Ue(n.style)},e))}}),Uk=it({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Lk=it({value:null,disabled:Boolean,selectedClass:String},"group-item");function xw(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Yo("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const o=el();no(Symbol.for(`${t.description}:id`),o);const i=Hn(t,null);if(!i){if(!e)return i;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const a=ze(()=>n.value),s=ae(()=>!!(i.disabled.value||n.disabled));function l(){i==null||i.register({id:o,value:a,disabled:s},r)}function u(){i==null||i.unregister(o)}l(),Ti(()=>u());const c=ae(()=>i.isSelected(o)),d=ae(()=>i.items.value[0].id===o),f=ae(()=>i.items.value[i.items.value.length-1].id===o),h=ae(()=>c.value&&[i.selectedClass.value,n.selectedClass]);return lt(c,p=>{r.emit("group:selected",{value:p})},{flush:"sync"}),{id:o,isSelected:c,isFirst:d,isLast:f,toggle:()=>i.select(o,!c.value),select:p=>i.select(o,p),selectedClass:h,value:a,disabled:s,group:i,register:l,unregister:u}}function Q_(n,t){let e=!1;const r=Di([]),o=Mn(n,"modelValue",[],f=>f===void 0?[]:CW(r,f===null?[null]:ao(f)),f=>{const h=Gue(r,f);return n.multiple?h:h[0]}),i=Yo("useGroup");function a(f,h){const p=f,v=Symbol.for(`${t.description}:id`),_=_g(v,i==null?void 0:i.vnode).indexOf(h);O(p.value)===void 0&&(p.value=_,p.useIndexAsValue=!0),_>-1?r.splice(_,0,p):r.push(p)}function s(f){if(e)return;l();const h=r.findIndex(p=>p.id===f);r.splice(h,1)}function l(){const f=r.find(h=>!h.disabled);f&&n.mandatory==="force"&&!o.value.length&&(o.value=[f.id])}Kn(()=>{l()}),Ti(()=>{e=!0}),T_(()=>{for(let f=0;f<r.length;f++)r[f].useIndexAsValue&&(r[f].value=f)});function u(f,h){const p=r.find(v=>v.id===f);if(!(h&&(p!=null&&p.disabled)))if(n.multiple){const v=o.value.slice(),g=v.findIndex(S=>S===f),_=~g;if(h=h??!_,_&&n.mandatory&&v.length<=1||!_&&n.max!=null&&v.length+1>n.max)return;g<0&&h?v.push(f):g>=0&&!h&&v.splice(g,1),o.value=v}else{const v=o.value.includes(f);if(n.mandatory&&v||!v&&!h)return;o.value=h??!v?[f]:[]}}function c(f){if(n.multiple,o.value.length){const h=o.value[0],p=r.findIndex(_=>_.id===h);let v=(p+f)%r.length,g=r[v];for(;g.disabled&&v!==p;)v=(v+f)%r.length,g=r[v];if(g.disabled)return;o.value=[r[v].id]}else{const h=r.find(p=>!p.disabled);h&&(o.value=[h.id])}}const d={register:a,unregister:s,selected:o,select:u,disabled:ze(()=>n.disabled),prev:()=>c(r.length-1),next:()=>c(1),isSelected:f=>o.value.includes(f),selectedClass:ze(()=>n.selectedClass),items:ze(()=>r),getItemIndex:f=>zue(r,f)};return no(t,d),d}function zue(n,t){const e=CW(n,[t]);return e.length?n.findIndex(r=>r.id===e[0]):-1}function CW(n,t){const e=[];return t.forEach(r=>{const o=n.find(a=>Ua(r,a.value)),i=n[r];(o==null?void 0:o.value)!==void 0?e.push(o.id):i!=null&&i.useIndexAsValue&&e.push(i.id)}),e}function Gue(n,t){const e=[];return t.forEach(r=>{const o=n.findIndex(i=>i.id===r);if(~o){const i=n[o];e.push(i.value!==void 0?i.value:o)}}),e}const SW=Symbol.for("vuetify:v-btn-toggle"),Yue=it({..._W(),...Uk()},"VBtnToggle"),Xue=Dt()({name:"VBtnToggle",props:Yue(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const{isSelected:r,next:o,prev:i,select:a,selected:s}=Q_(n,SW);return Kt(()=>{const l=cF.filterProps(n);return x(cF,bt({class:["v-btn-toggle",n.class]},l,{style:n.style}),{default:()=>{var u;return[(u=e.default)==null?void 0:u.call(e,{isSelected:r,next:o,prev:i,select:a,selected:s})]}})}),{next:o,prev:i,select:a}}}),Jue=it({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Lr=Dt(!1)({name:"VDefaultsProvider",props:Jue(),setup(n,t){let{slots:e}=t;const{defaults:r,disabled:o,reset:i,root:a,scoped:s}=E_(n);return Pl(r,{reset:i,root:a,scoped:s,disabled:o}),()=>{var l;return(l=e.default)==null?void 0:l.call(e)}}}),Zue=["x-small","small","default","large","x-large"],Ny=it({size:{type:[String,Number],default:"default"}},"size");function j_(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qd();return kL(()=>{const e=n.size;let r,o;return Dx(Zue,e)?r=`${t}--size-${e}`:e&&(o={width:$t(e),height:$t(e)}),{sizeClasses:r,sizeStyles:o}})}const que=it({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Tn,opacity:[String,Number],...Cn(),...Ny(),...Br({tag:"i"}),...Zr()},"VIcon"),en=Dt()({name:"VIcon",props:que(),setup(n,t){let{attrs:e,slots:r}=t;const o=It(),{themeClasses:i}=iW(),{iconData:a}=Lle(()=>o.value||n.icon),{sizeClasses:s}=j_(n),{textColorClasses:l,textColorStyles:u}=Il(()=>n.color);return Kt(()=>{var f,h;const c=(f=r.default)==null?void 0:f.call(r);c&&(o.value=(h=UK(c).filter(p=>p.type===jf&&p.children&&typeof p.children=="string")[0])==null?void 0:h.children);const d=!!(e.onClick||e.onClickOnce);return x(a.value.component,{tag:n.tag,icon:a.value.icon,class:pt(["v-icon","notranslate",i.value,s.value,l.value,{"v-icon--clickable":d,"v-icon--disabled":n.disabled,"v-icon--start":n.start,"v-icon--end":n.end},n.class]),style:Ue([{"--v-icon-opacity":n.opacity},s.value?void 0:{fontSize:$t(n.size),height:$t(n.size),width:$t(n.size)},u.value,n.style]),role:d?"button":void 0,"aria-hidden":!d,tabindex:d?n.disabled?-1:0:void 0},{default:()=>[c]})}),{}}});function xW(n,t){const e=Oe(),r=It(!1);if(SL){const o=new IntersectionObserver(i=>{r.value=!!i.find(a=>a.isIntersecting)},t);Go(()=>{o.disconnect()}),lt(e,(i,a)=>{a&&(o.unobserve(a),r.value=!1),i&&o.observe(i)},{flush:"post"})}return{intersectionRef:e,isIntersecting:r}}const ece=it({bgColor:String,color:String,indeterminate:[Boolean,String],rounded:Boolean,modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Cn(),...Ny(),...Br({tag:"div"}),...Zr()},"VProgressCircular"),Ry=Dt()({name:"VProgressCircular",props:ece(),setup(n,t){let{slots:e}=t;const r=20,o=2*Math.PI*r,i=Oe(),{themeClasses:a}=Co(n),{sizeClasses:s,sizeStyles:l}=j_(n),{textColorClasses:u,textColorStyles:c}=Il(()=>n.color),{textColorClasses:d,textColorStyles:f}=Il(()=>n.bgColor),{intersectionRef:h,isIntersecting:p}=xW(),{resizeRef:v,contentRect:g}=Id(),_=ze(()=>To(parseFloat(n.modelValue),0,100)),S=ze(()=>Number(n.width)),y=ze(()=>l.value?Number(n.size):g.value?g.value.width:Math.max(S.value,32)),C=ze(()=>r/(1-S.value/y.value)*2),T=ze(()=>S.value/y.value*C.value),P=ze(()=>{const I=(100-_.value)/100*o;return n.rounded&&_.value>0&&_.value<100?$t(Math.min(o-.01,I+T.value)):$t(I)}),F=ae(()=>{const I=Number(n.rotate);return n.rounded?I+T.value/2/o*360:I});return mo(()=>{h.value=i.value,v.value=i.value}),Kt(()=>x(n.tag,{ref:i,class:pt(["v-progress-circular",{"v-progress-circular--indeterminate":!!n.indeterminate,"v-progress-circular--visible":p.value,"v-progress-circular--disable-shrink":n.indeterminate&&(n.indeterminate==="disable-shrink"||km())},a.value,s.value,u.value,n.class]),style:Ue([l.value,c.value,n.style]),role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":n.indeterminate?void 0:_.value},{default:()=>[H("svg",{style:{transform:`rotate(calc(-90deg + ${F.value}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${C.value} ${C.value}`},[H("circle",{class:pt(["v-progress-circular__underlay",d.value]),style:Ue(f.value),fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":T.value,"stroke-dasharray":o,"stroke-dashoffset":0},null),H("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":T.value,"stroke-dasharray":o,"stroke-dashoffset":P.value,"stroke-linecap":n.rounded?"round":void 0},null)]),e.default&&H("div",{class:"v-progress-circular__content"},[e.default({value:_.value})])]})),{}}}),i4={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},ov=it({location:String},"location");function Hy(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,e=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Ji();return{locationStyles:ae(()=>{if(!n.location)return{};const{side:i,align:a}=rF(n.location.split(" ").length>1?n.location:`${n.location} center`,r.value);function s(u){return e?e(u):0}const l={};return i!=="center"&&(t?l[i4[i]]=`calc(100% - ${s(i)}px)`:l[i]=0),a!=="center"?t?l[i4[a]]=`calc(100% - ${s(a)}px)`:l[a]=0:(i==="center"?l.top=l.left="50%":l[{top:"left",bottom:"left",left:"top",right:"top"}[i]]="50%",l.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[i]),l})}}const tce=it({chunkCount:{type:[Number,String],default:null},chunkWidth:{type:[Number,String],default:null},chunkGap:{type:[Number,String],default:4}},"chunks");function nce(n,t){const e=ze(()=>!!n.chunkCount||!!n.chunkWidth),r=ae(()=>{const s=Ui(t);if(!s)return 0;if(!n.chunkCount)return Number(n.chunkWidth);const l=Number(n.chunkCount);return(s-Number(n.chunkGap)*(l-1))/l}),o=ze(()=>Number(n.chunkGap)),i=ae(()=>{if(!e.value)return{};const s=$t(o.value),l=$t(r.value);return{maskRepeat:"repeat-x",maskImage:`linear-gradient(90deg, #000, #000 ${l}, transparent ${l}, transparent)`,maskSize:`calc(${l} + ${s}) 100%`}});function a(s){const l=Ui(t);if(!l)return s;const u=100*o.value/l,c=100*(r.value+o.value)/l,d=Math.floor((s+u)/c);return To(0,d*c-u/2,100)}return{hasChunks:e,chunksMaskStyles:i,snapValueToChunk:a}}const rce=it({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...tce(),...Cn(),...ov({location:"top"}),...Hi(),...Br(),...Zr()},"VProgressLinear"),EW=Dt()({name:"VProgressLinear",props:rce(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const r=Oe(),o=Mn(n,"modelValue"),{isRtl:i,rtlClasses:a}=Ji(),{themeClasses:s}=Co(n),{locationStyles:l}=Hy(n),{textColorClasses:u,textColorStyles:c}=Il(()=>n.color),{backgroundColorClasses:d,backgroundColorStyles:f}=Po(()=>n.bgColor||n.color),{backgroundColorClasses:h,backgroundColorStyles:p}=Po(()=>n.bufferColor||n.bgColor||n.color),{backgroundColorClasses:v,backgroundColorStyles:g}=Po(()=>n.color),{roundedClasses:_}=Zi(n),{intersectionRef:S,isIntersecting:y}=xW(),C=ae(()=>parseFloat(n.max)),T=ae(()=>parseFloat(n.height)),P=ae(()=>To(parseFloat(n.bufferValue)/C.value*100,0,100)),F=ae(()=>To(parseFloat(o.value)/C.value*100,0,100)),I=ae(()=>i.value!==n.reverse),k=ae(()=>n.indeterminate?"fade-transition":"slide-x-transition"),M=It(0),{hasChunks:V,chunksMaskStyles:U,snapValueToChunk:$}=nce(n,M);zs(V,()=>{const{resizeRef:ne}=Id(ue=>M.value=ue[0].contentRect.width);mo(()=>ne.value=r.value)});const Q=ae(()=>V.value?$(P.value):P.value),J=ae(()=>V.value?$(F.value):F.value);function R(ne){if(!S.value)return;const{left:ue,right:we,width:Be}=S.value.getBoundingClientRect(),We=I.value?Be-ne.clientX+(we-Be):ne.clientX-ue;o.value=Math.round(We/Be*C.value)}return mo(()=>{S.value=r.value}),Kt(()=>x(n.tag,{ref:r,class:pt(["v-progress-linear",{"v-progress-linear--absolute":n.absolute,"v-progress-linear--active":n.active&&y.value,"v-progress-linear--reverse":I.value,"v-progress-linear--rounded":n.rounded,"v-progress-linear--rounded-bar":n.roundedBar,"v-progress-linear--striped":n.striped,"v-progress-linear--clickable":n.clickable},_.value,s.value,a.value,n.class]),style:Ue([{bottom:n.location==="bottom"?0:void 0,top:n.location==="top"?0:void 0,height:n.active?$t(T.value):0,"--v-progress-linear-height":$t(T.value),...n.absolute?l.value:{}},U.value,n.style]),role:"progressbar","aria-hidden":n.active?"false":"true","aria-valuemin":"0","aria-valuemax":n.max,"aria-valuenow":n.indeterminate?void 0:Math.min(parseFloat(o.value),C.value),onClick:n.clickable&&R},{default:()=>[n.stream&&H("div",{key:"stream",class:pt(["v-progress-linear__stream",u.value]),style:{...c.value,[I.value?"left":"right"]:$t(-T.value),borderTop:`${$t(T.value/2)} dotted`,opacity:parseFloat(n.bufferOpacity),top:`calc(50% - ${$t(T.value/4)})`,width:$t(100-P.value,"%"),"--v-progress-linear-stream-to":$t(T.value*(I.value?1:-1))}},null),H("div",{class:pt(["v-progress-linear__background",d.value]),style:Ue([f.value,{opacity:parseFloat(n.bgOpacity),width:n.stream?0:void 0}])},null),H("div",{class:pt(["v-progress-linear__buffer",h.value]),style:Ue([p.value,{opacity:parseFloat(n.bufferOpacity),width:$t(Q.value,"%")}])},null),x(oA,{name:k.value},{default:()=>[n.indeterminate?H("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(ne=>H("div",{key:ne,class:pt(["v-progress-linear__indeterminate",ne,v.value]),style:Ue(g.value)},null))]):H("div",{class:pt(["v-progress-linear__determinate",v.value]),style:Ue([g.value,{width:$t(J.value,"%")}])},null)]}),e.default&&H("div",{class:"v-progress-linear__content"},[e.default({value:F.value,buffer:P.value})])]})),{}}}),Vk=it({loading:[Boolean,String]},"loader");function $_(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qd();return{loaderClasses:ze(()=>({[`${t}--loading`]:n.loading}))}}function Nk(n,t){var r;let{slots:e}=t;return H("div",{class:pt(`${n.name}__loader`)},[((r=e.default)==null?void 0:r.call(e,{color:n.color,isActive:n.active}))||x(EW,{absolute:n.absolute,active:n.active,color:n.color,height:"2",indeterminate:!0},null)])}const oce=["static","relative","fixed","absolute","sticky"],K_=it({position:{type:String,validator:n=>oce.includes(n)}},"position");function W_(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qd();return{positionClasses:ze(()=>n.position?`${t}--${n.position}`:void 0)}}function ice(){const n=Yo("useRoute");return ae(()=>{var t;return(t=n==null?void 0:n.proxy)==null?void 0:t.$route})}function BW(){var n,t;return(t=(n=Yo("useRouter"))==null?void 0:n.proxy)==null?void 0:t.$router}function Rk(n,t){var d,f;const e=tL("RouterLink"),r=ze(()=>!!(n.href||n.to)),o=ae(()=>(r==null?void 0:r.value)||xH(t,"click")||xH(n,"click"));if(typeof e=="string"||!("useLink"in e)){const h=ze(()=>n.href);return{isLink:r,isRouterLink:ze(()=>!1),isClickable:o,href:h,linkProps:Di({href:h})}}const i=e.useLink({to:ze(()=>n.to||""),replace:ze(()=>n.replace)}),a=ae(()=>n.to?i:void 0),s=ice(),l=ae(()=>{var h,p,v;return a.value?n.exact?s.value?((v=a.value.isExactActive)==null?void 0:v.value)&&Ua(a.value.route.value.query,s.value.query):((p=a.value.isExactActive)==null?void 0:p.value)??!1:((h=a.value.isActive)==null?void 0:h.value)??!1:!1}),u=ae(()=>{var h;return n.to?(h=a.value)==null?void 0:h.route.value.href:n.href});return{isLink:r,isRouterLink:ze(()=>!!n.to),isClickable:o,isActive:l,route:(d=a.value)==null?void 0:d.route,navigate:(f=a.value)==null?void 0:f.navigate,href:u,linkProps:Di({href:u,"aria-current":ze(()=>l.value?"page":void 0),"aria-disabled":ze(()=>n.disabled&&r.value?"true":void 0),tabindex:ze(()=>n.disabled&&r.value?"-1":void 0)})}}const Hk=it({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let SP=!1;function ace(n,t){let e=!1,r,o;Rr&&(n!=null&&n.beforeEach)&&(tr(()=>{window.addEventListener("popstate",i),r=n.beforeEach((a,s,l)=>{SP?e?t(l):l():setTimeout(()=>e?t(l):l()),SP=!0}),o=n==null?void 0:n.afterEach(()=>{SP=!1})}),Go(()=>{window.removeEventListener("popstate",i),r==null||r(),o==null||o()}));function i(a){var s;(s=a.state)!=null&&s.replaced||(e=!0,setTimeout(()=>e=!1))}}function sce(n,t){lt(()=>{var e;return(e=n.isActive)==null?void 0:e.value},e=>{n.isLink.value&&e!=null&&t&&tr(()=>{t(e)})},{immediate:!0})}const dF=Symbol("rippleStop"),lce=80;function a4(n,t){n.style.transform=t,n.style.webkitTransform=t}function fF(n){return n.constructor.name==="TouchEvent"}function kW(n){return n.constructor.name==="KeyboardEvent"}const uce=function(n,t){var d;let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;if(!kW(n)){const f=t.getBoundingClientRect(),h=fF(n)?n.touches[n.touches.length-1]:n;r=h.clientX-f.left,o=h.clientY-f.top}let i=0,a=.3;(d=t._ripple)!=null&&d.circle?(a=.15,i=t.clientWidth/2,i=e.center?i:i+Math.sqrt((r-i)**2+(o-i)**2)/4):i=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const s=`${(t.clientWidth-i*2)/2}px`,l=`${(t.clientHeight-i*2)/2}px`,u=e.center?s:`${r-i}px`,c=e.center?l:`${o-i}px`;return{radius:i,scale:a,x:u,y:c,centerX:s,centerY:l}},$x={show(n,t){var h;let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((h=t==null?void 0:t._ripple)!=null&&h.enabled))return;const r=document.createElement("span"),o=document.createElement("span");r.appendChild(o),r.className="v-ripple__container",e.class&&(r.className+=` ${e.class}`);const{radius:i,scale:a,x:s,y:l,centerX:u,centerY:c}=uce(n,t,e),d=`${i*2}px`;o.className="v-ripple__animation",o.style.width=d,o.style.height=d,t.appendChild(r);const f=window.getComputedStyle(t);f&&f.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),o.classList.add("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--visible"),a4(o,`translate(${s}, ${l}) scale3d(${a},${a},${a})`),o.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o.classList.remove("v-ripple__animation--enter"),o.classList.add("v-ripple__animation--in"),a4(o,`translate(${u}, ${c}) scale3d(1,1,1)`)})})},hide(n){var i;if(!((i=n==null?void 0:n._ripple)!=null&&i.enabled))return;const t=n.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const e=Array.from(t).findLast(a=>!a.dataset.isHiding);if(e)e.dataset.isHiding="true";else return;const r=performance.now()-Number(e.dataset.activated),o=Math.max(250-r,0);setTimeout(()=>{e.classList.remove("v-ripple__animation--in"),e.classList.add("v-ripple__animation--out"),setTimeout(()=>{var s;n.getElementsByClassName("v-ripple__animation").length===1&&n.dataset.previousPosition&&(n.style.position=n.dataset.previousPosition,delete n.dataset.previousPosition),((s=e.parentNode)==null?void 0:s.parentNode)===n&&n.removeChild(e.parentNode)},300)},o)}};function TW(n){return typeof n>"u"||!!n}function Ew(n){const t={},e=n.currentTarget;if(!(!(e!=null&&e._ripple)||e._ripple.touched||n[dF])){if(n[dF]=!0,fF(n))e._ripple.touched=!0,e._ripple.isTouch=!0;else if(e._ripple.isTouch)return;if(t.center=e._ripple.centered||kW(n),e._ripple.class&&(t.class=e._ripple.class),fF(n)){if(e._ripple.showTimerCommit)return;e._ripple.showTimerCommit=()=>{$x.show(n,e,t)},e._ripple.showTimer=window.setTimeout(()=>{var r;(r=e==null?void 0:e._ripple)!=null&&r.showTimerCommit&&(e._ripple.showTimerCommit(),e._ripple.showTimerCommit=null)},lce)}else $x.show(n,e,t)}}function Kx(n){n[dF]=!0}function ql(n){const t=n.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),n.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{ql(n)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),$x.hide(t)}}function OW(n){const t=n.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Bw=!1;function cce(n,t){!Bw&&t.includes(n.key)&&(Bw=!0,Ew(n))}function PW(n){Bw=!1,ql(n)}function IW(n){Bw&&(Bw=!1,ql(n))}function MW(n,t,e){const{value:r,modifiers:o}=t,i=TW(r);i||$x.hide(n),n._ripple=n._ripple??{},n._ripple.enabled=i,n._ripple.centered=o.center,n._ripple.circle=o.circle;const a=Om(r)?r:{};a.class&&(n._ripple.class=a.class);const s=a.keys??["Enter","Space"];if(n._ripple.keyDownHandler=l=>cce(l,s),i&&!e){if(o.stop){n.addEventListener("touchstart",Kx,{passive:!0}),n.addEventListener("mousedown",Kx);return}n.addEventListener("touchstart",Ew,{passive:!0}),n.addEventListener("touchend",ql,{passive:!0}),n.addEventListener("touchmove",OW,{passive:!0}),n.addEventListener("touchcancel",ql),n.addEventListener("mousedown",Ew),n.addEventListener("mouseup",ql),n.addEventListener("mouseleave",ql),n.addEventListener("keydown",n._ripple.keyDownHandler),n.addEventListener("keyup",PW),n.addEventListener("blur",IW),n.addEventListener("dragstart",ql,{passive:!0})}else!i&&e&&FW(n)}function FW(n){var t;n.removeEventListener("touchstart",Kx),n.removeEventListener("mousedown",Kx),n.removeEventListener("touchstart",Ew),n.removeEventListener("touchend",ql),n.removeEventListener("touchmove",OW),n.removeEventListener("touchcancel",ql),n.removeEventListener("mousedown",Ew),n.removeEventListener("mouseup",ql),n.removeEventListener("mouseleave",ql),(t=n._ripple)!=null&&t.keyDownHandler&&n.removeEventListener("keydown",n._ripple.keyDownHandler),n.removeEventListener("keyup",PW),n.removeEventListener("blur",IW),n.removeEventListener("dragstart",ql)}function dce(n,t){MW(n,t,!1)}function fce(n){FW(n),delete n._ripple}function Ace(n,t){if(t.value===t.oldValue)return;const e=TW(t.oldValue);MW(n,t,e)}const su={mounted:dce,unmounted:fce,updated:Ace},KL=it({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:SW},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Tn,appendIcon:Tn,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,spaced:String,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...Zu(),...Cn(),...Va(),...As(),...tl(),...Lk(),...Vk(),...ov(),...K_(),...Hi(),...Hk(),...Ny(),...Br({tag:"button"}),...Zr(),...Rc({variant:"elevated"})},"VBtn"),$e=Dt()({name:"VBtn",props:KL(),emits:{"group:selected":n=>!0},setup(n,t){let{attrs:e,slots:r}=t;const{themeClasses:o}=Co(n),{borderClasses:i}=Nc(n),{densityClasses:a}=qu(n),{dimensionStyles:s}=hs(n),{elevationClasses:l}=Ul(n),{loaderClasses:u}=$_(n),{locationStyles:c}=Hy(n),{positionClasses:d}=W_(n),{roundedClasses:f}=Zi(n),{sizeClasses:h,sizeStyles:p}=j_(n),v=xw(n,n.symbol,!1),g=Rk(n,e),_=ae(()=>{var V;return n.active!==void 0?n.active:g.isRouterLink.value?(V=g.isActive)==null?void 0:V.value:v==null?void 0:v.isSelected.value}),S=ze(()=>_.value?n.activeColor??n.color:n.color),y=ae(()=>{var U,$;return{color:(v==null?void 0:v.isSelected.value)&&(!g.isLink.value||((U=g.isActive)==null?void 0:U.value))||!v||(($=g.isActive)==null?void 0:$.value)?S.value??n.baseColor:n.baseColor,variant:n.variant}}),{colorClasses:C,colorStyles:T,variantClasses:P}=rv(y),F=ae(()=>(v==null?void 0:v.disabled.value)||n.disabled),I=ze(()=>n.variant==="elevated"&&!(n.disabled||n.flat||n.border)),k=ae(()=>{if(!(n.value===void 0||typeof n.value=="symbol"))return Object(n.value)===n.value?JSON.stringify(n.value,null,0):n.value});function M(V){var U;F.value||g.isLink.value&&(V.metaKey||V.ctrlKey||V.shiftKey||V.button!==0||e.target==="_blank")||(g.isRouterLink.value?(U=g.navigate)==null||U.call(g,V):v==null||v.toggle())}return sce(g,v==null?void 0:v.select),Kt(()=>{const V=g.isLink.value?"a":n.tag,U=!!(n.prependIcon||r.prepend),$=!!(n.appendIcon||r.append),Q=!!(n.icon&&n.icon!==!0);return Qn(x(V,bt(g.linkProps,{type:V==="a"?void 0:"button",class:["v-btn",v==null?void 0:v.selectedClass.value,{"v-btn--active":_.value,"v-btn--block":n.block,"v-btn--disabled":F.value,"v-btn--elevated":I.value,"v-btn--flat":n.flat,"v-btn--icon":!!n.icon,"v-btn--loading":n.loading,"v-btn--readonly":n.readonly,"v-btn--slim":n.slim,"v-btn--stacked":n.stacked},n.spaced?["v-btn--spaced",`v-btn--spaced-${n.spaced}`]:[],o.value,i.value,C.value,a.value,l.value,u.value,d.value,f.value,h.value,P.value,n.class],style:[T.value,s.value,c.value,p.value,n.style],"aria-busy":n.loading?!0:void 0,disabled:F.value&&V!=="a"||void 0,tabindex:n.loading||n.readonly?-1:void 0,onClick:M,value:k.value}),{default:()=>{var J;return[nv(!0,"v-btn"),!n.icon&&U&&H("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?x(Lr,{key:"prepend-defaults",disabled:!n.prependIcon,defaults:{VIcon:{icon:n.prependIcon}}},r.prepend):x(en,{key:"prepend-icon",icon:n.prependIcon},null)]),H("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&Q?x(en,{key:"content-icon",icon:n.icon},null):x(Lr,{key:"content-defaults",disabled:!Q,defaults:{VIcon:{icon:n.icon}}},{default:()=>{var R;return[((R=r.default)==null?void 0:R.call(r))??at(n.text)]}})]),!n.icon&&$&&H("span",{key:"append",class:"v-btn__append"},[r.append?x(Lr,{key:"append-defaults",disabled:!n.appendIcon,defaults:{VIcon:{icon:n.appendIcon}}},r.append):x(en,{key:"append-icon",icon:n.appendIcon},null)]),!!n.loading&&H("span",{key:"loader",class:"v-btn__loader"},[((J=r.loader)==null?void 0:J.call(r))??x(Ry,{color:typeof n.loading=="boolean"?void 0:n.loading,indeterminate:!0,width:"2"},null)])]}}),[[su,!F.value&&n.ripple,"",{center:!!n.icon}]])}),{group:v}}});function xP(n,t){return{x:n.x+t.x,y:n.y+t.y}}function hce(n,t){return{x:n.x-t.x,y:n.y-t.y}}function s4(n,t){if(n.side==="top"||n.side==="bottom"){const{side:e,align:r}=n,o=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,i=e==="top"?0:e==="bottom"?t.height:e;return xP({x:o,y:i},t)}else if(n.side==="left"||n.side==="right"){const{side:e,align:r}=n,o=e==="left"?0:e==="right"?t.width:e,i=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return xP({x:o,y:i},t)}return xP({x:t.width/2,y:t.height/2},t)}const DW={static:vce,connected:yce},pce=it({locationStrategy:{type:[String,Function],default:"static",validator:n=>typeof n=="function"||n in DW},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array],stickToTarget:Boolean,viewportMargin:{type:[Number,String],default:12}},"VOverlay-location-strategies");function mce(n,t){const e=Oe({}),r=Oe();Rr&&zs(()=>!!(t.isActive.value&&n.locationStrategy),s=>{var l,u;lt(()=>n.locationStrategy,s),Go(()=>{window.removeEventListener("resize",o),visualViewport==null||visualViewport.removeEventListener("resize",i),visualViewport==null||visualViewport.removeEventListener("scroll",a),r.value=void 0}),window.addEventListener("resize",o,{passive:!0}),visualViewport==null||visualViewport.addEventListener("resize",i,{passive:!0}),visualViewport==null||visualViewport.addEventListener("scroll",a,{passive:!0}),typeof n.locationStrategy=="function"?r.value=(l=n.locationStrategy(t,n,e))==null?void 0:l.updateLocation:r.value=(u=DW[n.locationStrategy](t,n,e))==null?void 0:u.updateLocation});function o(s){var l;(l=r.value)==null||l.call(r,s)}function i(s){var l;(l=r.value)==null||l.call(r,s)}function a(s){var l;(l=r.value)==null||l.call(r,s)}return{contentStyles:e,updateLocation:r}}function vce(){}function gce(n,t){const e=OL(n);return t?e.x+=parseFloat(n.style.right||0):e.x-=parseFloat(n.style.left||0),e.y-=parseFloat(n.style.top||0),e}function yce(n,t,e){(Array.isArray(n.target.value)||vle(n.target.value))&&Object.assign(e.value,{position:"fixed",top:0,[n.isRtl.value?"right":"left"]:0});const{preferredAnchor:o,preferredOrigin:i}=kL(()=>{const _=rF(t.location,n.isRtl.value),S=t.origin==="overlap"?_:t.origin==="auto"?bP(_):rF(t.origin,n.isRtl.value);return _.side===S.side&&_.align===wP(S).align?{preferredAnchor:EH(_),preferredOrigin:EH(S)}:{preferredAnchor:_,preferredOrigin:S}}),[a,s,l,u]=["minWidth","minHeight","maxWidth","maxHeight"].map(_=>ae(()=>{const S=parseFloat(t[_]);return isNaN(S)?1/0:S})),c=ae(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const _=t.offset.split(" ").map(parseFloat);return _.length<2&&_.push(0),_}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let d=!1,f=-1;const h=new LK(4),p=new ResizeObserver(()=>{if(!d)return;if(requestAnimationFrame(S=>{S!==f&&h.clear(),requestAnimationFrame(y=>{f=y})}),h.isFull){const S=h.values();if(Ua(S.at(-1),S.at(-3))&&!Ua(S.at(-1),S.at(-2)))return}const _=g();_&&h.push(_.flipped)});let v=new Fu({x:0,y:0,width:0,height:0});lt(n.target,(_,S)=>{S&&!Array.isArray(S)&&p.unobserve(S),Array.isArray(_)?Ua(_,S)||g():_&&p.observe(_)},{immediate:!0}),lt(n.contentEl,(_,S)=>{S&&p.unobserve(S),_&&p.observe(_)},{immediate:!0}),Go(()=>{p.disconnect()});function g(){if(d=!1,requestAnimationFrame(()=>d=!0),!n.target.value||!n.contentEl.value)return;(Array.isArray(n.target.value)||n.target.value.offsetParent||n.target.value.getClientRects().length)&&(v=HK(n.target.value));const _=gce(n.contentEl.value,n.isRtl.value),S=Rx(n.contentEl.value),y=Number(t.viewportMargin);S.length||(S.push(document.documentElement),n.contentEl.value.style.top&&n.contentEl.value.style.left||(_.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),_.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const C=S.reduce(($,Q)=>{const J=Nse(Q);return $?new Fu({x:Math.max($.left,J.left),y:Math.max($.top,J.top),width:Math.min($.right,J.right)-Math.max($.left,J.left),height:Math.min($.bottom,J.bottom)-Math.max($.top,J.top)}):J},void 0);t.stickToTarget?(C.x+=Math.min(y,v.x),C.y+=Math.min(y,v.y),C.width=Math.max(C.width-y*2,v.x+v.width-y),C.height=Math.max(C.height-y*2,v.y+v.height-y)):(C.x+=y,C.y+=y,C.width-=y*2,C.height-=y*2);let T={anchor:o.value,origin:i.value};function P($){const Q=new Fu(_),J=s4($.anchor,v),R=s4($.origin,Q);let{x:ne,y:ue}=hce(J,R);switch($.anchor.side){case"top":ue-=c.value[0];break;case"bottom":ue+=c.value[0];break;case"left":ne-=c.value[0];break;case"right":ne+=c.value[0];break}switch($.anchor.align){case"top":ue-=c.value[1];break;case"bottom":ue+=c.value[1];break;case"left":ne-=c.value[1];break;case"right":ne+=c.value[1];break}return Q.x+=ne,Q.y+=ue,Q.width=Math.min(Q.width,l.value),Q.height=Math.min(Q.height,u.value),{overflows:kH(Q,C),x:ne,y:ue}}let F=0,I=0;const k={x:0,y:0},M={x:!1,y:!1};let V=-1;for(;!(V++>10);){const{x:$,y:Q,overflows:J}=P(T);F+=$,I+=Q,_.x+=$,_.y+=Q;{const R=BH(T.anchor),ne=J.x.before||J.x.after,ue=J.y.before||J.y.after;let we=!1;if(["x","y"].forEach(Be=>{if(Be==="x"&&ne&&!M.x||Be==="y"&&ue&&!M.y){const We={anchor:{...T.anchor},origin:{...T.origin}},pe=Be==="x"?R==="y"?wP:bP:R==="y"?bP:wP;We.anchor=pe(We.anchor),We.origin=pe(We.origin);const{overflows:_e}=P(We);(_e[Be].before<=J[Be].before&&_e[Be].after<=J[Be].after||_e[Be].before+_e[Be].after<(J[Be].before+J[Be].after)/2)&&(T=We,we=M[Be]=!0)}}),we)continue}J.x.before&&(F+=J.x.before,_.x+=J.x.before),J.x.after&&(F-=J.x.after,_.x-=J.x.after),J.y.before&&(I+=J.y.before,_.y+=J.y.before),J.y.after&&(I-=J.y.after,_.y-=J.y.after);{const R=kH(_,C);k.x=C.width-R.x.before-R.x.after,k.y=C.height-R.y.before-R.y.after,F+=R.x.before,_.x+=R.x.before,I+=R.y.before,_.y+=R.y.before}break}const U=BH(T.anchor);return Object.assign(e.value,{"--v-overlay-anchor-origin":`${T.anchor.side} ${T.anchor.align}`,transformOrigin:`${T.origin.side} ${T.origin.align}`,top:$t(EP(I)),left:n.isRtl.value?void 0:$t(EP(F)),right:n.isRtl.value?$t(EP(-F)):void 0,minWidth:$t(U==="y"?Math.min(a.value,v.width):a.value),maxWidth:$t(l4(To(k.x,a.value===1/0?0:a.value,l.value))),maxHeight:$t(l4(To(k.y,s.value===1/0?0:s.value,u.value)))}),{available:k,contentBox:_,flipped:M}}return lt(()=>[o.value,i.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>g()),tr(()=>{const _=g();if(!_)return;const{available:S,contentBox:y}=_;y.height>S.y&&requestAnimationFrame(()=>{g(),requestAnimationFrame(()=>{g()})})}),{updateLocation:g}}function EP(n){return Math.round(n*devicePixelRatio)/devicePixelRatio}function l4(n){return Math.ceil(n*devicePixelRatio)/devicePixelRatio}let AF=!0;const Wx=[];function bce(n){!AF||Wx.length?(Wx.push(n),hF()):(AF=!1,n(),hF())}let u4=-1;function hF(){cancelAnimationFrame(u4),u4=requestAnimationFrame(()=>{const n=Wx.shift();n&&n(),Wx.length?hF():AF=!0})}const DS={none:null,close:Cce,block:Sce,reposition:xce},wce=it({scrollStrategy:{type:[String,Function],default:"block",validator:n=>typeof n=="function"||n in DS}},"VOverlay-scroll-strategies");function _ce(n,t){if(!Rr)return;let e;mo(async()=>{e==null||e.stop(),t.isActive.value&&n.scrollStrategy&&(e=Mh(),await new Promise(r=>setTimeout(r)),e.active&&e.run(()=>{var r;typeof n.scrollStrategy=="function"?n.scrollStrategy(t,n,e):(r=DS[n.scrollStrategy])==null||r.call(DS,t,n,e)}))}),Go(()=>{e==null||e.stop()})}function Cce(n){function t(e){n.isActive.value=!1}UW(WL(n.target.value,n.contentEl.value),t)}function Sce(n,t){var s;const e=(s=n.root.value)==null?void 0:s.offsetParent,r=WL(n.target.value,n.contentEl.value),o=[...new Set([...Rx(r,t.contained?e:void 0),...Rx(n.contentEl.value,t.contained?e:void 0)])].filter(l=>!l.classList.contains("v-overlay-scroll-blocked")),i=window.innerWidth-document.documentElement.offsetWidth,a=(l=>DL(l)&&l)(e||document.documentElement);a&&n.root.value.classList.add("v-overlay--scroll-blocked"),o.forEach((l,u)=>{l.style.setProperty("--v-body-scroll-x",$t(-l.scrollLeft)),l.style.setProperty("--v-body-scroll-y",$t(-l.scrollTop)),l!==document.documentElement&&l.style.setProperty("--v-scrollbar-offset",$t(i)),l.classList.add("v-overlay-scroll-blocked")}),Go(()=>{o.forEach((l,u)=>{const c=parseFloat(l.style.getPropertyValue("--v-body-scroll-x")),d=parseFloat(l.style.getPropertyValue("--v-body-scroll-y")),f=l.style.scrollBehavior;l.style.scrollBehavior="auto",l.style.removeProperty("--v-body-scroll-x"),l.style.removeProperty("--v-body-scroll-y"),l.style.removeProperty("--v-scrollbar-offset"),l.classList.remove("v-overlay-scroll-blocked"),l.scrollLeft=-c,l.scrollTop=-d,l.style.scrollBehavior=f}),a&&n.root.value.classList.remove("v-overlay--scroll-blocked")})}function xce(n,t,e){let r=!1,o=-1,i=-1;function a(s){bce(()=>{var c,d;const l=performance.now();(d=(c=n.updateLocation).value)==null||d.call(c,s),r=(performance.now()-l)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?s=>s():requestIdleCallback)(()=>{e.run(()=>{UW(WL(n.target.value,n.contentEl.value),s=>{r?(cancelAnimationFrame(o),o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{a(s)})})):a(s)})})}),Go(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(o)})}function WL(n,t){return Array.isArray(n)?document.elementsFromPoint(...n).find(e=>!(t!=null&&t.contains(e))):n??t}function UW(n,t){const e=[document,...Rx(n)];e.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),Go(()=>{e.forEach(r=>{r.removeEventListener("scroll",t)})})}const pF=Symbol.for("vuetify:v-menu"),LW=it({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function VW(n,t){let e=()=>{};function r(a,s){e==null||e();const l=a?n.openDelay:n.closeDelay,u=Math.max((s==null?void 0:s.minDelay)??0,Number(l??0));return new Promise(c=>{e=Mse(u,()=>{t==null||t(a),c(a)})})}function o(){return r(!0)}function i(a){return r(!1,a)}return{clearDelay:e,runOpenDelay:o,runCloseDelay:i}}const Ece=it({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...LW()},"VOverlay-activator");function Bce(n,t){let{isActive:e,isTop:r,contentEl:o}=t;const i=Yo("useActivator"),a=Oe();let s=!1,l=!1,u=!0;const c=ae(()=>n.openOnFocus||n.openOnFocus==null&&n.openOnHover),d=ae(()=>n.openOnClick||n.openOnClick==null&&!n.openOnHover&&!c.value),{runOpenDelay:f,runCloseDelay:h}=VW(n,I=>{I===(n.openOnHover&&s||c.value&&l)&&!(n.openOnHover&&e.value&&!r.value)&&(e.value!==I&&(u=!0),e.value=I)}),p=Oe(),v={onClick:I=>{I.stopPropagation(),a.value=I.currentTarget||I.target,e.value||(p.value=[I.clientX,I.clientY]),e.value=!e.value},onMouseenter:I=>{s=!0,a.value=I.currentTarget||I.target,f()},onMouseleave:I=>{s=!1,h()},onFocus:I=>{Ux(I.target,":focus-visible")!==!1&&(l=!0,I.stopPropagation(),a.value=I.currentTarget||I.target,f())},onBlur:I=>{l=!1,I.stopPropagation(),h({minDelay:1})}},g=ae(()=>{const I={};return d.value&&(I.onClick=v.onClick),n.openOnHover&&(I.onMouseenter=v.onMouseenter,I.onMouseleave=v.onMouseleave),c.value&&(I.onFocus=v.onFocus,I.onBlur=v.onBlur),I}),_=ae(()=>{const I={};if(n.openOnHover&&(I.onMouseenter=()=>{s=!0,f()},I.onMouseleave=()=>{s=!1,h()}),c.value&&(I.onFocusin=k=>{k.target.matches(":focus-visible")&&(l=!0,f())},I.onFocusout=()=>{l=!1,h({minDelay:1})}),n.closeOnContentClick){const k=Hn(pF,null);I.onClick=()=>{e.value=!1,k==null||k.closeParents()}}return I}),S=ae(()=>{const I={};return n.openOnHover&&(I.onMouseenter=()=>{u&&(s=!0,u=!1,f())},I.onMouseleave=()=>{s=!1,h()}),I});lt(r,I=>{var k;I&&(n.openOnHover&&!s&&(!c.value||!l)||c.value&&!l&&(!n.openOnHover||!s))&&!((k=o.value)!=null&&k.contains(document.activeElement))&&(e.value=!1)}),lt(e,I=>{I||setTimeout(()=>{p.value=void 0})},{flush:"post"});const y=Lx();mo(()=>{y.value&&tr(()=>{a.value=y.el})});const C=Lx(),T=ae(()=>n.target==="cursor"&&p.value?p.value:C.value?C.el:NW(n.target,i)||a.value),P=ae(()=>Array.isArray(T.value)?void 0:T.value);let F;return lt(()=>!!n.activator,I=>{I&&Rr?(F=Mh(),F.run(()=>{kce(n,i,{activatorEl:a,activatorEvents:g})})):F&&F.stop()},{flush:"post",immediate:!0}),Go(()=>{F==null||F.stop()}),{activatorEl:a,activatorRef:y,target:T,targetEl:P,targetRef:C,activatorEvents:g,contentEvents:_,scrimEvents:S}}function kce(n,t,e){let{activatorEl:r,activatorEvents:o}=e;lt(()=>n.activator,(l,u)=>{if(u&&l!==u){const c=s(u);c&&a(c)}l&&tr(()=>i())},{immediate:!0}),lt(()=>n.activatorProps,()=>{i()}),Go(()=>{a()});function i(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;l&&Rse(l,bt(o.value,u))}function a(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s(),u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.activatorProps;l&&Hse(l,bt(o.value,u))}function s(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.activator;const u=NW(l,t);return r.value=(u==null?void 0:u.nodeType)===Node.ELEMENT_NODE?u:void 0,r.value}}function NW(n,t){var r,o;if(!n)return;let e;if(n==="parent"){let i=(o=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:o.parentNode;for(;i!=null&&i.hasAttribute("data-no-activator");)i=i.parentNode;e=i}else typeof n=="string"?e=document.querySelector(n):"$el"in n?e=n.$el:e=n;return e}const RW=it({retainFocus:Boolean,captureFocus:Boolean,disableInitialFocus:Boolean},"focusTrap"),US=new Map;let c4=0;function d4(n){const t=document.activeElement;if(n.key!=="Tab"||!t)return;const e=Array.from(US.values()).filter(u=>{var f;let{isActive:c,contentEl:d}=u;return c.value&&((f=d.value)==null?void 0:f.contains(t))}).map(u=>u.contentEl.value);let r,o=t.parentElement;for(;o;){if(e.includes(o)){r=o;break}o=o.parentElement}if(!r)return;const i=cm(r).filter(u=>u.tabIndex>=0);if(!i.length)return;const a=document.activeElement;if(i.length===1&&i[0].classList.contains("v-list")&&i[0].contains(a)){n.preventDefault();return}const s=i[0],l=i[i.length-1];n.shiftKey&&(a===s||s.classList.contains("v-list")&&s.contains(a))&&(n.preventDefault(),l.focus()),!n.shiftKey&&(a===l||l.classList.contains("v-list")&&l.contains(a))&&(n.preventDefault(),s.focus())}function HW(n,t){let{isActive:e,localTop:r,activatorEl:o,contentEl:i}=t;const a=Symbol("trap");let s=!1,l=-1;async function u(){s=!0,l=window.setTimeout(()=>{s=!1},100)}async function c(h){var g;const p=h.relatedTarget,v=h.target;document.removeEventListener("pointerdown",u),document.removeEventListener("keydown",d),await tr(),e.value&&!s&&p!==v&&i.value&&Ui(r)&&![document,i.value].includes(v)&&!i.value.contains(v)&&((g=cm(i.value)[0])==null||g.focus())}function d(h){if(h.key==="Tab"&&(document.removeEventListener("keydown",d),e.value&&i.value&&h.target&&!i.value.contains(h.target))){const p=cm(document.documentElement);if(h.shiftKey&&h.target===p.at(0)||!h.shiftKey&&h.target===p.at(-1)){const v=cm(i.value);v.length>0&&(h.preventDefault(),v[0].focus())}}}const f=ze(()=>e.value&&n.captureFocus&&!n.disableInitialFocus);Rr&&(lt(()=>n.retainFocus,h=>{h?US.set(a,{isActive:e,contentEl:i}):US.delete(a)},{immediate:!0}),lt(f,h=>{h?(document.addEventListener("pointerdown",u),document.addEventListener("focusin",c,{once:!0}),document.addEventListener("keydown",d)):(document.removeEventListener("pointerdown",u),document.removeEventListener("focusin",c),document.removeEventListener("keydown",d))},{immediate:!0}),c4++<1&&document.addEventListener("keydown",d4)),Go(()=>{US.delete(a),clearTimeout(l),document.removeEventListener("pointerdown",u),document.removeEventListener("focusin",c),document.removeEventListener("keydown",d),--c4<1&&document.removeEventListener("keydown",d4)})}function Tce(){if(!Rr)return It(!1);const{ssr:n}=dA();if(n){const t=It(!1);return Kn(()=>{t.value=!0}),t}else return It(!0)}const zL=it({eager:Boolean},"lazy");function GL(n,t){const e=It(!1),r=ze(()=>e.value||n.eager||t.value);lt(t,()=>e.value=!0);function o(){n.eager||(e.value=!1)}return{isBooted:e,hasContent:r,onAfterLeave:o}}function iv(){const t=Yo("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const f4=Symbol.for("vuetify:stack"),R0=Di([]);function Oce(n,t,e){const r=Yo("useStack"),o=!e,i=Hn(f4,void 0),a=Di({activeChildren:new Set});no(f4,a);const s=It(Number(Ui(t)));zs(n,()=>{var d;const c=(d=R0.at(-1))==null?void 0:d[1];s.value=c?c+10:Number(Ui(t)),o&&R0.push([r.uid,s.value]),i==null||i.activeChildren.add(r.uid),Go(()=>{if(o){const f=wn(R0).findIndex(h=>h[0]===r.uid);R0.splice(f,1)}i==null||i.activeChildren.delete(r.uid)})});const l=It(!0);return o&&mo(()=>{var d;const c=((d=R0.at(-1))==null?void 0:d[0])===r.uid;setTimeout(()=>l.value=c)}),{globalTop:Fh(l),localTop:ze(()=>!a.activeChildren.size),stackStyles:ze(()=>({zIndex:s.value}))}}function Pce(n){return{teleportTarget:ae(()=>{const e=n();if(e===!0||!Rr)return;const r=e===!1?document.body:typeof e=="string"?document.querySelector(e):e;if(r==null)return;let o=[...r.children].find(i=>i.matches(".v-overlay-container"));return o||(o=document.createElement("div"),o.className="v-overlay-container",r.appendChild(o)),o})}}const Qy=it({transition:{type:null,default:"fade-transition",validator:n=>n!==!0}},"transition"),Du=(n,t)=>{let{slots:e}=t;const{transition:r,disabled:o,group:i,...a}=n,{component:s=i?_k:oA,...l}=Om(r)?r:{};let u;return Om(r)?u=bt(l,Lse({disabled:o,group:i}),a):u=bt({name:o||!r?"":r},a),uu(s,u,e)};function Ice(){return!0}function QW(n,t,e){if(!n||jW(n,e)===!1)return!1;const r=JK(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===n.target)return!1;const o=(typeof e.value=="object"&&e.value.include||(()=>[]))();return o.push(t),!o.some(i=>i==null?void 0:i.contains(n.target))}function jW(n,t){return(typeof t.value=="object"&&t.value.closeConditional||Ice)(n)}function Mce(n,t,e){const r=typeof e.value=="function"?e.value:e.value.handler;n.shadowTarget=n.target,t._clickOutside.lastMousedownWasOutside&&QW(n,t,e)&&setTimeout(()=>{jW(n,e)&&r&&r(n)},0)}function A4(n,t){const e=JK(n);t(document),typeof ShadowRoot<"u"&&e instanceof ShadowRoot&&t(e)}const mF={mounted(n,t){const e=o=>Mce(o,n,t),r=o=>{n._clickOutside.lastMousedownWasOutside=QW(o,n,t)};A4(n,o=>{o.addEventListener("click",e,!0),o.addEventListener("mousedown",r,!0)}),n._clickOutside||(n._clickOutside={lastMousedownWasOutside:!1}),n._clickOutside[t.instance.$.uid]={onClick:e,onMousedown:r}},beforeUnmount(n,t){n._clickOutside&&(A4(n,e=>{var i;if(!e||!((i=n._clickOutside)!=null&&i[t.instance.$.uid]))return;const{onClick:r,onMousedown:o}=n._clickOutside[t.instance.$.uid];e.removeEventListener("click",r,!0),e.removeEventListener("mousedown",o,!0)}),delete n._clickOutside[t.instance.$.uid])}};function Fce(n){const{modelValue:t,color:e,...r}=n;return x(oA,{name:"fade-transition",appear:!0},{default:()=>[n.modelValue&&H("div",bt({class:["v-overlay__scrim",n.color.backgroundColorClasses.value],style:n.color.backgroundColorStyles.value},r),null)]})}const z_=it({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Ece(),...Cn(),...As(),...zL(),...pce(),...wce(),...RW(),...Zr(),...Qy()},"VOverlay"),Md=Dt()({name:"VOverlay",directives:{vClickOutside:mF},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...Ir(z_(),["disableInitialFocus"])},emits:{"click:outside":n=>!0,"update:modelValue":n=>!0,keydown:n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,t){let{slots:e,attrs:r,emit:o}=t;const i=Yo("VOverlay"),a=Oe(),s=Oe(),l=Oe(),u=Mn(n,"modelValue"),c=ae({get:()=>u.value,set:se=>{se&&n.disabled||(u.value=se)}}),{themeClasses:d}=Co(n),{rtlClasses:f,isRtl:h}=Ji(),{hasContent:p,onAfterLeave:v}=GL(n,c),g=Po(()=>typeof n.scrim=="string"?n.scrim:null),{globalTop:_,localTop:S,stackStyles:y}=Oce(c,()=>n.zIndex,n._disableGlobalStack),{activatorEl:C,activatorRef:T,target:P,targetEl:F,targetRef:I,activatorEvents:k,contentEvents:M,scrimEvents:V}=Bce(n,{isActive:c,isTop:S,contentEl:l}),{teleportTarget:U}=Pce(()=>{var je,nt,tt;const se=n.attach||n.contained;if(se)return se;const Te=((je=C==null?void 0:C.value)==null?void 0:je.getRootNode())||((tt=(nt=i.proxy)==null?void 0:nt.$el)==null?void 0:tt.getRootNode());return Te instanceof ShadowRoot?Te:!1}),{dimensionStyles:$}=hs(n),Q=Tce(),{scopeId:J}=iv();lt(()=>n.disabled,se=>{se&&(c.value=!1)});const{contentStyles:R,updateLocation:ne}=mce(n,{isRtl:h,contentEl:l,target:P,isActive:c});_ce(n,{root:a,contentEl:l,targetEl:F,target:P,isActive:c,updateLocation:ne});function ue(se){o("click:outside",se),n.persistent?Ce():c.value=!1}function we(se){return c.value&&S.value&&(!n.scrim||se.target===s.value||se instanceof MouseEvent&&se.shadowTarget===s.value)}HW(n,{isActive:c,localTop:S,contentEl:l,activatorEl:C}),Rr&&lt(c,se=>{se?window.addEventListener("keydown",Be):window.removeEventListener("keydown",Be)},{immediate:!0}),Ti(()=>{Rr&&window.removeEventListener("keydown",Be)});function Be(se){var Te,je,nt;se.key==="Escape"&&_.value&&((Te=l.value)!=null&&Te.contains(document.activeElement)||o("keydown",se),n.persistent?Ce():(c.value=!1,(je=l.value)!=null&&je.contains(document.activeElement)&&((nt=C.value)==null||nt.focus())))}function We(se){se.key==="Escape"&&!_.value||o("keydown",se)}const pe=BW();zs(()=>n.closeOnBack,()=>{ace(pe,se=>{_.value&&c.value?(se(!1),n.persistent?Ce():c.value=!1):se()})});const _e=Oe();lt(()=>c.value&&(n.absolute||n.contained)&&U.value==null,se=>{if(se){const Te=FL(a.value);Te&&Te!==document.scrollingElement&&(_e.value=Te.scrollTop)}});function Ce(){n.noClickAnimation||l.value&&Pf(l.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:bw})}function ve(){o("afterEnter")}function Qe(){v(),o("afterLeave")}return Kt(()=>{var se;return H(ut,null,[(se=e.activator)==null?void 0:se.call(e,{isActive:c.value,targetRef:I,props:bt({ref:T},k.value,n.activatorProps)}),Q.value&&p.value&&x(w8,{disabled:!U.value,to:U.value},{default:()=>[H("div",bt({class:["v-overlay",{"v-overlay--absolute":n.absolute||n.contained,"v-overlay--active":c.value,"v-overlay--contained":n.contained},d.value,f.value,n.class],style:[y.value,{"--v-overlay-opacity":n.opacity,top:$t(_e.value)},n.style],ref:a,onKeydown:We},J,r),[x(Fce,bt({color:g,modelValue:c.value&&!!n.scrim,ref:s},V.value),null),x(Du,{appear:!0,persisted:!0,transition:n.transition,target:P.value,onAfterEnter:ve,onAfterLeave:Qe},{default:()=>{var Te;return[Qn(H("div",bt({ref:l,class:["v-overlay__content",n.contentClass],style:[$.value,R.value]},M.value,n.contentProps),[(Te=e.default)==null?void 0:Te.call(e,{isActive:c})]),[[Ju,c.value],[mF,{handler:ue,closeConditional:we,include:()=>[C.value]}]])]}})])]})])}),{activatorEl:C,scrimEl:s,target:P,animateClick:Ce,contentEl:l,rootEl:a,globalTop:_,localTop:S,updateLocation:ne}}}),BP=Symbol("Forwarded refs");function kP(n,t){let e=n;for(;e;){const r=Reflect.getOwnPropertyDescriptor(e,t);if(r)return r;e=Object.getPrototypeOf(e)}}function nl(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];return n[BP]=e,new Proxy(n,{get(o,i){if(Reflect.has(o,i))return Reflect.get(o,i);if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const a of e)if(a.value&&Reflect.has(a.value,i)){const s=Reflect.get(a.value,i);return typeof s=="function"?s.bind(a.value):s}}},has(o,i){if(Reflect.has(o,i))return!0;if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const a of e)if(a.value&&Reflect.has(a.value,i))return!0;return!1},set(o,i,a){if(Reflect.has(o,i))return Reflect.set(o,i,a);if(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))return!1;for(const s of e)if(s.value&&Reflect.has(s.value,i))return Reflect.set(s.value,i,a);return!1},getOwnPropertyDescriptor(o,i){var s;const a=Reflect.getOwnPropertyDescriptor(o,i);if(a)return a;if(!(typeof i=="symbol"||i.startsWith("$")||i.startsWith("__"))){for(const l of e){if(!l.value)continue;const u=kP(l.value,i)??("_"in l.value?kP((s=l.value._)==null?void 0:s.setupState,i):void 0);if(u)return u}for(const l of e){const u=l.value&&l.value[BP];if(!u)continue;const c=u.slice();for(;c.length;){const d=c.shift(),f=kP(d.value,i);if(f)return f;const h=d.value&&d.value[BP];h&&c.push(...h)}}}}})}function Dce(n){const t=It(n());let e=-1;function r(){clearInterval(e)}function o(){r(),tr(()=>t.value=n())}function i(a){const s=a?getComputedStyle(a):{transitionDuration:.2},l=parseFloat(s.transitionDuration)*1e3||200;if(r(),t.value<=0)return;const u=performance.now();e=window.setInterval(()=>{const c=performance.now()-u+l;t.value=Math.max(n()-c,0),t.value<=0&&r()},l)}return Go(r),{clear:r,time:t,start:i,reset:o}}const Uce=it({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...ov({location:"bottom"}),...K_(),...Hi(),...Rc(),...Zr(),...Ir(z_({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","retainFocus","captureFocus","disableInitialFocus","scrim","scrollStrategy","stickToTarget","viewportMargin"])},"VSnackbar"),Lce=Dt()({name:"VSnackbar",props:Uce(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const r=Mn(n,"modelValue"),{positionClasses:o}=W_(n),{scopeId:i}=iv(),{themeClasses:a}=Co(n),{colorClasses:s,colorStyles:l,variantClasses:u}=rv(n),{roundedClasses:c}=Zi(n),d=Dce(()=>Number(n.timeout)),f=Oe(),h=Oe(),p=It(!1),v=It(0),g=Oe(),_=Hn(ww,void 0);zs(()=>!!_,()=>{const V=eW();mo(()=>{g.value=V.mainStyles.value})}),lt(r,y),lt(()=>n.timeout,y),Kn(()=>{r.value&&y()});let S=-1;function y(){d.reset(),window.clearTimeout(S);const V=Number(n.timeout);if(!r.value||V===-1)return;const U=EL(h.value);d.start(U),S=window.setTimeout(()=>{r.value=!1},V)}function C(){d.reset(),window.clearTimeout(S)}function T(){p.value=!0,C()}function P(){p.value=!1,y()}function F(V){v.value=V.touches[0].clientY}function I(V){Math.abs(v.value-V.changedTouches[0].clientY)>50&&(r.value=!1)}function k(){p.value&&P()}const M=ae(()=>n.location.split(" ").reduce((V,U)=>(V[`v-snackbar--${U}`]=!0,V),{}));return Kt(()=>{const V=Md.filterProps(n),U=!!(e.default||e.text||n.text);return x(Md,bt({ref:f,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":n.multiLine&&!n.vertical,"v-snackbar--timer":!!n.timer,"v-snackbar--vertical":n.vertical},M.value,o.value,n.class],style:[g.value,n.style]},V,{modelValue:r.value,"onUpdate:modelValue":$=>r.value=$,contentProps:bt({class:["v-snackbar__wrapper",a.value,s.value,c.value,u.value],style:[l.value],onPointerenter:T,onPointerleave:P},V.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:F,onTouchend:I,onAfterLeave:k},i),{default:()=>{var $,Q;return[nv(!1,"v-snackbar"),n.timer&&!p.value&&H("div",{key:"timer",class:"v-snackbar__timer"},[x(EW,{ref:h,color:typeof n.timer=="string"?n.timer:"info",max:n.timeout,modelValue:d.time.value},null)]),U&&H("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[(($=e.text)==null?void 0:$.call(e))??n.text,(Q=e.default)==null?void 0:Q.call(e)]),e.actions&&x(Lr,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[H("div",{class:"v-snackbar__actions"},[e.actions({isActive:r})])]})]},activator:e.activator})}),nl({},f)}}),Vce=["innerHTML"],$W=rn({__name:"Snackbar",setup(n){const t=Vt(),{snackbar:e}=Lt(t),{CloseSnackbar:r}=t;return(o,i)=>(le(),Re(Lce,{modelValue:O(e).visible,"onUpdate:modelValue":i[0]||(i[0]=a=>O(e).visible=a),color:O(e).type},{actions:N(()=>[x($e,{icon:"mdi-close",onClick:O(r)},null,8,["onClick"])]),default:N(()=>[O(e).icon?(le(),Re(en,{key:0,class:"mr-2"},{default:N(()=>[Je(at(O(e).icon),1)]),_:1})):xt("",!0),H("span",{innerHTML:O(e).content},null,8,Vce)]),_:1},8,["modelValue","color"]))}});function Qk(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function jk(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var t=n.default;if(typeof t=="function"){var e=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),e}function Nce(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var LS={exports:{}},Rce=LS.exports,h4;function Hce(){return h4||(h4=1,(function(n,t){(function(e,r){n.exports=r()})(Rce,(function(){var e;function r(){return e.apply(null,arguments)}function o(B){e=B}function i(B){return B instanceof Array||Object.prototype.toString.call(B)==="[object Array]"}function a(B){return B!=null&&Object.prototype.toString.call(B)==="[object Object]"}function s(B,L){return Object.prototype.hasOwnProperty.call(B,L)}function l(B){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(B).length===0;var L;for(L in B)if(s(B,L))return!1;return!0}function u(B){return B===void 0}function c(B){return typeof B=="number"||Object.prototype.toString.call(B)==="[object Number]"}function d(B){return B instanceof Date||Object.prototype.toString.call(B)==="[object Date]"}function f(B,L){var W=[],q,ge=B.length;for(q=0;q<ge;++q)W.push(L(B[q],q));return W}function h(B,L){for(var W in L)s(L,W)&&(B[W]=L[W]);return s(L,"toString")&&(B.toString=L.toString),s(L,"valueOf")&&(B.valueOf=L.valueOf),B}function p(B,L,W,q){return gu(B,L,W,q,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(B){return B._pf==null&&(B._pf=v()),B._pf}var _;Array.prototype.some?_=Array.prototype.some:_=function(B){var L=Object(this),W=L.length>>>0,q;for(q=0;q<W;q++)if(q in L&&B.call(this,L[q],q,L))return!0;return!1};function S(B){var L=null,W=!1,q=B._d&&!isNaN(B._d.getTime());if(q&&(L=g(B),W=_.call(L.parsedDateParts,function(ge){return ge!=null}),q=L.overflow<0&&!L.empty&&!L.invalidEra&&!L.invalidMonth&&!L.invalidWeekday&&!L.weekdayMismatch&&!L.nullInput&&!L.invalidFormat&&!L.userInvalidated&&(!L.meridiem||L.meridiem&&W),B._strict&&(q=q&&L.charsLeftOver===0&&L.unusedTokens.length===0&&L.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(B))B._isValid=q;else return q;return B._isValid}function y(B){var L=p(NaN);return B!=null?h(g(L),B):g(L).userInvalidated=!0,L}var C=r.momentProperties=[],T=!1;function P(B,L){var W,q,ge,Ke=C.length;if(u(L._isAMomentObject)||(B._isAMomentObject=L._isAMomentObject),u(L._i)||(B._i=L._i),u(L._f)||(B._f=L._f),u(L._l)||(B._l=L._l),u(L._strict)||(B._strict=L._strict),u(L._tzm)||(B._tzm=L._tzm),u(L._isUTC)||(B._isUTC=L._isUTC),u(L._offset)||(B._offset=L._offset),u(L._pf)||(B._pf=g(L)),u(L._locale)||(B._locale=L._locale),Ke>0)for(W=0;W<Ke;W++)q=C[W],ge=L[q],u(ge)||(B[q]=ge);return B}function F(B){P(this,B),this._d=new Date(B._d!=null?B._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),T===!1&&(T=!0,r.updateOffset(this),T=!1)}function I(B){return B instanceof F||B!=null&&B._isAMomentObject!=null}function k(B){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+B)}function M(B,L){var W=!0;return h(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,B),W){var q=[],ge,Ke,ht,fn=arguments.length;for(Ke=0;Ke<fn;Ke++){if(ge="",typeof arguments[Ke]=="object"){ge+=`
[`+Ke+"] ";for(ht in arguments[0])s(arguments[0],ht)&&(ge+=ht+": "+arguments[0][ht]+", ");ge=ge.slice(0,-2)}else ge=arguments[Ke];q.push(ge)}k(B+`
Arguments: `+Array.prototype.slice.call(q).join("")+`
`+new Error().stack),W=!1}return L.apply(this,arguments)},L)}var V={};function U(B,L){r.deprecationHandler!=null&&r.deprecationHandler(B,L),V[B]||(k(L),V[B]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function $(B){return typeof Function<"u"&&B instanceof Function||Object.prototype.toString.call(B)==="[object Function]"}function Q(B){var L,W;for(W in B)s(B,W)&&(L=B[W],$(L)?this[W]=L:this["_"+W]=L);this._config=B,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function J(B,L){var W=h({},B),q;for(q in L)s(L,q)&&(a(B[q])&&a(L[q])?(W[q]={},h(W[q],B[q]),h(W[q],L[q])):L[q]!=null?W[q]=L[q]:delete W[q]);for(q in B)s(B,q)&&!s(L,q)&&a(B[q])&&(W[q]=h({},W[q]));return W}function R(B){B!=null&&this.set(B)}var ne;Object.keys?ne=Object.keys:ne=function(B){var L,W=[];for(L in B)s(B,L)&&W.push(L);return W};var ue={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function we(B,L,W){var q=this._calendar[B]||this._calendar.sameElse;return $(q)?q.call(L,W):q}function Be(B,L,W){var q=""+Math.abs(B),ge=L-q.length,Ke=B>=0;return(Ke?W?"+":"":"-")+Math.pow(10,Math.max(0,ge)).toString().substr(1)+q}var We=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,_e={},Ce={};function ve(B,L,W,q){var ge=q;typeof q=="string"&&(ge=function(){return this[q]()}),B&&(Ce[B]=ge),L&&(Ce[L[0]]=function(){return Be(ge.apply(this,arguments),L[1],L[2])}),W&&(Ce[W]=function(){return this.localeData().ordinal(ge.apply(this,arguments),B)})}function Qe(B){return B.match(/\[[\s\S]/)?B.replace(/^\[|\]$/g,""):B.replace(/\\/g,"")}function se(B){var L=B.match(We),W,q;for(W=0,q=L.length;W<q;W++)Ce[L[W]]?L[W]=Ce[L[W]]:L[W]=Qe(L[W]);return function(ge){var Ke="",ht;for(ht=0;ht<q;ht++)Ke+=$(L[ht])?L[ht].call(ge,B):L[ht];return Ke}}function Te(B,L){return B.isValid()?(L=je(L,B.localeData()),_e[L]=_e[L]||se(L),_e[L](B)):B.localeData().invalidDate()}function je(B,L){var W=5;function q(ge){return L.longDateFormat(ge)||ge}for(pe.lastIndex=0;W>=0&&pe.test(B);)B=B.replace(pe,q),pe.lastIndex=0,W-=1;return B}var nt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function tt(B){var L=this._longDateFormat[B],W=this._longDateFormat[B.toUpperCase()];return L||!W?L:(this._longDateFormat[B]=W.match(We).map(function(q){return q==="MMMM"||q==="MM"||q==="DD"||q==="dddd"?q.slice(1):q}).join(""),this._longDateFormat[B])}var ot="Invalid date";function ye(){return this._invalidDate}var be="%d",me=/\d{1,2}/;function Ve(B){return this._ordinal.replace("%d",B)}var Ie={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function K(B,L,W,q){var ge=this._relativeTime[W];return $(ge)?ge(B,L,W,q):ge.replace(/%d/i,B)}function te(B,L){var W=this._relativeTime[B>0?"future":"past"];return $(W)?W(L):W.replace(/%s/i,L)}var ee={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ae(B){return typeof B=="string"?ee[B]||ee[B.toLowerCase()]:void 0}function xe(B){var L={},W,q;for(q in B)s(B,q)&&(W=Ae(q),W&&(L[W]=B[q]));return L}var he={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Pe(B){var L=[],W;for(W in B)s(B,W)&&L.push({unit:W,priority:he[W]});return L.sort(function(q,ge){return q.priority-ge.priority}),L}var Ee=/\d/,st=/\d\d/,kt=/\d{3}/,Rt=/\d{4}/,Y=/[+-]?\d{6}/,ie=/\d\d?/,G=/\d\d\d\d?/,He=/\d\d\d\d\d\d?/,De=/\d{1,3}/,rt=/\d{1,4}/,mt=/[+-]?\d{1,6}/,ft=/\d+/,gt=/[+-]?\d+/,St=/Z|[+-]\d\d:?\d\d/gi,Tt=/Z|[+-]\d\d(?::?\d\d)?/gi,Wt=/[+-]?\d+(\.\d{1,3})?/,qt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,mn=/^[1-9]\d?/,dr=/^([1-9]\d|\d)/,fe;fe={};function Se(B,L,W){fe[B]=$(L)?L:function(q,ge){return q&&W?W:L}}function Ge(B,L){return s(fe,B)?fe[B](L._strict,L._locale):new RegExp(yt(B))}function yt(B){return Ft(B.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(L,W,q,ge,Ke){return W||q||ge||Ke}))}function Ft(B){return B.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ln(B){return B<0?Math.ceil(B)||0:Math.floor(B)}function Yt(B){var L=+B,W=0;return L!==0&&isFinite(L)&&(W=ln(L)),W}var Gr={};function Un(B,L){var W,q=L,ge;for(typeof B=="string"&&(B=[B]),c(L)&&(q=function(Ke,ht){ht[L]=Yt(Ke)}),ge=B.length,W=0;W<ge;W++)Gr[B[W]]=q}function Vr(B,L){Un(B,function(W,q,ge,Ke){ge._w=ge._w||{},L(W,ge._w,ge,Ke)})}function ys(B,L,W){L!=null&&s(Gr,B)&&Gr[B](L,W._a,W,B)}function $r(B){return B%4===0&&B%100!==0||B%400===0}var Fr=0,Fo=1,Jn=2,nr=3,Ln=4,lo=5,yn=6,Na=7,wa=8;ve("Y",0,0,function(){var B=this.year();return B<=9999?Be(B,4):"+"+B}),ve(0,["YY",2],0,function(){return this.year()%100}),ve(0,["YYYY",4],0,"year"),ve(0,["YYYYY",5],0,"year"),ve(0,["YYYYYY",6,!0],0,"year"),Se("Y",gt),Se("YY",ie,st),Se("YYYY",rt,Rt),Se("YYYYY",mt,Y),Se("YYYYYY",mt,Y),Un(["YYYYY","YYYYYY"],Fr),Un("YYYY",function(B,L){L[Fr]=B.length===2?r.parseTwoDigitYear(B):Yt(B)}),Un("YY",function(B,L){L[Fr]=r.parseTwoDigitYear(B)}),Un("Y",function(B,L){L[Fr]=parseInt(B,10)});function uo(B){return $r(B)?366:365}r.parseTwoDigitYear=function(B){return Yt(B)+(Yt(B)>68?1900:2e3)};var Do=ar("FullYear",!0);function ta(){return $r(this.year())}function ar(B,L){return function(W){return W!=null?(Xo(this,B,W),r.updateOffset(this,L),this):tn(this,B)}}function tn(B,L){if(!B.isValid())return NaN;var W=B._d,q=B._isUTC;switch(L){case"Milliseconds":return q?W.getUTCMilliseconds():W.getMilliseconds();case"Seconds":return q?W.getUTCSeconds():W.getSeconds();case"Minutes":return q?W.getUTCMinutes():W.getMinutes();case"Hours":return q?W.getUTCHours():W.getHours();case"Date":return q?W.getUTCDate():W.getDate();case"Day":return q?W.getUTCDay():W.getDay();case"Month":return q?W.getUTCMonth():W.getMonth();case"FullYear":return q?W.getUTCFullYear():W.getFullYear();default:return NaN}}function Xo(B,L,W){var q,ge,Ke,ht,fn;if(!(!B.isValid()||isNaN(W))){switch(q=B._d,ge=B._isUTC,L){case"Milliseconds":return void(ge?q.setUTCMilliseconds(W):q.setMilliseconds(W));case"Seconds":return void(ge?q.setUTCSeconds(W):q.setSeconds(W));case"Minutes":return void(ge?q.setUTCMinutes(W):q.setMinutes(W));case"Hours":return void(ge?q.setUTCHours(W):q.setHours(W));case"Date":return void(ge?q.setUTCDate(W):q.setDate(W));case"FullYear":break;default:return}Ke=W,ht=B.month(),fn=B.date(),fn=fn===29&&ht===1&&!$r(Ke)?28:fn,ge?q.setUTCFullYear(Ke,ht,fn):q.setFullYear(Ke,ht,fn)}}function co(B){return B=Ae(B),$(this[B])?this[B]():this}function mi(B,L){if(typeof B=="object"){B=xe(B);var W=Pe(B),q,ge=W.length;for(q=0;q<ge;q++)this[W[q].unit](B[W[q].unit])}else if(B=Ae(B),$(this[B]))return this[B](L);return this}function rr(B,L){return(B%L+L)%L}var Vn;Array.prototype.indexOf?Vn=Array.prototype.indexOf:Vn=function(B){var L;for(L=0;L<this.length;++L)if(this[L]===B)return L;return-1};function na(B,L){if(isNaN(B)||isNaN(L))return NaN;var W=rr(L,12);return B+=(L-W)/12,W===1?$r(B)?29:28:31-W%7%2}ve("M",["MM",2],"Mo",function(){return this.month()+1}),ve("MMM",0,0,function(B){return this.localeData().monthsShort(this,B)}),ve("MMMM",0,0,function(B){return this.localeData().months(this,B)}),Se("M",ie,mn),Se("MM",ie,st),Se("MMM",function(B,L){return L.monthsShortRegex(B)}),Se("MMMM",function(B,L){return L.monthsRegex(B)}),Un(["M","MM"],function(B,L){L[Fo]=Yt(B)-1}),Un(["MMM","MMMM"],function(B,L,W,q){var ge=W._locale.monthsParse(B,q,W._strict);ge!=null?L[Fo]=ge:g(W).invalidMonth=B});var bs="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Et="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Sn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ws=qt,ce=qt;function Me(B,L){return B?i(this._months)?this._months[B.month()]:this._months[(this._months.isFormat||Sn).test(L)?"format":"standalone"][B.month()]:i(this._months)?this._months:this._months.standalone}function dt(B,L){return B?i(this._monthsShort)?this._monthsShort[B.month()]:this._monthsShort[Sn.test(L)?"format":"standalone"][B.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ot(B,L,W){var q,ge,Ke,ht=B.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],q=0;q<12;++q)Ke=p([2e3,q]),this._shortMonthsParse[q]=this.monthsShort(Ke,"").toLocaleLowerCase(),this._longMonthsParse[q]=this.months(Ke,"").toLocaleLowerCase();return W?L==="MMM"?(ge=Vn.call(this._shortMonthsParse,ht),ge!==-1?ge:null):(ge=Vn.call(this._longMonthsParse,ht),ge!==-1?ge:null):L==="MMM"?(ge=Vn.call(this._shortMonthsParse,ht),ge!==-1?ge:(ge=Vn.call(this._longMonthsParse,ht),ge!==-1?ge:null)):(ge=Vn.call(this._longMonthsParse,ht),ge!==-1?ge:(ge=Vn.call(this._shortMonthsParse,ht),ge!==-1?ge:null))}function Mt(B,L,W){var q,ge,Ke;if(this._monthsParseExact)return Ot.call(this,B,L,W);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),q=0;q<12;q++){if(ge=p([2e3,q]),W&&!this._longMonthsParse[q]&&(this._longMonthsParse[q]=new RegExp("^"+this.months(ge,"").replace(".","")+"$","i"),this._shortMonthsParse[q]=new RegExp("^"+this.monthsShort(ge,"").replace(".","")+"$","i")),!W&&!this._monthsParse[q]&&(Ke="^"+this.months(ge,"")+"|^"+this.monthsShort(ge,""),this._monthsParse[q]=new RegExp(Ke.replace(".",""),"i")),W&&L==="MMMM"&&this._longMonthsParse[q].test(B))return q;if(W&&L==="MMM"&&this._shortMonthsParse[q].test(B))return q;if(!W&&this._monthsParse[q].test(B))return q}}function Wn(B,L){if(!B.isValid())return B;if(typeof L=="string"){if(/^\d+$/.test(L))L=Yt(L);else if(L=B.localeData().monthsParse(L),!c(L))return B}var W=L,q=B.date();return q=q<29?q:Math.min(q,na(B.year(),W)),B._isUTC?B._d.setUTCMonth(W,q):B._d.setMonth(W,q),B}function Zn(B){return B!=null?(Wn(this,B),r.updateOffset(this,!0),this):tn(this,"Month")}function ro(){return na(this.year(),this.month())}function Or(B){return this._monthsParseExact?(s(this,"_monthsRegex")||nc.call(this),B?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ws),this._monthsShortStrictRegex&&B?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ra(B){return this._monthsParseExact?(s(this,"_monthsRegex")||nc.call(this),B?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=ce),this._monthsStrictRegex&&B?this._monthsStrictRegex:this._monthsRegex)}function nc(){function B(Gn,gr){return gr.length-Gn.length}var L=[],W=[],q=[],ge,Ke,ht,fn;for(ge=0;ge<12;ge++)Ke=p([2e3,ge]),ht=Ft(this.monthsShort(Ke,"")),fn=Ft(this.months(Ke,"")),L.push(ht),W.push(fn),q.push(fn),q.push(ht);L.sort(B),W.sort(B),q.sort(B),this._monthsRegex=new RegExp("^("+q.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+W.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+L.join("|")+")","i")}function rc(B,L,W,q,ge,Ke,ht){var fn;return B<100&&B>=0?(fn=new Date(B+400,L,W,q,ge,Ke,ht),isFinite(fn.getFullYear())&&fn.setFullYear(B)):fn=new Date(B,L,W,q,ge,Ke,ht),fn}function _s(B){var L,W;return B<100&&B>=0?(W=Array.prototype.slice.call(arguments),W[0]=B+400,L=new Date(Date.UTC.apply(null,W)),isFinite(L.getUTCFullYear())&&L.setUTCFullYear(B)):L=new Date(Date.UTC.apply(null,arguments)),L}function rl(B,L,W){var q=7+L-W,ge=(7+_s(B,0,q).getUTCDay()-L)%7;return-ge+q-1}function Kc(B,L,W,q,ge){var Ke=(7+W-q)%7,ht=rl(B,q,ge),fn=1+7*(L-1)+Ke+ht,Gn,gr;return fn<=0?(Gn=B-1,gr=uo(Gn)+fn):fn>uo(B)?(Gn=B+1,gr=fn-uo(B)):(Gn=B,gr=fn),{year:Gn,dayOfYear:gr}}function ol(B,L,W){var q=rl(B.year(),L,W),ge=Math.floor((B.dayOfYear()-q-1)/7)+1,Ke,ht;return ge<1?(ht=B.year()-1,Ke=ge+ra(ht,L,W)):ge>ra(B.year(),L,W)?(Ke=ge-ra(B.year(),L,W),ht=B.year()+1):(ht=B.year(),Ke=ge),{week:Ke,year:ht}}function ra(B,L,W){var q=rl(B,L,W),ge=rl(B+1,L,W);return(uo(B)-q+ge)/7}ve("w",["ww",2],"wo","week"),ve("W",["WW",2],"Wo","isoWeek"),Se("w",ie,mn),Se("ww",ie,st),Se("W",ie,mn),Se("WW",ie,st),Vr(["w","ww","W","WW"],function(B,L,W,q){L[q.substr(0,1)]=Yt(B)});function oc(B){return ol(B,this._week.dow,this._week.doy).week}var hu={dow:0,doy:6};function Vl(){return this._week.dow}function Wc(){return this._week.doy}function Qo(B){var L=this.localeData().week(this);return B==null?L:this.add((B-L)*7,"d")}function Jo(B){var L=ol(this,1,4).week;return B==null?L:this.add((B-L)*7,"d")}ve("d",0,"do","day"),ve("dd",0,0,function(B){return this.localeData().weekdaysMin(this,B)}),ve("ddd",0,0,function(B){return this.localeData().weekdaysShort(this,B)}),ve("dddd",0,0,function(B){return this.localeData().weekdays(this,B)}),ve("e",0,0,"weekday"),ve("E",0,0,"isoWeekday"),Se("d",ie),Se("e",ie),Se("E",ie),Se("dd",function(B,L){return L.weekdaysMinRegex(B)}),Se("ddd",function(B,L){return L.weekdaysShortRegex(B)}),Se("dddd",function(B,L){return L.weekdaysRegex(B)}),Vr(["dd","ddd","dddd"],function(B,L,W,q){var ge=W._locale.weekdaysParse(B,q,W._strict);ge!=null?L.d=ge:g(W).invalidWeekday=B}),Vr(["d","e","E"],function(B,L,W,q){L[q]=Yt(B)});function Yd(B,L){return typeof B!="string"?B:isNaN(B)?(B=L.weekdaysParse(B),typeof B=="number"?B:null):parseInt(B,10)}function Cs(B,L){return typeof B=="string"?L.weekdaysParse(B)%7||7:isNaN(B)?null:B}function Ss(B,L){return B.slice(L,7).concat(B.slice(0,L))}var oa="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),vA="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Nl=qt,xs=qt,ic=qt;function Es(B,L){var W=i(this._weekdays)?this._weekdays:this._weekdays[B&&B!==!0&&this._weekdays.isFormat.test(L)?"format":"standalone"];return B===!0?Ss(W,this._week.dow):B?W[B.day()]:W}function Bs(B){return B===!0?Ss(this._weekdaysShort,this._week.dow):B?this._weekdaysShort[B.day()]:this._weekdaysShort}function Xd(B){return B===!0?Ss(this._weekdaysMin,this._week.dow):B?this._weekdaysMin[B.day()]:this._weekdaysMin}function zc(B,L,W){var q,ge,Ke,ht=B.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],q=0;q<7;++q)Ke=p([2e3,1]).day(q),this._minWeekdaysParse[q]=this.weekdaysMin(Ke,"").toLocaleLowerCase(),this._shortWeekdaysParse[q]=this.weekdaysShort(Ke,"").toLocaleLowerCase(),this._weekdaysParse[q]=this.weekdays(Ke,"").toLocaleLowerCase();return W?L==="dddd"?(ge=Vn.call(this._weekdaysParse,ht),ge!==-1?ge:null):L==="ddd"?(ge=Vn.call(this._shortWeekdaysParse,ht),ge!==-1?ge:null):(ge=Vn.call(this._minWeekdaysParse,ht),ge!==-1?ge:null):L==="dddd"?(ge=Vn.call(this._weekdaysParse,ht),ge!==-1||(ge=Vn.call(this._shortWeekdaysParse,ht),ge!==-1)?ge:(ge=Vn.call(this._minWeekdaysParse,ht),ge!==-1?ge:null)):L==="ddd"?(ge=Vn.call(this._shortWeekdaysParse,ht),ge!==-1||(ge=Vn.call(this._weekdaysParse,ht),ge!==-1)?ge:(ge=Vn.call(this._minWeekdaysParse,ht),ge!==-1?ge:null)):(ge=Vn.call(this._minWeekdaysParse,ht),ge!==-1||(ge=Vn.call(this._weekdaysParse,ht),ge!==-1)?ge:(ge=Vn.call(this._shortWeekdaysParse,ht),ge!==-1?ge:null))}function ac(B,L,W){var q,ge,Ke;if(this._weekdaysParseExact)return zc.call(this,B,L,W);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),q=0;q<7;q++){if(ge=p([2e3,1]).day(q),W&&!this._fullWeekdaysParse[q]&&(this._fullWeekdaysParse[q]=new RegExp("^"+this.weekdays(ge,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[q]=new RegExp("^"+this.weekdaysShort(ge,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[q]=new RegExp("^"+this.weekdaysMin(ge,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[q]||(Ke="^"+this.weekdays(ge,"")+"|^"+this.weekdaysShort(ge,"")+"|^"+this.weekdaysMin(ge,""),this._weekdaysParse[q]=new RegExp(Ke.replace(".",""),"i")),W&&L==="dddd"&&this._fullWeekdaysParse[q].test(B))return q;if(W&&L==="ddd"&&this._shortWeekdaysParse[q].test(B))return q;if(W&&L==="dd"&&this._minWeekdaysParse[q].test(B))return q;if(!W&&this._weekdaysParse[q].test(B))return q}}function il(B){if(!this.isValid())return B!=null?this:NaN;var L=tn(this,"Day");return B!=null?(B=Yd(B,this.localeData()),this.add(B-L,"d")):L}function sc(B){if(!this.isValid())return B!=null?this:NaN;var L=(this.day()+7-this.localeData()._week.dow)%7;return B==null?L:this.add(B-L,"d")}function Rl(B){if(!this.isValid())return B!=null?this:NaN;if(B!=null){var L=Cs(B,this.localeData());return this.day(this.day()%7?L:L-7)}else return this.day()||7}function bn(B){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Bn.call(this),B?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Nl),this._weekdaysStrictRegex&&B?this._weekdaysStrictRegex:this._weekdaysRegex)}function vn(B){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Bn.call(this),B?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=xs),this._weekdaysShortStrictRegex&&B?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function fr(B){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Bn.call(this),B?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ic),this._weekdaysMinStrictRegex&&B?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Bn(){function B(Sa,Eo){return Eo.length-Sa.length}var L=[],W=[],q=[],ge=[],Ke,ht,fn,Gn,gr;for(Ke=0;Ke<7;Ke++)ht=p([2e3,1]).day(Ke),fn=Ft(this.weekdaysMin(ht,"")),Gn=Ft(this.weekdaysShort(ht,"")),gr=Ft(this.weekdays(ht,"")),L.push(fn),W.push(Gn),q.push(gr),ge.push(fn),ge.push(Gn),ge.push(gr);L.sort(B),W.sort(B),q.sort(B),ge.sort(B),this._weekdaysRegex=new RegExp("^("+ge.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+q.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+W.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+L.join("|")+")","i")}function qr(){return this.hours()%12||12}function $o(){return this.hours()||24}ve("H",["HH",2],0,"hour"),ve("h",["hh",2],0,qr),ve("k",["kk",2],0,$o),ve("hmm",0,0,function(){return""+qr.apply(this)+Be(this.minutes(),2)}),ve("hmmss",0,0,function(){return""+qr.apply(this)+Be(this.minutes(),2)+Be(this.seconds(),2)}),ve("Hmm",0,0,function(){return""+this.hours()+Be(this.minutes(),2)}),ve("Hmmss",0,0,function(){return""+this.hours()+Be(this.minutes(),2)+Be(this.seconds(),2)});function Qi(B,L){ve(B,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),L)})}Qi("a",!0),Qi("A",!1);function ks(B,L){return L._meridiemParse}Se("a",ks),Se("A",ks),Se("H",ie,dr),Se("h",ie,mn),Se("k",ie,mn),Se("HH",ie,st),Se("hh",ie,st),Se("kk",ie,st),Se("hmm",G),Se("hmmss",He),Se("Hmm",G),Se("Hmmss",He),Un(["H","HH"],nr),Un(["k","kk"],function(B,L,W){var q=Yt(B);L[nr]=q===24?0:q}),Un(["a","A"],function(B,L,W){W._isPm=W._locale.isPM(B),W._meridiem=B}),Un(["h","hh"],function(B,L,W){L[nr]=Yt(B),g(W).bigHour=!0}),Un("hmm",function(B,L,W){var q=B.length-2;L[nr]=Yt(B.substr(0,q)),L[Ln]=Yt(B.substr(q)),g(W).bigHour=!0}),Un("hmmss",function(B,L,W){var q=B.length-4,ge=B.length-2;L[nr]=Yt(B.substr(0,q)),L[Ln]=Yt(B.substr(q,2)),L[lo]=Yt(B.substr(ge)),g(W).bigHour=!0}),Un("Hmm",function(B,L,W){var q=B.length-2;L[nr]=Yt(B.substr(0,q)),L[Ln]=Yt(B.substr(q))}),Un("Hmmss",function(B,L,W){var q=B.length-4,ge=B.length-2;L[nr]=Yt(B.substr(0,q)),L[Ln]=Yt(B.substr(q,2)),L[lo]=Yt(B.substr(ge))});function _a(B){return(B+"").toLowerCase().charAt(0)==="p"}var Ca=/[ap]\.?m?\.?/i,Ha=ar("Hours",!0);function al(B,L,W){return B>11?W?"pm":"PM":W?"am":"AM"}var pu={calendar:ue,longDateFormat:nt,invalidDate:ot,ordinal:be,dayOfMonthOrdinalParse:me,relativeTime:Ie,months:bs,monthsShort:Et,week:hu,weekdays:oa,weekdaysMin:vA,weekdaysShort:jo,meridiemParse:Ca},Dr={},So={},Gc;function gA(B,L){var W,q=Math.min(B.length,L.length);for(W=0;W<q;W+=1)if(B[W]!==L[W])return W;return q}function qh(B){return B&&B.toLowerCase().replace("_","-")}function ep(B){for(var L=0,W,q,ge,Ke;L<B.length;){for(Ke=qh(B[L]).split("-"),W=Ke.length,q=qh(B[L+1]),q=q?q.split("-"):null;W>0;){if(ge=lc(Ke.slice(0,W).join("-")),ge)return ge;if(q&&q.length>=W&&gA(Ke,q)>=W-1)break;W--}L++}return Gc}function tp(B){return!!(B&&B.match("^[^/\\\\]*$"))}function lc(B){var L=null,W;if(Dr[B]===void 0&&n&&n.exports&&tp(B))try{L=Gc._abbr,W=Nce,W("./locale/"+B),Hl(L)}catch{Dr[B]=null}return Dr[B]}function Hl(B,L){var W;return B&&(u(L)?W=sl(B):W=yA(B,L),W?Gc=W:typeof console<"u"&&console.warn&&console.warn("Locale "+B+" not found. Did you forget to load it?")),Gc._abbr}function yA(B,L){if(L!==null){var W,q=pu;if(L.abbr=B,Dr[B]!=null)U("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),q=Dr[B]._config;else if(L.parentLocale!=null)if(Dr[L.parentLocale]!=null)q=Dr[L.parentLocale]._config;else if(W=lc(L.parentLocale),W!=null)q=W._config;else return So[L.parentLocale]||(So[L.parentLocale]=[]),So[L.parentLocale].push({name:B,config:L}),null;return Dr[B]=new R(J(q,L)),So[B]&&So[B].forEach(function(ge){yA(ge.name,ge.config)}),Hl(B),Dr[B]}else return delete Dr[B],null}function bA(B,L){if(L!=null){var W,q,ge=pu;Dr[B]!=null&&Dr[B].parentLocale!=null?Dr[B].set(J(Dr[B]._config,L)):(q=lc(B),q!=null&&(ge=q._config),L=J(ge,L),q==null&&(L.abbr=B),W=new R(L),W.parentLocale=Dr[B],Dr[B]=W),Hl(B)}else Dr[B]!=null&&(Dr[B].parentLocale!=null?(Dr[B]=Dr[B].parentLocale,B===Hl()&&Hl(B)):Dr[B]!=null&&delete Dr[B]);return Dr[B]}function sl(B){var L;if(B&&B._locale&&B._locale._abbr&&(B=B._locale._abbr),!B)return Gc;if(!i(B)){if(L=lc(B),L)return L;B=[B]}return ep(B)}function np(){return ne(Dr)}function wA(B){var L,W=B._a;return W&&g(B).overflow===-2&&(L=W[Fo]<0||W[Fo]>11?Fo:W[Jn]<1||W[Jn]>na(W[Fr],W[Fo])?Jn:W[nr]<0||W[nr]>24||W[nr]===24&&(W[Ln]!==0||W[lo]!==0||W[yn]!==0)?nr:W[Ln]<0||W[Ln]>59?Ln:W[lo]<0||W[lo]>59?lo:W[yn]<0||W[yn]>999?yn:-1,g(B)._overflowDayOfYear&&(L<Fr||L>Jn)&&(L=Jn),g(B)._overflowWeeks&&L===-1&&(L=Na),g(B)._overflowWeekday&&L===-1&&(L=wa),g(B).overflow=L),B}var rp=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_A=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,uc=/Z|[+-]\d\d(?::?\d\d)?/,Jd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],op=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ip=/^\/?Date\((-?\d+)/i,Yc=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xo={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function cc(B){var L,W,q=B._i,ge=rp.exec(q)||_A.exec(q),Ke,ht,fn,Gn,gr=Jd.length,Sa=op.length;if(ge){for(g(B).iso=!0,L=0,W=gr;L<W;L++)if(Jd[L][1].exec(ge[1])){ht=Jd[L][0],Ke=Jd[L][2]!==!1;break}if(ht==null){B._isValid=!1;return}if(ge[3]){for(L=0,W=Sa;L<W;L++)if(op[L][1].exec(ge[3])){fn=(ge[2]||" ")+op[L][0];break}if(fn==null){B._isValid=!1;return}}if(!Ke&&fn!=null){B._isValid=!1;return}if(ge[4])if(uc.exec(ge[4]))Gn="Z";else{B._isValid=!1;return}B._f=ht+(fn||"")+(Gn||""),CA(B)}else B._isValid=!1}function mu(B,L,W,q,ge,Ke){var ht=[Xc(B),Et.indexOf(L),parseInt(W,10),parseInt(q,10),parseInt(ge,10)];return Ke&&ht.push(parseInt(Ke,10)),ht}function Xc(B){var L=parseInt(B,10);return L<=49?2e3+L:L<=999?1900+L:L}function fv(B){return B.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ap(B,L,W){if(B){var q=jo.indexOf(B),ge=new Date(L[0],L[1],L[2]).getDay();if(q!==ge)return g(W).weekdayMismatch=!0,W._isValid=!1,!1}return!0}function sp(B,L,W){if(B)return xo[B];if(L)return 0;var q=parseInt(W,10),ge=q%100,Ke=(q-ge)/100;return Ke*60+ge}function Zd(B){var L=Yc.exec(fv(B._i)),W;if(L){if(W=mu(L[4],L[3],L[2],L[5],L[6],L[7]),!ap(L[1],W,B))return;B._a=W,B._tzm=sp(L[8],L[9],L[10]),B._d=_s.apply(null,B._a),B._d.setUTCMinutes(B._d.getUTCMinutes()-B._tzm),g(B).rfc2822=!0}else B._isValid=!1}function Jc(B){var L=ip.exec(B._i);if(L!==null){B._d=new Date(+L[1]);return}if(cc(B),B._isValid===!1)delete B._isValid;else return;if(Zd(B),B._isValid===!1)delete B._isValid;else return;B._strict?B._isValid=!1:r.createFromInputFallback(B)}r.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(B){B._d=new Date(B._i+(B._useUTC?" UTC":""))});function dc(B,L,W){return B??L??W}function Av(B){var L=new Date(r.now());return B._useUTC?[L.getUTCFullYear(),L.getUTCMonth(),L.getUTCDate()]:[L.getFullYear(),L.getMonth(),L.getDate()]}function vu(B){var L,W,q=[],ge,Ke,ht;if(!B._d){for(ge=Av(B),B._w&&B._a[Jn]==null&&B._a[Fo]==null&&lp(B),B._dayOfYear!=null&&(ht=dc(B._a[Fr],ge[Fr]),(B._dayOfYear>uo(ht)||B._dayOfYear===0)&&(g(B)._overflowDayOfYear=!0),W=_s(ht,0,B._dayOfYear),B._a[Fo]=W.getUTCMonth(),B._a[Jn]=W.getUTCDate()),L=0;L<3&&B._a[L]==null;++L)B._a[L]=q[L]=ge[L];for(;L<7;L++)B._a[L]=q[L]=B._a[L]==null?L===2?1:0:B._a[L];B._a[nr]===24&&B._a[Ln]===0&&B._a[lo]===0&&B._a[yn]===0&&(B._nextDay=!0,B._a[nr]=0),B._d=(B._useUTC?_s:rc).apply(null,q),Ke=B._useUTC?B._d.getUTCDay():B._d.getDay(),B._tzm!=null&&B._d.setUTCMinutes(B._d.getUTCMinutes()-B._tzm),B._nextDay&&(B._a[nr]=24),B._w&&typeof B._w.d<"u"&&B._w.d!==Ke&&(g(B).weekdayMismatch=!0)}}function lp(B){var L,W,q,ge,Ke,ht,fn,Gn,gr;L=B._w,L.GG!=null||L.W!=null||L.E!=null?(Ke=1,ht=4,W=dc(L.GG,B._a[Fr],ol(X(),1,4).year),q=dc(L.W,1),ge=dc(L.E,1),(ge<1||ge>7)&&(Gn=!0)):(Ke=B._locale._week.dow,ht=B._locale._week.doy,gr=ol(X(),Ke,ht),W=dc(L.gg,B._a[Fr],gr.year),q=dc(L.w,gr.week),L.d!=null?(ge=L.d,(ge<0||ge>6)&&(Gn=!0)):L.e!=null?(ge=L.e+Ke,(L.e<0||L.e>6)&&(Gn=!0)):ge=Ke),q<1||q>ra(W,Ke,ht)?g(B)._overflowWeeks=!0:Gn!=null?g(B)._overflowWeekday=!0:(fn=Kc(W,q,ge,Ke,ht),B._a[Fr]=fn.year,B._dayOfYear=fn.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function CA(B){if(B._f===r.ISO_8601){cc(B);return}if(B._f===r.RFC_2822){Zd(B);return}B._a=[],g(B).empty=!0;var L=""+B._i,W,q,ge,Ke,ht,fn=L.length,Gn=0,gr,Sa;for(ge=je(B._f,B._locale).match(We)||[],Sa=ge.length,W=0;W<Sa;W++)Ke=ge[W],q=(L.match(Ge(Ke,B))||[])[0],q&&(ht=L.substr(0,L.indexOf(q)),ht.length>0&&g(B).unusedInput.push(ht),L=L.slice(L.indexOf(q)+q.length),Gn+=q.length),Ce[Ke]?(q?g(B).empty=!1:g(B).unusedTokens.push(Ke),ys(Ke,q,B)):B._strict&&!q&&g(B).unusedTokens.push(Ke);g(B).charsLeftOver=fn-Gn,L.length>0&&g(B).unusedInput.push(L),B._a[nr]<=12&&g(B).bigHour===!0&&B._a[nr]>0&&(g(B).bigHour=void 0),g(B).parsedDateParts=B._a.slice(0),g(B).meridiem=B._meridiem,B._a[nr]=Zc(B._locale,B._a[nr],B._meridiem),gr=g(B).era,gr!==null&&(B._a[Fr]=B._locale.erasConvertYear(gr,B._a[Fr])),vu(B),wA(B)}function Zc(B,L,W){var q;return W==null?L:B.meridiemHour!=null?B.meridiemHour(L,W):(B.isPM!=null&&(q=B.isPM(W),q&&L<12&&(L+=12),!q&&L===12&&(L=0)),L)}function ll(B){var L,W,q,ge,Ke,ht,fn=!1,Gn=B._f.length;if(Gn===0){g(B).invalidFormat=!0,B._d=new Date(NaN);return}for(ge=0;ge<Gn;ge++)Ke=0,ht=!1,L=P({},B),B._useUTC!=null&&(L._useUTC=B._useUTC),L._f=B._f[ge],CA(L),S(L)&&(ht=!0),Ke+=g(L).charsLeftOver,Ke+=g(L).unusedTokens.length*10,g(L).score=Ke,fn?Ke<q&&(q=Ke,W=L):(q==null||Ke<q||ht)&&(q=Ke,W=L,ht&&(fn=!0));h(B,W||L)}function qc(B){if(!B._d){var L=xe(B._i),W=L.day===void 0?L.date:L.day;B._a=f([L.year,L.month,W,L.hour,L.minute,L.second,L.millisecond],function(q){return q&&parseInt(q,10)}),vu(B)}}function qd(B){var L=new F(wA(up(B)));return L._nextDay&&(L.add(1,"d"),L._nextDay=void 0),L}function up(B){var L=B._i,W=B._f;return B._locale=B._locale||sl(B._l),L===null||W===void 0&&L===""?y({nullInput:!0}):(typeof L=="string"&&(B._i=L=B._locale.preparse(L)),I(L)?new F(wA(L)):(d(L)?B._d=L:i(W)?ll(B):W?CA(B):Qa(B),S(B)||(B._d=null),B))}function Qa(B){var L=B._i;u(L)?B._d=new Date(r.now()):d(L)?B._d=new Date(L.valueOf()):typeof L=="string"?Jc(B):i(L)?(B._a=f(L.slice(0),function(W){return parseInt(W,10)}),vu(B)):a(L)?qc(B):c(L)?B._d=new Date(L):r.createFromInputFallback(B)}function gu(B,L,W,q,ge){var Ke={};return(L===!0||L===!1)&&(q=L,L=void 0),(W===!0||W===!1)&&(q=W,W=void 0),(a(B)&&l(B)||i(B)&&B.length===0)&&(B=void 0),Ke._isAMomentObject=!0,Ke._useUTC=Ke._isUTC=ge,Ke._l=W,Ke._i=B,Ke._f=L,Ke._strict=q,qd(Ke)}function X(B,L,W,q){return gu(B,L,W,q,!1)}var de=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var B=X.apply(null,arguments);return this.isValid()&&B.isValid()?B<this?this:B:y()}),Fe=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var B=X.apply(null,arguments);return this.isValid()&&B.isValid()?B>this?this:B:y()});function Ne(B,L){var W,q;if(L.length===1&&i(L[0])&&(L=L[0]),!L.length)return X();for(W=L[0],q=1;q<L.length;++q)(!L[q].isValid()||L[q][B](W))&&(W=L[q]);return W}function Ze(){var B=[].slice.call(arguments,0);return Ne("isBefore",B)}function Xe(){var B=[].slice.call(arguments,0);return Ne("isAfter",B)}var vt=function(){return Date.now?Date.now():+new Date},Ut=["year","quarter","month","week","day","hour","minute","second","millisecond"];function zn(B){var L,W=!1,q,ge=Ut.length;for(L in B)if(s(B,L)&&!(Vn.call(Ut,L)!==-1&&(B[L]==null||!isNaN(B[L]))))return!1;for(q=0;q<ge;++q)if(B[Ut[q]]){if(W)return!1;parseFloat(B[Ut[q]])!==Yt(B[Ut[q]])&&(W=!0)}return!0}function Nn(){return this._isValid}function Zo(){return ia(NaN)}function qo(B){var L=xe(B),W=L.year||0,q=L.quarter||0,ge=L.month||0,Ke=L.week||L.isoWeek||0,ht=L.day||0,fn=L.hour||0,Gn=L.minute||0,gr=L.second||0,Sa=L.millisecond||0;this._isValid=zn(L),this._milliseconds=+Sa+gr*1e3+Gn*6e4+fn*1e3*60*60,this._days=+ht+Ke*7,this._months=+ge+q*3+W*12,this._data={},this._locale=sl(),this._bubble()}function ef(B){return B instanceof qo}function tf(B){return B<0?Math.round(-1*B)*-1:Math.round(B)}function hC(B,L,W){var q=Math.min(B.length,L.length),ge=Math.abs(B.length-L.length),Ke=0,ht;for(ht=0;ht<q;ht++)Yt(B[ht])!==Yt(L[ht])&&Ke++;return Ke+ge}function SA(B,L){ve(B,0,0,function(){var W=this.utcOffset(),q="+";return W<0&&(W=-W,q="-"),q+Be(~~(W/60),2)+L+Be(~~W%60,2)})}SA("Z",":"),SA("ZZ",""),Se("Z",Tt),Se("ZZ",Tt),Un(["Z","ZZ"],function(B,L,W){W._useUTC=!0,W._tzm=hv(Tt,B)});var pC=/([\+\-]|\d\d)/gi;function hv(B,L){var W=(L||"").match(B),q,ge,Ke;return W===null?null:(q=W[W.length-1]||[],ge=(q+"").match(pC)||["-",0,0],Ke=+(ge[1]*60)+Yt(ge[2]),Ke===0?0:ge[0]==="+"?Ke:-Ke)}function cp(B,L){var W,q;return L._isUTC?(W=L.clone(),q=(I(B)||d(B)?B.valueOf():X(B).valueOf())-W.valueOf(),W._d.setTime(W._d.valueOf()+q),r.updateOffset(W,!1),W):X(B).local()}function xA(B){return-Math.round(B._d.getTimezoneOffset())}r.updateOffset=function(){};function mC(B,L,W){var q=this._offset||0,ge;if(!this.isValid())return B!=null?this:NaN;if(B!=null){if(typeof B=="string"){if(B=hv(Tt,B),B===null)return this}else Math.abs(B)<16&&!W&&(B=B*60);return!this._isUTC&&L&&(ge=xA(this)),this._offset=B,this._isUTC=!0,ge!=null&&this.add(ge,"m"),q!==B&&(!L||this._changeInProgress?vv(this,ia(B-q,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?q:xA(this)}function pv(B,L){return B!=null?(typeof B!="string"&&(B=-B),this.utcOffset(B,L),this):-this.utcOffset()}function Ql(B){return this.utcOffset(0,B)}function vC(B){return this._isUTC&&(this.utcOffset(0,B),this._isUTC=!1,B&&this.subtract(xA(this),"m")),this}function o0(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var B=hv(St,this._i);B!=null?this.utcOffset(B):this.utcOffset(0,!0)}return this}function i0(B){return this.isValid()?(B=B?X(B).utcOffset():0,(this.utcOffset()-B)%60===0):!1}function gC(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function yC(){if(!u(this._isDSTShifted))return this._isDSTShifted;var B={},L;return P(B,this),B=up(B),B._a?(L=B._isUTC?p(B._a):X(B._a),this._isDSTShifted=this.isValid()&&hC(B._a,L.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function a0(){return this.isValid()?!this._isUTC:!1}function hO(){return this.isValid()?this._isUTC:!1}function bC(){return this.isValid()?this._isUTC&&this._offset===0:!1}var pO=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,nf=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ia(B,L){var W=B,q=null,ge,Ke,ht;return ef(B)?W={ms:B._milliseconds,d:B._days,M:B._months}:c(B)||!isNaN(+B)?(W={},L?W[L]=+B:W.milliseconds=+B):(q=pO.exec(B))?(ge=q[1]==="-"?-1:1,W={y:0,d:Yt(q[Jn])*ge,h:Yt(q[nr])*ge,m:Yt(q[Ln])*ge,s:Yt(q[lo])*ge,ms:Yt(tf(q[yn]*1e3))*ge}):(q=nf.exec(B))?(ge=q[1]==="-"?-1:1,W={y:ul(q[2],ge),M:ul(q[3],ge),w:ul(q[4],ge),d:ul(q[5],ge),h:ul(q[6],ge),m:ul(q[7],ge),s:ul(q[8],ge)}):W==null?W={}:typeof W=="object"&&("from"in W||"to"in W)&&(ht=s0(X(W.from),X(W.to)),W={},W.ms=ht.milliseconds,W.M=ht.months),Ke=new qo(W),ef(B)&&s(B,"_locale")&&(Ke._locale=B._locale),ef(B)&&s(B,"_isValid")&&(Ke._isValid=B._isValid),Ke}ia.fn=qo.prototype,ia.invalid=Zo;function ul(B,L){var W=B&&parseFloat(B.replace(",","."));return(isNaN(W)?0:W)*L}function mv(B,L){var W={};return W.months=L.month()-B.month()+(L.year()-B.year())*12,B.clone().add(W.months,"M").isAfter(L)&&--W.months,W.milliseconds=+L-+B.clone().add(W.months,"M"),W}function s0(B,L){var W;return B.isValid()&&L.isValid()?(L=cp(L,B),B.isBefore(L)?W=mv(B,L):(W=mv(L,B),W.milliseconds=-W.milliseconds,W.months=-W.months),W):{milliseconds:0,months:0}}function l0(B,L){return function(W,q){var ge,Ke;return q!==null&&!isNaN(+q)&&(U(L,"moment()."+L+"(period, number) is deprecated. Please use moment()."+L+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Ke=W,W=q,q=Ke),ge=ia(W,q),vv(this,ge,B),this}}function vv(B,L,W,q){var ge=L._milliseconds,Ke=tf(L._days),ht=tf(L._months);B.isValid()&&(q=q??!0,ht&&Wn(B,tn(B,"Month")+ht*W),Ke&&Xo(B,"Date",tn(B,"Date")+Ke*W),ge&&B._d.setTime(B._d.valueOf()+ge*W),q&&r.updateOffset(B,Ke||ht))}var rf=l0(1,"add"),of=l0(-1,"subtract");function aa(B){return typeof B=="string"||B instanceof String}function ed(B){return I(B)||d(B)||aa(B)||c(B)||gv(B)||td(B)||B===null||B===void 0}function td(B){var L=a(B)&&!l(B),W=!1,q=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],ge,Ke,ht=q.length;for(ge=0;ge<ht;ge+=1)Ke=q[ge],W=W||s(B,Ke);return L&&W}function gv(B){var L=i(B),W=!1;return L&&(W=B.filter(function(q){return!c(q)&&aa(B)}).length===0),L&&W}function mO(B){var L=a(B)&&!l(B),W=!1,q=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],ge,Ke;for(ge=0;ge<q.length;ge+=1)Ke=q[ge],W=W||s(B,Ke);return L&&W}function wC(B,L){var W=B.diff(L,"days",!0);return W<-6?"sameElse":W<-1?"lastWeek":W<0?"lastDay":W<1?"sameDay":W<2?"nextDay":W<7?"nextWeek":"sameElse"}function dp(B,L){arguments.length===1&&(arguments[0]?ed(arguments[0])?(B=arguments[0],L=void 0):mO(arguments[0])&&(L=arguments[0],B=void 0):(B=void 0,L=void 0));var W=B||X(),q=cp(W,this).startOf("day"),ge=r.calendarFormat(this,q)||"sameElse",Ke=L&&($(L[ge])?L[ge].call(this,W):L[ge]);return this.format(Ke||this.localeData().calendar(ge,this,X(W)))}function _C(){return new F(this)}function CC(B,L){var W=I(B)?B:X(B);return this.isValid()&&W.isValid()?(L=Ae(L)||"millisecond",L==="millisecond"?this.valueOf()>W.valueOf():W.valueOf()<this.clone().startOf(L).valueOf()):!1}function yv(B,L){var W=I(B)?B:X(B);return this.isValid()&&W.isValid()?(L=Ae(L)||"millisecond",L==="millisecond"?this.valueOf()<W.valueOf():this.clone().endOf(L).valueOf()<W.valueOf()):!1}function vO(B,L,W,q){var ge=I(B)?B:X(B),Ke=I(L)?L:X(L);return this.isValid()&&ge.isValid()&&Ke.isValid()?(q=q||"()",(q[0]==="("?this.isAfter(ge,W):!this.isBefore(ge,W))&&(q[1]===")"?this.isBefore(Ke,W):!this.isAfter(Ke,W))):!1}function u0(B,L){var W=I(B)?B:X(B),q;return this.isValid()&&W.isValid()?(L=Ae(L)||"millisecond",L==="millisecond"?this.valueOf()===W.valueOf():(q=W.valueOf(),this.clone().startOf(L).valueOf()<=q&&q<=this.clone().endOf(L).valueOf())):!1}function SC(B,L){return this.isSame(B,L)||this.isAfter(B,L)}function c0(B,L){return this.isSame(B,L)||this.isBefore(B,L)}function d0(B,L,W){var q,ge,Ke;if(!this.isValid())return NaN;if(q=cp(B,this),!q.isValid())return NaN;switch(ge=(q.utcOffset()-this.utcOffset())*6e4,L=Ae(L),L){case"year":Ke=fc(this,q)/12;break;case"month":Ke=fc(this,q);break;case"quarter":Ke=fc(this,q)/3;break;case"second":Ke=(this-q)/1e3;break;case"minute":Ke=(this-q)/6e4;break;case"hour":Ke=(this-q)/36e5;break;case"day":Ke=(this-q-ge)/864e5;break;case"week":Ke=(this-q-ge)/6048e5;break;default:Ke=this-q}return W?Ke:ln(Ke)}function fc(B,L){if(B.date()<L.date())return-fc(L,B);var W=(L.year()-B.year())*12+(L.month()-B.month()),q=B.clone().add(W,"months"),ge,Ke;return L-q<0?(ge=B.clone().add(W-1,"months"),Ke=(L-q)/(q-ge)):(ge=B.clone().add(W+1,"months"),Ke=(L-q)/(ge-q)),-(W+Ke)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function bv(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xC(B){if(!this.isValid())return null;var L=B!==!0,W=L?this.clone().utc():this;return W.year()<0||W.year()>9999?Te(W,L?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$(Date.prototype.toISOString)?L?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Te(W,"Z")):Te(W,L?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function wv(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var B="moment",L="",W,q,ge,Ke;return this.isLocal()||(B=this.utcOffset()===0?"moment.utc":"moment.parseZone",L="Z"),W="["+B+'("]',q=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",ge="-MM-DD[T]HH:mm:ss.SSS",Ke=L+'[")]',this.format(W+q+ge+Ke)}function gO(B){B||(B=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var L=Te(this,B);return this.localeData().postformat(L)}function yO(B,L){return this.isValid()&&(I(B)&&B.isValid()||X(B).isValid())?ia({to:this,from:B}).locale(this.locale()).humanize(!L):this.localeData().invalidDate()}function bO(B){return this.from(X(),B)}function f0(B,L){return this.isValid()&&(I(B)&&B.isValid()||X(B).isValid())?ia({from:this,to:B}).locale(this.locale()).humanize(!L):this.localeData().invalidDate()}function A0(B){return this.to(X(),B)}function af(B){var L;return B===void 0?this._locale._abbr:(L=sl(B),L!=null&&(this._locale=L),this)}var EA=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(B){return B===void 0?this.localeData():this.locale(B)});function EC(){return this._locale}var sf=1e3,lf=60*sf,nd=60*lf,h0=(365*400+97)*24*nd;function cl(B,L){return(B%L+L)%L}function BA(B,L,W){return B<100&&B>=0?new Date(B+400,L,W)-h0:new Date(B,L,W).valueOf()}function rd(B,L,W){return B<100&&B>=0?Date.UTC(B+400,L,W)-h0:Date.UTC(B,L,W)}function fp(B){var L,W;if(B=Ae(B),B===void 0||B==="millisecond"||!this.isValid())return this;switch(W=this._isUTC?rd:BA,B){case"year":L=W(this.year(),0,1);break;case"quarter":L=W(this.year(),this.month()-this.month()%3,1);break;case"month":L=W(this.year(),this.month(),1);break;case"week":L=W(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":L=W(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":L=W(this.year(),this.month(),this.date());break;case"hour":L=this._d.valueOf(),L-=cl(L+(this._isUTC?0:this.utcOffset()*lf),nd);break;case"minute":L=this._d.valueOf(),L-=cl(L,lf);break;case"second":L=this._d.valueOf(),L-=cl(L,sf);break}return this._d.setTime(L),r.updateOffset(this,!0),this}function kA(B){var L,W;if(B=Ae(B),B===void 0||B==="millisecond"||!this.isValid())return this;switch(W=this._isUTC?rd:BA,B){case"year":L=W(this.year()+1,0,1)-1;break;case"quarter":L=W(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":L=W(this.year(),this.month()+1,1)-1;break;case"week":L=W(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":L=W(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":L=W(this.year(),this.month(),this.date()+1)-1;break;case"hour":L=this._d.valueOf(),L+=nd-cl(L+(this._isUTC?0:this.utcOffset()*lf),nd)-1;break;case"minute":L=this._d.valueOf(),L+=lf-cl(L,lf)-1;break;case"second":L=this._d.valueOf(),L+=sf-cl(L,sf)-1;break}return this._d.setTime(L),r.updateOffset(this,!0),this}function BC(){return this._d.valueOf()-(this._offset||0)*6e4}function kC(){return Math.floor(this.valueOf()/1e3)}function TC(){return new Date(this.valueOf())}function wO(){var B=this;return[B.year(),B.month(),B.date(),B.hour(),B.minute(),B.second(),B.millisecond()]}function uf(){var B=this;return{years:B.year(),months:B.month(),date:B.date(),hours:B.hours(),minutes:B.minutes(),seconds:B.seconds(),milliseconds:B.milliseconds()}}function cf(){return this.isValid()?this.toISOString():null}function _O(){return S(this)}function CO(){return h({},g(this))}function SO(){return g(this).overflow}function xO(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ve("N",0,0,"eraAbbr"),ve("NN",0,0,"eraAbbr"),ve("NNN",0,0,"eraAbbr"),ve("NNNN",0,0,"eraName"),ve("NNNNN",0,0,"eraNarrow"),ve("y",["y",1],"yo","eraYear"),ve("y",["yy",2],0,"eraYear"),ve("y",["yyy",3],0,"eraYear"),ve("y",["yyyy",4],0,"eraYear"),Se("N",p0),Se("NN",p0),Se("NNN",p0),Se("NNNN",OO),Se("NNNNN",m0),Un(["N","NN","NNN","NNNN","NNNNN"],function(B,L,W,q){var ge=W._locale.erasParse(B,q,W._strict);ge?g(W).era=ge:g(W).invalidEra=B}),Se("y",ft),Se("yy",ft),Se("yyy",ft),Se("yyyy",ft),Se("yo",OC),Un(["y","yy","yyy","yyyy"],Fr),Un(["yo"],function(B,L,W,q){var ge;W._locale._eraYearOrdinalRegex&&(ge=B.match(W._locale._eraYearOrdinalRegex)),W._locale.eraYearOrdinalParse?L[Fr]=W._locale.eraYearOrdinalParse(B,ge):L[Fr]=parseInt(B,10)});function EO(B,L){var W,q,ge,Ke=this._eras||sl("en")._eras;for(W=0,q=Ke.length;W<q;++W){switch(typeof Ke[W].since){case"string":ge=r(Ke[W].since).startOf("day"),Ke[W].since=ge.valueOf();break}switch(typeof Ke[W].until){case"undefined":Ke[W].until=1/0;break;case"string":ge=r(Ke[W].until).startOf("day").valueOf(),Ke[W].until=ge.valueOf();break}}return Ke}function BO(B,L,W){var q,ge,Ke=this.eras(),ht,fn,Gn;for(B=B.toUpperCase(),q=0,ge=Ke.length;q<ge;++q)if(ht=Ke[q].name.toUpperCase(),fn=Ke[q].abbr.toUpperCase(),Gn=Ke[q].narrow.toUpperCase(),W)switch(L){case"N":case"NN":case"NNN":if(fn===B)return Ke[q];break;case"NNNN":if(ht===B)return Ke[q];break;case"NNNNN":if(Gn===B)return Ke[q];break}else if([ht,fn,Gn].indexOf(B)>=0)return Ke[q]}function ja(B,L){var W=B.since<=B.until?1:-1;return L===void 0?r(B.since).year():r(B.since).year()+(L-B.offset)*W}function vi(){var B,L,W,q=this.localeData().eras();for(B=0,L=q.length;B<L;++B)if(W=this.clone().startOf("day").valueOf(),q[B].since<=W&&W<=q[B].until||q[B].until<=W&&W<=q[B].since)return q[B].name;return""}function sa(){var B,L,W,q=this.localeData().eras();for(B=0,L=q.length;B<L;++B)if(W=this.clone().startOf("day").valueOf(),q[B].since<=W&&W<=q[B].until||q[B].until<=W&&W<=q[B].since)return q[B].narrow;return""}function gi(){var B,L,W,q=this.localeData().eras();for(B=0,L=q.length;B<L;++B)if(W=this.clone().startOf("day").valueOf(),q[B].since<=W&&W<=q[B].until||q[B].until<=W&&W<=q[B].since)return q[B].abbr;return""}function Ap(){var B,L,W,q,ge=this.localeData().eras();for(B=0,L=ge.length;B<L;++B)if(W=ge[B].since<=ge[B].until?1:-1,q=this.clone().startOf("day").valueOf(),ge[B].since<=q&&q<=ge[B].until||ge[B].until<=q&&q<=ge[B].since)return(this.year()-r(ge[B].since).year())*W+ge[B].offset;return this.year()}function kO(B){return s(this,"_erasNameRegex")||hp.call(this),B?this._erasNameRegex:this._erasRegex}function _v(B){return s(this,"_erasAbbrRegex")||hp.call(this),B?this._erasAbbrRegex:this._erasRegex}function TO(B){return s(this,"_erasNarrowRegex")||hp.call(this),B?this._erasNarrowRegex:this._erasRegex}function p0(B,L){return L.erasAbbrRegex(B)}function OO(B,L){return L.erasNameRegex(B)}function m0(B,L){return L.erasNarrowRegex(B)}function OC(B,L){return L._eraYearOrdinalRegex||ft}function hp(){var B=[],L=[],W=[],q=[],ge,Ke,ht,fn,Gn,gr=this.eras();for(ge=0,Ke=gr.length;ge<Ke;++ge)ht=Ft(gr[ge].name),fn=Ft(gr[ge].abbr),Gn=Ft(gr[ge].narrow),L.push(ht),B.push(fn),W.push(Gn),q.push(ht),q.push(fn),q.push(Gn);this._erasRegex=new RegExp("^("+q.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+L.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+B.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+W.join("|")+")","i")}ve(0,["gg",2],0,function(){return this.weekYear()%100}),ve(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Cv(B,L){ve(0,[B,B.length],0,L)}Cv("gggg","weekYear"),Cv("ggggg","weekYear"),Cv("GGGG","isoWeekYear"),Cv("GGGGG","isoWeekYear"),Se("G",gt),Se("g",gt),Se("GG",ie,st),Se("gg",ie,st),Se("GGGG",rt,Rt),Se("gggg",rt,Rt),Se("GGGGG",mt,Y),Se("ggggg",mt,Y),Vr(["gggg","ggggg","GGGG","GGGGG"],function(B,L,W,q){L[q.substr(0,2)]=Yt(B)}),Vr(["gg","GG"],function(B,L,W,q){L[q]=r.parseTwoDigitYear(B)});function v0(B){return TA.call(this,B,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function g0(B){return TA.call(this,B,this.isoWeek(),this.isoWeekday(),1,4)}function PC(){return ra(this.year(),1,4)}function IC(){return ra(this.isoWeekYear(),1,4)}function y0(){var B=this.localeData()._week;return ra(this.year(),B.dow,B.doy)}function MC(){var B=this.localeData()._week;return ra(this.weekYear(),B.dow,B.doy)}function TA(B,L,W,q,ge){var Ke;return B==null?ol(this,q,ge).year:(Ke=ra(B,q,ge),L>Ke&&(L=Ke),PO.call(this,B,L,W,q,ge))}function PO(B,L,W,q,ge){var Ke=Kc(B,L,W,q,ge),ht=_s(Ke.year,0,Ke.dayOfYear);return this.year(ht.getUTCFullYear()),this.month(ht.getUTCMonth()),this.date(ht.getUTCDate()),this}ve("Q",0,"Qo","quarter"),Se("Q",Ee),Un("Q",function(B,L){L[Fo]=(Yt(B)-1)*3});function Sv(B){return B==null?Math.ceil((this.month()+1)/3):this.month((B-1)*3+this.month()%3)}ve("D",["DD",2],"Do","date"),Se("D",ie,mn),Se("DD",ie,st),Se("Do",function(B,L){return B?L._dayOfMonthOrdinalParse||L._ordinalParse:L._dayOfMonthOrdinalParseLenient}),Un(["D","DD"],Jn),Un("Do",function(B,L){L[Jn]=Yt(B.match(ie)[0])});var $a=ar("Date",!0);ve("DDD",["DDDD",3],"DDDo","dayOfYear"),Se("DDD",De),Se("DDDD",kt),Un(["DDD","DDDD"],function(B,L,W){W._dayOfYear=Yt(B)});function FC(B){var L=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return B==null?L:this.add(B-L,"d")}ve("m",["mm",2],0,"minute"),Se("m",ie,dr),Se("mm",ie,st),Un(["m","mm"],Ln);var IO=ar("Minutes",!1);ve("s",["ss",2],0,"second"),Se("s",ie,dr),Se("ss",ie,st),Un(["s","ss"],lo);var DC=ar("Seconds",!1);ve("S",0,0,function(){return~~(this.millisecond()/100)}),ve(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ve(0,["SSS",3],0,"millisecond"),ve(0,["SSSS",4],0,function(){return this.millisecond()*10}),ve(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ve(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ve(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ve(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ve(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Se("S",De,Ee),Se("SS",De,st),Se("SSS",De,kt);var ei,kr;for(ei="SSSS";ei.length<=9;ei+="S")Se(ei,ft);function jl(B,L){L[yn]=Yt(("0."+B)*1e3)}for(ei="S";ei.length<=9;ei+="S")Un(ei,jl);kr=ar("Milliseconds",!1),ve("z",0,0,"zoneAbbr"),ve("zz",0,0,"zoneName");function od(){return this._isUTC?"UTC":""}function id(){return this._isUTC?"Coordinated Universal Time":""}var jt=F.prototype;jt.add=rf,jt.calendar=dp,jt.clone=_C,jt.diff=d0,jt.endOf=kA,jt.format=gO,jt.from=yO,jt.fromNow=bO,jt.to=f0,jt.toNow=A0,jt.get=co,jt.invalidAt=SO,jt.isAfter=CC,jt.isBefore=yv,jt.isBetween=vO,jt.isSame=u0,jt.isSameOrAfter=SC,jt.isSameOrBefore=c0,jt.isValid=_O,jt.lang=EA,jt.locale=af,jt.localeData=EC,jt.max=Fe,jt.min=de,jt.parsingFlags=CO,jt.set=mi,jt.startOf=fp,jt.subtract=of,jt.toArray=wO,jt.toObject=uf,jt.toDate=TC,jt.toISOString=xC,jt.inspect=wv,typeof Symbol<"u"&&Symbol.for!=null&&(jt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),jt.toJSON=cf,jt.toString=bv,jt.unix=kC,jt.valueOf=BC,jt.creationData=xO,jt.eraName=vi,jt.eraNarrow=sa,jt.eraAbbr=gi,jt.eraYear=Ap,jt.year=Do,jt.isLeapYear=ta,jt.weekYear=v0,jt.isoWeekYear=g0,jt.quarter=jt.quarters=Sv,jt.month=Zn,jt.daysInMonth=ro,jt.week=jt.weeks=Qo,jt.isoWeek=jt.isoWeeks=Jo,jt.weeksInYear=y0,jt.weeksInWeekYear=MC,jt.isoWeeksInYear=PC,jt.isoWeeksInISOWeekYear=IC,jt.date=$a,jt.day=jt.days=il,jt.weekday=sc,jt.isoWeekday=Rl,jt.dayOfYear=FC,jt.hour=jt.hours=Ha,jt.minute=jt.minutes=IO,jt.second=jt.seconds=DC,jt.millisecond=jt.milliseconds=kr,jt.utcOffset=mC,jt.utc=Ql,jt.local=vC,jt.parseZone=o0,jt.hasAlignedHourOffset=i0,jt.isDST=gC,jt.isLocal=a0,jt.isUtcOffset=hO,jt.isUtc=bC,jt.isUTC=bC,jt.zoneAbbr=od,jt.zoneName=id,jt.dates=M("dates accessor is deprecated. Use date instead.",$a),jt.months=M("months accessor is deprecated. Use month instead",Zn),jt.years=M("years accessor is deprecated. Use year instead",Do),jt.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",pv),jt.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",yC);function b0(B){return X(B*1e3)}function UC(){return X.apply(null,arguments).parseZone()}function LC(B){return B}var br=R.prototype;br.calendar=we,br.longDateFormat=tt,br.invalidDate=ye,br.ordinal=Ve,br.preparse=LC,br.postformat=LC,br.relativeTime=K,br.pastFuture=te,br.set=Q,br.eras=EO,br.erasParse=BO,br.erasConvertYear=ja,br.erasAbbrRegex=_v,br.erasNameRegex=kO,br.erasNarrowRegex=TO,br.months=Me,br.monthsShort=dt,br.monthsParse=Mt,br.monthsRegex=Ra,br.monthsShortRegex=Or,br.week=oc,br.firstDayOfYear=Wc,br.firstDayOfWeek=Vl,br.weekdays=Es,br.weekdaysMin=Xd,br.weekdaysShort=Bs,br.weekdaysParse=ac,br.weekdaysRegex=bn,br.weekdaysShortRegex=vn,br.weekdaysMinRegex=fr,br.isPM=_a,br.meridiem=al;function ad(B,L,W,q){var ge=sl(),Ke=p().set(q,L);return ge[W](Ke,B)}function w0(B,L,W){if(c(B)&&(L=B,B=void 0),B=B||"",L!=null)return ad(B,L,W,"month");var q,ge=[];for(q=0;q<12;q++)ge[q]=ad(B,q,W,"month");return ge}function pp(B,L,W,q){typeof B=="boolean"?(c(L)&&(W=L,L=void 0),L=L||""):(L=B,W=L,B=!1,c(L)&&(W=L,L=void 0),L=L||"");var ge=sl(),Ke=B?ge._week.dow:0,ht,fn=[];if(W!=null)return ad(L,(W+Ke)%7,q,"day");for(ht=0;ht<7;ht++)fn[ht]=ad(L,(ht+Ke)%7,q,"day");return fn}function sd(B,L){return w0(B,L,"months")}function VC(B,L){return w0(B,L,"monthsShort")}function NC(B,L,W){return pp(B,L,W,"weekdays")}function MO(B,L,W){return pp(B,L,W,"weekdaysShort")}function xv(B,L,W){return pp(B,L,W,"weekdaysMin")}Hl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(B){var L=B%10,W=Yt(B%100/10)===1?"th":L===1?"st":L===2?"nd":L===3?"rd":"th";return B+W}}),r.lang=M("moment.lang is deprecated. Use moment.locale instead.",Hl),r.langData=M("moment.langData is deprecated. Use moment.localeData instead.",sl);var $l=Math.abs;function RC(){var B=this._data;return this._milliseconds=$l(this._milliseconds),this._days=$l(this._days),this._months=$l(this._months),B.milliseconds=$l(B.milliseconds),B.seconds=$l(B.seconds),B.minutes=$l(B.minutes),B.hours=$l(B.hours),B.months=$l(B.months),B.years=$l(B.years),this}function HC(B,L,W,q){var ge=ia(L,W);return B._milliseconds+=q*ge._milliseconds,B._days+=q*ge._days,B._months+=q*ge._months,B._bubble()}function QC(B,L){return HC(this,B,L,1)}function FO(B,L){return HC(this,B,L,-1)}function jC(B){return B<0?Math.floor(B):Math.ceil(B)}function Ev(){var B=this._milliseconds,L=this._days,W=this._months,q=this._data,ge,Ke,ht,fn,Gn;return B>=0&&L>=0&&W>=0||B<=0&&L<=0&&W<=0||(B+=jC(C0(W)+L)*864e5,L=0,W=0),q.milliseconds=B%1e3,ge=ln(B/1e3),q.seconds=ge%60,Ke=ln(ge/60),q.minutes=Ke%60,ht=ln(Ke/60),q.hours=ht%24,L+=ln(ht/24),Gn=ln(_0(L)),W+=Gn,L-=jC(C0(Gn)),fn=ln(W/12),W%=12,q.days=L,q.months=W,q.years=fn,this}function _0(B){return B*4800/146097}function C0(B){return B*146097/4800}function DO(B){if(!this.isValid())return NaN;var L,W,q=this._milliseconds;if(B=Ae(B),B==="month"||B==="quarter"||B==="year")switch(L=this._days+q/864e5,W=this._months+_0(L),B){case"month":return W;case"quarter":return W/3;case"year":return W/12}else switch(L=this._days+Math.round(C0(this._months)),B){case"week":return L/7+q/6048e5;case"day":return L+q/864e5;case"hour":return L*24+q/36e5;case"minute":return L*1440+q/6e4;case"second":return L*86400+q/1e3;case"millisecond":return Math.floor(L*864e5)+q;default:throw new Error("Unknown unit "+B)}}function yu(B){return function(){return this.as(B)}}var df=yu("ms"),S0=yu("s"),Bv=yu("m"),$C=yu("h"),x0=yu("d"),KC=yu("w"),UO=yu("M"),WC=yu("Q"),ji=yu("y"),kv=df;function zC(){return ia(this)}function GC(B){return B=Ae(B),this.isValid()?this[B+"s"]():NaN}function ld(B){return function(){return this.isValid()?this._data[B]:NaN}}var OA=ld("milliseconds"),Tv=ld("seconds"),YC=ld("minutes"),XC=ld("hours"),JC=ld("days"),PA=ld("months"),ZC=ld("years");function Ov(){return ln(this.days()/7)}var bu=Math.round,wu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function LO(B,L,W,q,ge){return ge.relativeTime(L||1,!!W,B,q)}function IA(B,L,W,q){var ge=ia(B).abs(),Ke=bu(ge.as("s")),ht=bu(ge.as("m")),fn=bu(ge.as("h")),Gn=bu(ge.as("d")),gr=bu(ge.as("M")),Sa=bu(ge.as("w")),Eo=bu(ge.as("y")),Ac=Ke<=W.ss&&["s",Ke]||Ke<W.s&&["ss",Ke]||ht<=1&&["m"]||ht<W.m&&["mm",ht]||fn<=1&&["h"]||fn<W.h&&["hh",fn]||Gn<=1&&["d"]||Gn<W.d&&["dd",Gn];return W.w!=null&&(Ac=Ac||Sa<=1&&["w"]||Sa<W.w&&["ww",Sa]),Ac=Ac||gr<=1&&["M"]||gr<W.M&&["MM",gr]||Eo<=1&&["y"]||["yy",Eo],Ac[2]=L,Ac[3]=+B>0,Ac[4]=q,LO.apply(null,Ac)}function qC(B){return B===void 0?bu:typeof B=="function"?(bu=B,!0):!1}function e1(B,L){return wu[B]===void 0?!1:L===void 0?wu[B]:(wu[B]=L,B==="s"&&(wu.ss=L-1),!0)}function t1(B,L){if(!this.isValid())return this.localeData().invalidDate();var W=!1,q=wu,ge,Ke;return typeof B=="object"&&(L=B,B=!1),typeof B=="boolean"&&(W=B),typeof L=="object"&&(q=Object.assign({},wu,L),L.s!=null&&L.ss==null&&(q.ss=L.s-1)),ge=this.localeData(),Ke=IA(this,!W,q,ge),W&&(Ke=ge.pastFuture(+this,Ke)),ge.postformat(Ke)}var ff=Math.abs;function _u(B){return(B>0)-(B<0)||+B}function ud(){if(!this.isValid())return this.localeData().invalidDate();var B=ff(this._milliseconds)/1e3,L=ff(this._days),W=ff(this._months),q,ge,Ke,ht,fn=this.asSeconds(),Gn,gr,Sa,Eo;return fn?(q=ln(B/60),ge=ln(q/60),B%=60,q%=60,Ke=ln(W/12),W%=12,ht=B?B.toFixed(3).replace(/\.?0+$/,""):"",Gn=fn<0?"-":"",gr=_u(this._months)!==_u(fn)?"-":"",Sa=_u(this._days)!==_u(fn)?"-":"",Eo=_u(this._milliseconds)!==_u(fn)?"-":"",Gn+"P"+(Ke?gr+Ke+"Y":"")+(W?gr+W+"M":"")+(L?Sa+L+"D":"")+(ge||q||B?"T":"")+(ge?Eo+ge+"H":"")+(q?Eo+q+"M":"")+(B?Eo+ht+"S":"")):"P0D"}var lr=qo.prototype;lr.isValid=Nn,lr.abs=RC,lr.add=QC,lr.subtract=FO,lr.as=DO,lr.asMilliseconds=df,lr.asSeconds=S0,lr.asMinutes=Bv,lr.asHours=$C,lr.asDays=x0,lr.asWeeks=KC,lr.asMonths=UO,lr.asQuarters=WC,lr.asYears=ji,lr.valueOf=kv,lr._bubble=Ev,lr.clone=zC,lr.get=GC,lr.milliseconds=OA,lr.seconds=Tv,lr.minutes=YC,lr.hours=XC,lr.days=JC,lr.weeks=Ov,lr.months=PA,lr.years=ZC,lr.humanize=t1,lr.toISOString=ud,lr.toString=ud,lr.toJSON=ud,lr.locale=af,lr.localeData=EC,lr.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ud),lr.lang=EA,ve("X",0,0,"unix"),ve("x",0,0,"valueOf"),Se("x",gt),Se("X",Wt),Un("X",function(B,L,W){W._d=new Date(parseFloat(B)*1e3)}),Un("x",function(B,L,W){W._d=new Date(Yt(B))});//! moment.js
return r.version="2.30.1",o(X),r.fn=jt,r.min=Ze,r.max=Xe,r.now=vt,r.utc=p,r.unix=b0,r.months=sd,r.isDate=d,r.locale=Hl,r.invalid=y,r.duration=ia,r.isMoment=I,r.weekdays=NC,r.parseZone=UC,r.localeData=sl,r.isDuration=ef,r.monthsShort=VC,r.weekdaysMin=xv,r.defineLocale=yA,r.updateLocale=bA,r.locales=np,r.weekdaysShort=MO,r.normalizeUnits=Ae,r.relativeTimeRounding=qC,r.relativeTimeThreshold=e1,r.calendarFormat=wC,r.prototype=jt,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}))})(LS)),LS.exports}var Qce=Hce();const $k=Qk(Qce),jce=Vt(),{users:KW,files:$ce,modals:Kce,addons:Wce,options:zce,profile:Fd,proposal:kw,partners:WW,providers:Gce,templates:Yce,proposals:p4,partner_users:G_,manufacturers:Xce,backend_theme:jd,field_values:Jce,custom_fields:Zce,it_service_tiers:qce,it_service_items:ede,view_proposal:m4,my_products:tde}=Lt(jce),Ys=ae(()=>{var n;return Fd.value?(n=Fd.value)==null?void 0:n.sub:""}),vr=ae(()=>{if(!Fd.value)return"";const n=G_.value.find(t=>{var e;return t.user_id==((e=Fd.value)==null?void 0:e.sub)});return n!=null?n.partner_id:""}),nde=ae(()=>{var n;return((n=Fd.value)==null?void 0:n.role)=="User"?p4.value.filter(t=>{var e;return t.partner_id===vr.value&&t.user_id==((e=Fd.value)==null?void 0:e.sub)}):p4.value.filter(t=>t.partner_id===vr.value)}),YL=ae(()=>{var e;const n=((e=Pm.value)==null?void 0:e.supported_brands)??[],t=[{id:null,name:"Select a Brand"}];return n.forEach(r=>{const o=Xce.value.find(i=>i.id==r);t.push({id:r,name:o.name})}),t}),Pm=ae(()=>{if(!Fd.value)return null;const n=G_.value.find(t=>{var e;return t.user_id==((e=Fd.value)==null?void 0:e.sub)});return WW.value.find(t=>t.id==(n==null?void 0:n.partner_id))}),Im=ae(()=>{const n=WW.value.find(t=>t.id==vr.value);return n!=null?n.name:""}),gh=ae(()=>Gce.value.filter(n=>n.partner_id==vr.value)),rde=ae(()=>$ce.value.filter(n=>n.partner_id==vr.value)),ode=ae(()=>KW.value.filter(n=>YW(n.user_id)&&n.role!="Admin")),zW=ae(()=>KW.value.filter(n=>YW(n.user_id))),vF=ae(()=>{if(!Pm.value)return null;const n=Pm.value.products_price_url;return n||null}),ide=ae(()=>{var t;const n=(t=vF.value)==null?void 0:t.match(/\/d\/([a-zA-Z0-9-_]+)/);return n?n[1]:null}),Tw=ae(()=>Yce.value.filter(n=>n.partner_id==vr.value)),gF=ae(()=>Wce.value.filter(n=>n.partner_id==vr.value)),yh=ae(()=>Zce.value.filter(n=>n.partner_id==vr.value)),ade=ae(()=>Jce.value.filter(n=>n.proposal_id==kw.value.id)),yF=ae(()=>zce.value.filter(n=>n.partner_id==vr.value)),Ow=ae(()=>qce.value.filter(n=>n.partner_id==vr.value)),Pw=ae(()=>ede.value.filter(n=>n.partner_id==vr.value)),zx=ae(()=>G_.value.find(n=>n.user_id==Ys.value)),bF=ae(()=>{var n;return(n=zx.value)==null?void 0:n.email_signature}),Gx=ae(()=>Array.from(new Set(tde.value.map(n=>n.manufacturer))).map(n=>n.charAt(0).toUpperCase()+n.slice(1))),GW=Oe([{title:"Product",value:"product"},{title:"Accessory",value:"accessory"},{title:"Toner",value:"toner"},{title:"Uncategorized",value:"uncategorized"}]),Oc=(n,t)=>{Kce.value[n]=t},sde=n=>location.origin+"/proposal/"+n.hash_code,Sd=n=>{const t=yF.value.find(e=>e.key_name==n);return t?t.content:null},YW=n=>G_.value.filter(e=>e.user_id==n&&e.partner_id==vr.value).length>0,lde=n=>{const t=n.trim().split(/\s+/);if(!(t!=null&&t.length))return{firstname:"",lastname:""};const e=t.pop();return{firstname:t.join(" "),lastname:e}},v4=n=>G_.value.find(t=>t.user_id==n),Yx=n=>n==Ys.value,XW=n=>{const t={...n};return kw.value.paperwork_css=t.paperwork_css,kw.value.paperwork_html=t.paperwork_html,delete t.paperwork_css,delete t.paperwork_html,t},ude=n=>n.toString().trim().toLowerCase().replace(/[\s\_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/\-+/g,"-").replace(/^\-+|\-+$/g,""),wF=n=>{if(n==null||n==="")return 0;let t=String(n).trim();if(t=t.replace(/[$,\s]/g,"").replace(/[^\d.]/g,""),(t.match(/\./g)||[]).length>1){const o=t.split("."),i=o.pop();t=o.join("")+"."+i}const r=parseFloat(t);return isNaN(r)?0:r},Xx=ae(()=>{var n,t;return(t=(n=Fd.value)==null?void 0:n.role)==null?void 0:t.toLowerCase().includes("admin")}),JW=ae(()=>{var n;return(n=Fd.value)==null?void 0:n.role.toLowerCase().includes("manager")}),Iw=ae(()=>kw.value.category=="it-service"),Mm=ae(()=>kw.value.category=="copier-lease"),g4=ae(()=>{var n;return((n=Pm.value)==null?void 0:n.big_deals_feature)==1}),Ay=Oe("linear-gradient(44deg,rgba(4,0,110,1) 0%,rgba(0,0,171,1) 51%,rgba(0,100,200,1) 100%)"),Jx=Oe({border_radius:"5px",elems_light_theme_gradient:"linear-gradient(45deg,#5198D8,#7C95ED,#BBA9FC)",elems_dark_theme_gradient:"linear-gradient(44deg,rgba(4, 0, 110, 1) 0%, rgba(0, 0, 171, 1) 51%, rgba(0, 100, 200, 1) 100%)",body_light_theme_gradient:"radial-gradient(circle, rgb(255, 242, 247) 0%, rgb(230, 241, 255) 100%)",body_dark_theme_gradient:"radial-gradient(circle,rgba(13, 11, 79, 1) 0%, rgba(11, 11, 54, 1) 48%, rgba(0, 7, 23, 1) 100%)"}),cde=ae(()=>`background: ${{light:"#ffffff",dark:Jx.value.body_dark_theme_gradient}[jd.value]}`),On=Oe(`border-radius:${Jx.value.border_radius}`),y4=ae(()=>`background: ${{light:Ay.value,dark:Ay.value}[jd.value]}`),hn=ae(()=>({light:{background:Ay.value,color:"white !important",border:"none",borderRadius:Jx.value.border_radius,boxShadow:"none"},dark:{background:Ay.value,color:"white !important",border:"none",borderRadius:Jx.value.border_radius,boxShadow:"none"}})[jd.value]),zr=ae(()=>jd.value=="light"?`
      ${On.value}
    `:`
      background:linear-gradient(57deg,rgba(5, 4, 36, 1) 0%, rgba(6, 6, 59, 1) 100%);
      ${On.value}
    `),bh=ae(()=>jd.value=="light"?`
      background: white;
      ${On.value}
    `:`
      background:linear-gradient(57deg,rgba(5, 4, 36, 1) 0%, rgba(6, 6, 59, 1) 100%);
      ${On.value}
    `),dde=ae(()=>jd.value=="light"?`
      background:${Ay.value};
      color: #ffffff;
    `:"background:rgba(28, 33, 65, 0.8)"),fde=ae(()=>jd.value=="light"?"":"background:#060927"),Ade=ae(()=>jd.value=="light"?"":"background:rgba(7,10,42,0.8)"),b4=ae(()=>jd.value=="light"?"background: #ffffff":"background: linear-gradient(57deg,rgba(5,4,36,1) 0%, rgba(6,6,59,1) 100%)"),hde=ae(()=>jd.value=="light"?`
      background:${Ay.value};
      color: #ffffff;
    `:"background:rgba(28, 33, 65, 0.8)"),Pc=ae(()=>m4.value?m4.value.partner.brand_color||"#1976d2":"#c3ccdc"),yd=Oe($k().format("YYYY-MM-DD hh:mm A")),pde=it({...Cn(),...Br()},"VCardActions"),Kk=Dt()({name:"VCardActions",props:pde(),setup(n,t){let{slots:e}=t;return Pl({VBtn:{slim:!0,variant:"text"}}),Kt(()=>x(n.tag,{class:pt(["v-card-actions",n.class]),style:Ue(n.style)},e)),{}}}),mde=it({opacity:[Number,String],...Cn(),...Br()},"VCardSubtitle"),vde=Dt()({name:"VCardSubtitle",props:mde(),setup(n,t){let{slots:e}=t;return Kt(()=>x(n.tag,{class:pt(["v-card-subtitle",n.class]),style:Ue([{"--v-card-subtitle-opacity":n.opacity},n.style])},e)),{}}}),XL=L_("v-card-title");function gde(n){return{aspectStyles:ae(()=>{const t=Number(n.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const ZW=it({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...Cn(),...As()},"VResponsive"),w4=Dt()({name:"VResponsive",props:ZW(),setup(n,t){let{slots:e}=t;const{aspectStyles:r}=gde(n),{dimensionStyles:o}=hs(n);return Kt(()=>{var i;return H("div",{class:pt(["v-responsive",{"v-responsive--inline":n.inline},n.class]),style:Ue([o.value,n.style])},[H("div",{class:"v-responsive__sizer",style:Ue(r.value)},null),(i=e.additional)==null?void 0:i.call(e),e.default&&H("div",{class:pt(["v-responsive__content",n.contentClass])},[e.default()])])}),{}}});function yde(n,t){if(!SL)return;const e=t.modifiers||{},r=t.value,{handler:o,options:i}=typeof r=="object"?r:{handler:r,options:{}},a=new IntersectionObserver(function(){var d;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1?arguments[1]:void 0;const u=(d=n._observe)==null?void 0:d[t.instance.$.uid];if(!u)return;const c=s.some(f=>f.isIntersecting);o&&(!e.quiet||u.init)&&(!e.once||c||u.init)&&o(c,s,l),c&&e.once?qW(n,t):u.init=!0},i);n._observe=Object(n._observe),n._observe[t.instance.$.uid]={init:!1,observer:a},a.observe(n)}function qW(n,t){var r;const e=(r=n._observe)==null?void 0:r[t.instance.$.uid];e&&(e.observer.unobserve(n),delete n._observe[t.instance.$.uid])}const Vh={mounted:yde,unmounted:qW},bde=it({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...ZW(),...Cn(),...Hi(),...Qy()},"VImg"),Gu=Dt()({name:"VImg",directives:{vIntersect:Vh},props:bde(),emits:{loadstart:n=>!0,load:n=>!0,error:n=>!0},setup(n,t){let{emit:e,slots:r}=t;const{backgroundColorClasses:o,backgroundColorStyles:i}=Po(()=>n.color),{roundedClasses:a}=Zi(n),s=Yo("VImg"),l=It(""),u=Oe(),c=It(n.eager?"loading":"idle"),d=It(),f=It(),h=ae(()=>n.src&&typeof n.src=="object"?{src:n.src.src,srcset:n.srcset||n.src.srcset,lazySrc:n.lazySrc||n.src.lazySrc,aspect:Number(n.aspectRatio||n.src.aspect||0)}:{src:n.src,srcset:n.srcset,lazySrc:n.lazySrc,aspect:Number(n.aspectRatio||0)}),p=ae(()=>h.value.aspect||d.value/f.value||0);lt(()=>n.src,()=>{v(c.value!=="idle")}),lt(p,(U,$)=>{!U&&$&&u.value&&C(u.value)}),zh(()=>v());function v(U){if(!(n.eager&&U)&&!(SL&&!U&&!n.eager)){if(c.value="loading",h.value.lazySrc){const $=new Image;$.src=h.value.lazySrc,C($,null)}h.value.src&&tr(()=>{var $;e("loadstart",(($=u.value)==null?void 0:$.currentSrc)||h.value.src),setTimeout(()=>{var Q;if(!s.isUnmounted)if((Q=u.value)!=null&&Q.complete){if(u.value.naturalWidth||_(),c.value==="error")return;p.value||C(u.value,null),c.value==="loading"&&g()}else p.value||C(u.value),S()})})}}function g(){var U;s.isUnmounted||(S(),C(u.value),c.value="loaded",e("load",((U=u.value)==null?void 0:U.currentSrc)||h.value.src))}function _(){var U;s.isUnmounted||(c.value="error",e("error",((U=u.value)==null?void 0:U.currentSrc)||h.value.src))}function S(){const U=u.value;U&&(l.value=U.currentSrc||U.src)}let y=-1;Ti(()=>{clearTimeout(y)});function C(U){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const Q=()=>{if(clearTimeout(y),s.isUnmounted)return;const{naturalHeight:J,naturalWidth:R}=U;J||R?(d.value=R,f.value=J):!U.complete&&c.value==="loading"&&$!=null?y=window.setTimeout(Q,$):(U.currentSrc.endsWith(".svg")||U.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,f.value=1)};Q()}const T=ze(()=>({"v-img__img--cover":n.cover,"v-img__img--contain":!n.cover})),P=()=>{var Q;if(!h.value.src||c.value==="idle")return null;const U=H("img",{class:pt(["v-img__img",T.value]),style:{objectPosition:n.position},crossorigin:n.crossorigin,src:h.value.src,srcset:h.value.srcset,alt:n.alt,referrerpolicy:n.referrerpolicy,draggable:n.draggable,sizes:n.sizes,ref:u,onLoad:g,onError:_},null),$=(Q=r.sources)==null?void 0:Q.call(r);return x(Du,{transition:n.transition,appear:!0},{default:()=>[Qn($?H("picture",{class:"v-img__picture"},[$,U]):U,[[Ju,c.value==="loaded"]])]})},F=()=>x(Du,{transition:n.transition},{default:()=>[h.value.lazySrc&&c.value!=="loaded"&&H("img",{class:pt(["v-img__img","v-img__img--preload",T.value]),style:{objectPosition:n.position},crossorigin:n.crossorigin,src:h.value.lazySrc,alt:n.alt,referrerpolicy:n.referrerpolicy,draggable:n.draggable},null)]}),I=()=>r.placeholder?x(Du,{transition:n.transition,appear:!0},{default:()=>[(c.value==="loading"||c.value==="error"&&!r.error)&&H("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,k=()=>r.error?x(Du,{transition:n.transition,appear:!0},{default:()=>[c.value==="error"&&H("div",{class:"v-img__error"},[r.error()])]}):null,M=()=>n.gradient?H("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${n.gradient})`}},null):null,V=It(!1);{const U=lt(p,$=>{$&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{V.value=!0})}),U())})}return Kt(()=>{const U=w4.filterProps(n);return Qn(x(w4,bt({class:["v-img",{"v-img--absolute":n.absolute,"v-img--booting":!V.value},o.value,a.value,n.class],style:[{width:$t(n.width==="auto"?d.value:n.width)},i.value,n.style]},U,{aspectRatio:p.value,"aria-label":n.alt,role:n.alt?"img":void 0}),{additional:()=>H(ut,null,[x(P,null,null),x(F,null,null),x(M,null,null),x(I,null,null),x(k,null,null)]),default:r.default}),[[Vh,{handler:v,options:n.options},null,{once:!0}]])}),{currentSrc:l,image:u,state:c,naturalWidth:d,naturalHeight:f}}}),wde=it({start:Boolean,end:Boolean,icon:Tn,image:String,text:String,...Zu(),...Cn(),...Va(),...Hi(),...Ny(),...Br(),...Zr(),...Rc({variant:"flat"})},"VAvatar"),Nh=Dt()({name:"VAvatar",props:wde(),setup(n,t){let{slots:e}=t;const{themeClasses:r}=Co(n),{borderClasses:o}=Nc(n),{colorClasses:i,colorStyles:a,variantClasses:s}=rv(n),{densityClasses:l}=qu(n),{roundedClasses:u}=Zi(n),{sizeClasses:c,sizeStyles:d}=j_(n);return Kt(()=>x(n.tag,{class:pt(["v-avatar",{"v-avatar--start":n.start,"v-avatar--end":n.end},r.value,o.value,i.value,l.value,u.value,c.value,s.value,n.class]),style:Ue([a.value,d.value,n.style])},{default:()=>[e.default?x(Lr,{key:"content-defaults",defaults:{VImg:{cover:!0,src:n.image},VIcon:{icon:n.icon}}},{default:()=>[e.default()]}):n.image?x(Gu,{key:"image",src:n.image,alt:"",cover:!0},null):n.icon?x(en,{key:"icon",icon:n.icon},null):n.text,nv(!1,"v-avatar")]})),{}}}),_de=it({appendAvatar:String,appendIcon:Tn,prependAvatar:String,prependIcon:Tn,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Cn(),...Va(),...Br()},"VCardItem"),Cde=Dt()({name:"VCardItem",props:_de(),setup(n,t){let{slots:e}=t;return Kt(()=>{const r=!!(n.prependAvatar||n.prependIcon),o=!!(r||e.prepend),i=!!(n.appendAvatar||n.appendIcon),a=!!(i||e.append),s=!!(n.title!=null||e.title),l=!!(n.subtitle!=null||e.subtitle);return x(n.tag,{class:pt(["v-card-item",n.class]),style:Ue(n.style)},{default:()=>{var u;return[o&&H("div",{key:"prepend",class:"v-card-item__prepend"},[e.prepend?x(Lr,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon}}},e.prepend):H(ut,null,[n.prependAvatar&&x(Nh,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&x(en,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)])]),H("div",{class:"v-card-item__content"},[s&&x(XL,{key:"title"},{default:()=>{var c;return[((c=e.title)==null?void 0:c.call(e))??at(n.title)]}}),l&&x(vde,{key:"subtitle"},{default:()=>{var c;return[((c=e.subtitle)==null?void 0:c.call(e))??at(n.subtitle)]}}),(u=e.default)==null?void 0:u.call(e)]),a&&H("div",{key:"append",class:"v-card-item__append"},[e.append?x(Lr,{key:"append-defaults",disabled:!i,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon}}},e.append):H(ut,null,[n.appendIcon&&x(en,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&x(Nh,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)])])]}})}),{}}}),Sde=it({opacity:[Number,String],...Cn(),...Br()},"VCardText"),Fn=Dt()({name:"VCardText",props:Sde(),setup(n,t){let{slots:e}=t;return Kt(()=>x(n.tag,{class:pt(["v-card-text",n.class]),style:Ue([{"--v-card-text-opacity":n.opacity},n.style])},e)),{}}}),xde=it({appendAvatar:String,appendIcon:Tn,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Tn,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...Zu(),...Cn(),...Va(),...As(),...tl(),...Vk(),...ov(),...K_(),...Hi(),...Hk(),...Br(),...Zr(),...Rc({variant:"elevated"})},"VCard"),cr=Dt()({name:"VCard",directives:{vRipple:su},props:xde(),setup(n,t){let{attrs:e,slots:r}=t;const{themeClasses:o}=Co(n),{borderClasses:i}=Nc(n),{colorClasses:a,colorStyles:s,variantClasses:l}=rv(n),{densityClasses:u}=qu(n),{dimensionStyles:c}=hs(n),{elevationClasses:d}=Ul(n),{loaderClasses:f}=$_(n),{locationStyles:h}=Hy(n),{positionClasses:p}=W_(n),{roundedClasses:v}=Zi(n),g=Rk(n,e),_=It(void 0);return lt(()=>n.loading,(S,y)=>{_.value=!S&&typeof y=="string"?y:typeof S=="boolean"?void 0:S},{immediate:!0}),Kt(()=>{const S=n.link!==!1&&g.isLink.value,y=!n.disabled&&n.link!==!1&&(n.link||g.isClickable.value),C=S?"a":n.tag,T=!!(r.title||n.title!=null),P=!!(r.subtitle||n.subtitle!=null),F=T||P,I=!!(r.append||n.appendAvatar||n.appendIcon),k=!!(r.prepend||n.prependAvatar||n.prependIcon),M=!!(r.image||n.image),V=F||k||I,U=!!(r.text||n.text!=null);return Qn(x(C,bt(g.linkProps,{class:["v-card",{"v-card--disabled":n.disabled,"v-card--flat":n.flat,"v-card--hover":n.hover&&!(n.disabled||n.flat),"v-card--link":y},o.value,i.value,a.value,u.value,d.value,f.value,p.value,v.value,l.value,n.class],style:[s.value,c.value,h.value,n.style],onClick:y&&g.navigate,tabindex:n.disabled?-1:void 0}),{default:()=>{var $;return[M&&H("div",{key:"image",class:"v-card__image"},[r.image?x(Lr,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},r.image):x(Gu,{key:"image-img",cover:!0,src:n.image},null)]),x(Nk,{name:"v-card",active:!!n.loading,color:_.value},{default:r.loader}),V&&x(Cde,{key:"item",prependAvatar:n.prependAvatar,prependIcon:n.prependIcon,title:n.title,subtitle:n.subtitle,appendAvatar:n.appendAvatar,appendIcon:n.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),U&&x(Fn,{key:"text"},{default:()=>{var Q;return[((Q=r.text)==null?void 0:Q.call(r))??n.text]}}),($=r.default)==null?void 0:$.call(r),r.actions&&x(Kk,null,{default:r.actions}),nv(y,"v-card")]}}),[[su,y&&n.ripple]])}),{}}}),Ede=it({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function cu(n,t,e){return Dt()({name:n,props:Ede({mode:e,origin:t}),setup(r,o){let{slots:i}=o;const a={onBeforeEnter(s){r.origin&&(s.style.transformOrigin=r.origin)},onLeave(s){if(r.leaveAbsolute){const{offsetTop:l,offsetLeft:u,offsetWidth:c,offsetHeight:d}=s;s._transitionInitialStyles={position:s.style.position,top:s.style.top,left:s.style.left,width:s.style.width,height:s.style.height},s.style.position="absolute",s.style.top=`${l}px`,s.style.left=`${u}px`,s.style.width=`${c}px`,s.style.height=`${d}px`}r.hideOnLeave&&s.style.setProperty("display","none","important")},onAfterLeave(s){if(r.leaveAbsolute&&(s!=null&&s._transitionInitialStyles)){const{position:l,top:u,left:c,width:d,height:f}=s._transitionInitialStyles;delete s._transitionInitialStyles,s.style.position=l||"",s.style.top=u||"",s.style.left=c||"",s.style.width=d||"",s.style.height=f||""}}};return()=>{const s=r.group?_k:oA;return uu(s,{name:r.disabled?"":n,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:a},i.default)}}})}function ez(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return Dt()({name:n,props:{mode:{type:String,default:e},disabled:{type:Boolean,default:km()},group:Boolean},setup(r,o){let{slots:i}=o;const a=r.group?_k:oA;return()=>uu(a,{name:r.disabled?"":n,css:!r.disabled,...r.disabled?{}:t},i.default)}})}function tz(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const e=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=to(`offset-${e}`);return{onBeforeEnter(a){a._parent=a.parentNode,a._initialStyle={transition:a.style.transition,overflow:a.style.overflow,[e]:a.style[e]}},onEnter(a){const s=a._initialStyle;if(!s)return;a.style.setProperty("transition","none","important"),a.style.overflow="hidden";const l=`${a[r]}px`;a.style[e]="0",a.offsetHeight,a.style.transition=s.transition,n&&a._parent&&a._parent.classList.add(n),requestAnimationFrame(()=>{a.style[e]=l})},onAfterEnter:i,onEnterCancelled:i,onLeave(a){a._initialStyle={transition:"",overflow:a.style.overflow,[e]:a.style[e]},a.style.overflow="hidden",a.style[e]=`${a[r]}px`,a.offsetHeight,requestAnimationFrame(()=>a.style[e]="0")},onAfterLeave:o,onLeaveCancelled:o};function o(a){n&&a._parent&&a._parent.classList.remove(n),i(a)}function i(a){if(!a._initialStyle)return;const s=a._initialStyle[e];a.style.overflow=a._initialStyle.overflow,s!=null&&(a.style[e]=s),delete a._initialStyle}}const Bde=it({target:[Object,Array]},"v-dialog-transition"),TP=new WeakMap,JL=Dt()({name:"VDialogTransition",props:Bde(),setup(n,t){let{slots:e}=t;const r={onBeforeEnter(o){o.style.pointerEvents="none",o.style.visibility="hidden"},async onEnter(o,i){var f;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),o.style.visibility="";const a=C4(n.target,o),{x:s,y:l,sx:u,sy:c,speed:d}=a;if(TP.set(o,a),km())Pf(o,[{opacity:0},{}],{duration:125*d,easing:NH}).finished.then(()=>i());else{const h=Pf(o,[{transform:`translate(${s}px, ${l}px) scale(${u}, ${c})`,opacity:0},{}],{duration:225*d,easing:NH});(f=_4(o))==null||f.forEach(p=>{Pf(p,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*d,easing:bw})}),h.finished.then(()=>i())}},onAfterEnter(o){o.style.removeProperty("pointer-events")},onBeforeLeave(o){o.style.pointerEvents="none"},async onLeave(o,i){var f;await new Promise(h=>requestAnimationFrame(h));let a;!TP.has(o)||Array.isArray(n.target)||n.target.offsetParent||n.target.getClientRects().length?a=C4(n.target,o):a=TP.get(o);const{x:s,y:l,sx:u,sy:c,speed:d}=a;km()?Pf(o,[{},{opacity:0}],{duration:85*d,easing:RH}).finished.then(()=>i()):(Pf(o,[{},{transform:`translate(${s}px, ${l}px) scale(${u}, ${c})`,opacity:0}],{duration:125*d,easing:RH}).finished.then(()=>i()),(f=_4(o))==null||f.forEach(p=>{Pf(p,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*d,easing:bw})}))},onAfterLeave(o){o.style.removeProperty("pointer-events")}};return()=>n.target?x(oA,bt({name:"dialog-transition"},r,{css:!1}),e):x(oA,{name:"dialog-transition"},e)}});function _4(n){var e;const t=(e=n.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:e.children;return t&&[...t]}function C4(n,t){const e=HK(n),r=OL(t),[o,i]=getComputedStyle(t).transformOrigin.split(" ").map(_=>parseFloat(_)),[a,s]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let l=e.left+e.width/2;a==="left"||s==="left"?l-=e.width/2:(a==="right"||s==="right")&&(l+=e.width/2);let u=e.top+e.height/2;a==="top"||s==="top"?u-=e.height/2:(a==="bottom"||s==="bottom")&&(u+=e.height/2);const c=e.width/r.width,d=e.height/r.height,f=Math.max(1,c,d),h=c/f||0,p=d/f||0,v=r.width*r.height/(window.innerWidth*window.innerHeight),g=v>.12?Math.min(1.5,(v-.12)*10+1):1;return{x:l-(o+r.left),y:u-(i+r.top),sx:h,sy:p,speed:g}}cu("fab-transition","center center","out-in");cu("dialog-bottom-transition");cu("dialog-top-transition");const _F=cu("fade-transition"),nz=cu("scale-transition");cu("scroll-x-transition");cu("scroll-x-reverse-transition");cu("scroll-y-transition");cu("scroll-y-reverse-transition");cu("slide-x-transition");cu("slide-x-reverse-transition");const rz=cu("slide-y-transition");cu("slide-y-reverse-transition");const ZL=ez("expand-transition",tz()),oz=ez("expand-x-transition",tz("",!0)),kde=it({fullscreen:Boolean,scrollable:Boolean,...Ir(z_({captureFocus:!0,origin:"center center",scrollStrategy:"block",transition:{component:JL},zIndex:2400,retainFocus:!0}),["disableInitialFocus"])},"VDialog"),Wk=Dt()({name:"VDialog",props:kde(),emits:{"update:modelValue":n=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(n,t){let{emit:e,slots:r}=t;const o=Mn(n,"modelValue"),{scopeId:i}=iv(),a=Oe();function s(){var u;e("afterEnter"),(n.scrim||n.retainFocus)&&((u=a.value)!=null&&u.contentEl)&&!a.value.contentEl.contains(document.activeElement)&&a.value.contentEl.focus({preventScroll:!0})}function l(){e("afterLeave")}return lt(o,async u=>{var c;u||(await tr(),(c=a.value.activatorEl)==null||c.focus({preventScroll:!0}))}),Kt(()=>{const u=Md.filterProps(n),c=bt({"aria-haspopup":"dialog"},n.activatorProps),d=bt({tabindex:-1},n.contentProps);return x(Md,bt({ref:a,class:["v-dialog",{"v-dialog--fullscreen":n.fullscreen,"v-dialog--scrollable":n.scrollable},n.class],style:n.style},u,{modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,"aria-modal":"true",activatorProps:c,contentProps:d,height:n.fullscreen?void 0:n.height,width:n.fullscreen?void 0:n.width,maxHeight:n.fullscreen?void 0:n.maxHeight,maxWidth:n.fullscreen?void 0:n.maxWidth,role:"dialog",onAfterEnter:s,onAfterLeave:l},i),{activator:r.activator,default:function(){for(var f=arguments.length,h=new Array(f),p=0;p<f;p++)h[p]=arguments[p];return x(Lr,{root:"VDialog"},{default:()=>{var v;return[(v=r.default)==null?void 0:v.call(r,...h)]}})}})}),nl({},a)}}),Tde=it({fluid:{type:Boolean,default:!1},...Cn(),...As(),...Br()},"VContainer"),Ode=Dt()({name:"VContainer",props:Tde(),setup(n,t){let{slots:e}=t;const{rtlClasses:r}=Ji(),{dimensionStyles:o}=hs(n);return Kt(()=>x(n.tag,{class:pt(["v-container",{"v-container--fluid":n.fluid},r.value,n.class]),style:Ue([o.value,n.style])},e)),{}}}),iz=Fk.reduce((n,t)=>(n[t]={type:[Boolean,String,Number],default:!1},n),{}),az=Fk.reduce((n,t)=>{const e="offset"+Dl(t);return n[e]={type:[String,Number],default:null},n},{}),sz=Fk.reduce((n,t)=>{const e="order"+Dl(t);return n[e]={type:[String,Number],default:null},n},{}),S4={col:Object.keys(iz),offset:Object.keys(az),order:Object.keys(sz)};function Pde(n,t,e){let r=n;if(!(e==null||e===!1)){if(t){const o=t.replace(n,"");r+=`-${o}`}return n==="col"&&(r="v-"+r),n==="col"&&(e===""||e===!0)||(r+=`-${e}`),r.toLowerCase()}}const Ide=["auto","start","end","center","baseline","stretch"],Mde=it({cols:{type:[Boolean,String,Number],default:!1},...iz,offset:{type:[String,Number],default:null},...az,order:{type:[String,Number],default:null},...sz,alignSelf:{type:String,default:null,validator:n=>Ide.includes(n)},...Cn(),...Br()},"VCol"),wt=Dt()({name:"VCol",props:Mde(),setup(n,t){let{slots:e}=t;const r=ae(()=>{const o=[];let i;for(i in S4)S4[i].forEach(s=>{const l=n[s],u=Pde(i,s,l);u&&o.push(u)});const a=o.some(s=>s.startsWith("v-col-"));return o.push({"v-col":!a||!n.cols,[`v-col-${n.cols}`]:n.cols,[`offset-${n.offset}`]:n.offset,[`order-${n.order}`]:n.order,[`align-self-${n.alignSelf}`]:n.alignSelf}),o});return()=>{var o;return uu(n.tag,{class:[r.value,n.class],style:n.style},(o=e.default)==null?void 0:o.call(e))}}}),qL=["start","end","center"],lz=["space-between","space-around","space-evenly"];function eV(n,t){return Fk.reduce((e,r)=>{const o=n+Dl(r);return e[o]=t(),e},{})}const Fde=[...qL,"baseline","stretch"],uz=n=>Fde.includes(n),cz=eV("align",()=>({type:String,default:null,validator:uz})),Dde=[...qL,...lz],dz=n=>Dde.includes(n),fz=eV("justify",()=>({type:String,default:null,validator:dz})),Ude=[...qL,...lz,"stretch"],Az=n=>Ude.includes(n),hz=eV("alignContent",()=>({type:String,default:null,validator:Az})),x4={align:Object.keys(cz),justify:Object.keys(fz),alignContent:Object.keys(hz)},Lde={align:"align",justify:"justify",alignContent:"align-content"};function Vde(n,t,e){let r=Lde[n];if(e!=null){if(t){const o=t.replace(n,"");r+=`-${o}`}return r+=`-${e}`,r.toLowerCase()}}const Nde=it({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:uz},...cz,justify:{type:String,default:null,validator:dz},...fz,alignContent:{type:String,default:null,validator:Az},...hz,...Cn(),...Br()},"VRow"),Xn=Dt()({name:"VRow",props:Nde(),setup(n,t){let{slots:e}=t;const r=ae(()=>{const o=[];let i;for(i in x4)x4[i].forEach(a=>{const s=n[a],l=Vde(i,a,s);l&&o.push(l)});return o.push({"v-row--no-gutters":n.noGutters,"v-row--dense":n.dense,[`align-${n.align}`]:n.align,[`justify-${n.justify}`]:n.justify,[`align-content-${n.alignContent}`]:n.alignContent}),o});return()=>{var o;return uu(n.tag,{class:["v-row",r.value,n.class],style:n.style},(o=e.default)==null?void 0:o.call(e))}}}),En=L_("v-spacer","div","VSpacer"),Rde=it({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Cn(),...Qy({transition:{component:rz}})},"VCounter"),tV=Dt()({name:"VCounter",functional:!0,props:Rde(),setup(n,t){let{slots:e}=t;const r=ze(()=>n.max?`${n.value} / ${n.max}`:String(n.value));return Kt(()=>x(Du,{transition:n.transition},{default:()=>[Qn(H("div",{class:pt(["v-counter",{"text-error":n.max&&!n.disabled&&parseFloat(n.value)>parseFloat(n.max)},n.class]),style:Ue(n.style)},[e.default?e.default({counter:r.value,max:n.max,value:n.value}):r.value]),[[Ju,n.active]])]})),{}}}),Hde=it({text:String,onClick:ma(),...Cn(),...Zr()},"VLabel"),fA=Dt()({name:"VLabel",props:Hde(),setup(n,t){let{slots:e}=t;return Kt(()=>{var r;return H("label",{class:pt(["v-label",{"v-label--clickable":!!n.onClick},n.class]),style:Ue(n.style),onClick:n.onClick},[n.text,(r=e.default)==null?void 0:r.call(e)])}),{}}}),Qde=it({floating:Boolean,...Cn()},"VFieldLabel"),x1=Dt()({name:"VFieldLabel",props:Qde(),setup(n,t){let{slots:e}=t;return Kt(()=>x(fA,{class:pt(["v-field-label",{"v-field-label--floating":n.floating},n.class]),style:Ue(n.style)},e)),{}}});function zk(n){const{t}=Ri();function e(r){let{name:o,color:i,...a}=r;const s={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[o],l=n[`onClick:${o}`];function u(d){d.key!=="Enter"&&d.key!==" "||(d.preventDefault(),d.stopPropagation(),D_(l,new PointerEvent("click",d)))}const c=l&&s?t(`$vuetify.input.${s}`,n.label??""):void 0;return x(en,bt({icon:n[`${o}Icon`],"aria-label":c,onClick:l,onKeydown:u,color:i},a),null)}return{InputIcon:e}}const nV=it({focused:Boolean,"onUpdate:focused":ma()},"focus");function av(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qd();const e=Mn(n,"focused"),r=ze(()=>({[`${t}--focused`]:e.value}));function o(){e.value=!0}function i(){e.value=!1}return{focusClasses:r,isFocused:e,focus:o,blur:i}}const jde=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Gk=it({appendInnerIcon:Tn,bgColor:String,clearable:Boolean,clearIcon:{type:Tn,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:Tn,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:n=>jde.includes(n)},"onClick:clear":ma(),"onClick:appendInner":ma(),"onClick:prependInner":ma(),...Cn(),...Vk(),...Hi(),...Zr()},"VField"),hy=Dt()({name:"VField",inheritAttrs:!1,props:{id:String,details:Boolean,labelId:String,...nV(),...Gk()},emits:{"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,t){let{attrs:e,emit:r,slots:o}=t;const{themeClasses:i}=Co(n),{loaderClasses:a}=$_(n),{focusClasses:s,isFocused:l,focus:u,blur:c}=av(n),{InputIcon:d}=zk(n),{roundedClasses:f}=Zi(n),{rtlClasses:h}=Ji(),p=ze(()=>n.dirty||n.active),v=ze(()=>!!(n.label||o.label)),g=ze(()=>!n.singleLine&&v.value),_=el(),S=ae(()=>n.id||`input-${_}`),y=ze(()=>n.details?`${S.value}-messages`:void 0),C=Oe(),T=Oe(),P=Oe(),F=ae(()=>["plain","underlined"].includes(n.variant)),I=ae(()=>n.error||n.disabled?void 0:p.value&&l.value?n.color:n.baseColor),k=ae(()=>{if(!(!n.iconColor||n.glow&&!l.value))return n.iconColor===!0?I.value:n.iconColor}),{backgroundColorClasses:M,backgroundColorStyles:V}=Po(()=>n.bgColor),{textColorClasses:U,textColorStyles:$}=Il(I);lt(p,R=>{if(g.value&&!km()){const ne=C.value.$el,ue=T.value.$el;requestAnimationFrame(()=>{const we=OL(ne),Be=ue.getBoundingClientRect(),We=Be.x-we.x,pe=Be.y-we.y-(we.height/2-Be.height/2),_e=Be.width/.75,Ce=Math.abs(_e-we.width)>1?{maxWidth:$t(_e)}:void 0,ve=getComputedStyle(ne),Qe=getComputedStyle(ue),se=parseFloat(ve.transitionDuration)*1e3||150,Te=parseFloat(Qe.getPropertyValue("--v-field-label-scale")),je=Qe.getPropertyValue("color");ne.style.visibility="visible",ue.style.visibility="hidden",Pf(ne,{transform:`translate(${We}px, ${pe}px) scale(${Te})`,color:je,...Ce},{duration:se,easing:bw,direction:R?"normal":"reverse"}).finished.then(()=>{ne.style.removeProperty("visibility"),ue.style.removeProperty("visibility")})})}},{flush:"post"});const Q=ae(()=>({isActive:p,isFocused:l,controlRef:P,iconColor:k,blur:c,focus:u}));function J(R){R.target!==document.activeElement&&R.preventDefault()}return Kt(()=>{var We;const R=n.variant==="outlined",ne=!!(o["prepend-inner"]||n.prependInnerIcon),ue=!!(n.clearable||o.clear)&&!n.disabled,we=!!(o["append-inner"]||n.appendInnerIcon||ue),Be=()=>o.label?o.label({...Q.value,label:n.label,props:{for:S.value}}):n.label;return H("div",bt({class:["v-field",{"v-field--active":p.value,"v-field--appended":we,"v-field--center-affix":n.centerAffix??!F.value,"v-field--disabled":n.disabled,"v-field--dirty":n.dirty,"v-field--error":n.error,"v-field--glow":n.glow,"v-field--flat":n.flat,"v-field--has-background":!!n.bgColor,"v-field--persistent-clear":n.persistentClear,"v-field--prepended":ne,"v-field--reverse":n.reverse,"v-field--single-line":n.singleLine,"v-field--no-label":!Be(),[`v-field--variant-${n.variant}`]:!0},i.value,M.value,s.value,a.value,f.value,h.value,n.class],style:[V.value,n.style],onClick:J},e),[H("div",{class:"v-field__overlay"},null),x(Nk,{name:"v-field",active:!!n.loading,color:n.error?"error":typeof n.loading=="string"?n.loading:n.color},{default:o.loader}),ne&&H("div",{key:"prepend",class:"v-field__prepend-inner"},[o["prepend-inner"]?o["prepend-inner"](Q.value):n.prependInnerIcon&&x(d,{key:"prepend-icon",name:"prependInner",color:k.value},null)]),H("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(n.variant)&&g.value&&x(x1,{key:"floating-label",ref:T,class:pt([U.value]),floating:!0,for:S.value,"aria-hidden":!p.value,style:Ue($.value)},{default:()=>[Be()]}),v.value&&x(x1,{key:"label",ref:C,id:n.labelId,for:S.value,"aria-hidden":g.value&&p.value},{default:()=>[Be()]}),((We=o.default)==null?void 0:We.call(o,{...Q.value,props:{id:S.value,class:"v-field__input","aria-describedby":y.value},focus:u,blur:c}))??H("div",{id:S.value,class:"v-field__input","aria-describedby":y.value},null)]),ue&&x(oz,{key:"clear"},{default:()=>[Qn(H("div",{class:"v-field__clearable",onMousedown:pe=>{pe.preventDefault(),pe.stopPropagation()}},[x(Lr,{defaults:{VIcon:{icon:n.clearIcon}}},{default:()=>[o.clear?o.clear({...Q.value,props:{onFocus:u,onBlur:c,onClick:n["onClick:clear"],tabindex:-1}}):x(d,{name:"clear",onFocus:u,onBlur:c,tabindex:-1},null)]})]),[[Ju,n.dirty]])]}),we&&H("div",{key:"append",class:"v-field__append-inner"},[o["append-inner"]?o["append-inner"](Q.value):n.appendInnerIcon&&x(d,{key:"append-icon",name:"appendInner",color:k.value},null)]),H("div",{class:pt(["v-field__outline",U.value]),style:Ue($.value)},[R&&H(ut,null,[H("div",{class:"v-field__outline__start"},null),g.value&&H("div",{class:"v-field__outline__notch"},[x(x1,{ref:T,floating:!0,for:S.value,"aria-hidden":!p.value},{default:()=>[Be()]})]),H("div",{class:"v-field__outline__end"},null)]),F.value&&g.value&&x(x1,{ref:T,floating:!0,for:S.value,"aria-hidden":!p.value},{default:()=>[Be()]})])])}),{controlRef:P,fieldIconColor:k}}}),$de=it({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Cn(),...Qy({transition:{component:rz,leaveAbsolute:!0,group:!0}})},"VMessages"),Kde=Dt()({name:"VMessages",props:$de(),setup(n,t){let{slots:e}=t;const r=ae(()=>ao(n.messages)),{textColorClasses:o,textColorStyles:i}=Il(()=>n.color);return Kt(()=>x(Du,{transition:n.transition,tag:"div",class:pt(["v-messages",o.value,n.class]),style:Ue([i.value,n.style])},{default:()=>[n.active&&r.value.map((a,s)=>H("div",{class:"v-messages__message",key:`${s}-${r.value}`},[e.message?e.message({message:a}):a]))]})),{}}}),pz=Symbol.for("vuetify:form"),Wde=it({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function zde(n){const t=Mn(n,"modelValue"),e=ze(()=>n.disabled),r=ze(()=>n.readonly),o=It(!1),i=Oe([]),a=Oe([]);async function s(){const c=[];let d=!0;a.value=[],o.value=!0;for(const f of i.value){const h=await f.validate();if(h.length>0&&(d=!1,c.push({id:f.id,errorMessages:h})),!d&&n.fastFail)break}return a.value=c,o.value=!1,{valid:d,errors:a.value}}function l(){i.value.forEach(c=>c.reset())}function u(){i.value.forEach(c=>c.resetValidation())}return lt(i,()=>{let c=0,d=0;const f=[];for(const h of i.value)h.isValid===!1?(d++,f.push({id:h.id,errorMessages:h.errorMessages})):h.isValid===!0&&c++;a.value=f,t.value=d>0?!1:c===i.value.length?!0:null},{deep:!0,flush:"post"}),no(pz,{register:c=>{let{id:d,vm:f,validate:h,reset:p,resetValidation:v}=c;i.value.some(g=>g.id===d),i.value.push({id:d,validate:h,reset:p,resetValidation:v,vm:qm(f),isValid:null,errorMessages:[]})},unregister:c=>{i.value=i.value.filter(d=>d.id!==c)},update:(c,d,f)=>{const h=i.value.find(p=>p.id===c);h&&(h.isValid=d,h.errorMessages=f)},isDisabled:e,isReadonly:r,isValidating:o,isValid:t,items:i,validateOn:ze(()=>n.validateOn)}),{errors:a,isDisabled:e,isReadonly:r,isValidating:o,isValid:t,items:i,validate:s,reset:l,resetValidation:u}}function Yk(n){const t=Hn(pz,null);return{...t,isReadonly:ae(()=>!!((n==null?void 0:n.readonly)??(t==null?void 0:t.isReadonly.value))),isDisabled:ae(()=>!!((n==null?void 0:n.disabled)??(t==null?void 0:t.isDisabled.value)))}}const Gde=Symbol.for("vuetify:rules");function Yde(n){const t=Hn(Gde,null);if(!n){if(!t)throw new Error("Could not find Vuetify rules injection");return t.aliases}return(t==null?void 0:t.resolve(n))??ze(n)}const Xde=it({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...nV()},"validation");function Jde(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qd(),e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:el();const r=Mn(n,"modelValue"),o=ae(()=>n.validationValue===void 0?r.value:n.validationValue),i=Yk(n),a=Yde(()=>n.rules),s=Oe([]),l=It(!0),u=ae(()=>!!(ao(r.value===""?null:r.value).length||ao(o.value===""?null:o.value).length)),c=ae(()=>{var C;return(C=n.errorMessages)!=null&&C.length?ao(n.errorMessages).concat(s.value).slice(0,Math.max(0,Number(n.maxErrors))):s.value}),d=ae(()=>{var P;let C=(n.validateOn??((P=i.validateOn)==null?void 0:P.value))||"input";C==="lazy"&&(C="input lazy"),C==="eager"&&(C="input eager");const T=new Set((C==null?void 0:C.split(" "))??[]);return{input:T.has("input"),blur:T.has("blur")||T.has("input")||T.has("invalid-input"),invalidInput:T.has("invalid-input"),lazy:T.has("lazy"),eager:T.has("eager")}}),f=ae(()=>{var C;return n.error||(C=n.errorMessages)!=null&&C.length?!1:n.rules.length?l.value?s.value.length||d.value.lazy?null:!0:!s.value.length:!0}),h=It(!1),p=ae(()=>({[`${t}--error`]:f.value===!1,[`${t}--dirty`]:u.value,[`${t}--disabled`]:i.isDisabled.value,[`${t}--readonly`]:i.isReadonly.value})),v=Yo("validation"),g=ae(()=>n.name??O(e));zh(()=>{var C;(C=i.register)==null||C.call(i,{id:g.value,vm:v,validate:y,reset:_,resetValidation:S})}),Ti(()=>{var C;(C=i.unregister)==null||C.call(i,g.value)}),Kn(async()=>{var C;d.value.lazy||await y(!d.value.eager),(C=i.update)==null||C.call(i,g.value,f.value,c.value)}),zs(()=>d.value.input||d.value.invalidInput&&f.value===!1,()=>{lt(o,()=>{if(o.value!=null)y();else if(n.focused){const C=lt(()=>n.focused,T=>{T||y(),C()})}})}),zs(()=>d.value.blur,()=>{lt(()=>n.focused,C=>{C||y()})}),lt([f,c],()=>{var C;(C=i.update)==null||C.call(i,g.value,f.value,c.value)});async function _(){r.value=null,await tr(),await S()}async function S(){l.value=!0,d.value.lazy?s.value=[]:await y(!d.value.eager)}async function y(){let C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const T=[];h.value=!0;for(const P of a.value){if(T.length>=Number(n.maxErrors??1))break;const I=await(typeof P=="function"?P:()=>P)(o.value);if(I!==!0){if(I!==!1&&typeof I!="string"){console.warn(`${I} is not a valid value. Rule functions must return boolean true or a string.`);continue}T.push(I||"")}}return s.value=T,h.value=!1,l.value=C,s.value}return{errorMessages:c,isDirty:u,isDisabled:i.isDisabled,isReadonly:i.isReadonly,isPristine:l,isValid:f,isValidating:h,reset:_,resetValidation:S,validate:y,validationClasses:p}}const Yh=it({id:String,appendIcon:Tn,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:Tn,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:n=>["horizontal","vertical"].includes(n)},"onClick:prepend":ma(),"onClick:append":ma(),...Cn(),...Va(),...Od(As(),["maxWidth","minWidth","width"]),...Zr(),...Xde()},"VInput"),Ml=Dt()({name:"VInput",props:{...Yh()},emits:{"update:modelValue":n=>!0},setup(n,t){let{attrs:e,slots:r,emit:o}=t;const{densityClasses:i}=qu(n),{dimensionStyles:a}=hs(n),{themeClasses:s}=Co(n),{rtlClasses:l}=Ji(),{InputIcon:u}=zk(n),c=el(),d=ae(()=>n.id||`input-${c}`),{errorMessages:f,isDirty:h,isDisabled:p,isReadonly:v,isPristine:g,isValid:_,isValidating:S,reset:y,resetValidation:C,validate:T,validationClasses:P}=Jde(n,"v-input",d),F=ae(()=>{var Q;return(Q=n.errorMessages)!=null&&Q.length||!g.value&&f.value.length?f.value:n.hint&&(n.persistentHint||n.focused)?n.hint:n.messages}),I=ze(()=>F.value.length>0),k=ze(()=>!n.hideDetails||n.hideDetails==="auto"&&(I.value||!!r.details)),M=ae(()=>k.value?`${d.value}-messages`:void 0),V=ae(()=>({id:d,messagesId:M,isDirty:h,isDisabled:p,isReadonly:v,isPristine:g,isValid:_,isValidating:S,hasDetails:k,reset:y,resetValidation:C,validate:T})),U=ze(()=>n.error||n.disabled?void 0:n.focused?n.color:n.baseColor),$=ze(()=>{if(n.iconColor)return n.iconColor===!0?U.value:n.iconColor});return Kt(()=>{var R,ne;const Q=!!(r.prepend||n.prependIcon),J=!!(r.append||n.appendIcon);return H("div",{class:pt(["v-input",`v-input--${n.direction}`,{"v-input--center-affix":n.centerAffix,"v-input--focused":n.focused,"v-input--glow":n.glow,"v-input--hide-spin-buttons":n.hideSpinButtons},i.value,s.value,l.value,P.value,n.class]),style:Ue([a.value,n.style])},[Q&&H("div",{key:"prepend",class:"v-input__prepend"},[r.prepend?r.prepend(V.value):n.prependIcon&&x(u,{key:"prepend-icon",name:"prepend",color:$.value},null)]),r.default&&H("div",{class:"v-input__control"},[(R=r.default)==null?void 0:R.call(r,V.value)]),J&&H("div",{key:"append",class:"v-input__append"},[r.append?r.append(V.value):n.appendIcon&&x(u,{key:"append-icon",name:"append",color:$.value},null)]),k.value&&H("div",{id:M.value,class:"v-input__details",role:"alert","aria-live":"polite"},[x(Kde,{active:I.value,messages:F.value},{message:r.message}),(ne=r.details)==null?void 0:ne.call(r,V.value)])])}),{reset:y,resetValidation:C,validate:T,isValid:_,errorMessages:f}}}),mz=it({autocomplete:String},"autocomplete");function rV(n){const t=el(),e=It(0),r=ze(()=>n.autocomplete==="suppress");return{isSuppressing:r,fieldAutocomplete:ze(()=>r.value?"off":n.autocomplete),fieldName:ze(()=>{if(n.name)return r.value?`${n.name}-${t}-${e.value}`:n.name}),update:()=>e.value=new Date().getTime()}}function vz(n){function t(e,r){if(!n.autofocus||!e)return;const o=r[0].target,i=o.matches("input,textarea")?o:o.querySelector("input,textarea");i==null||i.focus()}return{onIntersect:t}}const Zde=["color","file","time","date","datetime-local","week","month"],oV=it({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...mz(),...Ir(Yh(),["direction"]),...Gk()},"VTextField"),_t=Dt()({name:"VTextField",directives:{vIntersect:Vh},inheritAttrs:!1,props:oV(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0},setup(n,t){let{attrs:e,emit:r,slots:o}=t;const i=Mn(n,"modelValue"),{isFocused:a,focus:s,blur:l}=av(n),{onIntersect:u}=vz(n),c=ae(()=>typeof n.counterValue=="function"?n.counterValue(i.value):typeof n.counterValue=="number"?n.counterValue:(i.value??"").toString().length),d=ae(()=>{if(e.maxlength)return e.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter}),f=ae(()=>["plain","underlined"].includes(n.variant)),h=Oe(),p=Oe(),v=Oe(),g=rV(n),_=ae(()=>Zde.includes(n.type)||n.persistentPlaceholder||a.value||n.active);function S(){g.isSuppressing.value&&g.update(),a.value||s(),tr(()=>{var F;v.value!==document.activeElement&&((F=v.value)==null||F.focus())})}function y(F){r("mousedown:control",F),F.target!==v.value&&(S(),F.preventDefault())}function C(F){r("click:control",F)}function T(F,I){F.stopPropagation(),S(),tr(()=>{I(),D_(n["onClick:clear"],F)})}function P(F){var U;const I=F.target;if(!((U=n.modelModifiers)!=null&&U.trim&&["text","search","password","tel","url"].includes(n.type))){i.value=I.value;return}const k=I.value,M=I.selectionStart,V=I.selectionEnd;i.value=k,tr(()=>{let $=0;k.trimStart().length===I.value.length&&($=k.length-I.value.length),M!=null&&(I.selectionStart=M-$),V!=null&&(I.selectionEnd=V-$)})}return Kt(()=>{const F=!!(o.counter||n.counter!==!1&&n.counter!=null),I=!!(F||o.details),[k,M]=Gh(e),{modelValue:V,...U}=Ml.filterProps(n),$=hy.filterProps(n);return x(Ml,bt({ref:h,modelValue:i.value,"onUpdate:modelValue":Q=>i.value=Q,class:["v-text-field",{"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-input--plain-underlined":f.value},n.class],style:n.style},k,U,{centerAffix:!f.value,focused:a.value}),{...o,default:Q=>{let{id:J,isDisabled:R,isDirty:ne,isReadonly:ue,isValid:we,hasDetails:Be,reset:We}=Q;return x(hy,bt({ref:p,onMousedown:y,onClick:C,"onClick:clear":pe=>T(pe,We),role:n.role},Ir($,["onClick:clear"]),{id:J.value,labelId:`${J.value}-label`,active:_.value||ne.value,dirty:ne.value||n.dirty,disabled:R.value,focused:a.value,details:Be.value,error:we.value===!1}),{...o,default:pe=>{let{props:{class:_e,...Ce},controlRef:ve}=pe;const Qe=H("input",bt({ref:se=>v.value=ve.value=se,value:i.value,onInput:P,autofocus:n.autofocus,readonly:ue.value,disabled:R.value,name:g.fieldName.value,autocomplete:g.fieldAutocomplete.value,placeholder:n.placeholder,size:1,role:n.role,type:n.type,onFocus:s,onBlur:l,"aria-labelledby":`${J.value}-label`},Ce,M),null);return H(ut,null,[n.prefix&&H("span",{class:"v-text-field__prefix"},[H("span",{class:"v-text-field__prefix__text"},[n.prefix])]),Qn(o.default?H("div",{class:pt(_e),"data-no-activator":""},[o.default({id:J}),Qe]):Mc(Qe,{class:_e}),[[Vh,u,null,{once:!0}]]),n.suffix&&H("span",{class:"v-text-field__suffix"},[H("span",{class:"v-text-field__suffix__text"},[n.suffix])])])}})},details:I?Q=>{var J;return H(ut,null,[(J=o.details)==null?void 0:J.call(o,Q),F&&H(ut,null,[H("span",null,null),x(tV,{active:n.persistentCounter||a.value,value:c.value,max:d.value,disabled:n.disabled},o.counter)])])}:void 0})}),nl({},h,p,v)}}),qde={class:"mb-4"},efe={__name:"InputDialog",setup(n){const t=Vt(),e=Oe(""),{input_dialog:r}=Lt(t);lt(()=>r.value.show,a=>{a&&(e.value=r.value.value??"")});function o(){t.ResolveInputDialog(e.value)}function i(){t.ResolveInputDialog(null)}return(a,s)=>(le(),Re(Wk,{persistent:"",modelValue:O(r).show,"onUpdate:modelValue":s[1]||(s[1]=l=>O(r).show=l),width:"450"},{default:N(()=>[x(cr,{style:Ue(O(bh))},{default:N(()=>[x(XL,null,{default:N(()=>[Je(at(O(r).title),1)]),_:1}),x(Fn,null,{default:N(()=>[H("div",qde,at(O(r).content),1),x(_t,{modelValue:e.value,"onUpdate:modelValue":s[0]||(s[0]=l=>e.value=l),variant:"outlined",autofocus:""},null,8,["modelValue"])]),_:1}),x(Kk,null,{default:N(()=>[x(En),O(r).cancel_txt!==!1?(le(),Re($e,{key:0,variant:"text",onClick:i},{default:N(()=>[Je(at(O(r).cancel_txt),1)]),_:1})):xt("",!0),x($e,{color:"primary",onClick:o},{default:N(()=>[Je(at(O(r).ok_txt),1)]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue"]))}},tfe=it({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Zu(),...Cn(),...tl(),...UL(),...Hi(),...Br({tag:"footer"}),...Zr()},"VFooter"),Y_=Dt()({name:"VFooter",props:tfe(),setup(n,t){let{slots:e}=t;const r=Oe(),{themeClasses:o}=Co(n),{backgroundColorClasses:i,backgroundColorStyles:a}=Po(()=>n.color),{borderClasses:s}=Nc(n),{elevationClasses:l}=Ul(n),{roundedClasses:u}=Zi(n),c=It(32),{resizeRef:d}=Id(h=>{h.length&&(c.value=h[0].target.clientHeight)}),f=ae(()=>n.height==="auto"?c.value:parseInt(n.height,10));return zs(()=>n.app,()=>{const h=LL({id:n.name,order:ae(()=>parseInt(n.order,10)),position:ze(()=>"bottom"),layoutSize:f,elementSize:ae(()=>n.height==="auto"?void 0:f.value),active:ze(()=>n.app),absolute:ze(()=>n.absolute)});mo(()=>{r.value=h.layoutItemStyles.value})}),Kt(()=>x(n.tag,{ref:d,class:pt(["v-footer",o.value,i.value,s.value,l.value,u.value,n.class]),style:Ue([a.value,n.app?r.value:{height:$t(n.height)},n.style])},e)),{}}}),nfe=it({text:String,...Cn(),...Br()},"VToolbarTitle"),Xk=Dt()({name:"VToolbarTitle",props:nfe(),setup(n,t){let{slots:e}=t;return Kt(()=>{const r=!!(e.default||e.text||n.text);return x(n.tag,{class:pt(["v-toolbar-title",n.class]),style:Ue(n.style)},{default:()=>{var o;return[r&&H("div",{class:"v-toolbar-title__placeholder"},[e.text?e.text():n.text,(o=e.default)==null?void 0:o.call(e)])]}})}),{}}}),rfe=[null,"prominent","default","comfortable","compact"],gz=it({absolute:Boolean,collapse:Boolean,collapsePosition:{type:String,default:"start"},color:String,density:{type:String,default:"default",validator:n=>rfe.includes(n)},extended:{type:Boolean,default:null},extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Zu(),...Cn(),...tl(),...Hi(),...Br({tag:"header"}),...Zr()},"VToolbar"),Mw=Dt()({name:"VToolbar",props:gz(),setup(n,t){var h;let{slots:e}=t;const{backgroundColorClasses:r,backgroundColorStyles:o}=Po(()=>n.color),{borderClasses:i}=Nc(n),{elevationClasses:a}=Ul(n),{roundedClasses:s}=Zi(n),{themeClasses:l}=Co(n),{rtlClasses:u}=Ji(),c=It(n.extended===null?!!((h=e.extension)!=null&&h.call(e)):n.extended),d=ae(()=>parseInt(Number(n.height)+(n.density==="prominent"?Number(n.height):0)-(n.density==="comfortable"?8:0)-(n.density==="compact"?16:0),10)),f=ae(()=>c.value?parseInt(Number(n.extensionHeight)+(n.density==="prominent"?Number(n.extensionHeight):0)-(n.density==="comfortable"?4:0)-(n.density==="compact"?8:0),10):0);return Pl({VBtn:{variant:"text"}}),Kt(()=>{var _;const p=!!(n.title||e.title),v=!!(e.image||n.image),g=(_=e.extension)==null?void 0:_.call(e);return c.value=n.extended===null?!!g:n.extended,x(n.tag,{class:pt(["v-toolbar",`v-toolbar--collapse-${n.collapsePosition}`,{"v-toolbar--absolute":n.absolute,"v-toolbar--collapse":n.collapse,"v-toolbar--flat":n.flat,"v-toolbar--floating":n.floating,[`v-toolbar--density-${n.density}`]:!0},r.value,i.value,a.value,s.value,l.value,u.value,n.class]),style:Ue([o.value,n.style])},{default:()=>[v&&H("div",{key:"image",class:"v-toolbar__image"},[e.image?x(Lr,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{cover:!0,src:n.image}}},e.image):x(Gu,{key:"image-img",cover:!0,src:n.image},null)]),x(Lr,{defaults:{VTabs:{height:$t(d.value)}}},{default:()=>{var S,y,C;return[H("div",{class:"v-toolbar__content",style:{height:$t(d.value)}},[e.prepend&&H("div",{class:"v-toolbar__prepend"},[(S=e.prepend)==null?void 0:S.call(e)]),p&&x(Xk,{key:"title",text:n.title},{text:e.title}),(y=e.default)==null?void 0:y.call(e),e.append&&H("div",{class:"v-toolbar__append"},[(C=e.append)==null?void 0:C.call(e)])])]}}),x(Lr,{defaults:{VTabs:{height:$t(f.value)}}},{default:()=>[x(ZL,null,{default:()=>[c.value&&H("div",{class:"v-toolbar__extension",style:{height:$t(f.value)}},[g])]})]})]})}),{contentHeight:d,extensionHeight:f}}}),ofe={key:0},ife={key:1},qi={__name:"MyModal",props:{modelValue:Boolean,title:String,fullscreen:Boolean,max_width:[String,Number],max_height:[String,Number],color:String,footer_color:String,bg_color:String,density:{type:String,default:"comfortable"},no_scroll:{type:Boolean,default:!1},card_padding:{type:Number,default:4},show_toolbar:{type:Boolean,default:!0},hide_close_btn:{type:Boolean,default:!1}},emits:["update:modelValue","close","onmount"],setup(n,{emit:t}){const e=n,r=t,o=Oe(e.modelValue),i=ae(()=>e.fullscreen===!0?`
      ${b4.value}
    `:`
      ${b4.value};
      ${On.value}
    `),a=()=>{o.value=!1};return Kn(()=>{o.value=e.modelValue,r("onmount")}),lt(()=>e.modelValue,s=>{o.value=s}),lt(o,s=>{r("update:modelValue",s),s||r("close")}),(s,l)=>(le(),Re(Xn,{justify:"center"},{default:N(()=>[x(Wk,{persistent:"",modelValue:O(o),"onUpdate:modelValue":l[0]||(l[0]=u=>Ht(o)?o.value=u:null),"max-width":n.max_width,scrim:"rgba(0,0,0,0.9)",fullscreen:n.fullscreen,"max-height":n.max_height,transition:"dialog-bottom-transition"},{default:N(()=>[x(cr,{style:Ue(O(i)),class:"global-radius outfit-font d-flex flex-column"},{default:N(()=>[n.show_toolbar?(le(),Re(Mw,{key:0,density:n.density,dark:"",color:n.color?n.color:"primary",class:"flex-shrink-0",style:{position:"sticky",top:"0","z-index":"1"}},{default:N(()=>[s.$slots.toolbar?Ar(s.$slots,"toolbar",{key:0}):(le(),et(ut,{key:1},[x(Xk,null,{default:N(()=>[s.$slots.title?(le(),et("span",ofe,[Ar(s.$slots,"title")])):(le(),et("span",ife,at(n.title),1))]),_:3}),Ar(s.$slots,"append-toolbar-icon"),n.hide_close_btn?xt("",!0):(le(),Re($e,{key:0,icon:"mdi-close",dark:"",onClick:a}))],64))]),_:3},8,["density","color"])):xt("",!0),n.no_scroll?(le(),Re(Fn,{key:1,class:"pa-0",style:Ue(`flex: 1 1 auto;background:${n.bg_color??"transparent"}`)},{default:N(()=>[Ar(s.$slots,"default"),Ar(s.$slots,"content")]),_:3},8,["style"])):(le(),Re(Fn,{key:2,class:pt(`pa-${n.card_padding} overflow-y-auto`),style:Ue(`flex: 1 1 auto;background:${n.bg_color??"transparent"}`)},{default:N(()=>[Ar(s.$slots,"default"),Ar(s.$slots,"content")]),_:3},8,["class","style"])),s.$slots.footer?(le(),Re(Y_,{key:3,style:Ue([O(zr),{position:"sticky",bottom:"0","z-index":"1"}]),class:"border-t rounded-0 pt-3 pb-3 flex-shrink-0",color:n.footer_color},{default:N(()=>[Ar(s.$slots,"footer")]),_:3},8,["style","color"])):xt("",!0)]),_:3},8,["style"])]),_:3},8,["modelValue","max-width","fullscreen","max-height"])]),_:3}))}},yz=Symbol.for("vuetify:selection-control-group"),iV=it({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Tn,trueIcon:Tn,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:Ua},...Cn(),...Va(),...Zr()},"SelectionControlGroup"),afe=it({...iV({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),sfe=Dt()({name:"VSelectionControlGroup",props:afe(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const r=Mn(n,"modelValue"),o=el(),i=ze(()=>n.id||`v-selection-control-group-${o}`),a=ze(()=>n.name||i.value),s=new Set;return no(yz,{modelValue:r,forceUpdate:()=>{s.forEach(l=>l())},onForceUpdate:l=>{s.add(l),Go(()=>{s.delete(l)})}}),Pl({[n.defaultsTarget]:{color:ze(()=>n.color),disabled:ze(()=>n.disabled),density:ze(()=>n.density),error:ze(()=>n.error),inline:ze(()=>n.inline),modelValue:r,multiple:ze(()=>!!n.multiple||n.multiple==null&&Array.isArray(r.value)),name:a,falseIcon:ze(()=>n.falseIcon),trueIcon:ze(()=>n.trueIcon),readonly:ze(()=>n.readonly),ripple:ze(()=>n.ripple),type:ze(()=>n.type),valueComparator:ze(()=>n.valueComparator)}}),Kt(()=>{var l;return H("div",{class:pt(["v-selection-control-group",{"v-selection-control-group--inline":n.inline},n.class]),style:Ue(n.style),role:n.type==="radio"?"radiogroup":void 0},[(l=e.default)==null?void 0:l.call(e)])}),{}}}),Jk=it({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...Cn(),...iV()},"VSelectionControl");function lfe(n){const t=Hn(yz,void 0),{densityClasses:e}=qu(n),r=Mn(n,"modelValue"),o=ae(()=>n.trueValue!==void 0?n.trueValue:n.value!==void 0?n.value:!0),i=ae(()=>n.falseValue!==void 0?n.falseValue:!1),a=ae(()=>!!n.multiple||n.multiple==null&&Array.isArray(r.value)),s=ae({get(){const h=t?t.modelValue.value:r.value;return a.value?ao(h).some(p=>n.valueComparator(p,o.value)):n.valueComparator(h,o.value)},set(h){if(n.readonly)return;const p=h?o.value:i.value;let v=p;a.value&&(v=h?[...ao(r.value),p]:ao(r.value).filter(g=>!n.valueComparator(g,o.value))),t?t.modelValue.value=v:r.value=v}}),{textColorClasses:l,textColorStyles:u}=Il(()=>{if(!(n.error||n.disabled))return s.value?n.color:n.baseColor}),{backgroundColorClasses:c,backgroundColorStyles:d}=Po(()=>s.value&&!n.error&&!n.disabled?n.color:n.baseColor),f=ae(()=>s.value?n.trueIcon:n.falseIcon);return{group:t,densityClasses:e,trueValue:o,falseValue:i,model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,icon:f}}const Fm=Dt()({name:"VSelectionControl",directives:{vRipple:su},inheritAttrs:!1,props:Jk(),emits:{"update:modelValue":n=>!0},setup(n,t){let{attrs:e,slots:r}=t;const{group:o,densityClasses:i,icon:a,model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,trueValue:f}=lfe(n),h=el(),p=It(!1),v=It(!1),g=Oe(),_=ze(()=>n.id||`input-${h}`),S=ze(()=>!n.disabled&&!n.readonly);o==null||o.onForceUpdate(()=>{g.value&&(g.value.checked=s.value)});function y(F){S.value&&(p.value=!0,Ux(F.target,":focus-visible")!==!1&&(v.value=!0))}function C(){p.value=!1,v.value=!1}function T(F){F.stopPropagation()}function P(F){if(!S.value){g.value&&(g.value.checked=s.value);return}n.readonly&&o&&tr(()=>o.forceUpdate()),s.value=F.target.checked}return Kt(()=>{var V,U;const F=r.label?r.label({label:n.label,props:{for:_.value}}):n.label,[I,k]=Gh(e),M=H("input",bt({ref:g,checked:s.value,disabled:!!n.disabled,id:_.value,onBlur:C,onFocus:y,onInput:P,"aria-disabled":!!n.disabled,"aria-label":n.label,type:n.type,value:f.value,name:n.name,"aria-checked":n.type==="checkbox"?s.value:void 0},k),null);return H("div",bt({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":n.disabled,"v-selection-control--error":n.error,"v-selection-control--focused":p.value,"v-selection-control--focus-visible":v.value,"v-selection-control--inline":n.inline},i.value,n.class]},I,{style:n.style}),[H("div",{class:pt(["v-selection-control__wrapper",l.value]),style:Ue(u.value)},[(V=r.default)==null?void 0:V.call(r,{backgroundColorClasses:c,backgroundColorStyles:d}),Qn(H("div",{class:pt(["v-selection-control__input"])},[((U=r.input)==null?void 0:U.call(r,{model:s,textColorClasses:l,textColorStyles:u,backgroundColorClasses:c,backgroundColorStyles:d,inputNode:M,icon:a.value,props:{onFocus:y,onBlur:C,id:_.value}}))??H(ut,null,[a.value&&x(en,{key:"icon",icon:a.value},null),M])]),[[su,!n.disabled&&!n.readonly&&n.ripple,null,{center:!0,circle:!0}]])]),F&&x(fA,{for:_.value,onClick:T},{default:()=>[F]})])}),{isFocused:p,input:g}}}),bz=it({indeterminate:Boolean,indeterminateIcon:{type:Tn,default:"$checkboxIndeterminate"},...Jk({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),cs=Dt()({name:"VCheckboxBtn",props:bz(),emits:{"update:modelValue":n=>!0,"update:indeterminate":n=>!0},setup(n,t){let{slots:e}=t;const r=Mn(n,"indeterminate"),o=Mn(n,"modelValue");function i(l){r.value&&(r.value=!1)}const a=ze(()=>r.value?n.indeterminateIcon:n.falseIcon),s=ze(()=>r.value?n.indeterminateIcon:n.trueIcon);return Kt(()=>{const l=Ir(Fm.filterProps(n),["modelValue"]);return x(Fm,bt(l,{modelValue:o.value,"onUpdate:modelValue":[u=>o.value=u,i],class:["v-checkbox-btn",n.class],style:n.style,type:"checkbox",falseIcon:a.value,trueIcon:s.value,"aria-checked":r.value?"mixed":void 0}),e)}),{}}}),ufe=it({...Ir(Yh(),["direction"]),...Ir(bz(),["inline"])},"VCheckbox"),wz=Dt()({name:"VCheckbox",inheritAttrs:!1,props:ufe(),emits:{"update:modelValue":n=>!0,"update:focused":n=>!0},setup(n,t){let{attrs:e,slots:r}=t;const o=Mn(n,"modelValue"),{isFocused:i,focus:a,blur:s}=av(n),l=Oe(),u=el();return Kt(()=>{const[c,d]=Gh(e),f=Ml.filterProps(n),h=cs.filterProps(n);return x(Ml,bt({ref:l,class:["v-checkbox",n.class]},c,f,{modelValue:o.value,"onUpdate:modelValue":p=>o.value=p,id:n.id||`checkbox-${u}`,focused:i.value,style:n.style}),{...r,default:p=>{let{id:v,messagesId:g,isDisabled:_,isReadonly:S,isValid:y}=p;return x(cs,bt(h,{id:v.value,"aria-describedby":g.value,disabled:_.value,readonly:S.value},d,{error:y.value===!1,modelValue:o.value,"onUpdate:modelValue":C=>o.value=C,onFocus:a,onBlur:s}),r)}})}),nl({},l)}}),cfe=rn({__name:"TermsDialog",setup(n){const t=Vt(),e=Oe(!1),r=Oe(!1),{getAccessTokenSilently:o}=Er(),{is_data_loaded:i}=Lt(t),a=async()=>{const s=await o(),l=new FormData;l.append("partner_user_id",zx.value.id),sn(s).post("/terms/accept-terms",l).then(u=>{console.log(u.data),t.FetchPartnerUsers(s)}).finally(()=>{e.value=!1})};return lt(()=>i.value,s=>{s&&(zx.value.terms_accepted_at||(e.value=!0))}),(s,l)=>{const u=qi;return le(),Re(u,{color:"transparent",max_width:"500px",hide_close_btn:"",modelValue:O(e),"onUpdate:modelValue":l[1]||(l[1]=c=>Ht(e)?e.value=c:null)},{title:N(()=>[...l[2]||(l[2]=[H("div",{class:"pl-3"},"Welcome to 1800 OS Deals",-1)])]),default:N(()=>[x(cr,{elevation:"0"},{default:N(()=>[x(Fn,{class:"pt-0"},{default:N(()=>[l[5]||(l[5]=H("p",{class:"mb-5"}," Before proceeding, please review and accept our updated legal terms. By using this platform, you agree to the following: ",-1)),x(cr,{elevation:"0",style:Ue(O(bh)),class:"border pa-3 pb-1"},{default:N(()=>[...l[3]||(l[3]=[H("p",{class:"mb-2"},[H("a",{target:"_blank",class:"text-decoration-none",href:"/terms/terms-of-service"}," Terms of Service")],-1),H("p",{class:"mb-2"},[H("a",{target:"_blank",class:"text-decoration-none",href:"/terms/privacy-policy"}," Privacy Policy")],-1),H("p",{class:"mb-2"},[H("a",{target:"_blank",class:"text-decoration-none",href:"/terms/data-processing-agreement"}," Data Processing Agreement")],-1)])]),_:1},8,["style"]),l[6]||(l[6]=H("p",{class:"mt-5"},"These agreements ensure that your business and your data are protected.",-1)),x(cs,{modelValue:O(r),"onUpdate:modelValue":l[0]||(l[0]=c=>Ht(r)?r.value=c:null),class:"mt-5 mb-5",style:{"margin-left":"-10px"},label:"I have read and agree to the Terms of Service, Privacy Policy, and Data Processing Agreement."},null,8,["modelValue"]),x($e,{onClick:a,style:Ue(O(hn)),disabled:!O(r),color:"primary","prepend-icon":"mdi-chevron-right-circle"},{default:N(()=>[...l[4]||(l[4]=[Je("Continue to Dashboard",-1)])]),_:1},8,["style","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),dfe={__name:"AdminOverlay",setup(n){const t=Vt(),{global_loading:e}=Lt(t);return(r,o)=>(le(),Re(Md,{persistent:"","z-index":1e3,scrim:"rgba(0,0,0,0.9)","model-value":O(e),class:"d-flex align-center justify-center"},{default:N(()=>[x(Ry,{color:"primary",indeterminate:"",size:"100",width:"6"})]),_:1},8,["model-value"]))}},ffe=rn({__name:"ConfirmDialog",setup(n){const t=Vt(),{dialog:e}=Lt(t);return(r,o)=>(le(),Re(Wk,{persistent:"",modelValue:O(e).show,"onUpdate:modelValue":o[2]||(o[2]=i=>O(e).show=i),"max-width":"500"},{default:N(()=>[x(cr,{style:Ue(O(bh))},{default:N(()=>[x(XL,{class:"text-h6",innerHTML:O(e).title},null,8,["innerHTML"]),x(Fn,{innerHTML:O(e).content},null,8,["innerHTML"]),Ar(r.$slots,"default"),x(Kk,null,{default:N(()=>[x(En),x($e,{variant:"text",onClick:o[0]||(o[0]=i=>O(t).CancelDialog())},{default:N(()=>[Je(at(O(e).cancel_txt),1)]),_:1}),x($e,{color:"red",variant:"text",onClick:o[1]||(o[1]=i=>O(t).ConfirmDialog())},{default:N(()=>[Je(at(O(e).ok_txt),1)]),_:1})]),_:1})]),_:3},8,["style"])]),_:3},8,["modelValue"]))}}),ps=(n,t)=>{const e=n.__vccOpts||n;for(const[r,o]of t)e[r]=o;return e};function Afe(n){let{selectedElement:t,containerElement:e,isRtl:r,isHorizontal:o}=n;const i=Fw(o,e),a=_z(o,r,e),s=Fw(o,t),l=Cz(o,t),u=s*.4;return a>l?l-u:a+i<l+s?l-i+s+u:a}function hfe(n){let{selectedElement:t,containerElement:e,isHorizontal:r}=n;const o=Fw(r,e),i=Cz(r,t),a=Fw(r,t);return i-o/2+a/2}function E4(n,t){const e=n?"scrollWidth":"scrollHeight";return(t==null?void 0:t[e])||0}function pfe(n,t){const e=n?"clientWidth":"clientHeight";return(t==null?void 0:t[e])||0}function _z(n,t,e){if(!e)return 0;const{scrollLeft:r,offsetWidth:o,scrollWidth:i}=e;return n?t?i-o+r:r:e.scrollTop}function Fw(n,t){const e=n?"offsetWidth":"offsetHeight";return(t==null?void 0:t[e])||0}function Cz(n,t){const e=n?"offsetLeft":"offsetTop";return(t==null?void 0:t[e])||0}const Sz=Symbol.for("vuetify:v-slide-group"),aV=it({centerActive:Boolean,scrollToActive:{type:Boolean,default:!0},contentClass:null,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Sz},nextIcon:{type:Tn,default:"$next"},prevIcon:{type:Tn,default:"$prev"},showArrows:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["always","desktop","mobile","never"].includes(n)},...Cn(),...R_({mobile:null}),...Br(),...Uk({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Zx=Dt()({name:"VSlideGroup",props:aV(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const{isRtl:r}=Ji(),{displayClasses:o,mobile:i}=dA(n),a=Q_(n,n.symbol),s=It(!1),l=It(0),u=It(0),c=It(0),d=ae(()=>n.direction==="horizontal"),{resizeRef:f,contentRect:h}=Id(),{resizeRef:p,contentRect:v}=Id(),g=Oue(),_=ae(()=>({container:f.el,duration:200,easing:"easeOutQuart"})),S=ae(()=>a.selected.value.length?a.items.value.findIndex(pe=>pe.id===a.selected.value[0]):-1),y=ae(()=>a.selected.value.length?a.items.value.findIndex(pe=>pe.id===a.selected.value[a.selected.value.length-1]):-1);if(Rr){let pe=-1;lt(()=>[a.selected.value,h.value,v.value,d.value],()=>{cancelAnimationFrame(pe),pe=requestAnimationFrame(()=>{if(h.value&&v.value){const _e=d.value?"width":"height";u.value=h.value[_e],c.value=v.value[_e],s.value=u.value+1<c.value}if(n.scrollToActive&&S.value>=0&&p.el){const _e=p.el.children[y.value];T(_e,n.centerActive)}})})}const C=It(!1);function T(pe,_e){let Ce=0;_e?Ce=hfe({containerElement:f.el,isHorizontal:d.value,selectedElement:pe}):Ce=Afe({containerElement:f.el,isHorizontal:d.value,isRtl:r.value,selectedElement:pe}),P(Ce)}function P(pe){if(!Rr||!f.el)return;const _e=Fw(d.value,f.el),Ce=_z(d.value,r.value,f.el);if(!(E4(d.value,f.el)<=_e||Math.abs(pe-Ce)<16)){if(d.value&&r.value&&f.el){const{scrollWidth:Qe,offsetWidth:se}=f.el;pe=Qe-se-pe}d.value?g.horizontal(pe,_.value):g(pe,_.value)}}function F(pe){const{scrollTop:_e,scrollLeft:Ce}=pe.target;l.value=d.value?Ce:_e}function I(pe){if(C.value=!0,!(!s.value||!p.el)){for(const _e of pe.composedPath())for(const Ce of p.el.children)if(Ce===_e){T(Ce);return}}}function k(pe){C.value=!1}let M=!1;function V(pe){var _e;!M&&!C.value&&!(pe.relatedTarget&&((_e=p.el)!=null&&_e.contains(pe.relatedTarget)))&&J(),M=!1}function U(){M=!0}function $(pe){if(!p.el)return;function _e(Ce){pe.preventDefault(),J(Ce)}d.value?pe.key==="ArrowRight"?_e(r.value?"prev":"next"):pe.key==="ArrowLeft"&&_e(r.value?"next":"prev"):pe.key==="ArrowDown"?_e("next"):pe.key==="ArrowUp"&&_e("prev"),pe.key==="Home"?_e("first"):pe.key==="End"&&_e("last")}function Q(pe,_e){if(!pe)return;let Ce=pe;do Ce=Ce==null?void 0:Ce[_e==="next"?"nextElementSibling":"previousElementSibling"];while(Ce!=null&&Ce.hasAttribute("disabled"));return Ce}function J(pe){if(!p.el)return;let _e;if(!pe)_e=cm(p.el)[0];else if(pe==="next"){if(_e=Q(p.el.querySelector(":focus"),pe),!_e)return J("first")}else if(pe==="prev"){if(_e=Q(p.el.querySelector(":focus"),pe),!_e)return J("last")}else pe==="first"?(_e=p.el.firstElementChild,_e!=null&&_e.hasAttribute("disabled")&&(_e=Q(_e,"next"))):pe==="last"&&(_e=p.el.lastElementChild,_e!=null&&_e.hasAttribute("disabled")&&(_e=Q(_e,"prev")));_e&&_e.focus({preventScroll:!0})}function R(pe){const _e=d.value&&r.value?-1:1,Ce=(pe==="prev"?-_e:_e)*u.value;let ve=l.value+Ce;if(d.value&&r.value&&f.el){const{scrollWidth:Qe,offsetWidth:se}=f.el;ve+=Qe-se}P(ve)}const ne=ae(()=>({next:a.next,prev:a.prev,select:a.select,isSelected:a.isSelected})),ue=ae(()=>s.value||Math.abs(l.value)>0),we=ae(()=>{switch(n.showArrows){case"never":return!1;case"always":return!0;case"desktop":return!i.value;case!0:return ue.value;case"mobile":return i.value||ue.value;default:return!i.value&&ue.value}}),Be=ae(()=>Math.abs(l.value)>1),We=ae(()=>{if(!f.value||!ue.value)return!1;const pe=E4(d.value,f.el),_e=pfe(d.value,f.el);return pe-_e-Math.abs(l.value)>1});return Kt(()=>x(n.tag,{class:pt(["v-slide-group",{"v-slide-group--vertical":!d.value,"v-slide-group--has-affixes":we.value,"v-slide-group--is-overflowing":s.value},o.value,n.class]),style:Ue(n.style),tabindex:C.value||a.selected.value.length?-1:0,onFocus:V},{default:()=>{var pe,_e,Ce;return[we.value&&H("div",{key:"prev",class:pt(["v-slide-group__prev",{"v-slide-group__prev--disabled":!Be.value}]),onMousedown:U,onClick:()=>Be.value&&R("prev")},[((pe=e.prev)==null?void 0:pe.call(e,ne.value))??x(_F,null,{default:()=>[x(en,{icon:r.value?n.nextIcon:n.prevIcon},null)]})]),H("div",{key:"container",ref:f,class:pt(["v-slide-group__container",n.contentClass]),onScroll:F},[H("div",{ref:p,class:"v-slide-group__content",onFocusin:I,onFocusout:k,onKeydown:$},[(_e=e.default)==null?void 0:_e.call(e,ne.value)])]),we.value&&H("div",{key:"next",class:pt(["v-slide-group__next",{"v-slide-group__next--disabled":!We.value}]),onMousedown:U,onClick:()=>We.value&&R("next")},[((Ce=e.next)==null?void 0:Ce.call(e,ne.value))??x(_F,null,{default:()=>[x(en,{icon:r.value?n.prevIcon:n.nextIcon},null)]})])]}})),{selected:a.selected,scrollTo:R,scrollOffset:l,focus:J,hasPrev:Be,hasNext:We}}}),xz=Symbol.for("vuetify:v-chip-group"),mfe=it({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:Ua},...aV({scrollToActive:!1}),...Cn(),...Uk({selectedClass:"v-chip--selected"}),...Br(),...Zr(),...Rc({variant:"tonal"})},"VChipGroup");Dt()({name:"VChipGroup",props:mfe(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const{themeClasses:r}=Co(n),{isSelected:o,select:i,next:a,prev:s,selected:l}=Q_(n,xz);return Pl({VChip:{baseColor:ze(()=>n.baseColor),color:ze(()=>n.color),disabled:ze(()=>n.disabled),filter:ze(()=>n.filter),variant:ze(()=>n.variant)}}),Kt(()=>{const u=Zx.filterProps(n);return x(Zx,bt(u,{class:["v-chip-group",{"v-chip-group--column":n.column},r.value,n.class],style:n.style}),{default:()=>{var c;return[(c=e.default)==null?void 0:c.call(e,{isSelected:o,select:i,next:a,prev:s,selected:l.value})]}})}),{}}});const vfe=it({activeClass:String,appendAvatar:String,appendIcon:Tn,baseColor:String,closable:Boolean,closeIcon:{type:Tn,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Tn,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Tn,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:ma(),onClickOnce:ma(),...Zu(),...Cn(),...Va(),...tl(),...Lk(),...Hi(),...Hk(),...Ny(),...Br({tag:"span"}),...Zr(),...Rc({variant:"tonal"})},"VChip"),Fl=Dt()({name:"VChip",directives:{vRipple:su},props:vfe(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0,"group:selected":n=>!0,click:n=>!0},setup(n,t){let{attrs:e,emit:r,slots:o}=t;const{t:i}=Ri(),{borderClasses:a}=Nc(n),{densityClasses:s}=qu(n),{elevationClasses:l}=Ul(n),{roundedClasses:u}=Zi(n),{sizeClasses:c}=j_(n),{themeClasses:d}=Co(n),f=Mn(n,"modelValue"),h=xw(n,xz,!1),p=xw(n,Sz,!1),v=Rk(n,e),g=ze(()=>n.link!==!1&&v.isLink.value),_=ae(()=>!n.disabled&&n.link!==!1&&(!!h||n.link||v.isClickable.value)),S=ze(()=>({"aria-label":i(n.closeLabel),disabled:n.disabled,onClick(I){I.preventDefault(),I.stopPropagation(),f.value=!1,r("click:close",I)}}));lt(f,I=>{I?(h==null||h.register(),p==null||p.register()):(h==null||h.unregister(),p==null||p.unregister())});const{colorClasses:y,colorStyles:C,variantClasses:T}=rv(()=>({color:!h||h.isSelected.value?n.color??n.baseColor:n.baseColor,variant:n.variant}));function P(I){var k;r("click",I),_.value&&((k=v.navigate)==null||k.call(v,I),h==null||h.toggle())}function F(I){(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),P(I))}return()=>{var J;const I=v.isLink.value?"a":n.tag,k=!!(n.appendIcon||n.appendAvatar),M=!!(k||o.append),V=!!(o.close||n.closable),U=!!(o.filter||n.filter)&&h,$=!!(n.prependIcon||n.prependAvatar),Q=!!($||o.prepend);return f.value&&Qn(x(I,bt(v.linkProps,{class:["v-chip",{"v-chip--disabled":n.disabled,"v-chip--label":n.label,"v-chip--link":_.value,"v-chip--filter":U,"v-chip--pill":n.pill,[`${n.activeClass}`]:n.activeClass&&((J=v.isActive)==null?void 0:J.value)},d.value,a.value,y.value,s.value,l.value,u.value,c.value,T.value,h==null?void 0:h.selectedClass.value,n.class],style:[C.value,n.style],disabled:n.disabled||void 0,draggable:n.draggable,tabindex:_.value?0:void 0,onClick:P,onKeydown:_.value&&!g.value&&F}),{default:()=>{var R;return[nv(_.value,"v-chip"),U&&x(oz,{key:"filter"},{default:()=>[Qn(H("div",{class:"v-chip__filter"},[o.filter?x(Lr,{key:"filter-defaults",disabled:!n.filterIcon,defaults:{VIcon:{icon:n.filterIcon}}},o.filter):x(en,{key:"filter-icon",icon:n.filterIcon},null)]),[[Ju,h.isSelected.value]])]}),Q&&H("div",{key:"prepend",class:"v-chip__prepend"},[o.prepend?x(Lr,{key:"prepend-defaults",disabled:!$,defaults:{VAvatar:{image:n.prependAvatar,start:!0},VIcon:{icon:n.prependIcon,start:!0}}},o.prepend):H(ut,null,[n.prependIcon&&x(en,{key:"prepend-icon",icon:n.prependIcon,start:!0},null),n.prependAvatar&&x(Nh,{key:"prepend-avatar",image:n.prependAvatar,start:!0},null)])]),H("div",{class:"v-chip__content","data-no-activator":""},[((R=o.default)==null?void 0:R.call(o,{isSelected:h==null?void 0:h.isSelected.value,selectedClass:h==null?void 0:h.selectedClass.value,select:h==null?void 0:h.select,toggle:h==null?void 0:h.toggle,value:h==null?void 0:h.value.value,disabled:n.disabled}))??at(n.text)]),M&&H("div",{key:"append",class:"v-chip__append"},[o.append?x(Lr,{key:"append-defaults",disabled:!k,defaults:{VAvatar:{end:!0,image:n.appendAvatar},VIcon:{end:!0,icon:n.appendIcon}}},o.append):H(ut,null,[n.appendIcon&&x(en,{key:"append-icon",end:!0,icon:n.appendIcon},null),n.appendAvatar&&x(Nh,{key:"append-avatar",end:!0,image:n.appendAvatar},null)])]),V&&H("button",bt({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},S.value),[o.close?x(Lr,{key:"close-defaults",defaults:{VIcon:{icon:n.closeIcon,size:"x-small"}}},o.close):x(en,{key:"close-icon",icon:n.closeIcon,size:"x-small"},null)])]}}),[[su,_.value&&n.ripple,null]])}}}),gfe={class:"theme-icon"},yfe={class:"menu-name"},bfe={__name:"ThemeIcon",props:["icon","chip"],setup(n){const t=Vt(),{backend_theme:e}=Lt(t),r=ae(()=>e.value==="light"?`/assets/img/sidebar/dark/${o.icon}.png`:`/assets/img/sidebar/light/${o.icon}.png`),o=n;return(i,a)=>(le(),et("div",gfe,[x(Gu,{class:"the-icon",src:O(r)},null,8,["src"]),H("span",yfe,[Ar(i.$slots,"default",{},void 0,!0)]),n.chip!==void 0?(le(),Re(Fl,{key:0,size:"small",class:"the-chip"},{default:N(()=>[Je(at(n.chip),1)]),_:1})):xt("",!0)]))}},wfe=ps(bfe,[["__scopeId","data-v-7d5b55e3"]]),_fe={__name:"LogoutBtn",setup(n){const{logout:t}=Er(),e=Vt(),{SetProfile:r}=e,o=()=>{r(null),t({logoutParams:{returnTo:"https://deals.1800os.com/"}})};return(i,a)=>(le(),Re($e,{"prepend-icon":"mdi-logout",onClick:o},{default:N(()=>[...a[0]||(a[0]=[Je("Logout",-1)])]),_:1}))}},Cfe={__name:"LoginBtn",setup(n){const{loginWithRedirect:t}=Er(),e=()=>{t()};return(r,o)=>(le(),Re($e,{onClick:e},{default:N(()=>[...o[0]||(o[0]=[Je("Login",-1)])]),_:1}))}},Sfe=n=>{const{touchstartX:t,touchendX:e,touchstartY:r,touchendY:o}=n,i=.5,a=16;n.offsetX=e-t,n.offsetY=o-r,Math.abs(n.offsetY)<i*Math.abs(n.offsetX)&&(n.left&&e<t-a&&n.left(n),n.right&&e>t+a&&n.right(n)),Math.abs(n.offsetX)<i*Math.abs(n.offsetY)&&(n.up&&o<r-a&&n.up(n),n.down&&o>r+a&&n.down(n))};function xfe(n,t){var r;const e=n.changedTouches[0];t.touchstartX=e.clientX,t.touchstartY=e.clientY,(r=t.start)==null||r.call(t,{originalEvent:n,...t})}function Efe(n,t){var r;const e=n.changedTouches[0];t.touchendX=e.clientX,t.touchendY=e.clientY,(r=t.end)==null||r.call(t,{originalEvent:n,...t}),Sfe(t)}function Bfe(n,t){var r;const e=n.changedTouches[0];t.touchmoveX=e.clientX,t.touchmoveY=e.clientY,(r=t.move)==null||r.call(t,{originalEvent:n,...t})}function kfe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:n.left,right:n.right,up:n.up,down:n.down,start:n.start,move:n.move,end:n.end};return{touchstart:e=>xfe(e,t),touchend:e=>Efe(e,t),touchmove:e=>Bfe(e,t)}}function Tfe(n,t){var s;const e=t.value,r=e!=null&&e.parent?n.parentElement:n,o=(e==null?void 0:e.options)??{passive:!0},i=(s=t.instance)==null?void 0:s.$.uid;if(!r||i===void 0)return;const a=kfe(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[i]=a,FK(a).forEach(l=>{r.addEventListener(l,a[l],o)})}function Ofe(n,t){var i,a;const e=(i=t.value)!=null&&i.parent?n.parentElement:n,r=(a=t.instance)==null?void 0:a.$.uid;if(!(e!=null&&e._touchHandlers)||r===void 0)return;const o=e._touchHandlers[r];FK(o).forEach(s=>{e.removeEventListener(s,o[s])}),delete e._touchHandlers[r]}const CF={mounted:Tfe,unmounted:Ofe},Pfe=it({id:String,interactive:Boolean,text:String,...Ir(z_({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:null}),["absolute","retainFocus","captureFocus","disableInitialFocus"])},"VTooltip"),qx=Dt()({name:"VTooltip",props:Pfe(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const r=Mn(n,"modelValue"),{scopeId:o}=iv(),i=el(),a=ze(()=>n.id||`v-tooltip-${i}`),s=Oe(),l=ae(()=>n.location.split(" ").length>1?n.location:n.location+" center"),u=ae(()=>n.origin==="auto"||n.origin==="overlap"||n.origin.split(" ").length>1||n.location.split(" ").length>1?n.origin:n.origin+" center"),c=ze(()=>n.transition!=null?n.transition:r.value?"scale-transition":"fade-transition"),d=ae(()=>bt({"aria-describedby":a.value},n.activatorProps));return Kt(()=>{const f=Md.filterProps(n);return x(Md,bt({ref:s,class:["v-tooltip",{"v-tooltip--interactive":n.interactive},n.class],style:n.style,id:a.value},f,{modelValue:r.value,"onUpdate:modelValue":h=>r.value=h,transition:c.value,absolute:!0,location:l.value,origin:u.value,role:"tooltip",activatorProps:d.value,_disableGlobalStack:!0},o),{activator:e.activator,default:function(){var g;for(var h=arguments.length,p=new Array(h),v=0;v<h;v++)p[v]=arguments[v];return((g=e.default)==null?void 0:g.call(e,...p))??n.text}})}),nl({},s)}});function Ife(n,t){const e=typeof n=="string"?eL(n):n,r=Mfe(e,t);return{mounted:r,updated:r,unmounted(o){Ck(null,o)}}}function Mfe(n,t){return function(e,r,o){var d,f,h;const i=typeof t=="function"?t(r):t,a=((d=r.value)==null?void 0:d.text)??r.value??(i==null?void 0:i.text),s=Om(r.value)?r.value:{},l=()=>a??e.textContent,u=(o.ctx===r.instance.$?(f=Ffe(o,r.instance.$))==null?void 0:f.provides:(h=o.ctx)==null?void 0:h.provides)??r.instance.$.provides,c=uu(n,bt(i,s),l);c.appContext=Object.assign(Object.create(null),r.instance.$.appContext,{provides:u}),Ck(c,e)}}function Ffe(n,t){const e=new Set,r=i=>{var a,s;for(const l of i){if(!l)continue;if(l===n||l.el&&n.el&&l.el===n.el)return!0;e.add(l);let u;if(l.suspense?u=r([l.ssContent]):Array.isArray(l.children)?u=r(l.children):(a=l.component)!=null&&a.vnode&&(u=r([(s=l.component)==null?void 0:s.subTree])),u)return u;e.delete(l)}return!1};if(!r([t.subTree]))return t;const o=Array.from(e).reverse();for(const i of o)if(i.component)return i.component;return t}const Oo=Ife(qx,n=>{var e;return{activator:(Om(n.value)?!n.value.text:["",!1,null].includes(n.value))?null:"parent",location:(e=n.arg)==null?void 0:e.replace("-"," "),text:typeof n.value=="boolean"?void 0:n.value}}),Dfe={__name:"ThemeSwitcher",setup(n){const t=Vt(),{backend_theme:e}=Lt(t);return(r,o)=>O(e)==="light"?Qn((le(),Re($e,{key:0,onClick:o[0]||(o[0]=i=>O(t).SetState({backend_theme:"dark"})),icon:"mdi-lightbulb-on-outline"},null,512)),[[Oo,"Switch to Dark Theme"]]):Qn((le(),Re($e,{key:1,onClick:o[1]||(o[1]=i=>O(t).SetState({backend_theme:"light"})),icon:"mdi-brightness-4"},null,512)),[[Oo,"Switch to Light Theme"]])}},Ufe={key:0},Lfe=["src"],Vfe={key:1},Nfe=["src"],Rfe=rn({__name:"AuthorLogoBackend",props:["color"],setup(n){const t=Vt(),{backend_theme:e}=Lt(t);return(r,o)=>n.color?(le(),et("div",Ufe,[H("img",{class:"mr-2 ml-2 pa-2 rounded-lg",height:"60",src:n.color==="light"?"/assets/img/1800-white.png":"/assets/img/1800.svg",alt:"1800 Office Solutions Logo"},null,8,Lfe)])):(le(),et("div",Vfe,[H("img",{class:"mr-2 ml-2 pa-2 rounded-lg",height:"60",src:O(e)==="light"?"/assets/img/1800.svg":"/assets/img/1800-white.png",alt:"1800 Office Solutions Logo"},null,8,Nfe)]))}}),Hfe=it({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function Qfe(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:e,layoutSize:r}=t;let o=0,i=0;const a=Oe(null),s=It(0),l=It(0),u=It(0),c=It(!1),d=It(!1),f=It(!1),h=It(!1),p=It(!0),v=ae(()=>Number(n.scrollThreshold)),g=ae(()=>To((v.value-s.value)/v.value||0));function _(T){const P="window"in T?window.innerHeight:T.clientHeight,F="window"in T?document.documentElement.scrollHeight:T.scrollHeight;return{clientHeight:P,scrollHeight:F}}function S(){const T=a.value;if(!T)return;const{clientHeight:P,scrollHeight:F}=_(T),I=F-P,k=(r==null?void 0:r.value)||0,M=v.value+k;p.value=I>M}function y(){S()}function C(){const T=a.value;if(!T||e&&!e.value)return;o=s.value,s.value="window"in T?T.pageYOffset:T.scrollTop;const P=T instanceof Window?document.documentElement.scrollHeight:T.scrollHeight;i!==P&&(P>i&&S(),i=P),d.value=s.value<o,u.value=Math.abs(s.value-v.value);const{clientHeight:F,scrollHeight:I}=_(T),k=s.value+F>=I-5;!d.value&&k&&s.value>=v.value&&p.value&&(h.value=!0);const M=Math.abs(s.value-o)>100,V=s.value<=5;(d.value&&o-s.value>1&&!k||M&&s.value<v.value||V)&&(h.value=!1),f.value=k}return lt(d,()=>{l.value=l.value||s.value}),lt(c,()=>{l.value=0}),Kn(()=>{lt(()=>n.scrollTarget,T=>{var F;const P=T?document.querySelector(T):window;P&&P!==a.value&&((F=a.value)==null||F.removeEventListener("scroll",C),a.value=P,a.value.addEventListener("scroll",C,{passive:!0}),Promise.resolve().then(()=>{S()}))},{immediate:!0}),window.addEventListener("resize",y,{passive:!0})}),Ti(()=>{var T;(T=a.value)==null||T.removeEventListener("scroll",C),window.removeEventListener("resize",y)}),e&&lt(e,C,{immediate:!0}),{scrollThreshold:v,currentScroll:s,currentThreshold:u,isScrollActive:c,scrollRatio:g,isScrollingUp:d,savedScroll:l,isAtBottom:f,reachedBottomWhileScrollingDown:h,hasEnoughScrollableSpace:p}}const jfe=it({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:n=>["top","bottom"].includes(n)},...gz(),...UL(),...Hfe(),height:{type:[Number,String],default:64}},"VAppBar"),Ez=Dt()({name:"VAppBar",props:jfe(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const r=Oe(),o=Mn(n,"modelValue"),i=ae(()=>{var F;const P=new Set(((F=n.scrollBehavior)==null?void 0:F.split(" "))??[]);return{hide:P.has("hide"),fullyHide:P.has("fully-hide"),inverted:P.has("inverted"),collapse:P.has("collapse"),elevate:P.has("elevate"),fadeImage:P.has("fade-image")}}),a=ae(()=>{const P=i.value;return P.hide||P.fullyHide||P.inverted||P.collapse||P.elevate||P.fadeImage||!o.value}),s=ae(()=>{var I,k;const P=((I=r.value)==null?void 0:I.contentHeight)??0,F=((k=r.value)==null?void 0:k.extensionHeight)??0;return P+F}),{currentScroll:l,scrollThreshold:u,isScrollingUp:c,scrollRatio:d,isAtBottom:f,reachedBottomWhileScrollingDown:h,hasEnoughScrollableSpace:p}=Qfe(n,{canScroll:a,layoutSize:s}),v=ze(()=>i.value.hide||i.value.fullyHide),g=ae(()=>n.collapse||i.value.collapse&&(i.value.inverted?d.value>0:d.value===0)),_=ae(()=>n.flat||i.value.fullyHide&&!o.value||i.value.elevate&&(i.value.inverted?l.value>0:l.value===0)),S=ae(()=>i.value.fadeImage?i.value.inverted?1-d.value:d.value:void 0),y=ae(()=>{var I,k;if(i.value.hide&&i.value.inverted)return 0;const P=((I=r.value)==null?void 0:I.contentHeight)??0,F=((k=r.value)==null?void 0:k.extensionHeight)??0;return v.value?l.value<u.value||i.value.fullyHide?P+F:P:P+F});zs(()=>!!n.scrollBehavior,()=>{mo(()=>{if(!v.value){o.value=!0;return}if(i.value.inverted){o.value=l.value>u.value;return}if(!p.value){o.value=!0;return}if(h.value){o.value=!1;return}o.value=c.value&&!f.value||l.value<u.value})});const{ssrBootStyles:C}=V_(),{layoutItemStyles:T}=LL({id:n.name,order:ae(()=>parseInt(n.order,10)),position:ze(()=>n.location),layoutSize:y,elementSize:It(void 0),active:o,absolute:ze(()=>n.absolute)});return Kt(()=>{const P=Mw.filterProps(n);return x(Mw,bt({ref:r,class:["v-app-bar",{"v-app-bar--bottom":n.location==="bottom"},n.class],style:[{...T.value,"--v-toolbar-image-opacity":S.value,height:void 0,...C.value},n.style]},P,{collapse:g.value,flat:_.value}),e)}),{}}}),$fe=it({...Ir(KL({icon:"$menu",variant:"text"}),["spaced"])},"VAppBarNavIcon"),Bz=Dt()({name:"VAppBarNavIcon",props:$fe(),setup(n,t){let{slots:e}=t;return Kt(()=>x($e,bt(n,{class:["v-app-bar-nav-icon"]}),e)),{}}}),Kfe=["dotted","dashed","solid","double"],Wfe=it({color:String,contentOffset:[Number,String,Array],gradient:Boolean,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,variant:{type:String,default:"solid",validator:n=>Kfe.includes(n)},...Cn(),...Zr()},"VDivider"),Dd=Dt()({name:"VDivider",props:Wfe(),setup(n,t){let{attrs:e,slots:r}=t;const{themeClasses:o}=Co(n),{textColorClasses:i,textColorStyles:a}=Il(()=>n.color),s=ae(()=>{const u={};return n.length&&(u[n.vertical?"height":"width"]=$t(n.length)),n.thickness&&(u[n.vertical?"borderRightWidth":"borderTopWidth"]=$t(n.thickness)),u}),l=ze(()=>{const u=Array.isArray(n.contentOffset)?n.contentOffset[0]:n.contentOffset,c=Array.isArray(n.contentOffset)?n.contentOffset[1]:0;return{marginBlock:n.vertical&&u?$t(u):void 0,marginInline:!n.vertical&&u?$t(u):void 0,transform:c?`translate${n.vertical?"X":"Y"}(${$t(c)})`:void 0}});return Kt(()=>{const u=H("hr",{class:pt([{"v-divider":!0,"v-divider--gradient":n.gradient&&!r.default,"v-divider--inset":n.inset,"v-divider--vertical":n.vertical},o.value,i.value,n.class]),style:Ue([s.value,a.value,{"--v-border-opacity":n.opacity},{"border-style":n.variant},n.style]),"aria-orientation":!e.role||e.role==="separator"?n.vertical?"vertical":"horizontal":void 0,role:`${e.role||"separator"}`},null);return r.default?H("div",{class:pt(["v-divider__wrapper",{"v-divider__wrapper--gradient":n.gradient,"v-divider__wrapper--inset":n.inset,"v-divider__wrapper--vertical":n.vertical}])},[u,H("div",{class:"v-divider__content",style:Ue(l.value)},[r.default()]),u]):u}),{}}}),zfe=it({...Cn(),...As(),...qK()},"VLayout"),kz=Dt()({name:"VLayout",props:zfe(),setup(n,t){let{slots:e}=t;const{layoutClasses:r,layoutStyles:o,getLayoutItem:i,items:a,layoutRef:s}=tW(n),{dimensionStyles:l}=hs(n);return Kt(()=>{var u;return H("div",{ref:s,class:pt([r.value,n.class]),style:Ue([l.value,o.value,n.style])},[(u=e.default)==null?void 0:u.call(e)])}),{getLayoutItem:i,items:a}}}),SF=Symbol.for("vuetify:list");function Tz(){let{filterable:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filterable:!1};const t=Hn(SF,{filterable:!1,hasPrepend:It(!1),updateHasPrepend:()=>null}),e={filterable:t.filterable||n,hasPrepend:It(!1),updateHasPrepend:r=>{r&&(e.hasPrepend.value=r)}};return no(SF,e),t}function Oz(){return Hn(SF,null)}const sV=n=>{const t={activate:e=>{let{id:r,value:o,activated:i}=e;return r=wn(r),n&&!o&&i.size===1&&i.has(r)||(o?i.add(r):i.delete(r)),i},in:(e,r,o)=>{let i=new Set;if(e!=null)for(const a of ao(e))i=t.activate({id:a,value:!0,activated:new Set(i),children:r,parents:o});return i},out:e=>Array.from(e)};return t},Pz=n=>{const t=sV(n);return{activate:r=>{let{activated:o,id:i,...a}=r;i=wn(i);const s=o.has(i)?new Set([i]):new Set;return t.activate({...a,id:i,activated:s})},in:(r,o,i)=>{let a=new Set;if(r!=null){const s=ao(r);s.length&&(a=t.in(s.slice(0,1),o,i))}return a},out:(r,o,i)=>t.out(r,o,i)}},Gfe=n=>{const t=sV(n);return{activate:r=>{let{id:o,activated:i,children:a,...s}=r;return o=wn(o),a.has(o)?i:t.activate({id:o,activated:i,children:a,...s})},in:t.in,out:t.out}},Yfe=n=>{const t=Pz(n);return{activate:r=>{let{id:o,activated:i,children:a,...s}=r;return o=wn(o),a.has(o)?i:t.activate({id:o,activated:i,children:a,...s})},in:t.in,out:t.out}},Xfe={open:n=>{let{id:t,value:e,opened:r,parents:o}=n;if(e){const i=new Set;i.add(t);let a=o.get(t);for(;a!=null;)i.add(a),a=o.get(a);return i}else return r.delete(t),r},select:()=>null},Iz={open:n=>{let{id:t,value:e,opened:r,parents:o}=n;if(e){let i=o.get(t);for(r.add(t);i!=null&&i!==t;)r.add(i),i=o.get(i);return r}else r.delete(t);return r},select:()=>null},Jfe={open:Iz.open,select:n=>{let{id:t,value:e,opened:r,parents:o}=n;if(!e)return r;const i=[];let a=o.get(t);for(;a!=null;)i.push(a),a=o.get(a);return new Set(i)}},lV=n=>{const t={select:e=>{let{id:r,value:o,selected:i}=e;if(r=wn(r),n&&!o){const a=Array.from(i.entries()).reduce((s,l)=>{let[u,c]=l;return c==="on"&&s.push(u),s},[]);if(a.length===1&&a[0]===r)return i}return i.set(r,o?"on":"off"),i},in:(e,r,o,i)=>{const a=new Map;for(const s of e||[])t.select({id:s,value:!0,selected:a,children:r,parents:o,disabled:i});return a},out:e=>{const r=[];for(const[o,i]of e.entries())i==="on"&&r.push(o);return r}};return t},Mz=n=>{const t=lV(n);return{select:r=>{let{selected:o,id:i,...a}=r;i=wn(i);const s=o.has(i)?new Map([[i,o.get(i)]]):new Map;return t.select({...a,id:i,selected:s})},in:(r,o,i,a)=>r!=null&&r.length?t.in(r.slice(0,1),o,i,a):new Map,out:(r,o,i)=>t.out(r,o,i)}},Zfe=n=>{const t=lV(n);return{select:r=>{let{id:o,selected:i,children:a,...s}=r;return o=wn(o),a.has(o)?i:t.select({id:o,selected:i,children:a,...s})},in:t.in,out:t.out}},qfe=n=>{const t=Mz(n);return{select:r=>{let{id:o,selected:i,children:a,...s}=r;return o=wn(o),a.has(o)?i:t.select({id:o,selected:i,children:a,...s})},in:t.in,out:t.out}},Fz=n=>{const t={select:e=>{let{id:r,value:o,selected:i,children:a,parents:s,disabled:l}=e;r=wn(r);const u=new Map(i),c=[r];for(;c.length;){const f=c.shift();l.has(f)||i.set(wn(f),o?"on":"off"),a.has(f)&&c.push(...a.get(f))}let d=wn(s.get(r));for(;d;){let f=!0,h=!0;for(const p of a.get(d)){const v=wn(p);if(!l.has(v)&&(i.get(v)!=="on"&&(f=!1),i.has(v)&&i.get(v)!=="off"&&(h=!1),!f&&!h))break}i.set(d,f?"on":h?"off":"indeterminate"),d=wn(s.get(d))}return n&&!o&&Array.from(i.entries()).reduce((h,p)=>{let[v,g]=p;return g==="on"&&h.push(v),h},[]).length===0?u:i},in:(e,r,o)=>{let i=new Map;for(const a of e||[])i=t.select({id:a,value:!0,selected:i,children:r,parents:o,disabled:new Set});return i},out:(e,r)=>{const o=[];for(const[i,a]of e.entries())a==="on"&&!r.has(i)&&o.push(i);return o}};return t},eAe=n=>{const t=Fz(n);return{select:t.select,in:t.in,out:(r,o,i)=>{const a=[];for(const[s,l]of r.entries())if(l==="on"){if(i.has(s)){const u=i.get(s);if(r.get(u)==="on")continue}a.push(s)}return a}}},py=Symbol.for("vuetify:nested"),Dz={id:It(),root:{itemsRegistration:Oe("render"),register:()=>null,unregister:()=>null,updateDisabled:()=>null,children:Oe(new Map),parents:Oe(new Map),disabled:Oe(new Set),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:Oe(!1),selectable:Oe(!1),opened:Oe(new Set),activated:Oe(new Set),selected:Oe(new Map),selectedValues:Oe([]),getPath:()=>[]}},tAe=it({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean,itemsRegistration:{type:String,default:"render"}},"nested"),nAe=(n,t,e)=>{let r=!1;const o=It(new Map),i=It(new Map),a=It(new Set),s=Mn(n,"opened",n.opened,y=>new Set(Array.isArray(y)?y.map(C=>wn(C)):y),y=>[...y.values()]),l=ae(()=>{if(typeof n.activeStrategy=="object")return n.activeStrategy;if(typeof n.activeStrategy=="function")return n.activeStrategy(n.mandatory);switch(n.activeStrategy){case"leaf":return Gfe(n.mandatory);case"single-leaf":return Yfe(n.mandatory);case"independent":return sV(n.mandatory);case"single-independent":default:return Pz(n.mandatory)}}),u=ae(()=>{if(typeof n.selectStrategy=="object")return n.selectStrategy;if(typeof n.selectStrategy=="function")return n.selectStrategy(n.mandatory);switch(n.selectStrategy){case"single-leaf":return qfe(n.mandatory);case"leaf":return Zfe(n.mandatory);case"independent":return lV(n.mandatory);case"single-independent":return Mz(n.mandatory);case"trunk":return eAe(n.mandatory);case"classic":default:return Fz(n.mandatory)}}),c=ae(()=>{if(typeof n.openStrategy=="object")return n.openStrategy;switch(n.openStrategy){case"list":return Jfe;case"single":return Xfe;case"multiple":default:return Iz}}),d=Mn(n,"activated",n.activated,y=>l.value.in(y,o.value,i.value),y=>l.value.out(y,o.value,i.value)),f=Mn(n,"selected",n.selected,y=>u.value.in(y,o.value,i.value,a.value),y=>u.value.out(y,o.value,i.value));Ti(()=>{r=!0});function h(y){const C=[];let T=wn(y);for(;T!==void 0;)C.unshift(T),T=i.value.get(T);return C}const p=Yo("nested"),v=new Set,g=gle(()=>{tr(()=>{o.value=new Map(o.value),i.value=new Map(i.value)})},100);lt(()=>[t.value,Ui(e)],()=>{n.itemsRegistration==="props"&&_()},{immediate:!0});function _(){const y=new Map,C=new Map,T=new Set,P=Ui(e)?k=>wn(k.raw):k=>k.value,F=[...t.value];let I=0;for(;I<F.length;){const k=F[I++],M=P(k);if(k.children){const V=[];for(const U of k.children){const $=P(U);y.set($,M),V.push($),F.push(U)}C.set(M,V)}k.props.disabled&&T.add(M)}o.value=C,i.value=y,a.value=T}const S={id:It(),root:{opened:s,activatable:ze(()=>n.activatable),selectable:ze(()=>n.selectable),activated:d,selected:f,selectedValues:ae(()=>{const y=[];for(const[C,T]of f.value.entries())T==="on"&&y.push(C);return y}),itemsRegistration:ze(()=>n.itemsRegistration),register:(y,C,T,P)=>{if(v.has(y)){h(y).map(String).join(" -> "),h(C).concat(y).map(String).join(" -> ");return}else v.add(y);C&&y!==C&&i.value.set(y,C),T&&a.value.add(y),P&&o.value.set(y,[]),C!=null&&o.value.set(C,[...o.value.get(C)||[],y]),g()},unregister:y=>{if(r)return;v.delete(y),o.value.delete(y),a.value.delete(y);const C=i.value.get(y);if(C){const T=o.value.get(C)??[];o.value.set(C,T.filter(P=>P!==y))}i.value.delete(y),g()},updateDisabled:(y,C)=>{C?a.value.add(y):a.value.delete(y)},open:(y,C,T)=>{p.emit("click:open",{id:y,value:C,path:h(y),event:T});const P=c.value.open({id:y,value:C,opened:new Set(s.value),children:o.value,parents:i.value,event:T});P&&(s.value=P)},openOnSelect:(y,C,T)=>{const P=c.value.select({id:y,value:C,selected:new Map(f.value),opened:new Set(s.value),children:o.value,parents:i.value,event:T});P&&(s.value=P)},select:(y,C,T)=>{p.emit("click:select",{id:y,value:C,path:h(y),event:T});const P=u.value.select({id:y,value:C,selected:new Map(f.value),children:o.value,parents:i.value,disabled:a.value,event:T});P&&(f.value=P),S.root.openOnSelect(y,C,T)},activate:(y,C,T)=>{if(!n.activatable)return S.root.select(y,!0,T);p.emit("click:activate",{id:y,value:C,path:h(y),event:T});const P=l.value.activate({id:y,value:C,activated:new Set(d.value),children:o.value,parents:i.value,event:T});if(P.size!==d.value.size)d.value=P;else{for(const F of P)if(!d.value.has(F)){d.value=P;return}for(const F of d.value)if(!P.has(F)){d.value=P;return}}},children:o,parents:i,disabled:a,getPath:h}};return no(py,S),S.root},Uz=(n,t,e)=>{const r=Hn(py,Dz),o=Symbol("nested item"),i=ae(()=>{const s=wn(Ui(n));return s!==void 0?s:o}),a={...r,id:i,open:(s,l)=>r.root.open(i.value,s,l),openOnSelect:(s,l)=>r.root.openOnSelect(i.value,s,l),isOpen:ae(()=>r.root.opened.value.has(i.value)),parent:ae(()=>r.root.parents.value.get(i.value)),activate:(s,l)=>r.root.activate(i.value,s,l),isActivated:ae(()=>r.root.activated.value.has(i.value)),select:(s,l)=>r.root.select(i.value,s,l),isSelected:ae(()=>r.root.selected.value.get(i.value)==="on"),isIndeterminate:ae(()=>r.root.selected.value.get(i.value)==="indeterminate"),isLeaf:ae(()=>!r.root.children.value.get(i.value)),isGroupActivator:r.isGroupActivator};return zh(()=>{r.isGroupActivator||r.root.itemsRegistration.value==="props"||tr(()=>{r.root.register(i.value,r.id.value,Ui(t),e)})}),Ti(()=>{r.isGroupActivator||r.root.itemsRegistration.value==="props"||r.root.unregister(i.value)}),lt(i,(s,l)=>{r.isGroupActivator||r.root.itemsRegistration.value==="props"||(r.root.unregister(l),tr(()=>{r.root.register(s,r.id.value,Ui(t),e)}))}),lt(()=>Ui(t),s=>{r.root.updateDisabled(i.value,s)}),e&&no(py,a),a},rAe=()=>{const n=Hn(py,Dz);no(py,{...n,isGroupActivator:!0})},oAe=Vc({name:"VListGroupActivator",setup(n,t){let{slots:e}=t;return rAe(),()=>{var r;return(r=e.default)==null?void 0:r.call(e)}}}),iAe=it({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Tn,default:"$collapse"},disabled:Boolean,expandIcon:{type:Tn,default:"$expand"},rawId:[String,Number],prependIcon:Tn,appendIcon:Tn,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Cn(),...Br()},"VListGroup"),Dw=Dt()({name:"VListGroup",props:iAe(),setup(n,t){let{slots:e}=t;const{isOpen:r,open:o,id:i}=Uz(()=>n.value,()=>n.disabled,!0),a=ae(()=>`v-list-group--id-${String(n.rawId??i.value)}`),s=Oz(),{isBooted:l}=V_(),u=Hn(py),c=ze(()=>{var v;return((v=u==null?void 0:u.root)==null?void 0:v.itemsRegistration.value)==="render"});function d(v){var g;["INPUT","TEXTAREA"].includes((g=v.target)==null?void 0:g.tagName)||o(!r.value,v)}const f=ae(()=>({onClick:d,class:"v-list-group__header",id:a.value})),h=ae(()=>r.value?n.collapseIcon:n.expandIcon),p=ae(()=>({VListItem:{activeColor:n.activeColor,baseColor:n.baseColor,color:n.color,prependIcon:n.prependIcon||n.subgroup&&h.value,appendIcon:n.appendIcon||!n.subgroup&&h.value,title:n.title,value:n.value}}));return Kt(()=>x(n.tag,{class:pt(["v-list-group",{"v-list-group--prepend":s==null?void 0:s.hasPrepend.value,"v-list-group--fluid":n.fluid,"v-list-group--subgroup":n.subgroup,"v-list-group--open":r.value},n.class]),style:Ue(n.style)},{default:()=>[e.activator&&x(Lr,{defaults:p.value},{default:()=>[x(oAe,null,{default:()=>[e.activator({props:f.value,isOpen:r.value})]})]}),x(Du,{transition:{component:ZL},disabled:!l.value},{default:()=>{var v,g;return[c.value?Qn(H("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(v=e.default)==null?void 0:v.call(e)]),[[Ju,r.value]]):r.value&&H("div",{class:"v-list-group__items",role:"group","aria-labelledby":a.value},[(g=e.default)==null?void 0:g.call(e)])]}})]})),{isOpen:r}}}),aAe=it({opacity:[Number,String],...Cn(),...Br()},"VListItemSubtitle"),sAe=Dt()({name:"VListItemSubtitle",props:aAe(),setup(n,t){let{slots:e}=t;return Kt(()=>x(n.tag,{class:pt(["v-list-item-subtitle",n.class]),style:Ue([{"--v-list-item-subtitle-opacity":n.opacity},n.style])},e)),{}}}),wh=L_("v-list-item-title"),lAe=it({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Tn,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Tn,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,prependGap:[Number,String],subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:ma(),onClickOnce:ma(),...Zu(),...Cn(),...Va(),...As(),...tl(),...Hi(),...Hk(),...Br(),...Zr(),...Rc({variant:"text"})},"VListItem"),Cr=Dt()({name:"VListItem",directives:{vRipple:su},props:lAe(),emits:{click:n=>!0},setup(n,t){let{attrs:e,slots:r,emit:o}=t;const i=Rk(n,e),a=ae(()=>n.value===void 0?i.href.value:n.value),{activate:s,isActivated:l,select:u,isOpen:c,isSelected:d,isIndeterminate:f,isGroupActivator:h,root:p,parent:v,openOnSelect:g,id:_}=Uz(a,()=>n.disabled,!1),S=Oz(),y=ae(()=>{var se;return n.active!==!1&&(n.active||((se=i.isActive)==null?void 0:se.value)||(p.activatable.value?l.value:d.value))}),C=ze(()=>n.link!==!1&&i.isLink.value),T=ae(()=>!!S&&(p.selectable.value||p.activatable.value||n.value!=null)),P=ae(()=>!n.disabled&&n.link!==!1&&(n.link||i.isClickable.value||T.value)),F=ae(()=>S?C.value?"link":T.value?"option":"listitem":void 0),I=ae(()=>{if(T.value)return p.activatable.value?l.value:p.selectable.value?d.value:y.value}),k=ze(()=>n.rounded||n.nav),M=ze(()=>n.color??n.activeColor),V=ze(()=>({color:y.value?M.value??n.baseColor:n.baseColor,variant:n.variant}));lt(()=>{var se;return(se=i.isActive)==null?void 0:se.value},se=>{se&&U()}),zh(()=>{var se;(se=i.isActive)!=null&&se.value&&tr(()=>U())});function U(){v.value!=null&&p.open(v.value,!0),g(!0)}const{themeClasses:$}=Co(n),{borderClasses:Q}=Nc(n),{colorClasses:J,colorStyles:R,variantClasses:ne}=rv(V),{densityClasses:ue}=qu(n),{dimensionStyles:we}=hs(n),{elevationClasses:Be}=Ul(n),{roundedClasses:We}=Zi(k),pe=ze(()=>n.lines?`v-list-item--${n.lines}-line`:void 0),_e=ze(()=>n.ripple!==void 0&&n.ripple&&(S!=null&&S.filterable)?{keys:["Enter"]}:n.ripple),Ce=ae(()=>({isActive:y.value,select:u,isOpen:c.value,isSelected:d.value,isIndeterminate:f.value}));function ve(se){var Te,je;o("click",se),!["INPUT","TEXTAREA"].includes((Te=se.target)==null?void 0:Te.tagName)&&P.value&&((je=i.navigate)==null||je.call(i,se),!h&&(p.activatable.value?s(!l.value,se):(p.selectable.value||n.value!=null&&!C.value)&&u(!d.value,se)))}function Qe(se){const Te=se.target;["INPUT","TEXTAREA"].includes(Te.tagName)||(se.key==="Enter"||se.key===" "&&!(S!=null&&S.filterable))&&(se.preventDefault(),se.stopPropagation(),se.target.dispatchEvent(new MouseEvent("click",se)))}return Kt(()=>{const se=C.value?"a":n.tag,Te=r.title||n.title!=null,je=r.subtitle||n.subtitle!=null,nt=!!(n.appendAvatar||n.appendIcon),tt=!!(nt||r.append),ot=!!(n.prependAvatar||n.prependIcon),ye=!!(ot||r.prepend);return S==null||S.updateHasPrepend(ye),n.activeColor&&PK("active-color",["color","base-color"]),Qn(x(se,bt(i.linkProps,{class:["v-list-item",{"v-list-item--active":y.value,"v-list-item--disabled":n.disabled,"v-list-item--link":P.value,"v-list-item--nav":n.nav,"v-list-item--slim":n.slim,[`${n.activeClass}`]:n.activeClass&&y.value},$.value,Q.value,J.value,ue.value,Be.value,pe.value,We.value,ne.value,n.class],style:[{"--v-list-prepend-gap":$t(n.prependGap)},R.value,we.value,n.style],tabindex:P.value?S?-2:0:void 0,"aria-selected":I.value,role:F.value,onClick:ve,onKeydown:P.value&&!C.value&&Qe}),{default:()=>{var be;return[nv(P.value||y.value,"v-list-item"),ye&&H("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?x(Lr,{key:"prepend-defaults",disabled:!ot,defaults:{VAvatar:{density:n.density,image:n.prependAvatar},VIcon:{density:n.density,icon:n.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var me;return[(me=r.prepend)==null?void 0:me.call(r,Ce.value)]}}):H(ut,null,[n.prependAvatar&&x(Nh,{key:"prepend-avatar",density:n.density,image:n.prependAvatar},null),n.prependIcon&&x(en,{key:"prepend-icon",density:n.density,icon:n.prependIcon},null)]),H("div",{class:"v-list-item__spacer"},null)]),H("div",{class:"v-list-item__content","data-no-activator":""},[Te&&x(wh,{key:"title"},{default:()=>{var me;return[((me=r.title)==null?void 0:me.call(r,{title:n.title}))??at(n.title)]}}),je&&x(sAe,{key:"subtitle"},{default:()=>{var me;return[((me=r.subtitle)==null?void 0:me.call(r,{subtitle:n.subtitle}))??at(n.subtitle)]}}),(be=r.default)==null?void 0:be.call(r,Ce.value)]),tt&&H("div",{key:"append",class:"v-list-item__append"},[r.append?x(Lr,{key:"append-defaults",disabled:!nt,defaults:{VAvatar:{density:n.density,image:n.appendAvatar},VIcon:{density:n.density,icon:n.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var me;return[(me=r.append)==null?void 0:me.call(r,Ce.value)]}}):H(ut,null,[n.appendIcon&&x(en,{key:"append-icon",density:n.density,icon:n.appendIcon},null),n.appendAvatar&&x(Nh,{key:"append-avatar",density:n.density,image:n.appendAvatar},null)]),H("div",{class:"v-list-item__spacer"},null)])]}}),[[su,P.value&&_e.value]])}),{activate:s,isActivated:l,isGroupActivator:h,isSelected:d,list:S,select:u,root:p,id:_,link:i}}}),uAe=it({color:String,inset:Boolean,sticky:Boolean,title:String,...Cn(),...Br()},"VListSubheader"),uV=Dt()({name:"VListSubheader",props:uAe(),setup(n,t){let{slots:e}=t;const{textColorClasses:r,textColorStyles:o}=Il(()=>n.color);return Kt(()=>{const i=!!(e.default||n.title);return x(n.tag,{class:pt(["v-list-subheader",{"v-list-subheader--inset":n.inset,"v-list-subheader--sticky":n.sticky},r.value,n.class]),style:Ue([{textColorStyles:o},n.style])},{default:()=>{var a;return[i&&H("div",{class:"v-list-subheader__text"},[((a=e.default)==null?void 0:a.call(e))??n.title])]}})}),{}}}),cAe=it({items:Array,returnObject:Boolean},"VListChildren"),Lz=Dt()({name:"VListChildren",props:cAe(),setup(n,t){let{slots:e}=t;return Tz(),()=>{var r,o;return((r=e.default)==null?void 0:r.call(e))??((o=n.items)==null?void 0:o.map(i=>{var f,h;let{children:a,props:s,type:l,raw:u}=i;if(l==="divider")return((f=e.divider)==null?void 0:f.call(e,{props:s}))??x(Dd,s,null);if(l==="subheader")return((h=e.subheader)==null?void 0:h.call(e,{props:s}))??x(uV,s,null);const c={subtitle:e.subtitle?p=>{var v;return(v=e.subtitle)==null?void 0:v.call(e,{...p,item:u})}:void 0,prepend:e.prepend?p=>{var v;return(v=e.prepend)==null?void 0:v.call(e,{...p,item:u})}:void 0,append:e.append?p=>{var v;return(v=e.append)==null?void 0:v.call(e,{...p,item:u})}:void 0,title:e.title?p=>{var v;return(v=e.title)==null?void 0:v.call(e,{...p,item:u})}:void 0},d=Dw.filterProps(s);return a?x(Dw,bt(d,{value:n.returnObject?u:s==null?void 0:s.value,rawId:s==null?void 0:s.value}),{activator:p=>{let{props:v}=p;const g=bt(s,v,{value:n.returnObject?u:s.value});return e.header?e.header({props:g}):x(Cr,g,c)},default:()=>x(Lz,{items:a,returnObject:n.returnObject},e)}):e.item?e.item({props:s}):x(Cr,bt(s,{value:n.returnObject?u:s.value}),c)}))}}}),Vz=it({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},itemType:{type:[Boolean,String,Array,Function],default:"type"},returnObject:Boolean,valueComparator:Function},"list-items"),dAe=new Set(["item","divider","subheader"]);function xc(n,t){const e=rs(t,n.itemTitle,t),r=rs(t,n.itemValue,e),o=rs(t,n.itemChildren),i=n.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?Ir(t,["children"]):t:void 0:rs(t,n.itemProps);let a=rs(t,n.itemType,"item");dAe.has(a)||(a="item");const s={title:e,value:r,...i};return{type:a,title:String(s.title??""),value:s.value,props:s,children:a==="item"&&Array.isArray(o)?Nz(n,o):void 0,raw:t}}xc.neededProps=["itemTitle","itemValue","itemChildren","itemProps","itemType"];function Nz(n,t){const e=Od(n,xc.neededProps),r=[];for(const o of t)r.push(xc(e,o));return r}function Rz(n){const t=ae(()=>Nz(n,n.items)),e=ae(()=>t.value.some(s=>s.value===null)),r=It(new Map),o=It([]);mo(()=>{const s=t.value,l=new Map,u=[];for(let c=0;c<s.length;c++){const d=s[c];if(Lh(d.value)||d.value===null){let f=l.get(d.value);f||(f=[],l.set(d.value,f)),f.push(d)}else u.push(d)}r.value=l,o.value=u});function i(s){const l=r.value,u=t.value,c=o.value,d=e.value,f=n.returnObject,h=!!n.valueComparator,p=n.valueComparator||Ua,v=Od(n,xc.neededProps),g=[];e:for(const _ of s){if(!d&&_===null)continue;if(f&&typeof _=="string"){g.push(xc(v,_));continue}const S=l.get(_);if(h||!S){for(const y of h?u:c)if(p(_,y.value)){g.push(y);continue e}g.push(xc(v,_));continue}g.push(...S)}return g}function a(s){return n.returnObject?s.map(l=>{let{raw:u}=l;return u}):s.map(l=>{let{value:u}=l;return u})}return{items:t,transformIn:i,transformOut:a}}const fAe=new Set(["item","divider","subheader"]);function AAe(n,t){const e=Lh(t)?t:rs(t,n.itemTitle),r=Lh(t)?t:rs(t,n.itemValue,void 0),o=rs(t,n.itemChildren),i=n.itemProps===!0?Ir(t,["children"]):rs(t,n.itemProps);let a=rs(t,n.itemType,"item");fAe.has(a)||(a="item");const s={title:e,value:r,...i};return{type:a,title:s.title,value:s.value,props:s,children:a==="item"&&o?Hz(n,o):void 0,raw:t}}function Hz(n,t){const e=[];for(const r of t)e.push(AAe(n,r));return e}function hAe(n){return{items:ae(()=>Hz(n,n.items))}}const pAe=it({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,filterable:Boolean,expandIcon:Tn,collapseIcon:Tn,lines:{type:[Boolean,String],default:"one"},slim:Boolean,prependGap:[Number,String],indent:[Number,String],nav:Boolean,"onClick:open":ma(),"onClick:select":ma(),"onUpdate:opened":ma(),...tAe({selectStrategy:"single-leaf",openStrategy:"list"}),...Zu(),...Cn(),...Va(),...As(),...tl(),...Vz(),...Hi(),...Br(),...Zr(),...Rc({variant:"text"})},"VList"),Dm=Dt()({name:"VList",props:pAe(),emits:{"update:selected":n=>!0,"update:activated":n=>!0,"update:opened":n=>!0,"click:open":n=>!0,"click:activate":n=>!0,"click:select":n=>!0},setup(n,t){let{slots:e}=t;const{items:r}=hAe(n),{themeClasses:o}=Co(n),{backgroundColorClasses:i,backgroundColorStyles:a}=Po(()=>n.bgColor),{borderClasses:s}=Nc(n),{densityClasses:l}=qu(n),{dimensionStyles:u}=hs(n),{elevationClasses:c}=Ul(n),{roundedClasses:d}=Zi(n),{children:f,open:h,parents:p,select:v,getPath:g}=nAe(n,r,()=>n.returnObject),_=ze(()=>n.lines?`v-list--${n.lines}-line`:void 0),S=ze(()=>n.activeColor),y=ze(()=>n.baseColor),C=ze(()=>n.color),T=ze(()=>n.selectable||n.activatable);Tz({filterable:n.filterable}),Pl({VListGroup:{activeColor:S,baseColor:y,color:C,expandIcon:ze(()=>n.expandIcon),collapseIcon:ze(()=>n.collapseIcon)},VListItem:{activeClass:ze(()=>n.activeClass),activeColor:S,baseColor:y,color:C,density:ze(()=>n.density),disabled:ze(()=>n.disabled),lines:ze(()=>n.lines),nav:ze(()=>n.nav),slim:ze(()=>n.slim),variant:ze(()=>n.variant)}});const P=It(!1),F=Oe();function I(Q){P.value=!0}function k(Q){P.value=!1}function M(Q){var J;!P.value&&!(Q.relatedTarget&&((J=F.value)!=null&&J.contains(Q.relatedTarget)))&&$()}function V(Q){const J=Q.target;if(!(!F.value||J.tagName==="INPUT"&&["Home","End"].includes(Q.key)||J.tagName==="TEXTAREA")){if(Q.key==="ArrowDown")$("next");else if(Q.key==="ArrowUp")$("prev");else if(Q.key==="Home")$("first");else if(Q.key==="End")$("last");else return;Q.preventDefault()}}function U(Q){P.value=!0}function $(Q){if(F.value)return Mb(F.value,Q)}return Kt(()=>{const Q=n.indent??(n.prependGap?Number(n.prependGap)+24:void 0);return x(n.tag,{ref:F,class:pt(["v-list",{"v-list--disabled":n.disabled,"v-list--nav":n.nav,"v-list--slim":n.slim},o.value,i.value,s.value,l.value,c.value,_.value,d.value,n.class]),style:Ue([{"--v-list-indent":$t(Q),"--v-list-group-prepend":Q?"0px":void 0,"--v-list-prepend-gap":$t(n.prependGap)},a.value,u.value,n.style]),tabindex:n.disabled?-1:0,role:T.value?"listbox":"list","aria-activedescendant":void 0,onFocusin:I,onFocusout:k,onFocus:M,onKeydown:V,onMousedown:U},{default:()=>[x(Lz,{items:r.value,returnObject:n.returnObject},e)]})}),{open:h,select:v,focus:$,children:f,parents:p,getPath:g}}});function mAe(n){let{rootEl:t,isSticky:e,layoutItemStyles:r}=n;const o=It(!1),i=It(0),a=ae(()=>{const u=typeof o.value=="boolean"?"top":o.value;return[e.value?{top:"auto",bottom:"auto",height:void 0}:void 0,o.value?{[u]:$t(i.value)}:{top:r.value.top}]});Kn(()=>{lt(e,u=>{u?window.addEventListener("scroll",l,{passive:!0}):window.removeEventListener("scroll",l)},{immediate:!0})}),Ti(()=>{window.removeEventListener("scroll",l)});let s=0;function l(){const u=s>window.scrollY?"up":"down",c=t.value.getBoundingClientRect(),d=parseFloat(r.value.top??0),f=window.scrollY-Math.max(0,i.value-d),h=c.height+Math.max(i.value,d)-window.scrollY-window.innerHeight,p=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-d?(o.value="top",i.value=d):u==="up"&&o.value==="bottom"||u==="down"&&o.value==="top"?(i.value=window.scrollY+c.top-p,o.value=!0):u==="down"&&h<=0?(i.value=0,o.value="bottom"):u==="up"&&f<=0&&(p?o.value!=="top"&&(i.value=-f+p+d,o.value="top"):(i.value=c.top+f,o.value="top")),s=window.scrollY}return{isStuck:o,stickyStyles:a}}const vAe=100,gAe=20;function B4(n){return(n<0?-1:1)*Math.sqrt(Math.abs(n))*1.41421356237}function k4(n){if(n.length<2)return 0;if(n.length===2)return n[1].t===n[0].t?0:(n[1].d-n[0].d)/(n[1].t-n[0].t);let t=0;for(let e=n.length-1;e>0;e--){if(n[e].t===n[e-1].t)continue;const r=B4(t),o=(n[e].d-n[e-1].d)/(n[e].t-n[e-1].t);t+=(o-r)*Math.abs(o),e===n.length-1&&(t*=.5)}return B4(t)*1e3}function yAe(){const n={};function t(o){Array.from(o.changedTouches).forEach(i=>{(n[i.identifier]??(n[i.identifier]=new LK(gAe))).push([o.timeStamp,i])})}function e(o){Array.from(o.changedTouches).forEach(i=>{delete n[i.identifier]})}function r(o){var u;const i=(u=n[o])==null?void 0:u.values().reverse();if(!i)throw new Error(`No samples for touch id ${o}`);const a=i[0],s=[],l=[];for(const c of i){if(a[0]-c[0]>vAe)break;s.push({t:c[0],d:c[1].clientX}),l.push({t:c[0],d:c[1].clientY})}return{x:k4(s),y:k4(l),get direction(){const{x:c,y:d}=this,[f,h]=[Math.abs(c),Math.abs(d)];return f>h&&c>=0?"right":f>h&&c<=0?"left":h>f&&d>=0?"down":h>f&&d<=0?"up":bAe()}}}return{addMovement:t,endTouch:e,getVelocity:r}}function bAe(){throw new Error}function wAe(n){let{el:t,isActive:e,isTemporary:r,width:o,touchless:i,position:a}=n;Kn(()=>{window.addEventListener("touchstart",S,{passive:!0}),window.addEventListener("touchmove",y,{passive:!1}),window.addEventListener("touchend",C,{passive:!0})}),Ti(()=>{window.removeEventListener("touchstart",S),window.removeEventListener("touchmove",y),window.removeEventListener("touchend",C)});const s=ae(()=>["left","right"].includes(a.value)),{addMovement:l,endTouch:u,getVelocity:c}=yAe();let d=!1;const f=It(!1),h=It(0),p=It(0);let v;function g(P,F){return(a.value==="left"?P:a.value==="right"?document.documentElement.clientWidth-P:a.value==="top"?P:a.value==="bottom"?document.documentElement.clientHeight-P:jv())-(F?o.value:0)}function _(P){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const I=a.value==="left"?(P-p.value)/o.value:a.value==="right"?(document.documentElement.clientWidth-P-p.value)/o.value:a.value==="top"?(P-p.value)/o.value:a.value==="bottom"?(document.documentElement.clientHeight-P-p.value)/o.value:jv();return F?To(I):I}function S(P){if(i.value)return;const F=P.changedTouches[0].clientX,I=P.changedTouches[0].clientY,k=25,M=a.value==="left"?F<k:a.value==="right"?F>document.documentElement.clientWidth-k:a.value==="top"?I<k:a.value==="bottom"?I>document.documentElement.clientHeight-k:jv(),V=e.value&&(a.value==="left"?F<o.value:a.value==="right"?F>document.documentElement.clientWidth-o.value:a.value==="top"?I<o.value:a.value==="bottom"?I>document.documentElement.clientHeight-o.value:jv());(M||V||e.value&&r.value)&&(v=[F,I],p.value=g(s.value?F:I,e.value),h.value=_(s.value?F:I),d=p.value>-20&&p.value<80,u(P),l(P))}function y(P){const F=P.changedTouches[0].clientX,I=P.changedTouches[0].clientY;if(d){if(!P.cancelable){d=!1;return}const M=Math.abs(F-v[0]),V=Math.abs(I-v[1]);(s.value?M>V&&M>3:V>M&&V>3)?(f.value=!0,d=!1):(s.value?V:M)>3&&(d=!1)}if(!f.value)return;P.preventDefault(),l(P);const k=_(s.value?F:I,!1);h.value=Math.max(0,Math.min(1,k)),k>1?p.value=g(s.value?F:I,!0):k<0&&(p.value=g(s.value?F:I,!1))}function C(P){if(d=!1,!f.value)return;l(P),f.value=!1;const F=c(P.changedTouches[0].identifier),I=Math.abs(F.x),k=Math.abs(F.y);(s.value?I>k&&I>400:k>I&&k>3)?e.value=F.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||jv()):e.value=h.value>.5}const T=ae(()=>f.value?{transform:a.value==="left"?`translateX(calc(-100% + ${h.value*o.value}px))`:a.value==="right"?`translateX(calc(100% - ${h.value*o.value}px))`:a.value==="top"?`translateY(calc(-100% + ${h.value*o.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${h.value*o.value}px))`:jv(),transition:"none"}:void 0);return zs(f,()=>{var I,k;const P=((I=t.value)==null?void 0:I.style.transform)??null,F=((k=t.value)==null?void 0:k.style.transition)??null;mo(()=>{var M,V,U,$;(V=t.value)==null||V.style.setProperty("transform",((M=T.value)==null?void 0:M.transform)||"none"),($=t.value)==null||$.style.setProperty("transition",((U=T.value)==null?void 0:U.transition)||null)}),Go(()=>{var M,V;(M=t.value)==null||M.style.setProperty("transform",P),(V=t.value)==null||V.style.setProperty("transition",F)})}),{isDragging:f,dragProgress:h,dragStyles:T}}function jv(){throw new Error}const _Ae=["start","end","left","right","top","bottom"],CAe=it({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:n=>_Ae.includes(n)},sticky:Boolean,...Zu(),...Cn(),...LW(),...R_({mobile:null}),...tl(),...UL(),...Hi(),...Ir(RW(),["disableInitialFocus"]),...Br({tag:"nav"}),...Zr()},"VNavigationDrawer"),Qz=Dt()({name:"VNavigationDrawer",props:CAe(),emits:{"update:modelValue":n=>!0,"update:rail":n=>!0},setup(n,t){let{attrs:e,emit:r,slots:o}=t;const{isRtl:i}=Ji(),{themeClasses:a}=Co(n),{borderClasses:s}=Nc(n),{backgroundColorClasses:l,backgroundColorStyles:u}=Po(()=>n.color),{elevationClasses:c}=Ul(n),{displayClasses:d,mobile:f}=dA(n),{roundedClasses:h}=Zi(n),p=BW(),v=Mn(n,"modelValue",null,Be=>!!Be),{ssrBootStyles:g}=V_(),{scopeId:_}=iv(),S=Oe(),y=It(!1),{runOpenDelay:C,runCloseDelay:T}=VW(n,Be=>{y.value=Be}),P=ae(()=>n.rail&&n.expandOnHover&&y.value?Number(n.width):Number(n.rail?n.railWidth:n.width)),F=ae(()=>oF(n.location,i.value)),I=ze(()=>n.persistent),k=ae(()=>!n.permanent&&(f.value||n.temporary)),M=ae(()=>n.sticky&&!k.value&&F.value!=="bottom");HW(n,{isActive:v,localTop:k,contentEl:S}),zs(()=>n.expandOnHover&&n.rail!=null,()=>{lt(y,Be=>r("update:rail",!Be))}),zs(()=>!n.disableResizeWatcher,()=>{lt(k,Be=>!n.permanent&&tr(()=>v.value=!Be))}),zs(()=>!n.disableRouteWatcher&&!!p,()=>{lt(p.currentRoute,()=>k.value&&(v.value=!1))}),lt(()=>n.permanent,Be=>{Be&&(v.value=!0)}),n.modelValue==null&&!k.value&&(v.value=n.permanent||!f.value);const{isDragging:V,dragProgress:U}=wAe({el:S,isActive:v,isTemporary:k,width:P,touchless:ze(()=>n.touchless),position:F}),$=ae(()=>{const Be=k.value?0:n.rail&&n.expandOnHover?Number(n.railWidth):P.value;return V.value?Be*U.value:Be}),{layoutItemStyles:Q,layoutItemScrimStyles:J}=LL({id:n.name,order:ae(()=>parseInt(n.order,10)),position:F,layoutSize:$,elementSize:P,active:Fh(v),disableTransitions:ze(()=>V.value),absolute:ae(()=>n.absolute||M.value&&typeof R.value!="string")}),{isStuck:R,stickyStyles:ne}=mAe({rootEl:S,isSticky:M,layoutItemStyles:Q}),ue=Po(()=>typeof n.scrim=="string"?n.scrim:null),we=ae(()=>({...V.value?{opacity:U.value*.2,transition:"none"}:void 0,...J.value}));return Pl({VList:{bgColor:"transparent"}}),Kt(()=>{const Be=o.image||n.image;return H(ut,null,[x(n.tag,bt({ref:S,onMouseenter:C,onMouseleave:T,class:["v-navigation-drawer",`v-navigation-drawer--${F.value}`,{"v-navigation-drawer--expand-on-hover":n.expandOnHover,"v-navigation-drawer--floating":n.floating,"v-navigation-drawer--is-hovering":y.value,"v-navigation-drawer--rail":n.rail,"v-navigation-drawer--temporary":k.value,"v-navigation-drawer--persistent":I.value,"v-navigation-drawer--active":v.value,"v-navigation-drawer--sticky":M.value},a.value,l.value,s.value,d.value,c.value,h.value,n.class],style:[u.value,Q.value,g.value,ne.value,n.style],inert:!v.value},_,e),{default:()=>{var We,pe,_e;return[Be&&H("div",{key:"image",class:"v-navigation-drawer__img"},[o.image?x(Lr,{key:"image-defaults",disabled:!n.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:n.image}}},o.image):x(Gu,{key:"image-img",alt:"",cover:!0,height:"inherit",src:n.image},null)]),o.prepend&&H("div",{class:"v-navigation-drawer__prepend"},[(We=o.prepend)==null?void 0:We.call(o)]),H("div",{class:"v-navigation-drawer__content"},[(pe=o.default)==null?void 0:pe.call(o)]),o.append&&H("div",{class:"v-navigation-drawer__append"},[(_e=o.append)==null?void 0:_e.call(o)])]}}),x(oA,{name:"fade-transition"},{default:()=>[k.value&&(V.value||v.value)&&!!n.scrim&&H("div",bt({class:["v-navigation-drawer__scrim",ue.backgroundColorClasses.value],style:[we.value,ue.backgroundColorStyles.value],onClick:()=>{I.value||(v.value=!1)}},_),null)]})])}),{isStuck:R}}}),SAe={key:0,class:"d-flex align-center"},xAe={key:1},EAe={class:"text-grey-lighten-1"},du=rn({__name:"AppLayout",setup(n){const t=P_(),e=Vt(),{SetState:r}=e,o=ae(()=>t.path=="/proposals/"),{sidebar:i,profile:a,backend_theme:s}=Lt(e),{global_loading:l,hide_layout:u,proposals:c}=Lt(e),d=()=>{r({sidebar:!i.value})},f=(h=>h?c.value.filter(p=>p.status==h&&p.partner_id==vr.value).length:c.value.filter(p=>p.partner_id==vr.value).length);return(h,p)=>{const v=Rfe,g=Dfe,_=Cfe,S=_fe,y=wfe,C=ffe,T=dfe,P=cfe,F=efe,I=$W;return le(),Re(NL,{style:Ue(O(cde)),id:"backend-app",theme:O(s),class:"outfit-font"},{default:N(()=>[x(kz,{class:"d-flex flex-column fill-height"},{default:N(()=>[O(u)?xt("",!0):(le(),Re(Ez,{key:0,class:"layout-appbar elevation-0 border-b",prominent:"",style:Ue(O(Ade))},{default:N(()=>[x(Bz,{variant:"text",onClick:d}),x(v),x(En),O(l)?(le(),et("div",SAe,[...p[1]||(p[1]=[H("div",null,"Fetching data...",-1)])])):(le(),et("div",xAe,[H("span",null,at(O(Im)?O(Im):"Loading")+"  ",1),Ar(h.$slots,"title")])),x(En),x(g),O(a)?xt("",!0):(le(),Re(_,{key:2})),O(a)?(le(),Re(S,{key:3})):xt("",!0)]),_:3},8,["style"])),O(u)?xt("",!0):(le(),Re(Qz,{key:1,style:Ue(O(fde)),class:"layout-sidebar",modelValue:O(i),"onUpdate:modelValue":p[0]||(p[0]=k=>Ht(i)?i.value=k:null),location:"left",prominent:""},{default:N(()=>[O(a)?(le(),Re(Dm,{key:0},{default:N(()=>[x(Cr,{title:O(a).name,subtitle:O(a).email,"prepend-avatar":O(a).picture},{default:N(()=>[H("small",EAe,[H("i",null,at(O(a).role),1)])]),_:1},8,["title","subtitle","prepend-avatar"])]),_:1})):xt("",!0),x(Dm,null,{default:N(()=>[x(Cr,{to:"/"},{default:N(()=>[x(wh,null,{default:N(()=>[x(y,{icon:"dashboard"},{default:N(()=>[...p[2]||(p[2]=[Je("Dashboard",-1)])]),_:1})]),_:1})]),_:1}),x(Dw,{class:"proposals-list-group",value:"proposals"},{activator:N(({props:k})=>[x(Cr,Ih(Dh(k)),{default:N(()=>[x(y,{icon:"all-proposals"},{default:N(()=>[...p[3]||(p[3]=[Je("Proposals",-1)])]),_:1})]),_:1},16)]),default:N(()=>[x(Cr,{href:"/proposals/create"},{default:N(()=>[x(y,{icon:"new-proposal"},{default:N(()=>[...p[4]||(p[4]=[Je("New Proposal",-1)])]),_:1})]),_:1}),x(Cr,{class:"d-flex align-center",to:"/proposals/",active:O(o)},{default:N(()=>[x(y,{icon:"all-proposals",chip:f("")},{default:N(()=>[...p[5]||(p[5]=[Je(" All Proposals ",-1)])]),_:1},8,["chip"])]),_:1},8,["active"]),x(Cr,{to:"/proposals/accepted"},{default:N(()=>[x(y,{icon:"accepted",chip:f("accepted")},{default:N(()=>[...p[6]||(p[6]=[Je(" Accepted ",-1)])]),_:1},8,["chip"])]),_:1}),x(Cr,{to:"/proposals/declined"},{default:N(()=>[x(y,{icon:"declined",chip:f("declined")},{default:N(()=>[...p[7]||(p[7]=[Je(" Declined ",-1)])]),_:1},8,["chip"])]),_:1}),x(Cr,{to:"/proposals/drafts"},{default:N(()=>[x(y,{icon:"drafts",chip:f("draft")},{default:N(()=>[...p[8]||(p[8]=[Je(" Drafts ",-1)])]),_:1},8,["chip"])]),_:1})]),_:1}),x(Cr,{to:"/inventory"},{default:N(()=>[x(y,{icon:"inventory"},{default:N(()=>[...p[9]||(p[9]=[Je("Inventory",-1)])]),_:1})]),_:1}),x(Cr,{to:"/providers"},{default:N(()=>[x(y,{icon:"providers"},{default:N(()=>[...p[10]||(p[10]=[Je("Financing Providers",-1)])]),_:1})]),_:1}),x(Cr,{to:"/templates"},{default:N(()=>[x(y,{icon:"templates"},{default:N(()=>[...p[11]||(p[11]=[Je("Proposal Templates",-1)])]),_:1})]),_:1}),x(Cr,{to:"/it-services"},{default:N(()=>[x(y,{icon:"it-services"},{default:N(()=>[...p[12]||(p[12]=[Je("IT Services",-1)])]),_:1})]),_:1}),x(Dw,{class:"settings-list-group",value:"settings"},{activator:N(({props:k})=>[x(Cr,Ih(Dh(k)),{default:N(()=>[x(y,{icon:"settings"},{default:N(()=>[...p[13]||(p[13]=[Je("Settings",-1)])]),_:1})]),_:1},16)]),default:N(()=>[x(Cr,{style:{"padding-left":"80px !important"},to:"/settings/profile",title:"My Profile"}),x(Cr,{style:{"padding-left":"80px !important"},to:"/settings/business",title:"Business Profile"}),O(JW)||O(Xx)?(le(),Re(Cr,{key:0,style:{"padding-left":"80px !important"},to:"/settings/users",title:"User Accounts"})):xt("",!0),x(Cr,{style:{"padding-left":"80px !important"},to:"/settings/proposal",title:"Proposal Setting"}),x(Cr,{style:{"padding-left":"80px !important"},to:"/settings/custom-fields",title:"Custom Fields"}),x(Cr,{style:{"padding-left":"80px !important"},to:"/settings/addons",title:"Addons"})]),_:1}),O(Xx)?(le(),et(ut,{key:0},[x(Dd),x(Cr,{to:"/partners"},{default:N(()=>[x(y,{icon:"partners"},{default:N(()=>[...p[14]||(p[14]=[Je("Partners",-1)])]),_:1})]),_:1}),x(Cr,{to:"/users"},{default:N(()=>[x(y,{icon:"users"},{default:N(()=>[...p[15]||(p[15]=[Je("Users",-1)])]),_:1})]),_:1})],64)):xt("",!0)]),_:1}),Ar(h.$slots,"sidebar")]),_:3},8,["style","modelValue"])),x(RL,{style:{background:"none"}},{default:N(()=>[x(Fn,{class:pt(`${O(u)?"pa-1":""}`)},{default:N(()=>[Ar(h.$slots,"content")]),_:3},8,["class"])]),_:3}),h.$slots.footer?(le(),Re(Y_,{key:2,app:"",class:pt(`layout-footer border-t ${O(u)?"pa-1":""}`),style:Ue(O(zr))},{default:N(()=>[Ar(h.$slots,"footer")]),_:3},8,["class","style"])):xt("",!0)]),_:3}),x(C),x(T),x(P),x(F),x(I)]),_:3},8,["style","theme"])}}}),$v={__name:"LinkCard",props:["title","icon","href"],setup(n){const t=tv(),e=Vt(),{backend_theme:r}=Lt(e),o=n,i=ae(()=>r.value==="light"?`/assets/img/sidebar/dark/${o.icon}.png`:`/assets/img/sidebar/light/${o.icon}.png`);return(a,s)=>(le(),Re(cr,{theme:O(r),style:Ue(O(bh)),onClick:s[0]||(s[0]=l=>O(t).push(n.href))},{default:N(()=>[x(Mw,{style:Ue(O(dde)),density:"compact",class:"text-center"},{default:N(()=>[x(Xk,null,{default:N(()=>[Je(at(n.title),1)]),_:1})]),_:1},8,["style"]),x(Fn,{class:"text-center"},{default:N(()=>[x(Gu,{width:"100",height:"100",class:"ma-auto",src:O(i)},null,8,["src"])]),_:1})]),_:1},8,["theme","style"]))}},jz={__name:"index",setup(n){return tv(),(t,e)=>{const r=du;return le(),Re(r,null,{title:N(()=>[...e[0]||(e[0]=[Je("Homepage",-1)])]),content:N(()=>[x(Xn,{class:"mt-lg-5"},{default:N(()=>[x(wt,{cols:"12",lg:"8",md:"8","offset-lg":"2","offset-md":"2"},{default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[x($v,{title:"Create a Proposal",href:"/proposals/create",icon:"new-proposal"})]),_:1}),x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[x($v,{title:"View All Proposals",href:"/proposals",icon:"all-proposals"})]),_:1}),x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[x($v,{title:"Inventory",href:"/pricing",icon:"inventory"})]),_:1}),x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[x($v,{title:"Financing Providers",href:"/providers",icon:"providers"})]),_:1}),x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[x($v,{title:"Proposal Templates",href:"/templates",icon:"templates"})]),_:1}),x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[x($v,{title:"IT Services",href:"/it-services",icon:"it-services"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}},BAe=Object.freeze(Object.defineProperty({__proto__:null,default:jz},Symbol.toStringTag,{value:"Module"})),kAe={};function TAe(n,t){return le(),Re(Ode,{class:"fill-height",fluid:""},{default:N(()=>[x(Xn,{align:"center",justify:"center"},{default:N(()=>[x(wt,{cols:"12",md:"8",lg:"6",class:"text-center"},{default:N(()=>[x(en,{color:"primary",size:"96"},{default:N(()=>[...t[0]||(t[0]=[Je("mdi-alert-circle-outline",-1)])]),_:1}),t[2]||(t[2]=H("h1",{class:"text-h3 font-weight-bold mt-4"},"404 - Page Not Found",-1)),t[3]||(t[3]=H("p",{class:"text-subtitle-1 mt-2"}," The page youre looking for doesnt exist. ",-1)),x($e,{variant:"text",color:"primary",class:"mt-6",to:"/"},{default:N(()=>[...t[1]||(t[1]=[Je(" Back to Homepage ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})}const OAe=ps(kAe,[["render",TAe]]),PAe=Object.freeze(Object.defineProperty({__proto__:null,default:OAe},Symbol.toStringTag,{value:"Module"})),IAe={__name:"dashboard",setup(n){return(t,e)=>(le(),Re(jz))}},MAe=Object.freeze(Object.defineProperty({__proto__:null,default:IAe},Symbol.toStringTag,{value:"Module"})),FAe={props:["offset","columns"]};function DAe(n,t,e,r,o,i){return le(),Re(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:e.columns,md:e.columns,sm:"12","offset-lg":e.offset,"offset-md":e.offset},{default:N(()=>[Ar(n.$slots,"default")]),_:3},8,["lg","md","offset-lg","offset-md"])]),_:3})}const Zk=ps(FAe,[["render",DAe]]);function UAe(){const n=Oe([]);gk(()=>n.value=[]);function t(e,r){n.value[r]=e}return{refs:n,updateRef:t}}const LAe=it({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:n=>n.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:n=>n%1===0},totalVisible:[Number,String],firstIcon:{type:Tn,default:"$first"},prevIcon:{type:Tn,default:"$prev"},nextIcon:{type:Tn,default:"$next"},lastIcon:{type:Tn,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Zu(),...Cn(),...Va(),...tl(),...Hi(),...Ny(),...Br({tag:"nav"}),...Zr(),...Rc({variant:"text"})},"VPagination"),T4=Dt()({name:"VPagination",props:LAe(),emits:{"update:modelValue":n=>!0,first:n=>!0,prev:n=>!0,next:n=>!0,last:n=>!0},setup(n,t){let{slots:e,emit:r}=t;const o=Mn(n,"modelValue"),{t:i,n:a}=Ri(),{isRtl:s}=Ji(),{themeClasses:l}=Co(n),{width:u}=dA(),c=It(-1);Pl(void 0,{scoped:!0});const{resizeRef:d}=Id(I=>{if(!I.length)return;const{target:k,contentRect:M}=I[0],V=k.querySelector(".v-pagination__list > *");if(!V)return;const U=M.width,$=V.offsetWidth+parseFloat(getComputedStyle(V).marginRight)*2;c.value=v(U,$)}),f=ae(()=>parseInt(n.length,10)),h=ae(()=>parseInt(n.start,10)),p=ae(()=>n.totalVisible!=null?parseInt(n.totalVisible,10):c.value>=0?c.value:v(u.value,58));function v(I,k){const M=n.showFirstLastPage?5:3;return Math.max(0,Math.floor(Number(((I-k*M)/k).toFixed(2))))}const g=ae(()=>{if(f.value<=0||isNaN(f.value)||f.value>Number.MAX_SAFE_INTEGER)return[];if(p.value<=0)return[];if(p.value===1)return[o.value];if(f.value<=p.value)return Uf(f.value,h.value);const I=p.value%2===0,k=I?p.value/2:Math.floor(p.value/2),M=I?k:k+1,V=f.value-k;if(M-o.value>=0)return[...Uf(Math.max(1,p.value-1),h.value),n.ellipsis,f.value];if(o.value-V>=(I?1:0)){const U=p.value-1,$=f.value-U+h.value;return[h.value,n.ellipsis,...Uf(U,$)]}else{const U=Math.max(1,p.value-2),$=U===1?o.value:o.value-Math.ceil(U/2)+h.value;return[h.value,n.ellipsis,...Uf(U,$),n.ellipsis,f.value]}});function _(I,k,M){I.preventDefault(),o.value=k,M&&r(M,k)}const{refs:S,updateRef:y}=UAe();Pl({VPaginationBtn:{color:ze(()=>n.color),border:ze(()=>n.border),density:ze(()=>n.density),size:ze(()=>n.size),variant:ze(()=>n.variant),rounded:ze(()=>n.rounded),elevation:ze(()=>n.elevation)}});const C=ae(()=>g.value.map((I,k)=>{const M=V=>y(V,k);if(typeof I=="string")return{isActive:!1,key:`ellipsis-${k}`,page:I,props:{ref:M,ellipsis:!0,icon:!0,disabled:!0}};{const V=I===o.value;return{isActive:V,key:I,page:a(I),props:{ref:M,ellipsis:!1,icon:!0,disabled:!!n.disabled||Number(n.length)<2,color:V?n.activeColor:n.color,"aria-current":V,"aria-label":i(V?n.currentPageAriaLabel:n.pageAriaLabel,I),onClick:U=>_(U,I)}}}})),T=ae(()=>{const I=!!n.disabled||o.value<=h.value,k=!!n.disabled||o.value>=h.value+f.value-1;return{first:n.showFirstLastPage?{icon:s.value?n.lastIcon:n.firstIcon,onClick:M=>_(M,h.value,"first"),disabled:I,"aria-label":i(n.firstAriaLabel),"aria-disabled":I}:void 0,prev:{icon:s.value?n.nextIcon:n.prevIcon,onClick:M=>_(M,o.value-1,"prev"),disabled:I,"aria-label":i(n.previousAriaLabel),"aria-disabled":I},next:{icon:s.value?n.prevIcon:n.nextIcon,onClick:M=>_(M,o.value+1,"next"),disabled:k,"aria-label":i(n.nextAriaLabel),"aria-disabled":k},last:n.showFirstLastPage?{icon:s.value?n.firstIcon:n.lastIcon,onClick:M=>_(M,h.value+f.value-1,"last"),disabled:k,"aria-label":i(n.lastAriaLabel),"aria-disabled":k}:void 0}});function P(){var k;const I=o.value-h.value;(k=S.value[I])==null||k.$el.focus()}function F(I){I.key===tF.left&&!n.disabled&&o.value>Number(n.start)?(o.value=o.value-1,tr(P)):I.key===tF.right&&!n.disabled&&o.value<h.value+f.value-1&&(o.value=o.value+1,tr(P))}return Kt(()=>x(n.tag,{ref:d,class:pt(["v-pagination",l.value,n.class]),style:Ue(n.style),role:"navigation","aria-label":i(n.ariaLabel),onKeydown:F,"data-test":"v-pagination-root"},{default:()=>[H("ul",{class:"v-pagination__list"},[n.showFirstLastPage&&H("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[e.first?e.first(T.value.first):x($e,bt({_as:"VPaginationBtn"},T.value.first),null)]),H("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[e.prev?e.prev(T.value.prev):x($e,bt({_as:"VPaginationBtn"},T.value.prev),null)]),C.value.map((I,k)=>H("li",{key:I.key,class:pt(["v-pagination__item",{"v-pagination__item--is-active":I.isActive}]),"data-test":"v-pagination-item"},[e.item?e.item(I):x($e,bt({_as:"VPaginationBtn"},I.props),{default:()=>[I.page]})])),H("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[e.next?e.next(T.value.next):x($e,bt({_as:"VPaginationBtn"},T.value.next),null)]),n.showFirstLastPage&&H("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[e.last?e.last(T.value.last):x($e,bt({_as:"VPaginationBtn"},T.value.last),null)])])]})),{}}}),VAe=it({id:String,submenu:Boolean,...Ir(z_({captureFocus:!0,closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:JL}}),["absolute"])},"VMenu"),jy=Dt()({name:"VMenu",props:VAe(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const r=Mn(n,"modelValue"),{scopeId:o}=iv(),{isRtl:i}=Ji(),a=el(),s=ze(()=>n.id||`v-menu-${a}`),l=Oe(),u=Hn(pF,null),c=It(new Set);no(pF,{register(){c.value.add(a)},unregister(){c.value.delete(a)},closeParents(v){setTimeout(()=>{var g;!c.value.size&&!n.persistent&&(v==null||(g=l.value)!=null&&g.contentEl&&!Fse(v,l.value.contentEl))&&(r.value=!1,u==null||u.closeParents())},40)}}),Ti(()=>u==null?void 0:u.unregister()),mk(()=>r.value=!1),lt(r,v=>{v?u==null||u.register():u==null||u.unregister()},{immediate:!0});function d(v){u==null||u.closeParents(v)}function f(v){var g,_,S,y,C;if(!n.disabled)if(v.key==="Tab"||v.key==="Enter"&&!n.closeOnContentClick){if(v.key==="Enter"&&(v.target instanceof HTMLTextAreaElement||v.target instanceof HTMLInputElement&&v.target.closest("form")))return;v.key==="Enter"&&v.preventDefault(),!NK(cm((g=l.value)==null?void 0:g.contentEl,!1),v.shiftKey?"prev":"next",P=>P.tabIndex>=0)&&!n.retainFocus&&(r.value=!1,(S=(_=l.value)==null?void 0:_.activatorEl)==null||S.focus())}else n.submenu&&v.key===(i.value?"ArrowRight":"ArrowLeft")&&(r.value=!1,(C=(y=l.value)==null?void 0:y.activatorEl)==null||C.focus())}function h(v){var _;if(n.disabled)return;const g=(_=l.value)==null?void 0:_.contentEl;g&&r.value?v.key==="ArrowDown"?(v.preventDefault(),v.stopImmediatePropagation(),Mb(g,"next")):v.key==="ArrowUp"?(v.preventDefault(),v.stopImmediatePropagation(),Mb(g,"prev")):n.submenu&&(v.key===(i.value?"ArrowRight":"ArrowLeft")?r.value=!1:v.key===(i.value?"ArrowLeft":"ArrowRight")&&(v.preventDefault(),Mb(g,"first"))):(n.submenu?v.key===(i.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(v.key))&&(r.value=!0,v.preventDefault(),setTimeout(()=>setTimeout(()=>h(v))))}const p=ae(()=>bt({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-controls":s.value,"aria-owns":s.value,onKeydown:h},n.activatorProps));return Kt(()=>{const v=Md.filterProps(n);return x(Md,bt({ref:l,id:s.value,class:["v-menu",n.class],style:n.style},v,{modelValue:r.value,"onUpdate:modelValue":g=>r.value=g,absolute:!0,activatorProps:p.value,location:n.location??(n.submenu?"end":"bottom"),"onClick:outside":d,onKeydown:f},o),{activator:e.activator,default:function(){for(var g=arguments.length,_=new Array(g),S=0;S<g;S++)_[S]=arguments[S];return x(Lr,{root:"VMenu"},{default:()=>{var y;return[(y=e.default)==null?void 0:y.call(e,..._)]}})}})}),nl({id:s,openChildren:c},l)}}),NAe=it({renderless:Boolean,...Cn()},"VVirtualScrollItem"),RAe=Dt()({name:"VVirtualScrollItem",inheritAttrs:!1,props:NAe(),emits:{"update:height":n=>!0},setup(n,t){let{attrs:e,emit:r,slots:o}=t;const{resizeRef:i,contentRect:a}=Id(void 0,"border");lt(()=>{var s;return(s=a.value)==null?void 0:s.height},s=>{s!=null&&r("update:height",s)}),Kt(()=>{var s,l;return n.renderless?H(ut,null,[(s=o.default)==null?void 0:s.call(o,{itemRef:i})]):H("div",bt({ref:i,class:["v-virtual-scroll__item",n.class],style:n.style},e),[(l=o.default)==null?void 0:l.call(o)])})}}),HAe=-1,QAe=1,OP=100,jAe=it({itemHeight:{type:[Number,String],default:null},itemKey:{type:[String,Array,Function],default:null},height:[Number,String]},"virtual");function $Ae(n,t){const e=dA(),r=It(0);mo(()=>{r.value=parseFloat(n.itemHeight||0)});const o=It(0),i=It(Math.ceil((parseInt(n.height)||e.height.value)/(r.value||16))||1),a=It(0),s=It(0),l=Oe(),u=Oe();let c=0;const{resizeRef:d,contentRect:f}=Id();mo(()=>{d.value=l.value});const h=ae(()=>{var Be;return l.value===document.documentElement?e.height.value:((Be=f.value)==null?void 0:Be.height)||parseInt(n.height)||0}),p=ae(()=>!!(l.value&&u.value&&h.value&&r.value));let v=Array.from({length:t.value.length}),g=Array.from({length:t.value.length});const _=It(0);let S=-1;function y(Be){return v[Be]||r.value}const C=Tse(()=>{const Be=performance.now();g[0]=0;const We=t.value.length;for(let pe=1;pe<=We;pe++)g[pe]=(g[pe-1]||0)+y(pe-1);_.value=Math.max(_.value,performance.now()-Be)},_),T=lt(p,Be=>{Be&&(T(),c=u.value.offsetTop,C.immediate(),R(),~S&&tr(()=>{Rr&&window.requestAnimationFrame(()=>{ue(S),S=-1})}))});Go(()=>{C.clear()});function P(Be,We){const pe=v[Be],_e=r.value;r.value=_e?Math.min(r.value,We):We,(pe!==We||_e!==r.value)&&(v[Be]=We,C())}function F(Be){Be=To(Be,0,t.value.length);const We=Math.floor(Be),pe=Be%1,_e=We+1,Ce=g[We]||0,ve=g[_e]||Ce;return Ce+(ve-Ce)*pe}function I(Be){return KAe(g,Be)}let k=0,M=0,V=0;lt(h,(Be,We)=>{R(),Be<We&&requestAnimationFrame(()=>{M=0,R()})});let U=-1;function $(){if(!l.value||!u.value)return;const Be=l.value.scrollTop,We=performance.now();We-V>500?(M=Math.sign(Be-k),c=u.value.offsetTop):M=Be-k,k=Be,V=We,window.clearTimeout(U),U=window.setTimeout(Q,500),R()}function Q(){!l.value||!u.value||(M=0,V=0,window.clearTimeout(U),R())}let J=-1;function R(){cancelAnimationFrame(J),J=requestAnimationFrame(ne)}function ne(){if(!l.value||!h.value||!r.value)return;const Be=k-c,We=Math.sign(M),pe=Math.max(0,Be-OP),_e=To(I(pe),0,t.value.length),Ce=Be+h.value+OP,ve=To(I(Ce)+1,_e+1,t.value.length);if((We!==HAe||_e<o.value)&&(We!==QAe||ve>i.value)){const Qe=F(o.value)-F(_e),se=F(ve)-F(i.value);Math.max(Qe,se)>OP?(o.value=_e,i.value=ve):(_e<=0&&(o.value=_e),ve>=t.value.length&&(i.value=ve))}a.value=F(o.value),s.value=F(t.value.length)-F(i.value)}function ue(Be){const We=F(Be);!l.value||Be&&!We?S=Be:l.value.scrollTop=We}const we=ae(()=>t.value.slice(o.value,i.value).map((Be,We)=>{const pe=We+o.value;return{raw:Be,index:pe,key:rs(Be,n.itemKey,pe)}}));return lt(t,()=>{v=Array.from({length:t.value.length}),g=Array.from({length:t.value.length}),C.immediate(),R()},{deep:1}),{calculateVisibleItems:R,containerRef:l,markerRef:u,computedItems:we,paddingTop:a,paddingBottom:s,scrollToIndex:ue,handleScroll:$,handleScrollend:Q,handleItemResize:P}}function KAe(n,t){let e=n.length-1,r=0,o=0,i=null,a=-1;if(n[e]<t)return e;for(;r<=e;)if(o=r+e>>1,i=n[o],i>t)e=o-1;else if(i<t)a=o,r=o+1;else return i===t?o:r;return a}const WAe=it({items:{type:Array,default:()=>[]},renderless:Boolean,...jAe(),...Cn(),...As()},"VVirtualScroll"),$z=Dt()({name:"VVirtualScroll",props:WAe(),setup(n,t){let{slots:e}=t;const r=Yo("VVirtualScroll"),{dimensionStyles:o}=hs(n),{calculateVisibleItems:i,containerRef:a,markerRef:s,handleScroll:l,handleScrollend:u,handleItemResize:c,scrollToIndex:d,paddingTop:f,paddingBottom:h,computedItems:p}=$Ae(n,ze(()=>n.items));return zs(()=>n.renderless,()=>{function v(){var S,y;const _=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[_]("scroll",l,{passive:!0}),document[_]("scrollend",u)):((S=a.value)==null||S[_]("scroll",l,{passive:!0}),(y=a.value)==null||y[_]("scrollend",u))}Kn(()=>{a.value=FL(r.vnode.el,!0),v(!0)}),Go(v)}),Kt(()=>{const v=p.value.map(g=>x(RAe,{key:g.key,renderless:n.renderless,"onUpdate:height":_=>c(g.index,_)},{default:_=>{var S;return(S=e.default)==null?void 0:S.call(e,{item:g.raw,index:g.index,..._})}}));return n.renderless?H(ut,null,[H("div",{ref:s,class:"v-virtual-scroll__spacer",style:{paddingTop:$t(f.value)}},null),v,H("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:$t(h.value)}},null)]):H("div",{ref:a,class:pt(["v-virtual-scroll",n.class]),onScrollPassive:l,onScrollend:u,style:Ue([o.value,n.style])},[H("div",{ref:s,class:"v-virtual-scroll__container",style:{paddingTop:$t(f.value),paddingBottom:$t(h.value)}},[v])])}),{calculateVisibleItems:i,scrollToIndex:d}}});function Kz(n,t){const e=It(!1);let r;function o(s){cancelAnimationFrame(r),e.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{e.value=!1})})}async function i(){await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>requestAnimationFrame(s)),await new Promise(s=>{if(e.value){const l=lt(e,()=>{l(),s()})}else s()})}async function a(s){var c,d;if(s.key==="Tab"&&((c=t.value)==null||c.focus()),!["PageDown","PageUp","Home","End"].includes(s.key))return;const l=(d=n.value)==null?void 0:d.$el;if(!l)return;(s.key==="Home"||s.key==="End")&&l.scrollTo({top:s.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await i();const u=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(s.key==="PageDown"||s.key==="Home"){const f=l.getBoundingClientRect().top;for(const h of u)if(h.getBoundingClientRect().top>=f){h.focus();break}}else{const f=l.getBoundingClientRect().bottom;for(const h of[...u].reverse())if(h.getBoundingClientRect().bottom<=f){h.focus();break}}}return{onScrollPassive:o,onKeydown:a}}const zAe=it({closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"}},"autocomplete");function Wz(n,t){const e=el(),r=ae(()=>`menu-${e}`);return{menuId:r,ariaExpanded:ze(()=>Ui(t)),ariaControls:ze(()=>r.value)}}const zz=it({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Tn,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,noAutoScroll:Boolean,...zAe(),...Vz({itemChildren:!1})},"Select"),GAe=it({...zz(),...Ir(oV({modelValue:null,role:"combobox"}),["validationValue","dirty"]),...Qy({transition:{component:JL}})},"VSelect"),mr=Dt()({name:"VSelect",props:GAe(),emits:{"update:focused":n=>!0,"update:modelValue":n=>!0,"update:menu":n=>!0},setup(n,t){let{slots:e}=t;const{t:r}=Ri(),o=Oe(),i=Oe(),a=Oe(),{items:s,transformIn:l,transformOut:u}=Rz(n),c=Mn(n,"modelValue",[],ve=>l(ve===null?[null]:ao(ve)),ve=>{const Qe=u(ve);return n.multiple?Qe:Qe[0]??null}),d=ae(()=>typeof n.counterValue=="function"?n.counterValue(c.value):typeof n.counterValue=="number"?n.counterValue:c.value.length),f=Yk(n),h=rV(n),p=ae(()=>c.value.map(ve=>ve.value)),v=It(!1),g=ze(()=>n.closableChips&&!f.isReadonly.value&&!f.isDisabled.value),{InputIcon:_}=zk(n);let S="",y=0,C;const T=ae(()=>n.hideSelected?s.value.filter(ve=>!c.value.some(Qe=>(n.valueComparator||Ua)(Qe,ve))):s.value),P=ae(()=>n.hideNoData&&!T.value.length||f.isReadonly.value||f.isDisabled.value),F=Mn(n,"menu"),I=ae({get:()=>F.value,set:ve=>{var Qe;F.value&&!ve&&((Qe=i.value)!=null&&Qe.openChildren.size)||ve&&P.value||(F.value=ve)}}),{menuId:k,ariaExpanded:M,ariaControls:V}=Wz(n,I),U=ae(()=>{var ve;return{...n.menuProps,activatorProps:{...((ve=n.menuProps)==null?void 0:ve.activatorProps)||{},"aria-haspopup":"listbox"}}}),$=Oe(),Q=Kz($,o);function J(ve){n.openOnClear&&(I.value=!0)}function R(){P.value||(I.value=!I.value)}function ne(ve){Vx(ve)&&ue(ve)}function ue(ve){var be,me,Ve;if(!ve.key||f.isReadonly.value)return;if(["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(ve.key)&&ve.preventDefault(),["Enter","ArrowDown"," "].includes(ve.key)&&(I.value=!0),["Escape","Tab"].includes(ve.key)&&(I.value=!1),n.clearable&&ve.key==="Backspace"){ve.preventDefault(),c.value=[],J();return}ve.key==="Home"?(be=$.value)==null||be.focus("first"):ve.key==="End"&&((me=$.value)==null||me.focus("last"));const Qe=1e3;if(!Vx(ve))return;const se=performance.now();se-C>Qe&&(S="",y=0),S+=ve.key.toLowerCase(),C=se;const Te=T.value;function je(){let Ie=nt();return Ie||S.at(-1)===S.at(-2)&&(S=S.slice(0,-1),y++,Ie=nt(),Ie)||(y=0,Ie=nt(),Ie)?Ie:(S=ve.key.toLowerCase(),nt())}function nt(){for(let Ie=y;Ie<Te.length;Ie++){const K=Te[Ie];if(K.title.toLowerCase().startsWith(S))return[K,Ie]}}const tt=je();if(!tt)return;const[ot,ye]=tt;y=ye,(Ve=$.value)==null||Ve.focus(ye),n.multiple||(c.value=[ot])}function we(ve){let Qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!ve.props.disabled)if(n.multiple){const se=c.value.findIndex(je=>(n.valueComparator||Ua)(je.value,ve.value)),Te=Qe??!~se;if(~se){const je=Te?[...c.value,ve]:[...c.value];je.splice(se,1),c.value=je}else Te&&(c.value=[...c.value,ve])}else{const se=Qe!==!1;c.value=se?[ve]:[],tr(()=>{I.value=!1})}}function Be(ve){var Qe;(Qe=$.value)!=null&&Qe.$el.contains(ve.relatedTarget)||(I.value=!1)}function We(){var ve;n.eager&&((ve=a.value)==null||ve.calculateVisibleItems())}function pe(){var ve;v.value&&((ve=o.value)==null||ve.focus())}function _e(ve){v.value=!0}function Ce(ve){if(ve==null)c.value=[];else if(Ux(o.value,":autofill")||Ux(o.value,":-webkit-autofill")){const Qe=s.value.find(se=>se.title===ve);Qe&&we(Qe)}else o.value&&(o.value.value="")}return lt(I,()=>{if(!n.hideSelected&&I.value&&c.value.length){const ve=T.value.findIndex(Qe=>c.value.some(se=>(n.valueComparator||Ua)(se.value,Qe.value)));Rr&&!n.noAutoScroll&&window.requestAnimationFrame(()=>{var Qe;ve>=0&&((Qe=a.value)==null||Qe.scrollToIndex(ve))})}}),lt(s,(ve,Qe)=>{I.value||v.value&&n.hideNoData&&!Qe.length&&ve.length&&(I.value=!0)}),Kt(()=>{const ve=!!(n.chips||e.chip),Qe=!!(!n.hideNoData||T.value.length||e["prepend-item"]||e["append-item"]||e["no-data"]),se=c.value.length>0,Te=_t.filterProps(n),je=se||!v.value&&n.label&&!n.persistentPlaceholder?void 0:n.placeholder;return x(_t,bt({ref:o},Te,{modelValue:c.value.map(nt=>nt.props.title).join(", "),name:void 0,"onUpdate:modelValue":Ce,focused:v.value,"onUpdate:focused":nt=>v.value=nt,validationValue:c.externalValue,counterValue:d.value,dirty:se,class:["v-select",{"v-select--active-menu":I.value,"v-select--chips":!!n.chips,[`v-select--${n.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length,"v-select--selection-slot":!!e.selection},n.class],style:n.style,inputmode:"none",placeholder:je,"onClick:clear":J,"onMousedown:control":R,onBlur:Be,onKeydown:ue,"aria-expanded":M.value,"aria-controls":V.value}),{...e,default:nt=>{let{id:tt}=nt;return H(ut,null,[H("select",{hidden:!0,multiple:n.multiple,name:h.fieldName.value},[s.value.map(ot=>H("option",{key:ot.value,value:ot.value,selected:p.value.includes(ot.value)},null))]),x(jy,bt({id:k.value,ref:i,modelValue:I.value,"onUpdate:modelValue":ot=>I.value=ot,activator:"parent",contentClass:"v-select__content",disabled:P.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:n.transition,onAfterEnter:We,onAfterLeave:pe},U.value),{default:()=>[Qe&&x(Dm,bt({ref:$,selected:p.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:ot=>ot.preventDefault(),onKeydown:ne,onFocusin:_e,tabindex:"-1",selectable:!!T.value.length,"aria-live":"polite","aria-labelledby":`${tt.value}-label`,"aria-multiselectable":n.multiple,color:n.itemColor??n.color},Q,n.listProps),{default:()=>{var ot,ye,be;return[(ot=e["prepend-item"])==null?void 0:ot.call(e),!T.value.length&&!n.hideNoData&&(((ye=e["no-data"])==null?void 0:ye.call(e))??x(Cr,{key:"no-data",title:r(n.noDataText)},null)),x($z,{ref:a,renderless:!0,items:T.value,itemKey:"value"},{default:me=>{var Ae,xe,he;let{item:Ve,index:Ie,itemRef:K}=me;const te=Use(Ve.props),ee=bt(Ve.props,{ref:K,key:Ve.value,onClick:()=>we(Ve,null),"aria-posinset":Ie+1,"aria-setsize":T.value.length});return Ve.type==="divider"?((Ae=e.divider)==null?void 0:Ae.call(e,{props:Ve.raw,index:Ie}))??x(Dd,bt(Ve.props,{key:`divider-${Ie}`}),null):Ve.type==="subheader"?((xe=e.subheader)==null?void 0:xe.call(e,{props:Ve.raw,index:Ie}))??x(uV,bt(Ve.props,{key:`subheader-${Ie}`}),null):((he=e.item)==null?void 0:he.call(e,{item:Ve,index:Ie,props:ee}))??x(Cr,bt(ee,{role:"option"}),{prepend:Pe=>{let{isSelected:Ee}=Pe;return H(ut,null,[n.multiple&&!n.hideSelected?x(cs,{key:Ve.value,modelValue:Ee,ripple:!1,tabindex:"-1","aria-hidden":!0,onClick:st=>st.preventDefault()},null):void 0,te.prependAvatar&&x(Nh,{image:te.prependAvatar},null),te.prependIcon&&x(en,{icon:te.prependIcon},null)])}})}}),(be=e["append-item"])==null?void 0:be.call(e)]}})]}),c.value.map((ot,ye)=>{function be(K){K.stopPropagation(),K.preventDefault(),we(ot,!1)}const me=bt(Fl.filterProps(ot.props),{"onClick:close":be,onKeydown(K){K.key!=="Enter"&&K.key!==" "||(K.preventDefault(),K.stopPropagation(),be(K))},onMousedown(K){K.preventDefault(),K.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),Ve=ve?!!e.chip:!!e.selection,Ie=Ve?TL(ve?e.chip({item:ot,index:ye,props:me}):e.selection({item:ot,index:ye})):void 0;if(!(Ve&&!Ie))return H("div",{key:ot.value,class:"v-select__selection"},[ve?e.chip?x(Lr,{key:"chip-defaults",defaults:{VChip:{closable:g.value,size:"small",text:ot.title}}},{default:()=>[Ie]}):x(Fl,bt({key:"chip",closable:g.value,size:"small",text:ot.title,disabled:ot.props.disabled},me),null):Ie??H("span",{class:"v-select__selection-text"},[ot.title,n.multiple&&ye<c.value.length-1&&H("span",{class:"v-select__selection-comma"},[Je(",")])])])})])},"append-inner":function(){var ye,be;for(var nt=arguments.length,tt=new Array(nt),ot=0;ot<nt;ot++)tt[ot]=arguments[ot];return H(ut,null,[(ye=e["append-inner"])==null?void 0:ye.call(e,...tt),n.menuIcon?x(en,{class:"v-select__menu-icon",color:(be=o.value)==null?void 0:be.fieldIconColor,icon:n.menuIcon,"aria-hidden":!0},null):void 0,n.appendInnerIcon&&x(_,{key:"append-icon",name:"appendInner",color:tt[0].iconColor.value},null)])}})}),nl({isFocused:v,menu:I,select:we},o)}}),YAe=it({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Gz=Symbol.for("vuetify:data-table-pagination");function XAe(n){const t=Mn(n,"page",void 0,r=>Number(r??1)),e=Mn(n,"itemsPerPage",void 0,r=>Number(r??10));return{page:t,itemsPerPage:e}}function JAe(n){const{page:t,itemsPerPage:e,itemsLength:r}=n,o=ae(()=>e.value===-1?0:e.value*(t.value-1)),i=ae(()=>e.value===-1?r.value:Math.min(r.value,o.value+e.value)),a=ae(()=>e.value===-1||r.value===0?1:Math.ceil(r.value/e.value));lt([t,a],()=>{t.value>a.value&&(t.value=a.value)});function s(f){e.value=f,t.value=1}function l(){t.value=To(t.value+1,1,a.value)}function u(){t.value=To(t.value-1,1,a.value)}function c(f){t.value=To(f,1,a.value)}const d={page:t,itemsPerPage:e,startIndex:o,stopIndex:i,pageCount:a,itemsLength:r,nextPage:l,prevPage:u,setPage:c,setItemsPerPage:s};return no(Gz,d),d}function ZAe(){const n=Hn(Gz);if(!n)throw new Error("Missing pagination!");return n}function qAe(n){const t=Yo("usePaginatedItems"),{items:e,startIndex:r,stopIndex:o,itemsPerPage:i}=n,a=ae(()=>i.value<=0?e.value:e.value.slice(r.value,o.value));return lt(a,s=>{t.emit("update:currentItems",s)},{immediate:!0}),{paginatedItems:a}}const Yz=it({color:String,prevIcon:{type:Tn,default:"$prev"},nextIcon:{type:Tn,default:"$next"},firstIcon:{type:Tn,default:"$first"},lastIcon:{type:Tn,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),O4=Dt()({name:"VDataTableFooter",props:Yz(),setup(n,t){let{slots:e}=t;const{t:r}=Ri(),{page:o,pageCount:i,startIndex:a,stopIndex:s,itemsLength:l,itemsPerPage:u,setItemsPerPage:c}=ZAe(),d=ae(()=>n.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?r("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?r(f.title):f.title}));return Kt(()=>{var h;const f=T4.filterProps(n);return H("div",{class:"v-data-table-footer"},[(h=e.prepend)==null?void 0:h.call(e),H("div",{class:"v-data-table-footer__items-per-page"},[H("span",null,[r(n.itemsPerPageText)]),x(mr,{items:d.value,itemColor:n.color,modelValue:u.value,"onUpdate:modelValue":p=>c(Number(p)),density:"compact",variant:"outlined","aria-label":r(n.itemsPerPageText),hideDetails:!0},null)]),H("div",{class:"v-data-table-footer__info"},[H("div",null,[r(n.pageText,l.value?a.value+1:0,s.value,l.value)])]),H("div",{class:"v-data-table-footer__pagination"},[x(T4,bt({modelValue:o.value,"onUpdate:modelValue":p=>o.value=p,density:"comfortable",firstAriaLabel:n.firstPageLabel,lastAriaLabel:n.lastPageLabel,length:i.value,nextAriaLabel:n.nextPageLabel,previousAriaLabel:n.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:n.showCurrentPage?1:0,variant:"plain"},Ir(f,["color"])),null)])])}),{}}}),Uw=fle({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(n,t)=>{let{slots:e}=t;const r=n.tag??"td",o=typeof n.fixed=="string"?n.fixed:n.fixed?"start":"none";return x(r,{class:pt(["v-data-table__td",{"v-data-table-column--fixed":o==="start","v-data-table-column--fixed-end":o==="end","v-data-table-column--last-fixed":n.lastFixed,"v-data-table-column--first-fixed-end":n.firstFixedEnd,"v-data-table-column--no-padding":n.noPadding,"v-data-table-column--nowrap":n.nowrap,"v-data-table-column--empty":n.empty},`v-data-table-column--align-${n.align}`]),style:{height:$t(n.height),width:$t(n.width),maxWidth:$t(n.maxWidth),left:o==="start"?$t(n.fixedOffset||null):void 0,right:o==="end"?$t(n.fixedEndOffset||null):void 0,paddingInlineStart:n.indent?$t(n.indent):void 0}},{default:()=>{var i;return[(i=e.default)==null?void 0:i.call(e)]}})}),ehe=it({headers:Array},"DataTable-header"),Xz=Symbol.for("vuetify:data-table-headers"),Jz={title:"",sortable:!1},the={...Jz,width:48};function nhe(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(e=>({element:e,priority:0}));return{enqueue:(e,r)=>{let o=!1;for(let i=0;i<t.length;i++)if(t[i].priority>r){t.splice(i,0,{element:e,priority:r}),o=!0;break}o||t.push({element:e,priority:r})},size:()=>t.length,count:()=>{let e=0;if(!t.length)return 0;const r=Math.floor(t[0].priority);for(let o=0;o<t.length;o++)Math.floor(t[o].priority)===r&&(e+=1);return e},dequeue:()=>t.shift()}}function xF(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!n.children)t.push(n);else for(const e of n.children)xF(e,t);return t}function Zz(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const e of n)e.key&&t.add(e.key),e.children&&Zz(e.children,t);return t}function rhe(n){if(n.key){if(n.key==="data-table-group")return Jz;if(["data-table-expand","data-table-select"].includes(n.key))return the}}function cV(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return n.children?Math.max(t,...n.children.map(e=>cV(e,t+1))):t}function ohe(n){let t=!1;function e(i,a){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(i)if(s!=="none"&&(i.fixed=s),i.fixed===!0&&(i.fixed="start"),i.fixed===a)if(i.children)if(a==="start")for(let l=i.children.length-1;l>=0;l--)e(i.children[l],a,a);else for(let l=0;l<i.children.length;l++)e(i.children[l],a,a);else!t&&a==="start"?i.lastFixed=!0:!t&&a==="end"?i.firstFixedEnd=!0:isNaN(Number(i.width))?(`${i.key}`,void 0):i.minWidth=Math.max(Number(i.width)||0,Number(i.minWidth)||0),t=!0;else if(i.children)if(a==="start")for(let l=i.children.length-1;l>=0;l--)e(i.children[l],a);else for(let l=0;l<i.children.length;l++)e(i.children[l],a);else t=!1}for(let i=n.length-1;i>=0;i--)e(n[i],"start");for(let i=0;i<n.length;i++)e(n[i],"end");let r=0;for(let i=0;i<n.length;i++)r=qz(n[i],r);let o=0;for(let i=n.length-1;i>=0;i--)o=eG(n[i],o)}function qz(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!n)return t;if(n.children){n.fixedOffset=t;for(const e of n.children)t=qz(e,t)}else n.fixed&&n.fixed!=="end"&&(n.fixedOffset=t,t+=parseFloat(n.width||"0")||0);return t}function eG(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!n)return t;if(n.children){n.fixedEndOffset=t;for(const e of n.children)t=eG(e,t)}else n.fixed==="end"&&(n.fixedEndOffset=t,t+=parseFloat(n.width||"0")||0);return t}function ihe(n,t){const e=[];let r=0;const o=nhe(n);for(;o.size()>0;){let a=o.count();const s=[];let l=1;for(;a>0;){const{element:u,priority:c}=o.dequeue(),d=t-r-cV(u);if(s.push({...u,rowspan:d??1,colspan:u.children?xF(u).length:1}),u.children)for(const f of u.children){const h=c%1+l/Math.pow(10,r+2);o.enqueue(f,r+d+h)}l+=1,a-=1}r+=1,e.push(s)}return{columns:n.map(a=>xF(a)).flat(),headers:e}}function tG(n){const t=[];for(const e of n){const r={...rhe(e),...e},o=r.key??(typeof r.value=="string"?r.value:null),i=r.value??o??null,a={...r,key:o,value:i,sortable:r.sortable??(r.key!=null||!!r.sort),children:r.children?tG(r.children):void 0};t.push(a)}return t}function ahe(n,t){const e=Oe([]),r=Oe([]),o=Oe({}),i=Oe({}),a=Oe({});mo(()=>{var v,g,_;const u=(n.headers||Object.keys(n.items[0]??{}).map(S=>({key:S,title:Dl(S)}))).slice(),c=Zz(u);(v=t==null?void 0:t.groupBy)!=null&&v.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),(g=t==null?void 0:t.showSelect)!=null&&g.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),(_=t==null?void 0:t.showExpand)!=null&&_.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const d=tG(u);ohe(d);const f=Math.max(...d.map(S=>cV(S)))+1,h=ihe(d,f);e.value=h.headers,r.value=h.columns;const p=h.headers.flat(1);for(const S of p)S.key&&(S.sortable&&(S.sort&&(o.value[S.key]=S.sort),S.sortRaw&&(i.value[S.key]=S.sortRaw)),S.filter&&(a.value[S.key]=S.filter))});const s={headers:e,columns:r,sortFunctions:o,sortRawFunctions:i,filterFunctions:a};return no(Xz,s),s}function qk(){const n=Hn(Xz);if(!n)throw new Error("Missing headers!");return n}const she={showSelectAll:!1,allSelected:()=>[],select:n=>{var r;let{items:t,value:e}=n;return new Set(e?[(r=t[0])==null?void 0:r.value]:[])},selectAll:n=>{let{selected:t}=n;return t}},nG={showSelectAll:!0,allSelected:n=>{let{currentPage:t}=n;return t},select:n=>{let{items:t,value:e,selected:r}=n;for(const o of t)e?r.add(o.value):r.delete(o.value);return r},selectAll:n=>{let{value:t,currentPage:e,selected:r}=n;return nG.select({items:e,value:t,selected:r})}},lhe={showSelectAll:!0,allSelected:n=>{let{allItems:t}=n;return t},select:n=>{let{items:t,value:e,selected:r}=n;for(const o of t)e?r.add(o.value):r.delete(o.value);return r},selectAll:n=>{let{value:t,allItems:e}=n;return new Set(t?e.map(r=>r.value):[])}},uhe=it({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:Function},"DataTable-select"),rG=Symbol.for("vuetify:data-table-selection");function che(n,t){let{allItems:e,currentPage:r}=t;const o=Mn(n,"modelValue",n.modelValue,S=>{const y=n.valueComparator;return y?new Set(ao(S).map(C=>{var T;return((T=e.value.find(P=>y(C,P.value)))==null?void 0:T.value)??C})):new Set(ao(S).map(C=>{var T,P;return Lh(C)?((T=e.value.find(F=>C===F.value))==null?void 0:T.value)??C:((P=e.value.find(F=>Ua(C,F.value)))==null?void 0:P.value)??C}))},S=>[...S.values()]),i=ae(()=>e.value.filter(S=>S.selectable)),a=ae(()=>r.value.filter(S=>S.selectable)),s=ae(()=>{if(typeof n.selectStrategy=="object")return n.selectStrategy;switch(n.selectStrategy){case"single":return she;case"all":return lhe;case"page":default:return nG}}),l=It(null);function u(S){return ao(S).every(y=>o.value.has(y.value))}function c(S){return ao(S).some(y=>o.value.has(y.value))}function d(S,y){const C=s.value.select({items:S,value:y,selected:new Set(o.value)});o.value=C}function f(S,y,C){const T=[];if(y=y??r.value.findIndex(P=>P.value===S.value),n.selectStrategy!=="single"&&(C!=null&&C.shiftKey)&&l.value!==null){const[P,F]=[l.value,y].sort((I,k)=>I-k);T.push(...r.value.slice(P,F+1).filter(I=>I.selectable))}else T.push(S),l.value=y;d(T,!u([S]))}function h(S){const y=s.value.selectAll({value:S,allItems:i.value,currentPage:a.value,selected:new Set(o.value)});o.value=y}const p=ae(()=>o.value.size>0),v=ae(()=>{const S=s.value.allSelected({allItems:i.value,currentPage:a.value});return!!S.length&&u(S)}),_={toggleSelect:f,select:d,selectAll:h,isSelected:u,isSomeSelected:c,someSelected:p,allSelected:v,showSelectAll:ze(()=>s.value.showSelectAll),lastSelectedIndex:l,selectStrategy:s};return no(rG,_),_}function eT(){const n=Hn(rG);if(!n)throw new Error("Missing selection!");return n}const dhe=it({initialSortOrder:{type:String,default:"asc",validator:n=>!n||["asc","desc"].includes(n)},sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:{type:[Boolean,Object],default:!1},mustSort:Boolean},"DataTable-sort"),oG=Symbol.for("vuetify:data-table-sort");function fhe(n){const t=ze(()=>n.initialSortOrder),e=Mn(n,"sortBy");return{initialSortOrder:t,sortBy:e,multiSort:ze(()=>n.multiSort),mustSort:ze(()=>n.mustSort)}}function Ahe(n,t){if(!Om(n))return{active:!!n};const{key:e,mode:r,modifier:o}=n,i=o==="alt"&&(t==null?void 0:t.altKey)||o==="shift"&&(t==null?void 0:t.shiftKey);return{active:!e||(t==null?void 0:t.ctrlKey)||(t==null?void 0:t.metaKey)||!1,mode:i?r==="append"?"prepend":"append":r}}function hhe(n){const{initialSortOrder:t,sortBy:e,mustSort:r,multiSort:o,page:i}=n,a=(u,c)=>{if(u.key==null)return;let d=e.value.map(v=>({...v}))??[];const f=d.find(v=>v.key===u.key),h=t.value,p=t.value==="desc"?"asc":"desc";if(f)f.order===p?r.value&&d.length===1?f.order=t.value:d=d.filter(v=>v.key!==u.key):f.order=p;else{const{active:v,mode:g}=Ahe(o.value,c);v?g==="prepend"?d.unshift({key:u.key,order:h}):d.push({key:u.key,order:h}):d=[{key:u.key,order:h}]}e.value=d,i&&(i.value=1)};function s(u){return!!e.value.find(c=>c.key===u.key)}const l={sortBy:e,toggleSort:a,isSorted:s};return no(oG,l),l}function iG(){const n=Hn(oG);if(!n)throw new Error("Missing sort!");return n}function phe(n,t,e,r){const o=Ri();return{sortedItems:ae(()=>{var a,s;return e.value.length?mhe(t.value,e.value,o.current.value,{transform:r==null?void 0:r.transform,sortFunctions:{...n.customKeySort,...(a=r==null?void 0:r.sortFunctions)==null?void 0:a.value},sortRawFunctions:(s=r==null?void 0:r.sortRawFunctions)==null?void 0:s.value}):t.value})}}function mhe(n,t,e,r){const o=new Intl.Collator(e,{sensitivity:"accent",usage:"sort"});return n.map(a=>[a,r!=null&&r.transform?r.transform(a):a]).sort((a,s)=>{var l,u;for(let c=0;c<t.length;c++){let d=!1;const f=t[c].key,h=t[c].order??"asc";if(h===!1)continue;let p=Tm(a[1],f),v=Tm(s[1],f),g=a[0].raw,_=s[0].raw;if(h==="desc"&&([p,v]=[v,p],[g,_]=[_,g]),(l=r==null?void 0:r.sortRawFunctions)!=null&&l[f]){const S=r.sortRawFunctions[f](g,_);if(S==null)continue;if(d=!0,S)return S}if((u=r==null?void 0:r.sortFunctions)!=null&&u[f]){const S=r.sortFunctions[f](p,v);if(S==null)continue;if(d=!0,S)return S}if(!d&&(p instanceof Date&&v instanceof Date&&(p=p.getTime(),v=v.getTime()),[p,v]=[p,v].map(S=>S!=null?S.toString().toLocaleLowerCase():S),p!==v))return w1(p)&&w1(v)?0:w1(p)?-1:w1(v)?1:!isNaN(p)&&!isNaN(v)?Number(p)-Number(v):o.compare(p,v)}return 0}).map(a=>{let[s]=a;return s})}const aG=it({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,initialSortOrder:String,sortAscIcon:{type:Tn,default:"$sortAsc"},sortDescIcon:{type:Tn,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...Va(),...R_(),...Vk()},"VDataTableHeaders"),P4=Dt()({name:"VDataTableHeaders",props:aG(),setup(n,t){let{slots:e}=t;const{t:r}=Ri(),{toggleSort:o,sortBy:i,isSorted:a}=iG(),{someSelected:s,allSelected:l,selectAll:u,showSelectAll:c}=eT(),{columns:d,headers:f}=qk(),{loaderClasses:h}=$_(n);function p(k,M){if(!(n.sticky||n.fixedHeader)&&!k.fixed)return;const V=typeof k.fixed=="string"?k.fixed:k.fixed?"start":"none";return{position:"sticky",left:V==="start"?$t(k.fixedOffset):void 0,right:V==="end"?$t(k.fixedEndOffset):void 0,top:n.sticky||n.fixedHeader?`calc(var(--v-table-header-height) * ${M})`:void 0}}function v(k,M){k.key==="Enter"&&!n.disableSort&&o(M,k)}function g(k){const M=i.value.find(V=>V.key===k.key);return!M&&n.initialSortOrder==="asc"||(M==null?void 0:M.order)==="asc"?n.sortAscIcon:n.sortDescIcon}const{backgroundColorClasses:_,backgroundColorStyles:S}=Po(()=>n.color),{displayClasses:y,mobile:C}=dA(n),T=ae(()=>({headers:f.value,columns:d.value,toggleSort:o,isSorted:a,sortBy:i.value,someSelected:s.value,allSelected:l.value,selectAll:u,getSortIcon:g})),P=ae(()=>["v-data-table__th",{"v-data-table__th--sticky":n.sticky||n.fixedHeader},y.value,h.value]),F=k=>{let{column:M,x:V,y:U}=k;const $=M.key==="data-table-select"||M.key==="data-table-expand",Q=M.key==="data-table-group"&&M.width===0&&!M.title,J=bt(n.headerProps??{},M.headerProps??{});return x(Uw,bt({tag:"th",align:M.align,class:[{"v-data-table__th--sortable":M.sortable&&!n.disableSort,"v-data-table__th--sorted":a(M),"v-data-table__th--fixed":M.fixed},...P.value],style:{width:$t(M.width),minWidth:$t(M.minWidth),maxWidth:$t(M.maxWidth),...p(M,U)},colspan:M.colspan,rowspan:M.rowspan,fixed:M.fixed,nowrap:M.nowrap,lastFixed:M.lastFixed,firstFixedEnd:M.firstFixedEnd,noPadding:$,empty:Q,tabindex:M.sortable?0:void 0,onClick:M.sortable?R=>o(M,R):void 0,onKeydown:M.sortable?R=>v(R,M):void 0},J),{default:()=>{var ue;const R=`header.${M.key}`,ne={column:M,selectAll:u,isSorted:a,toggleSort:o,sortBy:i.value,someSelected:s.value,allSelected:l.value,getSortIcon:g};return e[R]?e[R](ne):Q?"":M.key==="data-table-select"?((ue=e["header.data-table-select"])==null?void 0:ue.call(e,ne))??(c.value&&x(cs,{color:n.color,density:n.density,modelValue:l.value,indeterminate:s.value&&!l.value,"onUpdate:modelValue":u},null)):H("div",{class:"v-data-table-header__content"},[H("span",null,[M.title]),M.sortable&&!n.disableSort&&x(en,{key:"icon",class:"v-data-table-header__sort-icon",icon:g(M)},null),n.multiSort&&a(M)&&H("div",{key:"badge",class:pt(["v-data-table-header__sort-badge",..._.value]),style:Ue(S.value)},[i.value.findIndex(we=>we.key===M.key)+1])])}})},I=()=>{const k=ae(()=>d.value.filter(V=>(V==null?void 0:V.sortable)&&!n.disableSort)),M=d.value.find(V=>V.key==="data-table-select");return x(Uw,bt({tag:"th",class:[...P.value],colspan:f.value.length+1},n.headerProps),{default:()=>[H("div",{class:"v-data-table-header__content"},[x(mr,{chips:!0,color:n.color,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:k.value,label:r("$vuetify.dataTable.sortBy"),multiple:n.multiSort,variant:"underlined","onClick:clear":()=>i.value=[]},{append:M?()=>x(cs,{color:n.color,density:"compact",modelValue:l.value,indeterminate:s.value&&!l.value,"onUpdate:modelValue":()=>u(!l.value)},null):void 0,chip:V=>{var U;return x(Fl,{onClick:(U=V.item.raw)!=null&&U.sortable?()=>o(V.item.raw):void 0,onMousedown:$=>{$.preventDefault(),$.stopPropagation()}},{default:()=>[V.item.title,x(en,{class:pt(["v-data-table__td-sort-icon",a(V.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:g(V.item.raw),size:"small"},null)]})}})])]})};Kt(()=>C.value?H("tr",null,[x(I,null,null)]):H(ut,null,[e.headers?e.headers(T.value):f.value.map((k,M)=>H("tr",null,[k.map((V,U)=>x(F,{column:V,x:U,y:M},null))])),n.loading&&H("tr",{class:"v-data-table-progress"},[H("th",{colspan:d.value.length},[x(Nk,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof n.loading=="boolean"||n.loading==="true"?n.color:n.loading,indeterminate:!0},{default:e.loader})])])]))}}),vhe=it({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),sG=Symbol.for("vuetify:data-table-group");function ghe(n){return{groupBy:Mn(n,"groupBy")}}function yhe(n){const{disableSort:t,groupBy:e,sortBy:r}=n,o=Oe(new Set),i=ae(()=>e.value.map(c=>({...c,order:c.order??!1})).concat(t!=null&&t.value?[]:r.value));function a(c){return o.value.has(c.id)}function s(c){const d=new Set(o.value);a(c)?d.delete(c.id):d.add(c.id),o.value=d}function l(c){function d(f){const h=[];for(const p of f.items)"type"in p&&p.type==="group"?h.push(...d(p)):h.push(p);return[...new Set(h)]}return d({items:c})}const u={sortByWithGroups:i,toggleGroup:s,opened:o,groupBy:e,extractRows:l,isGroupOpen:a};return no(sG,u),u}function lG(){const n=Hn(sG);if(!n)throw new Error("Missing group!");return n}function bhe(n,t){if(!n.length)return[];const e=new Map;for(const r of n){const o=Tm(r.raw,t);e.has(o)||e.set(o,[]),e.get(o).push(r)}return e}function uG(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const o=bhe(n,t[0]),i=[],a=t.slice(1);return o.forEach((s,l)=>{const u=t[0],c=`${r}_${u}_${l}`;i.push({depth:e,id:c,key:u,value:l,items:a.length?uG(s,a,e+1,c):s,type:"group"})}),i}function cG(n,t,e){const r=[];for(const o of n)"type"in o&&o.type==="group"?(o.value!=null&&r.push(o),(t.has(o.id)||o.value==null)&&(r.push(...cG(o.items,t,e)),e&&r.push({...o,type:"group-summary"}))):r.push(o);return r}function whe(n,t,e,r){return{flatItems:ae(()=>{if(!t.value.length)return n.value;const i=uG(n.value,t.value.map(a=>a.key));return cG(i,e.value,Ui(r))})}}const dG=it({item:{type:Object,required:!0},groupCollapseIcon:{type:Tn,default:"$tableGroupCollapse"},groupExpandIcon:{type:Tn,default:"$tableGroupExpand"},...Va()},"VDataTableGroupHeaderRow"),_he=Dt()({name:"VDataTableGroupHeaderRow",props:dG(),setup(n,t){let{slots:e}=t;const{isGroupOpen:r,toggleGroup:o,extractRows:i}=lG(),{isSelected:a,isSomeSelected:s,select:l}=eT(),{columns:u}=qk(),c=ae(()=>i([n.item])),d=ze(()=>u.value.length-(u.value.some(f=>f.key==="data-table-select")?1:0));return()=>H("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":n.item.depth}},[u.value.map(f=>{var h,p;if(f.key==="data-table-group"){const v=r(n.item)?n.groupCollapseIcon:n.groupExpandIcon,g=()=>o(n.item);return((h=e["data-table-group"])==null?void 0:h.call(e,{item:n.item,count:c.value.length,props:{icon:v,onClick:g}}))??x(Uw,{class:"v-data-table-group-header-row__column",colspan:d.value},{default:()=>[x($e,{size:"small",variant:"text",icon:v,onClick:g},null),H("span",null,[n.item.value]),H("span",null,[Je("("),c.value.length,Je(")")])]})}else if(f.key==="data-table-select"){const v=c.value.filter(y=>y.selectable),g=v.length>0&&a(v),_=s(v)&&!g,S=y=>l(v,y);return((p=e["data-table-select"])==null?void 0:p.call(e,{props:{modelValue:g,indeterminate:_,"onUpdate:modelValue":S}}))??x(Uw,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[x(cs,{density:n.density,disabled:v.length===0,modelValue:g,indeterminate:_,"onUpdate:modelValue":S},null)]})}return""})])}}),Che=it({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),fG=Symbol.for("vuetify:datatable:expanded");function She(n){const t=ze(()=>n.expandOnClick),e=Mn(n,"expanded",n.expanded,s=>new Set(s),s=>[...s.values()]);function r(s,l){const u=new Set(e.value),c=wn(s.value);if(l)u.add(c);else{const d=[...e.value].find(f=>wn(f)===c);u.delete(d)}e.value=u}function o(s){const l=wn(s.value);return[...e.value].some(u=>wn(u)===l)}function i(s){r(s,!o(s))}const a={expand:r,expanded:e,expandOnClick:t,isExpanded:o,toggleExpand:i};return no(fG,a),a}function AG(){const n=Hn(fG);if(!n)throw new Error("foo");return n}const hG=it({color:String,index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:Tn,default:"$collapse"},expandIcon:{type:Tn,default:"$expand"},onClick:ma(),onContextmenu:ma(),onDblclick:ma(),...Va(),...R_()},"VDataTableRow"),xhe=Dt()({name:"VDataTableRow",props:hG(),setup(n,t){let{slots:e}=t;const{displayClasses:r,mobile:o}=dA(n,"v-data-table__tr"),{isSelected:i,toggleSelect:a,someSelected:s,allSelected:l,selectAll:u}=eT(),{isExpanded:c,toggleExpand:d}=AG(),{toggleSort:f,sortBy:h,isSorted:p}=iG(),{columns:v}=qk();Kt(()=>H("tr",{class:pt(["v-data-table__tr",{"v-data-table__tr--clickable":!!(n.onClick||n.onContextmenu||n.onDblclick)},r.value]),onClick:n.onClick,onContextmenu:n.onContextmenu,onDblclick:n.onDblclick},[n.item&&v.value.map((g,_)=>{const S=n.item,y=`item.${g.key}`,C=`header.${g.key}`,T={index:n.index,item:S.raw,internalItem:S,value:Tm(S.columns,g.key),column:g,isSelected:i,toggleSelect:a,isExpanded:c,toggleExpand:d},P={column:g,selectAll:u,isSorted:p,toggleSort:f,sortBy:h.value,someSelected:s.value,allSelected:l.value,getSortIcon:()=>""},F=typeof n.cellProps=="function"?n.cellProps({index:T.index,item:T.item,internalItem:T.internalItem,value:T.value,column:g}):n.cellProps,I=typeof g.cellProps=="function"?g.cellProps({index:T.index,item:T.item,internalItem:T.internalItem,value:T.value}):g.cellProps,k=g.key==="data-table-select"||g.key==="data-table-expand",M=g.key==="data-table-group"&&g.width===0&&!g.title;return x(Uw,bt({align:g.align,indent:g.indent,class:{"v-data-table__td--expanded-row":g.key==="data-table-expand","v-data-table__td--select-row":g.key==="data-table-select"},fixed:g.fixed,fixedOffset:g.fixedOffset,fixedEndOffset:g.fixedEndOffset,lastFixed:g.lastFixed,firstFixedEnd:g.firstFixedEnd,maxWidth:o.value?void 0:g.maxWidth,noPadding:k,empty:M,nowrap:g.nowrap,width:o.value?void 0:g.width},F,I),{default:()=>{var U,$,Q,J;if(g.key==="data-table-select")return((U=e["item.data-table-select"])==null?void 0:U.call(e,{...T,props:{color:n.color,disabled:!S.selectable,modelValue:i([S]),onClick:Mu(()=>a(S),["stop"])}}))??x(cs,{color:n.color,disabled:!S.selectable,density:n.density,modelValue:i([S]),onClick:Mu(R=>a(S,n.index,R),["stop"])},null);if(g.key==="data-table-expand")return(($=e["item.data-table-expand"])==null?void 0:$.call(e,{...T,props:{icon:c(S)?n.collapseIcon:n.expandIcon,size:"small",variant:"text",onClick:Mu(()=>d(S),["stop"])}}))??x($e,{icon:c(S)?n.collapseIcon:n.expandIcon,size:"small",variant:"text",onClick:Mu(()=>d(S),["stop"])},null);if(e[y]&&!o.value)return e[y](T);const V=at(T.value);return o.value?H(ut,null,[H("div",{class:"v-data-table__td-title"},[((Q=e[C])==null?void 0:Q.call(e,P))??g.title]),H("div",{class:"v-data-table__td-value"},[((J=e[y])==null?void 0:J.call(e,T))??V])]):V}})})]))}}),pG=it({color:String,loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Od(hG(),["collapseIcon","expandIcon","density"]),...Od(dG(),["groupCollapseIcon","groupExpandIcon","density"]),...R_()},"VDataTableRows"),I4=Dt()({name:"VDataTableRows",inheritAttrs:!1,props:pG(),setup(n,t){let{attrs:e,slots:r}=t;const{columns:o}=qk(),{expandOnClick:i,toggleExpand:a,isExpanded:s}=AG(),{isSelected:l,toggleSelect:u}=eT(),{toggleGroup:c,isGroupOpen:d}=lG(),{t:f}=Ri(),{mobile:h}=dA(n);return Kt(()=>{var v,g;const p=Od(n,["groupCollapseIcon","groupExpandIcon","density"]);return n.loading&&(!n.items.length||r.loading)?H("tr",{class:"v-data-table-rows-loading",key:"loading"},[H("td",{colspan:o.value.length},[((v=r.loading)==null?void 0:v.call(r))??f(n.loadingText)])]):!n.loading&&!n.items.length&&!n.hideNoData?H("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[H("td",{colspan:o.value.length},[((g=r["no-data"])==null?void 0:g.call(r))??f(n.noDataText)])]):H(ut,null,[n.items.map((_,S)=>{var T,P;if(_.type==="group"){const F={index:S,item:_,columns:o.value,isExpanded:s,toggleExpand:a,isSelected:l,toggleSelect:u,toggleGroup:c,isGroupOpen:d};return r["group-header"]?r["group-header"](F):x(_he,bt({key:`group-header_${_.id}`,item:_},HH(e,":groupHeader",()=>F),p),r)}if(_.type==="group-summary"){const F={index:S,item:_,columns:o.value,toggleGroup:c};return((T=r["group-summary"])==null?void 0:T.call(r,F))??""}const y={index:_.virtualIndex??S,item:_.raw,internalItem:_,columns:o.value,isExpanded:s,toggleExpand:a,isSelected:l,toggleSelect:u},C={...y,props:bt({key:`item_${_.key??_.index}`,onClick:i.value?()=>{a(_)}:void 0,index:S,item:_,color:n.color,cellProps:n.cellProps,collapseIcon:n.collapseIcon,expandIcon:n.expandIcon,density:n.density,mobile:h.value},HH(e,":row",()=>y),typeof n.rowProps=="function"?n.rowProps({item:y.item,index:y.index,internalItem:y.internalItem}):n.rowProps)};return H(ut,{key:C.props.key},[r.item?r.item(C):x(xhe,C.props,r),s(_)&&((P=r["expanded-row"])==null?void 0:P.call(r,y))])})])}),{}}}),mG=it({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,striped:{type:String,default:null,validator:n=>["even","odd"].includes(n)},...Cn(),...Va(),...Br(),...Zr()},"VTable"),M4=Dt()({name:"VTable",props:mG(),setup(n,t){let{slots:e,emit:r}=t;const{themeClasses:o}=Co(n),{densityClasses:i}=qu(n);return Kt(()=>x(n.tag,{class:pt(["v-table",{"v-table--fixed-height":!!n.height,"v-table--fixed-header":n.fixedHeader,"v-table--fixed-footer":n.fixedFooter,"v-table--has-top":!!e.top,"v-table--has-bottom":!!e.bottom,"v-table--hover":n.hover,"v-table--striped-even":n.striped==="even","v-table--striped-odd":n.striped==="odd"},o.value,i.value,n.class]),style:Ue(n.style)},{default:()=>{var a,s,l;return[(a=e.top)==null?void 0:a.call(e),e.default?H("div",{class:"v-table__wrapper",style:{height:$t(n.height)}},[H("table",null,[e.default()])]):(s=e.wrapper)==null?void 0:s.call(e),(l=e.bottom)==null?void 0:l.call(e)]}})),{}}}),Ehe=it({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function Bhe(n,t,e,r){const o=n.returnObject?t:rs(t,n.itemValue),i=rs(t,n.itemSelectable,!0),a=r.reduce((s,l)=>(l.key!=null&&(s[l.key]=rs(t,l.value)),s),{});return{type:"item",key:n.returnObject?rs(t,n.itemValue):o,index:e,value:o,selectable:i,columns:a,raw:t}}function khe(n,t,e){return t.map((r,o)=>Bhe(n,r,o,e))}function The(n,t){return{items:ae(()=>khe(n,n.items,t.value))}}function Ohe(n){let{page:t,itemsPerPage:e,sortBy:r,groupBy:o,search:i}=n;const a=Yo("VDataTable"),s=()=>({page:t.value,itemsPerPage:e.value,sortBy:r.value,groupBy:o.value,search:i.value});let l=null;lt(s,u=>{Ua(l,u)||(l&&l.search!==u.search&&(t.value=1),a.emit("update:options",u),l=u)},{deep:!0,immediate:!0})}const Phe=(n,t,e)=>{if(n==null||t==null)return-1;if(!t.length)return 0;n=n.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase();const r=[];let o=n.indexOf(t);for(;~o;)r.push([o,o+t.length]),o=n.indexOf(t,o+t.length);return r.length?r:-1};function PP(n,t){if(!(n==null||typeof n=="boolean"||n===-1))return typeof n=="number"?[[n,n+t.length]]:Array.isArray(n[0])?n:[n]}const vG=it({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Ihe(n,t,e){var l;const r=[],o=(e==null?void 0:e.default)??Phe,i=e!=null&&e.filterKeys?ao(e.filterKeys):!1,a=Object.keys((e==null?void 0:e.customKeyFilter)??{}).length;if(!(n!=null&&n.length))return r;let s=null;e:for(let u=0;u<n.length;u++){const[c,d=c]=ao(n[u]),f={},h={};let p=-1;if((t||a>0)&&!(e!=null&&e.noFilter)){let v=!1;if(typeof c=="object"){if(c.type==="divider"||c.type==="subheader"){(s==null?void 0:s.type)==="divider"&&c.type==="subheader"&&r.push(s),s={index:u,matches:{},type:c.type};continue}const S=i||Object.keys(d);v=S.length===a;for(const y of S){const C=rs(d,y),T=(l=e==null?void 0:e.customKeyFilter)==null?void 0:l[y];if(p=T?T(C,t,c):o(C,t,c),p!==-1&&p!==!1)T?f[y]=PP(p,t):h[y]=PP(p,t);else if((e==null?void 0:e.filterMode)==="every")continue e}}else p=o(c,t,c),p!==-1&&p!==!1&&(h.title=PP(p,t));const g=Object.keys(h).length,_=Object.keys(f).length;if(!g&&!_||(e==null?void 0:e.filterMode)==="union"&&_!==a&&!g||(e==null?void 0:e.filterMode)==="intersection"&&(_!==a||!g&&a>0&&!v))continue}s&&(r.push(s),s=null),r.push({index:u,matches:{...h,...f}})}return r}function gG(n,t,e,r){const o=It([]),i=It(new Map),a=ae(()=>r!=null&&r.transform?O(t).map(l=>[l,r.transform(l)]):O(t));mo(()=>{const l=typeof e=="function"?e():O(e),u=typeof l!="string"&&typeof l!="number"?"":String(l),c=Ihe(a.value,u,{customKeyFilter:{...n.customKeyFilter,...O(r==null?void 0:r.customKeyFilter)},default:n.customFilter,filterKeys:n.filterKeys,filterMode:n.filterMode,noFilter:n.noFilter}),d=O(t),f=[],h=new Map;c.forEach(p=>{let{index:v,matches:g}=p;const _=d[v];f.push(_),h.set(_.value,g)}),o.value=f,i.value=h});function s(l){return i.value.get(l.value)}return{filteredItems:o,filteredMatches:i,getMatches:s}}function Mhe(n,t,e){return e==null||!e.length?t:e.map((r,o)=>{const i=o===0?0:e[o-1][1],a=[H("span",{class:pt(`${n}__unmask`)},[t.slice(i,r[0])]),H("span",{class:pt(`${n}__mask`)},[t.slice(r[0],r[1])])];return o===e.length-1&&a.push(H("span",{class:pt(`${n}__unmask`)},[t.slice(r[1])])),H(ut,null,[a])})}const Fhe=it({...pG(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...Che(),...vhe(),...ehe(),...Ehe(),...uhe(),...dhe(),...Ir(aG(),["multiSort","initialSortOrder"]),...mG()},"DataTable"),Dhe=it({...YAe(),...Fhe(),...vG(),...Yz()},"VDataTable"),hi=Dt()({name:"VDataTable",props:Dhe(),emits:{"update:modelValue":n=>!0,"update:page":n=>!0,"update:itemsPerPage":n=>!0,"update:sortBy":n=>!0,"update:options":n=>!0,"update:groupBy":n=>!0,"update:expanded":n=>!0,"update:currentItems":n=>!0},setup(n,t){let{attrs:e,slots:r}=t;const{groupBy:o}=ghe(n),{initialSortOrder:i,sortBy:a,multiSort:s,mustSort:l}=fhe(n),{page:u,itemsPerPage:c}=XAe(n),{disableSort:d}=E_(n),{columns:f,headers:h,sortFunctions:p,sortRawFunctions:v,filterFunctions:g}=ahe(n,{groupBy:o,showSelect:ze(()=>n.showSelect),showExpand:ze(()=>n.showExpand)}),{items:_}=The(n,f),S=ze(()=>n.search),{filteredItems:y}=gG(n,_,S,{transform:Te=>Te.columns,customKeyFilter:g}),{toggleSort:C}=hhe({initialSortOrder:i,sortBy:a,multiSort:s,mustSort:l,page:u}),{sortByWithGroups:T,opened:P,extractRows:F,isGroupOpen:I,toggleGroup:k}=yhe({groupBy:o,sortBy:a,disableSort:d}),{sortedItems:M}=phe(n,y,T,{transform:Te=>({...Te.raw,...Te.columns}),sortFunctions:p,sortRawFunctions:v}),{flatItems:V}=whe(M,o,P,()=>!!r["group-summary"]),U=ae(()=>V.value.length),{startIndex:$,stopIndex:Q,pageCount:J,setItemsPerPage:R}=JAe({page:u,itemsPerPage:c,itemsLength:U}),{paginatedItems:ne}=qAe({items:V,startIndex:$,stopIndex:Q,itemsPerPage:c}),ue=ae(()=>F(ne.value)),{isSelected:we,select:Be,selectAll:We,toggleSelect:pe,someSelected:_e,allSelected:Ce}=che(n,{allItems:_,currentPage:ue}),{isExpanded:ve,toggleExpand:Qe}=She(n);Ohe({page:u,itemsPerPage:c,sortBy:a,groupBy:o,search:S}),Pl({VDataTableRows:{hideNoData:ze(()=>n.hideNoData),noDataText:ze(()=>n.noDataText),loading:ze(()=>n.loading),loadingText:ze(()=>n.loadingText)}});const se=ae(()=>({page:u.value,itemsPerPage:c.value,sortBy:a.value,pageCount:J.value,toggleSort:C,setItemsPerPage:R,someSelected:_e.value,allSelected:Ce.value,isSelected:we,select:Be,selectAll:We,toggleSelect:pe,isExpanded:ve,toggleExpand:Qe,isGroupOpen:I,toggleGroup:k,items:ue.value.map(Te=>Te.raw),internalItems:ue.value,groupedItems:ne.value,columns:f.value,headers:h.value}));return Kt(()=>{const Te=O4.filterProps(n),je=P4.filterProps(Ir(n,["multiSort"])),nt=I4.filterProps(n),tt=M4.filterProps(n);return x(M4,bt({class:["v-data-table",{"v-data-table--show-select":n.showSelect,"v-data-table--loading":n.loading},n.class],style:n.style},tt,{fixedHeader:n.fixedHeader||n.sticky}),{top:()=>{var ot;return(ot=r.top)==null?void 0:ot.call(r,se.value)},default:()=>{var ot,ye,be,me,Ve,Ie;return r.default?r.default(se.value):H(ut,null,[(ot=r.colgroup)==null?void 0:ot.call(r,se.value),!n.hideDefaultHeader&&H("thead",{key:"thead"},[x(P4,bt(je,{multiSort:!!n.multiSort}),r)]),(ye=r.thead)==null?void 0:ye.call(r,se.value),!n.hideDefaultBody&&H("tbody",null,[(be=r["body.prepend"])==null?void 0:be.call(r,se.value),r.body?r.body(se.value):x(I4,bt(e,nt,{items:ne.value}),r),(me=r["body.append"])==null?void 0:me.call(r,se.value)]),(Ve=r.tbody)==null?void 0:Ve.call(r,se.value),(Ie=r.tfoot)==null?void 0:Ie.call(r,se.value)])},bottom:()=>r.bottom?r.bottom(se.value):!n.hideDefaultFooter&&H(ut,null,[x(Dd,null,null),x(O4,Te,{prepend:r["footer.prepend"]})])})}),{}}}),yG=it({color:String,...Zu(),...Cn(),...As(),...tl(),...ov(),...K_(),...Hi(),...Br(),...Zr()},"VSheet"),eE=Dt()({name:"VSheet",props:yG(),setup(n,t){let{slots:e}=t;const{themeClasses:r}=Co(n),{backgroundColorClasses:o,backgroundColorStyles:i}=Po(()=>n.color),{borderClasses:a}=Nc(n),{dimensionStyles:s}=hs(n),{elevationClasses:l}=Ul(n),{locationStyles:u}=Hy(n),{positionClasses:c}=W_(n),{roundedClasses:d}=Zi(n);return Kt(()=>x(n.tag,{class:pt(["v-sheet",r.value,o.value,a.value,l.value,c.value,d.value,n.class]),style:Ue([i.value,s.value,u.value,n.style])},e)),{}}}),Uhe={key:0,class:"mt-1 mb-5 d-flex align-center justify-center",style:{height:"42px"}},Lhe={class:"mr-2"},Vhe={key:0,class:"text-grey"},Nhe={class:"text-center mt-5"},Rhe={key:0,class:"mt-3"},Hhe={class:"text-grey mt-3"},Qhe={key:0},jhe={key:1},$he=["href"],Khe={key:0,class:"text-green"},Whe={key:1,class:"text-orange"},zhe=rn({__name:"Uploader",emits:["success"],setup(n,{emit:t}){const e=Vt(),r=Oe([]),o=Oe(!1),i=Oe(!1),a=Oe([]),s=[{title:"File name",value:"name",sortable:!0},{title:"Status",value:"actions",sortable:!1},{title:"Actions",value:"name",sortable:!1}],l=Oe(null),u=t,{getAccessTokenSilently:c}=Er(),d=ae(()=>f.value.find(P=>P.is_mapped==0)),{inventory:f,upload_mapping:h}=Lt(e),p=P=>{if(i.value)return e.ShowError("An upload is still in progress...");const F=P.dataTransfer.files[0];if(F){if(F.name.endsWith(".xlsx"))return P.target.value="",e.ShowError("Only CSV files are allowed.");v(F)}},v=async P=>{const F=new FormData,I=await c();i.value=!0,F.append("file",P),F.append("user_id",Ys.value),F.append("partner_id",vr.value),F.append("folder_name",ude(Im.value)),sn(I).post("/inventory/upload-to-gcs",F).then(()=>{e.ShowSuccess("File has been uploaded!"),e.FetchInventory(I)}).finally(()=>{i.value=!1})},g=async()=>{const P=d.value.id,F=await c();sn(F).post(`/inventory/parse-file/${P}`).then(I=>{console.log(I.data),r.value=I.data.data,a.value=I.data.headers,h.value.forEach(k=>{a.value.forEach(M=>{k.predefined.includes(M.toLowerCase())&&(k.mapped_to=M)})})})},_=async()=>{const P=new FormData,F=[],I=d.value.id,k=await c();if(h.value.forEach(M=>{M.required&&!M.mapped_to&&F.push(`'${M.label}' is required.`)}),F.length>0)return e.ShowError(F.join("<br>"));o.value=!0,P.append("file_id",I),P.append("user_id",Ys.value),P.append("partner_id",vr.value),P.append("mapping",JSON.stringify(h.value)),sn(k).post("/inventory/import-products",P).then(M=>{console.log(M.data),e.FetchAllData(k),e.ShowSuccess(M.data.message)}).finally(()=>{o.value=!1,u("success")})},S=P=>{const F=r.value[0];if(F[P]){const I=F[P],k=50;return I.length>k?I.substring(0,k)+"...":I}return null},y=()=>{var P;if(i.value)return e.ShowError("An upload is still in progress...");(P=l.value)==null||P.click()},C=P=>{const F=P.target.files[0];if(F){if(F.name.endsWith(".xlsx"))return P.target.value="",e.ShowError("Only CSV files are allowed.");v(F)}},T=async P=>{const F=new FormData,I=await c();await e.OpenDialog("Confirm action","Are you sure you want to delete this file?","Yes")&&(F.append("file_id",P.id),sn(I).post("/inventory/delete-file",F).then(M=>{console.log(M.data),e.ShowSuccess(M.data.message),e.FetchInventory(I)}))};return lt(d,P=>{P&&g()},{immediate:!0}),(P,F)=>(le(),et(ut,null,[O(d)?(le(),et(ut,{key:0},[x(Fn,null,{default:N(()=>[F[8]||(F[8]=H("h1",{id:"sim-click",class:"mb-5"},"Pending Task: Complete your import",-1)),x(Xn,null,{default:N(()=>[x(wt,{cols:"5"},{default:N(()=>[F[1]||(F[1]=H("h3",{class:"font-weight-light mb-5"},"Database Columns",-1)),(le(!0),et(ut,null,Wr(O(h),I=>(le(),et(ut,null,[I.display?(le(),Re(_t,{key:0,readonly:!0,density:"compact",variant:"outlined",label:I.label,placeholder:I.description},null,8,["label","placeholder"])):xt("",!0)],64))),256))]),_:1}),x(wt,{cols:"2"},{default:N(()=>[F[3]||(F[3]=H("br",null,null,-1)),F[4]||(F[4]=H("br",null,null,-1)),(le(!0),et(ut,null,Wr(O(h),I=>(le(),et(ut,null,[I.display?(le(),et("div",Uhe,[x(en,null,{default:N(()=>[...F[2]||(F[2]=[Je("mdi-swap-horizontal",-1)])]),_:1})])):xt("",!0)],64))),256))]),_:1}),x(wt,{cols:"5"},{default:N(()=>[F[7]||(F[7]=H("h3",{class:"font-weight-light mb-5"},"Map to your CSV Data",-1)),(le(!0),et(ut,null,Wr(O(h),I=>(le(),et(ut,null,[I.display?(le(),Re(mr,{key:0,density:"compact",variant:"outlined",autocomplete:"off",label:"Select a header",items:O(a),class:"text-capitalize","onClick:appendInner":Mu(k=>(I.mapped_to="",I.custom_value=""),["stop"]),"append-inner-icon":I.mapped_to||I.custom_value?"mdi-refresh":"","model-value":I.custom_value||I.mapped_to},cA({item:N(({item:k})=>[x(Cr,{onClick:M=>I.mapped_to=k.value},{default:N(()=>[x(wh,null,{default:N(()=>[H("span",Lhe,at(k.title),1),S(k.value)?(le(),et("i",Vhe,"("+at(S(k.value))+")",1)):xt("",!0)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},[I.db_column=="item_type"?{name:"prepend-item",fn:N(()=>[x(Cr,{onClick:k=>I.custom_value="product"},{default:N(()=>[x(wh,null,{default:N(()=>[...F[5]||(F[5]=[H("span",{class:"mr-2"},[Je("Product "),H("sup",{class:"text-green"},"[System]")],-1)])]),_:1})]),_:1},8,["onClick"]),x(Cr,{onClick:k=>I.custom_value="accessory"},{default:N(()=>[x(wh,null,{default:N(()=>[...F[6]||(F[6]=[H("span",{class:"mr-2"},[Je("Accessory "),H("sup",{class:"text-green"},"[System]")],-1)])]),_:1})]),_:1},8,["onClick"]),x(Dd)]),key:"0"}:void 0]),1032,["items","onClick:appendInner","append-inner-icon","model-value"])):xt("",!0)],64))),256))]),_:1})]),_:1})]),_:1}),H("div",Nhe,[x($e,{text:"Submit",loading:O(o),onClick:_,"prepend-icon":"mdi-import",style:Ue(O(hn))},null,8,["loading","style"]),O(o)?(le(),et("div",Rhe," Import in-progress, don't close this tab until completion... ")):xt("",!0)])],64)):(le(),et(ut,{key:1},[F[10]||(F[10]=H("h3",{class:"font-weight-light"}," Upload your files here to make them available when creating proposals. Any items you uploadsuch as products, documents, or resourcescan be easily selected and included in your proposals later. ",-1)),x(eE,{elevation:"0",height:"250",rounded:"lg",onDragover:F[0]||(F[0]=Mu(()=>{},["prevent"])),onClick:y,onDrop:Mu(p,["prevent"]),class:"d-flex flex-column align-center justify-center pa-8 mt-8",style:{background:"transparent",border:"2px dashed #9e9e9e",cursor:"pointer"}},{default:N(()=>[O(i)?(le(),Re(Ry,{key:0,indeterminate:!0})):(le(),Re(en,{key:1,size:"56",color:"grey"},{default:N(()=>[...F[9]||(F[9]=[Je("mdi-upload",-1)])]),_:1})),H("div",Hhe,[O(i)?(le(),et("span",Qhe,"Uploading. Please wait...")):(le(),et("span",jhe,"Drag & drop CSV file here or click to upload"))]),H("input",{type:"file",ref_key:"file_input",ref:l,class:"d-none",accept:".csv",onChange:C},null,544)]),_:1})],64)),x(hi,{class:"mt-5",style:Ue(O(zr)),items:O(f),headers:s},{item:N(({item:I})=>[H("tr",null,[H("td",null,[H("a",{href:`inventory/download/${I.id}`},at(I.name),9,$he)]),H("td",null,[I.is_mapped?(le(),et("span",Khe,[x(en,{size:"small"},{default:N(()=>[...F[11]||(F[11]=[Je("mdi-check-circle-outline",-1)])]),_:1}),F[12]||(F[12]=H("span",{class:"ml-2"},"Completed",-1))])):(le(),et("span",Whe,[x(en,{size:"small"},{default:N(()=>[...F[13]||(F[13]=[Je("mdi-progress-clock",-1)])]),_:1}),F[14]||(F[14]=H("span",{class:"ml-2"},"In-progress",-1))]))]),H("td",null,[x($e,{color:"red",size:"small",text:"Delete",variant:"outlined",onClick:k=>T(I),"prepend-icon":"mdi-trash-can"},null,8,["onClick"])])])]),_:1},8,["style","items"])],64))}}),Ghe={class:"text-grey mt-3"},Yhe={key:0},Xhe={key:1},Jhe=rn({__name:"DroppableFileInput",props:F8({allowed_types:{type:Array},loading:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const t=Vt(),e=L8(n,"modelValue"),r=Oe(null),o=l=>{if(n.loading)return t.ShowError("An upload is still in progress...");const u=l.dataTransfer.files[0];u&&a(l,!0)&&(e.value=u)},i=l=>{const u=l.target.files[0];u&&a(l)&&(e.value=u)},a=(l,u=!1)=>{var f;const d=(f=(u?l.dataTransfer.files[0]:l.target.files[0]).name.split(".").pop())==null?void 0:f.toLowerCase();return n.allowed_types.includes(d)?!0:(e.value=null,l.target&&(l.target.value=""),t.ShowError(`Only ${n.allowed_types.join().toUpperCase()} files are allowed.`),!1)},s=()=>{var l;if(n.loading)return t.ShowError("An upload is still in progress...");(l=r.value)==null||l.click()};return(l,u)=>(le(),Re(eE,{height:"225",rounded:"lg",elevation:"0",onDragover:u[0]||(u[0]=Mu(()=>{},["prevent"])),onClick:s,onDrop:Mu(o,["prevent"]),class:"d-flex flex-column align-center justify-center",style:{background:"transparent",border:"2px dashed #9e9e9e",cursor:"pointer"}},{default:N(()=>{var c;return[n.loading?(le(),Re(Ry,{key:0,indeterminate:!0})):(le(),Re(en,{key:1,size:"56",color:"grey"},{default:N(()=>[...u[1]||(u[1]=[Je("mdi-upload",-1)])]),_:1})),H("div",Ghe,[n.loading?(le(),et("span",Yhe,"Uploading. Please wait...")):(le(),et("span",Xhe,at(((c=e.value)==null?void 0:c.name)||"Drag & drop a file here or click to upload"),1))]),H("input",{type:"file",accept:".png,.jpg,.jpeg,.svg,.gif,.webp",class:"d-none",ref_key:"file_input_ref",ref:r,onChange:i},null,544)]}),_:1}))}}),Zhe=it({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Yh(),...Jk()},"VSwitch"),Sl=Dt()({name:"VSwitch",inheritAttrs:!1,props:Zhe(),emits:{"update:focused":n=>!0,"update:modelValue":n=>!0,"update:indeterminate":n=>!0},setup(n,t){let{attrs:e,slots:r}=t;const o=Mn(n,"indeterminate"),i=Mn(n,"modelValue"),{loaderClasses:a}=$_(n),{isFocused:s,focus:l,blur:u}=av(n),c=Oe(),d=Oe(),f=xL&&window.matchMedia("(forced-colors: active)").matches,h=ze(()=>typeof n.loading=="string"&&n.loading!==""?n.loading:n.color),p=el(),v=ze(()=>n.id||`switch-${p}`);function g(){o.value&&(o.value=!1)}function _(S){var y,C;S.stopPropagation(),S.preventDefault(),(C=(y=c.value)==null?void 0:y.input)==null||C.click()}return Kt(()=>{const[S,y]=Gh(e),C=Ml.filterProps(n),T=Fm.filterProps(n);return x(Ml,bt({ref:d,class:["v-switch",{"v-switch--flat":n.flat},{"v-switch--inset":n.inset},{"v-switch--indeterminate":o.value},a.value,n.class]},S,C,{modelValue:i.value,"onUpdate:modelValue":P=>i.value=P,id:v.value,focused:s.value,style:n.style}),{...r,default:P=>{let{id:F,messagesId:I,isDisabled:k,isReadonly:M,isValid:V}=P;const U={model:i,isValid:V};return x(Fm,bt({ref:c},T,{modelValue:i.value,"onUpdate:modelValue":[$=>i.value=$,g],id:F.value,"aria-describedby":I.value,type:"checkbox","aria-checked":o.value?"mixed":void 0,disabled:k.value,readonly:M.value,onFocus:l,onBlur:u},y),{...r,default:$=>{let{backgroundColorClasses:Q,backgroundColorStyles:J}=$;return H("div",{class:pt(["v-switch__track",f?void 0:Q.value]),style:Ue(J.value),onClick:_},[r["track-true"]&&H("div",{key:"prepend",class:"v-switch__track-true"},[r["track-true"](U)]),r["track-false"]&&H("div",{key:"append",class:"v-switch__track-false"},[r["track-false"](U)])])},input:$=>{let{inputNode:Q,icon:J,backgroundColorClasses:R,backgroundColorStyles:ne}=$;return H(ut,null,[Q,H("div",{class:pt(["v-switch__thumb",{"v-switch__thumb--filled":J||n.loading},n.inset||f?void 0:R.value]),style:Ue(n.inset?void 0:ne.value)},[r.thumb?x(Lr,{defaults:{VIcon:{icon:J,size:"x-small"}}},{default:()=>[r.thumb({...U,icon:J})]}):x(nz,null,{default:()=>[n.loading?x(Nk,{name:"v-switch",active:!0,color:V.value===!1?void 0:h.value},{default:ue=>r.loader?r.loader(ue):x(Ry,{active:ue.isActive,color:ue.color,indeterminate:!0,size:"16",width:"2"},null)}):J&&x(en,{key:String(J),icon:J,size:"x-small"},null)]})])])}})}})}),nl({},d)}}),qhe={class:"ma-auto d-flex align-center",style:{width:"fit-content"}},epe=["innerHTML"],tpe=["innerHTML"],dV=rn({__name:"DualSwitcher",props:{modelValue:{},left_text:{},right_text:{},left_value:{},right_value:{}},emits:["update:modelValue"],setup(n){return(t,e)=>(le(),et("div",qhe,[H("span",{class:"mr-2",innerHTML:n.left_text},null,8,epe),x(Sl,{"onUpdate:modelValue":e[0]||(e[0]=r=>t.$emit("update:modelValue",r)),"false-value":n.left_value??1,"true-value":n.right_value??2,"model-value":n.modelValue,"base-color":"info",color:"info","hide-details":""},null,8,["false-value","true-value","model-value"]),H("span",{class:"ml-2",innerHTML:n.right_text},null,8,tpe)]))}});function ka(n){this.content=n}ka.prototype={constructor:ka,find:function(n){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===n)return t;return-1},get:function(n){var t=this.find(n);return t==-1?void 0:this.content[t+1]},update:function(n,t,e){var r=e&&e!=n?this.remove(e):this,o=r.find(n),i=r.content.slice();return o==-1?i.push(e||n,t):(i[o+1]=t,e&&(i[o]=e)),new ka(i)},remove:function(n){var t=this.find(n);if(t==-1)return this;var e=this.content.slice();return e.splice(t,2),new ka(e)},addToStart:function(n,t){return new ka([n,t].concat(this.remove(n).content))},addToEnd:function(n,t){var e=this.remove(n).content.slice();return e.push(n,t),new ka(e)},addBefore:function(n,t,e){var r=this.remove(t),o=r.content.slice(),i=r.find(n);return o.splice(i==-1?o.length:i,0,t,e),new ka(o)},forEach:function(n){for(var t=0;t<this.content.length;t+=2)n(this.content[t],this.content[t+1])},prepend:function(n){return n=ka.from(n),n.size?new ka(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=ka.from(n),n.size?new ka(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var t=this;n=ka.from(n);for(var e=0;e<n.content.length;e+=2)t=t.remove(n.content[e]);return t},toObject:function(){var n={};return this.forEach(function(t,e){n[t]=e}),n},get size(){return this.content.length>>1}};ka.from=function(n){if(n instanceof ka)return n;var t=[];if(n)for(var e in n)t.push(e,n[e]);return new ka(t)};function bG(n,t,e){for(let r=0;;r++){if(r==n.childCount||r==t.childCount)return n.childCount==t.childCount?null:e;let o=n.child(r),i=t.child(r);if(o==i){e+=o.nodeSize;continue}if(!o.sameMarkup(i))return e;if(o.isText&&o.text!=i.text){for(let a=0;o.text[a]==i.text[a];a++)e++;return e}if(o.content.size||i.content.size){let a=bG(o.content,i.content,e+1);if(a!=null)return a}e+=o.nodeSize}}function wG(n,t,e,r){for(let o=n.childCount,i=t.childCount;;){if(o==0||i==0)return o==i?null:{a:e,b:r};let a=n.child(--o),s=t.child(--i),l=a.nodeSize;if(a==s){e-=l,r-=l;continue}if(!a.sameMarkup(s))return{a:e,b:r};if(a.isText&&a.text!=s.text){let u=0,c=Math.min(a.text.length,s.text.length);for(;u<c&&a.text[a.text.length-u-1]==s.text[s.text.length-u-1];)u++,e--,r--;return{a:e,b:r}}if(a.content.size||s.content.size){let u=wG(a.content,s.content,e-1,r-1);if(u)return u}e-=l,r-=l}}class Pt{constructor(t,e){if(this.content=t,this.size=e||0,e==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,e,r,o=0,i){for(let a=0,s=0;s<e;a++){let l=this.content[a],u=s+l.nodeSize;if(u>t&&r(l,o+s,i||null,a)!==!1&&l.content.size){let c=s+1;l.nodesBetween(Math.max(0,t-c),Math.min(l.content.size,e-c),r,o+c)}s=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,r,o){let i="",a=!0;return this.nodesBetween(t,e,(s,l)=>{let u=s.isText?s.text.slice(Math.max(t,l)-l,e-l):s.isLeaf?o?typeof o=="function"?o(s):o:s.type.spec.leafText?s.type.spec.leafText(s):"":"";s.isBlock&&(s.isLeaf&&u||s.isTextblock)&&r&&(a?a=!1:i+=r),i+=u},0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,r=t.firstChild,o=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(r)&&(o[o.length-1]=e.withText(e.text+r.text),i=1);i<t.content.length;i++)o.push(t.content[i]);return new Pt(o,this.size+t.size)}cut(t,e=this.size){if(t==0&&e==this.size)return this;let r=[],o=0;if(e>t)for(let i=0,a=0;a<e;i++){let s=this.content[i],l=a+s.nodeSize;l>t&&((a<t||l>e)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,e-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,e-a-1))),r.push(s),o+=s.nodeSize),a=l}return new Pt(r,o)}cutByIndex(t,e){return t==e?Pt.empty:t==0&&e==this.content.length?this:new Pt(this.content.slice(t,e))}replaceChild(t,e){let r=this.content[t];if(r==e)return this;let o=this.content.slice(),i=this.size+e.nodeSize-r.nodeSize;return o[t]=e,new Pt(o,i)}addToStart(t){return new Pt([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Pt(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,r=0;e<this.content.length;e++){let o=this.content[e];t(o,r,e),r+=o.nodeSize}}findDiffStart(t,e=0){return bG(this,t,e)}findDiffEnd(t,e=this.size,r=t.size){return wG(this,t,e,r)}findIndex(t){if(t==0)return E1(0,t);if(t==this.size)return E1(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let e=0,r=0;;e++){let o=this.child(e),i=r+o.nodeSize;if(i>=t)return i==t?E1(e+1,i):E1(e,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,e){if(!e)return Pt.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new Pt(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Pt.empty;let e,r=0;for(let o=0;o<t.length;o++){let i=t[o];r+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(e||(e=t.slice(0,o)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new Pt(e||t,r)}static from(t){if(!t)return Pt.empty;if(t instanceof Pt)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Pt([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Pt.empty=new Pt([],0);const IP={index:0,offset:0};function E1(n,t){return IP.index=n,IP.offset=t,IP}function tE(n,t){if(n===t)return!0;if(!(n&&typeof n=="object")||!(t&&typeof t=="object"))return!1;let e=Array.isArray(n);if(Array.isArray(t)!=e)return!1;if(e){if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(!tE(n[r],t[r]))return!1}else{for(let r in n)if(!(r in t)||!tE(n[r],t[r]))return!1;for(let r in t)if(!(r in n))return!1}return!0}let ho=class EF{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,r=!1;for(let o=0;o<t.length;o++){let i=t[o];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,o));else{if(i.type.excludes(this.type))return t;!r&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,o)),e.push(this),r=!0),e&&e.push(i)}}return e||(e=t.slice()),r||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&tE(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[e.type];if(!r)throw new RangeError(`There is no mark type ${e.type} in this schema`);let o=r.create(e.attrs);return r.checkAttrs(o.attrs),o}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(e[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return EF.none;if(t instanceof EF)return[t];let e=t.slice();return e.sort((r,o)=>r.type.rank-o.type.rank),e}};ho.none=[];class nE extends Error{}class on{constructor(t,e,r){this.content=t,this.openStart=e,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let r=CG(this.content,t+this.openStart,e);return r&&new on(r,this.openStart,this.openEnd)}removeBetween(t,e){return new on(_G(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return on.empty;let r=e.openStart||0,o=e.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new on(Pt.fromJSON(t,e.content),r,o)}static maxOpen(t,e=!0){let r=0,o=0;for(let i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)o++;return new on(t,r,o)}}on.empty=new on(Pt.empty,0,0);function _G(n,t,e){let{index:r,offset:o}=n.findIndex(t),i=n.maybeChild(r),{index:a,offset:s}=n.findIndex(e);if(o==t||i.isText){if(s!=e&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,t).append(n.cut(e))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,i.copy(_G(i.content,t-o-1,e-o-1)))}function CG(n,t,e,r){let{index:o,offset:i}=n.findIndex(t),a=n.maybeChild(o);if(i==t||a.isText)return r&&!r.canReplace(o,o,e)?null:n.cut(0,t).append(e).append(n.cut(t));let s=CG(a.content,t-i-1,e,a);return s&&n.replaceChild(o,a.copy(s))}function npe(n,t,e){if(e.openStart>n.depth)throw new nE("Inserted content deeper than insertion position");if(n.depth-e.openStart!=t.depth-e.openEnd)throw new nE("Inconsistent open depths");return SG(n,t,e,0)}function SG(n,t,e,r){let o=n.index(r),i=n.node(r);if(o==t.index(r)&&r<n.depth-e.openStart){let a=SG(n,t,e,r+1);return i.copy(i.content.replaceChild(o,a))}else if(e.content.size)if(!e.openStart&&!e.openEnd&&n.depth==r&&t.depth==r){let a=n.parent,s=a.content;return Am(a,s.cut(0,n.parentOffset).append(e.content).append(s.cut(t.parentOffset)))}else{let{start:a,end:s}=rpe(e,n);return Am(i,EG(n,a,s,t,r))}else return Am(i,rE(n,t,r))}function xG(n,t){if(!t.type.compatibleContent(n.type))throw new nE("Cannot join "+t.type.name+" onto "+n.type.name)}function BF(n,t,e){let r=n.node(e);return xG(r,t.node(e)),r}function fm(n,t){let e=t.length-1;e>=0&&n.isText&&n.sameMarkup(t[e])?t[e]=n.withText(t[e].text+n.text):t.push(n)}function Db(n,t,e,r){let o=(t||n).node(e),i=0,a=t?t.index(e):o.childCount;n&&(i=n.index(e),n.depth>e?i++:n.textOffset&&(fm(n.nodeAfter,r),i++));for(let s=i;s<a;s++)fm(o.child(s),r);t&&t.depth==e&&t.textOffset&&fm(t.nodeBefore,r)}function Am(n,t){return n.type.checkContent(t),n.copy(t)}function EG(n,t,e,r,o){let i=n.depth>o&&BF(n,t,o+1),a=r.depth>o&&BF(e,r,o+1),s=[];return Db(null,n,o,s),i&&a&&t.index(o)==e.index(o)?(xG(i,a),fm(Am(i,EG(n,t,e,r,o+1)),s)):(i&&fm(Am(i,rE(n,t,o+1)),s),Db(t,e,o,s),a&&fm(Am(a,rE(e,r,o+1)),s)),Db(r,null,o,s),new Pt(s)}function rE(n,t,e){let r=[];if(Db(null,n,e,r),n.depth>e){let o=BF(n,t,e+1);fm(Am(o,rE(n,t,e+1)),r)}return Db(t,null,e,r),new Pt(r)}function rpe(n,t){let e=t.depth-n.openStart,o=t.node(e).copy(n.content);for(let i=e-1;i>=0;i--)o=t.node(i).copy(Pt.from(o));return{start:o.resolveNoCache(n.openStart+e),end:o.resolveNoCache(o.content.size-n.openEnd-e)}}class Lw{constructor(t,e,r){this.pos=t,this.path=e,this.parentOffset=r,this.depth=e.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=t.child(e);return r?t.child(e).cut(r):o}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):t==0?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let r=this.path[e*3],o=e==0?0:this.path[e*3-1]+1;for(let i=0;i<t;i++)o+=r.child(i).nodeSize;return o}marks(){let t=this.parent,e=this.index();if(t.content.size==0)return ho.none;if(this.textOffset)return t.child(e).marks;let r=t.maybeChild(e-1),o=t.maybeChild(e);if(!r){let s=r;r=o,o=s}let i=r.marks;for(var a=0;a<i.length;a++)i[a].type.spec.inclusive===!1&&(!o||!i[a].isInSet(o.marks))&&(i=i[a--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let r=e.marks,o=t.parent.maybeChild(t.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!o||!r[i].isInSet(o.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new oE(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let r=[],o=0,i=e;for(let a=t;;){let{index:s,offset:l}=a.content.findIndex(i),u=i-l;if(r.push(a,s,o+l),!u||(a=a.child(s),a.isText))break;i=u-1,o+=l+1}return new Lw(e,r,i)}static resolveCached(t,e){let r=F4.get(t);if(r)for(let i=0;i<r.elts.length;i++){let a=r.elts[i];if(a.pos==e)return a}else F4.set(t,r=new ope);let o=r.elts[r.i]=Lw.resolve(t,e);return r.i=(r.i+1)%ipe,o}}class ope{constructor(){this.elts=[],this.i=0}}const ipe=12,F4=new WeakMap;class oE{constructor(t,e,r){this.$from=t,this.$to=e,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ape=Object.create(null);let _h=class kF{constructor(t,e,r,o=ho.none){this.type=t,this.attrs=e,this.marks=o,this.content=r||Pt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,r,o=0){this.content.nodesBetween(t,e,r,o,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,r,o){return this.content.textBetween(t,e,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,r){return this.type==t&&tE(this.attrs,e||t.defaultAttrs||ape)&&ho.sameSet(this.marks,r||ho.none)}copy(t=null){return t==this.content?this:new kF(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new kF(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return t==0&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,r=!1){if(t==e)return on.empty;let o=this.resolve(t),i=this.resolve(e),a=r?0:o.sharedDepth(e),s=o.start(a),u=o.node(a).content.cut(o.pos-s,i.pos-s);return new on(u,o.depth-a,i.depth-a)}replace(t,e,r){return npe(this.resolve(t),this.resolve(e),r)}nodeAt(t){for(let e=this;;){let{index:r,offset:o}=e.content.findIndex(t);if(e=e.maybeChild(r),!e)return null;if(o==t||e.isText)return e;t-=o+1}}childAfter(t){let{index:e,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:e,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(e),index:e,offset:r};let o=this.content.child(e-1);return{node:o,index:e-1,offset:r-o.nodeSize}}resolve(t){return Lw.resolveCached(this,t)}resolveNoCache(t){return Lw.resolve(this,t)}rangeHasMark(t,e,r){let o=!1;return e>t&&this.nodesBetween(t,e,i=>(r.isInSet(i.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),BG(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,r=Pt.empty,o=0,i=r.childCount){let a=this.contentMatchAt(t).matchFragment(r,o,i),s=a&&a.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(let l=o;l<i;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,e,r,o){if(o&&!this.type.allowsMarks(o))return!1;let i=this.contentMatchAt(t).matchType(r),a=i&&i.matchFragment(this.content,e);return a?a.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=ho.none;for(let e=0;e<this.marks.length;e++){let r=this.marks[e];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!ho.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(e=>e.toJSON())),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let r;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=e.marks.map(t.markFromJSON)}if(e.type=="text"){if(typeof e.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(e.text,r)}let o=Pt.fromJSON(t,e.content),i=t.nodeType(e.type).create(e.attrs,o,r);return i.type.checkAttrs(i.attrs),i}};_h.prototype.text=void 0;class iE extends _h{constructor(t,e,r,o){if(super(t,e,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):BG(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new iE(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new iE(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return t==0&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function BG(n,t){for(let e=n.length-1;e>=0;e--)t=n[e].type.name+"("+t+")";return t}class Um{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let r=new spe(t,e);if(r.next==null)return Um.empty;let o=kG(r);r.next&&r.err("Unexpected trailing text");let i=hpe(Ape(o));return ppe(i,r),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,r=t.childCount){let o=this;for(let i=e;o&&i<r;i++)o=o.matchType(t.child(i).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!(e.isText||e.hasRequiredAttrs()))return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let r=0;r<t.next.length;r++)if(this.next[e].type==t.next[r].type)return!0;return!1}fillBefore(t,e=!1,r=0){let o=[this];function i(a,s){let l=a.matchFragment(t,r);if(l&&(!e||l.validEnd))return Pt.from(s.map(u=>u.createAndFill()));for(let u=0;u<a.next.length;u++){let{type:c,next:d}=a.next[u];if(!(c.isText||c.hasRequiredAttrs())&&o.indexOf(d)==-1){o.push(d);let f=i(d,s.concat(c));if(f)return f}}return null}return i(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),i=o.match;if(i.matchType(t)){let a=[];for(let s=o;s.type;s=s.via)a.push(s.type);return a.reverse()}for(let a=0;a<i.next.length;a++){let{type:s,next:l}=i.next[a];!s.isLeaf&&!s.hasRequiredAttrs()&&!(s.name in e)&&(!o.type||l.validEnd)&&(r.push({match:s.contentMatch,type:s,via:o}),e[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function e(r){t.push(r);for(let o=0;o<r.next.length;o++)t.indexOf(r.next[o].next)==-1&&e(r.next[o].next)}return e(this),t.map((r,o)=>{let i=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)i+=(a?", ":"")+r.next[a].type.name+"->"+t.indexOf(r.next[a].next);return i}).join(`
`)}}Um.empty=new Um(!0);class spe{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function kG(n){let t=[];do t.push(lpe(n));while(n.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function lpe(n){let t=[];do t.push(upe(n));while(n.next&&n.next!=")"&&n.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function upe(n){let t=fpe(n);for(;;)if(n.eat("+"))t={type:"plus",expr:t};else if(n.eat("*"))t={type:"star",expr:t};else if(n.eat("?"))t={type:"opt",expr:t};else if(n.eat("{"))t=cpe(n,t);else break;return t}function D4(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let t=Number(n.next);return n.pos++,t}function cpe(n,t){let e=D4(n),r=e;return n.eat(",")&&(n.next!="}"?r=D4(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:e,max:r,expr:t}}function dpe(n,t){let e=n.nodeTypes,r=e[t];if(r)return[r];let o=[];for(let i in e){let a=e[i];a.isInGroup(t)&&o.push(a)}return o.length==0&&n.err("No node type or group '"+t+"' found"),o}function fpe(n){if(n.eat("(")){let t=kG(n);return n.eat(")")||n.err("Missing closing paren"),t}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let t=dpe(n,n.next).map(e=>(n.inline==null?n.inline=e.isInline:n.inline!=e.isInline&&n.err("Mixing inline and block content"),{type:"name",value:e}));return n.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Ape(n){let t=[[]];return o(i(n,0),e()),t;function e(){return t.push([])-1}function r(a,s,l){let u={term:l,to:s};return t[a].push(u),u}function o(a,s){a.forEach(l=>l.to=s)}function i(a,s){if(a.type=="choice")return a.exprs.reduce((l,u)=>l.concat(i(u,s)),[]);if(a.type=="seq")for(let l=0;;l++){let u=i(a.exprs[l],s);if(l==a.exprs.length-1)return u;o(u,s=e())}else if(a.type=="star"){let l=e();return r(s,l),o(i(a.expr,l),l),[r(l)]}else if(a.type=="plus"){let l=e();return o(i(a.expr,s),l),o(i(a.expr,l),l),[r(l)]}else{if(a.type=="opt")return[r(s)].concat(i(a.expr,s));if(a.type=="range"){let l=s;for(let u=0;u<a.min;u++){let c=e();o(i(a.expr,l),c),l=c}if(a.max==-1)o(i(a.expr,l),l);else for(let u=a.min;u<a.max;u++){let c=e();r(l,c),o(i(a.expr,l),c),l=c}return[r(l)]}else{if(a.type=="name")return[r(s,void 0,a.value)];throw new Error("Unknown expr type")}}}}function TG(n,t){return t-n}function U4(n,t){let e=[];return r(t),e.sort(TG);function r(o){let i=n[o];if(i.length==1&&!i[0].term)return r(i[0].to);e.push(o);for(let a=0;a<i.length;a++){let{term:s,to:l}=i[a];!s&&e.indexOf(l)==-1&&r(l)}}}function hpe(n){let t=Object.create(null);return e(U4(n,0));function e(r){let o=[];r.forEach(a=>{n[a].forEach(({term:s,to:l})=>{if(!s)return;let u;for(let c=0;c<o.length;c++)o[c][0]==s&&(u=o[c][1]);U4(n,l).forEach(c=>{u||o.push([s,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let i=t[r.join(",")]=new Um(r.indexOf(n.length-1)>-1);for(let a=0;a<o.length;a++){let s=o[a][1].sort(TG);i.next.push({type:o[a][0],next:t[s.join(",")]||e(s)})}return i}}function ppe(n,t){for(let e=0,r=[n];e<r.length;e++){let o=r[e],i=!o.validEnd,a=[];for(let s=0;s<o.next.length;s++){let{type:l,next:u}=o.next[s];a.push(l.name),i&&!(l.isText||l.hasRequiredAttrs())&&(i=!1),r.indexOf(u)==-1&&r.push(u)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function OG(n){let t=Object.create(null);for(let e in n){let r=n[e];if(!r.hasDefault)return null;t[e]=r.default}return t}function PG(n,t){let e=Object.create(null);for(let r in n){let o=t&&t[r];if(o===void 0){let i=n[r];if(i.hasDefault)o=i.default;else throw new RangeError("No value supplied for attribute "+r)}e[r]=o}return e}function IG(n,t,e,r){for(let o in t)if(!(o in n))throw new RangeError(`Unsupported attribute ${o} for ${e} of type ${o}`);for(let o in n){let i=n[o];i.validate&&i.validate(t[o])}}function MG(n,t){let e=Object.create(null);if(t)for(let r in t)e[r]=new vpe(n,r,t[r]);return e}let L4=class FG{constructor(t,e,r){this.name=t,this.schema=e,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=MG(t,r.attrs),this.defaultAttrs=OG(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Um.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:PG(this.attrs,t)}create(t=null,e,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new _h(this,this.computeAttrs(t),Pt.from(e),ho.setFrom(r))}createChecked(t=null,e,r){return e=Pt.from(e),this.checkContent(e),new _h(this,this.computeAttrs(t),e,ho.setFrom(r))}createAndFill(t=null,e,r){if(t=this.computeAttrs(t),e=Pt.from(e),e.size){let a=this.contentMatch.fillBefore(e);if(!a)return null;e=a.append(e)}let o=this.contentMatch.matchFragment(e),i=o&&o.fillBefore(Pt.empty,!0);return i?new _h(this,t,e.append(i),ho.setFrom(r)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){IG(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let e;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?e&&e.push(t[r]):e||(e=t.slice(0,r));return e?e.length?e:ho.none:t}static compile(t,e){let r=Object.create(null);t.forEach((i,a)=>r[i]=new FG(i,e,a));let o=e.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function mpe(n,t,e){let r=e.split("|");return o=>{let i=o===null?"null":typeof o;if(r.indexOf(i)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${n}, got ${i}`)}}class vpe{constructor(t,e,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?mpe(t,e,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class tT{constructor(t,e,r,o){this.name=t,this.rank=e,this.schema=r,this.spec=o,this.attrs=MG(t,o.attrs),this.excluded=null;let i=OG(this.attrs);this.instance=i?new ho(this,i):null}create(t=null){return!t&&this.instance?this.instance:new ho(this,PG(this.attrs,t))}static compile(t,e){let r=Object.create(null),o=0;return t.forEach((i,a)=>r[i]=new tT(i,o++,e,a)),r}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}checkAttrs(t){IG(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class DG{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let e=this.spec={};for(let o in t)e[o]=t[o];e.nodes=ka.from(t.nodes),e.marks=ka.from(t.marks||{}),this.nodes=L4.compile(this.spec.nodes,this),this.marks=tT.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let i=this.nodes[o],a=i.spec.content||"",s=i.spec.marks;if(i.contentMatch=r[a]||(r[a]=Um.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=s=="_"?null:s?V4(this,s.split(" ")):s==""||!i.inlineContent?[]:null}for(let o in this.marks){let i=this.marks[o],a=i.spec.excludes;i.excluded=a==null?[i]:a==""?[]:V4(this,a.split(" "))}this.nodeFromJSON=o=>_h.fromJSON(this,o),this.markFromJSON=o=>ho.fromJSON(this,o),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,r,o){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof L4){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(e,r,o)}text(t,e){let r=this.nodes.text;return new iE(r,r.defaultAttrs,t,ho.setFrom(e))}mark(t,e){return typeof t=="string"&&(t=this.marks[t]),t.create(e)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function V4(n,t){let e=[];for(let r=0;r<t.length;r++){let o=t[r],i=n.marks[o],a=i;if(i)e.push(i);else for(let s in n.marks){let l=n.marks[s];(o=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(o)>-1)&&e.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return e}function gpe(n){return n.tag!=null}function ype(n){return n.style!=null}let Ub=class TF{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[];let r=this.matchedStyles=[];e.forEach(o=>{if(gpe(o))this.tags.push(o);else if(ype(o)){let i=/[^=]*/.exec(o.style)[0];r.indexOf(i)<0&&r.push(i),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let i=t.nodes[o.node];return i.contentMatch.matchType(i)})}parse(t,e={}){let r=new R4(this,e,!1);return r.addAll(t,ho.none,e.from,e.to),r.finish()}parseSlice(t,e={}){let r=new R4(this,e,!0);return r.addAll(t,ho.none,e.from,e.to),on.maxOpen(r.finish())}matchTag(t,e,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let i=this.tags[o];if(_pe(t,i.tag)&&(i.namespace===void 0||t.namespaceURI==i.namespace)&&(!i.context||e.matchesContext(i.context))){if(i.getAttrs){let a=i.getAttrs(t);if(a===!1)continue;i.attrs=a||void 0}return i}}}matchStyle(t,e,r,o){for(let i=o?this.styles.indexOf(o)+1:0;i<this.styles.length;i++){let a=this.styles[i],s=a.style;if(!(s.indexOf(t)!=0||a.context&&!r.matchesContext(a.context)||s.length>t.length&&(s.charCodeAt(t.length)!=61||s.slice(t.length+1)!=e))){if(a.getAttrs){let l=a.getAttrs(e);if(l===!1)continue;a.attrs=l||void 0}return a}}}static schemaRules(t){let e=[];function r(o){let i=o.priority==null?50:o.priority,a=0;for(;a<e.length;a++){let s=e[a];if((s.priority==null?50:s.priority)<i)break}e.splice(a,0,o)}for(let o in t.marks){let i=t.marks[o].spec.parseDOM;i&&i.forEach(a=>{r(a=H4(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in t.nodes){let i=t.nodes[o].spec.parseDOM;i&&i.forEach(a=>{r(a=H4(a)),a.node||a.ignore||a.mark||(a.node=o)})}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new TF(t,TF.schemaRules(t)))}};const UG={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},bpe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},LG={ol:!0,ul:!0},Vw=1,OF=2,Lb=4;function N4(n,t,e){return t!=null?(t?Vw:0)|(t==="full"?OF:0):n&&n.whitespace=="pre"?Vw|OF:e&~Lb}class B1{constructor(t,e,r,o,i,a){this.type=t,this.attrs=e,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=ho.none,this.match=i||(a&Lb?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(Pt.from(t));if(e)this.match=this.type.contentMatch.matchFragment(e);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(t.type))?(this.match=r,o):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Vw)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-o[0].length))}}let e=Pt.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(Pt.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!UG.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class R4{constructor(t,e,r){this.parser=t,this.options=e,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=e.topNode,i,a=N4(null,e.preserveWhitespace,0)|(r?Lb:0);o?i=new B1(o.type,o.attrs,ho.none,!0,e.topMatch||o.type.contentMatch,a):r?i=new B1(null,null,ho.none,!0,null,a):i=new B1(t.schema.topNodeType,null,ho.none,!0,null,a),this.nodes=[i],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,e){t.nodeType==3?this.addTextNode(t,e):t.nodeType==1&&this.addElement(t,e)}addTextNode(t,e){let r=t.nodeValue,o=this.top,i=o.options&OF?"full":this.localPreserveWS||(o.options&Vw)>0,{schema:a}=this.parser;if(i==="full"||o.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(i)if(i==="full")r=r.replace(/\r\n?/g,`
`);else if(a.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(a.linebreakReplacement.create())){let s=r.split(/\r?\n|\r/);for(let l=0;l<s.length;l++)l&&this.insertNode(a.linebreakReplacement.create(),e,!0),s[l]&&this.insertNode(a.text(s[l]),e,!/\S/.test(s[l]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=o.content[o.content.length-1],l=t.previousSibling;(!s||l&&l.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(a.text(r),e,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,e,r){let o=this.localPreserveWS,i=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let a=t.nodeName.toLowerCase(),s;LG.hasOwnProperty(a)&&this.parser.normalizeLists&&wpe(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(s=this.parser.matchTag(t,this,r));e:if(l?l.ignore:bpe.hasOwnProperty(a))this.findInside(t),this.ignoreFallback(t,e);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let u,c=this.needsBlock;if(UG.hasOwnProperty(a))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),u=!0,i.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,e);break e}let d=l&&l.skip?e:this.readStyles(t,e);d&&this.addAll(t,d),u&&this.sync(i),this.needsBlock=c}else{let u=this.readStyles(t,e);u&&this.addElementByRule(t,l,u,l.consuming===!1?s:void 0)}this.localPreserveWS=o}leafFallback(t,e){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),e)}ignoreFallback(t,e){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),e,!0)}readStyles(t,e){let r=t.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let i=this.parser.matchedStyles[o],a=r.getPropertyValue(i);if(a)for(let s=void 0;;){let l=this.parser.matchStyle(i,a,this,s);if(!l)break;if(l.ignore)return null;if(l.clearMark?e=e.filter(u=>!l.clearMark(u)):e=e.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)s=l;else break}}return e}addElementByRule(t,e,r,o){let i,a;if(e.node)if(a=this.parser.schema.nodes[e.node],a.isLeaf)this.insertNode(a.create(e.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(a,e.attrs||null,r,e.preserveWhitespace);l&&(i=!0,r=l)}else{let l=this.parser.schema.marks[e.mark];r=r.concat(l.create(e.attrs))}let s=this.top;if(a&&a.isLeaf)this.findInside(t);else if(o)this.addElement(t,r,o);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof e.contentElement=="string"?l=t.querySelector(e.contentElement):typeof e.contentElement=="function"?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}i&&this.sync(s)&&this.open--}addAll(t,e,r,o){let i=r||0;for(let a=r?t.childNodes[r]:t.firstChild,s=o==null?null:t.childNodes[o];a!=s;a=a.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(a,e);this.findAtPoint(t,i)}findPlace(t,e,r){let o,i;for(let a=this.open,s=0;a>=0;a--){let l=this.nodes[a],u=l.findWrapping(t);if(u&&(!o||o.length>u.length+s)&&(o=u,i=l,!u.length))break;if(l.solid){if(r)break;s+=2}}if(!o)return null;this.sync(i);for(let a=0;a<o.length;a++)e=this.enterInner(o[a],null,e,!1);return e}insertNode(t,e,r){if(t.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(e=this.enterInner(i,null,e))}let o=this.findPlace(t,e,r);if(o){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(t.type));let a=ho.none;for(let s of o.concat(t.marks))(i.type?i.type.allowsMarkType(s.type):Q4(s.type,t.type))&&(a=s.addToSet(a));return i.content.push(t.mark(a)),!0}return!1}enter(t,e,r,o){let i=this.findPlace(t.create(e),r,!1);return i&&(i=this.enterInner(t,e,r,!0,o)),i}enterInner(t,e,r,o=!1,i){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(t);let s=N4(t,i,a.options);a.options&Lb&&a.content.length==0&&(s|=Lb);let l=ho.none;return r=r.filter(u=>(a.type?a.type.allowsMarkType(u.type):Q4(u.type,t))?(l=u.addToSet(l),!1):!0),this.nodes.push(new B1(t,e,l,o,null,s)),this.open++,r}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let e=this.open;e>=0;e--){if(this.nodes[e]==t)return this.open=e,!0;this.localPreserveWS&&(this.nodes[e].options|=Vw)}return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let r=this.nodes[e].content;for(let o=r.length-1;o>=0;o--)t+=r[o].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==e&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].pos==null&&t.nodeType==1&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,r){if(t!=e&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&t.nodeType==1&&t.contains(this.find[o].node)&&e.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=(s,l)=>{for(;s>=0;s--){let u=e[s];if(u==""){if(s==e.length-1||s==0)continue;for(;l>=i;l--)if(a(s-1,l))return!0;return!1}else{let c=l>0||l==0&&o?this.nodes[l].type:r&&l>=i?r.node(l-i).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return a(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let r=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let e in this.parser.schema.nodes){let r=this.parser.schema.nodes[e];if(r.isTextblock&&r.defaultAttrs)return r}}}function wpe(n){for(let t=n.firstChild,e=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&LG.hasOwnProperty(r)&&e?(e.appendChild(t),t=e):r=="li"?e=t:r&&(e=null)}}function _pe(n,t){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,t)}function H4(n){let t={};for(let e in n)t[e]=n[e];return t}function Q4(n,t){let e=t.schema.nodes;for(let r in e){let o=e[r];if(!o.allowsMarkType(n))continue;let i=[],a=s=>{i.push(s);for(let l=0;l<s.edgeCount;l++){let{type:u,next:c}=s.edge(l);if(u==t||i.indexOf(c)<0&&a(c))return!0}};if(a(o.contentMatch))return!0}}class sv{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},r){r||(r=MP(e).createDocumentFragment());let o=r,i=[];return t.forEach(a=>{if(i.length||a.marks.length){let s=0,l=0;for(;s<i.length&&l<a.marks.length;){let u=a.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(i[s][0])||u.type.spec.spanning===!1)break;s++,l++}for(;s<i.length;)o=i.pop()[1];for(;l<a.marks.length;){let u=a.marks[l++],c=this.serializeMark(u,a.isInline,e);c&&(i.push([u,o]),o.appendChild(c.dom),o=c.contentDOM||c.dom)}}o.appendChild(this.serializeNodeInner(a,e))}),r}serializeNodeInner(t,e){let{dom:r,contentDOM:o}=VS(MP(e),this.nodes[t.type.name](t),null,t.attrs);if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,o)}return r}serializeNode(t,e={}){let r=this.serializeNodeInner(t,e);for(let o=t.marks.length-1;o>=0;o--){let i=this.serializeMark(t.marks[o],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(t,e,r={}){let o=this.marks[t.type.name];return o&&VS(MP(r),o(t,e),null,t.attrs)}static renderSpec(t,e,r=null,o){return VS(t,e,r,o)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new sv(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=j4(t.nodes);return e.text||(e.text=r=>r.text),e}static marksFromSchema(t){return j4(t.marks)}}function j4(n){let t={};for(let e in n){let r=n[e].spec.toDOM;r&&(t[e]=r)}return t}function MP(n){return n.document||window.document}const $4=new WeakMap;function Cpe(n){let t=$4.get(n);return t===void 0&&$4.set(n,t=Spe(n)),t}function Spe(n){let t=null;function e(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let o=0;o<r.length;o++)e(r[o]);else for(let o in r)e(r[o])}return e(n),t}function VS(n,t,e,r){if(typeof t=="string")return{dom:n.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let o=t[0],i;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(i=Cpe(r))&&i.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(e=o.slice(0,a),o=o.slice(a+1));let s,l=e?n.createElementNS(e,o):n.createElement(o),u=t[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?l.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):d=="style"&&l.style?l.style.cssText=u[d]:l.setAttribute(d,u[d])}}for(let d=c;d<t.length;d++){let f=t[d];if(f===0){if(d<t.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:h,contentDOM:p}=VS(n,f,e,r);if(l.appendChild(h),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:l,contentDOM:s}}const VG=65535,NG=Math.pow(2,16);function xpe(n,t){return n+t*NG}function K4(n){return n&VG}function Epe(n){return(n-(n&VG))/NG}const RG=1,HG=2,NS=4,QG=8;class PF{constructor(t,e,r){this.pos=t,this.delInfo=e,this.recover=r}get deleted(){return(this.delInfo&QG)>0}get deletedBefore(){return(this.delInfo&(RG|NS))>0}get deletedAfter(){return(this.delInfo&(HG|NS))>0}get deletedAcross(){return(this.delInfo&NS)>0}}class eu{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&eu.empty)return eu.empty}recover(t){let e=0,r=K4(t);if(!this.inverted)for(let o=0;o<r;o++)e+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+e+Epe(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,r){let o=0,i=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?o:0);if(l>t)break;let u=this.ranges[s+i],c=this.ranges[s+a],d=l+u;if(t<=d){let f=u?t==l?-1:t==d?1:e:e,h=l+o+(f<0?0:c);if(r)return h;let p=t==(e<0?l:d)?null:xpe(s/3,t-l),v=t==l?HG:t==d?RG:NS;return(e<0?t!=l:t!=d)&&(v|=QG),new PF(h,v,p)}o+=c-u}return r?t+o:new PF(t+o,0,null)}touches(t,e){let r=0,o=K4(e),i=this.inverted?2:1,a=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let l=this.ranges[s]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[s+i],c=l+u;if(t<=c&&s==o*3)return!0;r+=this.ranges[s+a]-u}return!1}forEach(t){let e=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,i=0;o<this.ranges.length;o+=3){let a=this.ranges[o],s=a-(this.inverted?i:0),l=a+(this.inverted?0:i),u=this.ranges[o+e],c=this.ranges[o+r];t(s,s+u,l,l+c),i+=c-u}}invert(){return new eu(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?eu.empty:new eu(t<0?[0,-t,0]:[0,0,t])}}eu.empty=new eu([]);class Nw{constructor(t,e,r=0,o=t?t.length:0){this.mirror=e,this.from=r,this.to=o,this._maps=t||[],this.ownData=!(t||e)}get maps(){return this._maps}slice(t=0,e=this.maps.length){return new Nw(this._maps,this.mirror,t,e)}appendMap(t,e){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),e!=null&&this.setMirror(this._maps.length-1,e)}appendMapping(t){for(let e=0,r=this._maps.length;e<t._maps.length;e++){let o=t.getMirror(e);this.appendMap(t._maps[e],o!=null&&o<e?r+o:void 0)}}getMirror(t){if(this.mirror){for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,r=this._maps.length+t._maps.length;e>=0;e--){let o=t.getMirror(e);this.appendMap(t._maps[e].invert(),o!=null&&o>e?r-o-1:void 0)}}invert(){let t=new Nw;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,r){let o=0;for(let i=this.from;i<this.to;i++){let a=this._maps[i],s=a.mapResult(t,e);if(s.recover!=null){let l=this.getMirror(i);if(l!=null&&l>i&&l<this.to){i=l,t=this._maps[l].recover(s.recover);continue}}o|=s.delInfo,t=s.pos}return r?t:new PF(t,o,null)}}const FP=Object.create(null);class ms{getMap(){return eu.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=FP[e.stepType];if(!r)throw new RangeError(`No step type ${e.stepType} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in FP)throw new RangeError("Duplicate use of step JSON ID "+t);return FP[t]=e,e.prototype.jsonID=t,e}}class Li{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new Li(t,null)}static fail(t){return new Li(null,t)}static fromReplace(t,e,r,o){try{return Li.ok(t.replace(e,r,o))}catch(i){if(i instanceof nE)return Li.fail(i.message);throw i}}}function fV(n,t,e){let r=[];for(let o=0;o<n.childCount;o++){let i=n.child(o);i.content.size&&(i=i.copy(fV(i.content,t,i))),i.isInline&&(i=t(i,e,o)),r.push(i)}return Pt.fromArray(r)}class sh extends ms{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new on(fV(e.content,(a,s)=>!a.isAtom||!s.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),e.openStart,e.openEnd);return Li.fromReplace(t,this.from,this.to,i)}invert(){return new xd(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new sh(e.pos,r.pos,this.mark)}merge(t){return t instanceof sh&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new sh(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new sh(e.from,e.to,t.markFromJSON(e.mark))}}ms.jsonID("addMark",sh);class xd extends ms{constructor(t,e,r){super(),this.from=t,this.to=e,this.mark=r}apply(t){let e=t.slice(this.from,this.to),r=new on(fV(e.content,o=>o.mark(this.mark.removeFromSet(o.marks)),t),e.openStart,e.openEnd);return Li.fromReplace(t,this.from,this.to,r)}invert(){return new sh(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new xd(e.pos,r.pos,this.mark)}merge(t){return t instanceof xd&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new xd(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new xd(e.from,e.to,t.markFromJSON(e.mark))}}ms.jsonID("removeMark",xd);class lh extends ms{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Li.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.addToSet(e.marks));return Li.fromReplace(t,this.pos,this.pos+1,new on(Pt.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);if(e){let r=this.mark.addToSet(e.marks);if(r.length==e.marks.length){for(let o=0;o<e.marks.length;o++)if(!e.marks[o].isInSet(r))return new lh(this.pos,e.marks[o]);return new lh(this.pos,this.mark)}}return new Lm(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new lh(e.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new lh(e.pos,t.markFromJSON(e.mark))}}ms.jsonID("addNodeMark",lh);class Lm extends ms{constructor(t,e){super(),this.pos=t,this.mark=e}apply(t){let e=t.nodeAt(this.pos);if(!e)return Li.fail("No node at mark step's position");let r=e.type.create(e.attrs,null,this.mark.removeFromSet(e.marks));return Li.fromReplace(t,this.pos,this.pos+1,new on(Pt.from(r),0,e.isLeaf?0:1))}invert(t){let e=t.nodeAt(this.pos);return!e||!this.mark.isInSet(e.marks)?this:new lh(this.pos,this.mark)}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Lm(e.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Lm(e.pos,t.markFromJSON(e.mark))}}ms.jsonID("removeNodeMark",Lm);class Aa extends ms{constructor(t,e,r,o=!1){super(),this.from=t,this.to=e,this.slice=r,this.structure=o}apply(t){return this.structure&&IF(t,this.from,this.to)?Li.fail("Structure replace would overwrite content"):Li.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new eu([this.from,this.to-this.from,this.slice.size])}invert(t){return new Aa(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deletedAcross&&r.deletedAcross?null:new Aa(e.pos,Math.max(e.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Aa)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let e=this.slice.size+t.slice.size==0?on.empty:new on(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Aa(this.from,this.to+(t.to-t.from),e,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let e=this.slice.size+t.slice.size==0?on.empty:new on(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Aa(t.from,this.to,e,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Aa(e.from,e.to,on.fromJSON(t,e.slice),!!e.structure)}}ms.jsonID("replace",Aa);class va extends ms{constructor(t,e,r,o,i,a,s=!1){super(),this.from=t,this.to=e,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=s}apply(t){if(this.structure&&(IF(t,this.from,this.gapFrom)||IF(t,this.gapTo,this.to)))return Li.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return Li.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,e.content);return r?Li.fromReplace(t,this.from,this.to,r):Li.fail("Content does not fit in gap")}getMap(){return new eu([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new va(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=this.from==this.gapFrom?e.pos:t.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return e.deletedAcross&&r.deletedAcross||o<e.pos||i>r.pos?null:new va(e.pos,r.pos,o,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if(typeof e.from!="number"||typeof e.to!="number"||typeof e.gapFrom!="number"||typeof e.gapTo!="number"||typeof e.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new va(e.from,e.to,e.gapFrom,e.gapTo,on.fromJSON(t,e.slice),e.insert,!!e.structure)}}ms.jsonID("replaceAround",va);function IF(n,t,e){let r=n.resolve(t),o=e-t,i=r.depth;for(;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0){let a=r.node(i).maybeChild(r.indexAfter(i));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function Bpe(n,t,e,r){let o=[],i=[],a,s;n.doc.nodesBetween(t,e,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,t),h=Math.min(u+l.nodeSize,e),p=r.addToSet(d);for(let v=0;v<d.length;v++)d[v].isInSet(p)||(a&&a.to==f&&a.mark.eq(d[v])?a.to=h:o.push(a=new xd(f,h,d[v])));s&&s.to==f?s.to=h:i.push(s=new sh(f,h,r))}}),o.forEach(l=>n.step(l)),i.forEach(l=>n.step(l))}function kpe(n,t,e,r){let o=[],i=0;n.doc.nodesBetween(t,e,(a,s)=>{if(!a.isInline)return;i++;let l=null;if(r instanceof tT){let u=a.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(a.marks)&&(l=[r]):l=a.marks;if(l&&l.length){let u=Math.min(s+a.nodeSize,e);for(let c=0;c<l.length;c++){let d=l[c],f;for(let h=0;h<o.length;h++){let p=o[h];p.step==i-1&&d.eq(o[h].style)&&(f=p)}f?(f.to=u,f.step=i):o.push({style:d,from:Math.max(s,t),to:u,step:i})}}}),o.forEach(a=>n.step(new xd(a.from,a.to,a.style)))}function AV(n,t,e,r=e.contentMatch,o=!0){let i=n.doc.nodeAt(t),a=[],s=t+1;for(let l=0;l<i.childCount;l++){let u=i.child(l),c=s+u.nodeSize,d=r.matchType(u.type);if(!d)a.push(new Aa(s,c,on.empty));else{r=d;for(let f=0;f<u.marks.length;f++)e.allowsMarkType(u.marks[f].type)||n.step(new xd(s,c,u.marks[f]));if(o&&u.isText&&e.whitespace!="pre"){let f,h=/\r?\n|\r/g,p;for(;f=h.exec(u.text);)p||(p=new on(Pt.from(e.schema.text(" ",e.allowedMarks(u.marks))),0,0)),a.push(new Aa(s+f.index,s+f.index+f[0].length,p))}}s=c}if(!r.validEnd){let l=r.fillBefore(Pt.empty,!0);n.replace(s,s,new on(l,0,0))}for(let l=a.length-1;l>=0;l--)n.step(a[l])}function Tpe(n,t,e){return(t==0||n.canReplace(t,n.childCount))&&(e==n.childCount||n.canReplace(0,e))}function $y(n){let e=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth,o=0,i=0;;--r){let a=n.$from.node(r),s=n.$from.index(r)+o,l=n.$to.indexAfter(r)-i;if(r<n.depth&&a.canReplace(s,l,e))return r;if(r==0||a.type.spec.isolating||!Tpe(a,s,l))break;s&&(o=1),l<a.childCount&&(i=1)}return null}function Ope(n,t,e){let{$from:r,$to:o,depth:i}=t,a=r.before(i+1),s=o.after(i+1),l=a,u=s,c=Pt.empty,d=0;for(let p=i,v=!1;p>e;p--)v||r.index(p)>0?(v=!0,c=Pt.from(r.node(p).copy(c)),d++):l--;let f=Pt.empty,h=0;for(let p=i,v=!1;p>e;p--)v||o.after(p+1)<o.end(p)?(v=!0,f=Pt.from(o.node(p).copy(f)),h++):u++;n.step(new va(l,u,a,s,new on(c.append(f),d,h),c.size-d,!0))}function hV(n,t,e=null,r=n){let o=Ppe(n,t),i=o&&Ipe(r,t);return i?o.map(W4).concat({type:t,attrs:e}).concat(i.map(W4)):null}function W4(n){return{type:n,attrs:null}}function Ppe(n,t){let{parent:e,startIndex:r,endIndex:o}=n,i=e.contentMatchAt(r).findWrapping(t);if(!i)return null;let a=i.length?i[0]:t;return e.canReplaceWith(r,o,a)?i:null}function Ipe(n,t){let{parent:e,startIndex:r,endIndex:o}=n,i=e.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;let l=(a.length?a[a.length-1]:t).contentMatch;for(let u=r;l&&u<o;u++)l=l.matchType(e.child(u).type);return!l||!l.validEnd?null:a}function Mpe(n,t,e){let r=Pt.empty;for(let a=e.length-1;a>=0;a--){if(r.size){let s=e[a].type.contentMatch.matchFragment(r);if(!s||!s.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Pt.from(e[a].type.create(e[a].attrs,r))}let o=t.start,i=t.end;n.step(new va(o,i,o,i,new on(r,0,0),e.length,!0))}function Fpe(n,t,e,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=n.steps.length;n.doc.nodesBetween(t,e,(a,s)=>{let l=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,l)&&Dpe(n.doc,n.mapping.slice(i).map(s),r)){let u=null;if(r.schema.linebreakReplacement){let h=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);h&&!p?u=!1:!h&&p&&(u=!0)}u===!1&&$G(n,a,s,i),AV(n,n.mapping.slice(i).map(s,1),r,void 0,u===null);let c=n.mapping.slice(i),d=c.map(s,1),f=c.map(s+a.nodeSize,1);return n.step(new va(d,f,d+1,f-1,new on(Pt.from(r.create(l,null,a.marks)),0,0),1,!0)),u===!0&&jG(n,a,s,i),!1}})}function jG(n,t,e,r){t.forEach((o,i)=>{if(o.isText){let a,s=/\r?\n|\r/g;for(;a=s.exec(o.text);){let l=n.mapping.slice(r).map(e+1+i+a.index);n.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function $G(n,t,e,r){t.forEach((o,i)=>{if(o.type==o.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(e+1+i);n.replaceWith(a,a+1,t.type.schema.text(`
`))}})}function Dpe(n,t,e){let r=n.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,e)}function Upe(n,t,e,r,o){let i=n.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");e||(e=i.type);let a=e.create(r,null,o||i.marks);if(i.isLeaf)return n.replaceWith(t,t+i.nodeSize,a);if(!e.validContent(i.content))throw new RangeError("Invalid content for node type "+e.name);n.step(new va(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new on(Pt.from(a),0,0),1,!0))}function $f(n,t,e=1,r){let o=n.resolve(t),i=o.depth-e,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let u=o.depth-1,c=e-2;u>i;u--,c--){let d=o.node(u),f=o.index(u);if(d.type.spec.isolating)return!1;let h=d.content.cutByIndex(f,d.childCount),p=r&&r[c+1];p&&(h=h.replaceChild(0,p.type.create(p.attrs)));let v=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!v.type.validContent(h))return!1}let s=o.indexAfter(i),l=r&&r[0];return o.node(i).canReplaceWith(s,s,l?l.type:o.node(i+1).type)}function Lpe(n,t,e=1,r){let o=n.doc.resolve(t),i=Pt.empty,a=Pt.empty;for(let s=o.depth,l=o.depth-e,u=e-1;s>l;s--,u--){i=Pt.from(o.node(s).copy(i));let c=r&&r[u];a=Pt.from(c?c.type.create(c.attrs,a):o.node(s).copy(a))}n.step(new Aa(t,t,new on(i.append(a),e,e),!0))}function Xh(n,t){let e=n.resolve(t),r=e.index();return KG(e.nodeBefore,e.nodeAfter)&&e.parent.canReplace(r,r+1)}function Vpe(n,t){t.content.size||n.type.compatibleContent(t.type);let e=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let o=0;o<t.childCount;o++){let i=t.child(o),a=i.type==r?n.type.schema.nodes.text:i.type;if(e=e.matchType(a),!e||!n.type.allowsMarks(i.marks))return!1}return e.validEnd}function KG(n,t){return!!(n&&t&&!n.isLeaf&&Vpe(n,t))}function nT(n,t,e=-1){let r=n.resolve(t);for(let o=r.depth;;o--){let i,a,s=r.index(o);if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):e>0?(i=r.node(o+1),s++,a=r.node(o).maybeChild(s)):(i=r.node(o).maybeChild(s-1),a=r.node(o+1)),i&&!i.isTextblock&&KG(i,a)&&r.node(o).canReplace(s,s+1))return t;if(o==0)break;t=e<0?r.before(o):r.after(o)}}function Npe(n,t,e){let r=null,{linebreakReplacement:o}=n.doc.type.schema,i=n.doc.resolve(t-e),a=i.node().type;if(o&&a.inlineContent){let c=a.whitespace=="pre",d=!!a.contentMatch.matchType(o);c&&!d?r=!1:!c&&d&&(r=!0)}let s=n.steps.length;if(r===!1){let c=n.doc.resolve(t+e);$G(n,c.node(),c.before(),s)}a.inlineContent&&AV(n,t+e-1,a,i.node().contentMatchAt(i.index()),r==null);let l=n.mapping.slice(s),u=l.map(t-e);if(n.step(new Aa(u,l.map(t+e,-1),on.empty,!0)),r===!0){let c=n.doc.resolve(u);jG(n,c.node(),c.before(),n.steps.length)}return n}function Rpe(n,t,e){let r=n.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),e))return t;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let i=r.index(o);if(r.node(o).canReplaceWith(i,i,e))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let i=r.indexAfter(o);if(r.node(o).canReplaceWith(i,i,e))return r.after(o+1);if(i<r.node(o).childCount)return null}return null}function WG(n,t,e){let r=n.resolve(t);if(!e.content.size)return t;let o=e.content;for(let i=0;i<e.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(e.openStart==0&&e.size?2:1);i++)for(let a=r.depth;a>=0;a--){let s=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,l=r.index(a)+(s>0?1:0),u=r.node(a),c=!1;if(i==1)c=u.canReplace(l,l,o);else{let d=u.contentMatchAt(l).findWrapping(o.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return s==0?r.pos:s<0?r.before(a+1):r.after(a+1)}return null}function rT(n,t,e=t,r=on.empty){if(t==e&&!r.size)return null;let o=n.resolve(t),i=n.resolve(e);return zG(o,i,r)?new Aa(t,e,r):new Hpe(o,i,r).fit()}function zG(n,t,e){return!e.openStart&&!e.openEnd&&n.start()==t.start()&&n.parent.canReplace(n.index(),t.index(),e.content)}class Hpe{constructor(t,e,r){this.$from=t,this.$to=e,this.unplaced=r,this.frontier=[],this.placed=Pt.empty;for(let o=0;o<=t.depth;o++){let i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))})}for(let o=t.depth;o>0;o--)this.placed=Pt.from(t.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;let i=this.placed,a=r.depth,s=o.depth;for(;a&&s&&i.childCount==1;)i=i.firstChild.content,a--,s--;let l=new on(i,a,s);return t>-1?new va(r.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||r.pos!=this.$to.pos?new Aa(r.pos,o.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let e=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<t;r++){let i=e.firstChild;if(e.childCount>1&&(o=0),i.type.spec.isolating&&o<=r){t=r;break}e=i.content}for(let e=1;e<=2;e++)for(let r=e==1?t:this.unplaced.openStart;r>=0;r--){let o,i=null;r?(i=DP(this.unplaced.content,r-1).firstChild,o=i.content):o=this.unplaced.content;let a=o.firstChild;for(let s=this.depth;s>=0;s--){let{type:l,match:u}=this.frontier[s],c,d=null;if(e==1&&(a?u.matchType(a.type)||(d=u.fillBefore(Pt.from(a),!1)):i&&l.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:s,parent:i,inject:d};if(e==2&&a&&(c=u.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:s,parent:i,wrap:c};if(i&&u.matchType(i.type))break}}}openMore(){let{content:t,openStart:e,openEnd:r}=this.unplaced,o=DP(t,e);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new on(t,e+1,Math.max(r,o.size+e>=t.size-r?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:r}=this.unplaced,o=DP(t,e);if(o.childCount<=1&&e>0){let i=t.size-e<=e+o.size;this.unplaced=new on(sb(t,e-1,1),e-1,i?e-1:r)}else this.unplaced=new on(sb(t,e,1),e,r)}placeNodes({sliceDepth:t,frontierDepth:e,parent:r,inject:o,wrap:i}){for(;this.depth>e;)this.closeFrontierNode();if(i)for(let v=0;v<i.length;v++)this.openFrontierNode(i[v]);let a=this.unplaced,s=r?r.content:a.content,l=a.openStart-t,u=0,c=[],{match:d,type:f}=this.frontier[e];if(o){for(let v=0;v<o.childCount;v++)c.push(o.child(v));d=d.matchFragment(o)}let h=s.size+t-(a.content.size-a.openEnd);for(;u<s.childCount;){let v=s.child(u),g=d.matchType(v.type);if(!g)break;u++,(u>1||l==0||v.content.size)&&(d=g,c.push(GG(v.mark(f.allowedMarks(v.marks)),u==1?l:0,u==s.childCount?h:-1)))}let p=u==s.childCount;p||(h=-1),this.placed=lb(this.placed,e,Pt.from(c)),this.frontier[e].match=d,p&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,g=s;v<h;v++){let _=g.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),g=_.content}this.unplaced=p?t==0?on.empty:new on(sb(a.content,t-1,1),t-1,h<0?a.openEnd:t-1):new on(sb(a.content,t,u),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],e;if(!t.type.isTextblock||!UP(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(t){e:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:r,type:o}=this.frontier[e],i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),a=UP(t,e,o,r,i);if(a){for(let s=e-1;s>=0;s--){let{match:l,type:u}=this.frontier[s],c=UP(t,s,u,l,!0);if(!c||c.childCount)continue e}return{depth:e,fit:a,move:i?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=lb(this.placed,e.depth,e.fit)),t=e.move;for(let r=e.depth+1;r<=t.depth;r++){let o=t.node(r),i=o.type.contentMatch.fillBefore(o.content,!0,t.index(r));this.openFrontierNode(o.type,o.attrs,i)}return t}openFrontierNode(t,e=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=lb(this.placed,this.depth,Pt.from(t.create(e,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(Pt.empty,!0);e.childCount&&(this.placed=lb(this.placed,this.frontier.length,e))}}function sb(n,t,e){return t==0?n.cutByIndex(e,n.childCount):n.replaceChild(0,n.firstChild.copy(sb(n.firstChild.content,t-1,e)))}function lb(n,t,e){return t==0?n.append(e):n.replaceChild(n.childCount-1,n.lastChild.copy(lb(n.lastChild.content,t-1,e)))}function DP(n,t){for(let e=0;e<t;e++)n=n.firstChild.content;return n}function GG(n,t,e){if(t<=0)return n;let r=n.content;return t>1&&(r=r.replaceChild(0,GG(r.firstChild,t-1,r.childCount==1?e-1:0))),t>0&&(r=n.type.contentMatch.fillBefore(r).append(r),e<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(Pt.empty,!0)))),n.copy(r)}function UP(n,t,e,r,o){let i=n.node(t),a=o?n.indexAfter(t):n.index(t);if(a==i.childCount&&!e.compatibleContent(i.type))return null;let s=r.fillBefore(i.content,!0,a);return s&&!Qpe(e,i.content,a)?s:null}function Qpe(n,t,e){for(let r=e;r<t.childCount;r++)if(!n.allowsMarks(t.child(r).marks))return!0;return!1}function jpe(n){return n.spec.defining||n.spec.definingForContent}function $pe(n,t,e,r){if(!r.size)return n.deleteRange(t,e);let o=n.doc.resolve(t),i=n.doc.resolve(e);if(zG(o,i,r))return n.step(new Aa(t,e,r));let a=XG(o,i);a[a.length-1]==0&&a.pop();let s=-(o.depth+1);a.unshift(s);for(let f=o.depth,h=o.pos-1;f>0;f--,h--){let p=o.node(f).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;a.indexOf(f)>-1?s=f:o.before(f)==h&&a.splice(1,0,-f)}let l=a.indexOf(s),u=[],c=r.openStart;for(let f=r.content,h=0;;h++){let p=f.firstChild;if(u.push(p),h==r.openStart)break;f=p.content}for(let f=c-1;f>=0;f--){let h=u[f],p=jpe(h.type);if(p&&!h.sameMarkup(o.node(Math.abs(s)-1)))c=f;else if(p||!h.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let h=(f+c+1)%(r.openStart+1),p=u[h];if(p)for(let v=0;v<a.length;v++){let g=a[(v+l)%a.length],_=!0;g<0&&(_=!1,g=-g);let S=o.node(g-1),y=o.index(g-1);if(S.canReplaceWith(y,y,p.type,p.marks))return n.replace(o.before(g),_?i.after(g):e,new on(YG(r.content,0,r.openStart,h),h,r.openEnd))}}let d=n.steps.length;for(let f=a.length-1;f>=0&&(n.replace(t,e,r),!(n.steps.length>d));f--){let h=a[f];h<0||(t=o.before(h),e=i.after(h))}}function YG(n,t,e,r,o){if(t<e){let i=n.firstChild;n=n.replaceChild(0,i.copy(YG(i.content,t+1,e,r,i)))}if(t>r){let i=o.contentMatchAt(0),a=i.fillBefore(n).append(n);n=a.append(i.matchFragment(a).fillBefore(Pt.empty,!0))}return n}function Kpe(n,t,e,r){if(!r.isInline&&t==e&&n.doc.resolve(t).parent.content.size){let o=Rpe(n.doc,t,r.type);o!=null&&(t=e=o)}n.replaceRange(t,e,new on(Pt.from(r),0,0))}function Wpe(n,t,e){let r=n.doc.resolve(t),o=n.doc.resolve(e),i=XG(r,o);for(let a=0;a<i.length;a++){let s=i[a],l=a==i.length-1;if(l&&s==0||r.node(s).type.contentMatch.validEnd)return n.delete(r.start(s),o.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),o.indexAfter(s-1))))return n.delete(r.before(s),o.after(s))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(t-r.start(a)==r.depth-a&&e>r.end(a)&&o.end(a)-e!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return n.delete(r.before(a),e);n.delete(t,e)}function XG(n,t){let e=[],r=Math.min(n.depth,t.depth);for(let o=r;o>=0;o--){let i=n.start(o);if(i<n.pos-(n.depth-o)||t.end(o)>t.pos+(t.depth-o)||n.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(i==t.start(o)||o==n.depth&&o==t.depth&&n.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==i-1)&&e.push(o)}return e}class Gg extends ms{constructor(t,e,r){super(),this.pos=t,this.attr=e,this.value=r}apply(t){let e=t.nodeAt(this.pos);if(!e)return Li.fail("No node at attribute step's position");let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let o=e.type.create(r,null,e.marks);return Li.fromReplace(t,this.pos,this.pos+1,new on(Pt.from(o),0,e.isLeaf?0:1))}getMap(){return eu.empty}invert(t){return new Gg(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let e=t.mapResult(this.pos,1);return e.deletedAfter?null:new Gg(e.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.pos!="number"||typeof e.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Gg(e.pos,e.attr,e.value)}}ms.jsonID("attr",Gg);class Rw extends ms{constructor(t,e){super(),this.attr=t,this.value=e}apply(t){let e=Object.create(null);for(let o in t.attrs)e[o]=t.attrs[o];e[this.attr]=this.value;let r=t.type.create(e,t.content,t.marks);return Li.ok(r)}getMap(){return eu.empty}invert(t){return new Rw(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,e){if(typeof e.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Rw(e.attr,e.value)}}ms.jsonID("docAttr",Rw);let my=class extends Error{};my=function n(t){let e=Error.call(this,t);return e.__proto__=n.prototype,e};my.prototype=Object.create(Error.prototype);my.prototype.constructor=my;my.prototype.name="TransformError";class JG{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Nw}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new my(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}changedRange(){let t=1e9,e=-1e9;for(let r=0;r<this.mapping.maps.length;r++){let o=this.mapping.maps[r];r&&(t=o.map(t,1),e=o.map(e,-1)),o.forEach((i,a,s,l)=>{t=Math.min(t,s),e=Math.max(e,l)})}return t==1e9?null:{from:t,to:e}}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,r=on.empty){let o=rT(this.doc,t,e,r);return o&&this.step(o),this}replaceWith(t,e,r){return this.replace(t,e,new on(Pt.from(r),0,0))}delete(t,e){return this.replace(t,e,on.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,r){return $pe(this,t,e,r),this}replaceRangeWith(t,e,r){return Kpe(this,t,e,r),this}deleteRange(t,e){return Wpe(this,t,e),this}lift(t,e){return Ope(this,t,e),this}join(t,e=1){return Npe(this,t,e),this}wrap(t,e){return Mpe(this,t,e),this}setBlockType(t,e=t,r,o=null){return Fpe(this,t,e,r,o),this}setNodeMarkup(t,e,r=null,o){return Upe(this,t,e,r,o),this}setNodeAttribute(t,e,r){return this.step(new Gg(t,e,r)),this}setDocAttribute(t,e){return this.step(new Rw(t,e)),this}addNodeMark(t,e){return this.step(new lh(t,e)),this}removeNodeMark(t,e){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(e instanceof ho)e.isInSet(r.marks)&&this.step(new Lm(t,e));else{let o=r.marks,i,a=[];for(;i=e.isInSet(o);)a.push(new Lm(t,i)),o=i.removeFromSet(o);for(let s=a.length-1;s>=0;s--)this.step(a[s])}return this}split(t,e=1,r){return Lpe(this,t,e,r),this}addMark(t,e,r){return Bpe(this,t,e,r),this}removeMark(t,e,r){return kpe(this,t,e,r),this}clearIncompatible(t,e,r){return AV(this,t,e,r),this}}const LP=Object.create(null);class $n{constructor(t,e,r){this.$anchor=t,this.$head=e,this.ranges=r||[new ZG(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=on.empty){let r=e.content.lastChild,o=null;for(let s=0;s<e.openEnd;s++)o=r,r=r.lastChild;let i=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:u}=a[s],c=t.mapping.slice(i);t.replaceRange(c.map(l.pos),c.map(u.pos),s?on.empty:e),s==0&&Y4(t,i,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(t,e){let r=t.steps.length,o=this.ranges;for(let i=0;i<o.length;i++){let{$from:a,$to:s}=o[i],l=t.mapping.slice(r),u=l.map(a.pos),c=l.map(s.pos);i?t.deleteRange(u,c):(t.replaceRangeWith(u,c,e),Y4(t,r,e.isInline?-1:1))}}static findFrom(t,e,r=!1){let o=t.parent.inlineContent?new Dn(t):dg(t.node(0),t.parent,t.pos,t.index(),e,r);if(o)return o;for(let i=t.depth-1;i>=0;i--){let a=e<0?dg(t.node(0),t.node(i),t.before(i+1),t.index(i),e,r):dg(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,r);if(a)return a}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new au(t.node(0))}static atStart(t){return dg(t,t,0,0,1)||new au(t)}static atEnd(t){return dg(t,t,t.content.size,t.childCount,-1)||new au(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=LP[e.type];if(!r)throw new RangeError(`No selection type ${e.type} defined`);return r.fromJSON(t,e)}static jsonID(t,e){if(t in LP)throw new RangeError("Duplicate use of selection JSON ID "+t);return LP[t]=e,e.prototype.jsonID=t,e}getBookmark(){return Dn.between(this.$anchor,this.$head).getBookmark()}}$n.prototype.visible=!0;class ZG{constructor(t,e){this.$from=t,this.$to=e}}let z4=!1;function G4(n){!z4&&!n.parent.inlineContent&&(z4=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Dn extends $n{constructor(t,e=t){G4(t),G4(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let r=t.resolve(e.map(this.head));if(!r.parent.inlineContent)return $n.near(r);let o=t.resolve(e.map(this.anchor));return new Dn(o.parent.inlineContent?o:r,r)}replace(t,e=on.empty){if(super.replace(t,e),e==on.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Dn&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new oT(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if(typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Dn(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,r=e){let o=t.resolve(e);return new this(o,r==e?o:t.resolve(r))}static between(t,e,r){let o=t.pos-e.pos;if((!r||o)&&(r=o>=0?1:-1),!e.parent.inlineContent){let i=$n.findFrom(e,r,!0)||$n.findFrom(e,-r,!0);if(i)e=i.$head;else return $n.near(e,r)}return t.parent.inlineContent||(o==0?t=e:(t=($n.findFrom(t,-r,!0)||$n.findFrom(t,r,!0)).$anchor,t.pos<e.pos!=o<0&&(t=e))),new Dn(t,e)}}$n.jsonID("text",Dn);class oT{constructor(t,e){this.anchor=t,this.head=e}map(t){return new oT(t.map(this.anchor),t.map(this.head))}resolve(t){return Dn.between(t.resolve(this.anchor),t.resolve(this.head))}}class Pn extends $n{constructor(t){let e=t.nodeAfter,r=t.node(0).resolve(t.pos+e.nodeSize);super(t,r),this.node=e}map(t,e){let{deleted:r,pos:o}=e.mapResult(this.anchor),i=t.resolve(o);return r?$n.near(i):new Pn(i)}content(){return new on(Pt.from(this.node),0,0)}eq(t){return t instanceof Pn&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new pV(this.anchor)}static fromJSON(t,e){if(typeof e.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Pn(t.resolve(e.anchor))}static create(t,e){return new Pn(t.resolve(e))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Pn.prototype.visible=!1;$n.jsonID("node",Pn);class pV{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:r}=t.mapResult(this.anchor);return e?new oT(r,r):new pV(r)}resolve(t){let e=t.resolve(this.anchor),r=e.nodeAfter;return r&&Pn.isSelectable(r)?new Pn(e):$n.near(e)}}class au extends $n{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=on.empty){if(e==on.empty){t.delete(0,t.doc.content.size);let r=$n.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new au(t)}map(t){return new au(t)}eq(t){return t instanceof au}getBookmark(){return zpe}}$n.jsonID("all",au);const zpe={map(){return this},resolve(n){return new au(n)}};function dg(n,t,e,r,o,i=!1){if(t.inlineContent)return Dn.create(n,e);for(let a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){let s=t.child(a);if(s.isAtom){if(!i&&Pn.isSelectable(s))return Pn.create(n,e-(o<0?s.nodeSize:0))}else{let l=dg(n,s,e+o,o<0?s.childCount:0,o,i);if(l)return l}e+=s.nodeSize*o}return null}function Y4(n,t,e){let r=n.steps.length-1;if(r<t)return;let o=n.steps[r];if(!(o instanceof Aa||o instanceof va))return;let i=n.mapping.maps[r],a;i.forEach((s,l,u,c)=>{a==null&&(a=c)}),n.setSelection($n.near(n.doc.resolve(a),e))}const X4=1,k1=2,J4=4;class Gpe extends JG{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|X4)&~k1,this.storedMarks=null,this}get selectionSet(){return(this.updated&X4)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=k1,this}ensureMarks(t){return ho.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&k1)>0}addStep(t,e){super.addStep(t,e),this.updated=this.updated&~k1,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let r=this.selection;return e&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ho.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,r){let o=this.doc.type.schema;if(e==null)return t?this.replaceSelectionWith(o.text(t),!0):this.deleteSelection();{if(r==null&&(r=e),!t)return this.deleteRange(e,r);let i=this.storedMarks;if(!i){let a=this.doc.resolve(e);i=r==e?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(e,r,o.text(t,i)),!this.selection.empty&&this.selection.to==e+t.length&&this.setSelection($n.near(this.selection.$to)),this}}setMeta(t,e){return this.meta[typeof t=="string"?t:t.key]=e,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=J4,this}get scrolledIntoView(){return(this.updated&J4)>0}}function Z4(n,t){return!t||!n?n:n.bind(t)}class ub{constructor(t,e,r){this.name=t,this.init=Z4(e.init,r),this.apply=Z4(e.apply,r)}}const Ype=[new ub("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new ub("selection",{init(n,t){return n.selection||$n.atStart(t.doc)},apply(n){return n.selection}}),new ub("storedMarks",{init(n){return n.storedMarks||null},apply(n,t,e,r){return r.selection.$cursor?n.storedMarks:null}}),new ub("scrollToSelection",{init(){return 0},apply(n,t){return n.scrolledIntoView?t+1:t}})];class VP{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Ype.slice(),e&&e.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ub(r.key,r.spec.state,r))})}}class Cg{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=e){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],r=this.applyInner(t),o=null;for(;;){let i=!1;for(let a=0;a<this.config.plugins.length;a++){let s=this.config.plugins[a];if(s.spec.appendTransaction){let l=o?o[a].n:0,u=o?o[a].state:this,c=l<e.length&&s.spec.appendTransaction.call(s,l?e.slice(l):e,u,r);if(c&&r.filterTransaction(c,a)){if(c.setMeta("appendedTransaction",t),!o){o=[];for(let d=0;d<this.config.plugins.length;d++)o.push(d<a?{state:r,n:e.length}:{state:this,n:0})}e.push(c),r=r.applyInner(c),i=!0}o&&(o[a]={state:r,n:e.length})}}if(!i)return{state:r,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new Cg(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let i=r[o];e[i.name]=i.apply(t,this[i.name],this,e)}return e}get tr(){return new Gpe(this)}static create(t){let e=new VP(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new Cg(e);for(let o=0;o<e.fields.length;o++)r[e.fields[o].name]=e.fields[o].init(t,r);return r}reconfigure(t){let e=new VP(this.schema,t.plugins),r=e.fields,o=new Cg(e);for(let i=0;i<r.length;i++){let a=r[i].name;o[a]=this.hasOwnProperty(a)?this[a]:r[i].init(t,o)}return o}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=t[r],i=o.spec.state;i&&i.toJSON&&(e[r]=i.toJSON.call(o,this[o.key]))}return e}static fromJSON(t,e,r){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let o=new VP(t.schema,t.plugins),i=new Cg(o);return o.fields.forEach(a=>{if(a.name=="doc")i.doc=_h.fromJSON(t.schema,e.doc);else if(a.name=="selection")i.selection=$n.fromJSON(i.doc,e.selection);else if(a.name=="storedMarks")e.storedMarks&&(i.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let s in r){let l=r[s],u=l.spec.state;if(l.key==a.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(e,s)){i[a.name]=u.fromJSON.call(l,t,e[s],i);return}}i[a.name]=a.init(t,i)}}),i}}function qG(n,t,e){for(let r in n){let o=n[r];o instanceof Function?o=o.bind(t):r=="handleDOMEvents"&&(o=qG(o,t,{})),e[r]=o}return e}class vs{constructor(t){this.spec=t,this.props={},t.props&&qG(t.props,this,this.props),this.key=t.key?t.key.key:e9("plugin")}getState(t){return t[this.key]}}const NP=Object.create(null);function e9(n){return n in NP?n+"$"+ ++NP[n]:(NP[n]=0,n+"$")}class fu{constructor(t="key"){this.key=e9(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Oa=function(n){for(var t=0;;t++)if(n=n.previousSibling,!n)return t},vy=function(n){let t=n.assignedSlot||n.parentNode;return t&&t.nodeType==11?t.host:t};let MF=null;const Ef=function(n,t,e){let r=MF||(MF=document.createRange());return r.setEnd(n,e??n.nodeValue.length),r.setStart(n,t||0),r},Xpe=function(){MF=null},Vm=function(n,t,e,r){return e&&(q4(n,t,e,r,-1)||q4(n,t,e,r,1))},Jpe=/^(img|br|input|textarea|hr)$/i;function q4(n,t,e,r,o){for(var i;;){if(n==e&&t==r)return!0;if(t==(o<0?0:Iu(n))){let a=n.parentNode;if(!a||a.nodeType!=1||X_(n)||Jpe.test(n.nodeName)||n.contentEditable=="false")return!1;t=Oa(n)+(o<0?0:1),n=a}else if(n.nodeType==1){let a=n.childNodes[t+(o<0?-1:0)];if(a.nodeType==1&&a.contentEditable=="false")if(!((i=a.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)t+=o;else return!1;else n=a,t=o<0?Iu(n):0}else return!1}}function Iu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Zpe(n,t){for(;;){if(n.nodeType==3&&t)return n;if(n.nodeType==1&&t>0){if(n.contentEditable=="false")return null;n=n.childNodes[t-1],t=Iu(n)}else if(n.parentNode&&!X_(n))t=Oa(n),n=n.parentNode;else return null}}function qpe(n,t){for(;;){if(n.nodeType==3&&t<n.nodeValue.length)return n;if(n.nodeType==1&&t<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[t],t=0}else if(n.parentNode&&!X_(n))t=Oa(n)+1,n=n.parentNode;else return null}}function eme(n,t,e){for(let r=t==0,o=t==Iu(n);r||o;){if(n==e)return!0;let i=Oa(n);if(n=n.parentNode,!n)return!1;r=r&&i==0,o=o&&i==Iu(n)}}function X_(n){let t;for(let e=n;e&&!(t=e.pmViewDesc);e=e.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==n||t.contentDOM==n)}const iT=function(n){return n.focusNode&&Vm(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Fp(n,t){let e=document.createEvent("Event");return e.initEvent("keydown",!0,!0),e.keyCode=n,e.key=e.code=t,e}function tme(n){let t=n.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function nme(n,t,e){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(t,e);if(r)return{node:r.offsetNode,offset:Math.min(Iu(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(t,e);if(r)return{node:r.startContainer,offset:Math.min(Iu(r.startContainer),r.startOffset)}}}const Ud=typeof navigator<"u"?navigator:null,eQ=typeof document<"u"?document:null,Jh=Ud&&Ud.userAgent||"",FF=/Edge\/(\d+)/.exec(Jh),t9=/MSIE \d/.exec(Jh),DF=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Jh),Ol=!!(t9||DF||FF),Ch=t9?document.documentMode:DF?+DF[1]:FF?+FF[1]:0,ju=!Ol&&/gecko\/(\d+)/i.test(Jh);ju&&+(/Firefox\/(\d+)/.exec(Jh)||[0,0])[1];const UF=!Ol&&/Chrome\/(\d+)/.exec(Jh),ha=!!UF,n9=UF?+UF[1]:0,La=!Ol&&!!Ud&&/Apple Computer/.test(Ud.vendor),gy=La&&(/Mobile\/\w+/.test(Jh)||!!Ud&&Ud.maxTouchPoints>2),Bu=gy||(Ud?/Mac/.test(Ud.platform):!1),r9=Ud?/Win/.test(Ud.platform):!1,Lf=/Android \d/.test(Jh),J_=!!eQ&&"webkitFontSmoothing"in eQ.documentElement.style,rme=J_?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function ome(n){let t=n.defaultView&&n.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function gf(n,t){return typeof n=="number"?n:n[t]}function ime(n){let t=n.getBoundingClientRect(),e=t.width/n.offsetWidth||1,r=t.height/n.offsetHeight||1;return{left:t.left,right:t.left+n.clientWidth*e,top:t.top,bottom:t.top+n.clientHeight*r}}function tQ(n,t,e){let r=n.someProp("scrollThreshold")||0,o=n.someProp("scrollMargin")||5,i=n.dom.ownerDocument;for(let a=e||n.dom;a;){if(a.nodeType!=1){a=vy(a);continue}let s=a,l=s==i.body,u=l?ome(i):ime(s),c=0,d=0;if(t.top<u.top+gf(r,"top")?d=-(u.top-t.top+gf(o,"top")):t.bottom>u.bottom-gf(r,"bottom")&&(d=t.bottom-t.top>u.bottom-u.top?t.top+gf(o,"top")-u.top:t.bottom-u.bottom+gf(o,"bottom")),t.left<u.left+gf(r,"left")?c=-(u.left-t.left+gf(o,"left")):t.right>u.right-gf(r,"right")&&(c=t.right-u.right+gf(o,"right")),c||d)if(l)i.defaultView.scrollBy(c,d);else{let h=s.scrollLeft,p=s.scrollTop;d&&(s.scrollTop+=d),c&&(s.scrollLeft+=c);let v=s.scrollLeft-h,g=s.scrollTop-p;t={left:t.left-v,top:t.top-g,right:t.right-v,bottom:t.bottom-g}}let f=l?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(f))break;a=f=="absolute"?a.offsetParent:vy(a)}}function ame(n){let t=n.dom.getBoundingClientRect(),e=Math.max(0,t.top),r,o;for(let i=(t.left+t.right)/2,a=e+1;a<Math.min(innerHeight,t.bottom);a+=5){let s=n.root.elementFromPoint(i,a);if(!s||s==n.dom||!n.dom.contains(s))continue;let l=s.getBoundingClientRect();if(l.top>=e-20){r=s,o=l.top;break}}return{refDOM:r,refTop:o,stack:o9(n.dom)}}function o9(n){let t=[],e=n.ownerDocument;for(let r=n;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=e);r=vy(r));return t}function sme({refDOM:n,refTop:t,stack:e}){let r=n?n.getBoundingClientRect().top:0;i9(e,r==0?0:r-t)}function i9(n,t){for(let e=0;e<n.length;e++){let{dom:r,top:o,left:i}=n[e];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Kv=null;function lme(n){if(n.setActive)return n.setActive();if(Kv)return n.focus(Kv);let t=o9(n);n.focus(Kv==null?{get preventScroll(){return Kv={preventScroll:!0},!0}}:void 0),Kv||(Kv=!1,i9(t,0))}function a9(n,t){let e,r=2e8,o,i=0,a=t.top,s=t.top,l,u;for(let c=n.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=Ef(c).getClientRects();else continue;for(let h=0;h<f.length;h++){let p=f[h];if(p.top<=a&&p.bottom>=s){a=Math.max(p.bottom,a),s=Math.min(p.top,s);let v=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(v<r){e=c,r=v,o=v&&e.nodeType==3?{left:p.right<t.left?p.right:p.left,top:t.top}:t,c.nodeType==1&&v&&(i=d+(t.left>=(p.left+p.right)/2?1:0));continue}}else p.top>t.top&&!l&&p.left<=t.left&&p.right>=t.left&&(l=c,u={left:Math.max(p.left,Math.min(p.right,t.left)),top:p.top});!e&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=d+1)}}return!e&&l&&(e=l,o=u,r=0),e&&e.nodeType==3?ume(e,o):!e||r&&e.nodeType==1?{node:n,offset:i}:a9(e,o)}function ume(n,t){let e=n.nodeValue.length,r=document.createRange(),o;for(let i=0;i<e;i++){r.setEnd(n,i+1),r.setStart(n,i);let a=HA(r,1);if(a.top!=a.bottom&&mV(t,a)){o={node:n,offset:i+(t.left>=(a.left+a.right)/2?1:0)};break}}return r.detach(),o||{node:n,offset:0}}function mV(n,t){return n.left>=t.left-1&&n.left<=t.right+1&&n.top>=t.top-1&&n.top<=t.bottom+1}function cme(n,t){let e=n.parentNode;return e&&/^li$/i.test(e.nodeName)&&t.left<n.getBoundingClientRect().left?e:n}function dme(n,t,e){let{node:r,offset:o}=a9(t,e),i=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();i=a.left!=a.right&&e.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,o,i)}function fme(n,t,e,r){let o=-1;for(let i=t,a=!1;i!=n.dom;){let s=n.docView.nearestDesc(i,!0),l;if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)&&((l=s.dom.getBoundingClientRect()).width||l.height)&&(s.node.isBlock&&s.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(s.dom.nodeName)&&(!a&&l.left>r.left||l.top>r.top?o=s.posBefore:(!a&&l.right<r.left||l.bottom<r.top)&&(o=s.posAfter),a=!0),!s.contentDOM&&o<0&&!s.node.isText))return(s.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?s.posBefore:s.posAfter;i=s.dom.parentNode}return o>-1?o:n.docView.posFromDOM(t,e,-1)}function s9(n,t,e){let r=n.childNodes.length;if(r&&e.top<e.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-e.top)/(e.bottom-e.top))-2)),i=o;;){let a=n.childNodes[i];if(a.nodeType==1){let s=a.getClientRects();for(let l=0;l<s.length;l++){let u=s[l];if(mV(t,u))return s9(a,t,u)}}if((i=(i+1)%r)==o)break}return n}function Ame(n,t){let e=n.dom.ownerDocument,r,o=0,i=nme(e,t.left,t.top);i&&({node:r,offset:o}=i);let a=(n.root.elementFromPoint?n.root:e).elementFromPoint(t.left,t.top),s;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let u=n.dom.getBoundingClientRect();if(!mV(t,u)||(a=s9(n.dom,t,u),!a))return null}if(La)for(let u=a;r&&u;u=vy(u))u.draggable&&(r=void 0);if(a=cme(a,t),r){if(ju&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let c=r.childNodes[o],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&o++}let u;J_&&o&&r.nodeType==1&&(u=r.childNodes[o-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&o--,r==n.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?s=n.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(s=fme(n,r,o,t))}s==null&&(s=dme(n,a,t));let l=n.docView.nearestDesc(a,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function nQ(n){return n.top<n.bottom||n.left<n.right}function HA(n,t){let e=n.getClientRects();if(e.length){let r=e[t<0?0:e.length-1];if(nQ(r))return r}return Array.prototype.find.call(e,nQ)||n.getBoundingClientRect()}const hme=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function l9(n,t,e){let{node:r,offset:o,atom:i}=n.docView.domFromPos(t,e<0?-1:1),a=J_||ju;if(r.nodeType==3)if(a&&(hme.test(r.nodeValue)||(e<0?!o:o==r.nodeValue.length))){let l=HA(Ef(r,o,o),e);if(ju&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let u=HA(Ef(r,o-1,o-1),-1);if(u.top==l.top){let c=HA(Ef(r,o,o+1),-1);if(c.top!=l.top)return H0(c,c.left<u.left)}}return l}else{let l=o,u=o,c=e<0?1:-1;return e<0&&!o?(u++,c=-1):e>=0&&o==r.nodeValue.length?(l--,c=1):e<0?l--:u++,H0(HA(Ef(r,l,u),c),c<0)}if(!n.state.doc.resolve(t-(i||0)).parent.inlineContent){if(i==null&&o&&(e<0||o==Iu(r))){let l=r.childNodes[o-1];if(l.nodeType==1)return RP(l.getBoundingClientRect(),!1)}if(i==null&&o<Iu(r)){let l=r.childNodes[o];if(l.nodeType==1)return RP(l.getBoundingClientRect(),!0)}return RP(r.getBoundingClientRect(),e>=0)}if(i==null&&o&&(e<0||o==Iu(r))){let l=r.childNodes[o-1],u=l.nodeType==3?Ef(l,Iu(l)-(a?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return H0(HA(u,1),!1)}if(i==null&&o<Iu(r)){let l=r.childNodes[o];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Ef(l,0,a?0:1):l.nodeType==1?l:null:null;if(u)return H0(HA(u,-1),!0)}return H0(HA(r.nodeType==3?Ef(r):r,-e),e>=0)}function H0(n,t){if(n.width==0)return n;let e=t?n.left:n.right;return{top:n.top,bottom:n.bottom,left:e,right:e}}function RP(n,t){if(n.height==0)return n;let e=t?n.top:n.bottom;return{top:e,bottom:e,left:n.left,right:n.right}}function u9(n,t,e){let r=n.state,o=n.root.activeElement;r!=t&&n.updateState(t),o!=n.dom&&n.focus();try{return e()}finally{r!=t&&n.updateState(r),o!=n.dom&&o&&o.focus()}}function pme(n,t,e){let r=t.selection,o=e=="up"?r.$from:r.$to;return u9(n,t,()=>{let{node:i}=n.docView.domFromPos(o.pos,e=="up"?-1:1);for(;;){let s=n.docView.nearestDesc(i,!0);if(!s)break;if(s.node.isBlock){i=s.contentDOM||s.dom;break}i=s.dom.parentNode}let a=l9(n,o.pos,1);for(let s=i.firstChild;s;s=s.nextSibling){let l;if(s.nodeType==1)l=s.getClientRects();else if(s.nodeType==3)l=Ef(s,0,s.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(e=="up"?a.top-c.top>(c.bottom-a.top)*2:c.bottom-a.bottom>(a.bottom-c.top)*2))return!1}}return!0})}const mme=/[\u0590-\u08ac]/;function vme(n,t,e){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=n.domSelection();return s?!mme.test(r.parent.textContent)||!s.modify?e=="left"||e=="backward"?i:a:u9(n,t,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=n.domSelectionRange(),f=s.caretBidiLevel;s.modify("move",e,"character");let h=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:p,focusOffset:v}=n.domSelectionRange(),g=p&&!h.contains(p.nodeType==1?p:p.parentNode)||l==p&&u==v;try{s.collapse(c,d),l&&(l!=c||u!=d)&&s.extend&&s.extend(l,u)}catch{}return f!=null&&(s.caretBidiLevel=f),g}):r.pos==r.start()||r.pos==r.end()}let rQ=null,oQ=null,iQ=!1;function gme(n,t,e){return rQ==t&&oQ==e?iQ:(rQ=t,oQ=e,iQ=e=="up"||e=="down"?pme(n,t,e):vme(n,t,e))}const $u=0,aQ=1,Kp=2,Ld=3;class Z_{constructor(t,e,r,o){this.parent=t,this.children=e,this.dom=r,this.contentDOM=o,this.dirty=$u,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,r=this.posAtStart;;e++){let o=this.children[e];if(o==t)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let i,a;if(t==this.contentDOM)i=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(a)+a.size:this.posAtStart}else{let i,a;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&!((a=i.pmViewDesc)&&a.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}let o;if(t==this.dom&&this.contentDOM)o=e>Oa(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(e==0)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!1;break}if(i.previousSibling)break}if(o==null&&e==t.childNodes.length)for(let i=t;;i=i.parentNode){if(i==this.dom){o=!0;break}if(i.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let r=!0,o=t;o;o=o.parentNode){let i=this.getDesc(o),a;if(i&&(!e||i.node))if(r&&(a=i.nodeDOM)&&!(a.nodeType==1?a.contains(t.nodeType==1?t:t.parentNode):a==t))r=!1;else return i}}getDesc(t){let e=t.pmViewDesc;for(let r=e;r;r=r.parent)if(r==this)return e}posFromDOM(t,e,r){for(let o=t;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(t,e,r)}return-1}descAt(t){for(let e=0,r=0;e<this.children.length;e++){let o=this.children[e],i=r+o.size;if(r==t&&i!=r){for(;!o.border&&o.children.length;)for(let a=0;a<o.children.length;a++){let s=o.children[a];if(s.size){o=s;break}}return o}if(t<i)return o.descAt(t-r-o.border);r=i}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,o=0;for(let i=0;r<this.children.length;r++){let a=this.children[r],s=i+a.size;if(s>t||a instanceof d9){o=t-i;break}i=s}if(o)return this.children[r].domFromPos(o-this.children[r].border,e);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof c9&&i.side>=0;r--);if(e<=0){let i,a=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,a=!1);return i&&e&&a&&!i.border&&!i.domAtom?i.domFromPos(i.size,e):{node:this.contentDOM,offset:i?Oa(i.dom)+1:0}}else{let i,a=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,a=!1);return i&&a&&!i.border&&!i.domAtom?i.domFromPos(0,e):{node:this.contentDOM,offset:i?Oa(i.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let a=r,s=0;;s++){let l=this.children[s],u=a+l.size;if(o==-1&&t<=u){let c=a+l.border;if(t>=c&&e<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,e,c);t=a;for(let d=s;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){o=Oa(f.dom)+1;break}t-=f.size}o==-1&&(o=0)}if(o>-1&&(u>e||s==this.children.length-1)){e=u;for(let c=s+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){i=Oa(d.dom);break}e+=d.size}i==-1&&(i=this.contentDOM.childNodes.length);break}a=u}return{node:this.contentDOM,from:t,to:e,fromOffset:o,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return e.size==0||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:r}=this.domFromPos(t,0);if(e.nodeType!=1||r==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[r]}setSelection(t,e,r,o=!1){let i=Math.min(t,e),a=Math.max(t,e);for(let h=0,p=0;h<this.children.length;h++){let v=this.children[h],g=p+v.size;if(i>p&&a<g)return v.setSelection(t-p-v.border,e-p-v.border,r,o);p=g}let s=this.domFromPos(t,t?-1:1),l=e==t?s:this.domFromPos(e,e?-1:1),u=r.root.getSelection(),c=r.domSelectionRange(),d=!1;if((ju||La)&&t==e){let{node:h,offset:p}=s;if(h.nodeType==3){if(d=!!(p&&h.nodeValue[p-1]==`
`),d&&p==h.nodeValue.length)for(let v=h,g;v;v=v.parentNode){if(g=v.nextSibling){g.nodeName=="BR"&&(s=l={node:g.parentNode,offset:Oa(g)+1});break}let _=v.pmViewDesc;if(_&&_.node&&_.node.isBlock)break}}else{let v=h.childNodes[p-1];d=v&&(v.nodeName=="BR"||v.contentEditable=="false")}}if(ju&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(o=!0)}if(!(o||d&&La)&&Vm(s.node,s.offset,c.anchorNode,c.anchorOffset)&&Vm(l.node,l.offset,c.focusNode,c.focusOffset))return;let f=!1;if((u.extend||t==e)&&!(d&&ju)){u.collapse(s.node,s.offset);try{t!=e&&u.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(t>e){let p=s;s=l,l=p}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(s.node,s.offset),u.removeAllRanges(),u.addRange(h)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let r=0,o=0;o<this.children.length;o++){let i=this.children[o],a=r+i.size;if(r==a?t<=a&&e>=r:t<a&&e>r){let s=r+i.border,l=a-i.border;if(t>=s&&e<=l){this.dirty=t==r||e==a?Kp:aQ,t==s&&e==l&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Ld:i.markDirty(t-s,e-s);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Kp:Ld}r=a}this.dirty=Kp}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let r=t==1?Kp:aQ;e.dirty<r&&(e.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class c9 extends Z_{constructor(t,e,r,o){let i,a=e.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!i)return o;if(i.parent)return i.parent.posBeforeChild(i)})),!e.type.spec.raw){if(a.nodeType!=1){let s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(t,[],a,null),this.widget=e,this.widget=e,i=this}matchesWidget(t){return this.dirty==$u&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return e?e(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class yme extends Z_{constructor(t,e,r,o){super(t,[],e,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Nm extends Z_{constructor(t,e,r,o,i){super(t,[],r,o),this.mark=e,this.spec=i}static create(t,e,r,o){let i=o.nodeViews[e.type.name],a=i&&i(e,o,r);return(!a||!a.dom)&&(a=sv.renderSpec(document,e.type.spec.toDOM(e,r),null,e.attrs)),new Nm(t,e,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&Ld||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ld&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),this.dirty!=$u){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=$u}}slice(t,e,r){let o=Nm.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;e<a&&(i=VF(i,e,a,r)),t>0&&(i=VF(i,0,t,r));for(let s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Sh extends Z_{constructor(t,e,r,o,i,a,s,l,u){super(t,[],i,a),this.node=e,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=s}static create(t,e,r,o,i,a){let s=i.nodeViews[e.type.name],l,u=s&&s(e,i,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)},r,o),c=u&&u.dom,d=u&&u.contentDOM;if(e.isText){if(!c)c=document.createTextNode(e.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=sv.renderSpec(document,e.type.spec.toDOM(e),null,e.attrs));!d&&!e.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),e.type.spec.draggable&&(c.draggable=!0));let f=c;return c=h9(c,r,e),u?l=new bme(t,e,r,o,c,d||null,f,u,i,a+1):e.isText?new aT(t,e,r,o,c,f,i):new Sh(t,e,r,o,c,d||null,f,i,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let e=this.children.length-1;e>=0;e--){let r=this.children[e];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Pt.empty)}return t}matchesNode(t,e,r){return this.dirty==$u&&t.eq(this.node)&&aE(e,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let r=this.node.inlineContent,o=e,i=t.composing?this.localCompositionInfo(t,e):null,a=i&&i.pos>-1?i:null,s=i&&i.pos<0,l=new _me(this,a&&a.node,t);xme(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,t,c):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?ho.none:this.node.child(c).marks,r,t,c),l.placeWidget(u,t,o)},(u,c,d,f)=>{l.syncToMarks(u.marks,r,t,f);let h;l.findNodeMatch(u,c,d,f)||s&&t.state.selection.from>o&&t.state.selection.to<o+u.nodeSize&&(h=l.findIndexWithChild(i.node))>-1&&l.updateNodeAt(u,c,d,h,t)||l.updateNextNode(u,c,d,t,f,o)||l.addNode(u,c,d,t,o),o+=u.nodeSize}),l.syncToMarks([],r,t,0),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Kp)&&(a&&this.protectLocalComposition(t,a),f9(this.contentDOM,this.children,t),gy&&Eme(this.dom))}localCompositionInfo(t,e){let{from:r,to:o}=t.state.selection;if(!(t.state.selection instanceof Dn)||r<e||o>e+this.node.content.size)return null;let i=t.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let a=i.nodeValue,s=Bme(this.node.content,a,r-e,o-e);return s<0?null:{node:i,pos:s,text:a}}else return{node:i,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:r,text:o}){if(this.getDesc(e))return;let i=e;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let a=new yme(this,i,e,o);t.input.compositionNodes.push(a),this.children=VF(this.children,r,r+o.length,t,a)}update(t,e,r,o){return this.dirty==Ld||!t.sameMarkup(this.node)?!1:(this.updateInner(t,e,r,o),!0)}updateInner(t,e,r,o){this.updateOuterDeco(e),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=$u}updateOuterDeco(t){if(aE(t,this.outerDeco))return;let e=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=A9(this.dom,this.nodeDOM,LF(this.outerDeco,this.node,e),LF(t,this.node,e)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function sQ(n,t,e,r,o){h9(r,t,n);let i=new Sh(void 0,n,t,e,r,r,r,o,0);return i.contentDOM&&i.updateChildren(o,0),i}class aT extends Sh{constructor(t,e,r,o,i,a,s){super(t,e,r,o,i,null,a,s,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,r,o){return this.dirty==Ld||this.dirty!=$u&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(e),(this.dirty!=$u||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=t,this.dirty=$u,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,r){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,e,r){let o=this.node.cut(t,e),i=document.createTextNode(o.text);return new aT(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)}markDirty(t,e){super.markDirty(t,e),this.dom!=this.nodeDOM&&(t==0||e==this.nodeDOM.nodeValue.length)&&(this.dirty=Ld)}get domAtom(){return!1}isText(t){return this.node.text==t}}class d9 extends Z_{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==$u&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class bme extends Sh{constructor(t,e,r,o,i,a,s,l,u,c){super(t,e,r,o,i,a,s,u,c),this.spec=l}update(t,e,r,o){if(this.dirty==Ld)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let i=this.spec.update(t,e,r);return i&&this.updateInner(t,e,r,o),i}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,e,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,r,o){this.spec.setSelection?this.spec.setSelection(t,e,r.root):super.setSelection(t,e,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function f9(n,t,e){let r=n.firstChild,o=!1;for(let i=0;i<t.length;i++){let a=t[i],s=a.dom;if(s.parentNode==n){for(;s!=r;)r=lQ(r),o=!0;r=r.nextSibling}else o=!0,n.insertBefore(s,r);if(a instanceof Nm){let l=r?r.previousSibling:n.lastChild;f9(a.contentDOM,a.children,e),r=l?l.nextSibling:n.firstChild}}for(;r;)r=lQ(r),o=!0;o&&e.trackWrites==n&&(e.trackWrites=null)}const Vb=function(n){n&&(this.nodeName=n)};Vb.prototype=Object.create(null);const Wp=[new Vb];function LF(n,t,e){if(n.length==0)return Wp;let r=e?Wp[0]:new Vb,o=[r];for(let i=0;i<n.length;i++){let a=n[i].type.attrs;if(a){a.nodeName&&o.push(r=new Vb(a.nodeName));for(let s in a){let l=a[s];l!=null&&(e&&o.length==1&&o.push(r=new Vb(t.isInline?"span":"div")),s=="class"?r.class=(r.class?r.class+" ":"")+l:s=="style"?r.style=(r.style?r.style+";":"")+l:s!="nodeName"&&(r[s]=l))}}}return o}function A9(n,t,e,r){if(e==Wp&&r==Wp)return t;let o=t;for(let i=0;i<r.length;i++){let a=r[i],s=e[i];if(i){let l;s&&s.nodeName==a.nodeName&&o!=n&&(l=o.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||(l=document.createElement(a.nodeName),l.pmIsDeco=!0,l.appendChild(o),s=Wp[0]),o=l}wme(o,s||Wp[0],a)}return o}function wme(n,t,e){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in e)&&n.removeAttribute(r);for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&e[r]!=t[r]&&n.setAttribute(r,e[r]);if(t.class!=e.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=e.class?e.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)o.indexOf(r[i])==-1&&n.classList.remove(r[i]);for(let i=0;i<o.length;i++)r.indexOf(o[i])==-1&&n.classList.add(o[i]);n.classList.length==0&&n.removeAttribute("class")}if(t.style!=e.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(t.style);)n.style.removeProperty(o[1])}e.style&&(n.style.cssText+=e.style)}}function h9(n,t,e){return A9(n,n,Wp,LF(t,e,n.nodeType!=1))}function aE(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(!n[e].type.eq(t[e].type))return!1;return!0}function lQ(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}class _me{constructor(t,e,r){this.lock=e,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=Cme(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let r=t;r<e;r++)this.top.children[r].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,r,o){let i=0,a=this.stack.length>>1,s=Math.min(a,t.length);for(;i<s&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=$u,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<t.length;){this.stack.push(this.top,this.index+1);let l=-1,u=this.top.children.length;o<this.preMatch.index&&(u=Math.min(this.index+3,u));for(let c=this.index;c<u;c++){let d=this.top.children[c];if(d.matchesMark(t[a])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Nm.create(this.top,t[a],e,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,a++}}findNodeMatch(t,e,r,o){let i=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(t,e,r))i=this.top.children.indexOf(a,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let u=this.top.children[s];if(u.matchesNode(t,e,r)&&!this.preMatch.matched.has(u)){i=s;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(t,e,r,o,i){let a=this.top.children[o];return a.dirty==Ld&&a.dom==a.contentDOM&&(a.dirty=Kp),a.update(t,e,r,i)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}t=e}}updateNextNode(t,e,r,o,i,a){for(let s=this.index;s<this.top.children.length;s++){let l=this.top.children[s];if(l instanceof Sh){let u=this.preMatch.matched.get(l);if(u!=null&&u!=i)return!1;let c=l.dom,d,f=this.isLocked(c)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Ld&&aE(e,l.outerDeco));if(!f&&l.update(t,e,r,o))return this.destroyBetween(this.index,s),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(l,t,e,r,o,a)))return this.destroyBetween(this.index,s),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Kp,d.updateChildren(o,a+1),d.dirty=$u),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,e,r,o,i,a){if(t.dirty||e.isAtom||!t.children.length||!t.node.content.eq(e.content)||!aE(r,t.outerDeco)||!o.eq(t.innerDeco))return null;let s=Sh.create(this.top,e,r,o,i,a);if(s.contentDOM){s.children=t.children,t.children=[];for(let l of s.children)l.parent=s}return t.destroy(),s}addNode(t,e,r,o,i){let a=Sh.create(this.top,t,e,r,o,i);a.contentDOM&&a.updateChildren(o,i+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(t,e,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(t)&&(t==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let i=new c9(this.top,t,e,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof Nm;)e=t,t=e.children[e.children.length-1];(!t||!(t instanceof aT)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((La||ha)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new d9(this.top,[],r,null);e!=this.top?e.children.push(o):e.children.splice(this.index++,0,o),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function Cme(n,t){let e=t,r=e.children.length,o=n.childCount,i=new Map,a=[];e:for(;o>0;){let s;for(;;)if(r){let u=e.children[r-1];if(u instanceof Nm)e=u,r=u.children.length;else{s=u,r--;break}}else{if(e==t)break e;r=e.parent.children.indexOf(e),e=e.parent}let l=s.node;if(l){if(l!=n.child(o-1))break;--o,i.set(s,o),a.push(s)}}return{index:o,matched:i,matches:a.reverse()}}function Sme(n,t){return n.type.side-t.type.side}function xme(n,t,e,r){let o=t.locals(n),i=0;if(o.length==0){for(let u=0;u<n.childCount;u++){let c=n.child(u);r(c,o,t.forChild(i,c),u),i+=c.nodeSize}return}let a=0,s=[],l=null;for(let u=0;;){let c,d;for(;a<o.length&&o[a].to==i;){let g=o[a++];g.widget&&(c?(d||(d=[c])).push(g):c=g)}if(c)if(d){d.sort(Sme);for(let g=0;g<d.length;g++)e(d[g],u,!!l)}else e(c,u,!!l);let f,h;if(l)h=-1,f=l,l=null;else if(u<n.childCount)h=u,f=n.child(u++);else break;for(let g=0;g<s.length;g++)s[g].to<=i&&s.splice(g--,1);for(;a<o.length&&o[a].from<=i&&o[a].to>i;)s.push(o[a++]);let p=i+f.nodeSize;if(f.isText){let g=p;a<o.length&&o[a].from<g&&(g=o[a].from);for(let _=0;_<s.length;_++)s[_].to<g&&(g=s[_].to);g<p&&(l=f.cut(g-i),f=f.cut(0,g-i),p=g,h=-1)}else for(;a<o.length&&o[a].to<p;)a++;let v=f.isInline&&!f.isLeaf?s.filter(g=>!g.inline):s.slice();r(f,v,t.forChild(i,f),h),i=p}}function Eme(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let t=n.style.cssText;n.style.cssText=t+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=t}}function Bme(n,t,e,r){for(let o=0,i=0;o<n.childCount&&i<=r;){let a=n.child(o++),s=i;if(i+=a.nodeSize,!a.isText)continue;let l=a.text;for(;o<n.childCount;){let u=n.child(o++);if(i+=u.nodeSize,!u.isText)break;l+=u.text}if(i>=e){if(i>=r&&l.slice(r-t.length-s,r-s)==t)return r-t.length;let u=s<r?l.lastIndexOf(t,r-s-1):-1;if(u>=0&&u+t.length+s>=e)return s+u;if(e==r&&l.length>=r+t.length-s&&l.slice(r-s,r-s+t.length)==t)return r}}return-1}function VF(n,t,e,r,o){let i=[];for(let a=0,s=0;a<n.length;a++){let l=n[a],u=s,c=s+=l.size;u>=e||c<=t?i.push(l):(u<t&&i.push(l.slice(0,t-u,r)),o&&(i.push(o),o=void 0),c>e&&i.push(l.slice(e-u,l.size,r)))}return i}function vV(n,t=null){let e=n.domSelectionRange(),r=n.state.doc;if(!e.focusNode)return null;let o=n.docView.nearestDesc(e.focusNode),i=o&&o.size==0,a=n.docView.posFromDOM(e.focusNode,e.focusOffset,1);if(a<0)return null;let s=r.resolve(a),l,u;if(iT(e)){for(l=a;o&&!o.node;)o=o.parent;let d=o.node;if(o&&d.isAtom&&Pn.isSelectable(d)&&o.parent&&!(d.isInline&&eme(e.focusNode,e.focusOffset,o.dom))){let f=o.posBefore;u=new Pn(a==f?s:r.resolve(f))}}else{if(e instanceof n.dom.ownerDocument.defaultView.Selection&&e.rangeCount>1){let d=a,f=a;for(let h=0;h<e.rangeCount;h++){let p=e.getRangeAt(h);d=Math.min(d,n.docView.posFromDOM(p.startContainer,p.startOffset,1)),f=Math.max(f,n.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,a]=f==n.state.selection.anchor?[f,d]:[d,f],s=r.resolve(a)}else l=n.docView.posFromDOM(e.anchorNode,e.anchorOffset,1);if(l<0)return null}let c=r.resolve(l);if(!u){let d=t=="pointer"||n.state.selection.head<s.pos&&!i?1:-1;u=gV(n,c,s,d)}return u}function p9(n){return n.editable?n.hasFocus():v9(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Kf(n,t=!1){let e=n.state.selection;if(m9(n,e),!!p9(n)){if(!t&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&ha){let r=n.domSelectionRange(),o=n.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&Vm(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)Tme(n);else{let{anchor:r,head:o}=e,i,a;uQ&&!(e instanceof Dn)&&(e.$from.parent.inlineContent||(i=cQ(n,e.from)),!e.empty&&!e.$from.parent.inlineContent&&(a=cQ(n,e.to))),n.docView.setSelection(r,o,n,t),uQ&&(i&&dQ(i),a&&dQ(a)),e.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&kme(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const uQ=La||ha&&n9<63;function cQ(n,t){let{node:e,offset:r}=n.docView.domFromPos(t,0),o=r<e.childNodes.length?e.childNodes[r]:null,i=r?e.childNodes[r-1]:null;if(La&&o&&o.contentEditable=="false")return HP(o);if((!o||o.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(o)return HP(o);if(i)return HP(i)}}function HP(n){return n.contentEditable="true",La&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function dQ(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function kme(n){let t=n.dom.ownerDocument;t.removeEventListener("selectionchange",n.input.hideSelectionGuard);let e=n.domSelectionRange(),r=e.anchorNode,o=e.anchorOffset;t.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(e.anchorNode!=r||e.anchorOffset!=o)&&(t.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!p9(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function Tme(n){let t=n.domSelection();if(!t)return;let e=n.cursorWrapper.dom,r=e.nodeName=="IMG";r?t.collapse(e.parentNode,Oa(e)+1):t.collapse(e,0),!r&&!n.state.selection.visible&&Ol&&Ch<=11&&(e.disabled=!0,e.disabled=!1)}function m9(n,t){if(t instanceof Pn){let e=n.docView.descAt(t.from);e!=n.lastSelectedViewDesc&&(fQ(n),e&&e.selectNode(),n.lastSelectedViewDesc=e)}else fQ(n)}function fQ(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function gV(n,t,e,r){return n.someProp("createSelectionBetween",o=>o(n,t,e))||Dn.between(t,e,r)}function AQ(n){return n.editable&&!n.hasFocus()?!1:v9(n)}function v9(n){let t=n.domSelectionRange();if(!t.anchorNode)return!1;try{return n.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(n.editable||n.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function Ome(n){let t=n.docView.domFromPos(n.state.selection.anchor,0),e=n.domSelectionRange();return Vm(t.node,t.offset,e.anchorNode,e.anchorOffset)}function NF(n,t){let{$anchor:e,$head:r}=n.selection,o=t>0?e.max(r):e.min(r),i=o.parent.inlineContent?o.depth?n.doc.resolve(t>0?o.after():o.before()):null:o;return i&&$n.findFrom(i,t)}function YA(n,t){return n.dispatch(n.state.tr.setSelection(t).scrollIntoView()),!0}function hQ(n,t,e){let r=n.state.selection;if(r instanceof Dn)if(e.indexOf("s")>-1){let{$head:o}=r,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let a=n.state.doc.resolve(o.pos+i.nodeSize*(t<0?-1:1));return YA(n,new Dn(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(t>0?"forward":"backward")){let o=NF(n.state,t);return o&&o instanceof Pn?YA(n,o):!1}else if(!(Bu&&e.indexOf("m")>-1)){let o=r.$head,i=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,a;if(!i||i.isText)return!1;let s=t<0?o.pos-i.nodeSize:o.pos;return i.isAtom||(a=n.docView.descAt(s))&&!a.contentDOM?Pn.isSelectable(i)?YA(n,new Pn(t<0?n.state.doc.resolve(o.pos-i.nodeSize):o)):J_?YA(n,new Dn(n.state.doc.resolve(t<0?s:s+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Pn&&r.node.isInline)return YA(n,new Dn(t>0?r.$to:r.$from));{let o=NF(n.state,t);return o?YA(n,o):!1}}}function sE(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Nb(n,t){let e=n.pmViewDesc;return e&&e.size==0&&(t<0||n.nextSibling||n.nodeName!="BR")}function Wv(n,t){return t<0?Pme(n):Ime(n)}function Pme(n){let t=n.domSelectionRange(),e=t.focusNode,r=t.focusOffset;if(!e)return;let o,i,a=!1;for(ju&&e.nodeType==1&&r<sE(e)&&Nb(e.childNodes[r],-1)&&(a=!0);;)if(r>0){if(e.nodeType!=1)break;{let s=e.childNodes[r-1];if(Nb(s,-1))o=e,i=--r;else if(s.nodeType==3)e=s,r=e.nodeValue.length;else break}}else{if(g9(e))break;{let s=e.previousSibling;for(;s&&Nb(s,-1);)o=e.parentNode,i=Oa(s),s=s.previousSibling;if(s)e=s,r=sE(e);else{if(e=e.parentNode,e==n.dom)break;r=0}}}a?RF(n,e,r):o&&RF(n,o,i)}function Ime(n){let t=n.domSelectionRange(),e=t.focusNode,r=t.focusOffset;if(!e)return;let o=sE(e),i,a;for(;;)if(r<o){if(e.nodeType!=1)break;let s=e.childNodes[r];if(Nb(s,1))i=e,a=++r;else break}else{if(g9(e))break;{let s=e.nextSibling;for(;s&&Nb(s,1);)i=s.parentNode,a=Oa(s)+1,s=s.nextSibling;if(s)e=s,r=0,o=sE(e);else{if(e=e.parentNode,e==n.dom)break;r=o=0}}}i&&RF(n,i,a)}function g9(n){let t=n.pmViewDesc;return t&&t.node&&t.node.isBlock}function Mme(n,t){for(;n&&t==n.childNodes.length&&!X_(n);)t=Oa(n)+1,n=n.parentNode;for(;n&&t<n.childNodes.length;){let e=n.childNodes[t];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;n=e,t=0}}function Fme(n,t){for(;n&&!t&&!X_(n);)t=Oa(n),n=n.parentNode;for(;n&&t;){let e=n.childNodes[t-1];if(e.nodeType==3)return e;if(e.nodeType==1&&e.contentEditable=="false")break;n=e,t=n.childNodes.length}}function RF(n,t,e){if(t.nodeType!=3){let i,a;(a=Mme(t,e))?(t=a,e=0):(i=Fme(t,e))&&(t=i,e=i.nodeValue.length)}let r=n.domSelection();if(!r)return;if(iT(r)){let i=document.createRange();i.setEnd(t,e),i.setStart(t,e),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(t,e);n.domObserver.setCurSelection();let{state:o}=n;setTimeout(()=>{n.state==o&&Kf(n)},50)}function pQ(n,t){let e=n.state.doc.resolve(t);if(!(ha||r9)&&e.parent.inlineContent){let o=n.coordsAtPos(t);if(t>e.start()){let i=n.coordsAtPos(t-1),a=(i.top+i.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(i.left-o.left)>1)return i.left<o.left?"ltr":"rtl"}if(t<e.end()){let i=n.coordsAtPos(t+1),a=(i.top+i.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(i.left-o.left)>1)return i.left>o.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function mQ(n,t,e){let r=n.state.selection;if(r instanceof Dn&&!r.empty||e.indexOf("s")>-1||Bu&&e.indexOf("m")>-1)return!1;let{$from:o,$to:i}=r;if(!o.parent.inlineContent||n.endOfTextblock(t<0?"up":"down")){let a=NF(n.state,t);if(a&&a instanceof Pn)return YA(n,a)}if(!o.parent.inlineContent){let a=t<0?o:i,s=r instanceof au?$n.near(a,t):$n.findFrom(a,t);return s?YA(n,s):!1}return!1}function vQ(n,t){if(!(n.state.selection instanceof Dn))return!0;let{$head:e,$anchor:r,empty:o}=n.state.selection;if(!e.sameParent(r))return!0;if(!o)return!1;if(n.endOfTextblock(t>0?"forward":"backward"))return!0;let i=!e.textOffset&&(t<0?e.nodeBefore:e.nodeAfter);if(i&&!i.isText){let a=n.state.tr;return t<0?a.delete(e.pos-i.nodeSize,e.pos):a.delete(e.pos,e.pos+i.nodeSize),n.dispatch(a),!0}return!1}function gQ(n,t,e){n.domObserver.stop(),t.contentEditable=e,n.domObserver.start()}function Dme(n){if(!La||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:e}=n.domSelectionRange();if(t&&t.nodeType==1&&e==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;gQ(n,r,"true"),setTimeout(()=>gQ(n,r,"false"),20)}return!1}function Ume(n){let t="";return n.ctrlKey&&(t+="c"),n.metaKey&&(t+="m"),n.altKey&&(t+="a"),n.shiftKey&&(t+="s"),t}function Lme(n,t){let e=t.keyCode,r=Ume(t);if(e==8||Bu&&e==72&&r=="c")return vQ(n,-1)||Wv(n,-1);if(e==46&&!t.shiftKey||Bu&&e==68&&r=="c")return vQ(n,1)||Wv(n,1);if(e==13||e==27)return!0;if(e==37||Bu&&e==66&&r=="c"){let o=e==37?pQ(n,n.state.selection.from)=="ltr"?-1:1:-1;return hQ(n,o,r)||Wv(n,o)}else if(e==39||Bu&&e==70&&r=="c"){let o=e==39?pQ(n,n.state.selection.from)=="ltr"?1:-1:1;return hQ(n,o,r)||Wv(n,o)}else{if(e==38||Bu&&e==80&&r=="c")return mQ(n,-1,r)||Wv(n,-1);if(e==40||Bu&&e==78&&r=="c")return Dme(n)||mQ(n,1,r)||Wv(n,1);if(r==(Bu?"m":"c")&&(e==66||e==73||e==89||e==90))return!0}return!1}function yV(n,t){n.someProp("transformCopied",h=>{t=h(t,n)});let e=[],{content:r,openStart:o,openEnd:i}=t;for(;o>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,i--;let h=r.firstChild;e.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let a=n.someProp("clipboardSerializer")||sv.fromSchema(n.state.schema),s=S9(),l=s.createElement("div");l.appendChild(a.serializeFragment(r,{document:s}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=C9[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let p=s.createElement(c[h]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${o} ${i}${d?` -${d}`:""} ${JSON.stringify(e)}`);let f=n.someProp("clipboardTextSerializer",h=>h(t,n))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:f,slice:t}}function y9(n,t,e,r,o){let i=o.parent.type.spec.code,a,s;if(!e&&!t)return null;let l=!!t&&(r||i||!e);if(l){if(n.someProp("transformPastedText",f=>{t=f(t,i||r,n)}),i)return s=new on(Pt.from(n.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",f=>{s=f(s,n,!0)}),s;let d=n.someProp("clipboardTextParser",f=>f(t,o,r,n));if(d)s=d;else{let f=o.marks(),{schema:h}=n.state,p=sv.fromSchema(h);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(v=>{let g=a.appendChild(document.createElement("p"));v&&g.appendChild(p.serializeNode(h.text(v,f)))})}}else n.someProp("transformPastedHTML",d=>{e=d(e,n)}),a=Hme(e),J_&&Qme(a);let u=a&&a.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=a.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;a=f}if(s||(s=(n.someProp("clipboardParser")||n.someProp("domParser")||Ub.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(l||c),context:o,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Vme.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)s=jme(yQ(s,+c[1],+c[2]),c[4]);else if(s=on.maxOpen(Nme(s.content,o),!0),s.openStart||s.openEnd){let d=0,f=0;for(let h=s.content.firstChild;d<s.openStart&&!h.type.spec.isolating;d++,h=h.firstChild);for(let h=s.content.lastChild;f<s.openEnd&&!h.type.spec.isolating;f++,h=h.lastChild);s=yQ(s,d,f)}return n.someProp("transformPasted",d=>{s=d(s,n,l)}),s}const Vme=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Nme(n,t){if(n.childCount<2)return n;for(let e=t.depth;e>=0;e--){let o=t.node(e).contentMatchAt(t.index(e)),i,a=[];if(n.forEach(s=>{if(!a)return;let l=o.findWrapping(s.type),u;if(!l)return a=null;if(u=a.length&&i.length&&w9(l,i,s,a[a.length-1],0))a[a.length-1]=u;else{a.length&&(a[a.length-1]=_9(a[a.length-1],i.length));let c=b9(s,l);a.push(c),o=o.matchType(c.type),i=l}}),a)return Pt.from(a)}return n}function b9(n,t,e=0){for(let r=t.length-1;r>=e;r--)n=t[r].create(null,Pt.from(n));return n}function w9(n,t,e,r,o){if(o<n.length&&o<t.length&&n[o]==t[o]){let i=w9(n,t,e,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==n.length-1?e.type:n[o+1]))return r.copy(r.content.append(Pt.from(b9(e,n,o+1))))}}function _9(n,t){if(t==0)return n;let e=n.content.replaceChild(n.childCount-1,_9(n.lastChild,t-1)),r=n.contentMatchAt(n.childCount).fillBefore(Pt.empty,!0);return n.copy(e.append(r))}function HF(n,t,e,r,o,i){let a=t<0?n.firstChild:n.lastChild,s=a.content;return n.childCount>1&&(i=0),o<r-1&&(s=HF(s,t,e,r,o+1,i)),o>=e&&(s=t<0?a.contentMatchAt(0).fillBefore(s,i<=o).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(Pt.empty,!0))),n.replaceChild(t<0?0:n.childCount-1,a.copy(s))}function yQ(n,t,e){return t<n.openStart&&(n=new on(HF(n.content,-1,t,n.openStart,0,n.openEnd),t,n.openEnd)),e<n.openEnd&&(n=new on(HF(n.content,1,e,n.openEnd,0,0),n.openStart,e)),n}const C9={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let bQ=null;function S9(){return bQ||(bQ=document.implementation.createHTMLDocument("title"))}let QP=null;function Rme(n){let t=window.trustedTypes;return t?(QP||(QP=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),QP.createHTML(n)):n}function Hme(n){let t=/^(\s*<meta [^>]*>)*/.exec(n);t&&(n=n.slice(t[0].length));let e=S9().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),o;if((o=r&&C9[r[1].toLowerCase()])&&(n=o.map(i=>"<"+i+">").join("")+n+o.map(i=>"</"+i+">").reverse().join("")),e.innerHTML=Rme(n),o)for(let i=0;i<o.length;i++)e=e.querySelector(o[i])||e;return e}function Qme(n){let t=n.querySelectorAll(ha?"span:not([class]):not([style])":"span.Apple-converted-space");for(let e=0;e<t.length;e++){let r=t[e];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function jme(n,t){if(!n.size)return n;let e=n.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return n}let{content:o,openStart:i,openEnd:a}=n;for(let s=r.length-2;s>=0;s-=2){let l=e.nodes[r[s]];if(!l||l.hasRequiredAttrs())break;o=Pt.from(l.create(r[s+1],o)),i++,a++}return new on(o,i,a)}const Xs={},Js={},$me={touchstart:!0,touchmove:!0};class Kme{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Wme(n){for(let t in Xs){let e=Xs[t];n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>{Gme(n,r)&&!bV(n,r)&&(n.editable||!(r.type in Js))&&e(n,r)},$me[t]?{passive:!0}:void 0)}La&&n.dom.addEventListener("input",()=>null),QF(n)}function uh(n,t){n.input.lastSelectionOrigin=t,n.input.lastSelectionTime=Date.now()}function zme(n){n.domObserver.stop();for(let t in n.input.eventHandlers)n.dom.removeEventListener(t,n.input.eventHandlers[t]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function QF(n){n.someProp("handleDOMEvents",t=>{for(let e in t)n.input.eventHandlers[e]||n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>bV(n,r))})}function bV(n,t){return n.someProp("handleDOMEvents",e=>{let r=e[t.type];return r?r(n,t)||t.defaultPrevented:!1})}function Gme(n,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let e=t.target;e!=n.dom;e=e.parentNode)if(!e||e.nodeType==11||e.pmViewDesc&&e.pmViewDesc.stopEvent(t))return!1;return!0}function Yme(n,t){!bV(n,t)&&Xs[t.type]&&(n.editable||!(t.type in Js))&&Xs[t.type](n,t)}Js.keydown=(n,t)=>{let e=t;if(n.input.shiftKey=e.keyCode==16||e.shiftKey,!E9(n,e)&&(n.input.lastKeyCode=e.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Lf&&ha&&e.keyCode==13)))if(e.keyCode!=229&&n.domObserver.forceFlush(),gy&&e.keyCode==13&&!e.ctrlKey&&!e.altKey&&!e.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",o=>o(n,Fp(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,e))||Lme(n,e)?e.preventDefault():uh(n,"key")};Js.keyup=(n,t)=>{t.keyCode==16&&(n.input.shiftKey=!1)};Js.keypress=(n,t)=>{let e=t;if(E9(n,e)||!e.charCode||e.ctrlKey&&!e.altKey||Bu&&e.metaKey)return;if(n.someProp("handleKeyPress",o=>o(n,e))){e.preventDefault();return}let r=n.state.selection;if(!(r instanceof Dn)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(e.charCode),i=()=>n.state.tr.insertText(o).scrollIntoView();!/[\r\n]/.test(o)&&!n.someProp("handleTextInput",a=>a(n,r.$from.pos,r.$to.pos,o,i))&&n.dispatch(i()),e.preventDefault()}};function sT(n){return{left:n.clientX,top:n.clientY}}function Xme(n,t){let e=t.x-n.clientX,r=t.y-n.clientY;return e*e+r*r<100}function wV(n,t,e,r,o){if(r==-1)return!1;let i=n.state.doc.resolve(r);for(let a=i.depth+1;a>0;a--)if(n.someProp(t,s=>a>i.depth?s(n,e,i.nodeAfter,i.before(a),o,!0):s(n,e,i.node(a),i.before(a),o,!1)))return!0;return!1}function Yg(n,t,e){if(n.focused||n.focus(),n.state.selection.eq(t))return;let r=n.state.tr.setSelection(t);r.setMeta("pointer",!0),n.dispatch(r)}function Jme(n,t){if(t==-1)return!1;let e=n.state.doc.resolve(t),r=e.nodeAfter;return r&&r.isAtom&&Pn.isSelectable(r)?(Yg(n,new Pn(e)),!0):!1}function Zme(n,t){if(t==-1)return!1;let e=n.state.selection,r,o;e instanceof Pn&&(r=e.node);let i=n.state.doc.resolve(t);for(let a=i.depth+1;a>0;a--){let s=a>i.depth?i.nodeAfter:i.node(a);if(Pn.isSelectable(s)){r&&e.$from.depth>0&&a>=e.$from.depth&&i.before(e.$from.depth+1)==e.$from.pos?o=i.before(e.$from.depth):o=i.before(a);break}}return o!=null?(Yg(n,Pn.create(n.state.doc,o)),!0):!1}function qme(n,t,e,r,o){return wV(n,"handleClickOn",t,e,r)||n.someProp("handleClick",i=>i(n,t,r))||(o?Zme(n,e):Jme(n,e))}function eve(n,t,e,r){return wV(n,"handleDoubleClickOn",t,e,r)||n.someProp("handleDoubleClick",o=>o(n,t,r))}function tve(n,t,e,r){return wV(n,"handleTripleClickOn",t,e,r)||n.someProp("handleTripleClick",o=>o(n,t,r))||nve(n,e,r)}function nve(n,t,e){if(e.button!=0)return!1;let r=n.state.doc;if(t==-1)return r.inlineContent?(Yg(n,Dn.create(r,0,r.content.size)),!0):!1;let o=r.resolve(t);for(let i=o.depth+1;i>0;i--){let a=i>o.depth?o.nodeAfter:o.node(i),s=o.before(i);if(a.inlineContent)Yg(n,Dn.create(r,s+1,s+1+a.content.size));else if(Pn.isSelectable(a))Yg(n,Pn.create(r,s));else continue;return!0}}function _V(n){return lE(n)}const x9=Bu?"metaKey":"ctrlKey";Xs.mousedown=(n,t)=>{let e=t;n.input.shiftKey=e.shiftKey;let r=_V(n),o=Date.now(),i="singleClick";o-n.input.lastClick.time<500&&Xme(e,n.input.lastClick)&&!e[x9]&&n.input.lastClick.button==e.button&&(n.input.lastClick.type=="singleClick"?i="doubleClick":n.input.lastClick.type=="doubleClick"&&(i="tripleClick")),n.input.lastClick={time:o,x:e.clientX,y:e.clientY,type:i,button:e.button};let a=n.posAtCoords(sT(e));a&&(i=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new rve(n,a,e,!!r)):(i=="doubleClick"?eve:tve)(n,a.pos,a.inside,e)?e.preventDefault():uh(n,"pointer"))};class rve{constructor(t,e,r,o){this.view=t,this.pos=e,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[x9],this.allowDefault=r.shiftKey;let i,a;if(e.inside>-1)i=t.state.doc.nodeAt(e.inside),a=e.inside;else{let c=t.state.doc.resolve(e.pos);i=c.parent,a=c.depth?c.before():0}const s=o?null:r.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:u}=t.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||u instanceof Pn&&u.from<=a&&u.to>a)&&(this.mightDrag={node:i,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ju&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),uh(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Kf(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(sT(t))),this.updateAllowDefault(t),this.allowDefault||!e?uh(this.view,"pointer"):qme(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||La&&this.mightDrag&&!this.mightDrag.node.isAtom||ha&&!this.view.state.selection.visible&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Yg(this.view,$n.near(this.view.state.doc.resolve(e.pos))),t.preventDefault()):uh(this.view,"pointer")}move(t){this.updateAllowDefault(t),uh(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Xs.touchstart=n=>{n.input.lastTouch=Date.now(),_V(n),uh(n,"pointer")};Xs.touchmove=n=>{n.input.lastTouch=Date.now(),uh(n,"pointer")};Xs.contextmenu=n=>_V(n);function E9(n,t){return n.composing?!0:La&&Math.abs(t.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const ove=Lf?5e3:-1;Js.compositionstart=Js.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:t}=n,e=t.selection.$to;if(t.selection instanceof Dn&&(t.storedMarks||!e.textOffset&&e.parentOffset&&e.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||ha&&r9&&ive(n)))n.markCursor=n.state.storedMarks||e.marks(),lE(n,!0),n.markCursor=null;else if(lE(n,!t.selection.empty),ju&&t.selection.empty&&e.parentOffset&&!e.textOffset&&e.nodeBefore.marks.length){let r=n.domSelectionRange();for(let o=r.focusNode,i=r.focusOffset;o&&o.nodeType==1&&i!=0;){let a=i<0?o.lastChild:o.childNodes[i-1];if(!a)break;if(a.nodeType==3){let s=n.domSelection();s&&s.collapse(a,a.nodeValue.length);break}else o=a,i=-1}}n.input.composing=!0}B9(n,ove)};function ive(n){let{focusNode:t,focusOffset:e}=n.domSelectionRange();if(!t||t.nodeType!=1||e>=t.childNodes.length)return!1;let r=t.childNodes[e];return r.nodeType==1&&r.contentEditable=="false"}Js.compositionend=(n,t)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=t.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.badSafariComposition?n.domObserver.forceFlush():n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,B9(n,20))};function B9(n,t){clearTimeout(n.input.composingTimeout),t>-1&&(n.input.composingTimeout=setTimeout(()=>lE(n),t))}function k9(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=sve());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function ave(n){let t=n.domSelectionRange();if(!t.focusNode)return null;let e=Zpe(t.focusNode,t.focusOffset),r=qpe(t.focusNode,t.focusOffset);if(e&&r&&e!=r){let o=r.pmViewDesc,i=n.domObserver.lastChangedTextNode;if(e==i||r==i)return i;if(!o||!o.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=e.pmViewDesc;if(!(!a||!a.isText(e.nodeValue)))return r}}return e||r}function sve(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function lE(n,t=!1){if(!(Lf&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),k9(n),t||n.docView&&n.docView.dirty){let e=vV(n),r=n.state.selection;return e&&!e.eq(r)?n.dispatch(n.state.tr.setSelection(e)):(n.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function lve(n,t){if(!n.dom.parentNode)return;let e=n.dom.parentNode.appendChild(document.createElement("div"));e.appendChild(t),e.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),n.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e),n.focus()},50)}const Hw=Ol&&Ch<15||gy&&rme<604;Xs.copy=Js.cut=(n,t)=>{let e=t,r=n.state.selection,o=e.type=="cut";if(r.empty)return;let i=Hw?null:e.clipboardData,a=r.content(),{dom:s,text:l}=yV(n,a);i?(e.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",l)):lve(n,s),o&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function uve(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function cve(n,t){if(!n.dom.parentNode)return;let e=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(e?"textarea":"div"));e||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),e?Qw(n,r.value,null,o,t):Qw(n,r.textContent,r.innerHTML,o,t)},50)}function Qw(n,t,e,r,o){let i=y9(n,t,e,r,n.state.selection.$from);if(n.someProp("handlePaste",l=>l(n,o,i||on.empty)))return!0;if(!i)return!1;let a=uve(i),s=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(i);return n.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function T9(n){let t=n.getData("text/plain")||n.getData("Text");if(t)return t;let e=n.getData("text/uri-list");return e?e.replace(/\r?\n/g," "):""}Js.paste=(n,t)=>{let e=t;if(n.composing&&!Lf)return;let r=Hw?null:e.clipboardData,o=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&Qw(n,T9(r),r.getData("text/html"),o,e)?e.preventDefault():cve(n,e)};class O9{constructor(t,e,r){this.slice=t,this.move=e,this.node=r}}const dve=Bu?"altKey":"ctrlKey";function P9(n,t){let e=n.someProp("dragCopies",r=>!r(t));return e??!t[dve]}Xs.dragstart=(n,t)=>{let e=t,r=n.input.mouseDown;if(r&&r.done(),!e.dataTransfer)return;let o=n.state.selection,i=o.empty?null:n.posAtCoords(sT(e)),a;if(!(i&&i.pos>=o.from&&i.pos<=(o instanceof Pn?o.to-1:o.to))){if(r&&r.mightDrag)a=Pn.create(n.state.doc,r.mightDrag.pos);else if(e.target&&e.target.nodeType==1){let d=n.docView.nearestDesc(e.target,!0);d&&d.node.type.spec.draggable&&d!=n.docView&&(a=Pn.create(n.state.doc,d.posBefore))}}let s=(a||n.state.selection).content(),{dom:l,text:u,slice:c}=yV(n,s);(!e.dataTransfer.files.length||!ha||n9>120)&&e.dataTransfer.clearData(),e.dataTransfer.setData(Hw?"Text":"text/html",l.innerHTML),e.dataTransfer.effectAllowed="copyMove",Hw||e.dataTransfer.setData("text/plain",u),n.dragging=new O9(c,P9(n,e),a)};Xs.dragend=n=>{let t=n.dragging;window.setTimeout(()=>{n.dragging==t&&(n.dragging=null)},50)};Js.dragover=Js.dragenter=(n,t)=>t.preventDefault();Js.drop=(n,t)=>{try{fve(n,t,n.dragging)}finally{n.dragging=null}};function fve(n,t,e){if(!t.dataTransfer)return;let r=n.posAtCoords(sT(t));if(!r)return;let o=n.state.doc.resolve(r.pos),i=e&&e.slice;i?n.someProp("transformPasted",h=>{i=h(i,n,!1)}):i=y9(n,T9(t.dataTransfer),Hw?null:t.dataTransfer.getData("text/html"),!1,o);let a=!!(e&&P9(n,t));if(n.someProp("handleDrop",h=>h(n,t,i||on.empty,a))){t.preventDefault();return}if(!i)return;t.preventDefault();let s=i?WG(n.state.doc,o.pos,i):o.pos;s==null&&(s=o.pos);let l=n.state.tr;if(a){let{node:h}=e;h?h.replace(l):l.deleteSelection()}let u=l.mapping.map(s),c=i.openStart==0&&i.openEnd==0&&i.content.childCount==1,d=l.doc;if(c?l.replaceRangeWith(u,u,i.content.firstChild):l.replaceRange(u,u,i),l.doc.eq(d))return;let f=l.doc.resolve(u);if(c&&Pn.isSelectable(i.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(i.content.firstChild))l.setSelection(new Pn(f));else{let h=l.mapping.map(s);l.mapping.maps[l.mapping.maps.length-1].forEach((p,v,g,_)=>h=_),l.setSelection(gV(n,f,l.doc.resolve(h)))}n.focus(),n.dispatch(l.setMeta("uiEvent","drop"))}Xs.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Kf(n)},20))};Xs.blur=(n,t)=>{let e=t;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),e.relatedTarget&&n.dom.contains(e.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Xs.beforeinput=(n,t)=>{if(ha&&Lf&&t.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",i=>i(n,Fp(8,"Backspace")))))return;let{$cursor:o}=n.state.selection;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let n in Js)Xs[n]=Js[n];function jw(n,t){if(n==t)return!0;for(let e in n)if(n[e]!==t[e])return!1;for(let e in t)if(!(e in n))return!1;return!0}class uE{constructor(t,e){this.toDOM=t,this.spec=e||hm,this.side=this.spec.side||0}map(t,e,r,o){let{pos:i,deleted:a}=t.mapResult(e.from+o,this.side<0?-1:1);return a?null:new Ks(i-r,i-r,this)}valid(){return!0}eq(t){return this==t||t instanceof uE&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&jw(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class xh{constructor(t,e){this.attrs=t,this.spec=e||hm}map(t,e,r,o){let i=t.map(e.from+o,this.spec.inclusiveStart?-1:1)-r,a=t.map(e.to+o,this.spec.inclusiveEnd?1:-1)-r;return i>=a?null:new Ks(i,a,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof xh&&jw(this.attrs,t.attrs)&&jw(this.spec,t.spec)}static is(t){return t.type instanceof xh}destroy(){}}class CV{constructor(t,e){this.attrs=t,this.spec=e||hm}map(t,e,r,o){let i=t.mapResult(e.from+o,1);if(i.deleted)return null;let a=t.mapResult(e.to+o,-1);return a.deleted||a.pos<=i.pos?null:new Ks(i.pos-r,a.pos-r,this)}valid(t,e){let{index:r,offset:o}=t.content.findIndex(e.from),i;return o==e.from&&!(i=t.child(r)).isText&&o+i.nodeSize==e.to}eq(t){return this==t||t instanceof CV&&jw(this.attrs,t.attrs)&&jw(this.spec,t.spec)}destroy(){}}class Ks{constructor(t,e,r){this.from=t,this.to=e,this.type=r}copy(t,e){return new Ks(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,r){return this.type.map(t,this,e,r)}static widget(t,e,r){return new Ks(t,t,new uE(e,r))}static inline(t,e,r,o){return new Ks(t,e,new xh(r,o))}static node(t,e,r,o){return new Ks(t,e,new CV(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof xh}get widget(){return this.type instanceof uE}}const fg=[],hm={};class li{constructor(t,e){this.local=t.length?t:fg,this.children=e.length?e:fg}static create(t,e){return e.length?cE(e,t,0,hm):Ja}find(t,e,r){let o=[];return this.findInner(t??0,e??1e9,o,0,r),o}findInner(t,e,r,o,i){for(let a=0;a<this.local.length;a++){let s=this.local[a];s.from<=e&&s.to>=t&&(!i||i(s.spec))&&r.push(s.copy(s.from+o,s.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){let s=this.children[a]+1;this.children[a+2].findInner(t-s,e-s,r,o+s,i)}}map(t,e,r){return this==Ja||t.maps.length==0?this:this.mapInner(t,e,0,0,r||hm)}mapInner(t,e,r,o,i){let a;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(t,r,o);l&&l.type.valid(e,l)?(a||(a=[])).push(l):i.onRemove&&i.onRemove(this.local[s].spec)}return this.children.length?Ave(this.children,a||[],t,e,r,o,i):a?new li(a.sort(pm),fg):Ja}add(t,e){return e.length?this==Ja?li.create(t,e):this.addInner(t,e,0):this}addInner(t,e,r){let o,i=0;t.forEach((s,l)=>{let u=l+r,c;if(c=M9(e,s,u)){for(o||(o=this.children.slice());i<o.length&&o[i]<l;)i+=3;o[i]==l?o[i+2]=o[i+2].addInner(s,c,u+1):o.splice(i,0,l,l+s.nodeSize,cE(c,s,u+1,hm)),i+=3}});let a=I9(i?F9(e):e,-r);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new li(a.length?this.local.concat(a).sort(pm):this.local,o||this.children)}remove(t){return t.length==0||this==Ja?this:this.removeInner(t,0)}removeInner(t,e){let r=this.children,o=this.local;for(let i=0;i<r.length;i+=3){let a,s=r[i]+e,l=r[i+1]+e;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>s&&d.to<l&&(t[c]=null,(a||(a=[])).push(d));if(!a)continue;r==this.children&&(r=this.children.slice());let u=r[i+2].removeInner(a,s+1);u!=Ja?r[i+2]=u:(r.splice(i,3),i-=3)}if(o.length){for(let i=0,a;i<t.length;i++)if(a=t[i])for(let s=0;s<o.length;s++)o[s].eq(a,e)&&(o==this.local&&(o=this.local.slice()),o.splice(s--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new li(o,r):Ja}forChild(t,e){if(this==Ja)return this;if(e.isLeaf)return li.empty;let r,o;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=t){this.children[s]==t&&(r=this.children[s+2]);break}let i=t+1,a=i+e.content.size;for(let s=0;s<this.local.length;s++){let l=this.local[s];if(l.from<a&&l.to>i&&l.type instanceof xh){let u=Math.max(i,l.from)-i,c=Math.min(a,l.to)-i;u<c&&(o||(o=[])).push(l.copy(u,c))}}if(o){let s=new li(o.sort(pm),fg);return r?new rh([s,r]):s}return r||Ja}eq(t){if(this==t)return!0;if(!(t instanceof li)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return SV(this.localsInner(t))}localsInner(t){if(this==Ja)return fg;if(t.inlineContent||!this.local.some(xh.is))return this.local;let e=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof xh||e.push(this.local[r]);return e}forEachSet(t){t(this)}}li.empty=new li([],[]);li.removeOverlap=SV;const Ja=li.empty;class rh{constructor(t){this.members=t}map(t,e){const r=this.members.map(o=>o.map(t,e,hm));return rh.from(r)}forChild(t,e){if(e.isLeaf)return li.empty;let r=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(t,e);i!=Ja&&(i instanceof rh?r=r.concat(i.members):r.push(i))}return rh.from(r)}eq(t){if(!(t instanceof rh)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,r=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(t);if(i.length)if(!e)e=i;else{r&&(e=e.slice(),r=!1);for(let a=0;a<i.length;a++)e.push(i[a])}}return e?SV(r?e:e.sort(pm)):fg}static from(t){switch(t.length){case 0:return Ja;case 1:return t[0];default:return new rh(t.every(e=>e instanceof li)?t:t.reduce((e,r)=>e.concat(r instanceof li?r:r.members),[]))}}forEachSet(t){for(let e=0;e<this.members.length;e++)this.members[e].forEachSet(t)}}function Ave(n,t,e,r,o,i,a){let s=n.slice();for(let u=0,c=i;u<e.maps.length;u++){let d=0;e.maps[u].forEach((f,h,p,v)=>{let g=v-p-(h-f);for(let _=0;_<s.length;_+=3){let S=s[_+1];if(S<0||f>S+c-d)continue;let y=s[_]+c-d;h>=y?s[_+1]=f<=y?-2:-1:f>=c&&g&&(s[_]+=g,s[_+1]+=g)}d+=g}),c=e.maps[u].map(c,-1)}let l=!1;for(let u=0;u<s.length;u+=3)if(s[u+1]<0){if(s[u+1]==-2){l=!0,s[u+1]=-1;continue}let c=e.map(n[u]+i),d=c-o;if(d<0||d>=r.content.size){l=!0;continue}let f=e.map(n[u+1]+i,-1),h=f-o,{index:p,offset:v}=r.content.findIndex(d),g=r.maybeChild(p);if(g&&v==d&&v+g.nodeSize==h){let _=s[u+2].mapInner(e,g,c+1,n[u]+i+1,a);_!=Ja?(s[u]=d,s[u+1]=h,s[u+2]=_):(s[u+1]=-2,l=!0)}else l=!0}if(l){let u=hve(s,n,t,e,o,i,a),c=cE(u,r,0,a);t=c.local;for(let d=0;d<s.length;d+=3)s[d+1]<0&&(s.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let h=c.children[d];for(;f<s.length&&s[f]<h;)f+=3;s.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new li(t.sort(pm),s)}function I9(n,t){if(!t||!n.length)return n;let e=[];for(let r=0;r<n.length;r++){let o=n[r];e.push(new Ks(o.from+t,o.to+t,o.type))}return e}function hve(n,t,e,r,o,i,a){function s(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(r,o,u);d?e.push(d):a.onRemove&&a.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)s(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<n.length;l+=3)n[l+1]==-1&&s(n[l+2],t[l]+i+1);return e}function M9(n,t,e){if(t.isLeaf)return null;let r=e+t.nodeSize,o=null;for(let i=0,a;i<n.length;i++)(a=n[i])&&a.from>e&&a.to<r&&((o||(o=[])).push(a),n[i]=null);return o}function F9(n){let t=[];for(let e=0;e<n.length;e++)n[e]!=null&&t.push(n[e]);return t}function cE(n,t,e,r){let o=[],i=!1;t.forEach((s,l)=>{let u=M9(n,s,l+e);if(u){i=!0;let c=cE(u,s,e+l+1,r);c!=Ja&&o.push(l,l+s.nodeSize,c)}});let a=I9(i?F9(n):n,-e).sort(pm);for(let s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new li(a,o):Ja}function pm(n,t){return n.from-t.from||n.to-t.to}function SV(n){let t=n;for(let e=0;e<t.length-1;e++){let r=t[e];if(r.from!=r.to)for(let o=e+1;o<t.length;o++){let i=t[o];if(i.from==r.from){i.to!=r.to&&(t==n&&(t=n.slice()),t[o]=i.copy(i.from,r.to),wQ(t,o+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(t==n&&(t=n.slice()),t[e]=r.copy(r.from,i.from),wQ(t,o,r.copy(i.from,r.to)));break}}}return t}function wQ(n,t,e){for(;t<n.length&&pm(e,n[t])>0;)t++;n.splice(t,0,e)}function jP(n){let t=[];return n.someProp("decorations",e=>{let r=e(n.state);r&&r!=Ja&&t.push(r)}),n.cursorWrapper&&t.push(li.create(n.state.doc,[n.cursorWrapper.deco])),rh.from(t)}const pve={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},mve=Ol&&Ch<=11;class vve{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class gve{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new vve,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);Ol&&Ch<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():La&&t.composing&&r.some(o=>o.type=="childList"&&o.target.nodeName=="TR")?(t.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),mve&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,pve)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(AQ(this.view)){if(this.suppressingSelectionUpdates)return Kf(this.view);if(Ol&&Ch<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Vm(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let e=new Set,r;for(let i=t.focusNode;i;i=vy(i))e.add(i);for(let i=t.anchorNode;i;i=vy(i))if(e.has(i)){r=i;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let e=this.pendingRecords();e.length&&(this.queue=[]);let r=t.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&AQ(t)&&!this.ignoreSelectionChange(r),i=-1,a=-1,s=!1,l=[];if(t.editable)for(let c=0;c<e.length;c++){let d=this.registerMutation(e[c],l);d&&(i=i<0?d.from:Math.min(d.from,i),a=a<0?d.to:Math.max(d.to,a),d.typeOver&&(s=!0))}if(ju&&l.length){let c=l.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let h=f.parentNode;h&&h.nodeName=="LI"&&(!d||wve(t,d)!=h)&&f.remove()}}}else if((ha||La)&&l.some(c=>c.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let c of l)if(c.nodeName=="BR"&&c.parentNode){let d=c.nextSibling;d&&d.nodeType==1&&d.contentEditable=="false"&&c.parentNode.removeChild(c)}}let u=null;i<0&&o&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&iT(r)&&(u=vV(t))&&u.eq($n.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Kf(t),this.currentSelection.set(r),t.scrollToSelection()):(i>-1||o)&&(i>-1&&(t.docView.markDirty(i,a),yve(t)),t.input.badSafariComposition&&(t.input.badSafariComposition=!1,_ve(t,l)),this.handleDOMChange(i,a,s,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Kf(t),this.currentSelection.set(r))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let c=0;c<t.addedNodes.length;c++){let d=t.addedNodes[c];e.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let o=t.previousSibling,i=t.nextSibling;if(Ol&&Ch<=11&&t.addedNodes.length)for(let c=0;c<t.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=t.addedNodes[c];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(o=d),(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f)}let a=o&&o.parentNode==t.target?Oa(o)+1:0,s=r.localPosFromDOM(t.target,a,-1),l=i&&i.parentNode==t.target?Oa(i):t.target.childNodes.length,u=r.localPosFromDOM(t.target,l,1);return{from:s,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let _Q=new WeakMap,CQ=!1;function yve(n){if(!_Q.has(n)&&(_Q.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=ju,CQ)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),CQ=!0}}function SQ(n,t){let e=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a=n.domAtPos(n.state.selection.anchor);return Vm(a.node,a.offset,o,i)&&([e,r,o,i]=[o,i,e,r]),{anchorNode:e,anchorOffset:r,focusNode:o,focusOffset:i}}function bve(n,t){if(t.getComposedRanges){let o=t.getComposedRanges(n.root)[0];if(o)return SQ(n,o)}let e;function r(o){o.preventDefault(),o.stopImmediatePropagation(),e=o.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),e?SQ(n,e):null}function wve(n,t){for(let e=t.parentNode;e&&e!=n.dom;e=e.parentNode){let r=n.docView.nearestDesc(e,!0);if(r&&r.node.isBlock)return e}return null}function _ve(n,t){var e;let{focusNode:r,focusOffset:o}=n.domSelectionRange();for(let i of t)if(((e=i.parentNode)===null||e===void 0?void 0:e.nodeName)=="TR"){let a=i.nextSibling;for(;a&&a.nodeName!="TD"&&a.nodeName!="TH";)a=a.nextSibling;if(a){let s=a;for(;;){let l=s.firstChild;if(!l||l.nodeType!=1||l.contentEditable=="false"||/^(BR|IMG)$/.test(l.nodeName))break;s=l}s.insertBefore(i,s.firstChild),r==i&&n.domSelection().collapse(i,o)}else i.parentNode.removeChild(i)}}function Cve(n,t,e){let{node:r,fromOffset:o,toOffset:i,from:a,to:s}=n.docView.parseRange(t,e),l=n.domSelectionRange(),u,c=l.anchorNode;if(c&&n.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],iT(l)||u.push({node:l.focusNode,offset:l.focusOffset})),ha&&n.input.lastKeyCode===8)for(let g=i;g>o;g--){let _=r.childNodes[g-1],S=_.pmViewDesc;if(_.nodeName=="BR"&&!S){i=g;break}if(!S||S.size)break}let d=n.state.doc,f=n.someProp("domParser")||Ub.fromSchema(n.state.schema),h=d.resolve(a),p=null,v=f.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:o,to:i,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:Sve,context:h});if(u&&u[0].pos!=null){let g=u[0].pos,_=u[1]&&u[1].pos;_==null&&(_=g),p={anchor:g+a,head:_+a}}return{doc:v,sel:p,from:a,to:s}}function Sve(n){let t=n.pmViewDesc;if(t)return t.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(La&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}else if(n.parentNode.lastChild==n||La&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const xve=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Eve(n,t,e,r,o){let i=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,t<0){let F=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,I=vV(n,F);if(I&&!n.state.selection.eq(I)){if(ha&&Lf&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",M=>M(n,Fp(13,"Enter"))))return;let k=n.state.tr.setSelection(I);F=="pointer"?k.setMeta("pointer",!0):F=="key"&&k.scrollIntoView(),i&&k.setMeta("composition",i),n.dispatch(k)}return}let a=n.state.doc.resolve(t),s=a.sharedDepth(e);t=a.before(s+1),e=n.state.doc.resolve(e).after(s+1);let l=n.state.selection,u=Cve(n,t,e),c=n.state.doc,d=c.slice(u.from,u.to),f,h;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(f=n.state.selection.to,h="end"):(f=n.state.selection.from,h="start"),n.input.lastKeyCode=null;let p=Tve(d.content,u.doc.content,u.from,f,h);if(p&&n.input.domChangeCount++,(gy&&n.input.lastIOSEnter>Date.now()-225||Lf)&&o.some(F=>F.nodeType==1&&!xve.test(F.nodeName))&&(!p||p.endA>=p.endB)&&n.someProp("handleKeyDown",F=>F(n,Fp(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof Dn&&!l.empty&&l.$head.sameParent(l.$anchor)&&!n.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let F=xQ(n,n.state.doc,u.sel);if(F&&!F.eq(n.state.selection)){let I=n.state.tr.setSelection(F);i&&I.setMeta("composition",i),n.dispatch(I)}}return}n.state.selection.from<n.state.selection.to&&p.start==p.endB&&n.state.selection instanceof Dn&&(p.start>n.state.selection.from&&p.start<=n.state.selection.from+2&&n.state.selection.from>=u.from?p.start=n.state.selection.from:p.endA<n.state.selection.to&&p.endA>=n.state.selection.to-2&&n.state.selection.to<=u.to&&(p.endB+=n.state.selection.to-p.endA,p.endA=n.state.selection.to)),Ol&&Ch<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>u.from&&u.doc.textBetween(p.start-u.from-1,p.start-u.from+1)==" "&&(p.start--,p.endA--,p.endB--);let v=u.doc.resolveNoCache(p.start-u.from),g=u.doc.resolveNoCache(p.endB-u.from),_=c.resolve(p.start),S=v.sameParent(g)&&v.parent.inlineContent&&_.end()>=p.endA;if((gy&&n.input.lastIOSEnter>Date.now()-225&&(!S||o.some(F=>F.nodeName=="DIV"||F.nodeName=="P"))||!S&&v.pos<u.doc.content.size&&(!v.sameParent(g)||!v.parent.inlineContent)&&v.pos<g.pos&&!/\S/.test(u.doc.textBetween(v.pos,g.pos,"","")))&&n.someProp("handleKeyDown",F=>F(n,Fp(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>p.start&&kve(c,p.start,p.endA,v,g)&&n.someProp("handleKeyDown",F=>F(n,Fp(8,"Backspace")))){Lf&&ha&&n.domObserver.suppressSelectionUpdates();return}ha&&p.endB==p.start&&(n.input.lastChromeDelete=Date.now()),Lf&&!S&&v.start()!=g.start()&&g.parentOffset==0&&v.depth==g.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==p.endA&&(p.endB-=2,g=u.doc.resolveNoCache(p.endB-u.from),setTimeout(()=>{n.someProp("handleKeyDown",function(F){return F(n,Fp(13,"Enter"))})},20));let y=p.start,C=p.endA,T=F=>{let I=F||n.state.tr.replace(y,C,u.doc.slice(p.start-u.from,p.endB-u.from));if(u.sel){let k=xQ(n,I.doc,u.sel);k&&!(ha&&n.composing&&k.empty&&(p.start!=p.endB||n.input.lastChromeDelete<Date.now()-100)&&(k.head==y||k.head==I.mapping.map(C)-1)||Ol&&k.empty&&k.head==y)&&I.setSelection(k)}return i&&I.setMeta("composition",i),I.scrollIntoView()},P;if(S)if(v.pos==g.pos){Ol&&Ch<=11&&v.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Kf(n),20));let F=T(n.state.tr.delete(y,C)),I=c.resolve(p.start).marksAcross(c.resolve(p.endA));I&&F.ensureMarks(I),n.dispatch(F)}else if(p.endA==p.endB&&(P=Bve(v.parent.content.cut(v.parentOffset,g.parentOffset),_.parent.content.cut(_.parentOffset,p.endA-_.start())))){let F=T(n.state.tr);P.type=="add"?F.addMark(y,C,P.mark):F.removeMark(y,C,P.mark),n.dispatch(F)}else if(v.parent.child(v.index()).isText&&v.index()==g.index()-(g.textOffset?0:1)){let F=v.parent.textBetween(v.parentOffset,g.parentOffset),I=()=>T(n.state.tr.insertText(F,y,C));n.someProp("handleTextInput",k=>k(n,y,C,F,I))||n.dispatch(I())}else n.dispatch(T());else n.dispatch(T())}function xQ(n,t,e){return Math.max(e.anchor,e.head)>t.content.size?null:gV(n,t.resolve(e.anchor),t.resolve(e.head))}function Bve(n,t){let e=n.firstChild.marks,r=t.firstChild.marks,o=e,i=r,a,s,l;for(let c=0;c<r.length;c++)o=r[c].removeFromSet(o);for(let c=0;c<e.length;c++)i=e[c].removeFromSet(i);if(o.length==1&&i.length==0)s=o[0],a="add",l=c=>c.mark(s.addToSet(c.marks));else if(o.length==0&&i.length==1)s=i[0],a="remove",l=c=>c.mark(s.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<t.childCount;c++)u.push(l(t.child(c)));if(Pt.from(u).eq(n))return{mark:s,type:a}}function kve(n,t,e,r,o){if(e-t<=o.pos-r.pos||$P(r,!0,!1)<o.pos)return!1;let i=n.resolve(t);if(!r.parent.isTextblock){let s=i.nodeAfter;return s!=null&&e==t+s.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let a=n.resolve($P(i,!0,!0));return!a.parent.isTextblock||a.pos>e||$P(a,!0,!1)<e?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function $P(n,t,e){let r=n.depth,o=t?n.end():n.pos;for(;r>0&&(t||n.indexAfter(r)==n.node(r).childCount);)r--,o++,t=!1;if(e){let i=n.node(r).maybeChild(n.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,o++}return o}function Tve(n,t,e,r,o){let i=n.findDiffStart(t,e);if(i==null)return null;let{a,b:s}=n.findDiffEnd(t,e+n.size,e+t.size);if(o=="end"){let l=Math.max(0,i-Math.min(a,s));r-=a+l-i}if(a<i&&n.size<t.size){let l=r<=i&&r>=a?i-r:0;i-=l,i&&i<t.size&&EQ(t.textBetween(i-1,i+1))&&(i+=l?1:-1),s=i+(s-a),a=i}else if(s<i){let l=r<=i&&r>=s?i-r:0;i-=l,i&&i<n.size&&EQ(n.textBetween(i-1,i+1))&&(i+=l?1:-1),a=i+(a-s),s=i}return{start:i,endA:a,endB:s}}function EQ(n){if(n.length!=2)return!1;let t=n.charCodeAt(0),e=n.charCodeAt(1);return t>=56320&&t<=57343&&e>=55296&&e<=56319}let D9=class{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Kme,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(PQ),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=TQ(this),kQ(this),this.nodeViews=OQ(this),this.docView=sQ(this.state.doc,BQ(this),jP(this),this.dom,this),this.domObserver=new gve(this,(r,o,i,a)=>Eve(this,r,o,i,a)),this.domObserver.start(),Wme(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&QF(this);let e=this._props;this._props=t,t.plugins&&(t.plugins.forEach(PQ),this.directPlugins=t.plugins),this.updateStateInner(t.state,e)}setProps(t){let e={};for(let r in this._props)e[r]=this._props[r];e.state=this.state;for(let r in t)e[r]=t[r];this.update(e)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,e){var r;let o=this.state,i=!1,a=!1;t.storedMarks&&this.composing&&(k9(this),a=!0),this.state=t;let s=o.plugins!=t.plugins||this._props.plugins!=e.plugins;if(s||this._props.plugins!=e.plugins||this._props.nodeViews!=e.nodeViews){let h=OQ(this);Pve(h,this.nodeViews)&&(this.nodeViews=h,i=!0)}(s||e.handleDOMEvents!=this._props.handleDOMEvents)&&QF(this),this.editable=TQ(this),kQ(this);let l=jP(this),u=BQ(this),c=o.plugins!=t.plugins&&!o.doc.eq(t.doc)?"reset":t.scrollToSelection>o.scrollToSelection?"to selection":"preserve",d=i||!this.docView.matchesNode(t.doc,u,l);(d||!t.selection.eq(o.selection))&&(a=!0);let f=c=="preserve"&&a&&this.dom.style.overflowAnchor==null&&ame(this);if(a){this.domObserver.stop();let h=d&&(Ol||ha)&&!this.composing&&!o.selection.empty&&!t.selection.empty&&Ove(o.selection,t.selection);if(d){let p=ha?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=ave(this)),(i||!this.docView.update(t.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=sQ(t.doc,u,l,this.dom,this)),p&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(h=!0)}h||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Ome(this))?Kf(this,h):(m9(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,o),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&sme(f)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",e=>e(this)))if(this.state.selection instanceof Pn){let e=this.docView.domAfterPos(this.state.selection.from);e.nodeType==1&&tQ(this,e.getBoundingClientRect(),t)}else tQ(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let r=this.directPlugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let r=this.state.plugins[e];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let e=0;e<this.pluginViews.length;e++){let r=this.pluginViews[e];r.update&&r.update(this,t)}}updateDraggedNode(t,e){let r=t.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let i=r.from+(this.state.doc.content.size-e.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(o=i)}this.dragging=new O9(t.slice,t.move,o<0?void 0:Pn.create(this.state.doc,o))}someProp(t,e){let r=this._props&&this._props[t],o;if(r!=null&&(o=e?e(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let s=this.directPlugins[a].props[t];if(s!=null&&(o=e?e(s):s))return o}let i=this.state.plugins;if(i)for(let a=0;a<i.length;a++){let s=i[a].props[t];if(s!=null&&(o=e?e(s):s))return o}}hasFocus(){if(Ol){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&lme(this.dom),Kf(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let e=this.dom.parentNode;e;e=e.parentNode)if(e.nodeType==9||e.nodeType==11&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Ame(this,t)}coordsAtPos(t,e=1){return l9(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,r=-1){let o=this.docView.posFromDOM(t,e,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(t,e){return gme(this,e||this.state,t)}pasteHTML(t,e){return Qw(this,"",t,!1,e||new ClipboardEvent("paste"))}pasteText(t,e){return Qw(this,t,null,!0,e||new ClipboardEvent("paste"))}serializeForClipboard(t){return yV(this,t)}destroy(){this.docView&&(zme(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],jP(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Xpe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Yme(this,t)}domSelectionRange(){let t=this.domSelection();return t?La&&this.root.nodeType===11&&tme(this.dom.ownerDocument)==this.dom&&bve(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};D9.prototype.dispatch=function(n){let t=this._props.dispatchTransaction;t?t.call(this,n):this.updateState(this.state.apply(n))};function BQ(n){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(n.editable),n.someProp("attributes",e=>{if(typeof e=="function"&&(e=e(n.state)),e)for(let r in e)r=="class"?t.class+=" "+e[r]:r=="style"?t.style=(t.style?t.style+";":"")+e[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(e[r]))}),t.translate||(t.translate="no"),[Ks.node(0,n.state.doc.content.size,t)]}function kQ(n){if(n.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),n.cursorWrapper={dom:t,deco:Ks.widget(n.state.selection.from,t,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function TQ(n){return!n.someProp("editable",t=>t(n.state)===!1)}function Ove(n,t){let e=Math.min(n.$anchor.sharedDepth(n.head),t.$anchor.sharedDepth(t.head));return n.$anchor.start(e)!=t.$anchor.start(e)}function OQ(n){let t=Object.create(null);function e(r){for(let o in r)Object.prototype.hasOwnProperty.call(t,o)||(t[o]=r[o])}return n.someProp("nodeViews",e),n.someProp("markViews",e),t}function Pve(n,t){let e=0,r=0;for(let o in n){if(n[o]!=t[o])return!0;e++}for(let o in t)r++;return e!=r}function PQ(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Rh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},dE={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ive=typeof navigator<"u"&&/Mac/.test(navigator.platform),Mve=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Pa=0;Pa<10;Pa++)Rh[48+Pa]=Rh[96+Pa]=String(Pa);for(var Pa=1;Pa<=24;Pa++)Rh[Pa+111]="F"+Pa;for(var Pa=65;Pa<=90;Pa++)Rh[Pa]=String.fromCharCode(Pa+32),dE[Pa]=String.fromCharCode(Pa);for(var KP in Rh)dE.hasOwnProperty(KP)||(dE[KP]=Rh[KP]);function Fve(n){var t=Ive&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Mve&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",e=!t&&n.key||(n.shiftKey?dE:Rh)[n.keyCode]||n.key||"Unidentified";return e=="Esc"&&(e="Escape"),e=="Del"&&(e="Delete"),e=="Left"&&(e="ArrowLeft"),e=="Up"&&(e="ArrowUp"),e=="Right"&&(e="ArrowRight"),e=="Down"&&(e="ArrowDown"),e}const Dve=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Uve=typeof navigator<"u"&&/Win/.test(navigator.platform);function Lve(n){let t=n.split(/-(?!$)/),e=t[t.length-1];e=="Space"&&(e=" ");let r,o,i,a;for(let s=0;s<t.length-1;s++){let l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))Dve?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(e="Alt-"+e),o&&(e="Ctrl-"+e),a&&(e="Meta-"+e),i&&(e="Shift-"+e),e}function Vve(n){let t=Object.create(null);for(let e in n)t[Lve(e)]=n[e];return t}function WP(n,t,e=!0){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),e&&t.shiftKey&&(n="Shift-"+n),n}function Nve(n){return new vs({props:{handleKeyDown:xV(n)}})}function xV(n){let t=Vve(n);return function(e,r){let o=Fve(r),i,a=t[WP(o,r)];if(a&&a(e.state,e.dispatch,e))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let s=t[WP(o,r,!1)];if(s&&s(e.state,e.dispatch,e))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(Uve&&r.ctrlKey&&r.altKey)&&(i=Rh[r.keyCode])&&i!=o){let s=t[WP(i,r)];if(s&&s(e.state,e.dispatch,e))return!0}}return!1}}const EV=(n,t)=>n.selection.empty?!1:(t&&t(n.tr.deleteSelection().scrollIntoView()),!0);function U9(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("backward",n):e.parentOffset>0)?null:e}const L9=(n,t,e)=>{let r=U9(n,e);if(!r)return!1;let o=BV(r);if(!o){let a=r.blockRange(),s=a&&$y(a);return s==null?!1:(t&&t(n.tr.lift(a,s).scrollIntoView()),!0)}let i=o.nodeBefore;if(W9(n,o,t,-1))return!0;if(r.parent.content.size==0&&(yy(i,"end")||Pn.isSelectable(i)))for(let a=r.depth;;a--){let s=rT(n.doc,r.before(a),r.after(a),on.empty);if(s&&s.slice.size<s.to-s.from){if(t){let l=n.tr.step(s);l.setSelection(yy(i,"end")?$n.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):Pn.create(l.doc,o.pos-i.nodeSize)),t(l.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return i.isAtom&&o.depth==r.depth-1?(t&&t(n.tr.delete(o.pos-i.nodeSize,o.pos).scrollIntoView()),!0):!1},Rve=(n,t,e)=>{let r=U9(n,e);if(!r)return!1;let o=BV(r);return o?V9(n,o,t):!1},Hve=(n,t,e)=>{let r=R9(n,e);if(!r)return!1;let o=kV(r);return o?V9(n,o,t):!1};function V9(n,t,e){let r=t.nodeBefore,o=r,i=t.pos-1;for(;!o.isTextblock;i--){if(o.type.spec.isolating)return!1;let c=o.lastChild;if(!c)return!1;o=c}let a=t.nodeAfter,s=a,l=t.pos+1;for(;!s.isTextblock;l++){if(s.type.spec.isolating)return!1;let c=s.firstChild;if(!c)return!1;s=c}let u=rT(n.doc,i,l,on.empty);if(!u||u.from!=i||u instanceof Aa&&u.slice.size>=l-i)return!1;if(e){let c=n.tr.step(u);c.setSelection(Dn.create(c.doc,i)),e(c.scrollIntoView())}return!0}function yy(n,t,e=!1){for(let r=n;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(e&&r.childCount!=1)return!1}return!1}const N9=(n,t,e)=>{let{$head:r,empty:o}=n.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(e?!e.endOfTextblock("backward",n):r.parentOffset>0)return!1;i=BV(r)}let a=i&&i.nodeBefore;return!a||!Pn.isSelectable(a)?!1:(t&&t(n.tr.setSelection(Pn.create(n.doc,i.pos-a.nodeSize)).scrollIntoView()),!0)};function BV(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){if(n.index(t)>0)return n.doc.resolve(n.before(t+1));if(n.node(t).type.spec.isolating)break}return null}function R9(n,t){let{$cursor:e}=n.selection;return!e||(t?!t.endOfTextblock("forward",n):e.parentOffset<e.parent.content.size)?null:e}const H9=(n,t,e)=>{let r=R9(n,e);if(!r)return!1;let o=kV(r);if(!o)return!1;let i=o.nodeAfter;if(W9(n,o,t,1))return!0;if(r.parent.content.size==0&&(yy(i,"start")||Pn.isSelectable(i))){let a=rT(n.doc,r.before(),r.after(),on.empty);if(a&&a.slice.size<a.to-a.from){if(t){let s=n.tr.step(a);s.setSelection(yy(i,"start")?$n.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):Pn.create(s.doc,s.mapping.map(o.pos))),t(s.scrollIntoView())}return!0}}return i.isAtom&&o.depth==r.depth-1?(t&&t(n.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0):!1},Q9=(n,t,e)=>{let{$head:r,empty:o}=n.selection,i=r;if(!o)return!1;if(r.parent.isTextblock){if(e?!e.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;i=kV(r)}let a=i&&i.nodeAfter;return!a||!Pn.isSelectable(a)?!1:(t&&t(n.tr.setSelection(Pn.create(n.doc,i.pos)).scrollIntoView()),!0)};function kV(n){if(!n.parent.type.spec.isolating)for(let t=n.depth-1;t>=0;t--){let e=n.node(t);if(n.index(t)+1<e.childCount)return n.doc.resolve(n.after(t+1));if(e.type.spec.isolating)break}return null}const Qve=(n,t)=>{let e=n.selection,r=e instanceof Pn,o;if(r){if(e.node.isTextblock||!Xh(n.doc,e.from))return!1;o=e.from}else if(o=nT(n.doc,e.from,-1),o==null)return!1;if(t){let i=n.tr.join(o);r&&i.setSelection(Pn.create(i.doc,o-n.doc.resolve(o).nodeBefore.nodeSize)),t(i.scrollIntoView())}return!0},jve=(n,t)=>{let e=n.selection,r;if(e instanceof Pn){if(e.node.isTextblock||!Xh(n.doc,e.to))return!1;r=e.to}else if(r=nT(n.doc,e.to,1),r==null)return!1;return t&&t(n.tr.join(r).scrollIntoView()),!0},$ve=(n,t)=>{let{$from:e,$to:r}=n.selection,o=e.blockRange(r),i=o&&$y(o);return i==null?!1:(t&&t(n.tr.lift(o,i).scrollIntoView()),!0)},j9=(n,t)=>{let{$head:e,$anchor:r}=n.selection;return!e.parent.type.spec.code||!e.sameParent(r)?!1:(t&&t(n.tr.insertText(`
`).scrollIntoView()),!0)};function TV(n){for(let t=0;t<n.edgeCount;t++){let{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}const Kve=(n,t)=>{let{$head:e,$anchor:r}=n.selection;if(!e.parent.type.spec.code||!e.sameParent(r))return!1;let o=e.node(-1),i=e.indexAfter(-1),a=TV(o.contentMatchAt(i));if(!a||!o.canReplaceWith(i,i,a))return!1;if(t){let s=e.after(),l=n.tr.replaceWith(s,s,a.createAndFill());l.setSelection($n.near(l.doc.resolve(s),1)),t(l.scrollIntoView())}return!0},$9=(n,t)=>{let e=n.selection,{$from:r,$to:o}=e;if(e instanceof au||r.parent.inlineContent||o.parent.inlineContent)return!1;let i=TV(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=n.tr.insert(a,i.createAndFill());s.setSelection(Dn.create(s.doc,a+1)),t(s.scrollIntoView())}return!0},K9=(n,t)=>{let{$cursor:e}=n.selection;if(!e||e.parent.content.size)return!1;if(e.depth>1&&e.after()!=e.end(-1)){let i=e.before();if($f(n.doc,i))return t&&t(n.tr.split(i).scrollIntoView()),!0}let r=e.blockRange(),o=r&&$y(r);return o==null?!1:(t&&t(n.tr.lift(r,o).scrollIntoView()),!0)};function Wve(n){return(t,e)=>{let{$from:r,$to:o}=t.selection;if(t.selection instanceof Pn&&t.selection.node.isBlock)return!r.parentOffset||!$f(t.doc,r.pos)?!1:(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let i=[],a,s,l=!1,u=!1;for(let h=r.depth;;h--)if(r.node(h).isBlock){l=r.end(h)==r.pos+(r.depth-h),u=r.start(h)==r.pos-(r.depth-h),s=TV(r.node(h-1).contentMatchAt(r.indexAfter(h-1))),i.unshift(l&&s?{type:s}:null),a=h;break}else{if(h==1)return!1;i.unshift(null)}let c=t.tr;(t.selection instanceof Dn||t.selection instanceof au)&&c.deleteSelection();let d=c.mapping.map(r.pos),f=$f(c.doc,d,i.length,i);if(f||(i[0]=s?{type:s}:null,f=$f(c.doc,d,i.length,i)),!f)return!1;if(c.split(d,i.length,i),!l&&u&&r.node(a).type!=s){let h=c.mapping.map(r.before(a)),p=c.doc.resolve(h);s&&r.node(a-1).canReplaceWith(p.index(),p.index()+1,s)&&c.setNodeMarkup(c.mapping.map(r.before(a)),s)}return e&&e(c.scrollIntoView()),!0}}const zve=Wve(),Gve=(n,t)=>{let{$from:e,to:r}=n.selection,o,i=e.sharedDepth(r);return i==0?!1:(o=e.before(i),t&&t(n.tr.setSelection(Pn.create(n.doc,o))),!0)};function Yve(n,t,e){let r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&t.parent.canReplace(i-1,i)?(e&&e(n.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(i,i+1)||!(o.isTextblock||Xh(n.doc,t.pos))?!1:(e&&e(n.tr.join(t.pos).scrollIntoView()),!0)}function W9(n,t,e,r){let o=t.nodeBefore,i=t.nodeAfter,a,s,l=o.type.spec.isolating||i.type.spec.isolating;if(!l&&Yve(n,t,e))return!0;let u=!l&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(a=(s=o.contentMatchAt(o.childCount)).findWrapping(i.type))&&s.matchType(a[0]||i.type).validEnd){if(e){let h=t.pos+i.nodeSize,p=Pt.empty;for(let _=a.length-1;_>=0;_--)p=Pt.from(a[_].create(null,p));p=Pt.from(o.copy(p));let v=n.tr.step(new va(t.pos-1,h,t.pos,h,new on(p,1,0),a.length,!0)),g=v.doc.resolve(h+2*a.length);g.nodeAfter&&g.nodeAfter.type==o.type&&Xh(v.doc,g.pos)&&v.join(g.pos),e(v.scrollIntoView())}return!0}let c=i.type.spec.isolating||r>0&&l?null:$n.findFrom(t,1),d=c&&c.$from.blockRange(c.$to),f=d&&$y(d);if(f!=null&&f>=t.depth)return e&&e(n.tr.lift(d,f).scrollIntoView()),!0;if(u&&yy(i,"start",!0)&&yy(o,"end")){let h=o,p=[];for(;p.push(h),!h.isTextblock;)h=h.lastChild;let v=i,g=1;for(;!v.isTextblock;v=v.firstChild)g++;if(h.canReplace(h.childCount,h.childCount,v.content)){if(e){let _=Pt.empty;for(let y=p.length-1;y>=0;y--)_=Pt.from(p[y].copy(_));let S=n.tr.step(new va(t.pos-p.length,t.pos+i.nodeSize,t.pos+g,t.pos+i.nodeSize-g,new on(_,p.length,0),0,!0));e(S.scrollIntoView())}return!0}}return!1}function z9(n){return function(t,e){let r=t.selection,o=n<0?r.$from:r.$to,i=o.depth;for(;o.node(i).isInline;){if(!i)return!1;i--}return o.node(i).isTextblock?(e&&e(t.tr.setSelection(Dn.create(t.doc,n<0?o.start(i):o.end(i)))),!0):!1}}const Xve=z9(-1),Jve=z9(1);function Zve(n,t=null){return function(e,r){let{$from:o,$to:i}=e.selection,a=o.blockRange(i),s=a&&hV(a,n,t);return s?(r&&r(e.tr.wrap(a,s).scrollIntoView()),!0):!1}}function IQ(n,t=null){return function(e,r){let o=!1;for(let i=0;i<e.selection.ranges.length&&!o;i++){let{$from:{pos:a},$to:{pos:s}}=e.selection.ranges[i];e.doc.nodesBetween(a,s,(l,u)=>{if(o)return!1;if(!(!l.isTextblock||l.hasMarkup(n,t)))if(l.type==n)o=!0;else{let c=e.doc.resolve(u),d=c.index();o=c.parent.canReplaceWith(d,d+1,n)}})}if(!o)return!1;if(r){let i=e.tr;for(let a=0;a<e.selection.ranges.length;a++){let{$from:{pos:s},$to:{pos:l}}=e.selection.ranges[a];i.setBlockType(s,l,n,t)}r(i.scrollIntoView())}return!0}}function OV(...n){return function(t,e,r){for(let o=0;o<n.length;o++)if(n[o](t,e,r))return!0;return!1}}OV(EV,L9,N9);OV(EV,H9,Q9);OV(j9,$9,K9,zve);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function qve(n,t=null){return function(e,r){let{$from:o,$to:i}=e.selection,a=o.blockRange(i);if(!a)return!1;let s=r?e.tr:null;return ege(s,a,n,t)?(r&&r(s.scrollIntoView()),!0):!1}}function ege(n,t,e,r=null){let o=!1,i=t,a=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(e)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=a.resolve(t.start-2);i=new oE(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new oE(t.$from,a.resolve(t.$to.end(t.depth)),t.depth)),o=!0}let s=hV(i,e,r,t);return s?(n&&tge(n,t,s,o,e),!0):!1}function tge(n,t,e,r,o){let i=Pt.empty;for(let c=e.length-1;c>=0;c--)i=Pt.from(e[c].type.create(e[c].attrs,i));n.step(new va(t.start-(r?2:0),t.end,t.start,t.end,new on(i,0,0),e.length,!0));let a=0;for(let c=0;c<e.length;c++)e[c].type==o&&(a=c+1);let s=e.length-a,l=t.start+e.length-(r?2:0),u=t.parent;for(let c=t.startIndex,d=t.endIndex,f=!0;c<d;c++,f=!1)!f&&$f(n.doc,l,s)&&(n.split(l,s),l+=2*s),l+=u.child(c).nodeSize;return n}function nge(n){return function(t,e){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==n);return i?e?r.node(i.depth-1).type==n?rge(t,e,n,i):oge(t,e,i):!0:!1}}function rge(n,t,e,r){let o=n.tr,i=r.end,a=r.$to.end(r.depth);i<a&&(o.step(new va(i-1,a,i,a,new on(Pt.from(e.create(null,r.parent.copy())),1,0),1,!0)),r=new oE(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const s=$y(r);if(s==null)return!1;o.lift(r,s);let l=o.doc.resolve(o.mapping.map(i,-1)-1);return Xh(o.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&o.join(l.pos),t(o.scrollIntoView()),!0}function oge(n,t,e){let r=n.tr,o=e.parent;for(let h=e.end,p=e.endIndex-1,v=e.startIndex;p>v;p--)h-=o.child(p).nodeSize,r.delete(h-1,h+1);let i=r.doc.resolve(e.start),a=i.nodeAfter;if(r.mapping.map(e.end)!=e.start+i.nodeAfter.nodeSize)return!1;let s=e.startIndex==0,l=e.endIndex==o.childCount,u=i.node(-1),c=i.index(-1);if(!u.canReplace(c+(s?0:1),c+1,a.content.append(l?Pt.empty:Pt.from(o))))return!1;let d=i.pos,f=d+a.nodeSize;return r.step(new va(d-(s?1:0),f+(l?1:0),d+1,f-1,new on((s?Pt.empty:Pt.from(o.copy(Pt.empty))).append(l?Pt.empty:Pt.from(o.copy(Pt.empty))),s?0:1,l?0:1),s?0:1)),t(r.scrollIntoView()),!0}function ige(n){return function(t,e){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,u=>u.childCount>0&&u.firstChild.type==n);if(!i)return!1;let a=i.startIndex;if(a==0)return!1;let s=i.parent,l=s.child(a-1);if(l.type!=n)return!1;if(e){let u=l.lastChild&&l.lastChild.type==s.type,c=Pt.from(u?n.create():null),d=new on(Pt.from(n.create(null,Pt.from(s.type.create(null,c)))),u?3:1,0),f=i.start,h=i.end;e(t.tr.step(new va(f-(u?3:1),h,f,h,d,1,!0)).scrollIntoView())}return!0}}function lT(n){const{state:t,transaction:e}=n;let{selection:r}=e,{doc:o}=e,{storedMarks:i}=e;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return i},get selection(){return r},get doc(){return o},get tr(){return r=e.selection,o=e.doc,i=e.storedMarks,e}}}class uT{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:o}=e,{tr:i}=r,a=this.buildProps(i);return Object.fromEntries(Object.entries(t).map(([s,l])=>[s,(...c)=>{const d=l(...c)(a);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:o,state:i}=this,{view:a}=o,s=[],l=!!t,u=t||i.tr,c=()=>(!l&&e&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(u),s.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,h])=>[f,(...v)=>{const g=this.buildProps(u,e),_=h(...v)(g);return s.push(_),d}])),run:c};return d}createCan(t){const{rawCommands:e,state:r}=this,o=!1,i=t||r.tr,a=this.buildProps(i,o);return{...Object.fromEntries(Object.entries(e).map(([l,u])=>[l,(...c)=>u(...c)({...a,dispatch:void 0})])),chain:()=>this.createChain(i,o)}}buildProps(t,e=!0){const{rawCommands:r,editor:o,state:i}=this,{view:a}=o,s={tr:t,editor:o,view:a,state:lT({state:i,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)(s)]))}};return s}}class age{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const r=this.callbacks[t];return r&&r.forEach(o=>o.apply(this,e)),this}off(t,e){const r=this.callbacks[t];return r&&(e?this.callbacks[t]=r.filter(o=>o!==e):delete this.callbacks[t]),this}once(t,e){const r=(...o)=>{this.off(t,r),e.apply(this,o)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}}function gn(n,t,e){return n.config[t]===void 0&&n.parent?gn(n.parent,t,e):typeof n.config[t]=="function"?n.config[t].bind({...e,parent:n.parent?gn(n.parent,t,e):null}):n.config[t]}function cT(n){const t=n.filter(o=>o.type==="extension"),e=n.filter(o=>o.type==="node"),r=n.filter(o=>o.type==="mark");return{baseExtensions:t,nodeExtensions:e,markExtensions:r}}function G9(n){const t=[],{nodeExtensions:e,markExtensions:r}=cT(n),o=[...e,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage,extensions:o},l=gn(a,"addGlobalAttributes",s);if(!l)return;l().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,h])=>{t.push({type:d,name:f,attribute:{...i,...h}})})})})}),o.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},l=gn(a,"addAttributes",s);if(!l)return;const u=l();Object.entries(u).forEach(([c,d])=>{const f={...i,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,t.push({type:a.name,name:c,attribute:f})})}),t}function ya(n,t){if(typeof n=="string"){if(!t.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return t.nodes[n]}return n}function Ni(...n){return n.filter(t=>!!t).reduce((t,e)=>{const r={...t};return Object.entries(e).forEach(([o,i])=>{if(!r[o]){r[o]=i;return}if(o==="class"){const s=i?String(i).split(" "):[],l=r[o]?r[o].split(" "):[],u=s.filter(c=>!l.includes(c));r[o]=[...l,...u].join(" ")}else if(o==="style"){const s=i?i.split(";").map(c=>c.trim()).filter(Boolean):[],l=r[o]?r[o].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;l.forEach(c=>{const[d,f]=c.split(":").map(h=>h.trim());u.set(d,f)}),s.forEach(c=>{const[d,f]=c.split(":").map(h=>h.trim());u.set(d,f)}),r[o]=Array.from(u.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else r[o]=i}),r},{})}function jF(n,t){return t.filter(e=>e.type===n.type.name).filter(e=>e.attribute.rendered).map(e=>e.attribute.renderHTML?e.attribute.renderHTML(n.attrs)||{}:{[e.name]:n.attrs[e.name]}).reduce((e,r)=>Ni(e,r),{})}function Y9(n){return typeof n=="function"}function ur(n,t=void 0,...e){return Y9(n)?t?n.bind(t)(...e):n(...e):n}function sge(n={}){return Object.keys(n).length===0&&n.constructor===Object}function lge(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function MQ(n,t){return"style"in n?n:{...n,getAttrs:e=>{const r=n.getAttrs?n.getAttrs(e):n.attrs;if(r===!1)return!1;const o=t.reduce((i,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(e):lge(e.getAttribute(a.name));return s==null?i:{...i,[a.name]:s}},{});return{...r,...o}}}}function FQ(n){return Object.fromEntries(Object.entries(n).filter(([t,e])=>t==="attrs"&&sge(e)?!1:e!=null))}function uge(n,t){var e;const r=G9(n),{nodeExtensions:o,markExtensions:i}=cT(n),a=(e=o.find(u=>gn(u,"topNode")))===null||e===void 0?void 0:e.name,s=Object.fromEntries(o.map(u=>{const c=r.filter(_=>_.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},f=n.reduce((_,S)=>{const y=gn(S,"extendNodeSchema",d);return{..._,...y?y(u):{}}},{}),h=FQ({...f,content:ur(gn(u,"content",d)),marks:ur(gn(u,"marks",d)),group:ur(gn(u,"group",d)),inline:ur(gn(u,"inline",d)),atom:ur(gn(u,"atom",d)),selectable:ur(gn(u,"selectable",d)),draggable:ur(gn(u,"draggable",d)),code:ur(gn(u,"code",d)),whitespace:ur(gn(u,"whitespace",d)),linebreakReplacement:ur(gn(u,"linebreakReplacement",d)),defining:ur(gn(u,"defining",d)),isolating:ur(gn(u,"isolating",d)),attrs:Object.fromEntries(c.map(_=>{var S;return[_.name,{default:(S=_==null?void 0:_.attribute)===null||S===void 0?void 0:S.default}]}))}),p=ur(gn(u,"parseHTML",d));p&&(h.parseDOM=p.map(_=>MQ(_,c)));const v=gn(u,"renderHTML",d);v&&(h.toDOM=_=>v({node:_,HTMLAttributes:jF(_,c)}));const g=gn(u,"renderText",d);return g&&(h.toText=g),[u.name,h]})),l=Object.fromEntries(i.map(u=>{const c=r.filter(g=>g.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},f=n.reduce((g,_)=>{const S=gn(_,"extendMarkSchema",d);return{...g,...S?S(u):{}}},{}),h=FQ({...f,inclusive:ur(gn(u,"inclusive",d)),excludes:ur(gn(u,"excludes",d)),group:ur(gn(u,"group",d)),spanning:ur(gn(u,"spanning",d)),code:ur(gn(u,"code",d)),attrs:Object.fromEntries(c.map(g=>{var _;return[g.name,{default:(_=g==null?void 0:g.attribute)===null||_===void 0?void 0:_.default}]}))}),p=ur(gn(u,"parseHTML",d));p&&(h.parseDOM=p.map(g=>MQ(g,c)));const v=gn(u,"renderHTML",d);return v&&(h.toDOM=g=>v({mark:g,HTMLAttributes:jF(g,c)})),[u.name,h]}));return new DG({topNode:a,nodes:s,marks:l})}function zP(n,t){return t.nodes[n]||t.marks[n]||null}function DQ(n,t){return Array.isArray(t)?t.some(e=>(typeof e=="string"?e:e.name)===n.name):t}function PV(n,t){const e=sv.fromSchema(t).serializeFragment(n),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(e),o.innerHTML}const cge=(n,t=500)=>{let e="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-t),r,(o,i,a,s)=>{var l,u;const c=((u=(l=o.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:o,pos:i,parent:a,index:s}))||o.textContent||"%leaf%";e+=o.isAtom&&!o.isText?c:c.slice(0,Math.max(0,r-i))}),e};function IV(n){return Object.prototype.toString.call(n)==="[object RegExp]"}class dT{constructor(t){this.find=t.find,this.handler=t.handler}}const dge=(n,t)=>{if(IV(t))return t.exec(n);const e=t(n);if(!e)return null;const r=[e.text];return r.index=e.index,r.input=n,r.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(e.replaceWith)),r};function T1(n){var t;const{editor:e,from:r,to:o,text:i,rules:a,plugin:s}=n,{view:l}=e;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((t=u.nodeBefore||u.nodeAfter)===null||t===void 0)&&t.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=cge(u)+i;return a.forEach(f=>{if(c)return;const h=dge(d,f.find);if(!h)return;const p=l.state.tr,v=lT({state:l.state,transaction:p}),g={from:r-(h[0].length-i.length),to:o},{commands:_,chain:S,can:y}=new uT({editor:e,state:v});f.handler({state:v,range:g,match:h,commands:_,chain:S,can:y})===null||!p.steps.length||(p.setMeta(s,{transform:p,from:r,to:o,text:i}),l.dispatch(p),c=!0)}),c}function fge(n){const{editor:t,rules:e}=n,r=new vs({state:{init(){return null},apply(o,i,a){const s=o.getMeta(r);if(s)return s;const l=o.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=PV(Pt.from(c),a.schema);const{from:d}=l,f=d+c.length;T1({editor:t,from:d,to:f,text:c,rules:e,plugin:r})}),o.selectionSet||o.docChanged?null:i}},props:{handleTextInput(o,i,a,s){return T1({editor:t,from:i,to:a,text:s,rules:e,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:i}=o.state.selection;i&&T1({editor:t,from:i.pos,to:i.pos,text:"",rules:e,plugin:r})}),!1)},handleKeyDown(o,i){if(i.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?T1({editor:t,from:a.pos,to:a.pos,text:`
`,rules:e,plugin:r}):!1}},isInputRules:!0});return r}function Age(n){return Object.prototype.toString.call(n).slice(8,-1)}function O1(n){return Age(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function fT(n,t){const e={...n};return O1(n)&&O1(t)&&Object.keys(t).forEach(r=>{O1(t[r])&&O1(n[r])?e[r]=fT(n[r],t[r]):e[r]=t[r]}),e}class Hh{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ur(gn(this,"addOptions",{name:this.name}))),this.storage=ur(gn(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Hh(t)}configure(t={}){const e=this.extend({...this.config,addOptions:()=>fT(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new Hh(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=ur(gn(e,"addOptions",{name:e.name})),e.storage=ur(gn(e,"addStorage",{name:e.name,options:e.options})),e}static handleExit({editor:t,mark:e}){const{tr:r}=t.state,o=t.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(u=>(u==null?void 0:u.type.name)===e.name))return!1;const l=a.find(u=>(u==null?void 0:u.type.name)===e.name);return l&&r.removeStoredMark(l),r.insertText(" ",o.pos),t.view.dispatch(r),!0}return!1}}function hge(n){return typeof n=="number"}class pge{constructor(t){this.find=t.find,this.handler=t.handler}}const mge=(n,t,e)=>{if(IV(t))return[...n.matchAll(t)];const r=t(n,e);return r?r.map(o=>{const i=[o.text];return i.index=o.index,i.input=n,i.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(o.replaceWith)),i}):[]};function vge(n){const{editor:t,state:e,from:r,to:o,rule:i,pasteEvent:a,dropEvent:s}=n,{commands:l,chain:u,can:c}=new uT({editor:t,state:e}),d=[];return e.doc.nodesBetween(r,o,(h,p)=>{if(!h.isTextblock||h.type.spec.code)return;const v=Math.max(r,p),g=Math.min(o,p+h.content.size),_=h.textBetween(v-p,g-p,void 0,"");mge(_,i.find,a).forEach(y=>{if(y.index===void 0)return;const C=v+y.index+1,T=C+y[0].length,P={from:e.tr.mapping.map(C),to:e.tr.mapping.map(T)},F=i.handler({state:e,range:P,match:y,commands:l,chain:u,can:c,pasteEvent:a,dropEvent:s});d.push(F)})}),d.every(h=>h!==null)}let P1=null;const gge=n=>{var t;const e=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=e.clipboardData)===null||t===void 0||t.setData("text/html",n),e};function yge(n){const{editor:t,rules:e}=n;let r=null,o=!1,i=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,s;try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}const l=({state:c,from:d,to:f,rule:h,pasteEvt:p})=>{const v=c.tr,g=lT({state:c,transaction:v});if(!(!vge({editor:t,state:g,from:Math.max(d-1,0),to:f.b-1,rule:h,pasteEvent:p,dropEvent:s})||!v.steps.length)){try{s=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{s=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,v}};return e.map(c=>new vs({view(d){const f=p=>{var v;r=!((v=d.dom.parentElement)===null||v===void 0)&&v.contains(p.target)?d.dom.parentElement:null,r&&(P1=t)},h=()=>{P1&&(P1=null)};return window.addEventListener("dragstart",f),window.addEventListener("dragend",h),{destroy(){window.removeEventListener("dragstart",f),window.removeEventListener("dragend",h)}}},props:{handleDOMEvents:{drop:(d,f)=>{if(i=r===d.dom.parentElement,s=f,!i){const h=P1;h!=null&&h.isEditable&&setTimeout(()=>{const p=h.state.selection;p&&h.commands.deleteRange({from:p.from,to:p.to})},10)}return!1},paste:(d,f)=>{var h;const p=(h=f.clipboardData)===null||h===void 0?void 0:h.getData("text/html");return a=f,o=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,h)=>{const p=d[0],v=p.getMeta("uiEvent")==="paste"&&!o,g=p.getMeta("uiEvent")==="drop"&&!i,_=p.getMeta("applyPasteRules"),S=!!_;if(!v&&!g&&!S)return;if(S){let{text:T}=_;typeof T=="string"?T=T:T=PV(Pt.from(T),h.schema);const{from:P}=_,F=P+T.length,I=gge(T);return l({rule:c,state:h,from:P,to:{b:F},pasteEvt:I})}const y=f.doc.content.findDiffStart(h.doc.content),C=f.doc.content.findDiffEnd(h.doc.content);if(!(!hge(y)||!C||y===C.b))return l({rule:c,state:h,from:y,to:C,pasteEvt:a})}}))}function bge(n){const t=n.filter((e,r)=>n.indexOf(e)!==r);return Array.from(new Set(t))}class Sg{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=Sg.resolve(t),this.schema=uge(this.extensions,e),this.setupExtensions()}static resolve(t){const e=Sg.sort(Sg.flatten(t)),r=bge(e.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),e}static flatten(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},o=gn(e,"addExtensions",r);return o?[e,...this.flatten(o())]:e}).flat(10)}static sort(t){return t.sort((r,o)=>{const i=gn(r,"priority")||100,a=gn(o,"priority")||100;return i>a?-1:i<a?1:0})}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:zP(e.name,this.schema)},o=gn(e,"addCommands",r);return o?{...t,...o()}:t},{})}get plugins(){const{editor:t}=this,e=Sg.sort([...this.extensions].reverse()),r=[],o=[],i=e.map(a=>{const s={name:a.name,options:a.options,storage:a.storage,editor:t,type:zP(a.name,this.schema)},l=[],u=gn(a,"addKeyboardShortcuts",s);let c={};if(a.type==="mark"&&gn(a,"exitable",s)&&(c.ArrowRight=()=>Hh.handleExit({editor:t,mark:a})),u){const v=Object.fromEntries(Object.entries(u()).map(([g,_])=>[g,()=>_({editor:t})]));c={...c,...v}}const d=Nve(c);l.push(d);const f=gn(a,"addInputRules",s);DQ(a,t.options.enableInputRules)&&f&&r.push(...f());const h=gn(a,"addPasteRules",s);DQ(a,t.options.enablePasteRules)&&h&&o.push(...h());const p=gn(a,"addProseMirrorPlugins",s);if(p){const v=p();l.push(...v)}return l}).flat();return[fge({editor:t,rules:r}),...yge({editor:t,rules:o}),...i]}get attributes(){return G9(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=cT(this.extensions);return Object.fromEntries(e.filter(r=>!!gn(r,"addNodeView")).map(r=>{const o=this.attributes.filter(l=>l.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:t,type:ya(r.name,this.schema)},a=gn(r,"addNodeView",i);if(!a)return[];const s=(l,u,c,d,f)=>{const h=jF(l,o);return a()({node:l,view:u,getPos:c,decorations:d,innerDecorations:f,editor:t,extension:r,HTMLAttributes:h})};return[r.name,s]}))}setupExtensions(){this.extensions.forEach(t=>{var e;this.editor.extensionStorage[t.name]=t.storage;const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:zP(t.name,this.schema)};t.type==="mark"&&(!((e=ur(gn(t,"keepOnSplit",r)))!==null&&e!==void 0)||e)&&this.splittableMarks.push(t.name);const o=gn(t,"onBeforeCreate",r),i=gn(t,"onCreate",r),a=gn(t,"onUpdate",r),s=gn(t,"onSelectionUpdate",r),l=gn(t,"onTransaction",r),u=gn(t,"onFocus",r),c=gn(t,"onBlur",r),d=gn(t,"onDestroy",r);o&&this.editor.on("beforeCreate",o),i&&this.editor.on("create",i),a&&this.editor.on("update",a),s&&this.editor.on("selectionUpdate",s),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}class Zs{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ur(gn(this,"addOptions",{name:this.name}))),this.storage=ur(gn(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Zs(t)}configure(t={}){const e=this.extend({...this.config,addOptions:()=>fT(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new Zs({...this.config,...t});return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=ur(gn(e,"addOptions",{name:e.name})),e.storage=ur(gn(e,"addStorage",{name:e.name,options:e.options})),e}}function X9(n,t,e){const{from:r,to:o}=t,{blockSeparator:i=`

`,textSerializers:a={}}=e||{};let s="";return n.nodesBetween(r,o,(l,u,c,d)=>{var f;l.isBlock&&u>r&&(s+=i);const h=a==null?void 0:a[l.type.name];if(h)return c&&(s+=h({node:l,pos:u,parent:c,index:d,range:t})),!1;l.isText&&(s+=(f=l==null?void 0:l.text)===null||f===void 0?void 0:f.slice(Math.max(r,u)-u,o-u))}),s}function J9(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,t])=>t.spec.toText).map(([t,e])=>[t,e.spec.toText]))}const wge=Zs.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new vs({key:new fu("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:t,schema:e}=n,{doc:r,selection:o}=t,{ranges:i}=o,a=Math.min(...i.map(c=>c.$from.pos)),s=Math.max(...i.map(c=>c.$to.pos)),l=J9(e);return X9(r,{from:a,to:s},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),_ge=()=>({editor:n,view:t})=>(requestAnimationFrame(()=>{var e;n.isDestroyed||(t.dom.blur(),(e=window==null?void 0:window.getSelection())===null||e===void 0||e.removeAllRanges())}),!0),Cge=(n=!1)=>({commands:t})=>t.setContent("",n),Sge=()=>({state:n,tr:t,dispatch:e})=>{const{selection:r}=t,{ranges:o}=r;return e&&o.forEach(({$from:i,$to:a})=>{n.doc.nodesBetween(i.pos,a.pos,(s,l)=>{if(s.type.isText)return;const{doc:u,mapping:c}=t,d=u.resolve(c.map(l)),f=u.resolve(c.map(l+s.nodeSize)),h=d.blockRange(f);if(!h)return;const p=$y(h);if(s.type.isTextblock){const{defaultType:v}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(h.start,v)}(p||p===0)&&t.lift(h,p)})}),!0},xge=n=>t=>n(t),Ege=()=>({state:n,dispatch:t})=>$9(n,t),Bge=(n,t)=>({editor:e,tr:r})=>{const{state:o}=e,i=o.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(t);return r.insert(a,i.content),r.setSelection(new Dn(r.doc.resolve(Math.max(a-1,0)))),!0},kge=()=>({tr:n,dispatch:t})=>{const{selection:e}=n,r=e.$anchor.node();if(r.content.size>0)return!1;const o=n.selection.$anchor;for(let i=o.depth;i>0;i-=1)if(o.node(i).type===r.type){if(t){const s=o.before(i),l=o.after(i);n.delete(s,l).scrollIntoView()}return!0}return!1},Tge=n=>({tr:t,state:e,dispatch:r})=>{const o=ya(n,e.schema),i=t.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===o){if(r){const l=i.before(a),u=i.after(a);t.delete(l,u).scrollIntoView()}return!0}return!1},Oge=n=>({tr:t,dispatch:e})=>{const{from:r,to:o}=n;return e&&t.delete(r,o),!0},Pge=()=>({state:n,dispatch:t})=>EV(n,t),Ige=()=>({commands:n})=>n.keyboardShortcut("Enter"),Mge=()=>({state:n,dispatch:t})=>Kve(n,t);function fE(n,t,e={strict:!0}){const r=Object.keys(t);return r.length?r.every(o=>e.strict?t[o]===n[o]:IV(t[o])?t[o].test(n[o]):t[o]===n[o]):!0}function Z9(n,t,e={}){return n.find(r=>r.type===t&&fE(Object.fromEntries(Object.keys(e).map(o=>[o,r.attrs[o]])),e))}function UQ(n,t,e={}){return!!Z9(n,t,e)}function MV(n,t,e){var r;if(!n||!t)return;let o=n.parent.childAfter(n.parentOffset);if((!o.node||!o.node.marks.some(c=>c.type===t))&&(o=n.parent.childBefore(n.parentOffset)),!o.node||!o.node.marks.some(c=>c.type===t)||(e=e||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!Z9([...o.node.marks],t,e)))return;let a=o.index,s=n.start()+o.offset,l=a+1,u=s+o.node.nodeSize;for(;a>0&&UQ([...n.parent.child(a-1).marks],t,e);)a-=1,s-=n.parent.child(a).nodeSize;for(;l<n.parent.childCount&&UQ([...n.parent.child(l).marks],t,e);)u+=n.parent.child(l).nodeSize,l+=1;return{from:s,to:u}}function Zh(n,t){if(typeof n=="string"){if(!t.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return t.marks[n]}return n}const Fge=(n,t={})=>({tr:e,state:r,dispatch:o})=>{const i=Zh(n,r.schema),{doc:a,selection:s}=e,{$from:l,from:u,to:c}=s;if(o){const d=MV(l,i,t);if(d&&d.from<=u&&d.to>=c){const f=Dn.create(a,d.from,d.to);e.setSelection(f)}}return!0},Dge=n=>t=>{const e=typeof n=="function"?n(t):n;for(let r=0;r<e.length;r+=1)if(e[r](t))return!0;return!1};function q9(n){return n instanceof Dn}function zp(n=0,t=0,e=0){return Math.min(Math.max(n,t),e)}function eY(n,t=null){if(!t)return null;const e=$n.atStart(n),r=$n.atEnd(n);if(t==="start"||t===!0)return e;if(t==="end")return r;const o=e.from,i=r.to;return t==="all"?Dn.create(n,zp(0,o,i),zp(n.content.size,o,i)):Dn.create(n,zp(t,o,i),zp(t,o,i))}function LQ(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function AE(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function Uge(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}const Lge=(n=null,t={})=>({editor:e,view:r,tr:o,dispatch:i})=>{t={scrollIntoView:!0,...t};const a=()=>{(AE()||LQ())&&r.dom.focus(),requestAnimationFrame(()=>{e.isDestroyed||(r.focus(),Uge()&&!AE()&&!LQ()&&r.dom.focus({preventScroll:!0}))})};if(r.hasFocus()&&n===null||n===!1)return!0;if(i&&n===null&&!q9(e.state.selection))return a(),!0;const s=eY(o.doc,n)||e.state.selection,l=e.state.selection.eq(s);return i&&(l||o.setSelection(s),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},Vge=(n,t)=>e=>n.every((r,o)=>t(r,{...e,index:o})),Nge=(n,t)=>({tr:e,commands:r})=>r.insertContentAt({from:e.selection.from,to:e.selection.to},n,t),tY=n=>{const t=n.childNodes;for(let e=t.length-1;e>=0;e-=1){const r=t[e];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&tY(r)}return n};function I1(n){const t=`<body>${n}</body>`,e=new window.DOMParser().parseFromString(t,"text/html").body;return tY(e)}function $w(n,t,e){if(n instanceof _h||n instanceof Pt)return n;e={slice:!0,parseOptions:{},...e};const r=typeof n=="object"&&n!==null,o=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return Pt.fromArray(n.map(s=>t.nodeFromJSON(s)));const a=t.nodeFromJSON(n);return e.errorOnInvalidContent&&a.check(),a}catch(i){if(e.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",i),$w("",t,e)}if(o){if(e.errorOnInvalidContent){let a=!1,s="";const l=new DG({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(a=!0,s=typeof u=="string"?u:u.outerHTML,null)}]}})});if(e.slice?Ub.fromSchema(l).parseSlice(I1(n),e.parseOptions):Ub.fromSchema(l).parse(I1(n),e.parseOptions),e.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${s}`)})}const i=Ub.fromSchema(t);return e.slice?i.parseSlice(I1(n),e.parseOptions).content:i.parse(I1(n),e.parseOptions)}return $w("",t,e)}function Rge(n,t,e){const r=n.steps.length-1;if(r<t)return;const o=n.steps[r];if(!(o instanceof Aa||o instanceof va))return;const i=n.mapping.maps[r];let a=0;i.forEach((s,l,u,c)=>{a===0&&(a=c)}),n.setSelection($n.near(n.doc.resolve(a),e))}const Hge=n=>!("type"in n),Qge=(n,t,e)=>({tr:r,dispatch:o,editor:i})=>{var a;if(o){e={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...e};let s;const l=g=>{i.emit("contentError",{editor:i,error:g,disableCollaboration:()=>{i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...e.parseOptions};if(!e.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{$w(t,i.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(g){l(g)}try{s=$w(t,i.schema,{parseOptions:u,errorOnInvalidContent:(a=e.errorOnInvalidContent)!==null&&a!==void 0?a:i.options.enableContentCheck})}catch(g){return l(g),!1}let{from:c,to:d}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},f=!0,h=!0;if((Hge(s)?s:[s]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,h=h?g.isBlock:!1}),c===d&&h){const{parent:g}=r.doc.resolve(c);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(c-=1,d+=1)}let v;if(f){if(Array.isArray(t))v=t.map(g=>g.text||"").join("");else if(t instanceof Pt){let g="";t.forEach(_=>{_.text&&(g+=_.text)}),v=g}else typeof t=="object"&&t&&t.text?v=t.text:v=t;r.insertText(v,c,d)}else v=s,r.replaceWith(c,d,v);e.updateSelection&&Rge(r,r.steps.length-1,-1),e.applyInputRules&&r.setMeta("applyInputRules",{from:c,text:v}),e.applyPasteRules&&r.setMeta("applyPasteRules",{from:c,text:v})}return!0},jge=()=>({state:n,dispatch:t})=>Qve(n,t),$ge=()=>({state:n,dispatch:t})=>jve(n,t),Kge=()=>({state:n,dispatch:t})=>L9(n,t),Wge=()=>({state:n,dispatch:t})=>H9(n,t),zge=()=>({state:n,dispatch:t,tr:e})=>{try{const r=nT(n.doc,n.selection.$from.pos,-1);return r==null?!1:(e.join(r,2),t&&t(e),!0)}catch{return!1}},Gge=()=>({state:n,dispatch:t,tr:e})=>{try{const r=nT(n.doc,n.selection.$from.pos,1);return r==null?!1:(e.join(r,2),t&&t(e),!0)}catch{return!1}},Yge=()=>({state:n,dispatch:t})=>Rve(n,t),Xge=()=>({state:n,dispatch:t})=>Hve(n,t);function nY(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Jge(n){const t=n.split(/-(?!$)/);let e=t[t.length-1];e==="Space"&&(e=" ");let r,o,i,a;for(let s=0;s<t.length-1;s+=1){const l=t[s];if(/^(cmd|meta|m)$/i.test(l))a=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))o=!0;else if(/^s(hift)?$/i.test(l))i=!0;else if(/^mod$/i.test(l))AE()||nY()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(e=`Alt-${e}`),o&&(e=`Ctrl-${e}`),a&&(e=`Meta-${e}`),i&&(e=`Shift-${e}`),e}const Zge=n=>({editor:t,view:e,tr:r,dispatch:o})=>{const i=Jge(n).split(/-(?!$)/),a=i.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{e.someProp("handleKeyDown",u=>u(e,s))});return l==null||l.steps.forEach(u=>{const c=u.map(r.mapping);c&&o&&r.maybeStep(c)}),!0};function Kw(n,t,e={}){const{from:r,to:o,empty:i}=n.selection,a=t?ya(t,n.schema):null,s=[];n.doc.nodesBetween(r,o,(d,f)=>{if(d.isText)return;const h=Math.max(r,f),p=Math.min(o,f+d.nodeSize);s.push({node:d,from:h,to:p})});const l=o-r,u=s.filter(d=>a?a.name===d.node.type.name:!0).filter(d=>fE(d.node.attrs,e,{strict:!1}));return i?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=l}const qge=(n,t={})=>({state:e,dispatch:r})=>{const o=ya(n,e.schema);return Kw(e,o,t)?$ve(e,r):!1},eye=()=>({state:n,dispatch:t})=>K9(n,t),tye=n=>({state:t,dispatch:e})=>{const r=ya(n,t.schema);return nge(r)(t,e)},nye=()=>({state:n,dispatch:t})=>j9(n,t);function AT(n,t){return t.nodes[n]?"node":t.marks[n]?"mark":null}function VQ(n,t){const e=typeof t=="string"?[t]:t;return Object.keys(n).reduce((r,o)=>(e.includes(o)||(r[o]=n[o]),r),{})}const rye=(n,t)=>({tr:e,state:r,dispatch:o})=>{let i=null,a=null;const s=AT(typeof n=="string"?n:n.name,r.schema);return s?(s==="node"&&(i=ya(n,r.schema)),s==="mark"&&(a=Zh(n,r.schema)),o&&e.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{i&&i===u.type&&e.setNodeMarkup(c,void 0,VQ(u.attrs,t)),a&&u.marks.length&&u.marks.forEach(d=>{a===d.type&&e.addMark(c,c+u.nodeSize,a.create(VQ(d.attrs,t)))})})}),!0):!1},oye=()=>({tr:n,dispatch:t})=>(t&&n.scrollIntoView(),!0),iye=()=>({tr:n,dispatch:t})=>{if(t){const e=new au(n.doc);n.setSelection(e)}return!0},aye=()=>({state:n,dispatch:t})=>N9(n,t),sye=()=>({state:n,dispatch:t})=>Q9(n,t),lye=()=>({state:n,dispatch:t})=>Gve(n,t),uye=()=>({state:n,dispatch:t})=>Jve(n,t),cye=()=>({state:n,dispatch:t})=>Xve(n,t);function $F(n,t,e={},r={}){return $w(n,t,{slice:!1,parseOptions:e,errorOnInvalidContent:r.errorOnInvalidContent})}const dye=(n,t=!1,e={},r={})=>({editor:o,tr:i,dispatch:a,commands:s})=>{var l,u;const{doc:c}=i;if(e.preserveWhitespace!=="full"){const d=$F(n,o.schema,e,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:o.options.enableContentCheck});return a&&i.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!t),!0}return a&&i.setMeta("preventUpdate",!t),s.insertContentAt({from:0,to:c.content.size},n,{parseOptions:e,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:o.options.enableContentCheck})};function rY(n,t){const e=Zh(t,n.schema),{from:r,to:o,empty:i}=n.selection,a=[];i?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,o,l=>{a.push(...l.marks)});const s=a.find(l=>l.type.name===e.name);return s?{...s.attrs}:{}}function fye(n){for(let t=0;t<n.edgeCount;t+=1){const{type:e}=n.edge(t);if(e.isTextblock&&!e.hasRequiredAttrs())return e}return null}function oY(n,t){for(let e=n.depth;e>0;e-=1){const r=n.node(e);if(t(r))return{pos:e>0?n.before(e):0,start:n.start(e),depth:e,node:r}}}function FV(n){return t=>oY(t.$from,n)}function Aye(n,t){const e={from:0,to:n.content.size};return X9(n,e,t)}function hye(n,t){const e=ya(t,n.schema),{from:r,to:o}=n.selection,i=[];n.doc.nodesBetween(r,o,s=>{i.push(s)});const a=i.reverse().find(s=>s.type.name===e.name);return a?{...a.attrs}:{}}function pye(n,t){const e=AT(typeof t=="string"?t:t.name,n.schema);return e==="node"?hye(n,t):e==="mark"?rY(n,t):{}}function iY(n,t,e){const r=[];return n===t?e.resolve(n).marks().forEach(o=>{const i=e.resolve(n),a=MV(i,o.type);a&&r.push({mark:o,...a})}):e.nodesBetween(n,t,(o,i)=>{!o||(o==null?void 0:o.nodeSize)===void 0||r.push(...o.marks.map(a=>({from:i,to:i+o.nodeSize,mark:a})))}),r}function RS(n,t,e){return Object.fromEntries(Object.entries(e).filter(([r])=>{const o=n.find(i=>i.type===t&&i.name===r);return o?o.attribute.keepOnSplit:!1}))}function KF(n,t,e={}){const{empty:r,ranges:o}=n.selection,i=t?Zh(t,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(d=>i?i.name===d.type.name:!0).find(d=>fE(d.attrs,e,{strict:!1}));let a=0;const s=[];if(o.forEach(({$from:d,$to:f})=>{const h=d.pos,p=f.pos;n.doc.nodesBetween(h,p,(v,g)=>{if(!v.isText&&!v.marks.length)return;const _=Math.max(h,g),S=Math.min(p,g+v.nodeSize),y=S-_;a+=y,s.push(...v.marks.map(C=>({mark:C,from:_,to:S})))})}),a===0)return!1;const l=s.filter(d=>i?i.name===d.mark.type.name:!0).filter(d=>fE(d.mark.attrs,e,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=s.filter(d=>i?d.mark.type!==i&&d.mark.type.excludes(i):!0).reduce((d,f)=>d+f.to-f.from,0);return(l>0?l+u:l)>=a}function mye(n,t,e={}){if(!t)return Kw(n,null,e)||KF(n,null,e);const r=AT(t,n.schema);return r==="node"?Kw(n,t,e):r==="mark"?KF(n,t,e):!1}function NQ(n,t){const{nodeExtensions:e}=cT(t),r=e.find(a=>a.name===n);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},i=ur(gn(r,"group",o));return typeof i!="string"?!1:i.split(" ").includes("list")}function DV(n,{checkChildren:t=!0,ignoreWhitespace:e=!1}={}){var r;if(e){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(t){let o=!0;return n.content.forEach(i=>{o!==!1&&(DV(i,{ignoreWhitespace:e,checkChildren:t})||(o=!1))}),o}return!1}function vye(n){return n instanceof Pn}function gye(n,t,e){var r;const{selection:o}=t;let i=null;if(q9(o)&&(i=o.$cursor),i){const s=(r=n.storedMarks)!==null&&r!==void 0?r:i.marks();return!!e.isInSet(s)||!s.some(l=>l.type.excludes(e))}const{ranges:a}=o;return a.some(({$from:s,$to:l})=>{let u=s.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(e):!1;return n.doc.nodesBetween(s.pos,l.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const h=!f||f.type.allowsMarkType(e),p=!!e.isInSet(c.marks)||!c.marks.some(v=>v.type.excludes(e));u=h&&p}return!u}),u})}const yye=(n,t={})=>({tr:e,state:r,dispatch:o})=>{const{selection:i}=e,{empty:a,ranges:s}=i,l=Zh(n,r.schema);if(o)if(a){const u=rY(r,l);e.addStoredMark(l.create({...u,...t}))}else s.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,h)=>{const p=Math.max(h,c),v=Math.min(h+f.nodeSize,d);f.marks.find(_=>_.type===l)?f.marks.forEach(_=>{l===_.type&&e.addMark(p,v,l.create({..._.attrs,...t}))}):e.addMark(p,v,l.create(t))})});return gye(r,e,l)},bye=(n,t)=>({tr:e})=>(e.setMeta(n,t),!0),wye=(n,t={})=>({state:e,dispatch:r,chain:o})=>{const i=ya(n,e.schema);let a;return e.selection.$anchor.sameParent(e.selection.$head)&&(a=e.selection.$anchor.parent.attrs),i.isTextblock?o().command(({commands:s})=>IQ(i,{...a,...t})(e)?!0:s.clearNodes()).command(({state:s})=>IQ(i,{...a,...t})(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},_ye=n=>({tr:t,dispatch:e})=>{if(e){const{doc:r}=t,o=zp(n,0,r.content.size),i=Pn.create(r,o);t.setSelection(i)}return!0},Cye=n=>({tr:t,dispatch:e})=>{if(e){const{doc:r}=t,{from:o,to:i}=typeof n=="number"?{from:n,to:n}:n,a=Dn.atStart(r).from,s=Dn.atEnd(r).to,l=zp(o,a,s),u=zp(i,a,s),c=Dn.create(r,l,u);t.setSelection(c)}return!0},Sye=n=>({state:t,dispatch:e})=>{const r=ya(n,t.schema);return ige(r)(t,e)};function RQ(n,t){const e=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(e){const r=e.filter(o=>t==null?void 0:t.includes(o.type.name));n.tr.ensureMarks(r)}}const xye=({keepMarks:n=!0}={})=>({tr:t,state:e,dispatch:r,editor:o})=>{const{selection:i,doc:a}=t,{$from:s,$to:l}=i,u=o.extensionManager.attributes,c=RS(u,s.node().type.name,s.node().attrs);if(i instanceof Pn&&i.node.isBlock)return!s.parentOffset||!$f(a,s.pos)?!1:(r&&(n&&RQ(e,o.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,f=s.depth===0?void 0:fye(s.node(-1).contentMatchAt(s.indexAfter(-1)));let h=d&&f?[{type:f,attrs:c}]:void 0,p=$f(t.doc,t.mapping.map(s.pos),1,h);if(!h&&!p&&$f(t.doc,t.mapping.map(s.pos),1,f?[{type:f}]:void 0)&&(p=!0,h=f?[{type:f,attrs:c}]:void 0),r){if(p&&(i instanceof Dn&&t.deleteSelection(),t.split(t.mapping.map(s.pos),1,h),f&&!d&&!s.parentOffset&&s.parent.type!==f)){const v=t.mapping.map(s.before()),g=t.doc.resolve(v);s.node(-1).canReplaceWith(g.index(),g.index()+1,f)&&t.setNodeMarkup(t.mapping.map(s.before()),f)}n&&RQ(e,o.extensionManager.splittableMarks),t.scrollIntoView()}return p},Eye=(n,t={})=>({tr:e,state:r,dispatch:o,editor:i})=>{var a;const s=ya(n,r.schema),{$from:l,$to:u}=r.selection,c=r.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;const d=l.node(-1);if(d.type!==s)return!1;const f=i.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==s||l.index(-2)!==l.node(-2).childCount-1)return!1;if(o){let _=Pt.empty;const S=l.index(-1)?1:l.index(-2)?2:3;for(let I=l.depth-S;I>=l.depth-3;I-=1)_=Pt.from(l.node(I).copy(_));const y=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,C={...RS(f,l.node().type.name,l.node().attrs),...t},T=((a=s.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(C))||void 0;_=_.append(Pt.from(s.createAndFill(null,T)||void 0));const P=l.before(l.depth-(S-1));e.replace(P,l.after(-y),new on(_,4-S,0));let F=-1;e.doc.nodesBetween(P,e.doc.content.size,(I,k)=>{if(F>-1)return!1;I.isTextblock&&I.content.size===0&&(F=k+1)}),F>-1&&e.setSelection(Dn.near(e.doc.resolve(F))),e.scrollIntoView()}return!0}const h=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...RS(f,d.type.name,d.attrs),...t},v={...RS(f,l.node().type.name,l.node().attrs),...t};e.delete(l.pos,u.pos);const g=h?[{type:s,attrs:p},{type:h,attrs:v}]:[{type:s,attrs:p}];if(!$f(e.doc,l.pos,2))return!1;if(o){const{selection:_,storedMarks:S}=r,{splittableMarks:y}=i.extensionManager,C=S||_.$to.parentOffset&&_.$from.marks();if(e.split(l.pos,2,g).scrollIntoView(),!C||!o)return!0;const T=C.filter(P=>y.includes(P.type.name));e.ensureMarks(T)}return!0},GP=(n,t)=>{const e=FV(a=>a.type===t)(n.selection);if(!e)return!0;const r=n.doc.resolve(Math.max(0,e.pos-1)).before(e.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return e.node.type===(o==null?void 0:o.type)&&Xh(n.doc,e.pos)&&n.join(e.pos),!0},YP=(n,t)=>{const e=FV(a=>a.type===t)(n.selection);if(!e)return!0;const r=n.doc.resolve(e.start).after(e.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return e.node.type===(o==null?void 0:o.type)&&Xh(n.doc,r)&&n.join(r),!0},Bye=(n,t,e,r={})=>({editor:o,tr:i,state:a,dispatch:s,chain:l,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=o.extensionManager,h=ya(n,a.schema),p=ya(t,a.schema),{selection:v,storedMarks:g}=a,{$from:_,$to:S}=v,y=_.blockRange(S),C=g||v.$to.parentOffset&&v.$from.marks();if(!y)return!1;const T=FV(P=>NQ(P.type.name,d))(v);if(y.depth>=1&&T&&y.depth-T.depth<=1){if(T.node.type===h)return u.liftListItem(p);if(NQ(T.node.type.name,d)&&h.validContent(T.node.content)&&s)return l().command(()=>(i.setNodeMarkup(T.pos,h),!0)).command(()=>GP(i,h)).command(()=>YP(i,h)).run()}return!e||!C||!s?l().command(()=>c().wrapInList(h,r)?!0:u.clearNodes()).wrapInList(h,r).command(()=>GP(i,h)).command(()=>YP(i,h)).run():l().command(()=>{const P=c().wrapInList(h,r),F=C.filter(I=>f.includes(I.type.name));return i.ensureMarks(F),P?!0:u.clearNodes()}).wrapInList(h,r).command(()=>GP(i,h)).command(()=>YP(i,h)).run()},kye=(n,t={},e={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:i=!1}=e,a=Zh(n,r.schema);return KF(r,a,t)?o.unsetMark(a,{extendEmptyMarkRange:i}):o.setMark(a,t)},Tye=(n,t,e={})=>({state:r,commands:o})=>{const i=ya(n,r.schema),a=ya(t,r.schema),s=Kw(r,i,e);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),s?o.setNode(a,l):o.setNode(i,{...l,...e})},Oye=(n,t={})=>({state:e,commands:r})=>{const o=ya(n,e.schema);return Kw(e,o,t)?r.lift(o):r.wrapIn(o,t)},Pye=()=>({state:n,dispatch:t})=>{const e=n.plugins;for(let r=0;r<e.length;r+=1){const o=e[r];let i;if(o.spec.isInputRules&&(i=o.getState(n))){if(t){const a=n.tr,s=i.transform;for(let l=s.steps.length-1;l>=0;l-=1)a.step(s.steps[l].invert(s.docs[l]));if(i.text){const l=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,n.schema.text(i.text,l))}else a.delete(i.from,i.to)}return!0}}return!1},Iye=()=>({tr:n,dispatch:t})=>{const{selection:e}=n,{empty:r,ranges:o}=e;return r||t&&o.forEach(i=>{n.removeMark(i.$from.pos,i.$to.pos)}),!0},Mye=(n,t={})=>({tr:e,state:r,dispatch:o})=>{var i;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=e,l=Zh(n,r.schema),{$from:u,empty:c,ranges:d}=s;if(!o)return!0;if(c&&a){let{from:f,to:h}=s;const p=(i=u.marks().find(g=>g.type===l))===null||i===void 0?void 0:i.attrs,v=MV(u,l,p);v&&(f=v.from,h=v.to),e.removeMark(f,h,l)}else d.forEach(f=>{e.removeMark(f.$from.pos,f.$to.pos,l)});return e.removeStoredMark(l),!0},Fye=(n,t={})=>({tr:e,state:r,dispatch:o})=>{let i=null,a=null;const s=AT(typeof n=="string"?n:n.name,r.schema);return s?(s==="node"&&(i=ya(n,r.schema)),s==="mark"&&(a=Zh(n,r.schema)),o&&e.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;let d,f,h,p;e.selection.empty?r.doc.nodesBetween(u,c,(v,g)=>{i&&i===v.type&&(h=Math.max(g,u),p=Math.min(g+v.nodeSize,c),d=g,f=v)}):r.doc.nodesBetween(u,c,(v,g)=>{g<u&&i&&i===v.type&&(h=Math.max(g,u),p=Math.min(g+v.nodeSize,c),d=g,f=v),g>=u&&g<=c&&(i&&i===v.type&&e.setNodeMarkup(g,void 0,{...v.attrs,...t}),a&&v.marks.length&&v.marks.forEach(_=>{if(a===_.type){const S=Math.max(g,u),y=Math.min(g+v.nodeSize,c);e.addMark(S,y,a.create({..._.attrs,...t}))}}))}),f&&(d!==void 0&&e.setNodeMarkup(d,void 0,{...f.attrs,...t}),a&&f.marks.length&&f.marks.forEach(v=>{a===v.type&&e.addMark(h,p,a.create({...v.attrs,...t}))}))}),!0):!1},Dye=(n,t={})=>({state:e,dispatch:r})=>{const o=ya(n,e.schema);return Zve(o,t)(e,r)},Uye=(n,t={})=>({state:e,dispatch:r})=>{const o=ya(n,e.schema);return qve(o,t)(e,r)};var Lye=Object.freeze({__proto__:null,blur:_ge,clearContent:Cge,clearNodes:Sge,command:xge,createParagraphNear:Ege,cut:Bge,deleteCurrentNode:kge,deleteNode:Tge,deleteRange:Oge,deleteSelection:Pge,enter:Ige,exitCode:Mge,extendMarkRange:Fge,first:Dge,focus:Lge,forEach:Vge,insertContent:Nge,insertContentAt:Qge,joinBackward:Kge,joinDown:$ge,joinForward:Wge,joinItemBackward:zge,joinItemForward:Gge,joinTextblockBackward:Yge,joinTextblockForward:Xge,joinUp:jge,keyboardShortcut:Zge,lift:qge,liftEmptyBlock:eye,liftListItem:tye,newlineInCode:nye,resetAttributes:rye,scrollIntoView:oye,selectAll:iye,selectNodeBackward:aye,selectNodeForward:sye,selectParentNode:lye,selectTextblockEnd:uye,selectTextblockStart:cye,setContent:dye,setMark:yye,setMeta:bye,setNode:wye,setNodeSelection:_ye,setTextSelection:Cye,sinkListItem:Sye,splitBlock:xye,splitListItem:Eye,toggleList:Bye,toggleMark:kye,toggleNode:Tye,toggleWrap:Oye,undoInputRule:Pye,unsetAllMarks:Iye,unsetMark:Mye,updateAttributes:Fye,wrapIn:Dye,wrapInList:Uye});const Vye=Zs.create({name:"commands",addCommands(){return{...Lye}}}),Nye=Zs.create({name:"drop",addProseMirrorPlugins(){return[new vs({key:new fu("tiptapDrop"),props:{handleDrop:(n,t,e,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:e,moved:r})}}})]}}),Rye=Zs.create({name:"editable",addProseMirrorPlugins(){return[new vs({key:new fu("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Hye=new fu("focusEvents"),Qye=Zs.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new vs({key:Hye,props:{handleDOMEvents:{focus:(t,e)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:e}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,e)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:e}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),jye=Zs.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:l,doc:u}=s,{empty:c,$anchor:d}=l,{pos:f,parent:h}=d,p=d.parent.isTextblock&&f>0?s.doc.resolve(f-1):d,v=p.parent.type.spec.isolating,g=d.pos-d.parentOffset,_=v&&p.parent.childCount===1?g===d.pos:$n.atStart(u).from===f;return!c||!h.type.isTextblock||h.textContent.length||!_||_&&d.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},i={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return AE()||nY()?i:o},addProseMirrorPlugins(){return[new vs({key:new fu("clearDocument"),appendTransaction:(n,t,e)=>{if(n.some(v=>v.getMeta("composition")))return;const r=n.some(v=>v.docChanged)&&!t.doc.eq(e.doc),o=n.some(v=>v.getMeta("preventClearDocument"));if(!r||o)return;const{empty:i,from:a,to:s}=t.selection,l=$n.atStart(t.doc).from,u=$n.atEnd(t.doc).to;if(i||!(a===l&&s===u)||!DV(e.doc))return;const f=e.tr,h=lT({state:e,transaction:f}),{commands:p}=new uT({editor:this.editor,state:h});if(p.clearNodes(),!!f.steps.length)return f}})]}}),$ye=Zs.create({name:"paste",addProseMirrorPlugins(){return[new vs({key:new fu("tiptapPaste"),props:{handlePaste:(n,t,e)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:e})}}})]}}),Kye=Zs.create({name:"tabindex",addProseMirrorPlugins(){return[new vs({key:new fu("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Dp{get name(){return this.node.type.name}constructor(t,e,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=e,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let e=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}e=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:e,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),e=this.resolvedPos.doc.resolve(t);return new Dp(e,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Dp(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Dp(t,this.editor)}get children(){const t=[];return this.node.content.forEach((e,r)=>{const o=e.isBlock&&!e.isTextblock,i=e.isAtom&&!e.isText,a=this.pos+r+(i?0:1);if(a<0||a>this.resolvedPos.doc.nodeSize-2)return;const s=this.resolvedPos.doc.resolve(a);if(!o&&s.depth<=this.depth)return;const l=new Dp(s,this.editor,o,o?e:null);o&&(l.actualDepth=this.depth+1),t.push(new Dp(s,this.editor,o,o?e:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,e={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===t)if(Object.keys(e).length>0){const i=o.node.attrs,a=Object.keys(e);for(let s=0;s<a.length;s+=1){const l=a[s];if(i[l]!==e[l])break}}else r=o;o=o.parent}return r}querySelector(t,e={}){return this.querySelectorAll(t,e,!0)[0]||null}querySelectorAll(t,e={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const i=Object.keys(e);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===t&&i.every(l=>e[l]===a.node.attrs[l])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(t,e,r))))}),o}setAttribute(t){const{tr:e}=this.editor.state;e.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(e)}}const Wye=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function zye(n,t,e){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return t&&o.setAttribute("nonce",t),o.setAttribute("data-tiptap-style",""),o.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(o),o}let Gye=class extends age{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:e,slice:r,moved:o})=>this.options.onDrop(e,r,o)),this.on("paste",({event:e,slice:r})=>this.options.onPaste(e,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=zye(Wye,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const r=Y9(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(t).forEach(i=>{const a=typeof i=="string"?`${i}$`:i.key;r=r.filter(s=>!s.key.startsWith(a))}),e.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var t,e;const o=[...this.options.enableCoreExtensions?[Rye,wge.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||e===void 0?void 0:e.blockSeparator}),Vye,Qye,jye,Kye,Nye,$ye].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i==null?void 0:i.type));this.extensionManager=new Sg(o,this)}createCommandManager(){this.commandManager=new uT({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var t;let e;try{e=$F(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(s=>s.name!=="collaboration"),this.createExtensionManager()}}),e=$F(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=eY(e,this.options.autofocus);this.view=new D9(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)===null||t===void 0?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Cg.create({doc:e,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(a=>{var s;return(s=this.capturedTransaction)===null||s===void 0?void 0:s.step(a)});return}const e=this.state.apply(t),r=!this.state.selection.eq(e.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=t.getMeta("focus"),i=t.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:t}),i&&this.emit("blur",{editor:this,event:i.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return pye(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,o=typeof t=="string"?e:t;return mye(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return PV(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return Aye(this.state.doc,{blockSeparator:e,textSerializers:{...J9(this.schema),...r}})}get isEmpty(){return DV(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom;t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,e){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new Dp(e,this)}get $doc(){return this.$pos(0)}};function by(n){return new dT({find:n.find,handler:({state:t,range:e,match:r})=>{const o=ur(n.getAttributes,void 0,r);if(o===!1||o===null)return null;const{tr:i}=t,a=r[r.length-1],s=r[0];if(a){const l=s.search(/\S/),u=e.from+s.indexOf(a),c=u+a.length;if(iY(e.from,e.to,t.doc).filter(h=>h.mark.type.excluded.find(v=>v===n.type&&v!==h.mark.type)).filter(h=>h.to>u).length)return null;c<e.to&&i.delete(c,e.to),u>e.from&&i.delete(e.from+l,u);const f=e.from+l+a.length;i.addMark(e.from+l,f,n.type.create(o||{})),i.removeStoredMark(n.type)}}})}function aY(n){return new dT({find:n.find,handler:({state:t,range:e,match:r})=>{const o=ur(n.getAttributes,void 0,r)||{},{tr:i}=t,a=e.from;let s=e.to;const l=n.type.create(o);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=a+u;c>s?c=s:s=c+r[1].length;const d=r[0][r[0].length-1];i.insertText(d,a+r[0].length-1),i.replaceWith(c,s,l)}else if(r[0]){const u=n.type.isInline?a:a-1;i.insert(u,n.type.create(o)).delete(i.mapping.map(a),i.mapping.map(s))}i.scrollIntoView()}})}function WF(n){return new dT({find:n.find,handler:({state:t,range:e,match:r})=>{const o=t.doc.resolve(e.from),i=ur(n.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),n.type))return null;t.tr.delete(e.from,e.to).setBlockType(e.from,e.from,n.type,i)}})}function Ww(n){return new dT({find:n.find,handler:({state:t,range:e,match:r,chain:o})=>{const i=ur(n.getAttributes,void 0,r)||{},a=t.tr.delete(e.from,e.to),l=a.doc.resolve(e.from).blockRange(),u=l&&hV(l,n.type,i);if(!u)return null;if(a.wrap(l,u),n.keepMarks&&n.editor){const{selection:d,storedMarks:f}=t,{splittableMarks:h}=n.editor.extensionManager,p=f||d.$to.parentOffset&&d.$from.marks();if(p){const v=p.filter(g=>h.includes(g.type.name));a.ensureMarks(v)}}if(n.keepAttributes){const d=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";o().updateAttributes(d,i).run()}const c=a.doc.resolve(e.from-1).nodeBefore;c&&c.type===n.type&&Xh(a.doc,e.from-1)&&(!n.joinPredicate||n.joinPredicate(r,c))&&a.join(e.from-1)}})}let gs=class zF{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=ur(gn(this,"addOptions",{name:this.name}))),this.storage=ur(gn(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new zF(t)}configure(t={}){const e=this.extend({...this.config,addOptions:()=>fT(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new zF(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${e.name}".`),e.options=ur(gn(e,"addOptions",{name:e.name})),e.storage=ur(gn(e,"addStorage",{name:e.name,options:e.options})),e}};function wy(n){return new pge({find:n.find,handler:({state:t,range:e,match:r,pasteEvent:o})=>{const i=ur(n.getAttributes,void 0,r,o);if(i===!1||i===null)return null;const{tr:a}=t,s=r[r.length-1],l=r[0];let u=e.to;if(s){const c=l.search(/\S/),d=e.from+l.indexOf(s),f=d+s.length;if(iY(e.from,e.to,t.doc).filter(p=>p.mark.type.excluded.find(g=>g===n.type&&g!==p.mark.type)).filter(p=>p.to>d).length)return null;f<e.to&&a.delete(f,e.to),d>e.from&&a.delete(e.from+c,d),u=e.from+c+s.length,a.addMark(e.from+c,u,n.type.create(i||{})),a.removeStoredMark(n.type)}}})}function Yye(n,t){const{selection:e}=n,{$from:r}=e;if(e instanceof Pn){const i=r.index();return r.parent.canReplaceWith(i,i+1,t)}let o=r.depth;for(;o>=0;){const i=r.index(o);if(r.node(o).contentMatchAt(i).matchType(t))return!0;o-=1}return!1}const Xye=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,sY=gs.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:n}){return["img",Ni(this.options.HTMLAttributes,n)]},addCommands(){return{setImage:n=>({commands:t})=>t.insertContent({type:this.name,attrs:n})}},addInputRules(){return[aY({find:Xye,type:this.type,getAttributes:n=>{const[,,t,e,r]=n;return{src:e,alt:t,title:r}}})]}});let GF,YF;if(typeof WeakMap<"u"){let n=new WeakMap;GF=t=>n.get(t),YF=(t,e)=>(n.set(t,e),e)}else{const n=[];let e=0;GF=r=>{for(let o=0;o<n.length;o+=2)if(n[o]==r)return n[o+1]},YF=(r,o)=>(e==10&&(e=0),n[e++]=r,n[e++]=o)}var ci=class{constructor(n,t,e,r){this.width=n,this.height=t,this.map=e,this.problems=r}findCell(n){for(let t=0;t<this.map.length;t++){const e=this.map[t];if(e!=n)continue;const r=t%this.width,o=t/this.width|0;let i=r+1,a=o+1;for(let s=1;i<this.width&&this.map[t+s]==e;s++)i++;for(let s=1;a<this.height&&this.map[t+this.width*s]==e;s++)a++;return{left:r,top:o,right:i,bottom:a}}throw new RangeError(`No cell with offset ${n} found`)}colCount(n){for(let t=0;t<this.map.length;t++)if(this.map[t]==n)return t%this.width;throw new RangeError(`No cell with offset ${n} found`)}nextCell(n,t,e){const{left:r,right:o,top:i,bottom:a}=this.findCell(n);return t=="horiz"?(e<0?r==0:o==this.width)?null:this.map[i*this.width+(e<0?r-1:o)]:(e<0?i==0:a==this.height)?null:this.map[r+this.width*(e<0?i-1:a)]}rectBetween(n,t){const{left:e,right:r,top:o,bottom:i}=this.findCell(n),{left:a,right:s,top:l,bottom:u}=this.findCell(t);return{left:Math.min(e,a),top:Math.min(o,l),right:Math.max(r,s),bottom:Math.max(i,u)}}cellsInRect(n){const t=[],e={};for(let r=n.top;r<n.bottom;r++)for(let o=n.left;o<n.right;o++){const i=r*this.width+o,a=this.map[i];e[a]||(e[a]=!0,!(o==n.left&&o&&this.map[i-1]==a||r==n.top&&r&&this.map[i-this.width]==a)&&t.push(a))}return t}positionAt(n,t,e){for(let r=0,o=0;;r++){const i=o+e.child(r).nodeSize;if(r==n){let a=t+n*this.width;const s=(n+1)*this.width;for(;a<s&&this.map[a]<o;)a++;return a==s?i-1:this.map[a]}o=i}}static get(n){return GF(n)||YF(n,Jye(n))}};function Jye(n){if(n.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+n.type.name);const t=Zye(n),e=n.childCount,r=[];let o=0,i=null;const a=[];for(let u=0,c=t*e;u<c;u++)r[u]=0;for(let u=0,c=0;u<e;u++){const d=n.child(u);c++;for(let p=0;;p++){for(;o<r.length&&r[o]!=0;)o++;if(p==d.childCount)break;const v=d.child(p),{colspan:g,rowspan:_,colwidth:S}=v.attrs;for(let y=0;y<_;y++){if(y+u>=e){(i||(i=[])).push({type:"overlong_rowspan",pos:c,n:_-y});break}const C=o+y*t;for(let T=0;T<g;T++){r[C+T]==0?r[C+T]=c:(i||(i=[])).push({type:"collision",row:u,pos:c,n:g-T});const P=S&&S[T];if(P){const F=(C+T)%t*2,I=a[F];I==null||I!=P&&a[F+1]==1?(a[F]=P,a[F+1]=1):I==P&&a[F+1]++}}}o+=g,c+=v.nodeSize}const f=(u+1)*t;let h=0;for(;o<f;)r[o++]==0&&h++;h&&(i||(i=[])).push({type:"missing",row:u,n:h}),c++}(t===0||e===0)&&(i||(i=[])).push({type:"zero_sized"});const s=new ci(t,e,r,i);let l=!1;for(let u=0;!l&&u<a.length;u+=2)a[u]!=null&&a[u+1]<e&&(l=!0);return l&&qye(s,a,n),s}function Zye(n){let t=-1,e=!1;for(let r=0;r<n.childCount;r++){const o=n.child(r);let i=0;if(e)for(let a=0;a<r;a++){const s=n.child(a);for(let l=0;l<s.childCount;l++){const u=s.child(l);a+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}}for(let a=0;a<o.childCount;a++){const s=o.child(a);i+=s.attrs.colspan,s.attrs.rowspan>1&&(e=!0)}t==-1?t=i:t!=i&&(t=Math.max(t,i))}return t}function qye(n,t,e){n.problems||(n.problems=[]);const r={};for(let o=0;o<n.map.length;o++){const i=n.map[o];if(r[i])continue;r[i]=!0;const a=e.nodeAt(i);if(!a)throw new RangeError(`No cell with offset ${i} found`);let s=null;const l=a.attrs;for(let u=0;u<l.colspan;u++){const c=t[(o+u)%n.width*2];c!=null&&(!l.colwidth||l.colwidth[u]!=c)&&((s||(s=e0e(l)))[u]=c)}s&&n.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:s})}}function e0e(n){if(n.colwidth)return n.colwidth.slice();const t=[];for(let e=0;e<n.colspan;e++)t.push(0);return t}function ds(n){let t=n.cached.tableNodeTypes;if(!t){t=n.cached.tableNodeTypes={};for(const e in n.nodes){const r=n.nodes[e],o=r.spec.tableRole;o&&(t[o]=r)}}return t}const oh=new fu("selectingCells");function Rm(n){for(let t=n.depth-1;t>0;t--)if(n.node(t).type.spec.tableRole=="row")return n.node(0).resolve(n.before(t+1));return null}function t0e(n){for(let t=n.depth;t>0;t--){const e=n.node(t).type.spec.tableRole;if(e==="cell"||e==="header_cell")return n.node(t)}return null}function Hc(n){const t=n.selection.$head;for(let e=t.depth;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return!0;return!1}function hT(n){const t=n.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const e=Rm(t.$head)||n0e(t.$head);if(e)return e;throw new RangeError(`No cell found around position ${t.head}`)}function n0e(n){for(let t=n.nodeAfter,e=n.pos;t;t=t.firstChild,e++){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(e)}for(let t=n.nodeBefore,e=n.pos;t;t=t.lastChild,e--){const r=t.type.spec.tableRole;if(r=="cell"||r=="header_cell")return n.doc.resolve(e-t.nodeSize)}}function XF(n){return n.parent.type.spec.tableRole=="row"&&!!n.nodeAfter}function r0e(n){return n.node(0).resolve(n.pos+n.nodeAfter.nodeSize)}function UV(n,t){return n.depth==t.depth&&n.pos>=t.start(-1)&&n.pos<=t.end(-1)}function lY(n,t,e){const r=n.node(-1),o=ci.get(r),i=n.start(-1),a=o.nextCell(n.pos-i,t,e);return a==null?null:n.node(0).resolve(i+a)}function Hm(n,t,e=1){const r={...n,colspan:n.colspan-e};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,e),r.colwidth.some(o=>o>0)||(r.colwidth=null)),r}function uY(n,t,e=1){const r={...n,colspan:n.colspan+e};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let o=0;o<e;o++)r.colwidth.splice(t,0,0)}return r}function o0e(n,t,e){const r=ds(t.type.schema).header_cell;for(let o=0;o<n.height;o++)if(t.nodeAt(n.map[e+o*n.width]).type!=r)return!1;return!0}var _o=class Cf extends $n{constructor(t,e=t){const r=t.node(-1),o=ci.get(r),i=t.start(-1),a=o.rectBetween(t.pos-i,e.pos-i),s=t.node(0),l=o.cellsInRect(a).filter(c=>c!=e.pos-i);l.unshift(e.pos-i);const u=l.map(c=>{const d=r.nodeAt(c);if(!d)throw new RangeError(`No cell with offset ${c} found`);const f=i+c+1;return new ZG(s.resolve(f),s.resolve(f+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=e}map(t,e){const r=t.resolve(e.map(this.$anchorCell.pos)),o=t.resolve(e.map(this.$headCell.pos));if(XF(r)&&XF(o)&&UV(r,o)){const i=this.$anchorCell.node(-1)!=r.node(-1);return i&&this.isRowSelection()?Cf.rowSelection(r,o):i&&this.isColSelection()?Cf.colSelection(r,o):new Cf(r,o)}return Dn.between(r,o)}content(){const t=this.$anchorCell.node(-1),e=ci.get(t),r=this.$anchorCell.start(-1),o=e.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),i={},a=[];for(let l=o.top;l<o.bottom;l++){const u=[];for(let c=l*e.width+o.left,d=o.left;d<o.right;d++,c++){const f=e.map[c];if(i[f])continue;i[f]=!0;const h=e.findCell(f);let p=t.nodeAt(f);if(!p)throw new RangeError(`No cell with offset ${f} found`);const v=o.left-h.left,g=h.right-o.right;if(v>0||g>0){let _=p.attrs;if(v>0&&(_=Hm(_,0,v)),g>0&&(_=Hm(_,_.colspan-g,g)),h.left<o.left){if(p=p.type.createAndFill(_),!p)throw new RangeError(`Could not create cell with attrs ${JSON.stringify(_)}`)}else p=p.type.create(_,p.content)}if(h.top<o.top||h.bottom>o.bottom){const _={...p.attrs,rowspan:Math.min(h.bottom,o.bottom)-Math.max(h.top,o.top)};h.top<o.top?p=p.type.createAndFill(_):p=p.type.create(_,p.content)}u.push(p)}a.push(t.child(l).copy(Pt.from(u)))}const s=this.isColSelection()&&this.isRowSelection()?t:a;return new on(Pt.from(s),1,1)}replace(t,e=on.empty){const r=t.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){const{$from:s,$to:l}=o[a],u=t.mapping.slice(r);t.replace(u.map(s.pos),u.map(l.pos),a?on.empty:e)}const i=$n.findFrom(t.doc.resolve(t.mapping.slice(r).map(this.to)),-1);i&&t.setSelection(i)}replaceWith(t,e){this.replace(t,new on(Pt.from(e),0,0))}forEachCell(t){const e=this.$anchorCell.node(-1),r=ci.get(e),o=this.$anchorCell.start(-1),i=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-o,this.$headCell.pos-o));for(let a=0;a<i.length;a++)t(e.nodeAt(i[a]),o+i[a])}isColSelection(){const t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;const r=t+this.$anchorCell.nodeAfter.attrs.rowspan,o=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,o)==this.$headCell.node(-1).childCount}static colSelection(t,e=t){const r=t.node(-1),o=ci.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(e.pos-i),l=t.node(0);return a.top<=s.top?(a.top>0&&(t=l.resolve(i+o.map[a.left])),s.bottom<o.height&&(e=l.resolve(i+o.map[o.width*(o.height-1)+s.right-1]))):(s.top>0&&(e=l.resolve(i+o.map[s.left])),a.bottom<o.height&&(t=l.resolve(i+o.map[o.width*(o.height-1)+a.right-1]))),new Cf(t,e)}isRowSelection(){const t=this.$anchorCell.node(-1),e=ci.get(t),r=this.$anchorCell.start(-1),o=e.colCount(this.$anchorCell.pos-r),i=e.colCount(this.$headCell.pos-r);if(Math.min(o,i)>0)return!1;const a=o+this.$anchorCell.nodeAfter.attrs.colspan,s=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,s)==e.width}eq(t){return t instanceof Cf&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,e=t){const r=t.node(-1),o=ci.get(r),i=t.start(-1),a=o.findCell(t.pos-i),s=o.findCell(e.pos-i),l=t.node(0);return a.left<=s.left?(a.left>0&&(t=l.resolve(i+o.map[a.top*o.width])),s.right<o.width&&(e=l.resolve(i+o.map[o.width*(s.top+1)-1]))):(s.left>0&&(e=l.resolve(i+o.map[s.top*o.width])),a.right<o.width&&(t=l.resolve(i+o.map[o.width*(a.top+1)-1]))),new Cf(t,e)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,e){return new Cf(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,r=e){return new Cf(t.resolve(e),t.resolve(r))}getBookmark(){return new i0e(this.$anchorCell.pos,this.$headCell.pos)}};_o.prototype.visible=!1;$n.jsonID("cell",_o);var i0e=class cY{constructor(t,e){this.anchor=t,this.head=e}map(t){return new cY(t.map(this.anchor),t.map(this.head))}resolve(t){const e=t.resolve(this.anchor),r=t.resolve(this.head);return e.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&e.index()<e.parent.childCount&&r.index()<r.parent.childCount&&UV(e,r)?new _o(e,r):$n.near(r,1)}};function a0e(n){if(!(n.selection instanceof _o))return null;const t=[];return n.selection.forEachCell((e,r)=>{t.push(Ks.node(r,r+e.nodeSize,{class:"selectedCell"}))}),li.create(n.doc,t)}function s0e({$from:n,$to:t}){if(n.pos==t.pos||n.pos<t.pos-6)return!1;let e=n.pos,r=t.pos,o=n.depth;for(;o>=0&&!(n.after(o+1)<n.end(o));o--,e++);for(let i=t.depth;i>=0&&!(t.before(i+1)>t.start(i));i--,r--);return e==r&&/row|table/.test(n.node(o).type.spec.tableRole)}function l0e({$from:n,$to:t}){let e,r;for(let o=n.depth;o>0;o--){const i=n.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){e=i;break}}for(let o=t.depth;o>0;o--){const i=t.node(o);if(i.type.spec.tableRole==="cell"||i.type.spec.tableRole==="header_cell"){r=i;break}}return e!==r&&t.parentOffset===0}function u0e(n,t,e){const r=(t||n).selection,o=(t||n).doc;let i,a;if(r instanceof Pn&&(a=r.node.type.spec.tableRole)){if(a=="cell"||a=="header_cell")i=_o.create(o,r.from);else if(a=="row"){const s=o.resolve(r.from+1);i=_o.rowSelection(s,s)}else if(!e){const s=ci.get(r.node),l=r.from+1,u=l+s.map[s.width*s.height-1];i=_o.create(o,l+1,u)}}else r instanceof Dn&&s0e(r)?i=Dn.create(o,r.from):r instanceof Dn&&l0e(r)&&(i=Dn.create(o,r.$from.start(),r.$from.end()));return i&&(t||(t=n.tr)).setSelection(i),t}const c0e=new fu("fix-tables");function dY(n,t,e,r){const o=n.childCount,i=t.childCount;e:for(let a=0,s=0;a<i;a++){const l=t.child(a);for(let u=s,c=Math.min(o,a+3);u<c;u++)if(n.child(u)==l){s=u+1,e+=l.nodeSize;continue e}r(l,e),s<o&&n.child(s).sameMarkup(l)?dY(n.child(s),l,e+1,r):l.nodesBetween(0,l.content.size,r,e+1),e+=l.nodeSize}}function fY(n,t){let e;const r=(o,i)=>{o.type.spec.tableRole=="table"&&(e=d0e(n,o,i,e))};return t?t.doc!=n.doc&&dY(t.doc,n.doc,0,r):n.doc.descendants(r),e}function d0e(n,t,e,r){const o=ci.get(t);if(!o.problems)return r;r||(r=n.tr);const i=[];for(let l=0;l<o.height;l++)i.push(0);for(let l=0;l<o.problems.length;l++){const u=o.problems[l];if(u.type=="collision"){const c=t.nodeAt(u.pos);if(!c)continue;const d=c.attrs;for(let f=0;f<d.rowspan;f++)i[u.row+f]+=u.n;r.setNodeMarkup(r.mapping.map(e+1+u.pos),null,Hm(d,d.colspan-u.n,u.n))}else if(u.type=="missing")i[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const c=t.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(e+1+u.pos),null,{...c.attrs,rowspan:c.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const c=t.nodeAt(u.pos);if(!c)continue;r.setNodeMarkup(r.mapping.map(e+1+u.pos),null,{...c.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const c=r.mapping.map(e);r.delete(c,c+t.nodeSize)}}let a,s;for(let l=0;l<i.length;l++)i[l]&&(a==null&&(a=l),s=l);for(let l=0,u=e+1;l<o.height;l++){const c=t.child(l),d=u+c.nodeSize,f=i[l];if(f>0){let h="cell";c.firstChild&&(h=c.firstChild.type.spec.tableRole);const p=[];for(let g=0;g<f;g++){const _=ds(n.schema)[h].createAndFill();_&&p.push(_)}const v=(l==0||a==l-1)&&s==l?u+1:d-1;r.insert(r.mapping.map(v),p)}u=d}return r.setMeta(c0e,{fixTables:!0})}function $d(n){const t=n.selection,e=hT(n),r=e.node(-1),o=e.start(-1),i=ci.get(r);return{...t instanceof _o?i.rectBetween(t.$anchorCell.pos-o,t.$headCell.pos-o):i.findCell(e.pos-o),tableStart:o,map:i,table:r}}function AY(n,{map:t,tableStart:e,table:r},o){let i=o>0?-1:0;o0e(t,r,o+i)&&(i=o==0||o==t.width?null:0);for(let a=0;a<t.height;a++){const s=a*t.width+o;if(o>0&&o<t.width&&t.map[s-1]==t.map[s]){const l=t.map[s],u=r.nodeAt(l);n.setNodeMarkup(n.mapping.map(e+l),null,uY(u.attrs,o-t.colCount(l))),a+=u.attrs.rowspan-1}else{const l=i==null?ds(r.type.schema).cell:r.nodeAt(t.map[s+i]).type,u=t.positionAt(a,o,r);n.insert(n.mapping.map(e+u),l.createAndFill())}}return n}function f0e(n,t){if(!Hc(n))return!1;if(t){const e=$d(n);t(AY(n.tr,e,e.left))}return!0}function A0e(n,t){if(!Hc(n))return!1;if(t){const e=$d(n);t(AY(n.tr,e,e.right))}return!0}function h0e(n,{map:t,table:e,tableStart:r},o){const i=n.mapping.maps.length;for(let a=0;a<t.height;){const s=a*t.width+o,l=t.map[s],u=e.nodeAt(l),c=u.attrs;if(o>0&&t.map[s-1]==l||o<t.width-1&&t.map[s+1]==l)n.setNodeMarkup(n.mapping.slice(i).map(r+l),null,Hm(c,o-t.colCount(l)));else{const d=n.mapping.slice(i).map(r+l);n.delete(d,d+u.nodeSize)}a+=c.rowspan}}function p0e(n,t){if(!Hc(n))return!1;if(t){const e=$d(n),r=n.tr;if(e.left==0&&e.right==e.map.width)return!1;for(let o=e.right-1;h0e(r,e,o),o!=e.left;o--){const i=e.tableStart?r.doc.nodeAt(e.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");e.table=i,e.map=ci.get(i)}t(r)}return!0}function m0e(n,t,e){var r;const o=ds(t.type.schema).header_cell;for(let i=0;i<n.width;i++)if(((r=t.nodeAt(n.map[i+e*n.width]))===null||r===void 0?void 0:r.type)!=o)return!1;return!0}function hY(n,{map:t,tableStart:e,table:r},o){let i=e;for(let u=0;u<o;u++)i+=r.child(u).nodeSize;const a=[];let s=o>0?-1:0;m0e(t,r,o+s)&&(s=o==0||o==t.height?null:0);for(let u=0,c=t.width*o;u<t.width;u++,c++)if(o>0&&o<t.height&&t.map[c]==t.map[c-t.width]){const d=t.map[c],f=r.nodeAt(d).attrs;n.setNodeMarkup(e+d,null,{...f,rowspan:f.rowspan+1}),u+=f.colspan-1}else{var l;const d=s==null?ds(r.type.schema).cell:(l=r.nodeAt(t.map[c+s*t.width]))===null||l===void 0?void 0:l.type,f=d==null?void 0:d.createAndFill();f&&a.push(f)}return n.insert(i,ds(r.type.schema).row.create(null,a)),n}function v0e(n,t){if(!Hc(n))return!1;if(t){const e=$d(n);t(hY(n.tr,e,e.top))}return!0}function g0e(n,t){if(!Hc(n))return!1;if(t){const e=$d(n);t(hY(n.tr,e,e.bottom))}return!0}function y0e(n,{map:t,table:e,tableStart:r},o){let i=0;for(let u=0;u<o;u++)i+=e.child(u).nodeSize;const a=i+e.child(o).nodeSize,s=n.mapping.maps.length;n.delete(i+r,a+r);const l=new Set;for(let u=0,c=o*t.width;u<t.width;u++,c++){const d=t.map[c];if(!l.has(d)){if(l.add(d),o>0&&d==t.map[c-t.width]){const f=e.nodeAt(d).attrs;n.setNodeMarkup(n.mapping.slice(s).map(d+r),null,{...f,rowspan:f.rowspan-1}),u+=f.colspan-1}else if(o<t.height&&d==t.map[c+t.width]){const f=e.nodeAt(d),h=f.attrs,p=f.type.create({...h,rowspan:f.attrs.rowspan-1},f.content),v=t.positionAt(o+1,u,e);n.insert(n.mapping.slice(s).map(r+v),p),u+=h.colspan-1}}}}function b0e(n,t){if(!Hc(n))return!1;if(t){const e=$d(n),r=n.tr;if(e.top==0&&e.bottom==e.map.height)return!1;for(let o=e.bottom-1;y0e(r,e,o),o!=e.top;o--){const i=e.tableStart?r.doc.nodeAt(e.tableStart-1):r.doc;if(!i)throw new RangeError("No table found");e.table=i,e.map=ci.get(e.table)}t(r)}return!0}function HQ(n){const t=n.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function w0e({width:n,height:t,map:e},r){let o=r.top*n+r.left,i=o,a=(r.bottom-1)*n+r.left,s=o+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&e[i]==e[i-1]||r.right<n&&e[s]==e[s+1])return!0;i+=n,s+=n}for(let l=r.left;l<r.right;l++){if(r.top>0&&e[o]==e[o-n]||r.bottom<t&&e[a]==e[a+n])return!0;o++,a++}return!1}function QQ(n,t){const e=n.selection;if(!(e instanceof _o)||e.$anchorCell.pos==e.$headCell.pos)return!1;const r=$d(n),{map:o}=r;if(w0e(o,r))return!1;if(t){const i=n.tr,a={};let s=Pt.empty,l,u;for(let c=r.top;c<r.bottom;c++)for(let d=r.left;d<r.right;d++){const f=o.map[c*o.width+d],h=r.table.nodeAt(f);if(!(a[f]||!h))if(a[f]=!0,l==null)l=f,u=h;else{HQ(h)||(s=s.append(h.content));const p=i.mapping.map(f+r.tableStart);i.delete(p,p+h.nodeSize)}}if(l==null||u==null)return!0;if(i.setNodeMarkup(l+r.tableStart,null,{...uY(u.attrs,u.attrs.colspan,r.right-r.left-u.attrs.colspan),rowspan:r.bottom-r.top}),s.size>0){const c=l+1+u.content.size,d=HQ(u)?l+1:c;i.replaceWith(d+r.tableStart,c+r.tableStart,s)}i.setSelection(new _o(i.doc.resolve(l+r.tableStart))),t(i)}return!0}function jQ(n,t){const e=ds(n.schema);return _0e(({node:r})=>e[r.type.spec.tableRole])(n,t)}function _0e(n){return(t,e)=>{const r=t.selection;let o,i;if(r instanceof _o){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;o=r.$anchorCell.nodeAfter,i=r.$anchorCell.pos}else{var a;if(o=t0e(r.$from),!o)return!1;i=(a=Rm(r.$from))===null||a===void 0?void 0:a.pos}if(o==null||i==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(e){let s=o.attrs;const l=[],u=s.colwidth;s.rowspan>1&&(s={...s,rowspan:1}),s.colspan>1&&(s={...s,colspan:1});const c=$d(t),d=t.tr;for(let h=0;h<c.right-c.left;h++)l.push(u?{...s,colwidth:u&&u[h]?[u[h]]:null}:s);let f;for(let h=c.top;h<c.bottom;h++){let p=c.map.positionAt(h,c.left,c.table);h==c.top&&(p+=o.nodeSize);for(let v=c.left,g=0;v<c.right;v++,g++)v==c.left&&h==c.top||d.insert(f=d.mapping.map(p+c.tableStart,1),n({node:o,row:h,col:v}).createAndFill(l[g]))}d.setNodeMarkup(i,n({node:o,row:c.top,col:c.left}),l[0]),r instanceof _o&&d.setSelection(new _o(d.doc.resolve(r.$anchorCell.pos),f?d.doc.resolve(f):void 0)),e(d)}return!0}}function C0e(n,t){return function(e,r){if(!Hc(e))return!1;const o=hT(e);if(o.nodeAfter.attrs[n]===t)return!1;if(r){const i=e.tr;e.selection instanceof _o?e.selection.forEachCell((a,s)=>{a.attrs[n]!==t&&i.setNodeMarkup(s,null,{...a.attrs,[n]:t})}):i.setNodeMarkup(o.pos,null,{...o.nodeAfter.attrs,[n]:t}),r(i)}return!0}}function S0e(n){return function(t,e){if(!Hc(t))return!1;if(e){const r=ds(t.schema),o=$d(t),i=t.tr,a=o.map.cellsInRect(n=="column"?{left:o.left,top:0,right:o.right,bottom:o.map.height}:n=="row"?{left:0,top:o.top,right:o.map.width,bottom:o.bottom}:o),s=a.map(l=>o.table.nodeAt(l));for(let l=0;l<a.length;l++)s[l].type==r.header_cell&&i.setNodeMarkup(o.tableStart+a[l],r.cell,s[l].attrs);if(i.steps.length===0)for(let l=0;l<a.length;l++)i.setNodeMarkup(o.tableStart+a[l],r.header_cell,s[l].attrs);e(i)}return!0}}function $Q(n,t,e){const r=t.map.cellsInRect({left:0,top:0,right:n=="row"?t.map.width:1,bottom:n=="column"?t.map.height:1});for(let o=0;o<r.length;o++){const i=t.table.nodeAt(r[o]);if(i&&i.type!==e.header_cell)return!1}return!0}function zw(n,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?S0e(n):function(e,r){if(!Hc(e))return!1;if(r){const o=ds(e.schema),i=$d(e),a=e.tr,s=$Q("row",i,o),l=$Q("column",i,o),u=(n==="column"?s:n==="row"&&l)?1:0,c=n=="column"?{left:0,top:u,right:1,bottom:i.map.height}:n=="row"?{left:u,top:0,right:i.map.width,bottom:1}:i,d=n=="column"?l?o.cell:o.header_cell:n=="row"?s?o.cell:o.header_cell:o.cell;i.map.cellsInRect(c).forEach(f=>{const h=f+i.tableStart,p=a.doc.nodeAt(h);p&&a.setNodeMarkup(h,d,p.attrs)}),r(a)}return!0}}zw("row",{useDeprecatedLogic:!0});zw("column",{useDeprecatedLogic:!0});const x0e=zw("cell",{useDeprecatedLogic:!0});function E0e(n,t){if(t<0){const e=n.nodeBefore;if(e)return n.pos-e.nodeSize;for(let r=n.index(-1)-1,o=n.before();r>=0;r--){const i=n.node(-1).child(r),a=i.lastChild;if(a)return o-1-a.nodeSize;o-=i.nodeSize}}else{if(n.index()<n.parent.childCount-1)return n.pos+n.nodeAfter.nodeSize;const e=n.node(-1);for(let r=n.indexAfter(-1),o=n.after();r<e.childCount;r++){const i=e.child(r);if(i.childCount)return o+1;o+=i.nodeSize}}return null}function KQ(n){return function(t,e){if(!Hc(t))return!1;const r=E0e(hT(t),n);if(r==null)return!1;if(e){const o=t.doc.resolve(r);e(t.tr.setSelection(Dn.between(o,r0e(o))).scrollIntoView())}return!0}}function B0e(n,t){const e=n.selection.$anchor;for(let r=e.depth;r>0;r--)if(e.node(r).type.spec.tableRole=="table")return t&&t(n.tr.delete(e.before(r),e.after(r)).scrollIntoView()),!0;return!1}function M1(n,t){const e=n.selection;if(!(e instanceof _o))return!1;if(t){const r=n.tr,o=ds(n.schema).cell.createAndFill().content;e.forEachCell((i,a)=>{i.content.eq(o)||r.replace(r.mapping.map(a+1),r.mapping.map(a+i.nodeSize-1),new on(o,0,0))}),r.docChanged&&t(r)}return!0}function k0e(n){if(n.size===0)return null;let{content:t,openStart:e,openEnd:r}=n;for(;t.childCount==1&&(e>0&&r>0||t.child(0).type.spec.tableRole=="table");)e--,r--,t=t.child(0).content;const o=t.child(0),i=o.type.spec.tableRole,a=o.type.schema,s=[];if(i=="row")for(let l=0;l<t.childCount;l++){let u=t.child(l).content;const c=l?0:Math.max(0,e-1),d=l<t.childCount-1?0:Math.max(0,r-1);(c||d)&&(u=JF(ds(a).row,new on(u,c,d)).content),s.push(u)}else if(i=="cell"||i=="header_cell")s.push(e||r?JF(ds(a).row,new on(t,e,r)).content:t);else return null;return T0e(a,s)}function T0e(n,t){const e=[];for(let o=0;o<t.length;o++){const i=t[o];for(let a=i.childCount-1;a>=0;a--){const{rowspan:s,colspan:l}=i.child(a).attrs;for(let u=o;u<o+s;u++)e[u]=(e[u]||0)+l}}let r=0;for(let o=0;o<e.length;o++)r=Math.max(r,e[o]);for(let o=0;o<e.length;o++)if(o>=t.length&&t.push(Pt.empty),e[o]<r){const i=ds(n).cell.createAndFill(),a=[];for(let s=e[o];s<r;s++)a.push(i);t[o]=t[o].append(Pt.from(a))}return{height:t.length,width:r,rows:t}}function JF(n,t){const e=n.createAndFill();return new JG(e).replace(0,e.content.size,t).doc}function O0e({width:n,height:t,rows:e},r,o){if(n!=r){const i=[],a=[];for(let s=0;s<e.length;s++){const l=e[s],u=[];for(let c=i[s]||0,d=0;c<r;d++){let f=l.child(d%l.childCount);c+f.attrs.colspan>r&&(f=f.type.createChecked(Hm(f.attrs,f.attrs.colspan,c+f.attrs.colspan-r),f.content)),u.push(f),c+=f.attrs.colspan;for(let h=1;h<f.attrs.rowspan;h++)i[s+h]=(i[s+h]||0)+f.attrs.colspan}a.push(Pt.from(u))}e=a,n=r}if(t!=o){const i=[];for(let a=0,s=0;a<o;a++,s++){const l=[],u=e[s%t];for(let c=0;c<u.childCount;c++){let d=u.child(c);a+d.attrs.rowspan>o&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,o-d.attrs.rowspan)},d.content)),l.push(d)}i.push(Pt.from(l))}e=i,t=o}return{width:n,height:t,rows:e}}function P0e(n,t,e,r,o,i,a){const s=n.doc.type.schema,l=ds(s);let u,c;if(o>t.width)for(let d=0,f=0;d<t.height;d++){const h=e.child(d);f+=h.nodeSize;const p=[];let v;h.lastChild==null||h.lastChild.type==l.cell?v=u||(u=l.cell.createAndFill()):v=c||(c=l.header_cell.createAndFill());for(let g=t.width;g<o;g++)p.push(v);n.insert(n.mapping.slice(a).map(f-1+r),p)}if(i>t.height){const d=[];for(let p=0,v=(t.height-1)*t.width;p<Math.max(t.width,o);p++){const g=p>=t.width?!1:e.nodeAt(t.map[v+p]).type==l.header_cell;d.push(g?c||(c=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const f=l.row.create(null,Pt.from(d)),h=[];for(let p=t.height;p<i;p++)h.push(f);n.insert(n.mapping.slice(a).map(r+e.nodeSize-2),h)}return!!(u||c)}function WQ(n,t,e,r,o,i,a,s){if(a==0||a==t.height)return!1;let l=!1;for(let u=o;u<i;u++){const c=a*t.width+u,d=t.map[c];if(t.map[c-t.width]==d){l=!0;const f=e.nodeAt(d),{top:h,left:p}=t.findCell(d);n.setNodeMarkup(n.mapping.slice(s).map(d+r),null,{...f.attrs,rowspan:a-h}),n.insert(n.mapping.slice(s).map(t.positionAt(a,p,e)),f.type.createAndFill({...f.attrs,rowspan:h+f.attrs.rowspan-a})),u+=f.attrs.colspan-1}}return l}function zQ(n,t,e,r,o,i,a,s){if(a==0||a==t.width)return!1;let l=!1;for(let u=o;u<i;u++){const c=u*t.width+a,d=t.map[c];if(t.map[c-1]==d){l=!0;const f=e.nodeAt(d),h=t.colCount(d),p=n.mapping.slice(s).map(d+r);n.setNodeMarkup(p,null,Hm(f.attrs,a-h,f.attrs.colspan-(a-h))),n.insert(p+f.nodeSize,f.type.createAndFill(Hm(f.attrs,0,a-h))),u+=f.attrs.rowspan-1}}return l}function GQ(n,t,e,r,o){let i=e?n.doc.nodeAt(e-1):n.doc;if(!i)throw new Error("No table found");let a=ci.get(i);const{top:s,left:l}=r,u=l+o.width,c=s+o.height,d=n.tr;let f=0;function h(){if(i=e?d.doc.nodeAt(e-1):d.doc,!i)throw new Error("No table found");a=ci.get(i),f=d.mapping.maps.length}P0e(d,a,i,e,u,c,f)&&h(),WQ(d,a,i,e,l,u,s,f)&&h(),WQ(d,a,i,e,l,u,c,f)&&h(),zQ(d,a,i,e,s,c,l,f)&&h(),zQ(d,a,i,e,s,c,u,f)&&h();for(let p=s;p<c;p++){const v=a.positionAt(p,l,i),g=a.positionAt(p,u,i);d.replace(d.mapping.slice(f).map(v+e),d.mapping.slice(f).map(g+e),new on(o.rows[p-s],0,0))}h(),d.setSelection(new _o(d.doc.resolve(e+a.positionAt(s,l,i)),d.doc.resolve(e+a.positionAt(c-1,u-1,i)))),t(d)}const I0e=xV({ArrowLeft:F1("horiz",-1),ArrowRight:F1("horiz",1),ArrowUp:F1("vert",-1),ArrowDown:F1("vert",1),"Shift-ArrowLeft":D1("horiz",-1),"Shift-ArrowRight":D1("horiz",1),"Shift-ArrowUp":D1("vert",-1),"Shift-ArrowDown":D1("vert",1),Backspace:M1,"Mod-Backspace":M1,Delete:M1,"Mod-Delete":M1});function HS(n,t,e){return e.eq(n.selection)?!1:(t&&t(n.tr.setSelection(e).scrollIntoView()),!0)}function F1(n,t){return(e,r,o)=>{if(!o)return!1;const i=e.selection;if(i instanceof _o)return HS(e,r,$n.near(i.$headCell,t));if(n!="horiz"&&!i.empty)return!1;const a=pY(o,n,t);if(a==null)return!1;if(n=="horiz")return HS(e,r,$n.near(e.doc.resolve(i.head+t),t));{const s=e.doc.resolve(a),l=lY(s,n,t);let u;return l?u=$n.near(l,1):t<0?u=$n.near(e.doc.resolve(s.before(-1)),-1):u=$n.near(e.doc.resolve(s.after(-1)),1),HS(e,r,u)}}}function D1(n,t){return(e,r,o)=>{if(!o)return!1;const i=e.selection;let a;if(i instanceof _o)a=i;else{const l=pY(o,n,t);if(l==null)return!1;a=new _o(e.doc.resolve(l))}const s=lY(a.$headCell,n,t);return s?HS(e,r,new _o(a.$anchorCell,s)):!1}}function M0e(n,t){const e=n.state.doc,r=Rm(e.resolve(t));return r?(n.dispatch(n.state.tr.setSelection(new _o(r))),!0):!1}function F0e(n,t,e){if(!Hc(n.state))return!1;let r=k0e(e);const o=n.state.selection;if(o instanceof _o){r||(r={width:1,height:1,rows:[Pt.from(JF(ds(n.state.schema).cell,e))]});const i=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),s=ci.get(i).rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return r=O0e(r,s.right-s.left,s.bottom-s.top),GQ(n.state,n.dispatch,a,s,r),!0}else if(r){const i=hT(n.state),a=i.start(-1);return GQ(n.state,n.dispatch,a,ci.get(i.node(-1)).findCell(i.pos-a),r),!0}else return!1}function D0e(n,t){var e;if(t.button!=0||t.ctrlKey||t.metaKey)return;const r=YQ(n,t.target);let o;if(t.shiftKey&&n.state.selection instanceof _o)i(n.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&(o=Rm(n.state.selection.$anchor))!=null&&((e=XP(n,t))===null||e===void 0?void 0:e.pos)!=o.pos)i(o,t),t.preventDefault();else if(!r)return;function i(l,u){let c=XP(n,u);const d=oh.getState(n.state)==null;if(!c||!UV(l,c))if(d)c=l;else return;const f=new _o(l,c);if(d||!n.state.selection.eq(f)){const h=n.state.tr.setSelection(f);d&&h.setMeta(oh,l.pos),n.dispatch(h)}}function a(){n.root.removeEventListener("mouseup",a),n.root.removeEventListener("dragstart",a),n.root.removeEventListener("mousemove",s),oh.getState(n.state)!=null&&n.dispatch(n.state.tr.setMeta(oh,-1))}function s(l){const u=l,c=oh.getState(n.state);let d;if(c!=null)d=n.state.doc.resolve(c);else if(YQ(n,u.target)!=r&&(d=XP(n,t),!d))return a();d&&i(d,u)}n.root.addEventListener("mouseup",a),n.root.addEventListener("dragstart",a),n.root.addEventListener("mousemove",s)}function pY(n,t,e){if(!(n.state.selection instanceof Dn))return null;const{$head:r}=n.state.selection;for(let o=r.depth-1;o>=0;o--){const i=r.node(o);if((e<0?r.index(o):r.indexAfter(o))!=(e<0?0:i.childCount))return null;if(i.type.spec.tableRole=="cell"||i.type.spec.tableRole=="header_cell"){const a=r.before(o),s=t=="vert"?e>0?"down":"up":e>0?"right":"left";return n.endOfTextblock(s)?a:null}}return null}function YQ(n,t){for(;t&&t!=n.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function XP(n,t){const e=n.posAtCoords({left:t.clientX,top:t.clientY});if(!e)return null;let{inside:r,pos:o}=e;return r>=0&&Rm(n.state.doc.resolve(r))||Rm(n.state.doc.resolve(o))}var U0e=class{constructor(t,e){this.node=t,this.defaultCellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${e}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),ZF(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,ZF(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function ZF(n,t,e,r,o,i){let a=0,s=!0,l=t.firstChild;const u=n.firstChild;if(u){for(let d=0,f=0;d<u.childCount;d++){const{colspan:h,colwidth:p}=u.child(d).attrs;for(let v=0;v<h;v++,f++){const g=o==f?i:p&&p[v],_=g?g+"px":"";if(a+=g||r,g||(s=!1),l)l.style.width!=_&&(l.style.width=_),l=l.nextSibling;else{const S=document.createElement("col");S.style.width=_,t.appendChild(S)}}}for(;l;){var c;const d=l.nextSibling;(c=l.parentNode)===null||c===void 0||c.removeChild(l),l=d}s?(e.style.width=a+"px",e.style.minWidth=""):(e.style.width="",e.style.minWidth=a+"px")}}const tu=new fu("tableColumnResizing");function L0e({handleWidth:n=5,cellMinWidth:t=25,defaultCellMinWidth:e=100,View:r=U0e,lastColumnResizable:o=!0}={}){const i=new vs({key:tu,state:{init(a,s){var l;const u=(l=i.spec)===null||l===void 0||(l=l.props)===null||l===void 0?void 0:l.nodeViews,c=ds(s.schema).table.name;return r&&u&&(u[c]=(d,f)=>new r(d,e,f)),new V0e(-1,!1)},apply(a,s){return s.apply(a)}},props:{attributes:a=>{const s=tu.getState(a);return s&&s.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(a,s)=>{N0e(a,s,n,o)},mouseleave:a=>{R0e(a)},mousedown:(a,s)=>{H0e(a,s,t,e)}},decorations:a=>{const s=tu.getState(a);if(s&&s.activeHandle>-1)return W0e(a,s.activeHandle)},nodeViews:{}}});return i}var V0e=class QS{constructor(t,e){this.activeHandle=t,this.dragging=e}apply(t){const e=this,r=t.getMeta(tu);if(r&&r.setHandle!=null)return new QS(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new QS(e.activeHandle,r.setDragging);if(e.activeHandle>-1&&t.docChanged){let o=t.mapping.map(e.activeHandle,-1);return XF(t.doc.resolve(o))||(o=-1),new QS(o,e.dragging)}return e}};function N0e(n,t,e,r){if(!n.editable)return;const o=tu.getState(n.state);if(o&&!o.dragging){const i=j0e(t.target);let a=-1;if(i){const{left:s,right:l}=i.getBoundingClientRect();t.clientX-s<=e?a=XQ(n,t,"left",e):l-t.clientX<=e&&(a=XQ(n,t,"right",e))}if(a!=o.activeHandle){if(!r&&a!==-1){const s=n.state.doc.resolve(a),l=s.node(-1),u=ci.get(l),c=s.start(-1);if(u.colCount(s.pos-c)+s.nodeAfter.attrs.colspan-1==u.width-1)return}mY(n,a)}}}function R0e(n){if(!n.editable)return;const t=tu.getState(n.state);t&&t.activeHandle>-1&&!t.dragging&&mY(n,-1)}function H0e(n,t,e,r){var o;if(!n.editable)return!1;const i=(o=n.dom.ownerDocument.defaultView)!==null&&o!==void 0?o:window,a=tu.getState(n.state);if(!a||a.activeHandle==-1||a.dragging)return!1;const s=n.state.doc.nodeAt(a.activeHandle),l=Q0e(n,a.activeHandle,s.attrs);n.dispatch(n.state.tr.setMeta(tu,{setDragging:{startX:t.clientX,startWidth:l}}));function u(d){i.removeEventListener("mouseup",u),i.removeEventListener("mousemove",c);const f=tu.getState(n.state);f!=null&&f.dragging&&($0e(n,f.activeHandle,JQ(f.dragging,d,e)),n.dispatch(n.state.tr.setMeta(tu,{setDragging:null})))}function c(d){if(!d.which)return u(d);const f=tu.getState(n.state);if(f&&f.dragging){const h=JQ(f.dragging,d,e);ZQ(n,f.activeHandle,h,r)}}return ZQ(n,a.activeHandle,l,r),i.addEventListener("mouseup",u),i.addEventListener("mousemove",c),t.preventDefault(),!0}function Q0e(n,t,{colspan:e,colwidth:r}){const o=r&&r[r.length-1];if(o)return o;const i=n.domAtPos(t);let a=i.node.childNodes[i.offset].offsetWidth,s=e;if(r)for(let l=0;l<e;l++)r[l]&&(a-=r[l],s--);return a/s}function j0e(n){for(;n&&n.nodeName!="TD"&&n.nodeName!="TH";)n=n.classList&&n.classList.contains("ProseMirror")?null:n.parentNode;return n}function XQ(n,t,e,r){const o=e=="right"?-r:r,i=n.posAtCoords({left:t.clientX+o,top:t.clientY});if(!i)return-1;const{pos:a}=i,s=Rm(n.state.doc.resolve(a));if(!s)return-1;if(e=="right")return s.pos;const l=ci.get(s.node(-1)),u=s.start(-1),c=l.map.indexOf(s.pos-u);return c%l.width==0?-1:u+l.map[c-1]}function JQ(n,t,e){const r=t.clientX-n.startX;return Math.max(e,n.startWidth+r)}function mY(n,t){n.dispatch(n.state.tr.setMeta(tu,{setHandle:t}))}function $0e(n,t,e){const r=n.state.doc.resolve(t),o=r.node(-1),i=ci.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=n.state.tr;for(let u=0;u<i.height;u++){const c=u*i.width+s;if(u&&i.map[c]==i.map[c-i.width])continue;const d=i.map[c],f=o.nodeAt(d).attrs,h=f.colspan==1?0:s-i.colCount(d);if(f.colwidth&&f.colwidth[h]==e)continue;const p=f.colwidth?f.colwidth.slice():K0e(f.colspan);p[h]=e,l.setNodeMarkup(a+d,null,{...f,colwidth:p})}l.docChanged&&n.dispatch(l)}function ZQ(n,t,e,r){const o=n.state.doc.resolve(t),i=o.node(-1),a=o.start(-1),s=ci.get(i).colCount(o.pos-a)+o.nodeAfter.attrs.colspan-1;let l=n.domAtPos(o.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&ZF(i,l.firstChild,l,r,s,e)}function K0e(n){return Array(n).fill(0)}function W0e(n,t){const e=[],r=n.doc.resolve(t),o=r.node(-1);if(!o)return li.empty;const i=ci.get(o),a=r.start(-1),s=i.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let u=0;u<i.height;u++){const c=s+u*i.width;if((s==i.width-1||i.map[c]!=i.map[c+1])&&(u==0||i.map[c]!=i.map[c-i.width])){var l;const d=i.map[c],f=a+d+o.nodeAt(d).nodeSize-1,h=document.createElement("div");h.className="column-resize-handle",!((l=tu.getState(n))===null||l===void 0)&&l.dragging&&e.push(Ks.node(a+d,a+d+o.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),e.push(Ks.widget(f,h))}}return li.create(n.doc,e)}function z0e({allowTableNodeSelection:n=!1}={}){return new vs({key:oh,state:{init(){return null},apply(t,e){const r=t.getMeta(oh);if(r!=null)return r==-1?null:r;if(e==null||!t.docChanged)return e;const{deleted:o,pos:i}=t.mapping.mapResult(e);return o?null:i}},props:{decorations:a0e,handleDOMEvents:{mousedown:D0e},createSelectionBetween(t){return oh.getState(t.state)!=null?t.state.selection:null},handleTripleClick:M0e,handleKeyDown:I0e,handlePaste:F0e},appendTransaction(t,e,r){return u0e(r,fY(r,e),n)}})}function qF(n,t){return t?["width",`${Math.max(t,n)}px`]:["min-width",`${n}px`]}function qQ(n,t,e,r,o,i){var a;let s=0,l=!0,u=t.firstChild;const c=n.firstChild;if(c!==null)for(let d=0,f=0;d<c.childCount;d+=1){const{colspan:h,colwidth:p}=c.child(d).attrs;for(let v=0;v<h;v+=1,f+=1){const g=o===f?i:p&&p[v],_=g?`${g}px`:"";if(s+=g||r,g||(l=!1),u){if(u.style.width!==_){const[S,y]=qF(r,g);u.style.setProperty(S,y)}u=u.nextSibling}else{const S=document.createElement("col"),[y,C]=qF(r,g);S.style.setProperty(y,C),t.appendChild(S)}}}for(;u;){const d=u.nextSibling;(a=u.parentNode)===null||a===void 0||a.removeChild(u),u=d}l?(e.style.width=`${s}px`,e.style.minWidth=""):(e.style.width="",e.style.minWidth=`${s}px`)}class G0e{constructor(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),qQ(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,qQ(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type==="attributes"&&(t.target===this.table||this.colgroup.contains(t.target))}}function Y0e(n,t,e,r){let o=0,i=!0;const a=[],s=n.firstChild;if(!s)return{};for(let d=0,f=0;d<s.childCount;d+=1){const{colspan:h,colwidth:p}=s.child(d).attrs;for(let v=0;v<h;v+=1,f+=1){const g=e===f?r:p&&p[v];o+=g||t,g||(i=!1);const[_,S]=qF(t,g);a.push(["col",{style:`${_}: ${S}`}])}}const l=i?`${o}px`:"",u=i?"":`${o}px`;return{colgroup:["colgroup",{},...a],tableWidth:l,tableMinWidth:u}}function e3(n,t){return n.createAndFill()}function X0e(n){if(n.cached.tableNodeTypes)return n.cached.tableNodeTypes;const t={};return Object.keys(n.nodes).forEach(e=>{const r=n.nodes[e];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),n.cached.tableNodeTypes=t,t}function J0e(n,t,e,r,o){const i=X0e(n),a=[],s=[];for(let u=0;u<e;u+=1){const c=e3(i.cell);if(c&&s.push(c),r){const d=e3(i.header_cell);d&&a.push(d)}}const l=[];for(let u=0;u<t;u+=1)l.push(i.row.createChecked(null,r&&u===0?a:s));return i.table.createChecked(null,l)}function Z0e(n){return n instanceof _o}const U1=({editor:n})=>{const{selection:t}=n.state;if(!Z0e(t))return!1;let e=0;const r=oY(t.ranges[0].$from,i=>i.type.name==="table");return r==null||r.node.descendants(i=>{if(i.type.name==="table")return!1;["tableCell","tableHeader"].includes(i.type.name)&&(e+=1)}),e===t.ranges.length?(n.commands.deleteTable(),!0):!1},q0e=gs.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,renderWrapper:!1,handleWidth:5,cellMinWidth:25,View:G0e,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:n,HTMLAttributes:t}){const{colgroup:e,tableWidth:r,tableMinWidth:o}=Y0e(n,this.options.cellMinWidth),i=["table",Ni(this.options.HTMLAttributes,t,{style:r?`width: ${r}`:`min-width: ${o}`}),e,["tbody",0]];return this.options.renderWrapper?["div",{class:"tableWrapper"},i]:i},addCommands(){return{insertTable:({rows:n=3,cols:t=3,withHeaderRow:e=!0}={})=>({tr:r,dispatch:o,editor:i})=>{const a=J0e(i.schema,n,t,e);if(o){const s=r.selection.from+1;r.replaceSelectionWith(a).scrollIntoView().setSelection(Dn.near(r.doc.resolve(s)))}return!0},addColumnBefore:()=>({state:n,dispatch:t})=>f0e(n,t),addColumnAfter:()=>({state:n,dispatch:t})=>A0e(n,t),deleteColumn:()=>({state:n,dispatch:t})=>p0e(n,t),addRowBefore:()=>({state:n,dispatch:t})=>v0e(n,t),addRowAfter:()=>({state:n,dispatch:t})=>g0e(n,t),deleteRow:()=>({state:n,dispatch:t})=>b0e(n,t),deleteTable:()=>({state:n,dispatch:t})=>B0e(n,t),mergeCells:()=>({state:n,dispatch:t})=>QQ(n,t),splitCell:()=>({state:n,dispatch:t})=>jQ(n,t),toggleHeaderColumn:()=>({state:n,dispatch:t})=>zw("column")(n,t),toggleHeaderRow:()=>({state:n,dispatch:t})=>zw("row")(n,t),toggleHeaderCell:()=>({state:n,dispatch:t})=>x0e(n,t),mergeOrSplit:()=>({state:n,dispatch:t})=>QQ(n,t)?!0:jQ(n,t),setCellAttribute:(n,t)=>({state:e,dispatch:r})=>C0e(n,t)(e,r),goToNextCell:()=>({state:n,dispatch:t})=>KQ(1)(n,t),goToPreviousCell:()=>({state:n,dispatch:t})=>KQ(-1)(n,t),fixTables:()=>({state:n,dispatch:t})=>(t&&fY(n),!0),setCellSelection:n=>({tr:t,dispatch:e})=>{if(e){const r=_o.create(t.doc,n.anchorCell,n.headCell);t.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:U1,"Mod-Backspace":U1,Delete:U1,"Mod-Delete":U1}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[L0e({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,defaultCellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],z0e({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(n){const t={name:n.name,options:n.options,storage:n.storage};return{tableRole:ur(gn(n,"tableRole",t))}}}),ebe=/^\s*>\s$/,tbe=gs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return["blockquote",Ni(this.options.HTMLAttributes,n),0]},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ww({find:ebe,type:this.type})]}}),nbe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,rbe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,obe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,ibe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,abe=Hh.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return["strong",Ni(this.options.HTMLAttributes,n),0]},addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[by({find:nbe,type:this.type}),by({find:obe,type:this.type})]},addPasteRules(){return[wy({find:rbe,type:this.type}),wy({find:ibe,type:this.type})]}}),sbe="listItem",t3="textStyle",n3=/^\s*([-+*])\s$/,lbe=gs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",Ni(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleBulletList:()=>({commands:n,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(sbe,this.editor.getAttributes(t3)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Ww({find:n3,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ww({find:n3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(t3),editor:this.editor})),[n]}}),ube=/(^|[^`])`([^`]+)`(?!`)/,cbe=/(^|[^`])`([^`]+)`(?!`)/g,dbe=Hh.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",Ni(this.options.HTMLAttributes,n),0]},addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[by({find:ube,type:this.type})]},addPasteRules(){return[wy({find:cbe,type:this.type})]}}),fbe=/^```([a-z]+)?[\s\n]$/,Abe=/^~~~([a-z]+)?[\s\n]$/,hbe=gs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var t;const{languageClassPrefix:e}=this.options,i=[...((t=n.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(a=>a.startsWith(e)).map(a=>a.replace(e,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:t}){return["pre",Ni(this.options.HTMLAttributes,t),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},addCommands(){return{setCodeBlock:n=>({commands:t})=>t.setNode(this.name,n),toggleCodeBlock:n=>({commands:t})=>t.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:t}=this.editor.state.selection,e=t.pos===1;return!n||t.parent.type.name!==this.name?!1:e||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=n,{selection:e}=t,{$from:r,empty:o}=e;if(!o||r.parent.type!==this.type)return!1;const i=r.parentOffset===r.parent.nodeSize-2,a=r.parent.textContent.endsWith(`

`);return!i||!a?!1:n.chain().command(({tr:s})=>(s.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=n,{selection:e,doc:r}=t,{$from:o,empty:i}=e;if(!i||o.parent.type!==this.type||!(o.parentOffset===o.parent.nodeSize-2))return!1;const s=o.after();return s===void 0?!1:r.nodeAt(s)?n.commands.command(({tr:u})=>(u.setSelection($n.near(r.resolve(s))),!0)):n.commands.exitCode()}}},addInputRules(){return[WF({find:fbe,type:this.type,getAttributes:n=>({language:n[1]})}),WF({find:Abe,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new vs({key:new fu("codeBlockVSCodeHandler"),props:{handlePaste:(n,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const e=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,i=o==null?void 0:o.mode;if(!e||!i)return!1;const{tr:a,schema:s}=n.state,l=s.text(e.replace(/\r\n?/g,`
`));return a.replaceSelectionWith(this.type.create({language:i},l)),a.selection.$from.parent.type!==this.type&&a.setSelection(Dn.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.setMeta("paste",!0),n.dispatch(a),!0}}})]}}),pbe=gs.create({name:"doc",topNode:!0,content:"block+"});function mbe(n={}){return new vs({view(t){return new vbe(t,n)}})}class vbe{constructor(t,e){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=e.width)!==null&&r!==void 0?r:1,this.color=e.color===!1?void 0:e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map(o=>{let i=a=>{this[o](a)};return t.dom.addEventListener(o,i),{name:o,handler:i}})}destroy(){this.handlers.forEach(({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e))}update(t,e){this.cursorPos!=null&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),e=!t.parent.inlineContent,r,o=this.editorView.dom,i=o.getBoundingClientRect(),a=i.width/o.offsetWidth,s=i.height/o.offsetHeight;if(e){let d=t.nodeBefore,f=t.nodeAfter;if(d||f){let h=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(h){let p=h.getBoundingClientRect(),v=d?p.bottom:p.top;d&&f&&(v=(v+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let g=this.width/2*s;r={left:p.left,right:p.right,top:v-g,bottom:v+g}}}}if(!r){let d=this.editorView.coordsAtPos(this.cursorPos),f=this.width/2*a;r={left:d.left-f,right:d.left+f,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",e),this.element.classList.toggle("prosemirror-dropcursor-inline",!e);let u,c;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,c=-pageYOffset;else{let d=l.getBoundingClientRect(),f=d.width/l.offsetWidth,h=d.height/l.offsetHeight;u=d.left-l.scrollLeft*f,c=d.top-l.scrollTop*h}this.element.style.left=(r.left-u)/a+"px",this.element.style.top=(r.top-c)/s+"px",this.element.style.width=(r.right-r.left)/a+"px",this.element.style.height=(r.bottom-r.top)/s+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),o=r&&r.type.spec.disableDropCursor,i=typeof o=="function"?o(this.editorView,e,t):o;if(e&&!i){let a=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let s=WG(this.editorView.state.doc,a,this.editorView.dragging.slice);s!=null&&(a=s)}this.setCursor(a),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const gbe=Zs.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[mbe(this.options)]}});class ui extends $n{constructor(t){super(t,t)}map(t,e){let r=t.resolve(e.map(this.head));return ui.valid(r)?new ui(r):$n.near(r)}content(){return on.empty}eq(t){return t instanceof ui&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if(typeof e.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ui(t.resolve(e.pos))}getBookmark(){return new LV(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!ybe(t)||!bbe(t))return!1;let r=e.type.spec.allowGapCursor;if(r!=null)return r;let o=e.contentMatchAt(t.index()).defaultType;return o&&o.isTextblock}static findGapCursorFrom(t,e,r=!1){e:for(;;){if(!r&&ui.valid(t))return t;let o=t.pos,i=null;for(let a=t.depth;;a--){let s=t.node(a);if(e>0?t.indexAfter(a)<s.childCount:t.index(a)>0){i=s.child(e>0?t.indexAfter(a):t.index(a)-1);break}else if(a==0)return null;o+=e;let l=t.doc.resolve(o);if(ui.valid(l))return l}for(;;){let a=e>0?i.firstChild:i.lastChild;if(!a){if(i.isAtom&&!i.isText&&!Pn.isSelectable(i)){t=t.doc.resolve(o+i.nodeSize*e),r=!1;continue e}break}i=a,o+=e;let s=t.doc.resolve(o);if(ui.valid(s))return s}return null}}}ui.prototype.visible=!1;ui.findFrom=ui.findGapCursorFrom;$n.jsonID("gapcursor",ui);class LV{constructor(t){this.pos=t}map(t){return new LV(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return ui.valid(e)?new ui(e):$n.near(e)}}function vY(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function ybe(n){for(let t=n.depth;t>=0;t--){let e=n.index(t),r=n.node(t);if(e==0){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(e-1);;o=o.lastChild){if(o.childCount==0&&!o.inlineContent||vY(o.type))return!0;if(o.inlineContent)return!1}}return!0}function bbe(n){for(let t=n.depth;t>=0;t--){let e=n.indexAfter(t),r=n.node(t);if(e==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let o=r.child(e);;o=o.firstChild){if(o.childCount==0&&!o.inlineContent||vY(o.type))return!0;if(o.inlineContent)return!1}}return!0}function wbe(){return new vs({props:{decorations:xbe,createSelectionBetween(n,t,e){return t.pos==e.pos&&ui.valid(e)?new ui(e):null},handleClick:Cbe,handleKeyDown:_be,handleDOMEvents:{beforeinput:Sbe}}})}const _be=xV({ArrowLeft:L1("horiz",-1),ArrowRight:L1("horiz",1),ArrowUp:L1("vert",-1),ArrowDown:L1("vert",1)});function L1(n,t){const e=n=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,o,i){let a=r.selection,s=t>0?a.$to:a.$from,l=a.empty;if(a instanceof Dn){if(!i.endOfTextblock(e)||s.depth==0)return!1;l=!1,s=r.doc.resolve(t>0?s.after():s.before())}let u=ui.findGapCursorFrom(s,t,l);return u?(o&&o(r.tr.setSelection(new ui(u))),!0):!1}}function Cbe(n,t,e){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(t);if(!ui.valid(r))return!1;let o=n.posAtCoords({left:e.clientX,top:e.clientY});return o&&o.inside>-1&&Pn.isSelectable(n.state.doc.nodeAt(o.inside))?!1:(n.dispatch(n.state.tr.setSelection(new ui(r))),!0)}function Sbe(n,t){if(t.inputType!="insertCompositionText"||!(n.state.selection instanceof ui))return!1;let{$from:e}=n.state.selection,r=e.parent.contentMatchAt(e.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let o=Pt.empty;for(let a=r.length-1;a>=0;a--)o=Pt.from(r[a].createAndFill(null,o));let i=n.state.tr.replace(e.pos,e.pos,new on(o,0,0));return i.setSelection(Dn.near(i.doc.resolve(e.pos+1))),n.dispatch(i),!1}function xbe(n){if(!(n.selection instanceof ui))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",li.create(n.doc,[Ks.widget(n.selection.head,t,{key:"gapcursor"})])}const Ebe=Zs.create({name:"gapCursor",addProseMirrorPlugins(){return[wbe()]},extendNodeSchema(n){var t;const e={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(t=ur(gn(n,"allowGapCursor",e)))!==null&&t!==void 0?t:null}}}),Bbe=gs.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",Ni(this.options.HTMLAttributes,n)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:n,chain:t,state:e,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:o,storedMarks:i}=e;if(o.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:s}=r.extensionManager,l=i||o.$to.parentOffset&&o.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&a){const d=l.filter(f=>s.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),kbe=gs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:t}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,Ni(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:n=>({commands:t})=>this.options.levels.includes(n.level)?t.setNode(this.name,n):!1,toggleHeading:n=>({commands:t})=>this.options.levels.includes(n.level)?t.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,t)=>({...n,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(n=>WF({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}});var hE=200,ga=function(){};ga.prototype.append=function(t){return t.length?(t=ga.from(t),!this.length&&t||t.length<hE&&this.leafAppend(t)||this.length<hE&&t.leafPrepend(this)||this.appendInner(t)):this};ga.prototype.prepend=function(t){return t.length?ga.from(t).append(this):this};ga.prototype.appendInner=function(t){return new Tbe(this,t)};ga.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?ga.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};ga.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};ga.prototype.forEach=function(t,e,r){e===void 0&&(e=0),r===void 0&&(r=this.length),e<=r?this.forEachInner(t,e,r,0):this.forEachInvertedInner(t,e,r,0)};ga.prototype.map=function(t,e,r){e===void 0&&(e=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(i,a){return o.push(t(i,a))},e,r),o};ga.from=function(t){return t instanceof ga?t:t&&t.length?new gY(t):ga.empty};var gY=(function(n){function t(r){n.call(this),this.values=r}n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t;var e={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(o,i){return o==0&&i==this.length?this:new t(this.values.slice(o,i))},t.prototype.getInner=function(o){return this.values[o]},t.prototype.forEachInner=function(o,i,a,s){for(var l=i;l<a;l++)if(o(this.values[l],s+l)===!1)return!1},t.prototype.forEachInvertedInner=function(o,i,a,s){for(var l=i-1;l>=a;l--)if(o(this.values[l],s+l)===!1)return!1},t.prototype.leafAppend=function(o){if(this.length+o.length<=hE)return new t(this.values.concat(o.flatten()))},t.prototype.leafPrepend=function(o){if(this.length+o.length<=hE)return new t(o.flatten().concat(this.values))},e.length.get=function(){return this.values.length},e.depth.get=function(){return 0},Object.defineProperties(t.prototype,e),t})(ga);ga.empty=new gY([]);var Tbe=(function(n){function t(e,r){n.call(this),this.left=e,this.right=r,this.length=e.length+r.length,this.depth=Math.max(e.depth,r.depth)+1}return n&&(t.__proto__=n),t.prototype=Object.create(n&&n.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,o,i,a){var s=this.left.length;if(o<s&&this.left.forEachInner(r,o,Math.min(i,s),a)===!1||i>s&&this.right.forEachInner(r,Math.max(o-s,0),Math.min(this.length,i)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,i,a){var s=this.left.length;if(o>s&&this.right.forEachInvertedInner(r,o-s,Math.max(i,s)-s,a+s)===!1||i<s&&this.left.forEachInvertedInner(r,Math.min(o,s),i,a)===!1)return!1},t.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var i=this.left.length;return o<=i?this.left.slice(r,o):r>=i?this.right.slice(r-i,o-i):this.left.slice(r,i).append(this.right.slice(0,o-i))},t.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new t(this.left,o)},t.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new t(o,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(ga);const Obe=500;class Ec{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,i;e&&(o=this.remapping(r,this.items.length),i=o.maps.length);let a=t.tr,s,l,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){o||(o=this.remapping(r,f+1),i=o.maps.length),i--,c.push(d);return}if(o){c.push(new hd(d.map));let h=d.step.map(o.slice(i)),p;h&&a.maybeStep(h).doc&&(p=a.mapping.maps[a.mapping.maps.length-1],u.push(new hd(p,void 0,void 0,u.length+c.length))),i--,p&&o.appendMap(p,i)}else a.maybeStep(d.step);if(d.selection)return s=o?d.selection.map(o.slice(i)):d.selection,l=new Ec(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:a,selection:s}}addTransform(t,e,r,o){let i=[],a=this.eventCount,s=this.items,l=!o&&s.length?s.get(s.length-1):null;for(let c=0;c<t.steps.length;c++){let d=t.steps[c].invert(t.docs[c]),f=new hd(t.mapping.maps[c],d,e),h;(h=l&&l.merge(f))&&(f=h,c?i.pop():s=s.slice(0,s.length-1)),i.push(f),e&&(a++,e=void 0),o||(l=f)}let u=a-r.depth;return u>Ibe&&(s=Pbe(s,u),a-=u),new Ec(s.append(i),a)}remapping(t,e){let r=new Nw;return this.items.forEach((o,i)=>{let a=o.mirrorOffset!=null&&i-o.mirrorOffset>=t?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},t,e),r}addMaps(t){return this.eventCount==0?this:new Ec(this.items.append(t.map(e=>new hd(e))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-e),i=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(f=>{f.selection&&s--},o);let l=e;this.items.forEach(f=>{let h=i.getMirror(--l);if(h==null)return;a=Math.min(a,h);let p=i.maps[h];if(f.step){let v=t.steps[h].invert(t.docs[h]),g=f.selection&&f.selection.map(i.slice(l+1,h));g&&s++,r.push(new hd(p,v,g))}else r.push(new hd(p))},o);let u=[];for(let f=e;f<a;f++)u.push(new hd(i.maps[f]));let c=this.items.slice(0,o).append(u).append(r),d=new Ec(c,s);return d.emptyItemCount()>Obe&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let t=0;return this.items.forEach(e=>{e.step||t++}),t}compress(t=this.items.length){let e=this.remapping(0,t),r=e.maps.length,o=[],i=0;return this.items.forEach((a,s)=>{if(s>=t)o.push(a),a.selection&&i++;else if(a.step){let l=a.step.map(e.slice(r)),u=l&&l.getMap();if(r--,u&&e.appendMap(u,r),l){let c=a.selection&&a.selection.map(e.slice(r));c&&i++;let d=new hd(u.invert(),l,c),f,h=o.length-1;(f=o.length&&o[h].merge(d))?o[h]=f:o.push(d)}}else a.map&&r--},this.items.length,0),new Ec(ga.from(o.reverse()),i)}}Ec.empty=new Ec(ga.empty,0);function Pbe(n,t){let e;return n.forEach((r,o)=>{if(r.selection&&t--==0)return e=o,!1}),n.slice(e)}class hd{constructor(t,e,r,o){this.map=t,this.step=e,this.selection=r,this.mirrorOffset=o}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new hd(e.getMap().invert(),e,this.selection)}}}class XA{constructor(t,e,r,o,i){this.done=t,this.undone=e,this.prevRanges=r,this.prevTime=o,this.prevComposition=i}}const Ibe=20;function Mbe(n,t,e,r){let o=e.getMeta(mm),i;if(o)return o.historyState;e.getMeta(Ube)&&(n=new XA(n.done,n.undone,null,0,-1));let a=e.getMeta("appendedTransaction");if(e.steps.length==0)return n;if(a&&a.getMeta(mm))return a.getMeta(mm).redo?new XA(n.done.addTransform(e,void 0,r,jS(t)),n.undone,r3(e.mapping.maps),n.prevTime,n.prevComposition):new XA(n.done,n.undone.addTransform(e,void 0,r,jS(t)),null,n.prevTime,n.prevComposition);if(e.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let s=e.getMeta("composition"),l=n.prevTime==0||!a&&n.prevComposition!=s&&(n.prevTime<(e.time||0)-r.newGroupDelay||!Fbe(e,n.prevRanges)),u=a?JP(n.prevRanges,e.mapping):r3(e.mapping.maps);return new XA(n.done.addTransform(e,l?t.selection.getBookmark():void 0,r,jS(t)),Ec.empty,u,e.time,s??n.prevComposition)}else return(i=e.getMeta("rebased"))?new XA(n.done.rebased(e,i),n.undone.rebased(e,i),JP(n.prevRanges,e.mapping),n.prevTime,n.prevComposition):new XA(n.done.addMaps(e.mapping.maps),n.undone.addMaps(e.mapping.maps),JP(n.prevRanges,e.mapping),n.prevTime,n.prevComposition)}function Fbe(n,t){if(!t)return!1;if(!n.docChanged)return!0;let e=!1;return n.mapping.maps[0].forEach((r,o)=>{for(let i=0;i<t.length;i+=2)r<=t[i+1]&&o>=t[i]&&(e=!0)}),e}function r3(n){let t=[];for(let e=n.length-1;e>=0&&t.length==0;e--)n[e].forEach((r,o,i,a)=>t.push(i,a));return t}function JP(n,t){if(!n)return null;let e=[];for(let r=0;r<n.length;r+=2){let o=t.map(n[r],1),i=t.map(n[r+1],-1);o<=i&&e.push(o,i)}return e}function Dbe(n,t,e){let r=jS(t),o=mm.get(t).spec.config,i=(e?n.undone:n.done).popEvent(t,r);if(!i)return null;let a=i.selection.resolve(i.transform.doc),s=(e?n.done:n.undone).addTransform(i.transform,t.selection.getBookmark(),o,r),l=new XA(e?s:i.remaining,e?i.remaining:s,null,0,-1);return i.transform.setSelection(a).setMeta(mm,{redo:e,historyState:l})}let ZP=!1,o3=null;function jS(n){let t=n.plugins;if(o3!=t){ZP=!1,o3=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){ZP=!0;break}}return ZP}const mm=new fu("history"),Ube=new fu("closeHistory");function Lbe(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new vs({key:mm,state:{init(){return new XA(Ec.empty,Ec.empty,null,0,-1)},apply(t,e,r){return Mbe(e,r,t,n)}},config:n,props:{handleDOMEvents:{beforeinput(t,e){let r=e.inputType,o=r=="historyUndo"?bY:r=="historyRedo"?wY:null;return!o||!t.editable?!1:(e.preventDefault(),o(t.state,t.dispatch))}}}})}function yY(n,t){return(e,r)=>{let o=mm.getState(e);if(!o||(n?o.undone:o.done).eventCount==0)return!1;if(r){let i=Dbe(o,e,n);i&&r(t?i.scrollIntoView():i)}return!0}}const bY=yY(!1,!0),wY=yY(!0,!0),Vbe=Zs.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:t})=>bY(n,t),redo:()=>({state:n,dispatch:t})=>wY(n,t)}},addProseMirrorPlugins(){return[Lbe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Nbe=gs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",Ni(this.options.HTMLAttributes,n)]},addCommands(){return{setHorizontalRule:()=>({chain:n,state:t})=>{if(!Yye(t,t.schema.nodes[this.name]))return!1;const{selection:e}=t,{$from:r,$to:o}=e,i=n();return r.parentOffset===0?i.insertContentAt({from:Math.max(r.pos-1,0),to:o.pos},{type:this.name}):vye(e)?i.insertContentAt(o.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({tr:a,dispatch:s})=>{var l;if(s){const{$to:u}=a.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?a.setSelection(Dn.create(a.doc,u.pos+1)):u.nodeAfter.isBlock?a.setSelection(Pn.create(a.doc,u.pos)):a.setSelection(Dn.create(a.doc,u.pos));else{const d=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(a.insert(c,d),a.setSelection(Dn.create(a.doc,c+1)))}a.scrollIntoView()}return!0}).run()}}},addInputRules(){return[aY({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Rbe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Hbe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Qbe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,jbe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,$be=Hh.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",Ni(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[by({find:Rbe,type:this.type}),by({find:Qbe,type:this.type})]},addPasteRules(){return[wy({find:Hbe,type:this.type}),wy({find:jbe,type:this.type})]}}),Kbe=gs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",Ni(this.options.HTMLAttributes,n),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Wbe="listItem",i3="textStyle",a3=/^(\d+)\.\s$/,zbe=gs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:t,...e}=n;return t===1?["ol",Ni(this.options.HTMLAttributes,e),0]:["ol",Ni(this.options.HTMLAttributes,n),0]},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Wbe,this.editor.getAttributes(i3)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Ww({find:a3,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Ww({find:a3,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(i3)}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1],editor:this.editor})),[n]}}),Gbe=gs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Ni(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Ybe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Xbe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Jbe=Hh.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",Ni(this.options.HTMLAttributes,n),0]},addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[by({find:Ybe,type:this.type})]},addPasteRules(){return[wy({find:Xbe,type:this.type})]}}),Zbe=gs.create({name:"text",group:"inline"}),qbe=Zs.create({name:"starterKit",addExtensions(){const n=[];return this.options.bold!==!1&&n.push(abe.configure(this.options.bold)),this.options.blockquote!==!1&&n.push(tbe.configure(this.options.blockquote)),this.options.bulletList!==!1&&n.push(lbe.configure(this.options.bulletList)),this.options.code!==!1&&n.push(dbe.configure(this.options.code)),this.options.codeBlock!==!1&&n.push(hbe.configure(this.options.codeBlock)),this.options.document!==!1&&n.push(pbe.configure(this.options.document)),this.options.dropcursor!==!1&&n.push(gbe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&n.push(Ebe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&n.push(Bbe.configure(this.options.hardBreak)),this.options.heading!==!1&&n.push(kbe.configure(this.options.heading)),this.options.history!==!1&&n.push(Vbe.configure(this.options.history)),this.options.horizontalRule!==!1&&n.push(Nbe.configure(this.options.horizontalRule)),this.options.italic!==!1&&n.push($be.configure(this.options.italic)),this.options.listItem!==!1&&n.push(Kbe.configure(this.options.listItem)),this.options.orderedList!==!1&&n.push(zbe.configure(this.options.orderedList)),this.options.paragraph!==!1&&n.push(Gbe.configure(this.options.paragraph)),this.options.strike!==!1&&n.push(Jbe.configure(this.options.strike)),this.options.text!==!1&&n.push(Zbe.configure(this.options.text)),n}}),ewe=gs.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:n}){return["tr",Ni(this.options.HTMLAttributes,n),0]}}),twe=gs.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:n=>{const t=n.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:n}){return["td",Ni(this.options.HTMLAttributes,n),0]}});function s3(n){return zU((t,e)=>({get(){return t(),n},set(r){n=r,requestAnimationFrame(()=>{requestAnimationFrame(()=>{e()})})}}))}let nwe=class extends Gye{constructor(t={}){return super(t),this.contentComponent=null,this.appContext=null,this.reactiveState=s3(this.view.state),this.reactiveExtensionStorage=s3(this.extensionStorage),this.on("beforeTransaction",({nextState:e})=>{this.reactiveState.value=e,this.reactiveExtensionStorage.value=this.extensionStorage}),qm(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,e){const r=super.registerPlugin(t,e);return this.reactiveState&&(this.reactiveState.value=r),r}unregisterPlugin(t){const e=super.unregisterPlugin(t);return this.reactiveState&&e&&(this.reactiveState.value=e),e}};const rwe=rn({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(n){const t=Oe(),e=fs();return mo(()=>{const r=n.editor;r&&r.options.element&&t.value&&tr(()=>{if(!t.value||!r.options.element.firstChild)return;const o=O(t.value);t.value.append(...r.options.element.childNodes),r.contentComponent=e.ctx._,e&&(r.appContext={...e.appContext,provides:e.provides}),r.setOptions({element:o}),r.createNodeViews()})}),Ti(()=>{const r=n.editor;r&&(r.contentComponent=null,r.appContext=null)}),{rootEl:t}},render(){return uu("div",{ref:n=>{this.rootEl=n}})}}),owe=(n={})=>{const t=It();return Kn(()=>{t.value=new nwe(n)}),Ti(()=>{var e,r,o;const i=(e=t.value)===null||e===void 0?void 0:e.options.element,a=i==null?void 0:i.cloneNode(!0);(r=i==null?void 0:i.parentNode)===null||r===void 0||r.replaceChild(a,i),(o=t.value)===null||o===void 0||o.destroy()}),t},iwe=gs.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:n=>{const t=n.getAttribute("colwidth");return t?t.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:n}){return["th",Ni(this.options.HTMLAttributes,n),0]}}),Ma={MOBILE_BREAKPOINT:768,ICON_SIZE:"24px",CONTROLLER_HEIGHT:"25px",DOT_SIZE:{MOBILE:16,DESKTOP:9},DOT_POSITION:{MOBILE:"-8px",DESKTOP:"-4px"},COLORS:{BORDER:"#6C6C6C",BACKGROUND:"rgba(255, 255, 255, 1)"},ICONS:{LEFT:"https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/format_align_left/default/20px.svg",CENTER:"https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/format_align_center/default/20px.svg",RIGHT:"https://fonts.gstatic.com/s/i/short-term/release/materialsymbolsoutlined/format_align_right/default/20px.svg"}},vm={isMobile(){return document.documentElement.clientWidth<Ma.MOBILE_BREAKPOINT},getDotPosition(){return vm.isMobile()?Ma.DOT_POSITION.MOBILE:Ma.DOT_POSITION.DESKTOP},getDotSize(){return vm.isMobile()?Ma.DOT_SIZE.MOBILE:Ma.DOT_SIZE.DESKTOP},clearContainerBorder(n){const t=n.getAttribute("style"),e=t==null?void 0:t.replace("border: 1px dashed #6C6C6C;","").replace("border: 1px dashed rgb(108, 108, 108)","");n.setAttribute("style",e)},removeResizeElements(n){if(n.childElementCount>3)for(let t=0;t<5;t++)n.removeChild(n.lastChild)}};let pE=class{static getContainerStyle(t,e){return`${`width: ${e||"100%"}; height: auto; cursor: pointer;`} ${t?"display: inline-block;":""}`}static getWrapperStyle(t){return t?"display: inline-block; float: left; padding-right: 8px;":"display: flex"}static getPositionControllerStyle(t){return`
      position: absolute; 
      top: 0%; 
      left: 50%; 
      width: ${t?"66px":"100px"}; 
      height: ${Ma.CONTROLLER_HEIGHT}; 
      z-index: 999; 
      background-color: ${Ma.COLORS.BACKGROUND}; 
      border-radius: 3px; 
      border: 1px solid ${Ma.COLORS.BORDER}; 
      cursor: pointer; 
      transform: translate(-50%, -50%); 
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      padding: 0 6px;
    `.replace(/\s+/g," ").trim()}static getDotStyle(t){const e=vm.getDotPosition(),r=vm.getDotSize(),o=[`top: ${e}; left: ${e}; cursor: nwse-resize;`,`top: ${e}; right: ${e}; cursor: nesw-resize;`,`bottom: ${e}; left: ${e}; cursor: nesw-resize;`,`bottom: ${e}; right: ${e}; cursor: nwse-resize;`];return`
      position: absolute; 
      width: ${r}px; 
      height: ${r}px; 
      border: 1.5px solid ${Ma.COLORS.BORDER}; 
      border-radius: 50%; 
      ${o[t]}
    `.replace(/\s+/g," ").trim()}};class l3{static parseImageAttributes(t,e){Object.entries(t).forEach(([r,o])=>{if(!(o==null||r==="wrapperStyle")){if(r==="containerStyle"){const i=o.match(/width:\s*([0-9.]+)px/);i&&e.setAttribute("width",i[1]);return}e.setAttribute(r,o)}})}static extractWidthFromStyle(t){const e=t.match(/width:\s*([0-9.]+)px/);return e?e[1]:null}}class awe{constructor(t,e,r){this.elements=t,this.inline=e,this.dispatchNodeView=r}createControllerIcon(t){const e=document.createElement("img");return e.setAttribute("src",t),e.setAttribute("style",`width: ${Ma.ICON_SIZE}; height: ${Ma.ICON_SIZE}; cursor: pointer;`),e.addEventListener("mouseover",r=>{r.target.style.opacity="0.6"}),e.addEventListener("mouseout",r=>{r.target.style.opacity="1"}),e}handleLeftClick(){if(!this.inline)this.elements.container.setAttribute("style",`${this.elements.container.style.cssText} margin: 0 auto 0 0;`);else{const t="display: inline-block; float: left; padding-right: 8px;";this.elements.wrapper.setAttribute("style",t),this.elements.container.setAttribute("style",t)}this.dispatchNodeView()}handleCenterClick(){this.elements.container.setAttribute("style",`${this.elements.container.style.cssText} margin: 0 auto;`),this.dispatchNodeView()}handleRightClick(){if(!this.inline)this.elements.container.setAttribute("style",`${this.elements.container.style.cssText} margin: 0 0 0 auto;`);else{const t="display: inline-block; float: right; padding-left: 8px;";this.elements.wrapper.setAttribute("style",t),this.elements.container.setAttribute("style",t)}this.dispatchNodeView()}createPositionControls(){const t=document.createElement("div");t.setAttribute("style",pE.getPositionControllerStyle(this.inline));const e=this.createControllerIcon(Ma.ICONS.LEFT);if(e.addEventListener("click",()=>this.handleLeftClick()),t.appendChild(e),!this.inline){const o=this.createControllerIcon(Ma.ICONS.CENTER);o.addEventListener("click",()=>this.handleCenterClick()),t.appendChild(o)}const r=this.createControllerIcon(Ma.ICONS.RIGHT);return r.addEventListener("click",()=>this.handleRightClick()),t.appendChild(r),this.elements.container.appendChild(t),this}}class swe{constructor(t,e){this.state={isResizing:!1,startX:0,startWidth:0},this.handleMouseMove=(r,o)=>{if(!this.state.isResizing)return;const i=o%2===0?-(r.clientX-this.state.startX):r.clientX-this.state.startX,a=this.state.startWidth+i;this.elements.container.style.width=a+"px",this.elements.img.style.width=a+"px"},this.handleMouseUp=()=>{this.state.isResizing&&(this.state.isResizing=!1),this.dispatchNodeView()},this.handleTouchMove=(r,o)=>{if(!this.state.isResizing)return;const i=o%2===0?-(r.touches[0].clientX-this.state.startX):r.touches[0].clientX-this.state.startX,a=this.state.startWidth+i;this.elements.container.style.width=a+"px",this.elements.img.style.width=a+"px"},this.handleTouchEnd=()=>{this.state.isResizing&&(this.state.isResizing=!1),this.dispatchNodeView()},this.elements=t,this.dispatchNodeView=e}createResizeHandle(t){const e=document.createElement("div");return e.setAttribute("style",pE.getDotStyle(t)),e.addEventListener("mousedown",r=>{r.preventDefault(),this.state.isResizing=!0,this.state.startX=r.clientX,this.state.startWidth=this.elements.container.offsetWidth;const o=a=>this.handleMouseMove(a,t),i=()=>{this.handleMouseUp(),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",i)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",i)}),e.addEventListener("touchstart",r=>{r.cancelable&&r.preventDefault(),this.state.isResizing=!0,this.state.startX=r.touches[0].clientX,this.state.startWidth=this.elements.container.offsetWidth;const o=a=>this.handleTouchMove(a,t),i=()=>{this.handleTouchEnd(),document.removeEventListener("touchmove",o),document.removeEventListener("touchend",i)};document.addEventListener("touchmove",o),document.addEventListener("touchend",i)},{passive:!1}),e}}class lwe{constructor(t,e){this.clearContainerBorder=()=>{vm.clearContainerBorder(this.elements.container)},this.dispatchNodeView=()=>{var r;const{view:o,getPos:i}=this.context;if(typeof i=="function"){this.clearContainerBorder();const a=Object.assign(Object.assign({},this.context.node.attrs),{width:(r=l3.extractWidthFromStyle(this.elements.container.style.cssText))!==null&&r!==void 0?r:this.context.node.attrs.width,containerStyle:`${this.elements.container.style.cssText}`,wrapperStyle:`${this.elements.wrapper.style.cssText}`});o.dispatch(o.state.tr.setNodeMarkup(i(),null,a))}},this.removeResizeElements=()=>{vm.removeResizeElements(this.elements.container)},this.context=t,this.inline=e,this.elements=this.createElements()}createElements(){return{wrapper:document.createElement("div"),container:document.createElement("div"),img:document.createElement("img")}}setupImageAttributes(){l3.parseImageAttributes(this.context.node.attrs,this.elements.img)}setupDOMStructure(){const{wrapperStyle:t,containerStyle:e}=this.context.node.attrs;this.elements.wrapper.setAttribute("style",t),this.elements.wrapper.appendChild(this.elements.container),this.elements.container.setAttribute("style",e),this.elements.container.appendChild(this.elements.img)}createPositionController(){new awe(this.elements,this.inline,this.dispatchNodeView).createPositionControls()}createResizeHandler(){const t=new swe(this.elements,this.dispatchNodeView);Array.from({length:4},(e,r)=>{const o=t.createResizeHandle(r);this.elements.container.appendChild(o)})}setupContainerClick(){this.elements.container.addEventListener("click",()=>{var t;vm.isMobile()&&((t=document.querySelector(".ProseMirror-focused"))===null||t===void 0||t.blur()),this.removeResizeElements(),this.createPositionController(),this.elements.container.setAttribute("style",`position: relative; border: 1px dashed ${Ma.COLORS.BORDER}; ${this.context.node.attrs.containerStyle}`),this.createResizeHandler()})}setupContentClick(){document.addEventListener("click",t=>{const e=t.target;this.elements.container.contains(e)||e.style.cssText===`width: ${Ma.ICON_SIZE}; height: ${Ma.ICON_SIZE}; cursor: pointer;`||(this.clearContainerBorder(),this.removeResizeElements())})}initialize(){this.setupDOMStructure(),this.setupImageAttributes();const{editable:t}=this.context.editor.options;return t?(this.setupContainerClick(),this.setupContentClick(),{dom:this.elements.wrapper}):{dom:this.elements.container}}}const uwe=sY.extend({name:"imageResize",addOptions(){var n;return Object.assign(Object.assign({},(n=this.parent)===null||n===void 0?void 0:n.call(this)),{inline:!1})},addAttributes(){var n;const t=this.options.inline;return Object.assign(Object.assign({},(n=this.parent)===null||n===void 0?void 0:n.call(this)),{containerStyle:{default:null,parseHTML:e=>{const r=e.getAttribute("containerstyle");if(r)return r;const o=e.getAttribute("width");return o?pE.getContainerStyle(t,`${o}px`):`${e.style.cssText}`}},wrapperStyle:{default:pE.getWrapperStyle(t)}})},addNodeView(){return({node:n,editor:t,getPos:e})=>{const r=this.options.inline,o={node:n,editor:t,view:t.view,getPos:typeof e=="function"?e:void 0};return new lwe(o,r).initialize()}}}),cwe={key:0,class:"menu border-b"},dwe={key:0,class:"pa-2 border-b"},fwe={key:1},Awe={class:"pa-1"},hwe={key:1,class:"footer"},Ky={__name:"TextEditor",props:{modelValue:String,footer:Boolean,label:String,insert:String,height:{type:String,default:"300px"}},emits:["update:modelValue"],setup(n,{emit:t}){const e=n,r=t,o=owe({content:e.modelValue,extensions:[ewe,twe,qbe,iwe,q0e.configure({resizable:!0}),sY.configure({inline:!1,allowBase64:!0}),uwe.configure({inline:!1})],onUpdate({editor:a}){r("update:modelValue",a.getHTML())}}),i=()=>{const a=document.createElement("input");a.type="file",a.accept="image/*",a.onchange=async()=>{if(a.files&&a.files[0]){const s=a.files[0],l=new FileReader;l.onload=()=>{const u=l.result;o.value.chain().focus().setImage({src:u}).run()},l.readAsDataURL(s)}},a.click()};return lt(()=>e.modelValue,a=>{o.value&&a!==o.value.getHTML()&&o.value.commands.setContent(a,!1)}),lt(()=>e.insert,a=>{o.value&&a&&o.value.chain().focus().insertContent(a).run()}),Ti(()=>{o.value&&o.value.destroy()}),(a,s)=>(le(),Re(cr,{style:Ue({"--editor-height":e.height}),class:"mt-5 border kanban-text-editor elevation-1 border-opacity-25"},{default:N(()=>[O(o)?(le(),et("div",cwe,[a.$slots.label||n.label?(le(),et("div",dwe,[a.$slots.label?Ar(a.$slots,"label",{key:0}):(le(),et("span",fwe,at(n.label),1))])):xt("",!0),H("div",Awe,[x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-bold",onClick:s[0]||(s[0]=l=>O(o).chain().focus().toggleBold().run()),class:pt({"is-active":O(o).isActive("bold")})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-italic",onClick:s[1]||(s[1]=l=>O(o).chain().focus().toggleItalic().run()),class:pt({"is-active":O(o).isActive("italic")})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-strikethrough",onClick:s[2]||(s[2]=l=>O(o).chain().focus().toggleStrike().run()),class:pt({"is-active":O(o).isActive("strike")})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-code-tags",onClick:s[3]||(s[3]=l=>O(o).chain().focus().toggleCode().run()),class:pt({"is-active":O(o).isActive("code")})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-eraser",onClick:s[4]||(s[4]=l=>O(o).chain().focus().unsetAllMarks().run())}),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-paragraph",onClick:s[5]||(s[5]=l=>O(o).chain().focus().setParagraph().run()),class:pt({"is-active":O(o).isActive("paragraph")})},null,8,["class"]),x($e,{variant:"text",size:"x-small",icon:"mdi-image",onClick:i}),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-header-1",onClick:s[6]||(s[6]=l=>O(o).chain().focus().toggleHeading({level:1}).run()),class:pt({"is-active":O(o).isActive("heading",{level:1})})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-header-2",onClick:s[7]||(s[7]=l=>O(o).chain().focus().toggleHeading({level:2}).run()),class:pt({"is-active":O(o).isActive("heading",{level:2})})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-header-3",onClick:s[8]||(s[8]=l=>O(o).chain().focus().toggleHeading({level:3}).run()),class:pt({"is-active":O(o).isActive("heading",{level:3})})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-header-4",onClick:s[9]||(s[9]=l=>O(o).chain().focus().toggleHeading({level:4}).run()),class:pt({"is-active":O(o).isActive("heading",{level:4})})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-header-5",onClick:s[10]||(s[10]=l=>O(o).chain().focus().toggleHeading({level:5}).run()),class:pt({"is-active":O(o).isActive("heading",{level:5})})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-header-6",onClick:s[11]||(s[11]=l=>O(o).chain().focus().toggleHeading({level:6}).run()),class:pt({"is-active":O(o).isActive("heading",{level:6})})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-table",onClick:s[12]||(s[12]=l=>O(o).commands.insertTable({rows:3,cols:3,withHeaderRow:!0}))}),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-list-bulleted",onClick:s[13]||(s[13]=l=>O(o).chain().focus().toggleBulletList().run()),class:pt({"is-active":O(o).isActive("bulletList")})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-list-numbered",onClick:s[14]||(s[14]=l=>O(o).chain().focus().toggleOrderedList().run()),class:pt({"is-active":O(o).isActive("orderedList")})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-code-braces",onClick:s[15]||(s[15]=l=>O(o).chain().focus().toggleCodeBlock().run()),class:pt({"is-active":O(o).isActive("codeBlock")})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-format-quote-close",onClick:s[16]||(s[16]=l=>O(o).chain().focus().toggleBlockquote().run()),class:pt({"is-active":O(o).isActive("blockquote")})},null,8,["class"]),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-minus",onClick:s[17]||(s[17]=l=>O(o).chain().focus().setHorizontalRule().run())}),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-page-layout-header",onClick:s[18]||(s[18]=l=>O(o).chain().focus().setHardBreak().run())}),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-undo",onClick:s[19]||(s[19]=l=>O(o).chain().focus().undo().run())}),x($e,{variant:"text",elevation:"0",size:"x-small",icon:"mdi-redo",onClick:s[20]||(s[20]=l=>O(o).chain().focus().redo().run())}),Ar(a.$slots,"header")])])):xt("",!0),x(O(rwe),{editor:O(o)},null,8,["editor"]),O(o)&&e.footer?(le(),et("div",hwe,at(O(o).getHTML().length)+" Characters",1)):xt("",!0)]),_:3},8,["style"]))}},_y=Vt(),{datasets:_Y,proposal:Gw,products:pwe,accessories:CY,manufacturers:mwe,product_pricing:VV,accessory_pricing:SY}=Lt(_y),NV="https://catalog-cdn.1800officesolutions.com/",vwe=NV+"/storage/uploads/datasets/",mE=NV+"/storage/uploads/products",gwe=NV+"/storage/uploads/accessories/featured/",Yw=Oe([{title:"Monthly (Lease)",value:"monthly",tooltip:"Monthly payment amount based on lease factor.",props:{disabled:!1}},{title:"Monthly (Flat Rate)",value:"fixed-monthly",tooltip:"Monthly payment amount as it is",props:{disabled:!1}},{title:"One-Time Charge",value:"one-time",tooltip:"One-time upfront charge.",props:{disabled:!1}}]);function ywe(n){const t=mwe.value.find(e=>e.id==n);return t?t.name:"Unknown"}function bwe(n){return gwe+bd(n.accessory_id).featured_image}function qP(n){var t;return((t=n==null?void 0:n.base_image)==null?void 0:t.length)>0?`${mE}/base-img/${n.base_image}`:`${mE}/base-img/_placeholder_.png`}function RV(n){var t;return((t=n==null?void 0:n.product_image)==null?void 0:t.length)>0?`${mE}/product-img/${n.product_image}`:`${mE}/product-img/_placeholder_.png`}function wwe(n){const t=gm(n.dataset_id);return t.filename==null||!t.filename.length?null:vwe+t.filename}function _we(n){const t=_Y.value.filter(r=>r.product_id==n.id),e=[];return t.forEach(r=>{const o=CY.value.find(i=>i.id==r.accessory_id);o&&e.push({qty:1,price_margin:20,dataset_id:r.id,dataset_attached:!1,accessory_id:o.id,accessory_price:xwe(o.id)})}),e}function Xw(n){return n.accessories.filter(t=>t.dataset_attached==!0)}function Jw(n){return pwe.value.find(t=>t.id==n)}function xY(n){const t={...Gw.value};t.cart_items.splice(n,1),_y.SetState({proposal:t}),_y.ShowSuccess("Product removed from cart")}function Cwe(n){const t=JSON.parse(JSON.stringify(Gw.value));t.cart_items.push({...n}),_y.SetState({proposal:t}),_y.ShowSuccess("Product added to cart")}function po(n,t){if(!t)return n;const e=t/100;if(e>=1)return 1/0;const r=n/(1-e);return parseFloat(r.toFixed(2))}function bd(n){return CY.value.find(t=>t.id==n)}function gm(n){return _Y.value.find(t=>t.id==n)}function vE(){if(Mm.value){let n="";return Gw.value.cart_items.forEach(t=>{t.type=="custom"?n+=`${t.product.name},`:n+=`${Jw(t.product.id).name},`}),n.replace(/,$/,"")}else{let n="";return Gw.value.it_service_items.forEach(t=>{t.items.forEach(e=>{n+=e.name+","})}),n.replace(/,$/,"")}}function Swe(n){try{const t=VV.value.find(e=>e.id==n);return t?EY(t.Price):0}catch{return 0}}function u3(n,t){let e=VV.value.find(o=>o.id==t),r=0;return e!=null&&parseFloat(e[`Cost Per Print ${n}`])<=1&&(r=Sd(`cost_per_print_${n.toLowerCase()}`)??0),r}function xwe(n){const t=SY.value.find(e=>e.id==n);return t!=null?EY(t.Price):0}function Ewe(n){const t=VV.value.find(e=>e.id==n);return(t==null?void 0:t.SKU)||"-"}function Bwe(n){const t=SY.value.find(e=>e.id==n);return(t==null?void 0:t.SKU)||"-"}function EY(n){if(!n)return 0;const t=n.toString().replace(/[^0-9.,-]/g,"").replace(/,(?=\d{3}\b)/g,"").replace(new RegExp("(?<=\\d),(?=\\d{2}\\b)"),"."),e=parseFloat(t);return isNaN(e)?0:e}function kwe(n){const t={...Gw.value};t.cost_addons.splice(n,1),_y.SetState({proposal:t})}function Vd(n,t=null,e=null){const r=wn(n.lease_factor_provider);if(!n.lease_factor_provider||Object.keys(r).length===0)return 0;const o=t??n.lease_term_offered,i=e??n.lease_type,a=n.lease_factor_provider.lease_factors.find(s=>s.term===+o);return a!==void 0?a[i]:0}function gE(n){if(n.prints_included_free==1)return 0;const{charge_type:t,black_prints_cost:e,black_prints_margin:r,black_prints_included:o}=n.global_print_cost;let i=o*e;return t=="monthly"&&(i=i*Vd(n)),po(i,r).toFixed(2)}function yE(n){if(n.prints_included_free==1)return 0;const{charge_type:t,color_prints_cost:e,color_prints_margin:r,color_prints_included:o}=n.global_print_cost;let i=o*e;return t=="monthly"&&(i=i*Vd(n)),po(i,r).toFixed(2)}function bE(n,t){const e=Vd(n),{charge_type:r,black_prints_cost:o,black_prints_margin:i,black_prints_included:a}=t.print_cost;if(n.prints_included_free==1)return 0;if(t.toner_accessories.length){let s=0;return t.toner_accessories.forEach(l=>{l.toner_type.toLowerCase()=="mono"&&(s+=a*(parseFloat(l.toner_cpp)+parseFloat(l.toner_mono_svc_pl_rate)))}),r=="monthly"?(s*e).toFixed(2):s.toFixed(2)}else{const s=a*o;return r=="monthly"?(po(s,i)*e).toFixed(2):po(s,i).toFixed(2)}}function wE(n,t){const e=Vd(n),{charge_type:r,color_prints_cost:o,color_prints_margin:i,color_prints_included:a}=t.print_cost;if(n.prints_included_free==1)return 0;if(t.toner_accessories.length){let s=0,l=0,u=0;return t.toner_accessories.forEach(c=>{l+=parseFloat(c.toner_cpp),!u&&c.toner_type=="color"&&(u=parseFloat(c.toner_color_svc_pl_rate))}),s+=a*(l+u),r=="monthly"?(s*e).toFixed(2):s.toFixed(2)}else{const s=a*o;if(r=="monthly"){const l=Vd(n);return(po(s,i)*l).toFixed(2)}else return po(s,i).toFixed(2)}}function Twe(n){let t=0;return n.cost_addons.forEach(e=>{e.charge_type=="one-time"&&(t+=HV(n,e))}),t}function Owe(n){let t=0;return n.cost_addons.forEach(e=>{(e.charge_type=="monthly"||e.charge_type=="fixed-monthly")&&(t+=HV(n,e))}),t}function Pwe(n,t){let e=0;const{lease_factor_provider:r,lease_term_offered:o,lease_type:i}=n,a=po(t.product.price,t.product.price_margin);e+=a*t.product.qty,t.accessories.forEach(u=>{u.dataset_attached&&(e+=po(u.accessory_price*u.qty,u.price_margin))}),t.custom_accessories.forEach(u=>{e+=po(u.price*u.qty,u.price_margin)});const s=r.lease_factors.find(u=>u.term===+o);return(e*s[i]).toFixed(2)}function BY(n){let t=0;const e=po(n.product.price,n.product.price_margin);return t+=e*n.product.qty,n.accessories.forEach(r=>{r.dataset_attached&&(t+=po(r.accessory_price*r.qty,r.price_margin))}),n.custom_accessories.forEach(r=>{t+=po(r.price*r.qty,r.price_margin)}),t.toFixed(2)}function HV(n,t){let e=0;const r=po(t.price*t.qty,t.price_margin);return t.charge_type=="monthly"?e+=r*Vd(n):e+=r,e}function Iwe(n){let t=0;return n.cart_items.forEach(e=>{e.product.charge_type=="monthly"&&(t+=po(e.product.price*e.product.qty,e.product.price_margin),Xw(e).forEach(r=>{t+=po(r.accessory_price*e.product.qty,r.price_margin)}),e.custom_accessories.forEach(r=>{t+=po(r.price*r.qty,r.price_margin)}))}),t}function Mwe(n){if(!n||n.prints_included_free==1)return 0;if(n.is_global_print_cost==1){let t=0;return n.global_print_cost.charge_type=="one-time"?0:(t+=Number(gE(n)),t+=Number(yE(n)),t)}else{let t=0;return n.cart_items.forEach(e=>{e.print_cost.charge_type!="one-time"&&(t+=Number(bE(n,e)),t+=Number(wE(n,e)))}),t}}function eI(n,t,e){return(Qm(n)/Vd(n)*Vd(n,t,e)).toFixed(2)}function Fwe(n){if(!n)return 0;let t=0;return t+=Twe(n),n.cart_items.forEach(e=>{e.product.charge_type=="one-time"&&(t+=Number(BY(e)))}),n.is_global_print_cost==1?n.global_print_cost.charge_type=="one-time"&&(t+=Number(gE(n)),t+=Number(yE(n))):n.cart_items.forEach(e=>{e.print_cost.charge_type=="one-time"&&(t+=Number(bE(n,e)),t+=Number(wE(n,e)))}),t}function Qm(n){if(!n)return 0;const t=Vd(n),e=Mwe(n),r=Owe(n);return Iwe(n)*t+e+r}const Cy=Vt(),{metrics:Dwe,proposal:Vi,products:Uwe,shortcodes:Lwe,backend_theme:Vwe,proposal_filters:fl,proposal_ai_filter:iA,proposal_signatures:c3}=Lt(Cy),jm=ae(()=>Vwe.value==="light"?`
        border-left:1px solid #d1d1d1;
        border-right:1px solid #d1d1d1;
        width: 205px;
      `:`
      border-left:1px solid #333;
      border-right:1px solid #333;
      width: 205px;
    `),Zw=ae(()=>Vi.value.acquisition_type=="lease"),Vf=ae(()=>Vi.value.acquisition_type=="purchase"),eD=ae(()=>{var t;const n=wn(Vi.value.lease_factor_provider);return!Vi.value.lease_factor_provider||Object.keys(n).length===0?[]:((t=Vi.value.lease_factor_provider)==null?void 0:t.lease_factors.map(e=>({title:`${e.term} months`,value:e.term})))??[]}),kY=ae(()=>location.origin+"/proposal/"+Vi.value.hash_code),Nwe=Oe([{title:"Copier Quote",value:"copier-lease",icon:"mdi-printer-pos-edit-outline"},{title:"IT Service Quote",value:"it-service",icon:"mdi-semantic-web"}]),lv=Oe([{value:"monthly",title:"Monthly",multiplier:1},{value:"annually",title:"Annually",multiplier:12},{value:"one-time",title:"One-Time",multiplier:1}]),Rwe=Oe([{key:"user",title:"User"},{key:"device",title:"Device"},{key:"server",title:"Server"},{key:"license",title:"License"},{key:"subscription",title:"Subscription"},{key:"hour",title:"Hour"},{key:"site",title:"Site"},{key:"project",title:"Project"},{key:"unit",title:"Unit"}]),Hwe=Oe([{title:"Name",value:"name"},{title:"SKU",value:"sku"},{title:"Category",value:"category"},{title:"Qty.",value:"qty"},{title:"Base Price",value:"base-price"},{title:"Margin (%)",value:"margin"},{title:"Sell Price",value:"sell-price"},{title:"Charge Type",value:"charge_type"},{title:"Subtotal",value:"Subtotal"}]),Qwe=Oe([{title:"Name",value:"name"},{title:"Category",value:"category"},{title:"Qty.",value:"qty"},{title:"Base Price",value:"base-price"},{title:"Margin (%)",value:"margin"},{title:"Sell Price",value:"sell-price"},{title:"Charge Type",value:"charge_type"},{title:"Subtotal",value:"subtotal"}]),TY=ae(()=>{const n=Lwe.value;return yh.value.forEach(t=>{n.push({value:`{${t.field_key}}`,title:t.field_label})}),n}),jwe=ae(()=>{var a;let n=[],t=((a=Pm.value)==null?void 0:a.supported_brands)??[];n=Uwe.value.filter(s=>t==null?void 0:t.includes(s.manufacturer_id)),fl.value.manufacturer_id&&(n=n.filter(s=>s.manufacturer_id===fl.value.manufacturer_id)),fl.value.filter_color&&(n=n.filter(s=>s.copier_color===fl.value.filter_color)),fl.value.connectivity.length&&(n=n.filter(s=>fl.value.connectivity.some(l=>s.connectivity.includes(l)))),fl.value.paper_sizes.length&&(n=n.filter(s=>fl.value.paper_sizes.some(l=>s.paper_size.includes(l))));const e=fl.value.print_volume_min,r=fl.value.print_volume_max;e!=null&&r!=null&&(n=n.filter(s=>{const l=Number(s.avg_monthly_prints);return l>e&&l<r}));const o=fl.value.print_speed_color;o!=null&&(n=n.filter(s=>Number(s.speed_color)>=o));const i=fl.value.print_speed_black;if(i!=null&&(n=n.filter(s=>Number(s.speed_black)>=i)),fl.value.search_filter.length){const s=fl.value.search_filter.toLowerCase();n=n.filter(l=>l.name.toLowerCase().includes(s)||l.oem_no.toLowerCase())}return n}),$we=ae(()=>iA.value.product_results),nu=ae(()=>["completed","accepted","archived"].includes(Vi.value.status)),tI=ae(()=>{const n=c3.value.filter(e=>e.status=="signed").length,t=c3.value.length;return n==t}),_E=n=>{Vi.value.it_service_items.splice(n,1)},Kwe=n=>{Vi.value.it_service_items.push({...n})},OY=n=>Dwe.value.find(t=>t.proposal_id==n),tD=n=>["accepted","completed"].includes(String(n.status)),d3=n=>n.show_contract_pages==1,Wwe=async n=>{const t=[...YL.value].slice(1),e=t.length,r=`
    Detect if any printer brand is mentioned by the user. Return ONLY the brand ID number or 0.

    VALID BRANDS:
    ${t.map(i=>`${i.id}=${i.name}`).join(", ")}

    EXAMPLES:
    ${e>0?`"Customer wants a ${t[0].name} printer" -> ${t[0].id}`:""}
    ${e>1?`"They're interested in ${t[1].name} copiers" -> ${t[1].id}`:""}
    ${e>2?`"Client prefers ${t[2].name} for their office" -> ${t[2].id}`:""}
    "Looking for a reliable printer" -> 0
    "Need a fast printer" -> 0

    RULES:
    - Return ONLY ONE brand ID (first mentioned if multiple)
    - Return 0 if no brand mentioned

    Return ONLY the brand ID number or "0". no explanation, no formatting.
  `,o=`Here's what the user said: "${iA.value.user_prompt.toLowerCase().trim()}"`;return await Qc(n,r,o)},zwe=async n=>{const t=`
    Detect Connectivity Features from what the customer said. Return ONLY comma-separated numbers.

    FEATURES:
    1=Bluetooth, 2=Wi-Fi Direct (no router), 3=USB, 4=Wi-Fi (needs router), 5=Ethernet

    KEY RULES:
    - "wifi direct" alone -> 2 only
    - "wifi and wifi direct" -> 2,4
    - "wireless" default -> 4
    - "wireless without router/network" -> 2
    - Nothing found -> 0

    EXAMPLES:
    "bluetooth and USB" -> 1,3
    "wifi direct" -> 2
    "wireless and ethernet" -> 4,5
    "wifi and wifi direct" -> 2,4
    "basic copier" -> 0

    Return CSV only, no explanation, no formatting.;
  `,e=`Here's what the customer said: "${iA.value.user_prompt.toLowerCase().trim()}"`,r=await Qc(n,t,e);if(r!=0)try{const o=[];return String(r).split(",").forEach(i=>{o.push(MY.value.find(a=>String(a.id)==i))}),o}catch{return[]}else return[]},Gwe=async n=>{const t=`
    Detect if customer wants color or monochrome printer. Return ONLY one word.

    RETURN VALUES:
    - "Color" if customer wants color printing
    - "B&W" if customer wants black and white/monochrome only
    - "0" if customer didn't specify color preference

    KEY INDICATORS:
    Color: "color printer", "print in color", "colored documents", "full color", "needs color"
    B&W: "black and white", "monochrome", "b&w", "grayscale", "no color needed", "just b&w"

    EXAMPLES:
    "Customer wants a color printer for their marketing materials" -> Color
    "They said black and white printing is fine" -> B&W
    "Looking for office printer with good speed" -> 0
    "Client mentioned monochrome is enough" -> B&W
    "They need to print colored graphics" -> Color
    "Customer: we only print invoices and documents" -> 0
    "Customer said: we need color for our brochures" -> Color

    Return ONLY: Color, B&W, or 0. No explanation, no formatting.
  `,e=`Here's what the customer said: "${iA.value.user_prompt.toLowerCase().trim()}"`;return await Qc(n,t,e)},Ywe=async n=>{const t=`
    Extract monthly print volume from what the user said. Return ONLY the number.

    EXAMPLES:
    "Customer prints 10000 pages a month" -> 10000
    "They do about 5k pages monthly" -> 5000
    "Around 2500 prints per month" -> 2500
    "Customer said: we print 15,000 pages every month" -> 15000
    "Looking for a fast printer" -> 0

    Return ONLY the number. If not specified, return 0.
  `,e=`Here's what the user said: "${iA.value.user_prompt.toLowerCase().trim()}"`;return await Qc(n,t,e)},Xwe=async n=>{const t=`
    Extract minimum print speed requirement from salesperson's description. Return ONLY the number (pages per minute).

    EXAMPLES:
    "Customer needs 30 ppm" -> 30
    "They want at least 25 pages per minute" -> 25
    "Need 50 ppm speed" -> 50
    "Customer wants fast printing, around 35 ppm" -> 35
    "They said 40 ppm for color" -> 40
    "Looking for a reliable printer" -> 0

    Return ONLY the number. If not specified, return 0.
  `,e=`Here's what the user said: "${iA.value.user_prompt.toLowerCase().trim()}"`;return await Qc(n,t,e)},Jwe=async n=>{const t=`
    You are a printer size identification assistant for sales quotes. Your task is to analyze user's request and identify which printer paper sizes they need.

    REFERENCE DATA:
    - A5: 5.8 x 8.3 inches (148 x 210 mm) - Small format
    - A4/Letter: 8.3 x 11.7 inches / 8.5 x 11 inches (210 x 297 mm / 216 x 279 mm) - Standard office size
    - Legal: 8.5 x 14 inches (216 x 356 mm) - US legal size
    - A3/Tabloid: 11.7 x 16.5 inches / 11 x 17 inches (297 x 420 mm / 279 x 432 mm) - Large format
    - A2: 16.5 x 23.4 inches (420 x 594 mm) - Extra large format
    - A1: 23.4 x 33.1 inches (594 x 841 mm) - Very large format
    - A0: 33.1 x 46.8 inches (841 x 1189 mm) - Largest standard format
    - 24-inch: 24 inches wide - Small wide format
    - 36-inch: 36 inches wide - Medium wide format
    - 44-inch: 44 inches wide - Large wide format
    - 60-inch+: 60 inches or wider - Extra large wide format

    VALID OUTPUT VALUES (use EXACTLY as written):
    A5
    A4/Letter
    Legal
    A3/Tabloid
    A2
    A1
    A0
    24-inch
    36-inch
    44-inch
    60-inch+

    IMPORTANT EQUIVALENCIES:
    - A4 and Letter (8.5x11)  return "A4/Letter"
    - A3 and Tabloid (11x17)  return "A3/Tabloid"
    - "Desktop printer" or "office printer" typically means A4/Letter or Legal max
    - "Wide format" or "plotter" typically means 24-inch or larger
    - Dimensions in inches or mm should match closest size

    INSTRUCTIONS:
    1. Analyze the user's request for paper size requirements
    2. Identify ALL mentioned sizes or implied sizes
    3. Return ONLY a comma-separated list using the EXACT strings from "VALID OUTPUT VALUES" above
    4. Match the exact casing and formatting (e.g., "A4/Letter" not "a4/letter" or "A4-Letter")
    5. If multiple sizes are mentioned, include all of them separated by commas with no spaces
    6. If no specific size is mentioned, return an empty string (nothing)
    7. Do not include explanations, only return the CSV list or empty string

    EXAMPLES:
    User: "I want an A4 printer"  Output: A4/Letter
    User: "Need a printer that supports 8.5x11"  Output: A4/Letter
    User: "Looking for something that does 11x17"  Output: A3/Tabloid
    User: "Wide format for posters, maybe 36 inch"  Output: 36-inch
    User: "Just a standard office printer"  Output: A4/Letter,Legal
    User: "Large format, A2 or A1"  Output: A2,A1
    User: "Desktop printer for letter and legal"  Output: A4/Letter,Legal
    User: "44 inch wide format plotter"  Output: 44-inch
    User: "Any printer is fine"  Output:
    User: "I need a printer"  Output:

    Now analyze the following user request and return only the CSV list of matching sizes.
  `,e=`
    Here's the user's request: "${iA.value.user_prompt.toLowerCase().trim()}"
  `;return await Qc(n,t,e)},Zwe=async n=>{const t=`
    Summarize the user's printer search criteria and state that ${iA.value.product_results.length} matching products were found.
    Format: "You searched for [criteria]. We found [number] products that match your search."
    If product count > 10: Add "For more accurate results, try refining your search criteria."
  `,e=`Here's what the user said: "${iA.value.user_prompt.toLowerCase().trim()}"`;return await Qc(n,t,e)},nD=n=>{Vi.value.cart_items.push({type:n.item_type,product:{id:n.id??null,qty:n.qty??1,name:n.product_name??"",description:n.product_desc??"",price:wF(n.product_price)??0,price_margin:wF(n.product_margin)??0,charge_type:Vf.value?"one-time":"monthly",image:n.product_image??"",manufacturer:n.product_brand??"",oem_no:n.product_oem_no??"",sku_no:n.product_sku_no??""},print_cost:{charge_type:"fixed-monthly",black_prints_included:0,color_prints_included:0,black_prints_cost:n.black_prints_cost??0,color_prints_cost:n.color_prints_cost??0,black_prints_margin:0,color_prints_margin:0,black_overage_cost:Sd("global_overage_cost_black")??0,color_overage_cost:Sd("global_overage_cost_color")??0},accessories:n.accessories??[],custom_accessories:[],toner_accessories:[]})},ym=(n,t)=>Vi.value.cart_items[t].custom_accessories.some(e=>e.id==n.id),PY=(n,t)=>{if(!ym(n,t))console.log("ToggleCustomAccessory: ",n),Vi.value.cart_items[t].custom_accessories.push({id:n.id??null,qty:1,name:n.name,type:n.item_type??"accessory",price:n.price,price_margin:n.margin??0,image:n.image,oem_no:n.oem_no,sku_no:n.sku_no}),Cy.ShowSuccess("Accessory added!");else{const e=Vi.value.cart_items[t].custom_accessories.findIndex(r=>r.id==n.id);e!==-1&&(Vi.value.cart_items[t].custom_accessories.splice(e,1),Cy.ShowSuccess("Accessory removed!"))}},$S=(n,t)=>Vi.value.cart_items[t].toner_accessories.some(e=>e.id==n.id),qwe=(n,t)=>{if(!$S(n,t))Vi.value.cart_items[t].toner_accessories.push({id:n.id,qty:1,name:n.name,type:n.item_type,price:n.price,price_margin:n.margin,image:n.image,oem_no:n.oem_no,sku_no:n.sku_no,toner_cpp:n.toner_cpp,toner_type:n.toner_type,toner_yield:n.toner_yield,toner_yield_factor:n.toner_yield_factor,toner_mono_svc_pl_rate:n.toner_mono_svc_pl_rate,toner_color_svc_pl_rate:n.toner_color_svc_pl_rate}),Cy.ShowSuccess("Toner added!");else{const e=Vi.value.cart_items[t].toner_accessories.findIndex(r=>r.id==n.id);e!==-1&&(Vi.value.cart_items[t].toner_accessories.splice(e,1),Cy.ShowSuccess("Toner removed!"))}},IY=async(n,t)=>{const e=e_e(n,t);if(e.length<=0)n.dataset_attached=!1;else{let r="Accessories dependent on this will be removed. Continue? <br>"+e.map(i=>`- ${bd(i.accessory_id).name}`).join("<br>");await Cy.OpenDialog("Confirm Action",r)&&(e.forEach(i=>{i.dataset_attached=!1}),n.dataset_attached=!1)}},e_e=(n,t)=>{const e=[];return t.forEach(r=>{JSON.parse(gm(r.dataset_id).rules).forEach(i=>{(i.type=="require_one"||i.type=="require_all")&&i.items.forEach(a=>{a==n.dataset_id&&r.dataset_attached&&e.push(r)})})}),e},t_e=ae(()=>[{title:"Select Color",value:null},{title:"Color",value:"Color"},{title:"Monochrome",value:"B&W"}]),MY=ae(()=>[{id:1,name:"Bluetooth",patterns:[/\bbluetooth\b/i,/\bblue\s*tooth\b/i,/\bblue-tooth\b/i,/\bbt\s+connect/i,/\bbluetooth\s+connect/i,/\bwith\s+bluetooth\b/i,/\bhas\s+bluetooth\b/i,/\bneed\s+bluetooth\b/i,/\bsupport\s+bluetooth\b/i]},{id:2,name:"Wi-Fi Direct",patterns:[/\bwi\s*fi\s+direct\b/i,/\bwifi\s+direct\b/i,/\bwi-fi\s+direct\b/i,/\bdirect\s+wi\s*fi\b/i,/\bdirect\s+wifi\b/i]},{id:3,name:"USB",patterns:[/\busb\b/i,/\bu\.s\.b\.\b/i,/\busb\s+port/i,/\busb\s+connect/i]},{id:4,name:"Wi-Fi",patterns:[/\bwi\s*fi\b/i,/\bwifi\b/i,/\bwi-fi\b/i,/\bwireless\b/i,/\bw\.i\.f\.i\.\b/i]},{id:5,name:"Ethernet",patterns:[/\bethernet\b/i,/\bwired\s+network/i,/\blan\s+port/i,/\bnetwork\s+cable/i,/\brj45\b/i,/\brj-45\b/i]}]),FY=n=>{let t=0;return n.items.forEach(e=>{const r=po(e.unit_price*e.quantity,e.price_margin);t+=r*QV(e.charge_type)}),t},QV=n=>{const t=lv.value.find(e=>e.value===n);return t?+t.multiplier:1},n_e=()=>{let n=0;return Vi.value.it_service_items.forEach(t=>{t.items.forEach(e=>{if(e.charge_type==="one-time"){const r=po(e.unit_price*e.quantity,e.price_margin);n+=r*QV(e.charge_type)}})}),n},r_e=()=>{let n=0;return Vi.value.it_service_items.forEach(t=>{t.items.forEach(e=>{if(e.charge_type!=="one-time"){const r=po(e.unit_price*e.quantity,e.price_margin);n+=r*QV(e.charge_type)}})}),n},DY=Vt(),{SetState:f3,ShowError:o_e}=DY,{proposal:ih,profile:Xg}=Lt(DY),Qc=async(n,t,e="")=>{f3({llm_fetching:!0});const r=new FormData,o=[{role:"system",content:t}];return e.length&&o.push({role:"user",content:e}),r.append("history",JSON.stringify(o)),sn(n).post("/prompt/generate",r).then(i=>i.data).finally(()=>{f3({llm_fetching:!1})})};async function i_e(n){var e;if(!vE().length)return o_e("Please select at least 1 product");const t=`
    You are a helpful assistant that writes warm, professional, and persuasive cover letters to a ccompany lease proposals for business equipment or IT Services.
    Your task is to draft a personalized cover letter to be included in a formal proposal sent to a prospective client.
    The tone should be professional and courteous, yet friendly and approachablemaking the recipient feel confident in doing business.

    Proposal Details:
    - Product(s): ${vE()}
    - First name: ${ih.value.first_name}
    - Last name: ${ih.value.last_name}
    - Company name: ${ih.value.company_name}
    - Proposal Author: ${(e=Xg==null?void 0:Xg.value)==null?void 0:e.name}
    - Proposal Author Company: ${Im.value}
    - Monthly Payment Offer: ${Qm(ih.value)} per month
    - Lease Term Offer: ${ih.value.lease_term_offered} months

    Context and Guidelines:
    - Personalize the letter using the client's first name and company name naturally in the body.
    - Mention the proposed product(s) in a professional, benefit-driven way.
    - Your letter should briefly introduce the leasing offer, express appreciation for the opportunity, and highlight the value and reliability of the equipment being proposed.
    - Do not go into technical specifications, but feel free to mention benefits like reliability, suitability for business environments, and long-term support.
    - Try to mention Monthly Payment Offer and Lease Term Offer in a way that they sound appealing and beneficial to the client.
    - Invite the client to reach out with any questions or clarifications.
    - Always end on a positive and professional note.
    - Keep the letter concise: around 150250 words.

    Output Instructions:
    - Return the entire letter formatted as valid HTML, ready to be pasted into a WYSIWYG editor.
    - Create new lines using <br> tags for each distinct thought or section (e.g., greeting, intro, body, sign-off) for proper spacing between paragraphs.
    - Every new though MUST be separated with one new <br> lines.
    - Use <br> tags to force spacing between paragraphs especially after "Hello Jesse," and before "best regards" should have 2 blank new lines
    - Use <strong> or <em> where emphasis is needed, if relevant.
    - Begin directly with the greeting (e.g., <p>Hello Jesse,</p>) and end with a proper sign-off (e.g., <p>Best regards,<br>[Author Name]<br>[Author Company]</p>).
    - Highlight the product names in <strong>
    - Do not nest <p> tags, and avoid putting multiple paragraphs inside one <p>.
    - Do not include any meta-comments, markdown, explanations, or placeholder tags.
    - Do not wrap the entire letter in <html>, <body>, or <div> unless specifically part of the letters style.
  `;return await Qc(n,t)}async function UY(n){const t=`
    You are an assistant that generates concise and professional proposal titles based on minimal input.
    Your task is to generate a clear, business-friendly title for a lease proposal document. The title should reflect the product(s) being offered and the client company it is prepared for.

    Proposal Details:
    - Product(s): ${vE()}
    - Lead Company name: ${ih.value.company_name}

    Guidelines:
    - The title must include the the Lead Company Name.
    - Use a professional and formal tone. Avoid marketing fluff.
    - Keep the title under 10 words.
    - If Product(s) are provided, ONLY include the Product's BRAND
    - Do not include placeholder tags or brackets.
    - Do not explain your answerreturn only the plain title.
    - Do not assume or provide an answer outside of given data.
    - Do not say it is an agreement, it's just a Proposal.
    - If NO PRODUCT was given, suggest a title e.g. "Proposal for [lead company name]"
    - The very ideal sounding title would be "[product brand] Proposal for [lead company name]"
  `;return await Qc(n,t)}async function a_e(n){var r;const t=bF.value.length?"- DO NOT INCLUDE A SIGNATURE OR SIGN-OFF at the end of the email. The signature will be added automatically. End the email body right after the main message content.":"",e=`
    You are a helpful assistant that writes warm, professional, and persuasive email messages to accompany lease proposals for business equipment, usually multifunction printers or copiers.
    Your task is to draft a personalized email body to be included in a formal message sent to a prospective client. The tone should be professional and courteous, yet friendly and approachablemaking the recipient feel confident in doing business.

    Proposal Details:
    - Product(s): ${vE()}
    - Contact First name: ${ih.value.first_name}
    - Contact Company name: ${ih.value.company_name}
    - Proposal Author: ${(r=Xg==null?void 0:Xg.value)==null?void 0:r.name}
    - Proposal Author Company: ${Im.value}
    - Proposal Link: ${kY.value}

    Context and Guidelines:
    - Personalize the email using the client's first name and company name naturally in the body.
    - Mention the proposed product(s) in a professional, benefit-driven way.
    - Invite the client to reach out with any questions or clarifications.
    - Always end on a positive and professional note.
    - Keep the message concise: around 50 words.
    - Include the Proposal Link in the email body, and mention it in the email content.
    - Assume this content will be pasted as the email body, not as an attachment or separate letter.
    ${t}

    Output Instructions:
    - Return the entire email body formatted as valid HTML, ready to be pasted directly into an email or WYSIWYG editor.
    - Create new lines using <br> tags for each distinct thought or section (e.g., greeting, intro, body, sign-off) for proper spacing between paragraphs.
    - Every new thought MUST be separated with one new <br> tags.
    - Use <strong> or <em> where emphasis is needed, if relevant.
    - Begin directly with the greeting (e.g., <p>Hello Jesse,</p>) and end with a proper sign-off (e.g., <p>Best regards,<br>[Author Name]<br>[Author Company]</p>).
    - Highlight the product names in <strong>.
    - Do not nest <p> tags, and avoid putting multiple paragraphs inside one <p>.
    - The proposal link should be in plain text.
    - Do not wrap the entire message in <html>, <body>, or <div> unless specifically part of the message's style.
    ${t}
  `;return await Qc(n,e)}const s_e=it({alwaysFilter:Boolean,autoSelectFirst:{type:[Boolean,String]},clearOnSelect:{type:Boolean,default:!0},delimiters:Array,...vG({filterKeys:["title"]}),...zz({hideNoData:!0,returnObject:!0}),...Ir(oV({modelValue:null,role:"combobox"}),["validationValue","dirty"])},"VCombobox"),Wy=Dt()({name:"VCombobox",props:s_e(),emits:{"update:focused":n=>!0,"update:modelValue":n=>!0,"update:search":n=>!0,"update:menu":n=>!0},setup(n,t){var te;let{emit:e,slots:r}=t;const{t:o}=Ri(),i=Oe(),a=It(!1),s=It(!0),l=It(!1),u=Oe(),c=Oe(),d=It(-1);let f=!1;const{items:h,transformIn:p,transformOut:v}=Rz(n),{textColorClasses:g,textColorStyles:_}=Il(()=>{var ee;return(ee=i.value)==null?void 0:ee.color}),{InputIcon:S}=zk(n),y=Mn(n,"modelValue",[],ee=>p(ao(ee)),ee=>{const Ae=v(ee);return n.multiple?Ae:Ae[0]??null}),C=Yk(n),T=ze(()=>n.closableChips&&!C.isReadonly.value&&!C.isDisabled.value),P=ae(()=>!!(n.chips||r.chip)),F=ae(()=>P.value||!!r.selection),I=It(!n.multiple&&!F.value?((te=y.value[0])==null?void 0:te.title)??"":""),k=It(null),M=ae({get:()=>I.value,set:async ee=>{var Ae;if(I.value=ee??"",ee===null||ee===""&&!n.multiple&&!F.value?y.value=[]:!n.multiple&&!F.value&&(y.value=[xc(n,ee)],tr(()=>{var xe;return(xe=c.value)==null?void 0:xe.scrollToIndex(0)})),ee&&n.multiple&&((Ae=n.delimiters)!=null&&Ae.length)){const xe=me(ee);xe.length>1&&(Ve(xe),I.value="")}ee||(d.value=-1),s.value=!ee}}),V=ae(()=>typeof n.counterValue=="function"?n.counterValue(y.value):typeof n.counterValue=="number"?n.counterValue:n.multiple?y.value.length:M.value.length),{filteredItems:U,getMatches:$}=gG(n,h,()=>k.value??(n.alwaysFilter||!s.value?M.value:"")),Q=ae(()=>n.hideSelected&&k.value===null?U.value.filter(ee=>!y.value.some(Ae=>Ae.value===ee.value)):U.value),J=ae(()=>n.hideNoData&&!Q.value.length||C.isReadonly.value||C.isDisabled.value),R=Mn(n,"menu"),ne=ae({get:()=>R.value,set:ee=>{var Ae;R.value&&!ee&&((Ae=u.value)!=null&&Ae.openChildren.size)||ee&&J.value||(R.value=ee)}}),{menuId:ue,ariaExpanded:we,ariaControls:Be}=Wz(n,ne);lt(I,ee=>{f?tr(()=>f=!1):a.value&&!ne.value&&(ne.value=!0),e("update:search",ee)}),lt(y,ee=>{var Ae;!n.multiple&&!F.value&&(I.value=((Ae=ee[0])==null?void 0:Ae.title)??"")});const We=ae(()=>y.value.map(ee=>ee.value)),pe=ae(()=>Q.value.find(ee=>ee.type==="item"&&!ee.props.disabled)),_e=ae(()=>{var Ae;return(n.autoSelectFirst===!0||n.autoSelectFirst==="exact"&&M.value===((Ae=pe.value)==null?void 0:Ae.title))&&Q.value.length>0&&!s.value&&!l.value}),Ce=Oe(),ve=Kz(Ce,i);function Qe(ee){f=!0,tr(()=>f=!1),n.openOnClear&&(ne.value=!0)}function se(){J.value||(ne.value=!0)}function Te(ee){J.value||(a.value&&(ee.preventDefault(),ee.stopPropagation()),ne.value=!ne.value)}function je(ee){var Ae;(Vx(ee)||ee.key==="Backspace")&&((Ae=i.value)==null||Ae.focus())}function nt(ee){var he,Pe,Ee,st;if(kse(ee)||C.isReadonly.value)return;const Ae=(he=i.value)==null?void 0:he.selectionStart,xe=y.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(ee.key)&&ee.preventDefault(),["Enter","ArrowDown"].includes(ee.key)&&(ne.value=!0),["Escape"].includes(ee.key)&&(ne.value=!1),_e.value&&["Enter","Tab"].includes(ee.key)&&pe.value&&!y.value.some(kt=>{let{value:Rt}=kt;return Rt===pe.value.value})&&be(pe.value),ee.key==="ArrowDown"&&_e.value&&((Pe=Ce.value)==null||Pe.focus("next")),ee.key==="Enter"&&M.value&&(be(xc(n,M.value),!0,!0),F.value&&(I.value="")),["Backspace","Delete"].includes(ee.key)){if(!n.multiple&&F.value&&y.value.length>0&&!M.value)return be(y.value[0],!1);if(~d.value){ee.preventDefault();const kt=d.value;be(y.value[d.value],!1),d.value=kt>=xe-1?xe-2:kt}else ee.key==="Backspace"&&!M.value&&(d.value=xe-1);return}if(n.multiple)if(ee.key==="ArrowLeft"){if(d.value<0&&Ae&&Ae>0)return;const kt=d.value>-1?d.value-1:xe-1;y.value[kt]?d.value=kt:(d.value=-1,(Ee=i.value)==null||Ee.setSelectionRange(M.value.length,M.value.length))}else if(ee.key==="ArrowRight"){if(d.value<0)return;const kt=d.value+1;y.value[kt]?d.value=kt:(d.value=-1,(st=i.value)==null||st.setSelectionRange(0,0))}else~d.value&&Vx(ee)&&(d.value=-1)}function tt(ee){var he;const Ae=((he=ee==null?void 0:ee.clipboardData)==null?void 0:he.getData("Text"))??"",xe=me(Ae);xe.length>1&&n.multiple&&(ee.preventDefault(),Ve(xe))}function ot(){var ee;n.eager&&((ee=c.value)==null||ee.calculateVisibleItems())}function ye(){var ee;a.value&&((ee=i.value)==null||ee.focus()),s.value=!0,k.value=null}function be(ee){let Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!(!ee||ee.props.disabled))if(n.multiple){const he=y.value.findIndex(Ee=>(n.valueComparator||Ua)(Ee.value,ee.value)),Pe=Ae??!~he;if(~he){const Ee=Pe?[...y.value,ee]:[...y.value];Ee.splice(he,1),y.value=Ee}else Pe&&(y.value=[...y.value,ee]);n.clearOnSelect&&(M.value="")}else{const he=Ae!==!1;y.value=he?[ee]:[],(!s.value||n.alwaysFilter)&&I.value&&(k.value=I.value),I.value=he&&!F.value?ee.title:"",tr(()=>{ne.value=xe,s.value=!0})}}function me(ee){const xe=[`
`,...n.delimiters??[]].map(Dse).join("|");return ee.split(new RegExp(`(?:${xe})+`))}async function Ve(ee){for(let Ae of ee)Ae=Ae.trim(),Ae&&(be(xc(n,Ae)),await tr())}function Ie(ee){a.value=!0,setTimeout(()=>{l.value=!0})}function K(ee){l.value=!1}return lt(a,(ee,Ae)=>{if(!(ee||ee===Ae)&&(d.value=-1,ne.value=!1,M.value)){if(n.multiple){be(xc(n,M.value));return}if(!F.value)return;y.value.some(xe=>{let{title:he}=xe;return he===M.value})?I.value="":be(xc(n,M.value))}}),lt(ne,ee=>{if(!n.hideSelected&&ee&&y.value.length&&s.value){const Ae=Q.value.findIndex(xe=>y.value.some(he=>(n.valueComparator||Ua)(he.value,xe.value)));Rr&&window.requestAnimationFrame(()=>{var xe;Ae>=0&&((xe=c.value)==null||xe.scrollToIndex(Ae))})}ee&&(k.value=null)}),lt(h,(ee,Ae)=>{ne.value||a.value&&!Ae.length&&ee.length&&(ne.value=!0)}),Kt(()=>{const ee=!!(!n.hideNoData||Q.value.length||r["prepend-item"]||r["append-item"]||r["no-data"]),Ae=y.value.length>0,xe=_t.filterProps(n);return x(_t,bt({ref:i},xe,{modelValue:M.value,"onUpdate:modelValue":he=>M.value=he,focused:a.value,"onUpdate:focused":he=>a.value=he,validationValue:y.externalValue,counterValue:V.value,dirty:Ae,class:["v-combobox",{"v-combobox--active-menu":ne.value,"v-combobox--chips":!!n.chips,"v-combobox--selection-slot":!!F.value,"v-combobox--selecting-index":d.value>-1,[`v-combobox--${n.multiple?"multiple":"single"}`]:!0},n.class],style:n.style,readonly:C.isReadonly.value,placeholder:Ae?void 0:n.placeholder,"onClick:clear":Qe,"onMousedown:control":se,onKeydown:nt,onPaste:tt,"aria-expanded":we.value,"aria-controls":Be.value}),{...r,default:he=>{let{id:Pe}=he;return H(ut,null,[x(jy,bt({id:ue.value,ref:u,modelValue:ne.value,"onUpdate:modelValue":Ee=>ne.value=Ee,activator:"parent",contentClass:"v-combobox__content",disabled:J.value,eager:n.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,onAfterEnter:ot,onAfterLeave:ye},n.menuProps),{default:()=>[ee&&x(Dm,bt({ref:Ce,filterable:!0,selected:We.value,selectStrategy:n.multiple?"independent":"single-independent",onMousedown:Ee=>Ee.preventDefault(),selectable:!!Q.value.length,onKeydown:je,onFocusin:Ie,onFocusout:K,tabindex:"-1","aria-live":"polite","aria-labelledby":`${Pe.value}-label`,"aria-multiselectable":n.multiple,color:n.itemColor??n.color},ve,n.listProps),{default:()=>{var Ee,st,kt;return[(Ee=r["prepend-item"])==null?void 0:Ee.call(r),!Q.value.length&&!n.hideNoData&&(((st=r["no-data"])==null?void 0:st.call(r))??x(Cr,{key:"no-data",title:o(n.noDataText)},null)),x($z,{ref:c,renderless:!0,items:Q.value,itemKey:"value"},{default:Rt=>{var De,rt,mt;let{item:Y,index:ie,itemRef:G}=Rt;const He=bt(Y.props,{ref:G,key:Y.value,active:_e.value&&Y===pe.value?!0:void 0,onClick:()=>be(Y,null),"aria-posinset":ie+1,"aria-setsize":Q.value.length});return Y.type==="divider"?((De=r.divider)==null?void 0:De.call(r,{props:Y.raw,index:ie}))??x(Dd,bt(Y.props,{key:`divider-${ie}`}),null):Y.type==="subheader"?((rt=r.subheader)==null?void 0:rt.call(r,{props:Y.raw,index:ie}))??x(uV,bt(Y.props,{key:`subheader-${ie}`}),null):((mt=r.item)==null?void 0:mt.call(r,{item:Y,index:ie,props:He}))??x(Cr,bt(He,{role:"option"}),{prepend:ft=>{let{isSelected:gt}=ft;return H(ut,null,[n.multiple&&!n.hideSelected?x(cs,{key:Y.value,modelValue:gt,ripple:!1,tabindex:"-1","aria-hidden":!0,onClick:St=>St.preventDefault()},null):void 0,Y.props.prependAvatar&&x(Nh,{image:Y.props.prependAvatar},null),Y.props.prependIcon&&x(en,{icon:Y.props.prependIcon},null)])},title:()=>{var ft;return s.value?Y.title:Mhe("v-combobox",Y.title,(ft=$(Y))==null?void 0:ft.title)}})}}),(kt=r["append-item"])==null?void 0:kt.call(r)]}})]}),y.value.map((Ee,st)=>{function kt(G){G.stopPropagation(),G.preventDefault(),be(Ee,!1)}const Rt=bt(Fl.filterProps(Ee.props),{"onClick:close":kt,onKeydown(G){G.key!=="Enter"&&G.key!==" "||(G.preventDefault(),G.stopPropagation(),kt(G))},onMousedown(G){G.preventDefault(),G.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0}),Y=P.value?!!r.chip:!!r.selection,ie=Y?TL(P.value?r.chip({item:Ee,index:st,props:Rt}):r.selection({item:Ee,index:st})):void 0;if(!(Y&&!ie))return H("div",{key:Ee.value,class:pt(["v-combobox__selection",st===d.value&&["v-combobox__selection--selected",g.value]]),style:Ue(st===d.value?_.value:{})},[P.value?r.chip?x(Lr,{key:"chip-defaults",defaults:{VChip:{closable:T.value,size:"small",text:Ee.title}}},{default:()=>[ie]}):x(Fl,bt({key:"chip",closable:T.value,size:"small",text:Ee.title,disabled:Ee.props.disabled},Rt),null):ie??H("span",{class:"v-combobox__selection-text"},[Ee.title,n.multiple&&st<y.value.length-1&&H("span",{class:"v-combobox__selection-comma"},[Je(",")])])])})])},"append-inner":function(){var st,kt;for(var he=arguments.length,Pe=new Array(he),Ee=0;Ee<he;Ee++)Pe[Ee]=arguments[Ee];return H(ut,null,[(st=r["append-inner"])==null?void 0:st.call(r,...Pe),(!n.hideNoData||n.items.length)&&n.menuIcon?x(en,{class:"v-combobox__menu-icon",color:(kt=i.value)==null?void 0:kt.fieldIconColor,icon:n.menuIcon,onMousedown:Te,onClick:Ise,"aria-hidden":!0,tabindex:"-1"},null):void 0,n.appendInnerIcon&&x(S,{key:"append-icon",name:"appendInner",color:Pe[0].iconColor.value},null)])}})}),nl({isFocused:a,isPristine:s,menu:ne,search:M,selectionIndex:d,filteredItems:U,select:be},i)}}),l_e=it({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:n=>!isNaN(parseFloat(n))},maxHeight:{type:[Number,String],validator:n=>!isNaN(parseFloat(n))},maxRows:{type:[Number,String],validator:n=>!isNaN(parseFloat(n))},suffix:String,modelModifiers:Object,...mz(),...Ir(Yh(),["direction"]),...Gk()},"VTextarea"),pT=Dt()({name:"VTextarea",directives:{vIntersect:Vh},inheritAttrs:!1,props:l_e(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0,"update:rows":n=>!0},setup(n,t){let{attrs:e,emit:r,slots:o}=t;const i=Mn(n,"modelValue"),{isFocused:a,focus:s,blur:l}=av(n),{onIntersect:u}=vz(n),c=ae(()=>typeof n.counterValue=="function"?n.counterValue(i.value):(i.value||"").toString().length),d=ae(()=>{if(e.maxlength)return e.maxlength;if(!(!n.counter||typeof n.counter!="number"&&typeof n.counter!="string"))return n.counter}),f=Oe(),h=Oe(),p=It(""),v=Oe(),g=Oe(0),{platform:_}=dA(),S=rV(n),y=ae(()=>n.persistentPlaceholder||a.value||n.active);function C(){var Q;S.isSuppressing.value&&S.update(),v.value!==document.activeElement&&((Q=v.value)==null||Q.focus()),a.value||s()}function T(Q){C(),r("click:control",Q)}function P(Q){r("mousedown:control",Q)}function F(Q){Q.stopPropagation(),C(),tr(()=>{i.value="",D_(n["onClick:clear"],Q)})}function I(Q){var we;const J=Q.target;if(!((we=n.modelModifiers)!=null&&we.trim)){i.value=J.value;return}const R=J.value,ne=J.selectionStart,ue=J.selectionEnd;i.value=R,tr(()=>{let Be=0;R.trimStart().length===J.value.length&&(Be=R.length-J.value.length),ne!=null&&(J.selectionStart=ne-Be),ue!=null&&(J.selectionEnd=ue-Be)})}const k=Oe(),M=Oe(Number(n.rows)),V=ae(()=>["plain","underlined"].includes(n.variant));mo(()=>{n.autoGrow||(M.value=Number(n.rows))});function U(){tr(()=>{if(!v.value)return;if(_.value.firefox){g.value=12;return}const{offsetWidth:Q,clientWidth:J}=v.value;g.value=Math.max(0,Q-J)}),n.autoGrow&&tr(()=>{if(!k.value||!h.value)return;const Q=getComputedStyle(k.value),J=getComputedStyle(h.value.$el),R=parseFloat(Q.getPropertyValue("--v-field-padding-top"))+parseFloat(Q.getPropertyValue("--v-input-padding-top"))+parseFloat(Q.getPropertyValue("--v-field-padding-bottom")),ne=k.value.scrollHeight,ue=parseFloat(Q.lineHeight),we=Math.max(parseFloat(n.rows)*ue+R,parseFloat(J.getPropertyValue("--v-input-control-height"))),Be=n.maxHeight?parseFloat(n.maxHeight):parseFloat(n.maxRows)*ue+R||1/0,We=To(ne??0,we,Be);M.value=Math.floor((We-R)/ue),p.value=$t(We)})}Kn(U),lt(i,U),lt(()=>n.rows,U),lt(()=>n.maxHeight,U),lt(()=>n.maxRows,U),lt(()=>n.density,U),lt(M,Q=>{r("update:rows",Q)});let $;return lt(k,Q=>{Q?($=new ResizeObserver(U),$.observe(k.value)):$==null||$.disconnect()}),Ti(()=>{$==null||$.disconnect()}),Kt(()=>{const Q=!!(o.counter||n.counter||n.counterValue),J=!!(Q||o.details),[R,ne]=Gh(e),{modelValue:ue,...we}=Ml.filterProps(n),Be={...hy.filterProps(n),"onClick:clear":F};return x(Ml,bt({ref:f,modelValue:i.value,"onUpdate:modelValue":We=>i.value=We,class:["v-textarea v-text-field",{"v-textarea--prefixed":n.prefix,"v-textarea--suffixed":n.suffix,"v-text-field--prefixed":n.prefix,"v-text-field--suffixed":n.suffix,"v-textarea--auto-grow":n.autoGrow,"v-textarea--no-resize":n.noResize||n.autoGrow,"v-input--plain-underlined":V.value},n.class],style:[{"--v-textarea-max-height":n.maxHeight?$t(n.maxHeight):void 0,"--v-textarea-scroll-bar-width":$t(g.value)},n.style]},R,we,{centerAffix:M.value===1&&!V.value,focused:a.value}),{...o,default:We=>{let{id:pe,isDisabled:_e,isDirty:Ce,isReadonly:ve,isValid:Qe,hasDetails:se}=We;return x(hy,bt({ref:h,style:{"--v-textarea-control-height":p.value},onClick:T,onMousedown:P,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"]},Be,{id:pe.value,active:y.value||Ce.value,labelId:`${pe.value}-label`,centerAffix:M.value===1&&!V.value,dirty:Ce.value||n.dirty,disabled:_e.value,focused:a.value,details:se.value,error:Qe.value===!1}),{...o,default:Te=>{let{props:{class:je,...nt},controlRef:tt}=Te;return H(ut,null,[n.prefix&&H("span",{class:"v-text-field__prefix"},[n.prefix]),Qn(H("textarea",bt({ref:ot=>v.value=tt.value=ot,class:je,value:i.value,onInput:I,autofocus:n.autofocus,readonly:ve.value,disabled:_e.value,placeholder:n.placeholder,rows:n.rows,name:S.fieldName.value,autocomplete:S.fieldAutocomplete.value,onFocus:C,onBlur:l,"aria-labelledby":`${pe.value}-label`},nt,ne),null),[[Vh,{handler:u},null,{once:!0}]]),n.autoGrow&&Qn(H("textarea",{class:pt([je,"v-textarea__sizer"]),id:`${nt.id}-sizer`,"onUpdate:modelValue":ot=>i.value=ot,ref:k,readonly:!0,"aria-hidden":"true"},null),[[vw,i.value]]),n.suffix&&H("span",{class:"v-text-field__suffix"},[n.suffix])])}})},details:J?We=>{var pe;return H(ut,null,[(pe=o.details)==null?void 0:pe.call(o,We),Q&&H(ut,null,[H("span",null,null),x(tV,{active:n.persistentCounter||a.value,value:c.value,max:d.value,disabled:n.disabled},o.counter)])])}:void 0})}),nl({},f,h,v)}}),u_e={key:0},c_e={class:"mt-5 d-flex justify-space-between"},d_e={class:"d-flex align-center"},f_e={key:0},A_e=rn({__name:"MyProductEditor",props:["product_id","product_type"],emits:["refresh"],setup(n,{emit:t}){const e=Vt(),r=Oe(!1),o=Oe(null),i=Oe("upload"),a=t,{getAccessTokenSilently:s}=Er(),l=Oe([{title:"Mono",value:"mono"},{title:"Color",value:"color"}]),u=Oe(""),c=Oe(null),{modals:d,my_products:f}=Lt(Vt()),h=()=>{var y;(y=c.value)!=null&&y.id?(u.value="",setTimeout(()=>{const C=wn(f.value.find(T=>T.id==n.product_id));c.value&&(c.value.image=C.image)},100)):(u.value="",c.value&&(c.value.image=""))},p=async()=>{const y=new FormData,C=await s();o.value&&y.append("image",o.value),y.append("product",JSON.stringify(c.value)),sn(C).post("/inventory/submit-product",y).then(T=>{a("refresh"),console.log(T.data),e.ShowSuccess(T.data.message),d.value.my_product_editor=!1})},v=()=>{c.value={id:null,partner_id:vr.value,user_id:Ys.value,file_id:null,name:"",item_type:n.product_type??"product",manufacturer:"",description:"",price:0,margin:0,toner_cpp:0,toner_type:"Mono",toner_yield:0,toner_yield_factor:Sd("toner_yield_factor")??1,toner_mono_svc_pl_rate:Sd("mono_svc_pl_rate")??0,toner_color_svc_pl_rate:Sd("color_svc_pl_rate")??0,sku_no:"",oem_no:"",image:"",is_archived:0}},g=async()=>{var C;if(await e.OpenDialog("Confirm action","Are you sure you want to delete this product?")){const T=await s(),P=new FormData;P.append("product_id",String((C=c.value)==null?void 0:C.id)),sn(T).post("/inventory/delete-product",P).then(F=>{a("refresh"),console.log(F.data),e.ShowSuccess(F.data.message),d.value.my_product_editor=!1})}},_=async()=>{var C;const y=await s();r.value=!0,Qc(y,`You are a product expert.
     Rewrite and improve the existing product content not more than 200 words.
     Formatting rules: No commentary, no reasoning, return plain text or HTML only`,`Here's the existing content: ${(C=c.value)==null?void 0:C.description}`).then(T=>{r.value=!1,c.value&&(c.value.description=T)})},S=y=>{const C=new FileReader;C.onload=T=>{const P=T.target.result;u.value=P},C.readAsDataURL(y),o.value=y};return lt(u,y=>{i.value=="url"&&c.value&&(c.value.image=y)},{immediate:!0}),lt(()=>n.product_id,y=>{if(y){const C=f.value.find(T=>T.id==y);C?c.value={...C}:v()}else v()},{immediate:!0}),lt([()=>{var y;return(y=c.value)==null?void 0:y.price},()=>{var y;return(y=c.value)==null?void 0:y.margin},()=>{var y;return(y=c.value)==null?void 0:y.toner_yield},()=>{var y;return(y=c.value)==null?void 0:y.toner_yield_factor}],()=>{if(c.value){const y=c.value.toner_yield*c.value.toner_yield_factor;c.value.toner_cpp=po(c.value.price,c.value.margin)/y}}),(y,C)=>{const T=Ky,P=dV,F=Jhe,I=qi;return le(),Re(I,{modelValue:O(d).my_product_editor,"onUpdate:modelValue":C[18]||(C[18]=k=>O(d).my_product_editor=k),title:"Edit a Product",max_width:"800"},{footer:N(()=>{var k,M;return[(k=O(c))!=null&&k.id?(le(),Re($e,{key:0,"prepend-icon":"mdi-trash-can",onClick:g,text:"Delete Product",variant:"outlined",color:"red"})):xt("",!0),x(En),x($e,{text:(M=O(c))!=null&&M.id?"Update Product":"Submit","prepend-icon":"mdi-floppy",style:Ue(O(hn)),onClick:p},null,8,["text","style"])]}),default:N(()=>[O(c)?(le(),et("div",u_e,[x(_t,{variant:"outlined",modelValue:O(c).name,"onUpdate:modelValue":C[0]||(C[0]=k=>O(c).name=k),label:"Product Name"},null,8,["modelValue"]),x(Xn,null,{default:N(()=>[x(wt,{cols:"6"},{default:N(()=>[x(Wy,{"hide-details":"",variant:"outlined",label:"Manufacturer",items:O(Gx),modelValue:O(c).manufacturer,"onUpdate:modelValue":C[1]||(C[1]=k=>O(c).manufacturer=k)},null,8,["items","modelValue"])]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(mr,{"hide-details":"",label:"Item Type",variant:"outlined",items:O(GW),modelValue:O(c).item_type,"onUpdate:modelValue":C[2]||(C[2]=k=>O(c).item_type=k)},null,8,["items","modelValue"])]),_:1})]),_:1}),x(T,{modelValue:O(c).description,"onUpdate:modelValue":C[3]||(C[3]=k=>O(c).description=k),class:"mb-5"},{header:N(()=>[O(c).description?(le(),Re($e,{key:0,size:"small",variant:"outlined",loading:O(r),text:"Rewrite with AI",onClick:_,"prepend-icon":"mdi-robot-outline"},null,8,["loading"])):xt("",!0)]),_:1},8,["modelValue"]),x(Xn,null,{default:N(()=>[x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",label:"OEM Number (Optional)",modelValue:O(c).oem_no,"onUpdate:modelValue":C[4]||(C[4]=k=>O(c).oem_no=k)},null,8,["modelValue"])]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",label:"SKU (Optional)",modelValue:O(c).sku_no,"onUpdate:modelValue":C[5]||(C[5]=k=>O(c).sku_no=k)},null,8,["modelValue"])]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",label:"Price",modelValue:O(c).price,"onUpdate:modelValue":C[6]||(C[6]=k=>O(c).price=k),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",label:"Price Margin (%)",modelValue:O(c).margin,"onUpdate:modelValue":C[7]||(C[7]=k=>O(c).margin=k),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),O(c).item_type=="toner"?(le(),et(ut,{key:0},[x(wt,{cols:"12"},{default:N(()=>[x(Dd,null,{default:N(()=>[...C[19]||(C[19]=[Je("Toner Specific Details",-1)])]),_:1})]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",label:"Toner Yield",modelValue:O(c).toner_yield,"onUpdate:modelValue":C[8]||(C[8]=k=>O(c).toner_yield=k)},null,8,["modelValue"])]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(_t,{max:"1",min:"0.1","hide-details":"",type:"number",variant:"outlined",label:"Yield Effectivity Factor",modelValue:O(c).toner_yield_factor,"onUpdate:modelValue":C[9]||(C[9]=k=>O(c).toner_yield_factor=k),rules:[k=>k>=.1&&k<=1||"Must be between 0.1 and 1"]},{"append-inner":N(()=>[x(qx,{location:"top"},{activator:N(({props:k})=>[x(en,Ih(Dh(k)),{default:N(()=>[...C[20]||(C[20]=[Je("mdi-information-outline",-1)])]),_:1},16)]),default:N(()=>[C[21]||(C[21]=H("span",null,[Je(" Adjusts the estimated yield performance. For example,"),H("br"),Je(" a factor of 0.9 applied to a 25,000 yield results in an estimated 22,500 pages. ")],-1))]),_:1})]),_:1},8,["modelValue","rules"])]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(mr,{"hide-details":"",variant:"outlined",label:"Toner Color (Mono/Color)",modelValue:O(c).toner_type,"onUpdate:modelValue":C[10]||(C[10]=k=>O(c).toner_type=k),items:O(l)},null,8,["modelValue","items"])]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(_t,{readonly:"","hide-details":"",label:"Toner CPP (Readonly)",variant:"outlined",modelValue:O(c).toner_cpp,"onUpdate:modelValue":C[11]||(C[11]=k=>O(c).toner_cpp=k)},{"append-inner":N(()=>[x(qx,{location:"top"},{activator:N(({props:k})=>[x(en,Ih(Dh(k)),{default:N(()=>[...C[22]||(C[22]=[Je("mdi-information-outline",-1)])]),_:1},16)]),default:N(()=>[C[23]||(C[23]=H("span",null,"Toner CPP is calculated automatically",-1))]),_:1})]),_:1},8,["modelValue"])]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",label:"Mono Service Parts/Labor Rate",modelValue:O(c).toner_mono_svc_pl_rate,"onUpdate:modelValue":C[12]||(C[12]=k=>O(c).toner_mono_svc_pl_rate=k)},null,8,["modelValue"])]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",label:"Color Service Parts/Labor Rate",modelValue:O(c).toner_color_svc_pl_rate,"onUpdate:modelValue":C[13]||(C[13]=k=>O(c).toner_color_svc_pl_rate=k)},null,8,["modelValue"])]),_:1})],64)):xt("",!0)]),_:1}),H("div",c_e,[x(fA,null,{default:N(()=>[...C[24]||(C[24]=[Je("Product Image (recommended 500x500)",-1)])]),_:1}),H("div",d_e,[x($e,{size:"small",text:"Reset",class:"mr-3",color:"primary",onClick:h,"prepend-icon":"mdi-refresh"}),x(P,{right_text:"URL",right_value:"url",left_text:"Upload",left_value:"upload",modelValue:O(i),"onUpdate:modelValue":[C[14]||(C[14]=k=>Ht(i)?i.value=k:null),C[15]||(C[15]=k=>u.value="")]},null,8,["modelValue"])])]),x(Fn,{class:"border border-opacity-25 rounded"},{default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"4"},{default:N(()=>[O(u)?(le(),Re(Gu,{key:0,class:"rounded",src:O(u)},null,8,["src"])):(le(),Re(Gu,{key:1,class:"rounded",src:O(c).image||"/assets/img/no-image.png"},null,8,["src"]))]),_:1}),x(wt,{cols:"8"},{default:N(()=>[O(i)=="url"?(le(),et("div",f_e,[x(pT,{label:"Paste your Image URL here...",modelValue:O(u),"onUpdate:modelValue":C[16]||(C[16]=k=>Ht(u)?u.value=k:null)},null,8,["modelValue"]),x($e,{onClick:C[17]||(C[17]=k=>u.value=""),"prepend-icon":"mdi-trash-can",variant:"outlined"},{default:N(()=>[...C[25]||(C[25]=[Je("Remove",-1)])]),_:1})])):xt("",!0),O(i)=="upload"?(le(),Re(F,{key:1,loading:!1,"onUpdate:modelValue":S,allowed_types:["png","jpg","jpeg","webp","svg"]})):xt("",!0)]),_:1})]),_:1})]),_:1})])):xt("",!0)]),_:1},8,["modelValue"])}}});//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var LY;function Xt(){return LY.apply(null,arguments)}function h_e(n){LY=n}function Dc(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function bm(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function Hr(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function jV(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var t;for(t in n)if(Hr(n,t))return!1;return!0}function gl(n){return n===void 0}function aA(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function q_(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function VY(n,t){var e=[],r,o=n.length;for(r=0;r<o;++r)e.push(t(n[r],r));return e}function ch(n,t){for(var e in t)Hr(t,e)&&(n[e]=t[e]);return Hr(t,"toString")&&(n.toString=t.toString),Hr(t,"valueOf")&&(n.valueOf=t.valueOf),n}function Kd(n,t,e,r){return s7(n,t,e,r,!0).utc()}function p_e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function sr(n){return n._pf==null&&(n._pf=p_e()),n._pf}var rD;Array.prototype.some?rD=Array.prototype.some:rD=function(n){var t=Object(this),e=t.length>>>0,r;for(r=0;r<e;r++)if(r in t&&n.call(this,t[r],r,t))return!0;return!1};function $V(n){var t=null,e=!1,r=n._d&&!isNaN(n._d.getTime());if(r&&(t=sr(n),e=rD.call(t.parsedDateParts,function(o){return o!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&e),n._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=r;else return r;return n._isValid}function mT(n){var t=Kd(NaN);return n!=null?ch(sr(t),n):sr(t).userInvalidated=!0,t}var A3=Xt.momentProperties=[],nI=!1;function KV(n,t){var e,r,o,i=A3.length;if(gl(t._isAMomentObject)||(n._isAMomentObject=t._isAMomentObject),gl(t._i)||(n._i=t._i),gl(t._f)||(n._f=t._f),gl(t._l)||(n._l=t._l),gl(t._strict)||(n._strict=t._strict),gl(t._tzm)||(n._tzm=t._tzm),gl(t._isUTC)||(n._isUTC=t._isUTC),gl(t._offset)||(n._offset=t._offset),gl(t._pf)||(n._pf=sr(t)),gl(t._locale)||(n._locale=t._locale),i>0)for(e=0;e<i;e++)r=A3[e],o=t[r],gl(o)||(n[r]=o);return n}function eC(n){KV(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),nI===!1&&(nI=!0,Xt.updateOffset(this),nI=!1)}function Uc(n){return n instanceof eC||n!=null&&n._isAMomentObject!=null}function NY(n){Xt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function ec(n,t){var e=!0;return ch(function(){if(Xt.deprecationHandler!=null&&Xt.deprecationHandler(null,n),e){var r=[],o,i,a,s=arguments.length;for(i=0;i<s;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(a in arguments[0])Hr(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}NY(n+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),e=!1}return t.apply(this,arguments)},t)}var h3={};function RY(n,t){Xt.deprecationHandler!=null&&Xt.deprecationHandler(n,t),h3[n]||(NY(t),h3[n]=!0)}Xt.suppressDeprecationWarnings=!1;Xt.deprecationHandler=null;function Wd(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function m_e(n){var t,e;for(e in n)Hr(n,e)&&(t=n[e],Wd(t)?this[e]=t:this["_"+e]=t);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function oD(n,t){var e=ch({},n),r;for(r in t)Hr(t,r)&&(bm(n[r])&&bm(t[r])?(e[r]={},ch(e[r],n[r]),ch(e[r],t[r])):t[r]!=null?e[r]=t[r]:delete e[r]);for(r in n)Hr(n,r)&&!Hr(t,r)&&bm(n[r])&&(e[r]=ch({},e[r]));return e}function WV(n){n!=null&&this.set(n)}var iD;Object.keys?iD=Object.keys:iD=function(n){var t,e=[];for(t in n)Hr(n,t)&&e.push(t);return e};var v_e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function g_e(n,t,e){var r=this._calendar[n]||this._calendar.sameElse;return Wd(r)?r.call(t,e):r}function Nd(n,t,e){var r=""+Math.abs(n),o=t-r.length,i=n>=0;return(i?e?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var zV=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,V1=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,rI={},Jg={};function In(n,t,e,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),n&&(Jg[n]=o),t&&(Jg[t[0]]=function(){return Nd(o.apply(this,arguments),t[1],t[2])}),e&&(Jg[e]=function(){return this.localeData().ordinal(o.apply(this,arguments),n)})}function y_e(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function b_e(n){var t=n.match(zV),e,r;for(e=0,r=t.length;e<r;e++)Jg[t[e]]?t[e]=Jg[t[e]]:t[e]=y_e(t[e]);return function(o){var i="",a;for(a=0;a<r;a++)i+=Wd(t[a])?t[a].call(o,n):t[a];return i}}function KS(n,t){return n.isValid()?(t=HY(t,n.localeData()),rI[t]=rI[t]||b_e(t),rI[t](n)):n.localeData().invalidDate()}function HY(n,t){var e=5;function r(o){return t.longDateFormat(o)||o}for(V1.lastIndex=0;e>=0&&V1.test(n);)n=n.replace(V1,r),V1.lastIndex=0,e-=1;return n}var w_e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function __e(n){var t=this._longDateFormat[n],e=this._longDateFormat[n.toUpperCase()];return t||!e?t:(this._longDateFormat[n]=e.match(zV).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[n])}var C_e="Invalid date";function S_e(){return this._invalidDate}var x_e="%d",E_e=/\d{1,2}/;function B_e(n){return this._ordinal.replace("%d",n)}var k_e={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function T_e(n,t,e,r){var o=this._relativeTime[e];return Wd(o)?o(n,t,e,r):o.replace(/%d/i,n)}function O_e(n,t){var e=this._relativeTime[n>0?"future":"past"];return Wd(e)?e(t):e.replace(/%s/i,t)}var p3={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function tc(n){return typeof n=="string"?p3[n]||p3[n.toLowerCase()]:void 0}function GV(n){var t={},e,r;for(r in n)Hr(n,r)&&(e=tc(r),e&&(t[e]=n[r]));return t}var P_e={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function I_e(n){var t=[],e;for(e in n)Hr(n,e)&&t.push({unit:e,priority:P_e[e]});return t.sort(function(r,o){return r.priority-o.priority}),t}var QY=/\d/,Au=/\d\d/,jY=/\d{3}/,YV=/\d{4}/,vT=/[+-]?\d{6}/,Mo=/\d\d?/,$Y=/\d\d\d\d?/,KY=/\d\d\d\d\d\d?/,gT=/\d{1,3}/,XV=/\d{1,4}/,yT=/[+-]?\d{1,6}/,zy=/\d+/,bT=/[+-]?\d+/,M_e=/Z|[+-]\d\d:?\d\d/gi,wT=/Z|[+-]\d\d(?::?\d\d)?/gi,F_e=/[+-]?\d+(\.\d{1,3})?/,tC=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Gy=/^[1-9]\d?/,JV=/^([1-9]\d|\d)/,CE;CE={};function pn(n,t,e){CE[n]=Wd(t)?t:function(r,o){return r&&e?e:t}}function D_e(n,t){return Hr(CE,n)?CE[n](t._strict,t._locale):new RegExp(U_e(n))}function U_e(n){return Wf(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,r,o,i){return e||r||o||i}))}function Wf(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Tu(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function xr(n){var t=+n,e=0;return t!==0&&isFinite(t)&&(e=Tu(t)),e}var aD={};function so(n,t){var e,r=t,o;for(typeof n=="string"&&(n=[n]),aA(t)&&(r=function(i,a){a[t]=xr(i)}),o=n.length,e=0;e<o;e++)aD[n[e]]=r}function nC(n,t){so(n,function(e,r,o,i){o._w=o._w||{},t(e,o._w,o,i)})}function L_e(n,t,e){t!=null&&Hr(aD,n)&&aD[n](t,e._a,e,n)}function _T(n){return n%4===0&&n%100!==0||n%400===0}var ls=0,Nf=1,wd=2,Yi=3,Bc=4,Rf=5,Gp=6,V_e=7,N_e=8;In("Y",0,0,function(){var n=this.year();return n<=9999?Nd(n,4):"+"+n});In(0,["YY",2],0,function(){return this.year()%100});In(0,["YYYY",4],0,"year");In(0,["YYYYY",5],0,"year");In(0,["YYYYYY",6,!0],0,"year");pn("Y",bT);pn("YY",Mo,Au);pn("YYYY",XV,YV);pn("YYYYY",yT,vT);pn("YYYYYY",yT,vT);so(["YYYYY","YYYYYY"],ls);so("YYYY",function(n,t){t[ls]=n.length===2?Xt.parseTwoDigitYear(n):xr(n)});so("YY",function(n,t){t[ls]=Xt.parseTwoDigitYear(n)});so("Y",function(n,t){t[ls]=parseInt(n,10)});function Rb(n){return _T(n)?366:365}Xt.parseTwoDigitYear=function(n){return xr(n)+(xr(n)>68?1900:2e3)};var WY=Yy("FullYear",!0);function R_e(){return _T(this.year())}function Yy(n,t){return function(e){return e!=null?(zY(this,n,e),Xt.updateOffset(this,t),this):qw(this,n)}}function qw(n,t){if(!n.isValid())return NaN;var e=n._d,r=n._isUTC;switch(t){case"Milliseconds":return r?e.getUTCMilliseconds():e.getMilliseconds();case"Seconds":return r?e.getUTCSeconds():e.getSeconds();case"Minutes":return r?e.getUTCMinutes():e.getMinutes();case"Hours":return r?e.getUTCHours():e.getHours();case"Date":return r?e.getUTCDate():e.getDate();case"Day":return r?e.getUTCDay():e.getDay();case"Month":return r?e.getUTCMonth():e.getMonth();case"FullYear":return r?e.getUTCFullYear():e.getFullYear();default:return NaN}}function zY(n,t,e){var r,o,i,a,s;if(!(!n.isValid()||isNaN(e))){switch(r=n._d,o=n._isUTC,t){case"Milliseconds":return void(o?r.setUTCMilliseconds(e):r.setMilliseconds(e));case"Seconds":return void(o?r.setUTCSeconds(e):r.setSeconds(e));case"Minutes":return void(o?r.setUTCMinutes(e):r.setMinutes(e));case"Hours":return void(o?r.setUTCHours(e):r.setHours(e));case"Date":return void(o?r.setUTCDate(e):r.setDate(e));case"FullYear":break;default:return}i=e,a=n.month(),s=n.date(),s=s===29&&a===1&&!_T(i)?28:s,o?r.setUTCFullYear(i,a,s):r.setFullYear(i,a,s)}}function H_e(n){return n=tc(n),Wd(this[n])?this[n]():this}function Q_e(n,t){if(typeof n=="object"){n=GV(n);var e=I_e(n),r,o=e.length;for(r=0;r<o;r++)this[e[r].unit](n[e[r].unit])}else if(n=tc(n),Wd(this[n]))return this[n](t);return this}function j_e(n,t){return(n%t+t)%t}var Si;Array.prototype.indexOf?Si=Array.prototype.indexOf:Si=function(n){var t;for(t=0;t<this.length;++t)if(this[t]===n)return t;return-1};function ZV(n,t){if(isNaN(n)||isNaN(t))return NaN;var e=j_e(t,12);return n+=(t-e)/12,e===1?_T(n)?29:28:31-e%7%2}In("M",["MM",2],"Mo",function(){return this.month()+1});In("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});In("MMMM",0,0,function(n){return this.localeData().months(this,n)});pn("M",Mo,Gy);pn("MM",Mo,Au);pn("MMM",function(n,t){return t.monthsShortRegex(n)});pn("MMMM",function(n,t){return t.monthsRegex(n)});so(["M","MM"],function(n,t){t[Nf]=xr(n)-1});so(["MMM","MMMM"],function(n,t,e,r){var o=e._locale.monthsParse(n,r,e._strict);o!=null?t[Nf]=o:sr(e).invalidMonth=n});var $_e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),GY="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),YY=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,K_e=tC,W_e=tC;function z_e(n,t){return n?Dc(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||YY).test(t)?"format":"standalone"][n.month()]:Dc(this._months)?this._months:this._months.standalone}function G_e(n,t){return n?Dc(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[YY.test(t)?"format":"standalone"][n.month()]:Dc(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Y_e(n,t,e){var r,o,i,a=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Kd([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return e?t==="MMM"?(o=Si.call(this._shortMonthsParse,a),o!==-1?o:null):(o=Si.call(this._longMonthsParse,a),o!==-1?o:null):t==="MMM"?(o=Si.call(this._shortMonthsParse,a),o!==-1?o:(o=Si.call(this._longMonthsParse,a),o!==-1?o:null)):(o=Si.call(this._longMonthsParse,a),o!==-1?o:(o=Si.call(this._shortMonthsParse,a),o!==-1?o:null))}function X_e(n,t,e){var r,o,i;if(this._monthsParseExact)return Y_e.call(this,n,t,e);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Kd([2e3,r]),e&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!e&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),e&&t==="MMMM"&&this._longMonthsParse[r].test(n))return r;if(e&&t==="MMM"&&this._shortMonthsParse[r].test(n))return r;if(!e&&this._monthsParse[r].test(n))return r}}function XY(n,t){if(!n.isValid())return n;if(typeof t=="string"){if(/^\d+$/.test(t))t=xr(t);else if(t=n.localeData().monthsParse(t),!aA(t))return n}var e=t,r=n.date();return r=r<29?r:Math.min(r,ZV(n.year(),e)),n._isUTC?n._d.setUTCMonth(e,r):n._d.setMonth(e,r),n}function JY(n){return n!=null?(XY(this,n),Xt.updateOffset(this,!0),this):qw(this,"Month")}function J_e(){return ZV(this.year(),this.month())}function Z_e(n){return this._monthsParseExact?(Hr(this,"_monthsRegex")||ZY.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(Hr(this,"_monthsShortRegex")||(this._monthsShortRegex=K_e),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function q_e(n){return this._monthsParseExact?(Hr(this,"_monthsRegex")||ZY.call(this),n?this._monthsStrictRegex:this._monthsRegex):(Hr(this,"_monthsRegex")||(this._monthsRegex=W_e),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function ZY(){function n(l,u){return u.length-l.length}var t=[],e=[],r=[],o,i,a,s;for(o=0;o<12;o++)i=Kd([2e3,o]),a=Wf(this.monthsShort(i,"")),s=Wf(this.months(i,"")),t.push(a),e.push(s),r.push(s),r.push(a);t.sort(n),e.sort(n),r.sort(n),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function eCe(n,t,e,r,o,i,a){var s;return n<100&&n>=0?(s=new Date(n+400,t,e,r,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(n)):s=new Date(n,t,e,r,o,i,a),s}function e_(n){var t,e;return n<100&&n>=0?(e=Array.prototype.slice.call(arguments),e[0]=n+400,t=new Date(Date.UTC.apply(null,e)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(n)):t=new Date(Date.UTC.apply(null,arguments)),t}function SE(n,t,e){var r=7+t-e,o=(7+e_(n,0,r).getUTCDay()-t)%7;return-o+r-1}function qY(n,t,e,r,o){var i=(7+e-r)%7,a=SE(n,r,o),s=1+7*(t-1)+i+a,l,u;return s<=0?(l=n-1,u=Rb(l)+s):s>Rb(n)?(l=n+1,u=s-Rb(n)):(l=n,u=s),{year:l,dayOfYear:u}}function t_(n,t,e){var r=SE(n.year(),t,e),o=Math.floor((n.dayOfYear()-r-1)/7)+1,i,a;return o<1?(a=n.year()-1,i=o+zf(a,t,e)):o>zf(n.year(),t,e)?(i=o-zf(n.year(),t,e),a=n.year()+1):(a=n.year(),i=o),{week:i,year:a}}function zf(n,t,e){var r=SE(n,t,e),o=SE(n+1,t,e);return(Rb(n)-r+o)/7}In("w",["ww",2],"wo","week");In("W",["WW",2],"Wo","isoWeek");pn("w",Mo,Gy);pn("ww",Mo,Au);pn("W",Mo,Gy);pn("WW",Mo,Au);nC(["w","ww","W","WW"],function(n,t,e,r){t[r.substr(0,1)]=xr(n)});function tCe(n){return t_(n,this._week.dow,this._week.doy).week}var nCe={dow:0,doy:6};function rCe(){return this._week.dow}function oCe(){return this._week.doy}function iCe(n){var t=this.localeData().week(this);return n==null?t:this.add((n-t)*7,"d")}function aCe(n){var t=t_(this,1,4).week;return n==null?t:this.add((n-t)*7,"d")}In("d",0,"do","day");In("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});In("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});In("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});In("e",0,0,"weekday");In("E",0,0,"isoWeekday");pn("d",Mo);pn("e",Mo);pn("E",Mo);pn("dd",function(n,t){return t.weekdaysMinRegex(n)});pn("ddd",function(n,t){return t.weekdaysShortRegex(n)});pn("dddd",function(n,t){return t.weekdaysRegex(n)});nC(["dd","ddd","dddd"],function(n,t,e,r){var o=e._locale.weekdaysParse(n,r,e._strict);o!=null?t.d=o:sr(e).invalidWeekday=n});nC(["d","e","E"],function(n,t,e,r){t[r]=xr(n)});function sCe(n,t){return typeof n!="string"?n:isNaN(n)?(n=t.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function lCe(n,t){return typeof n=="string"?t.weekdaysParse(n)%7||7:isNaN(n)?null:n}function qV(n,t){return n.slice(t,7).concat(n.slice(0,t))}var uCe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),e7="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),cCe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),dCe=tC,fCe=tC,ACe=tC;function hCe(n,t){var e=Dc(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return n===!0?qV(e,this._week.dow):n?e[n.day()]:e}function pCe(n){return n===!0?qV(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function mCe(n){return n===!0?qV(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function vCe(n,t,e){var r,o,i,a=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Kd([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return e?t==="dddd"?(o=Si.call(this._weekdaysParse,a),o!==-1?o:null):t==="ddd"?(o=Si.call(this._shortWeekdaysParse,a),o!==-1?o:null):(o=Si.call(this._minWeekdaysParse,a),o!==-1?o:null):t==="dddd"?(o=Si.call(this._weekdaysParse,a),o!==-1||(o=Si.call(this._shortWeekdaysParse,a),o!==-1)?o:(o=Si.call(this._minWeekdaysParse,a),o!==-1?o:null)):t==="ddd"?(o=Si.call(this._shortWeekdaysParse,a),o!==-1||(o=Si.call(this._weekdaysParse,a),o!==-1)?o:(o=Si.call(this._minWeekdaysParse,a),o!==-1?o:null)):(o=Si.call(this._minWeekdaysParse,a),o!==-1||(o=Si.call(this._weekdaysParse,a),o!==-1)?o:(o=Si.call(this._shortWeekdaysParse,a),o!==-1?o:null))}function gCe(n,t,e){var r,o,i;if(this._weekdaysParseExact)return vCe.call(this,n,t,e);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Kd([2e3,1]).day(r),e&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),e&&t==="dddd"&&this._fullWeekdaysParse[r].test(n))return r;if(e&&t==="ddd"&&this._shortWeekdaysParse[r].test(n))return r;if(e&&t==="dd"&&this._minWeekdaysParse[r].test(n))return r;if(!e&&this._weekdaysParse[r].test(n))return r}}function yCe(n){if(!this.isValid())return n!=null?this:NaN;var t=qw(this,"Day");return n!=null?(n=sCe(n,this.localeData()),this.add(n-t,"d")):t}function bCe(n){if(!this.isValid())return n!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return n==null?t:this.add(n-t,"d")}function wCe(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var t=lCe(n,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function _Ce(n){return this._weekdaysParseExact?(Hr(this,"_weekdaysRegex")||e2.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(Hr(this,"_weekdaysRegex")||(this._weekdaysRegex=dCe),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function CCe(n){return this._weekdaysParseExact?(Hr(this,"_weekdaysRegex")||e2.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Hr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=fCe),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function SCe(n){return this._weekdaysParseExact?(Hr(this,"_weekdaysRegex")||e2.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Hr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ACe),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function e2(){function n(c,d){return d.length-c.length}var t=[],e=[],r=[],o=[],i,a,s,l,u;for(i=0;i<7;i++)a=Kd([2e3,1]).day(i),s=Wf(this.weekdaysMin(a,"")),l=Wf(this.weekdaysShort(a,"")),u=Wf(this.weekdays(a,"")),t.push(s),e.push(l),r.push(u),o.push(s),o.push(l),o.push(u);t.sort(n),e.sort(n),r.sort(n),o.sort(n),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function t2(){return this.hours()%12||12}function xCe(){return this.hours()||24}In("H",["HH",2],0,"hour");In("h",["hh",2],0,t2);In("k",["kk",2],0,xCe);In("hmm",0,0,function(){return""+t2.apply(this)+Nd(this.minutes(),2)});In("hmmss",0,0,function(){return""+t2.apply(this)+Nd(this.minutes(),2)+Nd(this.seconds(),2)});In("Hmm",0,0,function(){return""+this.hours()+Nd(this.minutes(),2)});In("Hmmss",0,0,function(){return""+this.hours()+Nd(this.minutes(),2)+Nd(this.seconds(),2)});function t7(n,t){In(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}t7("a",!0);t7("A",!1);function n7(n,t){return t._meridiemParse}pn("a",n7);pn("A",n7);pn("H",Mo,JV);pn("h",Mo,Gy);pn("k",Mo,Gy);pn("HH",Mo,Au);pn("hh",Mo,Au);pn("kk",Mo,Au);pn("hmm",$Y);pn("hmmss",KY);pn("Hmm",$Y);pn("Hmmss",KY);so(["H","HH"],Yi);so(["k","kk"],function(n,t,e){var r=xr(n);t[Yi]=r===24?0:r});so(["a","A"],function(n,t,e){e._isPm=e._locale.isPM(n),e._meridiem=n});so(["h","hh"],function(n,t,e){t[Yi]=xr(n),sr(e).bigHour=!0});so("hmm",function(n,t,e){var r=n.length-2;t[Yi]=xr(n.substr(0,r)),t[Bc]=xr(n.substr(r)),sr(e).bigHour=!0});so("hmmss",function(n,t,e){var r=n.length-4,o=n.length-2;t[Yi]=xr(n.substr(0,r)),t[Bc]=xr(n.substr(r,2)),t[Rf]=xr(n.substr(o)),sr(e).bigHour=!0});so("Hmm",function(n,t,e){var r=n.length-2;t[Yi]=xr(n.substr(0,r)),t[Bc]=xr(n.substr(r))});so("Hmmss",function(n,t,e){var r=n.length-4,o=n.length-2;t[Yi]=xr(n.substr(0,r)),t[Bc]=xr(n.substr(r,2)),t[Rf]=xr(n.substr(o))});function ECe(n){return(n+"").toLowerCase().charAt(0)==="p"}var BCe=/[ap]\.?m?\.?/i,kCe=Yy("Hours",!0);function TCe(n,t,e){return n>11?e?"pm":"PM":e?"am":"AM"}var r7={calendar:v_e,longDateFormat:w_e,invalidDate:C_e,ordinal:x_e,dayOfMonthOrdinalParse:E_e,relativeTime:k_e,months:$_e,monthsShort:GY,week:nCe,weekdays:uCe,weekdaysMin:cCe,weekdaysShort:e7,meridiemParse:BCe},Ro={},Q0={},n_;function OCe(n,t){var e,r=Math.min(n.length,t.length);for(e=0;e<r;e+=1)if(n[e]!==t[e])return e;return r}function m3(n){return n&&n.toLowerCase().replace("_","-")}function PCe(n){for(var t=0,e,r,o,i;t<n.length;){for(i=m3(n[t]).split("-"),e=i.length,r=m3(n[t+1]),r=r?r.split("-"):null;e>0;){if(o=CT(i.slice(0,e).join("-")),o)return o;if(r&&r.length>=e&&OCe(i,r)>=e-1)break;e--}t++}return n_}function ICe(n){return!!(n&&n.match("^[^/\\\\]*$"))}function CT(n){var t=null,e;if(Ro[n]===void 0&&typeof vx<"u"&&vx&&vx.exports&&ICe(n))try{t=n_._abbr,e=require,e("./locale/"+n),Eh(t)}catch{Ro[n]=null}return Ro[n]}function Eh(n,t){var e;return n&&(gl(t)?e=AA(n):e=n2(n,t),e?n_=e:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),n_._abbr}function n2(n,t){if(t!==null){var e,r=r7;if(t.abbr=n,Ro[n]!=null)RY("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Ro[n]._config;else if(t.parentLocale!=null)if(Ro[t.parentLocale]!=null)r=Ro[t.parentLocale]._config;else if(e=CT(t.parentLocale),e!=null)r=e._config;else return Q0[t.parentLocale]||(Q0[t.parentLocale]=[]),Q0[t.parentLocale].push({name:n,config:t}),null;return Ro[n]=new WV(oD(r,t)),Q0[n]&&Q0[n].forEach(function(o){n2(o.name,o.config)}),Eh(n),Ro[n]}else return delete Ro[n],null}function MCe(n,t){if(t!=null){var e,r,o=r7;Ro[n]!=null&&Ro[n].parentLocale!=null?Ro[n].set(oD(Ro[n]._config,t)):(r=CT(n),r!=null&&(o=r._config),t=oD(o,t),r==null&&(t.abbr=n),e=new WV(t),e.parentLocale=Ro[n],Ro[n]=e),Eh(n)}else Ro[n]!=null&&(Ro[n].parentLocale!=null?(Ro[n]=Ro[n].parentLocale,n===Eh()&&Eh(n)):Ro[n]!=null&&delete Ro[n]);return Ro[n]}function AA(n){var t;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return n_;if(!Dc(n)){if(t=CT(n),t)return t;n=[n]}return PCe(n)}function FCe(){return iD(Ro)}function r2(n){var t,e=n._a;return e&&sr(n).overflow===-2&&(t=e[Nf]<0||e[Nf]>11?Nf:e[wd]<1||e[wd]>ZV(e[ls],e[Nf])?wd:e[Yi]<0||e[Yi]>24||e[Yi]===24&&(e[Bc]!==0||e[Rf]!==0||e[Gp]!==0)?Yi:e[Bc]<0||e[Bc]>59?Bc:e[Rf]<0||e[Rf]>59?Rf:e[Gp]<0||e[Gp]>999?Gp:-1,sr(n)._overflowDayOfYear&&(t<ls||t>wd)&&(t=wd),sr(n)._overflowWeeks&&t===-1&&(t=V_e),sr(n)._overflowWeekday&&t===-1&&(t=N_e),sr(n).overflow=t),n}var DCe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,UCe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,LCe=/Z|[+-]\d\d(?::?\d\d)?/,N1=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],oI=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],VCe=/^\/?Date\((-?\d+)/i,NCe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,RCe={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function o7(n){var t,e,r=n._i,o=DCe.exec(r)||UCe.exec(r),i,a,s,l,u=N1.length,c=oI.length;if(o){for(sr(n).iso=!0,t=0,e=u;t<e;t++)if(N1[t][1].exec(o[1])){a=N1[t][0],i=N1[t][2]!==!1;break}if(a==null){n._isValid=!1;return}if(o[3]){for(t=0,e=c;t<e;t++)if(oI[t][1].exec(o[3])){s=(o[2]||" ")+oI[t][0];break}if(s==null){n._isValid=!1;return}}if(!i&&s!=null){n._isValid=!1;return}if(o[4])if(LCe.exec(o[4]))l="Z";else{n._isValid=!1;return}n._f=a+(s||"")+(l||""),i2(n)}else n._isValid=!1}function HCe(n,t,e,r,o,i){var a=[QCe(n),GY.indexOf(t),parseInt(e,10),parseInt(r,10),parseInt(o,10)];return i&&a.push(parseInt(i,10)),a}function QCe(n){var t=parseInt(n,10);return t<=49?2e3+t:t<=999?1900+t:t}function jCe(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function $Ce(n,t,e){if(n){var r=e7.indexOf(n),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return sr(e).weekdayMismatch=!0,e._isValid=!1,!1}return!0}function KCe(n,t,e){if(n)return RCe[n];if(t)return 0;var r=parseInt(e,10),o=r%100,i=(r-o)/100;return i*60+o}function i7(n){var t=NCe.exec(jCe(n._i)),e;if(t){if(e=HCe(t[4],t[3],t[2],t[5],t[6],t[7]),!$Ce(t[1],e,n))return;n._a=e,n._tzm=KCe(t[8],t[9],t[10]),n._d=e_.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),sr(n).rfc2822=!0}else n._isValid=!1}function WCe(n){var t=VCe.exec(n._i);if(t!==null){n._d=new Date(+t[1]);return}if(o7(n),n._isValid===!1)delete n._isValid;else return;if(i7(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:Xt.createFromInputFallback(n)}Xt.createFromInputFallback=ec("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function Ag(n,t,e){return n??t??e}function zCe(n){var t=new Date(Xt.now());return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function o2(n){var t,e,r=[],o,i,a;if(!n._d){for(o=zCe(n),n._w&&n._a[wd]==null&&n._a[Nf]==null&&GCe(n),n._dayOfYear!=null&&(a=Ag(n._a[ls],o[ls]),(n._dayOfYear>Rb(a)||n._dayOfYear===0)&&(sr(n)._overflowDayOfYear=!0),e=e_(a,0,n._dayOfYear),n._a[Nf]=e.getUTCMonth(),n._a[wd]=e.getUTCDate()),t=0;t<3&&n._a[t]==null;++t)n._a[t]=r[t]=o[t];for(;t<7;t++)n._a[t]=r[t]=n._a[t]==null?t===2?1:0:n._a[t];n._a[Yi]===24&&n._a[Bc]===0&&n._a[Rf]===0&&n._a[Gp]===0&&(n._nextDay=!0,n._a[Yi]=0),n._d=(n._useUTC?e_:eCe).apply(null,r),i=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[Yi]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==i&&(sr(n).weekdayMismatch=!0)}}function GCe(n){var t,e,r,o,i,a,s,l,u;t=n._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,a=4,e=Ag(t.GG,n._a[ls],t_(Io(),1,4).year),r=Ag(t.W,1),o=Ag(t.E,1),(o<1||o>7)&&(l=!0)):(i=n._locale._week.dow,a=n._locale._week.doy,u=t_(Io(),i,a),e=Ag(t.gg,n._a[ls],u.year),r=Ag(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(l=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(l=!0)):o=i),r<1||r>zf(e,i,a)?sr(n)._overflowWeeks=!0:l!=null?sr(n)._overflowWeekday=!0:(s=qY(e,r,o,i,a),n._a[ls]=s.year,n._dayOfYear=s.dayOfYear)}Xt.ISO_8601=function(){};Xt.RFC_2822=function(){};function i2(n){if(n._f===Xt.ISO_8601){o7(n);return}if(n._f===Xt.RFC_2822){i7(n);return}n._a=[],sr(n).empty=!0;var t=""+n._i,e,r,o,i,a,s=t.length,l=0,u,c;for(o=HY(n._f,n._locale).match(zV)||[],c=o.length,e=0;e<c;e++)i=o[e],r=(t.match(D_e(i,n))||[])[0],r&&(a=t.substr(0,t.indexOf(r)),a.length>0&&sr(n).unusedInput.push(a),t=t.slice(t.indexOf(r)+r.length),l+=r.length),Jg[i]?(r?sr(n).empty=!1:sr(n).unusedTokens.push(i),L_e(i,r,n)):n._strict&&!r&&sr(n).unusedTokens.push(i);sr(n).charsLeftOver=s-l,t.length>0&&sr(n).unusedInput.push(t),n._a[Yi]<=12&&sr(n).bigHour===!0&&n._a[Yi]>0&&(sr(n).bigHour=void 0),sr(n).parsedDateParts=n._a.slice(0),sr(n).meridiem=n._meridiem,n._a[Yi]=YCe(n._locale,n._a[Yi],n._meridiem),u=sr(n).era,u!==null&&(n._a[ls]=n._locale.erasConvertYear(u,n._a[ls])),o2(n),r2(n)}function YCe(n,t,e){var r;return e==null?t:n.meridiemHour!=null?n.meridiemHour(t,e):(n.isPM!=null&&(r=n.isPM(e),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function XCe(n){var t,e,r,o,i,a,s=!1,l=n._f.length;if(l===0){sr(n).invalidFormat=!0,n._d=new Date(NaN);return}for(o=0;o<l;o++)i=0,a=!1,t=KV({},n),n._useUTC!=null&&(t._useUTC=n._useUTC),t._f=n._f[o],i2(t),$V(t)&&(a=!0),i+=sr(t).charsLeftOver,i+=sr(t).unusedTokens.length*10,sr(t).score=i,s?i<r&&(r=i,e=t):(r==null||i<r||a)&&(r=i,e=t,a&&(s=!0));ch(n,e||t)}function JCe(n){if(!n._d){var t=GV(n._i),e=t.day===void 0?t.date:t.day;n._a=VY([t.year,t.month,e,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),o2(n)}}function ZCe(n){var t=new eC(r2(a7(n)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function a7(n){var t=n._i,e=n._f;return n._locale=n._locale||AA(n._l),t===null||e===void 0&&t===""?mT({nullInput:!0}):(typeof t=="string"&&(n._i=t=n._locale.preparse(t)),Uc(t)?new eC(r2(t)):(q_(t)?n._d=t:Dc(e)?XCe(n):e?i2(n):qCe(n),$V(n)||(n._d=null),n))}function qCe(n){var t=n._i;gl(t)?n._d=new Date(Xt.now()):q_(t)?n._d=new Date(t.valueOf()):typeof t=="string"?WCe(n):Dc(t)?(n._a=VY(t.slice(0),function(e){return parseInt(e,10)}),o2(n)):bm(t)?JCe(n):aA(t)?n._d=new Date(t):Xt.createFromInputFallback(n)}function s7(n,t,e,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(e===!0||e===!1)&&(r=e,e=void 0),(bm(n)&&jV(n)||Dc(n)&&n.length===0)&&(n=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=e,i._i=n,i._f=t,i._strict=r,ZCe(i)}function Io(n,t,e,r){return s7(n,t,e,r,!1)}var e1e=ec("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Io.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:mT()}),t1e=ec("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=Io.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:mT()});function l7(n,t){var e,r;if(t.length===1&&Dc(t[0])&&(t=t[0]),!t.length)return Io();for(e=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][n](e))&&(e=t[r]);return e}function n1e(){var n=[].slice.call(arguments,0);return l7("isBefore",n)}function r1e(){var n=[].slice.call(arguments,0);return l7("isAfter",n)}var o1e=function(){return Date.now?Date.now():+new Date},j0=["year","quarter","month","week","day","hour","minute","second","millisecond"];function i1e(n){var t,e=!1,r,o=j0.length;for(t in n)if(Hr(n,t)&&!(Si.call(j0,t)!==-1&&(n[t]==null||!isNaN(n[t]))))return!1;for(r=0;r<o;++r)if(n[j0[r]]){if(e)return!1;parseFloat(n[j0[r]])!==xr(n[j0[r]])&&(e=!0)}return!0}function a1e(){return this._isValid}function s1e(){return jc(NaN)}function ST(n){var t=GV(n),e=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=i1e(t),this._milliseconds=+c+u*1e3+l*6e4+s*1e3*60*60,this._days=+a+i*7,this._months=+o+r*3+e*12,this._data={},this._locale=AA(),this._bubble()}function WS(n){return n instanceof ST}function sD(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function l1e(n,t,e){var r=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),i=0,a;for(a=0;a<r;a++)xr(n[a])!==xr(t[a])&&i++;return i+o}function u7(n,t){In(n,0,0,function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+Nd(~~(e/60),2)+t+Nd(~~e%60,2)})}u7("Z",":");u7("ZZ","");pn("Z",wT);pn("ZZ",wT);so(["Z","ZZ"],function(n,t,e){e._useUTC=!0,e._tzm=a2(wT,n)});var u1e=/([\+\-]|\d\d)/gi;function a2(n,t){var e=(t||"").match(n),r,o,i;return e===null?null:(r=e[e.length-1]||[],o=(r+"").match(u1e)||["-",0,0],i=+(o[1]*60)+xr(o[2]),i===0?0:o[0]==="+"?i:-i)}function s2(n,t){var e,r;return t._isUTC?(e=t.clone(),r=(Uc(n)||q_(n)?n.valueOf():Io(n).valueOf())-e.valueOf(),e._d.setTime(e._d.valueOf()+r),Xt.updateOffset(e,!1),e):Io(n).local()}function lD(n){return-Math.round(n._d.getTimezoneOffset())}Xt.updateOffset=function(){};function c1e(n,t,e){var r=this._offset||0,o;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=a2(wT,n),n===null)return this}else Math.abs(n)<16&&!e&&(n=n*60);return!this._isUTC&&t&&(o=lD(this)),this._offset=n,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==n&&(!t||this._changeInProgress?f7(this,jc(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Xt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:lD(this)}function d1e(n,t){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,t),this):-this.utcOffset()}function f1e(n){return this.utcOffset(0,n)}function A1e(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(lD(this),"m")),this}function h1e(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=a2(M_e,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function p1e(n){return this.isValid()?(n=n?Io(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function m1e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function v1e(){if(!gl(this._isDSTShifted))return this._isDSTShifted;var n={},t;return KV(n,this),n=a7(n),n._a?(t=n._isUTC?Kd(n._a):Io(n._a),this._isDSTShifted=this.isValid()&&l1e(n._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function g1e(){return this.isValid()?!this._isUTC:!1}function y1e(){return this.isValid()?this._isUTC:!1}function c7(){return this.isValid()?this._isUTC&&this._offset===0:!1}var b1e=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,w1e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function jc(n,t){var e=n,r=null,o,i,a;return WS(n)?e={ms:n._milliseconds,d:n._days,M:n._months}:aA(n)||!isNaN(+n)?(e={},t?e[t]=+n:e.milliseconds=+n):(r=b1e.exec(n))?(o=r[1]==="-"?-1:1,e={y:0,d:xr(r[wd])*o,h:xr(r[Yi])*o,m:xr(r[Bc])*o,s:xr(r[Rf])*o,ms:xr(sD(r[Gp]*1e3))*o}):(r=w1e.exec(n))?(o=r[1]==="-"?-1:1,e={y:Cp(r[2],o),M:Cp(r[3],o),w:Cp(r[4],o),d:Cp(r[5],o),h:Cp(r[6],o),m:Cp(r[7],o),s:Cp(r[8],o)}):e==null?e={}:typeof e=="object"&&("from"in e||"to"in e)&&(a=_1e(Io(e.from),Io(e.to)),e={},e.ms=a.milliseconds,e.M=a.months),i=new ST(e),WS(n)&&Hr(n,"_locale")&&(i._locale=n._locale),WS(n)&&Hr(n,"_isValid")&&(i._isValid=n._isValid),i}jc.fn=ST.prototype;jc.invalid=s1e;function Cp(n,t){var e=n&&parseFloat(n.replace(",","."));return(isNaN(e)?0:e)*t}function v3(n,t){var e={};return e.months=t.month()-n.month()+(t.year()-n.year())*12,n.clone().add(e.months,"M").isAfter(t)&&--e.months,e.milliseconds=+t-+n.clone().add(e.months,"M"),e}function _1e(n,t){var e;return n.isValid()&&t.isValid()?(t=s2(t,n),n.isBefore(t)?e=v3(n,t):(e=v3(t,n),e.milliseconds=-e.milliseconds,e.months=-e.months),e):{milliseconds:0,months:0}}function d7(n,t){return function(e,r){var o,i;return r!==null&&!isNaN(+r)&&(RY(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=e,e=r,r=i),o=jc(e,r),f7(this,o,n),this}}function f7(n,t,e,r){var o=t._milliseconds,i=sD(t._days),a=sD(t._months);n.isValid()&&(r=r??!0,a&&XY(n,qw(n,"Month")+a*e),i&&zY(n,"Date",qw(n,"Date")+i*e),o&&n._d.setTime(n._d.valueOf()+o*e),r&&Xt.updateOffset(n,i||a))}var C1e=d7(1,"add"),S1e=d7(-1,"subtract");function A7(n){return typeof n=="string"||n instanceof String}function x1e(n){return Uc(n)||q_(n)||A7(n)||aA(n)||B1e(n)||E1e(n)||n===null||n===void 0}function E1e(n){var t=bm(n)&&!jV(n),e=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,a=r.length;for(o=0;o<a;o+=1)i=r[o],e=e||Hr(n,i);return t&&e}function B1e(n){var t=Dc(n),e=!1;return t&&(e=n.filter(function(r){return!aA(r)&&A7(n)}).length===0),t&&e}function k1e(n){var t=bm(n)&&!jV(n),e=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],e=e||Hr(n,i);return t&&e}function T1e(n,t){var e=n.diff(t,"days",!0);return e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"}function O1e(n,t){arguments.length===1&&(arguments[0]?x1e(arguments[0])?(n=arguments[0],t=void 0):k1e(arguments[0])&&(t=arguments[0],n=void 0):(n=void 0,t=void 0));var e=n||Io(),r=s2(e,this).startOf("day"),o=Xt.calendarFormat(this,r)||"sameElse",i=t&&(Wd(t[o])?t[o].call(this,e):t[o]);return this.format(i||this.localeData().calendar(o,this,Io(e)))}function P1e(){return new eC(this)}function I1e(n,t){var e=Uc(n)?n:Io(n);return this.isValid()&&e.isValid()?(t=tc(t)||"millisecond",t==="millisecond"?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf()):!1}function M1e(n,t){var e=Uc(n)?n:Io(n);return this.isValid()&&e.isValid()?(t=tc(t)||"millisecond",t==="millisecond"?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf()):!1}function F1e(n,t,e,r){var o=Uc(n)?n:Io(n),i=Uc(t)?t:Io(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,e):!this.isBefore(o,e))&&(r[1]===")"?this.isBefore(i,e):!this.isAfter(i,e))):!1}function D1e(n,t){var e=Uc(n)?n:Io(n),r;return this.isValid()&&e.isValid()?(t=tc(t)||"millisecond",t==="millisecond"?this.valueOf()===e.valueOf():(r=e.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function U1e(n,t){return this.isSame(n,t)||this.isAfter(n,t)}function L1e(n,t){return this.isSame(n,t)||this.isBefore(n,t)}function V1e(n,t,e){var r,o,i;if(!this.isValid())return NaN;if(r=s2(n,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=tc(t),t){case"year":i=zS(this,r)/12;break;case"month":i=zS(this,r);break;case"quarter":i=zS(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return e?i:Tu(i)}function zS(n,t){if(n.date()<t.date())return-zS(t,n);var e=(t.year()-n.year())*12+(t.month()-n.month()),r=n.clone().add(e,"months"),o,i;return t-r<0?(o=n.clone().add(e-1,"months"),i=(t-r)/(r-o)):(o=n.clone().add(e+1,"months"),i=(t-r)/(o-r)),-(e+i)||0}Xt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Xt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function N1e(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function R1e(n){if(!this.isValid())return null;var t=n!==!0,e=t?this.clone().utc():this;return e.year()<0||e.year()>9999?KS(e,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Wd(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",KS(e,"Z")):KS(e,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function H1e(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",t="",e,r,o,i;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),e="["+n+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(e+r+o+i)}function Q1e(n){n||(n=this.isUtc()?Xt.defaultFormatUtc:Xt.defaultFormat);var t=KS(this,n);return this.localeData().postformat(t)}function j1e(n,t){return this.isValid()&&(Uc(n)&&n.isValid()||Io(n).isValid())?jc({to:this,from:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function $1e(n){return this.from(Io(),n)}function K1e(n,t){return this.isValid()&&(Uc(n)&&n.isValid()||Io(n).isValid())?jc({from:this,to:n}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function W1e(n){return this.to(Io(),n)}function h7(n){var t;return n===void 0?this._locale._abbr:(t=AA(n),t!=null&&(this._locale=t),this)}var p7=ec("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function m7(){return this._locale}var xE=1e3,Zg=60*xE,EE=60*Zg,v7=(365*400+97)*24*EE;function qg(n,t){return(n%t+t)%t}function g7(n,t,e){return n<100&&n>=0?new Date(n+400,t,e)-v7:new Date(n,t,e).valueOf()}function y7(n,t,e){return n<100&&n>=0?Date.UTC(n+400,t,e)-v7:Date.UTC(n,t,e)}function z1e(n){var t,e;if(n=tc(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(e=this._isUTC?y7:g7,n){case"year":t=e(this.year(),0,1);break;case"quarter":t=e(this.year(),this.month()-this.month()%3,1);break;case"month":t=e(this.year(),this.month(),1);break;case"week":t=e(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=e(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=qg(t+(this._isUTC?0:this.utcOffset()*Zg),EE);break;case"minute":t=this._d.valueOf(),t-=qg(t,Zg);break;case"second":t=this._d.valueOf(),t-=qg(t,xE);break}return this._d.setTime(t),Xt.updateOffset(this,!0),this}function G1e(n){var t,e;if(n=tc(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(e=this._isUTC?y7:g7,n){case"year":t=e(this.year()+1,0,1)-1;break;case"quarter":t=e(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=e(this.year(),this.month()+1,1)-1;break;case"week":t=e(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=e(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=e(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=EE-qg(t+(this._isUTC?0:this.utcOffset()*Zg),EE)-1;break;case"minute":t=this._d.valueOf(),t+=Zg-qg(t,Zg)-1;break;case"second":t=this._d.valueOf(),t+=xE-qg(t,xE)-1;break}return this._d.setTime(t),Xt.updateOffset(this,!0),this}function Y1e(){return this._d.valueOf()-(this._offset||0)*6e4}function X1e(){return Math.floor(this.valueOf()/1e3)}function J1e(){return new Date(this.valueOf())}function Z1e(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function q1e(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function eSe(){return this.isValid()?this.toISOString():null}function tSe(){return $V(this)}function nSe(){return ch({},sr(this))}function rSe(){return sr(this).overflow}function oSe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}In("N",0,0,"eraAbbr");In("NN",0,0,"eraAbbr");In("NNN",0,0,"eraAbbr");In("NNNN",0,0,"eraName");In("NNNNN",0,0,"eraNarrow");In("y",["y",1],"yo","eraYear");In("y",["yy",2],0,"eraYear");In("y",["yyy",3],0,"eraYear");In("y",["yyyy",4],0,"eraYear");pn("N",l2);pn("NN",l2);pn("NNN",l2);pn("NNNN",pSe);pn("NNNNN",mSe);so(["N","NN","NNN","NNNN","NNNNN"],function(n,t,e,r){var o=e._locale.erasParse(n,r,e._strict);o?sr(e).era=o:sr(e).invalidEra=n});pn("y",zy);pn("yy",zy);pn("yyy",zy);pn("yyyy",zy);pn("yo",vSe);so(["y","yy","yyy","yyyy"],ls);so(["yo"],function(n,t,e,r){var o;e._locale._eraYearOrdinalRegex&&(o=n.match(e._locale._eraYearOrdinalRegex)),e._locale.eraYearOrdinalParse?t[ls]=e._locale.eraYearOrdinalParse(n,o):t[ls]=parseInt(n,10)});function iSe(n,t){var e,r,o,i=this._eras||AA("en")._eras;for(e=0,r=i.length;e<r;++e){switch(typeof i[e].since){case"string":o=Xt(i[e].since).startOf("day"),i[e].since=o.valueOf();break}switch(typeof i[e].until){case"undefined":i[e].until=1/0;break;case"string":o=Xt(i[e].until).startOf("day").valueOf(),i[e].until=o.valueOf();break}}return i}function aSe(n,t,e){var r,o,i=this.eras(),a,s,l;for(n=n.toUpperCase(),r=0,o=i.length;r<o;++r)if(a=i[r].name.toUpperCase(),s=i[r].abbr.toUpperCase(),l=i[r].narrow.toUpperCase(),e)switch(t){case"N":case"NN":case"NNN":if(s===n)return i[r];break;case"NNNN":if(a===n)return i[r];break;case"NNNNN":if(l===n)return i[r];break}else if([a,s,l].indexOf(n)>=0)return i[r]}function sSe(n,t){var e=n.since<=n.until?1:-1;return t===void 0?Xt(n.since).year():Xt(n.since).year()+(t-n.offset)*e}function lSe(){var n,t,e,r=this.localeData().eras();for(n=0,t=r.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),r[n].since<=e&&e<=r[n].until||r[n].until<=e&&e<=r[n].since)return r[n].name;return""}function uSe(){var n,t,e,r=this.localeData().eras();for(n=0,t=r.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),r[n].since<=e&&e<=r[n].until||r[n].until<=e&&e<=r[n].since)return r[n].narrow;return""}function cSe(){var n,t,e,r=this.localeData().eras();for(n=0,t=r.length;n<t;++n)if(e=this.clone().startOf("day").valueOf(),r[n].since<=e&&e<=r[n].until||r[n].until<=e&&e<=r[n].since)return r[n].abbr;return""}function dSe(){var n,t,e,r,o=this.localeData().eras();for(n=0,t=o.length;n<t;++n)if(e=o[n].since<=o[n].until?1:-1,r=this.clone().startOf("day").valueOf(),o[n].since<=r&&r<=o[n].until||o[n].until<=r&&r<=o[n].since)return(this.year()-Xt(o[n].since).year())*e+o[n].offset;return this.year()}function fSe(n){return Hr(this,"_erasNameRegex")||u2.call(this),n?this._erasNameRegex:this._erasRegex}function ASe(n){return Hr(this,"_erasAbbrRegex")||u2.call(this),n?this._erasAbbrRegex:this._erasRegex}function hSe(n){return Hr(this,"_erasNarrowRegex")||u2.call(this),n?this._erasNarrowRegex:this._erasRegex}function l2(n,t){return t.erasAbbrRegex(n)}function pSe(n,t){return t.erasNameRegex(n)}function mSe(n,t){return t.erasNarrowRegex(n)}function vSe(n,t){return t._eraYearOrdinalRegex||zy}function u2(){var n=[],t=[],e=[],r=[],o,i,a,s,l,u=this.eras();for(o=0,i=u.length;o<i;++o)a=Wf(u[o].name),s=Wf(u[o].abbr),l=Wf(u[o].narrow),t.push(a),n.push(s),e.push(l),r.push(a),r.push(s),r.push(l);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+e.join("|")+")","i")}In(0,["gg",2],0,function(){return this.weekYear()%100});In(0,["GG",2],0,function(){return this.isoWeekYear()%100});function xT(n,t){In(0,[n,n.length],0,t)}xT("gggg","weekYear");xT("ggggg","weekYear");xT("GGGG","isoWeekYear");xT("GGGGG","isoWeekYear");pn("G",bT);pn("g",bT);pn("GG",Mo,Au);pn("gg",Mo,Au);pn("GGGG",XV,YV);pn("gggg",XV,YV);pn("GGGGG",yT,vT);pn("ggggg",yT,vT);nC(["gggg","ggggg","GGGG","GGGGG"],function(n,t,e,r){t[r.substr(0,2)]=xr(n)});nC(["gg","GG"],function(n,t,e,r){t[r]=Xt.parseTwoDigitYear(n)});function gSe(n){return b7.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ySe(n){return b7.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function bSe(){return zf(this.year(),1,4)}function wSe(){return zf(this.isoWeekYear(),1,4)}function _Se(){var n=this.localeData()._week;return zf(this.year(),n.dow,n.doy)}function CSe(){var n=this.localeData()._week;return zf(this.weekYear(),n.dow,n.doy)}function b7(n,t,e,r,o){var i;return n==null?t_(this,r,o).year:(i=zf(n,r,o),t>i&&(t=i),SSe.call(this,n,t,e,r,o))}function SSe(n,t,e,r,o){var i=qY(n,t,e,r,o),a=e_(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}In("Q",0,"Qo","quarter");pn("Q",QY);so("Q",function(n,t){t[Nf]=(xr(n)-1)*3});function xSe(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}In("D",["DD",2],"Do","date");pn("D",Mo,Gy);pn("DD",Mo,Au);pn("Do",function(n,t){return n?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});so(["D","DD"],wd);so("Do",function(n,t){t[wd]=xr(n.match(Mo)[0])});var w7=Yy("Date",!0);In("DDD",["DDDD",3],"DDDo","dayOfYear");pn("DDD",gT);pn("DDDD",jY);so(["DDD","DDDD"],function(n,t,e){e._dayOfYear=xr(n)});function ESe(n){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?t:this.add(n-t,"d")}In("m",["mm",2],0,"minute");pn("m",Mo,JV);pn("mm",Mo,Au);so(["m","mm"],Bc);var BSe=Yy("Minutes",!1);In("s",["ss",2],0,"second");pn("s",Mo,JV);pn("ss",Mo,Au);so(["s","ss"],Rf);var kSe=Yy("Seconds",!1);In("S",0,0,function(){return~~(this.millisecond()/100)});In(0,["SS",2],0,function(){return~~(this.millisecond()/10)});In(0,["SSS",3],0,"millisecond");In(0,["SSSS",4],0,function(){return this.millisecond()*10});In(0,["SSSSS",5],0,function(){return this.millisecond()*100});In(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});In(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});In(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});In(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});pn("S",gT,QY);pn("SS",gT,Au);pn("SSS",gT,jY);var dh,_7;for(dh="SSSS";dh.length<=9;dh+="S")pn(dh,zy);function TSe(n,t){t[Gp]=xr(("0."+n)*1e3)}for(dh="S";dh.length<=9;dh+="S")so(dh,TSe);_7=Yy("Milliseconds",!1);In("z",0,0,"zoneAbbr");In("zz",0,0,"zoneName");function OSe(){return this._isUTC?"UTC":""}function PSe(){return this._isUTC?"Coordinated Universal Time":""}var zt=eC.prototype;zt.add=C1e;zt.calendar=O1e;zt.clone=P1e;zt.diff=V1e;zt.endOf=G1e;zt.format=Q1e;zt.from=j1e;zt.fromNow=$1e;zt.to=K1e;zt.toNow=W1e;zt.get=H_e;zt.invalidAt=rSe;zt.isAfter=I1e;zt.isBefore=M1e;zt.isBetween=F1e;zt.isSame=D1e;zt.isSameOrAfter=U1e;zt.isSameOrBefore=L1e;zt.isValid=tSe;zt.lang=p7;zt.locale=h7;zt.localeData=m7;zt.max=t1e;zt.min=e1e;zt.parsingFlags=nSe;zt.set=Q_e;zt.startOf=z1e;zt.subtract=S1e;zt.toArray=Z1e;zt.toObject=q1e;zt.toDate=J1e;zt.toISOString=R1e;zt.inspect=H1e;typeof Symbol<"u"&&Symbol.for!=null&&(zt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});zt.toJSON=eSe;zt.toString=N1e;zt.unix=X1e;zt.valueOf=Y1e;zt.creationData=oSe;zt.eraName=lSe;zt.eraNarrow=uSe;zt.eraAbbr=cSe;zt.eraYear=dSe;zt.year=WY;zt.isLeapYear=R_e;zt.weekYear=gSe;zt.isoWeekYear=ySe;zt.quarter=zt.quarters=xSe;zt.month=JY;zt.daysInMonth=J_e;zt.week=zt.weeks=iCe;zt.isoWeek=zt.isoWeeks=aCe;zt.weeksInYear=_Se;zt.weeksInWeekYear=CSe;zt.isoWeeksInYear=bSe;zt.isoWeeksInISOWeekYear=wSe;zt.date=w7;zt.day=zt.days=yCe;zt.weekday=bCe;zt.isoWeekday=wCe;zt.dayOfYear=ESe;zt.hour=zt.hours=kCe;zt.minute=zt.minutes=BSe;zt.second=zt.seconds=kSe;zt.millisecond=zt.milliseconds=_7;zt.utcOffset=c1e;zt.utc=f1e;zt.local=A1e;zt.parseZone=h1e;zt.hasAlignedHourOffset=p1e;zt.isDST=m1e;zt.isLocal=g1e;zt.isUtcOffset=y1e;zt.isUtc=c7;zt.isUTC=c7;zt.zoneAbbr=OSe;zt.zoneName=PSe;zt.dates=ec("dates accessor is deprecated. Use date instead.",w7);zt.months=ec("months accessor is deprecated. Use month instead",JY);zt.years=ec("years accessor is deprecated. Use year instead",WY);zt.zone=ec("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",d1e);zt.isDSTShifted=ec("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",v1e);function ISe(n){return Io(n*1e3)}function MSe(){return Io.apply(null,arguments).parseZone()}function C7(n){return n}var jr=WV.prototype;jr.calendar=g_e;jr.longDateFormat=__e;jr.invalidDate=S_e;jr.ordinal=B_e;jr.preparse=C7;jr.postformat=C7;jr.relativeTime=T_e;jr.pastFuture=O_e;jr.set=m_e;jr.eras=iSe;jr.erasParse=aSe;jr.erasConvertYear=sSe;jr.erasAbbrRegex=ASe;jr.erasNameRegex=fSe;jr.erasNarrowRegex=hSe;jr.months=z_e;jr.monthsShort=G_e;jr.monthsParse=X_e;jr.monthsRegex=q_e;jr.monthsShortRegex=Z_e;jr.week=tCe;jr.firstDayOfYear=oCe;jr.firstDayOfWeek=rCe;jr.weekdays=hCe;jr.weekdaysMin=mCe;jr.weekdaysShort=pCe;jr.weekdaysParse=gCe;jr.weekdaysRegex=_Ce;jr.weekdaysShortRegex=CCe;jr.weekdaysMinRegex=SCe;jr.isPM=ECe;jr.meridiem=TCe;function BE(n,t,e,r){var o=AA(),i=Kd().set(r,t);return o[e](i,n)}function S7(n,t,e){if(aA(n)&&(t=n,n=void 0),n=n||"",t!=null)return BE(n,t,e,"month");var r,o=[];for(r=0;r<12;r++)o[r]=BE(n,r,e,"month");return o}function c2(n,t,e,r){typeof n=="boolean"?(aA(t)&&(e=t,t=void 0),t=t||""):(t=n,e=t,n=!1,aA(t)&&(e=t,t=void 0),t=t||"");var o=AA(),i=n?o._week.dow:0,a,s=[];if(e!=null)return BE(t,(e+i)%7,r,"day");for(a=0;a<7;a++)s[a]=BE(t,(a+i)%7,r,"day");return s}function FSe(n,t){return S7(n,t,"months")}function DSe(n,t){return S7(n,t,"monthsShort")}function USe(n,t,e){return c2(n,t,e,"weekdays")}function LSe(n,t,e){return c2(n,t,e,"weekdaysShort")}function VSe(n,t,e){return c2(n,t,e,"weekdaysMin")}Eh("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var t=n%10,e=xr(n%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+e}});Xt.lang=ec("moment.lang is deprecated. Use moment.locale instead.",Eh);Xt.langData=ec("moment.langData is deprecated. Use moment.localeData instead.",AA);var yf=Math.abs;function NSe(){var n=this._data;return this._milliseconds=yf(this._milliseconds),this._days=yf(this._days),this._months=yf(this._months),n.milliseconds=yf(n.milliseconds),n.seconds=yf(n.seconds),n.minutes=yf(n.minutes),n.hours=yf(n.hours),n.months=yf(n.months),n.years=yf(n.years),this}function x7(n,t,e,r){var o=jc(t,e);return n._milliseconds+=r*o._milliseconds,n._days+=r*o._days,n._months+=r*o._months,n._bubble()}function RSe(n,t){return x7(this,n,t,1)}function HSe(n,t){return x7(this,n,t,-1)}function g3(n){return n<0?Math.floor(n):Math.ceil(n)}function QSe(){var n=this._milliseconds,t=this._days,e=this._months,r=this._data,o,i,a,s,l;return n>=0&&t>=0&&e>=0||n<=0&&t<=0&&e<=0||(n+=g3(uD(e)+t)*864e5,t=0,e=0),r.milliseconds=n%1e3,o=Tu(n/1e3),r.seconds=o%60,i=Tu(o/60),r.minutes=i%60,a=Tu(i/60),r.hours=a%24,t+=Tu(a/24),l=Tu(E7(t)),e+=l,t-=g3(uD(l)),s=Tu(e/12),e%=12,r.days=t,r.months=e,r.years=s,this}function E7(n){return n*4800/146097}function uD(n){return n*146097/4800}function jSe(n){if(!this.isValid())return NaN;var t,e,r=this._milliseconds;if(n=tc(n),n==="month"||n==="quarter"||n==="year")switch(t=this._days+r/864e5,e=this._months+E7(t),n){case"month":return e;case"quarter":return e/3;case"year":return e/12}else switch(t=this._days+Math.round(uD(this._months)),n){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+n)}}function hA(n){return function(){return this.as(n)}}var B7=hA("ms"),$Se=hA("s"),KSe=hA("m"),WSe=hA("h"),zSe=hA("d"),GSe=hA("w"),YSe=hA("M"),XSe=hA("Q"),JSe=hA("y"),ZSe=B7;function qSe(){return jc(this)}function exe(n){return n=tc(n),this.isValid()?this[n+"s"]():NaN}function uv(n){return function(){return this.isValid()?this._data[n]:NaN}}var txe=uv("milliseconds"),nxe=uv("seconds"),rxe=uv("minutes"),oxe=uv("hours"),ixe=uv("days"),axe=uv("months"),sxe=uv("years");function lxe(){return Tu(this.days()/7)}var Bf=Math.round,xg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function uxe(n,t,e,r,o){return o.relativeTime(t||1,!!e,n,r)}function cxe(n,t,e,r){var o=jc(n).abs(),i=Bf(o.as("s")),a=Bf(o.as("m")),s=Bf(o.as("h")),l=Bf(o.as("d")),u=Bf(o.as("M")),c=Bf(o.as("w")),d=Bf(o.as("y")),f=i<=e.ss&&["s",i]||i<e.s&&["ss",i]||a<=1&&["m"]||a<e.m&&["mm",a]||s<=1&&["h"]||s<e.h&&["hh",s]||l<=1&&["d"]||l<e.d&&["dd",l];return e.w!=null&&(f=f||c<=1&&["w"]||c<e.w&&["ww",c]),f=f||u<=1&&["M"]||u<e.M&&["MM",u]||d<=1&&["y"]||["yy",d],f[2]=t,f[3]=+n>0,f[4]=r,uxe.apply(null,f)}function dxe(n){return n===void 0?Bf:typeof n=="function"?(Bf=n,!0):!1}function fxe(n,t){return xg[n]===void 0?!1:t===void 0?xg[n]:(xg[n]=t,n==="s"&&(xg.ss=t-1),!0)}function Axe(n,t){if(!this.isValid())return this.localeData().invalidDate();var e=!1,r=xg,o,i;return typeof n=="object"&&(t=n,n=!1),typeof n=="boolean"&&(e=n),typeof t=="object"&&(r=Object.assign({},xg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=cxe(this,!e,r,o),e&&(i=o.pastFuture(+this,i)),o.postformat(i)}var iI=Math.abs;function zv(n){return(n>0)-(n<0)||+n}function ET(){if(!this.isValid())return this.localeData().invalidDate();var n=iI(this._milliseconds)/1e3,t=iI(this._days),e=iI(this._months),r,o,i,a,s=this.asSeconds(),l,u,c,d;return s?(r=Tu(n/60),o=Tu(r/60),n%=60,r%=60,i=Tu(e/12),e%=12,a=n?n.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",u=zv(this._months)!==zv(s)?"-":"",c=zv(this._days)!==zv(s)?"-":"",d=zv(this._milliseconds)!==zv(s)?"-":"",l+"P"+(i?u+i+"Y":"")+(e?u+e+"M":"")+(t?c+t+"D":"")+(o||r||n?"T":"")+(o?d+o+"H":"")+(r?d+r+"M":"")+(n?d+a+"S":"")):"P0D"}var Mr=ST.prototype;Mr.isValid=a1e;Mr.abs=NSe;Mr.add=RSe;Mr.subtract=HSe;Mr.as=jSe;Mr.asMilliseconds=B7;Mr.asSeconds=$Se;Mr.asMinutes=KSe;Mr.asHours=WSe;Mr.asDays=zSe;Mr.asWeeks=GSe;Mr.asMonths=YSe;Mr.asQuarters=XSe;Mr.asYears=JSe;Mr.valueOf=ZSe;Mr._bubble=QSe;Mr.clone=qSe;Mr.get=exe;Mr.milliseconds=txe;Mr.seconds=nxe;Mr.minutes=rxe;Mr.hours=oxe;Mr.days=ixe;Mr.weeks=lxe;Mr.months=axe;Mr.years=sxe;Mr.humanize=Axe;Mr.toISOString=ET;Mr.toString=ET;Mr.toJSON=ET;Mr.locale=h7;Mr.localeData=m7;Mr.toIsoString=ec("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ET);Mr.lang=p7;In("X",0,0,"unix");In("x",0,0,"valueOf");pn("x",bT);pn("X",F_e);so("X",function(n,t,e){e._d=new Date(parseFloat(n)*1e3)});so("x",function(n,t,e){e._d=new Date(xr(n))});//! moment.js
Xt.version="2.30.1";h_e(Io);Xt.fn=zt;Xt.min=n1e;Xt.max=r1e;Xt.now=o1e;Xt.utc=Kd;Xt.unix=ISe;Xt.months=FSe;Xt.isDate=q_;Xt.locale=Eh;Xt.invalid=mT;Xt.duration=jc;Xt.isMoment=Uc;Xt.weekdays=USe;Xt.parseZone=MSe;Xt.localeData=AA;Xt.isDuration=WS;Xt.monthsShort=DSe;Xt.weekdaysMin=VSe;Xt.defineLocale=n2;Xt.updateLocale=MCe;Xt.locales=FCe;Xt.weekdaysShort=LSe;Xt.normalizeUnits=tc;Xt.relativeTimeRounding=dxe;Xt.relativeTimeThreshold=fxe;Xt.calendarFormat=T1e;Xt.prototype=zt;Xt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const hxe={class:"pa-3"},pxe={class:"d-flex"},mxe={class:"text-capitalize"},vxe={class:"d-flex align-center"},gxe=["src"],yxe={key:0,class:"ml-4"},bxe={key:0,class:"text-capitalize"},wxe={key:0,class:"text-capitalize"},_xe={key:0,class:"ml-4"},Cxe={key:0,class:"ml-4"},Sxe={key:0,class:"ml-4"},xxe={key:0,class:"ml-4"},Exe={class:"text-capitalize"},Bxe=rn({__name:"MyProducts",props:{product_list:{type:Array,required:!0},product_type:{type:String,required:!0}},emits:["refresh"],setup(n,{emit:t}){const e=Vt(),r=Oe(!1),o=[{title:"Product",value:"name",sortable:!0},{title:"Brand",value:"manufacturer",sortable:!0},{title:"Type",value:"item_type",sortable:!0},{title:"SKU",value:"sku_no",sortable:!0},{title:"OEM #",value:"oem_no",sortable:!0},{title:"Price",value:"price",sortable:!0},{title:"Margin",value:"margin",sortable:!0},{title:"Created at",value:"created_at",sortable:!0},{title:"Manage",value:"manage",sortable:!1}],{modals:i}=Lt(e),a=Oe({search:"",item_type:"",manufacturer:""}),s=Oe(null),l=Oe(null),u=ae(()=>a.value.search||a.value.item_type||a.value.manufacturer),{getAccessTokenSilently:c}=Er(),d=ae(()=>{let S=n.product_list,y=a.value.search.toLowerCase();return a.value.search&&(S=S.filter(C=>{var T,P,F,I,k,M,V;return((T=C.name)==null?void 0:T.toLowerCase().includes(y))||((P=C.manufacturer)==null?void 0:P.toLowerCase().includes(y))||((F=C.item_type)==null?void 0:F.toLowerCase().includes(y))||((I=C.sku_no)==null?void 0:I.toLowerCase().includes(y))||((k=C.oem_no)==null?void 0:k.toLowerCase().includes(y))||((M=C.price)==null?void 0:M.toString().includes(y))||((V=C.margin)==null?void 0:V.toString().includes(y))})),a.value.manufacturer&&(S=S.filter(C=>C.manufacturer.toLowerCase()==a.value.manufacturer.toLowerCase())),S}),f=()=>{a.value={search:"",item_type:"",manufacturer:""}},h=S=>{s.value=S.id,i.value.my_product_editor=!0},p=()=>{s.value=null,i.value.my_product_editor=!0},v=async S=>{const y=new FormData;l.value=S.id;const C=await c();y.append("product",JSON.stringify(S)),sn(C).post("/inventory/submit-product",y).then(T=>{console.log(T.data),e.ShowSuccess(T.data.message)}).finally(()=>{_(),l.value=null})},g=async(S,y)=>{await e.OpenDialog("Confirm action",`This will be moved to "${S}" tab. Continue?`)&&(y.item_type=S,await v(y))},_=async()=>{const S=await c();await e.FetchMyProducts(S)};return(S,y)=>{const C=A_e;return le(),Re(cr,{style:Ue(O(bh)),elevation:"0"},{default:N(()=>[x(Fn,null,{default:N(()=>[H("div",hxe,[x(Xn,null,{default:N(()=>[x(wt,{cols:"6"},{default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"4"},{default:N(()=>[x(_t,{label:"Search...",density:"compact",variant:"outlined",modelValue:O(a).search,"onUpdate:modelValue":y[0]||(y[0]=T=>O(a).search=T)},null,8,["modelValue"])]),_:1}),x(wt,{cols:"4"},{default:N(()=>[x(mr,{density:"compact",variant:"outlined",label:"Manufacturer",items:O(Gx),modelValue:O(a).manufacturer,"onUpdate:modelValue":y[1]||(y[1]=T=>O(a).manufacturer=T)},null,8,["items","modelValue"])]),_:1}),x(wt,{cols:"4"})]),_:1})]),_:1}),x(wt,{cols:"6"},{default:N(()=>[H("div",pxe,[x(En),O(u)?(le(),Re($e,{key:0,class:"mr-3",text:"Reset Filters",onClick:f,style:Ue(O(hn))},null,8,["style"])):xt("",!0),x($e,{text:"New Product",onClick:p,style:Ue(O(hn)),"prepend-icon":"mdi-plus-circle"},null,8,["style"])])]),_:1})]),_:1})]),x(hi,{class:"mb-5",style:Ue(O(zr)),items:O(d),headers:o},{"footer.prepend":N(()=>[x(wz,{"hide-details":"",class:"ml-2",color:"primary",label:"Quick Edit",variant:"outlined",modelValue:O(r),"onUpdate:modelValue":y[2]||(y[2]=T=>Ht(r)?r.value=T:null),style:{width:"150px"}},null,8,["modelValue"]),x(En)]),item:N(({item:T})=>[H("tr",null,[H("td",mxe,[H("div",vxe,[H("img",{width:"40",height:"40",class:"rounded border",style:{background:"rgba(132,132,132,0.64)"},src:T.image||"/assets/img/no-image.png",alt:""},null,8,gxe),O(r)?(le(),Re(_t,{key:1,"hide-details":"",density:"compact",style:{"min-width":"200px"},modelValue:T.name,"onUpdate:modelValue":P=>T.name=P},null,8,["modelValue","onUpdate:modelValue"])):(le(),et("span",yxe,at(T.name),1))])]),H("td",null,[O(r)?(le(),Re(Wy,{key:1,"hide-details":"",density:"compact",items:O(Gx),modelValue:T.manufacturer,"onUpdate:modelValue":P=>T.manufacturer=P},null,8,["items","modelValue","onUpdate:modelValue"])):(le(),et("span",bxe,at(T.manufacturer),1))]),H("td",null,[O(r)?(le(),Re(mr,{key:1,"hide-details":"",density:"compact",items:O(GW),"model-value":T.item_type,"onUpdate:modelValue":P=>g(P,T)},null,8,["items","model-value","onUpdate:modelValue"])):(le(),et("span",wxe,at(T.item_type),1))]),H("td",null,[O(r)?(le(),Re(_t,{key:1,"hide-details":"",density:"compact",modelValue:T.sku_no,"onUpdate:modelValue":P=>T.sku_no=P},null,8,["modelValue","onUpdate:modelValue"])):(le(),et("div",_xe,at(T.sku_no),1))]),H("td",null,[O(r)?(le(),Re(_t,{key:1,"hide-details":"",density:"compact",modelValue:T.oem_no,"onUpdate:modelValue":P=>T.oem_no=P},null,8,["modelValue","onUpdate:modelValue"])):(le(),et("div",Cxe,at(T.oem_no),1))]),H("td",null,[O(r)?(le(),Re(_t,{key:1,"hide-details":"",density:"compact",modelValue:T.price,"onUpdate:modelValue":P=>T.price=P},null,8,["modelValue","onUpdate:modelValue"])):(le(),et("div",Sxe,at(T.price),1))]),H("td",null,[O(r)?(le(),Re(_t,{key:1,"hide-details":"",density:"compact",modelValue:T.margin,"onUpdate:modelValue":P=>T.margin=P},null,8,["modelValue","onUpdate:modelValue"])):(le(),et("div",xxe,at(T.margin),1))]),H("td",null,at(O(Xt)(T.created_at).format("MMMM D, YYYY")),1),H("td",Exe,[O(r)?(le(),Re($e,{key:0,style:Ue(O(hn)),loading:O(l)==T.id,color:"info",onClick:P=>v(T),"prepend-icon":"mdi-floppy",class:"ml-2"},{default:N(()=>[...y[3]||(y[3]=[Je("Save",-1)])]),_:1},8,["style","loading","onClick"])):(le(),Re($e,{key:1,color:"info",onClick:P=>h(T),variant:"outlined","prepend-icon":"mdi-pencil-circle"},{default:N(()=>[...y[4]||(y[4]=[Je("Edit",-1)])]),_:1},8,["onClick"]))])])]),_:1},8,["style","items"])]),_:1}),O(i).my_product_editor?(le(),Re(C,{key:0,product_type:n.product_type,product_id:O(s),onRefresh:_},null,8,["product_type","product_id"])):xt("",!0)]),_:1},8,["style"])}}}),d2=Symbol.for("vuetify:v-tabs"),k7=it({fixed:Boolean,sliderColor:String,sliderTransition:String,sliderTransitionDuration:[String,Number],hideSlider:Boolean,inset:Boolean,direction:{type:String,default:"horizontal"},...Ir(KL({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),xi=Dt()({name:"VTab",props:k7(),setup(n,t){let{slots:e,attrs:r}=t;const{textColorClasses:o,textColorStyles:i}=Il(()=>n.sliderColor),{backgroundColorClasses:a,backgroundColorStyles:s}=Po(()=>n.sliderColor),l=Oe(),u=Oe(),c=ae(()=>n.direction==="horizontal"),d=ae(()=>{var g,_;return((_=(g=l.value)==null?void 0:g.group)==null?void 0:_.isSelected.value)??!1});function f(g,_){return{opacity:[0,1]}}function h(g,_){return n.direction==="vertical"?{transform:["scaleY(0)","scaleY(1)"]}:{transform:["scaleX(0)","scaleX(1)"]}}function p(g,_){const S=_.getBoundingClientRect(),y=g.getBoundingClientRect(),C=c.value?"x":"y",T=c.value?"X":"Y",P=c.value?"right":"bottom",F=c.value?"width":"height",I=S[C],k=y[C],M=I>k?S[P]-y[P]:S[C]-y[C],V=Math.sign(M)>0?c.value?"right":"bottom":Math.sign(M)<0?c.value?"left":"top":"center",$=(Math.abs(M)+(Math.sign(M)<0?S[F]:y[F]))/Math.max(S[F],y[F])||0,Q=S[F]/y[F]||0,J=1.5;return{transform:[`translate${T}(${M}px) scale${T}(${Q})`,`translate${T}(${M/J}px) scale${T}(${($-1)/J+1})`,"none"],transformOrigin:Array(3).fill(V)}}function v(g){var S,y;let{value:_}=g;if(_){const C=(y=(S=l.value)==null?void 0:S.$el.parentElement)==null?void 0:y.querySelector(".v-tab--selected .v-tab__slider"),T=u.value;if(!C||!T)return;const P=getComputedStyle(C).color,F={fade:f,grow:h,shift:p}[n.sliderTransition??"shift"]??p,I=Number(n.sliderTransitionDuration)||({fade:400,grow:350,shift:225}[n.sliderTransition??"shift"]??225);Pf(T,{backgroundColor:[P,"currentcolor"],...F(T,C)},{duration:I,easing:bw})}}return Kt(()=>{const g=$e.filterProps(n);return x($e,bt({symbol:d2,ref:l,class:["v-tab",n.class,d.value&&n.inset?a.value:[]],style:[n.style,d.value&&n.inset?s.value:[]],tabindex:d.value?0:-1,role:"tab","aria-selected":String(d.value),active:!1},g,r,{block:n.fixed,maxWidth:n.fixed?300:void 0,"onGroup:selected":v}),{...e,default:()=>{var _;return H(ut,null,[((_=e.default)==null?void 0:_.call(e))??n.text,!n.hideSlider&&H("div",{ref:u,class:pt(["v-tab__slider",o.value]),style:Ue(i.value)},null)])}})}),nl({},l)}}),T7=Symbol.for("vuetify:v-window"),O7=Symbol.for("vuetify:v-window-group"),P7=it({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:n=>typeof n=="boolean"||n==="hover"},verticalArrows:[Boolean,String],touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},crossfade:Boolean,transitionDuration:Number,...Cn(),...Br(),...Zr()},"VWindow"),r_=Dt()({name:"VWindow",directives:{vTouch:CF},props:P7(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const{themeClasses:r}=Co(n),{isRtl:o}=Ji(),{t:i}=Ri(),a=Q_(n,O7),s=Oe(),l=ae(()=>o.value?!n.reverse:n.reverse),u=It(!1),c=ae(()=>{if(n.crossfade)return"v-window-crossfade-transition";const C=n.direction==="vertical"?"y":"x",P=(l.value?!u.value:u.value)?"-reverse":"";return`v-window-${C}${P}-transition`}),d=It(0),f=Oe(void 0),h=ae(()=>a.items.value.findIndex(C=>a.selected.value.includes(C.id)));lt(h,(C,T)=>{let P;const F={left:0,top:0};Rr&&T>=0&&(P=FL(s.value),F.left=P==null?void 0:P.scrollLeft,F.top=P==null?void 0:P.scrollTop);const I=a.items.value.length,k=I-1;I<=2?u.value=C<T:C===k&&T===0?u.value=!1:C===0&&T===k?u.value=!0:u.value=C<T,tr(()=>{if(!Rr||!P)return;P.scrollTop!==F.top&&P.scrollTo({...F,behavior:"instant"}),requestAnimationFrame(()=>{if(!P)return;P.scrollTop!==F.top&&P.scrollTo({...F,behavior:"instant"})})})},{flush:"sync"}),no(T7,{transition:c,isReversed:u,transitionCount:d,transitionHeight:f,rootRef:s});const p=ze(()=>n.continuous||h.value!==0),v=ze(()=>n.continuous||h.value!==a.items.value.length-1);function g(){p.value&&a.prev()}function _(){v.value&&a.next()}const S=ae(()=>{const C=[],T={icon:o.value?n.nextIcon:n.prevIcon,class:`v-window__${l.value?"right":"left"}`,onClick:a.prev,"aria-label":i("$vuetify.carousel.prev")};C.push(p.value?e.prev?e.prev({props:T}):x($e,T,null):H("div",null,null));const P={icon:o.value?n.prevIcon:n.nextIcon,class:`v-window__${l.value?"left":"right"}`,onClick:a.next,"aria-label":i("$vuetify.carousel.next")};return C.push(v.value?e.next?e.next({props:P}):x($e,P,null):H("div",null,null)),C}),y=ae(()=>n.touch===!1?n.touch:{...{left:()=>{l.value?g():_()},right:()=>{l.value?_():g()},start:T=>{let{originalEvent:P}=T;P.stopPropagation()}},...n.touch===!0?{}:n.touch});return Kt(()=>Qn(x(n.tag,{ref:s,class:pt(["v-window",{"v-window--show-arrows-on-hover":n.showArrows==="hover","v-window--vertical-arrows":!!n.verticalArrows,"v-window--crossfade":!!n.crossfade},r.value,n.class]),style:Ue([n.style,{"--v-window-transition-duration":km()?null:$t(n.transitionDuration,"ms")}])},{default:()=>{var C,T;return[H("div",{class:"v-window__container",style:{height:f.value}},[(C=e.default)==null?void 0:C.call(e,{group:a}),n.showArrows!==!1&&H("div",{class:pt(["v-window__controls",{"v-window__controls--left":n.verticalArrows==="left"||n.verticalArrows===!0},{"v-window__controls--right":n.verticalArrows==="right"}])},[S.value])]),(T=e.additional)==null?void 0:T.call(e,{group:a})]}}),[[CF,y.value]])),{group:a}}}),kxe=it({...Ir(P7(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),BT=Dt()({name:"VTabsWindow",props:kxe(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const r=Hn(d2,null),o=Mn(n,"modelValue"),i=ae({get(){var a;return o.value!=null||!r?o.value:(a=r.items.value.find(s=>r.selected.value.includes(s.id)))==null?void 0:a.value},set(a){o.value=a}});return Kt(()=>{const a=r_.filterProps(n);return x(r_,bt({_as:"VTabsWindow"},a,{modelValue:i.value,"onUpdate:modelValue":s=>i.value=s,class:["v-tabs-window",n.class],style:n.style,mandatory:!1,touch:!1}),e)}),{}}}),I7=it({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Cn(),...Lk(),...zL()},"VWindowItem"),js=Dt()({name:"VWindowItem",directives:{vTouch:CF},props:I7(),emits:{"group:selected":n=>!0},setup(n,t){let{slots:e}=t;const r=Hn(T7),o=xw(n,O7),{isBooted:i}=V_();if(!r||!o)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=It(!1),s=ae(()=>i.value&&(r.isReversed.value?n.reverseTransition!==!1:n.transition!==!1));function l(){!a.value||!r||(a.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function u(){var p;a.value||!r||(a.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=$t((p=r.rootRef.value)==null?void 0:p.clientHeight)),r.transitionCount.value+=1)}function c(){l()}function d(p){a.value&&tr(()=>{!s.value||!a.value||!r||(r.transitionHeight.value=$t(p.clientHeight))})}const f=ae(()=>{const p=r.isReversed.value?n.reverseTransition:n.transition;return s.value?{name:typeof p!="string"?r.transition.value:p,onBeforeEnter:u,onAfterEnter:l,onEnterCancelled:c,onBeforeLeave:u,onAfterLeave:l,onLeaveCancelled:c,onEnter:d}:!1}),{hasContent:h}=GL(n,o.isSelected);return Kt(()=>x(Du,{transition:f.value,disabled:!i.value},{default:()=>{var p;return[Qn(H("div",{class:pt(["v-window-item",o.selectedClass.value,n.class]),style:Ue(n.style)},[h.value&&((p=e.default)==null?void 0:p.call(e))]),[[Ju,o.isSelected.value]])]}})),{groupItem:o}}}),Txe=it({...I7()},"VTabsWindowItem"),Bh=Dt()({name:"VTabsWindowItem",props:Txe(),setup(n,t){let{slots:e}=t;return Kt(()=>{const r=js.filterProps(n);return x(js,bt({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",n.class],style:n.style}),e)}),{}}});function Oxe(n){return n?n.map(t=>Om(t)?t:{text:t,value:t}):[]}const Pxe=it({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,inset:Boolean,insetPadding:[String,Number],insetRadius:[String,Number],sliderColor:String,...Od(k7(),["spaced","sliderTransition","sliderTransitionDuration"]),...aV({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Va(),...Br()},"VTabs"),Xy=Dt()({name:"VTabs",props:Pxe(),emits:{"update:modelValue":n=>!0},setup(n,t){let{attrs:e,slots:r}=t;const o=Mn(n,"modelValue"),i=ae(()=>Oxe(n.items)),{densityClasses:a}=qu(n),{backgroundColorClasses:s,backgroundColorStyles:l}=Po(()=>n.bgColor),{scopeId:u}=iv();return Pl({VTab:{color:ze(n,"color"),direction:ze(n,"direction"),stacked:ze(n,"stacked"),fixed:ze(n,"fixedTabs"),inset:ze(n,"inset"),sliderColor:ze(n,"sliderColor"),sliderTransition:ze(n,"sliderTransition"),sliderTransitionDuration:ze(n,"sliderTransitionDuration"),hideSlider:ze(n,"hideSlider")}}),Kt(()=>{const c=Zx.filterProps(n),d=!!(r.window||n.items.length>0);return H(ut,null,[x(Zx,bt(c,{modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,class:["v-tabs",`v-tabs--${n.direction}`,`v-tabs--align-tabs-${n.alignTabs}`,{"v-tabs--fixed-tabs":n.fixedTabs,"v-tabs--grow":n.grow,"v-tabs--inset":n.inset,"v-tabs--stacked":n.stacked},a.value,s.value,n.class],style:[{"--v-tabs-height":$t(n.height),"--v-tabs-inset-padding":n.inset?$t(n.insetPadding):void 0,"--v-tabs-inset-radius":n.inset?$t(n.insetRadius):void 0},l.value,n.style],role:"tablist",symbol:d2},u,e),{default:r.default??(()=>i.value.map(f=>{var h;return((h=r.tab)==null?void 0:h.call(r,{item:f}))??x(xi,bt(f,{key:f.text,value:f.value,spaced:n.spaced}),{default:r[`tab.${f.value}`]?()=>{var p;return(p=r[`tab.${f.value}`])==null?void 0:p.call(r,{item:f})}:void 0})})),prev:r.prev,next:r.next}),d&&x(BT,bt({modelValue:o.value,"onUpdate:modelValue":f=>o.value=f,key:"tabs-window"},u),{default:()=>{var f;return[i.value.map(h=>{var p;return((p=r.item)==null?void 0:p.call(r,{item:h}))??x(Bh,{value:h.value},{default:()=>{var v;return(v=r[`item.${h.value}`])==null?void 0:v.call(r,{item:h})}})}),(f=r.window)==null?void 0:f.call(r)]}})])}),{}}}),Ixe=rn({__name:"inventory",setup(n){const t=Vt(),e=Oe("products"),{getAccessTokenSilently:r}=Er(),{partner_users:o,my_products:i}=Lt(t),a=l=>i.value.filter(u=>u.item_type==l),s=async()=>{const l=await r();await t.FetchMyProducts(l)};return Kn(async()=>s()),lt(o,l=>{l.length&&(s(),console.log("Partner Users: ",l))},{immediate:!0}),(l,u)=>{const c=Bxe,d=zhe,f=Zk,h=du;return le(),Re(h,null,{title:N(()=>[...u[2]||(u[2]=[Je("Custom Products",-1)])]),content:N(()=>[x(f,{class:"mt-md-15",columns:"10",offset:"1"},{default:N(()=>[x(Xy,{"align-tabs":"center",modelValue:O(e),"onUpdate:modelValue":u[0]||(u[0]=p=>Ht(e)?e.value=p:null)},{default:N(()=>[x(xi,{value:"products","prepend-icon":"mdi-printer-outline"},{default:N(()=>[Je("("+at(a("product").length)+") Custom Products",1)]),_:1}),x(xi,{value:"accessories","prepend-icon":"mdi-puzzle-plus-outline"},{default:N(()=>[Je("("+at(a("accessory").length)+") Accessories",1)]),_:1}),x(xi,{value:"toners","prepend-icon":"mdi-puzzle-plus-outline"},{default:N(()=>[Je("("+at(a("toner").length)+") Toners",1)]),_:1}),a("uncategorized").length?(le(),Re(xi,{key:0,value:"uncategorized","prepend-icon":"mdi-help-circle-outline"},{default:N(()=>[Je("("+at(a("uncategorized").length)+") Uncategorized",1)]),_:1})):xt("",!0),x(xi,{value:"uploads","prepend-icon":"mdi-upload-circle"},{default:N(()=>[...u[3]||(u[3]=[Je("Uploads",-1)])]),_:1})]),_:1},8,["modelValue"]),x(r_,{modelValue:O(e),"onUpdate:modelValue":u[1]||(u[1]=p=>Ht(e)?e.value=p:null)},{default:N(()=>[x(js,{value:"products"},{default:N(()=>[O(e)=="products"?(le(),Re(c,{key:0,class:"mt-10",product_list:a("product"),product_type:"product"},null,8,["product_list"])):xt("",!0)]),_:1}),x(js,{value:"accessories"},{default:N(()=>[O(e)=="accessories"?(le(),Re(c,{key:0,class:"mt-10",product_list:a("accessory"),product_type:"accessory"},null,8,["product_list"])):xt("",!0)]),_:1}),x(js,{value:"toners"},{default:N(()=>[O(e)=="toners"?(le(),Re(c,{key:0,class:"mt-10",product_list:a("toner"),product_type:"toner"},null,8,["product_list"])):xt("",!0)]),_:1}),x(js,{value:"uncategorized"},{default:N(()=>[O(e)=="uncategorized"?(le(),Re(c,{key:0,class:"mt-10",product_list:a("uncategorized"),product_type:"uncategorized"},null,8,["product_list"])):xt("",!0)]),_:1}),x(js,{value:"uploads"},{default:N(()=>[x(cr,{elevation:"0",class:"mt-10"},{default:N(()=>[x(d,{onSuccess:s})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}}),Mxe=Object.freeze(Object.defineProperty({__proto__:null,default:Ixe},Symbol.toStringTag,{value:"Module"})),o_=Symbol.for("vuetify:v-expansion-panel"),M7=it({...Cn(),...zL()},"VExpansionPanelText"),cD=Dt()({name:"VExpansionPanelText",props:M7(),setup(n,t){let{slots:e}=t;const r=Hn(o_);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:o,onAfterLeave:i}=GL(n,r.isSelected);return Kt(()=>x(ZL,{onAfterLeave:i},{default:()=>{var a;return[Qn(H("div",{class:pt(["v-expansion-panel-text",n.class]),style:Ue(n.style)},[e.default&&o.value&&H("div",{class:"v-expansion-panel-text__wrapper"},[(a=e.default)==null?void 0:a.call(e)])]),[[Ju,r.isSelected.value]])]}})),{}}}),F7=it({color:String,expandIcon:{type:Tn,default:"$expand"},collapseIcon:{type:Tn,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Cn(),...As()},"VExpansionPanelTitle"),dD=Dt()({name:"VExpansionPanelTitle",directives:{vRipple:su},props:F7(),setup(n,t){let{slots:e}=t;const r=Hn(o_);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:o,backgroundColorStyles:i}=Po(()=>n.color),{dimensionStyles:a}=hs(n),s=ae(()=>({collapseIcon:n.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:n.expandIcon,readonly:n.readonly})),l=ze(()=>r.isSelected.value?n.collapseIcon:n.expandIcon);return Kt(()=>{var u;return Qn(H("button",{class:pt(["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":n.focusable,"v-expansion-panel-title--static":n.static},o.value,n.class]),style:Ue([i.value,a.value,n.style]),type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:n.readonly?void 0:r.toggle},[H("span",{class:"v-expansion-panel-title__overlay"},null),(u=e.default)==null?void 0:u.call(e,s.value),!n.hideActions&&x(Lr,{defaults:{VIcon:{icon:l.value}}},{default:()=>{var c;return[H("span",{class:"v-expansion-panel-title__icon"},[((c=e.actions)==null?void 0:c.call(e,s.value))??x(en,null,null)])]}})]),[[su,n.ripple]])}),{}}}),D7=it({title:String,text:String,bgColor:String,...tl(),...Lk(),...Hi(),...Br(),...F7(),...M7()},"VExpansionPanel"),Fxe=Dt()({name:"VExpansionPanel",props:D7(),emits:{"group:selected":n=>!0},setup(n,t){let{slots:e}=t;const r=xw(n,o_),{backgroundColorClasses:o,backgroundColorStyles:i}=Po(()=>n.bgColor),{elevationClasses:a}=Ul(n),{roundedClasses:s}=Zi(n),l=ze(()=>(r==null?void 0:r.disabled.value)||n.disabled),u=ae(()=>r.group.items.value.reduce((f,h,p)=>(r.group.selected.value.includes(h.id)&&f.push(p),f),[])),c=ae(()=>{const f=r.group.items.value.findIndex(h=>h.id===r.id);return!r.isSelected.value&&u.value.some(h=>h-f===1)}),d=ae(()=>{const f=r.group.items.value.findIndex(h=>h.id===r.id);return!r.isSelected.value&&u.value.some(h=>h-f===-1)});return no(o_,r),Kt(()=>{const f=!!(e.text||n.text),h=!!(e.title||n.title),p=dD.filterProps(n),v=cD.filterProps(n);return x(n.tag,{class:pt(["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":c.value,"v-expansion-panel--after-active":d.value,"v-expansion-panel--disabled":l.value},s.value,o.value,n.class]),style:Ue([i.value,n.style])},{default:()=>[H("div",{class:pt(["v-expansion-panel__shadow",...a.value])},null),x(Lr,{defaults:{VExpansionPanelTitle:{...p},VExpansionPanelText:{...v}}},{default:()=>{var g;return[h&&x(dD,{key:"title"},{default:()=>[e.title?e.title():n.title]}),f&&x(cD,{key:"text"},{default:()=>[e.text?e.text():n.text]}),(g=e.default)==null?void 0:g.call(e)]}})]})}),{groupItem:r}}}),Dxe=["default","accordion","inset","popout"],Uxe=it({flat:Boolean,...Uk(),...Od(D7(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...Zr(),...Cn(),...Br(),variant:{type:String,default:"default",validator:n=>Dxe.includes(n)}},"VExpansionPanels"),Ao=Dt()({name:"VExpansionPanels",props:Uxe(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e}=t;const{next:r,prev:o}=Q_(n,o_),{themeClasses:i}=Co(n),a=ze(()=>n.variant&&`v-expansion-panels--variant-${n.variant}`);return Pl({VExpansionPanel:{bgColor:ze(()=>n.bgColor),collapseIcon:ze(()=>n.collapseIcon),color:ze(()=>n.color),eager:ze(()=>n.eager),elevation:ze(()=>n.elevation),expandIcon:ze(()=>n.expandIcon),focusable:ze(()=>n.focusable),hideActions:ze(()=>n.hideActions),readonly:ze(()=>n.readonly),ripple:ze(()=>n.ripple),rounded:ze(()=>n.rounded),static:ze(()=>n.static)}}),Kt(()=>x(n.tag,{class:pt(["v-expansion-panels",{"v-expansion-panels--flat":n.flat,"v-expansion-panels--tile":n.tile},i.value,a.value,n.class]),style:Ue(n.style)},{default:()=>{var s;return[(s=e.default)==null?void 0:s.call(e,{prev:o,next:r})]}})),{next:r,prev:o}}}),Lxe={key:2},Vxe=rn({__name:"Panel",props:["title","icon","color"],setup(n){return(t,e)=>(le(),Re(Fxe,{style:Ue(O(zr))},{default:N(()=>[x(dD,{style:Ue(O(hde))},{default:N(()=>[Ar(t.$slots,"icon",{},void 0,!0),n.icon?(le(),Re(en,{key:0,icon:n.icon},null,8,["icon"])):xt("",!0),t.$slots.title?Ar(t.$slots,"title",{key:1},void 0,!0):(le(),et("span",Lxe," "+at(n.title),1))]),_:3},8,["style"]),x(cD,null,{default:N(()=>[Ar(t.$slots,"default",{},void 0,!0),t.$slots.footer?(le(),Re(Y_,{key:0,style:{background:"transparent"},class:"border-t"},{default:N(()=>[Ar(t.$slots,"footer",{},void 0,!0)]),_:3})):xt("",!0)]),_:3})]),_:3},8,["style"]))}}),pi=ps(Vxe,[["__scopeId","data-v-c43c22e8"]]),cv=rn({__name:"TableSearchBox",props:{modelValue:{}},emits:["update:modelValue"],setup(n,{emit:t}){const e=t,r=o=>{e("update:modelValue",o)};return(o,i)=>(le(),Re(_t,{"hide-details":"",variant:"outlined","max-width":"250",density:"compact",label:"Search...",rounded:"lg","prepend-inner-icon":"mdi-magnify","model-value":n.modelValue,"onUpdate:modelValue":r},null,8,["model-value"]))}}),Nxe={class:"pa-3 d-flex border-b align-center"},Rxe=rn({__name:"ItemsServicesTable",setup(n){const t=Vt(),e=Oe(""),r=Oe(!1),o=Oe([{sortable:!0,title:"ID",value:"id"},{sortable:!0,title:"Name",value:"name"},{sortable:!0,title:"Tier/Group",value:"tier"},{sortable:!0,title:"Action",value:"action"}]),i=Oe(!1),{getAccessTokenSilently:a}=Er(),s=Oe({id:null,user_id:"",partner_id:null,tier_id:null,name:"",unit_price:0,unit_type:"",quantity:1,description:"",charge_type:"monthly",price_margin:0,created_at:"",updated_at:""}),l=ae(()=>{if(e.value==="")return Pw.value;const v=e.value.toLowerCase();return Pw.value.filter(g=>g.name.toLowerCase().includes(v)||g.tier_id&&d(g.tier_id).toLowerCase().includes(v))}),u=async()=>{const v=await a();r.value=!0,t.FetchItServiceItemsAndTiers(v).finally(()=>{r.value=!1})},c=async()=>{const v=new FormData,g=await a(),_=s.value.id?"update-item":"store-item";r.value=!0,v.append("item",JSON.stringify(s.value)),sn(g).post(`/itservices/${_}`,v).then(S=>{console.log(S.data),t.ShowSuccess(`Tiered Service successfully ${s.value.id?"edited!":"added!"}`)}).finally(()=>{u(),i.value=!1,r.value=!1})},d=v=>{const g=Ow.value.find(_=>+_.id==+v);return g?g.name:"None"},f=v=>v.tier_id!==null&&v.tier_id!==void 0&&v.tier_id!==0,h=v=>{s.value={...v},s.value.tier_id=Number(s.value.tier_id),i.value=!0},p=async v=>{const g=await a();await t.OpenDialog("Confirm Action","Delete this IT Service Item?")&&sn(g).post("/itservices/delete-item/"+v.id).then(()=>{t.ShowSuccess("Successfully Deleted"),u()})};return Kn(async()=>{const v=await a();t.FetchPartnerUsers(v).finally(()=>{s.value.user_id=Ys.value,s.value.partner_id=vr.value,s.value.created_at=yd.value,s.value.updated_at=yd.value})}),(v,g)=>{const _=cv,S=pi,y=Ky,C=qi;return le(),et(ut,null,[x(Ao,{"model-value":0},{default:N(()=>[x(S,{class:"border",style:Ue(O(zr)),title:"IT Service Items",icon:"mdi-sitemap-outline"},{default:N(()=>[x(hi,{headers:O(o),class:"elevation-1",loading:O(r),style:Ue(O(zr)),items:O(l)},{top:N(()=>[H("div",Nxe,[x(_,{modelValue:O(e),"onUpdate:modelValue":g[0]||(g[0]=T=>Ht(e)?e.value=T:null)},null,8,["modelValue"]),x(En),x($e,{class:"mr-2",text:"Refresh",onClick:u,color:"primary",variant:"outlined",loading:O(r),style:Ue(O(hn)),"prepend-icon":"mdi-refresh"},null,8,["loading","style"]),x($e,{class:"mr-2",color:"primary",variant:"outlined",style:Ue(O(hn)),text:"New IT Service Item","prepend-icon":"mdi-playlist-plus",onClick:g[1]||(g[1]=T=>{i.value=!0,O(s).id=null})},null,8,["style"])])]),item:N(({item:T})=>[H("tr",null,[H("td",null,at(T.id),1),H("td",null,at(T.name),1),H("td",null,at(d(T.tier_id)),1),H("td",null,[x($e,{style:Ue(O(On)),variant:"outlined",color:"primary",onClick:P=>h(T),"prepend-icon":"mdi-pencil",size:"small",class:"mr-2"},{default:N(()=>[...g[13]||(g[13]=[Je("Edit",-1)])]),_:1},8,["style","onClick"]),x($e,{style:Ue(O(On)),variant:"outlined",color:"red",onClick:P=>p(T),"prepend-icon":"mdi-close",size:"small"},{default:N(()=>[...g[14]||(g[14]=[Je("Delete",-1)])]),_:1},8,["style","onClick"])])])]),_:1},8,["headers","loading","style","items"])]),_:1},8,["style"])]),_:1}),x(C,{max_width:"700",modelValue:O(i),"onUpdate:modelValue":g[11]||(g[11]=T=>Ht(i)?i.value=T:null),color:"transparent",onClose:g[12]||(g[12]=T=>i.value=!1),title:`${O(s).id?"Edit":"Add"} an IT Service Item`},{footer:N(()=>[x($e,{style:Ue(O(On)),color:"info",variant:"outlined",onClick:g[10]||(g[10]=T=>i.value=!1)},{default:N(()=>[...g[15]||(g[15]=[Je("Cancel",-1)])]),_:1},8,["style"]),x(En),x($e,{style:Ue(O(hn)),color:"info","append-icon":"mdi-play-outline",onClick:c},{default:N(()=>[...g[16]||(g[16]=[Je("Submit",-1)])]),_:1},8,["style"])]),default:N(()=>[x(mr,{class:"mt-2","item-value":"id","item-title":"name",variant:"outlined",density:"comfortable",label:"Select Tier (Optional)",modelValue:O(s).tier_id,"onUpdate:modelValue":g[2]||(g[2]=T=>O(s).tier_id=T),modelModifiers:{number:!0},items:[...O(Ow),{id:null,name:"-- None --"}]},null,8,["modelValue","items"]),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{required:"","hide-details":"",label:"Item Name",variant:"outlined",density:"comfortable",modelValue:O(s).name,"onUpdate:modelValue":g[3]||(g[3]=T=>O(s).name=T)},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(mr,{"hide-details":"",label:"Term","item-value":"value","item-title":"title",variant:"outlined",disabled:f(O(s)),items:O(lv),density:"comfortable","return-object":!1,modelValue:O(s).charge_type,"onUpdate:modelValue":g[4]||(g[4]=T=>O(s).charge_type=T)},null,8,["disabled","items","modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{required:"","hide-details":"",type:"number",variant:"outlined",density:"comfortable",label:"Price Margin (%)",modelValue:O(s).price_margin,"onUpdate:modelValue":g[5]||(g[5]=T=>O(s).price_margin=T),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(Wy,{"hide-details":"","item-value":"key","item-title":"title",label:"Unit Type",variant:"outlined",density:"comfortable","return-object":!1,items:O(Rwe),modelValue:O(s).unit_type,"onUpdate:modelValue":g[6]||(g[6]=T=>O(s).unit_type=T)},null,8,["items","modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{required:"","hide-details":"",type:"number",label:"Unit Price",variant:"outlined",density:"comfortable",modelValue:O(s).unit_price,"onUpdate:modelValue":g[7]||(g[7]=T=>O(s).unit_price=T),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{required:"","hide-details":"",type:"number",label:"Quantity",variant:"outlined",density:"comfortable",modelValue:O(s).quantity,"onUpdate:modelValue":g[8]||(g[8]=T=>O(s).quantity=T),modelModifiers:{number:!0}},null,8,["modelValue"])]),_:1})]),_:1}),x(y,{variant:"outlined",label:"Description",style:{height:"250px"},density:"comfortable",modelValue:O(s).description,"onUpdate:modelValue":g[9]||(g[9]=T=>O(s).description=T)},null,8,["modelValue"])]),_:1},8,["modelValue","title"])],64)}}}),Hxe={class:"pa-3 d-flex border-b align-center"},Qxe=rn({__name:"TieredServicesTable",setup(n){const t=Vt(),e=Oe(""),r=Oe(!1),o=Oe([{title:"ID",value:"id"},{title:"Name",value:"name"},{title:"Items",value:"items"},{title:"Action",value:"action"}]),i=Oe(!1),{getAccessTokenSilently:a}=Er(),s=Oe({id:null,user_id:"",partner_id:null,name:"",description:"",charge_type:"monthly",created_at:"",updated_at:""}),l=ae(()=>e.value?Ow.value.filter(p=>p.name.toLowerCase().includes(e.value.toLowerCase())):Ow.value),u=async p=>{const v=await a();await t.OpenDialog("Confirm Action",`Are you sure you want to delete "${p.name}"?`)&&sn(v).post("/itservices/delete-tier/"+p.id).then(()=>{t.ShowSuccess("Successfully Deleted"),f()})},c=p=>{s.value={...p},i.value=!0},d=async()=>{const p=new FormData,v=await a(),g=s.value.id?"update-tier":"store-tier";r.value=!0,p.append("tier",JSON.stringify(s.value)),sn(v).post(`/itservices/${g}`,p).then(_=>{console.log(_.data),t.ShowSuccess(`Tiered Service successfully ${s.value.id?"edited!":"added!"}`)}).finally(()=>{f(),i.value=!1,r.value=!1})},f=async()=>{const p=await a();r.value=!0,t.FetchItServiceItemsAndTiers(p).finally(()=>{r.value=!1})},h=p=>Pw.value.filter(v=>+v.tier_id==+p.id);return Kn(async()=>{const p=await a();t.FetchPartnerUsers(p).finally(()=>{s.value.user_id=Ys.value,s.value.partner_id=vr.value,s.value.created_at=yd.value,s.value.updated_at=yd.value})}),(p,v)=>{const g=cv,_=pi,S=Ky,y=qi;return le(),et(ut,null,[x(Ao,{"model-value":0},{default:N(()=>[x(_,{class:"border",style:Ue(O(zr)),title:"Tiered Services",icon:"mdi-format-list-numbered-rtl"},{default:N(()=>[x(hi,{style:Ue(O(zr)),headers:O(o),loading:O(r),items:O(l),class:"elevation-1"},{top:N(()=>[H("div",Hxe,[x(g,{modelValue:O(e),"onUpdate:modelValue":v[0]||(v[0]=C=>Ht(e)?e.value=C:null)},null,8,["modelValue"]),x(En),x($e,{class:"mr-2",text:"Refresh",onClick:f,color:"primary",variant:"outlined",loading:O(r),style:Ue(O(hn)),"prepend-icon":"mdi-refresh"},null,8,["loading","style"]),x($e,{class:"mr-2",color:"primary",variant:"outlined",style:Ue(O(hn)),text:"Add a Tiered Service","prepend-icon":"mdi-playlist-plus",onClick:v[1]||(v[1]=C=>{i.value=!0,O(s).id=null})},null,8,["style"])])]),item:N(({item:C})=>[H("tr",null,[H("td",null,at(C.id),1),H("td",null,at(C.name),1),H("td",null,[x(Fl,{color:"info",size:"small",variant:"elevated",text:h(C).length},null,8,["text"])]),H("td",null,[x($e,{style:Ue(O(On)),variant:"outlined",color:"primary",onClick:T=>c(C),"prepend-icon":"mdi-pencil",size:"small",class:"mr-2"},{default:N(()=>[...v[8]||(v[8]=[Je("Edit",-1)])]),_:1},8,["style","onClick"]),x($e,{style:Ue(O(On)),variant:"outlined",color:"red",onClick:T=>u(C),"prepend-icon":"mdi-close",size:"small",disabled:h(C).length>0},{default:N(()=>[...v[9]||(v[9]=[Je("Delete",-1)])]),_:1},8,["style","onClick","disabled"])])])]),_:1},8,["style","headers","loading","items"])]),_:1},8,["style"])]),_:1}),x(y,{max_width:"700",modelValue:O(i),"onUpdate:modelValue":v[6]||(v[6]=C=>Ht(i)?i.value=C:null),color:"transparent",onClose:v[7]||(v[7]=C=>i.value=!1),title:`${O(s).id?"Edit":"Add"} a Tiered Service`},{footer:N(()=>[x($e,{color:"info",text:"Cancel",variant:"outlined",style:Ue(O(On)),onClick:v[5]||(v[5]=C=>i.value=!1)},null,8,["style"]),x(En),x($e,{color:"info",text:"Submit",onClick:d,style:Ue(O(hn)),"append-icon":"mdi-play-outline"},null,8,["style"])]),default:N(()=>[x(_t,{required:"",class:"mt-2",label:"Tier Name",variant:"outlined",density:"comfortable",modelValue:O(s).name,"onUpdate:modelValue":v[2]||(v[2]=C=>O(s).name=C)},null,8,["modelValue"]),x(mr,{"hide-details":"","item-value":"value","item-title":"title",variant:"outlined",label:"Term",items:O(lv),density:"comfortable","return-object":!1,modelValue:O(s).charge_type,"onUpdate:modelValue":v[3]||(v[3]=C=>O(s).charge_type=C)},null,8,["items","modelValue"]),x(S,{variant:"outlined",label:"Description",style:{height:"300px"},density:"comfortable",modelValue:O(s).description,"onUpdate:modelValue":v[4]||(v[4]=C=>O(s).description=C)},null,8,["modelValue"])]),_:1},8,["modelValue","title"])],64)}}}),jxe=rn({__name:"it-services",setup(n){const t=Vt(),{getAccessTokenSilently:e}=Er();return Kn(async()=>{const r=await e();t.FetchItServiceItemsAndTiers(r)}),(r,o)=>{const i=Qxe,a=Rxe,s=du;return le(),Re(s,null,{title:N(()=>[...o[0]||(o[0]=[Je("IT Services",-1)])]),content:N(()=>[x(i),o[1]||(o[1]=H("div",{class:"my-10"},null,-1)),x(a)]),_:1})}}}),$xe=Object.freeze(Object.defineProperty({__proto__:null,default:jxe},Symbol.toStringTag,{value:"Module"})),Kxe=rn({__name:"login",setup(n){const{loginWithRedirect:t}=Er();return Kn(()=>{t()}),(e,r)=>null}}),Wxe=Object.freeze(Object.defineProperty({__proto__:null,default:Kxe},Symbol.toStringTag,{value:"Module"})),zxe={class:"floated-btns"},Gxe=rn({__name:"floating-btns",props:["loading","hide_save","hide_dist_btn"],emits:["onsave"],setup(n,{emit:t}){const e=Vt(),r=Oe(1.25),o=t,{hide_layout:i}=Lt(e),a=()=>o("onsave"),s=()=>{const d=window.gjs_instance.Canvas.getFrameEl().contentDocument,f=(100/r.value).toFixed(2);d.body.style.transform=`scale(${r.value})`,d.body.style.width=`${f}%`},l=()=>{r.value=Math.min(r.value+.1,2),s()},u=()=>{r.value=Math.max(r.value-.1,.5),s()};return(c,d)=>(le(),et("div",zxe,[n.hide_save?xt("",!0):Qn((le(),Re($e,{key:0,size:"small",icon:"mdi-floppy",class:"rounded-circle",style:Ue(O(hn)),onClick:a,loading:n.loading},null,8,["style","loading"])),[[Oo,"Save Changes"]]),n.hide_dist_btn?xt("",!0):Qn((le(),Re($e,{key:1,size:"small",icon:"mdi-overscan",class:"rounded-circle",style:Ue(O(hn)),onClick:d[0]||(d[0]=f=>i.value=!1)},null,8,["style"])),[[Oo,"Exit Distraction-Free Mode"]]),Qn(x($e,{size:"small",icon:"mdi-magnify-plus-outline",class:"rounded-circle",style:Ue(O(hn)),onClick:l},null,8,["style"]),[[Oo,"Zoom In"]]),Qn(x($e,{size:"small",icon:"mdi-magnify-minus-outline",class:"rounded-circle",style:Ue(O(hn)),onClick:u},null,8,["style"]),[[Oo,"Zoom Out"]])]))}}),kT=ps(Gxe,[["__scopeId","data-v-d1feeab7"]]);var Yxe={4729:((n,t,e)=>{var r,o,i;/*!
* Backbone.Undo.js v0.2
* 
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(a){o=[e(5706),e(4193)],r=a,i=typeof r=="function"?r.apply(t,o):r,i!==void 0&&(n.exports=i)})(function(a,s){var l=Array.prototype.slice;function u(k,M,V){return V.length<=4?k.call(M,V[0],V[1],V[2],V[3]):k.apply(M,V)}function c(k,M){return l.call(k,M)}function d(k,M){return k==null?!1:(a.isArray(M)||(M=c(arguments,1)),a.all(M,function(V){return V in k}))}var f=(function(){var k=!1,M=-1;function V(){M++,k=!0,a.defer(function(){k=!1})}return function(){return k||V(),M}})();function h(){this.registeredObjects=[],this.cidIndexes=[]}h.prototype={isRegistered:function(k){return k&&k.cid?this.registeredObjects[k.cid]:a.contains(this.registeredObjects,k)},register:function(k){return this.isRegistered(k)?!1:(k&&k.cid?(this.registeredObjects[k.cid]=k,this.cidIndexes.push(k.cid)):this.registeredObjects.push(k),!0)},unregister:function(k){if(this.isRegistered(k)){if(k&&k.cid)delete this.registeredObjects[k.cid],this.cidIndexes.splice(a.indexOf(this.cidIndexes,k.cid),1);else{var M=a.indexOf(this.registeredObjects,k);this.registeredObjects.splice(M,1)}return!0}return!1},get:function(){return a.map(this.cidIndexes,function(k){return this.registeredObjects[k]},this).concat(this.registeredObjects)}};function p(k,M,V,U){for(var $=0,Q=M.length,J;$<Q;$++)if(J=M[$],!!J){if(k==="on"){if(!U.objectRegistry.register(J))continue}else if(!U.objectRegistry.unregister(J))continue;a.isFunction(J[k])&&J[k]("all",V,U)}}function v(k,M){var V=M.type,U=M.undoTypes,$=!U[V]||U[V][k];a.isFunction($)&&$(M.object,M.before,M.after,M.options)}function g(k,M,V,U,$){if(!(V.isCurrentlyUndoRedoing||k==="undo"&&V.pointer===-1||k==="redo"&&V.pointer===V.length-1)){V.isCurrentlyUndoRedoing=!0;var Q,J,R=k==="undo";for($?J=R&&V.pointer===V.length-1||!R&&V.pointer===-1?a.clone(V.models):l.apply(V.models,R?[0,V.pointer]:[V.pointer,V.length-1]):(Q=V.at(R?V.pointer:V.pointer+1),J=U?V.where({magicFusionIndex:Q.get("magicFusionIndex")}):[Q]),V.pointer+=(R?-1:1)*J.length;Q=R?J.pop():J.shift();)Q[k]();V.isCurrentlyUndoRedoing=!1,M.trigger(k,M)}}function _(k,M){var V=k.condition,U=typeof V;return U==="function"?!!u(V,k,M):U==="boolean"?V:!0}function S(k,M,V,U){if(k.track&&!k.isCurrentlyUndoRedoing&&M in U&&_(U[M],V)){var $=u(U[M].on,U[M],V),Q;if(d($,"object","before","after")){if($.type=M,$.magicFusionIndex=f(),$.undoTypes=U,k.pointer<k.length-1)for(var Q=k.length-k.pointer-1;Q--;)k.pop();k.pointer=k.length,k.add($),k.length>k.maximumStackLength&&(k.shift(),k.pointer--)}}}var y={add:{undo:function(k,M,V,U){k.remove(V,U)},redo:function(k,M,V,U){U.index&&(U.at=U.index),k.add(V,U)},on:function(k,M,V){return{object:M,before:void 0,after:k,options:a.clone(V)}}},remove:{undo:function(k,M,V,U){"index"in U&&(U.at=U.index),k.add(M,U)},redo:function(k,M,V,U){k.remove(M,U)},on:function(k,M,V){return{object:M,before:k,after:void 0,options:a.clone(V)}}},change:{undo:function(k,M,V,U){a.isEmpty(M)?a.each(a.keys(V),k.unset,k):(k.set(M),U&&U.unsetData&&U.unsetData.before&&U.unsetData.before.length&&a.each(U.unsetData.before,k.unset,k))},redo:function(k,M,V,U){a.isEmpty(V)?a.each(a.keys(M),k.unset,k):(k.set(V),U&&U.unsetData&&U.unsetData.after&&U.unsetData.after.length&&a.each(U.unsetData.after,k.unset,k))},on:function(k,M){var V=k.changedAttributes(),U=a.keys(V),$=a.pick(k.previousAttributes(),U),Q=a.keys($),J=(M||(M={})).unsetData={after:[],before:[]};return U.length!=Q.length&&(U.length>Q.length?a.each(U,function(R){R in $||J.before.push(R)},this):a.each(Q,function(R){R in V||J.after.push(R)})),{object:k,before:$,after:V,options:a.clone(M)}}},reset:{undo:function(k,M,V){k.reset(M)},redo:function(k,M,V){k.reset(V)},on:function(k,M){return{object:k,before:M.previousModels,after:a.clone(k.models)}}}};function C(){}C.prototype=y;function T(k,M,V,U){if(typeof M=="object")return a.each(M,function($,Q){k===2?T(k,$,V,U):T(k,Q,$,V)});switch(k){case 0:d(V,"undo","redo","on")&&a.all(a.pick(V,"undo","redo","on"),a.isFunction)&&(U[M]=V);break;case 1:U[M]&&a.isObject(V)&&(U[M]=a.extend({},U[M],V));break;case 2:delete U[M];break}return this}var P=s.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(k){v("undo",this.attributes)},redo:function(k){v("redo",this.attributes)}}),F=s.Collection.extend({model:P,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(k){this.maximumStackLength=k}}),I=s.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(k){this.stack=new F,this.objectRegistry=new h,this.undoTypes=new C,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(M,V){this.stack.setMaxLength(V)},this),k&&k.track&&this.startTracking(),k&&k.register&&(a.isArray(k.register)||a.isArguments(k.register)?u(this.register,this,k.register):this.register(k.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(k){S(this.stack,k,c(arguments,1),this.undoTypes)},register:function(){p("on",arguments,this._addToStack,this)},unregister:function(){p("off",arguments,this._addToStack,this)},unregisterAll:function(){u(this.unregister,this,this.objectRegistry.get())},undo:function(k){g("undo",this,this.stack,k)},undoAll:function(){g("undo",this,this.stack,!1,!0)},redo:function(k){g("redo",this,this.stack,k)},redoAll:function(){g("redo",this,this.stack,!1,!0)},isAvailable:function(k){var M=this.stack,V=M.length;switch(k){case"undo":return V>0&&M.pointer>-1;case"redo":return V>0&&M.pointer<V-1;default:return!1}},merge:function(k){for(var M=a.isArray(k)?k:c(arguments),V;V=M.pop();)V instanceof I&&V.stack instanceof F&&(V.stack=this.stack)},addUndoType:function(k,M){T(0,k,M,this.undoTypes)},changeUndoType:function(k,M){T(1,k,M,this.undoTypes)},removeUndoType:function(k){T(2,k,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return a.extend(I,{defaults:function(k){a.extend(I.prototype.defaults,k)},addUndoType:function(k,M){T(0,k,M,y)},changeUndoType:function(k,M){T(1,k,M,y)},removeUndoType:function(k){T(2,k,void 0,y)}}),s.UndoManager=I})}),4193:((n,t,e)=>{var r,o;(function(i){var a=typeof self=="object"&&self.self===self&&self||typeof e.g=="object"&&e.g.global===e.g&&e.g;r=[e(5706),e(7774),t],o=(function(s,l,u){a.Backbone=i(a,u,s,l)}).apply(t,r),o!==void 0&&(n.exports=o)})(function(i,a,s,l){var u=i.Backbone,c=Array.prototype.slice;a.VERSION="1.4.1",a.$=l,a.noConflict=function(){return i.Backbone=u,this},a.emulateHTTP=!1,a.emulateJSON=!1;var d=a.Events={},f=/\s+/,h,p=function(K,te,ee,Ae,xe){var he=0,Pe;if(ee&&typeof ee=="object")for(Ae!==void 0&&("context"in xe)&&xe.context===void 0&&(xe.context=Ae),Pe=s.keys(ee);he<Pe.length;he++)te=p(K,te,Pe[he],ee[Pe[he]],xe);else if(ee&&f.test(ee))for(Pe=ee.split(f);he<Pe.length;he++)te=K(te,Pe[he],Ae,xe);else te=K(te,ee,Ae,xe);return te};d.on=function(K,te,ee){if(this._events=p(v,this._events||{},K,te,{context:ee,ctx:this,listening:h}),h){var Ae=this._listeners||(this._listeners={});Ae[h.id]=h,h.interop=!1}return this},d.listenTo=function(K,te,ee){if(!K)return this;var Ae=K._listenId||(K._listenId=s.uniqueId("l")),xe=this._listeningTo||(this._listeningTo={}),he=h=xe[Ae];he||(this._listenId||(this._listenId=s.uniqueId("l")),he=h=xe[Ae]=new T(this,K));var Pe=g(K,te,ee,this);if(h=void 0,Pe)throw Pe;return he.interop&&he.on(te,ee),this};var v=function(K,te,ee,Ae){if(ee){var xe=K[te]||(K[te]=[]),he=Ae.context,Pe=Ae.ctx,Ee=Ae.listening;Ee&&Ee.count++,xe.push({callback:ee,context:he,ctx:he||Pe,listening:Ee})}return K},g=function(K,te,ee,Ae){try{K.on(te,ee,Ae)}catch(xe){return xe}};d.off=function(K,te,ee){return this._events?(this._events=p(_,this._events,K,te,{context:ee,listeners:this._listeners}),this):this},d.stopListening=function(K,te,ee){var Ae=this._listeningTo;if(!Ae)return this;for(var xe=K?[K._listenId]:s.keys(Ae),he=0;he<xe.length;he++){var Pe=Ae[xe[he]];if(!Pe)break;Pe.obj.off(te,ee,this),Pe.interop&&Pe.off(te,ee)}return s.isEmpty(Ae)&&(this._listeningTo=void 0),this};var _=function(K,te,ee,Ae){if(K){var xe=Ae.context,he=Ae.listeners,Pe=0,Ee;if(!te&&!xe&&!ee){for(Ee=s.keys(he);Pe<Ee.length;Pe++)he[Ee[Pe]].cleanup();return}for(Ee=te?[te]:s.keys(K);Pe<Ee.length;Pe++){te=Ee[Pe];var st=K[te];if(!st)break;for(var kt=[],Rt=0;Rt<st.length;Rt++){var Y=st[Rt];if(ee&&ee!==Y.callback&&ee!==Y.callback._callback||xe&&xe!==Y.context)kt.push(Y);else{var ie=Y.listening;ie&&ie.off(te,ee)}}kt.length?K[te]=kt:delete K[te]}return K}};d.once=function(K,te,ee){var Ae=p(S,{},K,te,this.off.bind(this));return typeof K=="string"&&ee==null&&(te=void 0),this.on(Ae,te,ee)},d.listenToOnce=function(K,te,ee){var Ae=p(S,{},te,ee,this.stopListening.bind(this,K));return this.listenTo(K,Ae)};var S=function(K,te,ee,Ae){if(ee){var xe=K[te]=s.once(function(){Ae(te,xe),ee.apply(this,arguments)});xe._callback=ee}return K};d.trigger=function(K){if(!this._events)return this;for(var te=Math.max(0,arguments.length-1),ee=Array(te),Ae=0;Ae<te;Ae++)ee[Ae]=arguments[Ae+1];return p(y,this._events,K,void 0,ee),this};var y=function(K,te,ee,Ae){if(K){var xe=K[te],he=K.all;xe&&he&&(he=he.slice()),xe&&C(xe,Ae),he&&C(he,[te].concat(Ae))}return K},C=function(K,te){var ee,Ae=-1,xe=K.length,he=te[0],Pe=te[1],Ee=te[2];switch(te.length){case 0:for(;++Ae<xe;)(ee=K[Ae]).callback.call(ee.ctx);return;case 1:for(;++Ae<xe;)(ee=K[Ae]).callback.call(ee.ctx,he);return;case 2:for(;++Ae<xe;)(ee=K[Ae]).callback.call(ee.ctx,he,Pe);return;case 3:for(;++Ae<xe;)(ee=K[Ae]).callback.call(ee.ctx,he,Pe,Ee);return;default:for(;++Ae<xe;)(ee=K[Ae]).callback.apply(ee.ctx,te);return}},T=function(K,te){this.id=K._listenId,this.listener=K,this.obj=te,this.interop=!0,this.count=0,this._events=void 0};T.prototype.on=d.on,T.prototype.off=function(K,te){var ee;this.interop?(this._events=p(_,this._events,K,te,{context:void 0,listeners:void 0}),ee=!this._events):(this.count--,ee=this.count===0),ee&&this.cleanup()},T.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},d.bind=d.on,d.unbind=d.off,s.extend(a,d);var P=a.Model=function(K,te){var ee=K||{};te||(te={}),this.preinitialize.apply(this,arguments),this.cid=s.uniqueId(this.cidPrefix),this.attributes={},te.collection&&(this.collection=te.collection),te.parse&&(ee=this.parse(ee,te)||{});var Ae=s.result(this,"defaults");ee=s.defaults(s.extend({},Ae,ee),Ae),this.set(ee,te),this.changed={},this.initialize.apply(this,arguments)};s.extend(P.prototype,d,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(K){return s.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(K){return this.attributes[K]},escape:function(K){return s.escape(this.get(K))},has:function(K){return this.get(K)!=null},matches:function(K){return!!s.iteratee(K,this)(this.attributes)},set:function(K,te,ee){if(K==null)return this;var Ae;if(typeof K=="object"?(Ae=K,ee=te):(Ae={})[K]=te,ee||(ee={}),!this._validate(Ae,ee))return!1;var xe=ee.unset,he=ee.silent,Pe=[],Ee=this._changing;this._changing=!0,Ee||(this._previousAttributes=s.clone(this.attributes),this.changed={});var st=this.attributes,kt=this.changed,Rt=this._previousAttributes;for(var Y in Ae)te=Ae[Y],s.isEqual(st[Y],te)||Pe.push(Y),s.isEqual(Rt[Y],te)?delete kt[Y]:kt[Y]=te,xe?delete st[Y]:st[Y]=te;if(this.idAttribute in Ae){var ie=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,ie,ee)}if(!he){Pe.length&&(this._pending=ee);for(var G=0;G<Pe.length;G++)this.trigger("change:"+Pe[G],this,st[Pe[G]],ee)}if(Ee)return this;if(!he)for(;this._pending;)ee=this._pending,this._pending=!1,this.trigger("change",this,ee);return this._pending=!1,this._changing=!1,this},unset:function(K,te){return this.set(K,void 0,s.extend({},te,{unset:!0}))},clear:function(K){var te={};for(var ee in this.attributes)te[ee]=void 0;return this.set(te,s.extend({},K,{unset:!0}))},hasChanged:function(K){return K==null?!s.isEmpty(this.changed):s.has(this.changed,K)},changedAttributes:function(K){if(!K)return this.hasChanged()?s.clone(this.changed):!1;var te=this._changing?this._previousAttributes:this.attributes,ee={},Ae;for(var xe in K){var he=K[xe];s.isEqual(te[xe],he)||(ee[xe]=he,Ae=!0)}return Ae?ee:!1},previous:function(K){return K==null||!this._previousAttributes?null:this._previousAttributes[K]},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(K){K=s.extend({parse:!0},K);var te=this,ee=K.success;return K.success=function(Ae){var xe=K.parse?te.parse(Ae,K):Ae;if(!te.set(xe,K))return!1;ee&&ee.call(K.context,te,Ae,K),te.trigger("sync",te,Ae,K)},Ie(this,K),this.sync("read",this,K)},save:function(K,te,ee){var Ae;K==null||typeof K=="object"?(Ae=K,ee=te):(Ae={})[K]=te,ee=s.extend({validate:!0,parse:!0},ee);var xe=ee.wait;if(Ae&&!xe){if(!this.set(Ae,ee))return!1}else if(!this._validate(Ae,ee))return!1;var he=this,Pe=ee.success,Ee=this.attributes;ee.success=function(Rt){he.attributes=Ee;var Y=ee.parse?he.parse(Rt,ee):Rt;if(xe&&(Y=s.extend({},Ae,Y)),Y&&!he.set(Y,ee))return!1;Pe&&Pe.call(ee.context,he,Rt,ee),he.trigger("sync",he,Rt,ee)},Ie(this,ee),Ae&&xe&&(this.attributes=s.extend({},Ee,Ae));var st=this.isNew()?"create":ee.patch?"patch":"update";st==="patch"&&!ee.attrs&&(ee.attrs=Ae);var kt=this.sync(st,this,ee);return this.attributes=Ee,kt},destroy:function(K){K=K?s.clone(K):{};var te=this,ee=K.success,Ae=K.wait,xe=function(){te.stopListening(),te.trigger("destroy",te,te.collection,K)};K.success=function(Pe){Ae&&xe(),ee&&ee.call(K.context,te,Pe,K),te.isNew()||te.trigger("sync",te,Pe,K)};var he=!1;return this.isNew()?s.defer(K.success):(Ie(this,K),he=this.sync("delete",this,K)),Ae||xe(),he},url:function(){var K=s.result(this,"urlRoot")||s.result(this.collection,"url")||Ve();if(this.isNew())return K;var te=this.get(this.idAttribute);return K.replace(/[^\/]$/,"$&/")+encodeURIComponent(te)},parse:function(K,te){return K},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(K){return this._validate({},s.extend({},K,{validate:!0}))},_validate:function(K,te){if(!te.validate||!this.validate)return!0;K=s.extend({},this.attributes,K);var ee=this.validationError=this.validate(K,te)||null;return ee?(this.trigger("invalid",this,ee,s.extend(te,{validationError:ee})),!1):!0}});var F=a.Collection=function(K,te){te||(te={}),this.preinitialize.apply(this,arguments),te.model&&(this.model=te.model),te.comparator!==void 0&&(this.comparator=te.comparator),this._reset(),this.initialize.apply(this,arguments),K&&this.reset(K,s.extend({silent:!0},te))},I={add:!0,remove:!0,merge:!0},k={add:!0,remove:!1},M=function(K,te,ee){ee=Math.min(Math.max(ee,0),K.length);var Ae=Array(K.length-ee),xe=te.length,he;for(he=0;he<Ae.length;he++)Ae[he]=K[he+ee];for(he=0;he<xe;he++)K[he+ee]=te[he];for(he=0;he<Ae.length;he++)K[he+xe+ee]=Ae[he]};s.extend(F.prototype,d,{model:P,preinitialize:function(){},initialize:function(){},toJSON:function(K){return this.map(function(te){return te.toJSON(K)})},sync:function(){return a.sync.apply(this,arguments)},add:function(K,te){return this.set(K,s.extend({merge:!1},te,k))},remove:function(K,te){te=s.extend({},te);var ee=!s.isArray(K);K=ee?[K]:K.slice();var Ae=this._removeModels(K,te);return!te.silent&&Ae.length&&(te.changes={added:[],merged:[],removed:Ae},this.trigger("update",this,te)),ee?Ae[0]:Ae},set:function(K,te){if(K!=null){te=s.extend({},I,te),te.parse&&!this._isModel(K)&&(K=this.parse(K,te)||[]);var ee=!s.isArray(K);K=ee?[K]:K.slice();var Ae=te.at;Ae!=null&&(Ae=+Ae),Ae>this.length&&(Ae=this.length),Ae<0&&(Ae+=this.length+1);var xe=[],he=[],Pe=[],Ee=[],st={},kt=te.add,Rt=te.merge,Y=te.remove,ie=!1,G=this.comparator&&Ae==null&&te.sort!==!1,He=s.isString(this.comparator)?this.comparator:null,De,rt;for(rt=0;rt<K.length;rt++){De=K[rt];var mt=this.get(De);if(mt){if(Rt&&De!==mt){var ft=this._isModel(De)?De.attributes:De;te.parse&&(ft=mt.parse(ft,te)),mt.set(ft,te),Pe.push(mt),G&&!ie&&(ie=mt.hasChanged(He))}st[mt.cid]||(st[mt.cid]=!0,xe.push(mt)),K[rt]=mt}else kt&&(De=K[rt]=this._prepareModel(De,te),De&&(he.push(De),this._addReference(De,te),st[De.cid]=!0,xe.push(De)))}if(Y){for(rt=0;rt<this.length;rt++)De=this.models[rt],st[De.cid]||Ee.push(De);Ee.length&&this._removeModels(Ee,te)}var gt=!1,St=!G&&kt&&Y;if(xe.length&&St?(gt=this.length!==xe.length||s.some(this.models,function(Tt,Wt){return Tt!==xe[Wt]}),this.models.length=0,M(this.models,xe,0),this.length=this.models.length):he.length&&(G&&(ie=!0),M(this.models,he,Ae??this.length),this.length=this.models.length),ie&&this.sort({silent:!0}),!te.silent){for(rt=0;rt<he.length;rt++)Ae!=null&&(te.index=Ae+rt),De=he[rt],De.trigger("add",De,this,te);(ie||gt)&&this.trigger("sort",this,te),(he.length||Ee.length||Pe.length)&&(te.changes={added:he,removed:Ee,merged:Pe},this.trigger("update",this,te))}return ee?K[0]:K}},reset:function(K,te){te=te?s.clone(te):{};for(var ee=0;ee<this.models.length;ee++)this._removeReference(this.models[ee],te);return te.previousModels=this.models,this._reset(),K=this.add(K,s.extend({silent:!0},te)),te.silent||this.trigger("reset",this,te),K},push:function(K,te){return this.add(K,s.extend({at:this.length},te))},pop:function(K){var te=this.at(this.length-1);return this.remove(te,K)},unshift:function(K,te){return this.add(K,s.extend({at:0},te))},shift:function(K){var te=this.at(0);return this.remove(te,K)},slice:function(){return c.apply(this.models,arguments)},get:function(K){if(K!=null)return this._byId[K]||this._byId[this.modelId(this._isModel(K)?K.attributes:K,K.idAttribute)]||K.cid&&this._byId[K.cid]},has:function(K){return this.get(K)!=null},at:function(K){return K<0&&(K+=this.length),this.models[K]},where:function(K,te){return this[te?"find":"filter"](K)},findWhere:function(K){return this.where(K,!0)},sort:function(K){var te=this.comparator;if(!te)throw new Error("Cannot sort a set without a comparator");K||(K={});var ee=te.length;return s.isFunction(te)&&(te=te.bind(this)),ee===1||s.isString(te)?this.models=this.sortBy(te):this.models.sort(te),K.silent||this.trigger("sort",this,K),this},pluck:function(K){return this.map(K+"")},fetch:function(K){K=s.extend({parse:!0},K);var te=K.success,ee=this;return K.success=function(Ae){var xe=K.reset?"reset":"set";ee[xe](Ae,K),te&&te.call(K.context,ee,Ae,K),ee.trigger("sync",ee,Ae,K)},Ie(this,K),this.sync("read",this,K)},create:function(K,te){te=te?s.clone(te):{};var ee=te.wait;if(K=this._prepareModel(K,te),!K)return!1;ee||this.add(K,te);var Ae=this,xe=te.success;return te.success=function(he,Pe,Ee){ee&&Ae.add(he,Ee),xe&&xe.call(Ee.context,he,Pe,Ee)},K.save(null,te),K},parse:function(K,te){return K},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(K,te){return K[te||this.model.prototype.idAttribute||"id"]},values:function(){return new U(this,$)},keys:function(){return new U(this,Q)},entries:function(){return new U(this,J)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(K,te){if(this._isModel(K))return K.collection||(K.collection=this),K;te=te?s.clone(te):{},te.collection=this;var ee;return this.model.prototype?ee=new this.model(K,te):ee=this.model(K,te),ee.validationError?(this.trigger("invalid",this,ee.validationError,te),!1):ee},_removeModels:function(K,te){for(var ee=[],Ae=0;Ae<K.length;Ae++){var xe=this.get(K[Ae]);if(xe){var he=this.indexOf(xe);this.models.splice(he,1),this.length--,delete this._byId[xe.cid];var Pe=this.modelId(xe.attributes,xe.idAttribute);Pe!=null&&delete this._byId[Pe],te.silent||(te.index=he,xe.trigger("remove",xe,this,te)),ee.push(xe),this._removeReference(xe,te)}}return ee},_isModel:function(K){return K instanceof P},_addReference:function(K,te){this._byId[K.cid]=K;var ee=this.modelId(K.attributes,K.idAttribute);ee!=null&&(this._byId[ee]=K),K.on("all",this._onModelEvent,this)},_removeReference:function(K,te){delete this._byId[K.cid];var ee=this.modelId(K.attributes,K.idAttribute);ee!=null&&delete this._byId[ee],this===K.collection&&delete K.collection,K.off("all",this._onModelEvent,this)},_onModelEvent:function(K,te,ee,Ae){if(te){if((K==="add"||K==="remove")&&ee!==this)return;if(K==="destroy"&&this.remove(te,Ae),K==="changeId"){var xe=this.modelId(te.previousAttributes(),te.idAttribute),he=this.modelId(te.attributes,te.idAttribute);xe!=null&&delete this._byId[xe],he!=null&&(this._byId[he]=te)}}this.trigger.apply(this,arguments)}});var V=typeof Symbol=="function"&&Symbol.iterator;V&&(F.prototype[V]=F.prototype.values);var U=function(K,te){this._collection=K,this._kind=te,this._index=0},$=1,Q=2,J=3;V&&(U.prototype[V]=function(){return this}),U.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var K=this._collection.at(this._index);this._index++;var te;if(this._kind===$)te=K;else{var ee=this._collection.modelId(K.attributes,K.idAttribute);this._kind===Q?te=ee:te=[ee,K]}return{value:te,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var R=a.View=function(K){this.cid=s.uniqueId("view"),this.preinitialize.apply(this,arguments),s.extend(this,s.pick(K,ue)),this._ensureElement(),this.initialize.apply(this,arguments)},ne=/^(\S+)\s*(.*)$/,ue=["model","collection","el","id","attributes","className","tagName","events"];s.extend(R.prototype,d,{tagName:"div",$:function(K){return this.$el.find(K)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(K){return this.undelegateEvents(),this._setElement(K),this.delegateEvents(),this},_setElement:function(K){this.$el=K instanceof a.$?K:a.$(K),this.el=this.$el[0]},delegateEvents:function(K){if(K||(K=s.result(this,"events")),!K)return this;this.undelegateEvents();for(var te in K){var ee=K[te];if(s.isFunction(ee)||(ee=this[ee]),!!ee){var Ae=te.match(ne);this.delegate(Ae[1],Ae[2],ee.bind(this))}}return this},delegate:function(K,te,ee){return this.$el.on(K+".delegateEvents"+this.cid,te,ee),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(K,te,ee){return this.$el.off(K+".delegateEvents"+this.cid,te,ee),this},_createElement:function(K){return document.createElement(K)},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"));else{var K=s.extend({},s.result(this,"attributes"));this.id&&(K.id=s.result(this,"id")),this.className&&(K.class=s.result(this,"className")),this.setElement(this._createElement(s.result(this,"tagName"))),this._setAttributes(K)}},_setAttributes:function(K){this.$el.attr(K)}});var we=function(K,te,ee,Ae){switch(te){case 1:return function(){return K[ee](this[Ae])};case 2:return function(xe){return K[ee](this[Ae],xe)};case 3:return function(xe,he){return K[ee](this[Ae],We(xe,this),he)};case 4:return function(xe,he,Pe){return K[ee](this[Ae],We(xe,this),he,Pe)};default:return function(){var xe=c.call(arguments);return xe.unshift(this[Ae]),K[ee].apply(K,xe)}}},Be=function(K,te,ee,Ae){s.each(ee,function(xe,he){te[he]&&(K.prototype[he]=we(te,xe,he,Ae))})},We=function(K,te){return s.isFunction(K)?K:s.isObject(K)&&!te._isModel(K)?pe(K):s.isString(K)?function(ee){return ee.get(K)}:K},pe=function(K){var te=s.matches(K);return function(ee){return te(ee.attributes)}},_e={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Ce={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};s.each([[F,_e,"models"],[P,Ce,"attributes"]],function(K){var te=K[0],ee=K[1],Ae=K[2];te.mixin=function(xe){var he=s.reduce(s.functions(xe),function(Pe,Ee){return Pe[Ee]=0,Pe},{});Be(te,xe,he,Ae)},Be(te,s,ee,Ae)}),a.sync=function(K,te,ee){var Ae=ve[K];s.defaults(ee||(ee={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var xe={type:Ae,dataType:"json"};if(ee.url||(xe.url=s.result(te,"url")||Ve()),ee.data==null&&te&&(K==="create"||K==="update"||K==="patch")&&(xe.contentType="application/json",xe.data=JSON.stringify(ee.attrs||te.toJSON(ee))),ee.emulateJSON&&(xe.contentType="application/x-www-form-urlencoded",xe.data=xe.data?{model:xe.data}:{}),ee.emulateHTTP&&(Ae==="PUT"||Ae==="DELETE"||Ae==="PATCH")){xe.type="POST",ee.emulateJSON&&(xe.data._method=Ae);var he=ee.beforeSend;ee.beforeSend=function(st){if(st.setRequestHeader("X-HTTP-Method-Override",Ae),he)return he.apply(this,arguments)}}xe.type!=="GET"&&!ee.emulateJSON&&(xe.processData=!1);var Pe=ee.error;ee.error=function(st,kt,Rt){ee.textStatus=kt,ee.errorThrown=Rt,Pe&&Pe.call(ee.context,st,kt,Rt)};var Ee=ee.xhr=a.ajax(s.extend(xe,ee));return te.trigger("request",te,Ee,ee),Ee};var ve={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var Qe=a.Router=function(K){K||(K={}),this.preinitialize.apply(this,arguments),K.routes&&(this.routes=K.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},se=/\((.*?)\)/g,Te=/(\(\?)?:\w+/g,je=/\*\w+/g,nt=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(Qe.prototype,d,{preinitialize:function(){},initialize:function(){},route:function(K,te,ee){s.isRegExp(K)||(K=this._routeToRegExp(K)),s.isFunction(te)&&(ee=te,te=""),ee||(ee=this[te]);var Ae=this;return a.history.route(K,function(xe){var he=Ae._extractParameters(K,xe);Ae.execute(ee,he,te)!==!1&&(Ae.trigger.apply(Ae,["route:"+te].concat(he)),Ae.trigger("route",te,he),a.history.trigger("route",Ae,te,he))}),this},execute:function(K,te,ee){K&&K.apply(this,te)},navigate:function(K,te){return a.history.navigate(K,te),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var K,te=s.keys(this.routes);(K=te.pop())!=null;)this.route(K,this.routes[K])}},_routeToRegExp:function(K){return K=K.replace(nt,"\\$&").replace(se,"(?:$1)?").replace(Te,function(te,ee){return ee?te:"([^/?]+)"}).replace(je,"([^?]*?)"),new RegExp("^"+K+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(K,te){var ee=K.exec(te).slice(1);return s.map(ee,function(Ae,xe){return xe===ee.length-1?Ae||null:Ae?decodeURIComponent(Ae):null})}});var tt=a.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ot=/^[#\/]|\s+$/g,ye=/^\/+|\/+$/g,be=/#.*$/;tt.started=!1,s.extend(tt.prototype,d,{interval:50,atRoot:function(){var K=this.location.pathname.replace(/[^\/]$/,"$&/");return K===this.root&&!this.getSearch()},matchRoot:function(){var K=this.decodeFragment(this.location.pathname),te=K.slice(0,this.root.length-1)+"/";return te===this.root},decodeFragment:function(K){return decodeURI(K.replace(/%25/g,"%2525"))},getSearch:function(){var K=this.location.href.replace(/#.*/,"").match(/\?.+/);return K?K[0]:""},getHash:function(K){var te=(K||this).location.href.match(/#(.*)$/);return te?te[1]:""},getPath:function(){var K=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return K.charAt(0)==="/"?K.slice(1):K},getFragment:function(K){return K==null&&(this._usePushState||!this._wantsHashChange?K=this.getPath():K=this.getHash()),K.replace(ot,"")},start:function(K){if(tt.started)throw new Error("Backbone.history has already been started");if(tt.started=!0,this.options=s.extend({root:"/"},this.options,K),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(ye,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var te=this.root.slice(0,-1)||"/";return this.location.replace(te+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var ee=document.body,Ae=ee.insertBefore(this.iframe,ee.firstChild).contentWindow;Ae.document.open(),Ae.document.close(),Ae.location.hash="#"+this.fragment}var xe=window.addEventListener||function(he,Pe){return attachEvent("on"+he,Pe)};if(this._usePushState?xe("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?xe("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var K=window.removeEventListener||function(te,ee){return detachEvent("on"+te,ee)};this._usePushState?K("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&K("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),tt.started=!1},route:function(K,te){this.handlers.unshift({route:K,callback:te})},checkUrl:function(K){var te=this.getFragment();if(te===this.fragment&&this.iframe&&(te=this.getHash(this.iframe.contentWindow)),te===this.fragment)return!1;this.iframe&&this.navigate(te),this.loadUrl()},loadUrl:function(K){return this.matchRoot()?(K=this.fragment=this.getFragment(K),s.some(this.handlers,function(te){if(te.route.test(K))return te.callback(K),!0})):!1},navigate:function(K,te){if(!tt.started)return!1;(!te||te===!0)&&(te={trigger:!!te}),K=this.getFragment(K||"");var ee=this.root;(K===""||K.charAt(0)==="?")&&(ee=ee.slice(0,-1)||"/");var Ae=ee+K;K=K.replace(be,"");var xe=this.decodeFragment(K);if(this.fragment!==xe){if(this.fragment=xe,this._usePushState)this.history[te.replace?"replaceState":"pushState"]({},document.title,Ae);else if(this._wantsHashChange){if(this._updateHash(this.location,K,te.replace),this.iframe&&K!==this.getHash(this.iframe.contentWindow)){var he=this.iframe.contentWindow;te.replace||(he.document.open(),he.document.close()),this._updateHash(he.location,K,te.replace)}}else return this.location.assign(Ae);if(te.trigger)return this.loadUrl(K)}},_updateHash:function(K,te,ee){if(ee){var Ae=K.href.replace(/(javascript:|#).*$/,"");K.replace(Ae+"#"+te)}else K.hash="#"+te}}),a.history=new tt;var me=function(K,te){var ee=this,Ae;return K&&s.has(K,"constructor")?Ae=K.constructor:Ae=function(){return ee.apply(this,arguments)},s.extend(Ae,ee,te),Ae.prototype=s.create(ee.prototype,K),Ae.prototype.constructor=Ae,Ae.__super__=ee.prototype,Ae};P.extend=F.extend=Qe.extend=R.extend=tt.extend=me;var Ve=function(){throw new Error('A "url" property or function must be specified')},Ie=function(K,te){var ee=te.error;te.error=function(Ae){ee&&ee.call(te.context,K,Ae,te),K.trigger("error",K,Ae,te)}};return a})}),3640:((n,t,e)=>{(function(r){r(e(4408))})(function(r){r.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,a){return/^[;{}]$/.test(a)}}),r.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,a,s,l){return this.jsonMode?/^[\[,{]$/.test(a)||/^}/.test(s):a==";"&&l.lexical&&l.lexical.type==")"?!1:/^[;{}]$/.test(a)&&!/^;/.test(s)}});var o=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;r.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(i,a,s,l){var u=!1;return this.configuration=="html"&&(u=l.context?o.test(l.context.tagName):!1),!u&&(i=="tag"&&/>$/.test(a)&&l.context||/^</.test(s))}}),r.defineExtension("commentRange",function(i,a,s){var l=this,u=r.innerMode(l.getMode(),l.getTokenAt(a).state).mode;l.operation(function(){if(i)l.replaceRange(u.commentEnd,s),l.replaceRange(u.commentStart,a),a.line==s.line&&a.ch==s.ch&&l.setCursor(a.line,a.ch+u.commentStart.length);else{var c=l.getRange(a,s),d=c.indexOf(u.commentStart),f=c.lastIndexOf(u.commentEnd);d>-1&&f>-1&&f>d&&(c=c.substr(0,d)+c.substring(d+u.commentStart.length,f)+c.substr(f+u.commentEnd.length)),l.replaceRange(c,a,s)}})}),r.defineExtension("autoIndentRange",function(i,a){var s=this;this.operation(function(){for(var l=i.line;l<=a.line;l++)s.indentLine(l,"smart")})}),r.defineExtension("autoFormatRange",function(i,a){var s=this,l=s.getMode(),u=s.getRange(i,a).split(`
`),c=r.copyState(l,s.getTokenAt(i).state),d=s.getOption("tabSize"),f="",h=0,p=i.ch===0;function v(){f+=`
`,p=!0,++h}for(var g=0;g<u.length;++g){for(var _=new r.StringStream(u[g],d);!_.eol();){var S=r.innerMode(l,c),y=l.token(_,c),C=_.current();_.start=_.pos,(!p||/\S/.test(C))&&(f+=C,p=!1),!p&&S.mode.newlineAfterToken&&S.mode.newlineAfterToken(y,C,_.string.slice(_.pos)||u[g+1]||"",S.state)&&v()}!_.pos&&l.blankLine&&l.blankLine(c),!p&&g<u.length-1&&v()}s.operation(function(){s.replaceRange(f,i,a);for(var T=i.line+1,P=i.line+h;T<=P;++T)s.indentLine(T,"smart");s.setSelection(i,s.getCursor(!1))})})})}),4408:(function(n){(function(t,e){n.exports=e()})(this,(function(){var t=navigator.userAgent,e=navigator.platform,r=/gecko\/\d/i.test(t),o=/MSIE \d/.test(t),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),a=/Edge\/(\d+)/.exec(t),s=o||i||a,l=s&&(o?document.documentMode||6:+(a||i)[1]),u=!a&&/WebKit\//.test(t),c=u&&/Qt\/\d+\.\d+/.test(t),d=!a&&/Chrome\//.test(t),f=/Opera\//.test(t),h=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),v=/PhantomJS/.test(t),g=h&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),_=/Android/.test(t),S=g||_||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=g||/Mac/.test(e),C=/\bCrOS\b/.test(t),T=/win/i.test(e),P=f&&t.match(/Version\/(\d*\.\d*)/);P&&(P=Number(P[1])),P&&P>=15&&(f=!1,u=!0);var F=y&&(c||f&&(P==null||P<12.11)),I=r||s&&l>=9;function k(A){return new RegExp("(^|\\s)"+A+"(?:$|\\s)\\s*")}var M=function(A,m){var w=A.className,b=k(m).exec(w);if(b){var E=w.slice(b.index+b[0].length);A.className=w.slice(0,b.index)+(E?b[1]+E:"")}};function V(A){for(var m=A.childNodes.length;m>0;--m)A.removeChild(A.firstChild);return A}function U(A,m){return V(A).appendChild(m)}function $(A,m,w,b){var E=document.createElement(A);if(w&&(E.className=w),b&&(E.style.cssText=b),typeof m=="string")E.appendChild(document.createTextNode(m));else if(m)for(var D=0;D<m.length;++D)E.appendChild(m[D]);return E}function Q(A,m,w,b){var E=$(A,m,w,b);return E.setAttribute("role","presentation"),E}var J;document.createRange?J=function(A,m,w,b){var E=document.createRange();return E.setEnd(b||A,w),E.setStart(A,m),E}:J=function(A,m,w){var b=document.body.createTextRange();try{b.moveToElementText(A.parentNode)}catch{return b}return b.collapse(!0),b.moveEnd("character",w),b.moveStart("character",m),b};function R(A,m){if(m.nodeType==3&&(m=m.parentNode),A.contains)return A.contains(m);do if(m.nodeType==11&&(m=m.host),m==A)return!0;while(m=m.parentNode)}function ne(){var A;try{A=document.activeElement}catch{A=document.body||null}for(;A&&A.shadowRoot&&A.shadowRoot.activeElement;)A=A.shadowRoot.activeElement;return A}function ue(A,m){var w=A.className;k(m).test(w)||(A.className+=(w?" ":"")+m)}function we(A,m){for(var w=A.split(" "),b=0;b<w.length;b++)w[b]&&!k(w[b]).test(m)&&(m+=" "+w[b]);return m}var Be=function(A){A.select()};g?Be=function(A){A.selectionStart=0,A.selectionEnd=A.value.length}:s&&(Be=function(A){try{A.select()}catch{}});function We(A){var m=Array.prototype.slice.call(arguments,1);return function(){return A.apply(null,m)}}function pe(A,m,w){m||(m={});for(var b in A)A.hasOwnProperty(b)&&(w!==!1||!m.hasOwnProperty(b))&&(m[b]=A[b]);return m}function _e(A,m,w,b,E){m==null&&(m=A.search(/[^\s\u00a0]/),m==-1&&(m=A.length));for(var D=b||0,j=E||0;;){var z=A.indexOf("	",D);if(z<0||z>=m)return j+(m-D);j+=z-D,j+=w-j%w,D=z+1}}var Ce=function(){this.id=null,this.f=null,this.time=0,this.handler=We(this.onTimeout,this)};Ce.prototype.onTimeout=function(A){A.id=0,A.time<=+new Date?A.f():setTimeout(A.handler,A.time-+new Date)},Ce.prototype.set=function(A,m){this.f=m;var w=+new Date+A;(!this.id||w<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,A),this.time=w)};function ve(A,m){for(var w=0;w<A.length;++w)if(A[w]==m)return w;return-1}var Qe=50,se={toString:function(){return"CodeMirror.Pass"}},Te={scroll:!1},je={origin:"*mouse"},nt={origin:"+move"};function tt(A,m,w){for(var b=0,E=0;;){var D=A.indexOf("	",b);D==-1&&(D=A.length);var j=D-b;if(D==A.length||E+j>=m)return b+Math.min(j,m-E);if(E+=D-b,E+=w-E%w,b=D+1,E>=m)return b}}var ot=[""];function ye(A){for(;ot.length<=A;)ot.push(be(ot)+" ");return ot[A]}function be(A){return A[A.length-1]}function me(A,m){for(var w=[],b=0;b<A.length;b++)w[b]=m(A[b],b);return w}function Ve(A,m,w){for(var b=0,E=w(m);b<A.length&&w(A[b])<=E;)b++;A.splice(b,0,m)}function Ie(){}function K(A,m){var w;return Object.create?w=Object.create(A):(Ie.prototype=A,w=new Ie),m&&pe(m,w),w}var te=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(A){return/\w/.test(A)||A>""&&(A.toUpperCase()!=A.toLowerCase()||te.test(A))}function Ae(A,m){return m?m.source.indexOf("\\w")>-1&&ee(A)?!0:m.test(A):ee(A)}function xe(A){for(var m in A)if(A.hasOwnProperty(m)&&A[m])return!1;return!0}var he=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Pe(A){return A.charCodeAt(0)>=768&&he.test(A)}function Ee(A,m,w){for(;(w<0?m>0:m<A.length)&&Pe(A.charAt(m));)m+=w;return m}function st(A,m,w){for(var b=m>w?-1:1;;){if(m==w)return m;var E=(m+w)/2,D=b<0?Math.ceil(E):Math.floor(E);if(D==m)return A(D)?m:w;A(D)?w=D:m=D+b}}function kt(A,m,w,b){if(!A)return b(m,w,"ltr",0);for(var E=!1,D=0;D<A.length;++D){var j=A[D];(j.from<w&&j.to>m||m==w&&j.to==m)&&(b(Math.max(j.from,m),Math.min(j.to,w),j.level==1?"rtl":"ltr",D),E=!0)}E||b(m,w,"ltr")}var Rt=null;function Y(A,m,w){var b;Rt=null;for(var E=0;E<A.length;++E){var D=A[E];if(D.from<m&&D.to>m)return E;D.to==m&&(D.from!=D.to&&w=="before"?b=E:Rt=E),D.from==m&&(D.from!=D.to&&w!="before"?b=E:Rt=E)}return b??Rt}var ie=(function(){var A="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",m="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function w(re){return re<=247?A.charAt(re):1424<=re&&re<=1524?"R":1536<=re&&re<=1785?m.charAt(re-1536):1774<=re&&re<=2220?"r":8192<=re&&re<=8203?"w":re==8204?"b":"L"}var b=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,E=/[stwN]/,D=/[LRr]/,j=/[Lb1n]/,z=/[1n]/;function Z(re,ke,Le){this.level=re,this.from=ke,this.to=Le}return function(re,ke){var Le=ke=="ltr"?"L":"R";if(re.length==0||ke=="ltr"&&!b.test(re))return!1;for(var qe=re.length,Ye=[],ct=0;ct<qe;++ct)Ye.push(w(re.charCodeAt(ct)));for(var Ct=0,Nt=Le;Ct<qe;++Ct){var Jt=Ye[Ct];Jt=="m"?Ye[Ct]=Nt:Nt=Jt}for(var an=0,Zt=Le;an<qe;++an){var un=Ye[an];un=="1"&&Zt=="r"?Ye[an]="n":D.test(un)&&(Zt=un,un=="r"&&(Ye[an]="R"))}for(var kn=1,xn=Ye[0];kn<qe-1;++kn){var or=Ye[kn];or=="+"&&xn=="1"&&Ye[kn+1]=="1"?Ye[kn]="1":or==","&&xn==Ye[kn+1]&&(xn=="1"||xn=="n")&&(Ye[kn]=xn),xn=or}for(var oo=0;oo<qe;++oo){var $i=Ye[oo];if($i==",")Ye[oo]="N";else if($i=="%"){var Uo=void 0;for(Uo=oo+1;Uo<qe&&Ye[Uo]=="%";++Uo);for(var dl=oo&&Ye[oo-1]=="!"||Uo<qe&&Ye[Uo]=="1"?"1":"N",Ts=oo;Ts<Uo;++Ts)Ye[Ts]=dl;oo=Uo-1}}for(var yi=0,Os=Le;yi<qe;++yi){var la=Ye[yi];Os=="L"&&la=="1"?Ye[yi]="L":D.test(la)&&(Os=la)}for(var Oi=0;Oi<qe;++Oi)if(E.test(Ye[Oi])){var bi=void 0;for(bi=Oi+1;bi<qe&&E.test(Ye[bi]);++bi);for(var Ko=(Oi?Ye[Oi-1]:Le)=="L",Ps=(bi<qe?Ye[bi]:Le)=="L",Dv=Ko==Ps?Ko?"L":"R":Le,FA=Oi;FA<bi;++FA)Ye[FA]=Dv;Oi=bi-1}for(var xa=[],cd,Ki=0;Ki<qe;)if(j.test(Ye[Ki])){var zO=Ki;for(++Ki;Ki<qe&&j.test(Ye[Ki]);++Ki);xa.push(new Z(0,zO,Ki))}else{var hf=Ki,mp=xa.length,vp=ke=="rtl"?1:0;for(++Ki;Ki<qe&&Ye[Ki]!="L";++Ki);for(var Ka=hf;Ka<Ki;)if(z.test(Ye[Ka])){hf<Ka&&(xa.splice(mp,0,new Z(1,hf,Ka)),mp+=vp);var Uv=Ka;for(++Ka;Ka<Ki&&z.test(Ye[Ka]);++Ka);xa.splice(mp,0,new Z(2,Uv,Ka)),mp+=vp,hf=Ka}else++Ka;hf<Ki&&xa.splice(mp,0,new Z(1,hf,Ki))}return ke=="ltr"&&(xa[0].level==1&&(cd=re.match(/^\s+/))&&(xa[0].from=cd[0].length,xa.unshift(new Z(0,0,cd[0].length))),be(xa).level==1&&(cd=re.match(/\s+$/))&&(be(xa).to-=cd[0].length,xa.push(new Z(0,qe-cd[0].length,qe)))),ke=="rtl"?xa.reverse():xa}})();function G(A,m){var w=A.order;return w==null&&(w=A.order=ie(A.text,m)),w}var He=[],De=function(A,m,w){if(A.addEventListener)A.addEventListener(m,w,!1);else if(A.attachEvent)A.attachEvent("on"+m,w);else{var b=A._handlers||(A._handlers={});b[m]=(b[m]||He).concat(w)}};function rt(A,m){return A._handlers&&A._handlers[m]||He}function mt(A,m,w){if(A.removeEventListener)A.removeEventListener(m,w,!1);else if(A.detachEvent)A.detachEvent("on"+m,w);else{var b=A._handlers,E=b&&b[m];if(E){var D=ve(E,w);D>-1&&(b[m]=E.slice(0,D).concat(E.slice(D+1)))}}}function ft(A,m){var w=rt(A,m);if(w.length)for(var b=Array.prototype.slice.call(arguments,2),E=0;E<w.length;++E)w[E].apply(null,b)}function gt(A,m,w){return typeof m=="string"&&(m={type:m,preventDefault:function(){this.defaultPrevented=!0}}),ft(A,w||m.type,A,m),dr(m)||m.codemirrorIgnore}function St(A){var m=A._handlers&&A._handlers.cursorActivity;if(m)for(var w=A.curOp.cursorActivityHandlers||(A.curOp.cursorActivityHandlers=[]),b=0;b<m.length;++b)ve(w,m[b])==-1&&w.push(m[b])}function Tt(A,m){return rt(A,m).length>0}function Wt(A){A.prototype.on=function(m,w){De(this,m,w)},A.prototype.off=function(m,w){mt(this,m,w)}}function qt(A){A.preventDefault?A.preventDefault():A.returnValue=!1}function mn(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0}function dr(A){return A.defaultPrevented!=null?A.defaultPrevented:A.returnValue==!1}function fe(A){qt(A),mn(A)}function Se(A){return A.target||A.srcElement}function Ge(A){var m=A.which;return m==null&&(A.button&1?m=1:A.button&2?m=3:A.button&4&&(m=2)),y&&A.ctrlKey&&m==1&&(m=3),m}var yt=(function(){if(s&&l<9)return!1;var A=$("div");return"draggable"in A||"dragDrop"in A})(),Ft;function ln(A){if(Ft==null){var m=$("span","");U(A,$("span",[m,document.createTextNode("x")])),A.firstChild.offsetHeight!=0&&(Ft=m.offsetWidth<=1&&m.offsetHeight>2&&!(s&&l<8))}var w=Ft?$("span",""):$("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return w.setAttribute("cm-text",""),w}var Yt;function Gr(A){if(Yt!=null)return Yt;var m=U(A,document.createTextNode("AA")),w=J(m,0,1).getBoundingClientRect(),b=J(m,1,2).getBoundingClientRect();return V(A),!w||w.left==w.right?!1:Yt=b.right-w.right<3}var Un=`

b`.split(/\n/).length!=3?function(A){for(var m=0,w=[],b=A.length;m<=b;){var E=A.indexOf(`
`,m);E==-1&&(E=A.length);var D=A.slice(m,A.charAt(E-1)=="\r"?E-1:E),j=D.indexOf("\r");j!=-1?(w.push(D.slice(0,j)),m+=j+1):(w.push(D),m=E+1)}return w}:function(A){return A.split(/\r\n?|\n/)},Vr=window.getSelection?function(A){try{return A.selectionStart!=A.selectionEnd}catch{return!1}}:function(A){var m;try{m=A.ownerDocument.selection.createRange()}catch{}return!m||m.parentElement()!=A?!1:m.compareEndPoints("StartToEnd",m)!=0},ys=(function(){var A=$("div");return"oncopy"in A?!0:(A.setAttribute("oncopy","return;"),typeof A.oncopy=="function")})(),$r=null;function Fr(A){if($r!=null)return $r;var m=U(A,$("span","x")),w=m.getBoundingClientRect(),b=J(m,0,1).getBoundingClientRect();return $r=Math.abs(w.left-b.left)>1}var Fo={},Jn={};function nr(A,m){arguments.length>2&&(m.dependencies=Array.prototype.slice.call(arguments,2)),Fo[A]=m}function Ln(A,m){Jn[A]=m}function lo(A){if(typeof A=="string"&&Jn.hasOwnProperty(A))A=Jn[A];else if(A&&typeof A.name=="string"&&Jn.hasOwnProperty(A.name)){var m=Jn[A.name];typeof m=="string"&&(m={name:m}),A=K(m,A),A.name=m.name}else{if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(A))return lo("application/xml");if(typeof A=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(A))return lo("application/json")}return typeof A=="string"?{name:A}:A||{name:"null"}}function yn(A,m){m=lo(m);var w=Fo[m.name];if(!w)return yn(A,"text/plain");var b=w(A,m);if(Na.hasOwnProperty(m.name)){var E=Na[m.name];for(var D in E)E.hasOwnProperty(D)&&(b.hasOwnProperty(D)&&(b["_"+D]=b[D]),b[D]=E[D])}if(b.name=m.name,m.helperType&&(b.helperType=m.helperType),m.modeProps)for(var j in m.modeProps)b[j]=m.modeProps[j];return b}var Na={};function wa(A,m){var w=Na.hasOwnProperty(A)?Na[A]:Na[A]={};pe(m,w)}function uo(A,m){if(m===!0)return m;if(A.copyState)return A.copyState(m);var w={};for(var b in m){var E=m[b];E instanceof Array&&(E=E.concat([])),w[b]=E}return w}function Do(A,m){for(var w;A.innerMode&&(w=A.innerMode(m),!(!w||w.mode==A));)m=w.state,A=w.mode;return w||{mode:A,state:m}}function ta(A,m,w){return A.startState?A.startState(m,w):!0}var ar=function(A,m,w){this.pos=this.start=0,this.string=A,this.tabSize=m||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=w};ar.prototype.eol=function(){return this.pos>=this.string.length},ar.prototype.sol=function(){return this.pos==this.lineStart},ar.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ar.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ar.prototype.eat=function(A){var m=this.string.charAt(this.pos),w;if(typeof A=="string"?w=m==A:w=m&&(A.test?A.test(m):A(m)),w)return++this.pos,m},ar.prototype.eatWhile=function(A){for(var m=this.pos;this.eat(A););return this.pos>m},ar.prototype.eatSpace=function(){for(var A=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>A},ar.prototype.skipToEnd=function(){this.pos=this.string.length},ar.prototype.skipTo=function(A){var m=this.string.indexOf(A,this.pos);if(m>-1)return this.pos=m,!0},ar.prototype.backUp=function(A){this.pos-=A},ar.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=_e(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},ar.prototype.indentation=function(){return _e(this.string,null,this.tabSize)-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},ar.prototype.match=function(A,m,w){if(typeof A=="string"){var b=function(j){return w?j.toLowerCase():j},E=this.string.substr(this.pos,A.length);if(b(E)==b(A))return m!==!1&&(this.pos+=A.length),!0}else{var D=this.string.slice(this.pos).match(A);return D&&D.index>0?null:(D&&m!==!1&&(this.pos+=D[0].length),D)}},ar.prototype.current=function(){return this.string.slice(this.start,this.pos)},ar.prototype.hideFirstChars=function(A,m){this.lineStart+=A;try{return m()}finally{this.lineStart-=A}},ar.prototype.lookAhead=function(A){var m=this.lineOracle;return m&&m.lookAhead(A)},ar.prototype.baseToken=function(){var A=this.lineOracle;return A&&A.baseToken(this.pos)};function tn(A,m){if(m-=A.first,m<0||m>=A.size)throw new Error("There is no line "+(m+A.first)+" in the document.");for(var w=A;!w.lines;)for(var b=0;;++b){var E=w.children[b],D=E.chunkSize();if(m<D){w=E;break}m-=D}return w.lines[m]}function Xo(A,m,w){var b=[],E=m.line;return A.iter(m.line,w.line+1,function(D){var j=D.text;E==w.line&&(j=j.slice(0,w.ch)),E==m.line&&(j=j.slice(m.ch)),b.push(j),++E}),b}function co(A,m,w){var b=[];return A.iter(m,w,function(E){b.push(E.text)}),b}function mi(A,m){var w=m-A.height;if(w)for(var b=A;b;b=b.parent)b.height+=w}function rr(A){if(A.parent==null)return null;for(var m=A.parent,w=ve(m.lines,A),b=m.parent;b;m=b,b=b.parent)for(var E=0;b.children[E]!=m;++E)w+=b.children[E].chunkSize();return w+m.first}function Vn(A,m){var w=A.first;e:do{for(var b=0;b<A.children.length;++b){var E=A.children[b],D=E.height;if(m<D){A=E;continue e}m-=D,w+=E.chunkSize()}return w}while(!A.lines);for(var j=0;j<A.lines.length;++j){var z=A.lines[j],Z=z.height;if(m<Z)break;m-=Z}return w+j}function na(A,m){return m>=A.first&&m<A.first+A.size}function bs(A,m){return String(A.lineNumberFormatter(m+A.firstLineNumber))}function Et(A,m,w){if(w===void 0&&(w=null),!(this instanceof Et))return new Et(A,m,w);this.line=A,this.ch=m,this.sticky=w}function Sn(A,m){return A.line-m.line||A.ch-m.ch}function ws(A,m){return A.sticky==m.sticky&&Sn(A,m)==0}function ce(A){return Et(A.line,A.ch)}function Me(A,m){return Sn(A,m)<0?m:A}function dt(A,m){return Sn(A,m)<0?A:m}function Ot(A,m){return Math.max(A.first,Math.min(m,A.first+A.size-1))}function Mt(A,m){if(m.line<A.first)return Et(A.first,0);var w=A.first+A.size-1;return m.line>w?Et(w,tn(A,w).text.length):Wn(m,tn(A,m.line).text.length)}function Wn(A,m){var w=A.ch;return w==null||w>m?Et(A.line,m):w<0?Et(A.line,0):A}function Zn(A,m){for(var w=[],b=0;b<m.length;b++)w[b]=Mt(A,m[b]);return w}var ro=function(A,m){this.state=A,this.lookAhead=m},Or=function(A,m,w,b){this.state=m,this.doc=A,this.line=w,this.maxLookAhead=b||0,this.baseTokens=null,this.baseTokenPos=1};Or.prototype.lookAhead=function(A){var m=this.doc.getLine(this.line+A);return m!=null&&A>this.maxLookAhead&&(this.maxLookAhead=A),m},Or.prototype.baseToken=function(A){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=A;)this.baseTokenPos+=2;var m=this.baseTokens[this.baseTokenPos+1];return{type:m&&m.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-A}},Or.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Or.fromSaved=function(A,m,w){return m instanceof ro?new Or(A,uo(A.mode,m.state),w,m.lookAhead):new Or(A,uo(A.mode,m),w)},Or.prototype.save=function(A){var m=A!==!1?uo(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ro(m,this.maxLookAhead):m};function Ra(A,m,w,b){var E=[A.state.modeGen],D={};hu(A,m.text,A.doc.mode,w,function(re,ke){return E.push(re,ke)},D,b);for(var j=w.state,z=function(re){w.baseTokens=E;var ke=A.state.overlays[re],Le=1,qe=0;w.state=!0,hu(A,m.text,ke.mode,w,function(Ye,ct){for(var Ct=Le;qe<Ye;){var Nt=E[Le];Nt>Ye&&E.splice(Le,1,Ye,E[Le+1],Nt),Le+=2,qe=Math.min(Ye,Nt)}if(ct)if(ke.opaque)E.splice(Ct,Le-Ct,Ye,"overlay "+ct),Le=Ct+2;else for(;Ct<Le;Ct+=2){var Jt=E[Ct+1];E[Ct+1]=(Jt?Jt+" ":"")+"overlay "+ct}},D),w.state=j,w.baseTokens=null,w.baseTokenPos=1},Z=0;Z<A.state.overlays.length;++Z)z(Z);return{styles:E,classes:D.bgClass||D.textClass?D:null}}function nc(A,m,w){if(!m.styles||m.styles[0]!=A.state.modeGen){var b=rc(A,rr(m)),E=m.text.length>A.options.maxHighlightLength&&uo(A.doc.mode,b.state),D=Ra(A,m,b);E&&(b.state=E),m.stateAfter=b.save(!E),m.styles=D.styles,D.classes?m.styleClasses=D.classes:m.styleClasses&&(m.styleClasses=null),w===A.doc.highlightFrontier&&(A.doc.modeFrontier=Math.max(A.doc.modeFrontier,++A.doc.highlightFrontier))}return m.styles}function rc(A,m,w){var b=A.doc,E=A.display;if(!b.mode.startState)return new Or(b,!0,m);var D=Vl(A,m,w),j=D>b.first&&tn(b,D-1).stateAfter,z=j?Or.fromSaved(b,j,D):new Or(b,ta(b.mode),D);return b.iter(D,m,function(Z){_s(A,Z.text,z);var re=z.line;Z.stateAfter=re==m-1||re%5==0||re>=E.viewFrom&&re<E.viewTo?z.save():null,z.nextLine()}),w&&(b.modeFrontier=z.line),z}function _s(A,m,w,b){var E=A.doc.mode,D=new ar(m,A.options.tabSize,w);for(D.start=D.pos=b||0,m==""&&rl(E,w.state);!D.eol();)Kc(E,D,w.state),D.start=D.pos}function rl(A,m){if(A.blankLine)return A.blankLine(m);if(A.innerMode){var w=Do(A,m);if(w.mode.blankLine)return w.mode.blankLine(w.state)}}function Kc(A,m,w,b){for(var E=0;E<10;E++){b&&(b[0]=Do(A,w).mode);var D=A.token(m,w);if(m.pos>m.start)return D}throw new Error("Mode "+A.name+" failed to advance stream.")}var ol=function(A,m,w){this.start=A.start,this.end=A.pos,this.string=A.current(),this.type=m||null,this.state=w};function ra(A,m,w,b){var E=A.doc,D=E.mode,j;m=Mt(E,m);var z=tn(E,m.line),Z=rc(A,m.line,w),re=new ar(z.text,A.options.tabSize,Z),ke;for(b&&(ke=[]);(b||re.pos<m.ch)&&!re.eol();)re.start=re.pos,j=Kc(D,re,Z.state),b&&ke.push(new ol(re,j,uo(E.mode,Z.state)));return b?ke:new ol(re,j,Z.state)}function oc(A,m){if(A)for(;;){var w=A.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!w)break;A=A.slice(0,w.index)+A.slice(w.index+w[0].length);var b=w[1]?"bgClass":"textClass";m[b]==null?m[b]=w[2]:new RegExp("(?:^|\\s)"+w[2]+"(?:$|\\s)").test(m[b])||(m[b]+=" "+w[2])}return A}function hu(A,m,w,b,E,D,j){var z=w.flattenSpans;z==null&&(z=A.options.flattenSpans);var Z=0,re=null,ke=new ar(m,A.options.tabSize,b),Le,qe=A.options.addModeClass&&[null];for(m==""&&oc(rl(w,b.state),D);!ke.eol();){if(ke.pos>A.options.maxHighlightLength?(z=!1,j&&_s(A,m,b,ke.pos),ke.pos=m.length,Le=null):Le=oc(Kc(w,ke,b.state,qe),D),qe){var Ye=qe[0].name;Ye&&(Le="m-"+(Le?Ye+" "+Le:Ye))}if(!z||re!=Le){for(;Z<ke.start;)Z=Math.min(ke.start,Z+5e3),E(Z,re);re=Le}ke.start=ke.pos}for(;Z<ke.pos;){var ct=Math.min(ke.pos,Z+5e3);E(ct,re),Z=ct}}function Vl(A,m,w){for(var b,E,D=A.doc,j=w?-1:m-(A.doc.mode.innerMode?1e3:100),z=m;z>j;--z){if(z<=D.first)return D.first;var Z=tn(D,z-1),re=Z.stateAfter;if(re&&(!w||z+(re instanceof ro?re.lookAhead:0)<=D.modeFrontier))return z;var ke=_e(Z.text,null,A.options.tabSize);(E==null||b>ke)&&(E=z-1,b=ke)}return E}function Wc(A,m){if(A.modeFrontier=Math.min(A.modeFrontier,m),!(A.highlightFrontier<m-10)){for(var w=A.first,b=m-1;b>w;b--){var E=tn(A,b).stateAfter;if(E&&(!(E instanceof ro)||b+E.lookAhead<m)){w=b+1;break}}A.highlightFrontier=Math.min(A.highlightFrontier,w)}}var Qo=!1,Jo=!1;function Yd(){Qo=!0}function Cs(){Jo=!0}function Ss(A,m,w){this.marker=A,this.from=m,this.to=w}function oa(A,m){if(A)for(var w=0;w<A.length;++w){var b=A[w];if(b.marker==m)return b}}function jo(A,m){for(var w,b=0;b<A.length;++b)A[b]!=m&&(w||(w=[])).push(A[b]);return w}function vA(A,m,w){var b=w&&window.WeakSet&&(w.markedSpans||(w.markedSpans=new WeakSet));b&&b.has(A.markedSpans)?A.markedSpans.push(m):(A.markedSpans=A.markedSpans?A.markedSpans.concat([m]):[m],b&&b.add(A.markedSpans)),m.marker.attachLine(A)}function Nl(A,m,w){var b;if(A)for(var E=0;E<A.length;++E){var D=A[E],j=D.marker,z=D.from==null||(j.inclusiveLeft?D.from<=m:D.from<m);if(z||D.from==m&&j.type=="bookmark"&&(!w||!D.marker.insertLeft)){var Z=D.to==null||(j.inclusiveRight?D.to>=m:D.to>m);(b||(b=[])).push(new Ss(j,D.from,Z?null:D.to))}}return b}function xs(A,m,w){var b;if(A)for(var E=0;E<A.length;++E){var D=A[E],j=D.marker,z=D.to==null||(j.inclusiveRight?D.to>=m:D.to>m);if(z||D.from==m&&j.type=="bookmark"&&(!w||D.marker.insertLeft)){var Z=D.from==null||(j.inclusiveLeft?D.from<=m:D.from<m);(b||(b=[])).push(new Ss(j,Z?null:D.from-m,D.to==null?null:D.to-m))}}return b}function ic(A,m){if(m.full)return null;var w=na(A,m.from.line)&&tn(A,m.from.line).markedSpans,b=na(A,m.to.line)&&tn(A,m.to.line).markedSpans;if(!w&&!b)return null;var E=m.from.ch,D=m.to.ch,j=Sn(m.from,m.to)==0,z=Nl(w,E,j),Z=xs(b,D,j),re=m.text.length==1,ke=be(m.text).length+(re?E:0);if(z)for(var Le=0;Le<z.length;++Le){var qe=z[Le];if(qe.to==null){var Ye=oa(Z,qe.marker);Ye?re&&(qe.to=Ye.to==null?null:Ye.to+ke):qe.to=E}}if(Z)for(var ct=0;ct<Z.length;++ct){var Ct=Z[ct];if(Ct.to!=null&&(Ct.to+=ke),Ct.from==null){var Nt=oa(z,Ct.marker);Nt||(Ct.from=ke,re&&(z||(z=[])).push(Ct))}else Ct.from+=ke,re&&(z||(z=[])).push(Ct)}z&&(z=Es(z)),Z&&Z!=z&&(Z=Es(Z));var Jt=[z];if(!re){var an=m.text.length-2,Zt;if(an>0&&z)for(var un=0;un<z.length;++un)z[un].to==null&&(Zt||(Zt=[])).push(new Ss(z[un].marker,null,null));for(var kn=0;kn<an;++kn)Jt.push(Zt);Jt.push(Z)}return Jt}function Es(A){for(var m=0;m<A.length;++m){var w=A[m];w.from!=null&&w.from==w.to&&w.marker.clearWhenEmpty!==!1&&A.splice(m--,1)}return A.length?A:null}function Bs(A,m,w){var b=null;if(A.iter(m.line,w.line+1,function(Ye){if(Ye.markedSpans)for(var ct=0;ct<Ye.markedSpans.length;++ct){var Ct=Ye.markedSpans[ct].marker;Ct.readOnly&&(!b||ve(b,Ct)==-1)&&(b||(b=[])).push(Ct)}}),!b)return null;for(var E=[{from:m,to:w}],D=0;D<b.length;++D)for(var j=b[D],z=j.find(0),Z=0;Z<E.length;++Z){var re=E[Z];if(!(Sn(re.to,z.from)<0||Sn(re.from,z.to)>0)){var ke=[Z,1],Le=Sn(re.from,z.from),qe=Sn(re.to,z.to);(Le<0||!j.inclusiveLeft&&!Le)&&ke.push({from:re.from,to:z.from}),(qe>0||!j.inclusiveRight&&!qe)&&ke.push({from:z.to,to:re.to}),E.splice.apply(E,ke),Z+=ke.length-3}}return E}function Xd(A){var m=A.markedSpans;if(m){for(var w=0;w<m.length;++w)m[w].marker.detachLine(A);A.markedSpans=null}}function zc(A,m){if(m){for(var w=0;w<m.length;++w)m[w].marker.attachLine(A);A.markedSpans=m}}function ac(A){return A.inclusiveLeft?-1:0}function il(A){return A.inclusiveRight?1:0}function sc(A,m){var w=A.lines.length-m.lines.length;if(w!=0)return w;var b=A.find(),E=m.find(),D=Sn(b.from,E.from)||ac(A)-ac(m);if(D)return-D;var j=Sn(b.to,E.to)||il(A)-il(m);return j||m.id-A.id}function Rl(A,m){var w=Jo&&A.markedSpans,b;if(w)for(var E=void 0,D=0;D<w.length;++D)E=w[D],E.marker.collapsed&&(m?E.from:E.to)==null&&(!b||sc(b,E.marker)<0)&&(b=E.marker);return b}function bn(A){return Rl(A,!0)}function vn(A){return Rl(A,!1)}function fr(A,m){var w=Jo&&A.markedSpans,b;if(w)for(var E=0;E<w.length;++E){var D=w[E];D.marker.collapsed&&(D.from==null||D.from<m)&&(D.to==null||D.to>m)&&(!b||sc(b,D.marker)<0)&&(b=D.marker)}return b}function Bn(A,m,w,b,E){var D=tn(A,m),j=Jo&&D.markedSpans;if(j)for(var z=0;z<j.length;++z){var Z=j[z];if(Z.marker.collapsed){var re=Z.marker.find(0),ke=Sn(re.from,w)||ac(Z.marker)-ac(E),Le=Sn(re.to,b)||il(Z.marker)-il(E);if(!(ke>=0&&Le<=0||ke<=0&&Le>=0)&&(ke<=0&&(Z.marker.inclusiveRight&&E.inclusiveLeft?Sn(re.to,w)>=0:Sn(re.to,w)>0)||ke>=0&&(Z.marker.inclusiveRight&&E.inclusiveLeft?Sn(re.from,b)<=0:Sn(re.from,b)<0)))return!0}}}function qr(A){for(var m;m=bn(A);)A=m.find(-1,!0).line;return A}function $o(A){for(var m;m=vn(A);)A=m.find(1,!0).line;return A}function Qi(A){for(var m,w;m=vn(A);)A=m.find(1,!0).line,(w||(w=[])).push(A);return w}function ks(A,m){var w=tn(A,m),b=qr(w);return w==b?m:rr(b)}function _a(A,m){if(m>A.lastLine())return m;var w=tn(A,m),b;if(!Ca(A,w))return m;for(;b=vn(w);)w=b.find(1,!0).line;return rr(w)+1}function Ca(A,m){var w=Jo&&m.markedSpans;if(w){for(var b=void 0,E=0;E<w.length;++E)if(b=w[E],!!b.marker.collapsed){if(b.from==null)return!0;if(!b.marker.widgetNode&&b.from==0&&b.marker.inclusiveLeft&&Ha(A,m,b))return!0}}}function Ha(A,m,w){if(w.to==null){var b=w.marker.find(1,!0);return Ha(A,b.line,oa(b.line.markedSpans,w.marker))}if(w.marker.inclusiveRight&&w.to==m.text.length)return!0;for(var E=void 0,D=0;D<m.markedSpans.length;++D)if(E=m.markedSpans[D],E.marker.collapsed&&!E.marker.widgetNode&&E.from==w.to&&(E.to==null||E.to!=w.from)&&(E.marker.inclusiveLeft||w.marker.inclusiveRight)&&Ha(A,m,E))return!0}function al(A){A=qr(A);for(var m=0,w=A.parent,b=0;b<w.lines.length;++b){var E=w.lines[b];if(E==A)break;m+=E.height}for(var D=w.parent;D;w=D,D=w.parent)for(var j=0;j<D.children.length;++j){var z=D.children[j];if(z==w)break;m+=z.height}return m}function pu(A){if(A.height==0)return 0;for(var m=A.text.length,w,b=A;w=bn(b);){var E=w.find(0,!0);b=E.from.line,m+=E.from.ch-E.to.ch}for(b=A;w=vn(b);){var D=w.find(0,!0);m-=b.text.length-D.from.ch,b=D.to.line,m+=b.text.length-D.to.ch}return m}function Dr(A){var m=A.display,w=A.doc;m.maxLine=tn(w,w.first),m.maxLineLength=pu(m.maxLine),m.maxLineChanged=!0,w.iter(function(b){var E=pu(b);E>m.maxLineLength&&(m.maxLineLength=E,m.maxLine=b)})}var So=function(A,m,w){this.text=A,zc(this,m),this.height=w?w(this):1};So.prototype.lineNo=function(){return rr(this)},Wt(So);function Gc(A,m,w,b){A.text=m,A.stateAfter&&(A.stateAfter=null),A.styles&&(A.styles=null),A.order!=null&&(A.order=null),Xd(A),zc(A,w);var E=b?b(A):1;E!=A.height&&mi(A,E)}function gA(A){A.parent=null,Xd(A)}var qh={},ep={};function tp(A,m){if(!A||/^\s*$/.test(A))return null;var w=m.addModeClass?ep:qh;return w[A]||(w[A]=A.replace(/\S+/g,"cm-$&"))}function lc(A,m){var w=Q("span",null,null,u?"padding-right: .1px":null),b={pre:Q("pre",[w],"CodeMirror-line"),content:w,col:0,pos:0,cm:A,trailingSpace:!1,splitSpaces:A.getOption("lineWrapping")};m.measure={};for(var E=0;E<=(m.rest?m.rest.length:0);E++){var D=E?m.rest[E-1]:m.line,j=void 0;b.pos=0,b.addToken=yA,Gr(A.display.measure)&&(j=G(D,A.doc.direction))&&(b.addToken=sl(b.addToken,j)),b.map=[];var z=m!=A.display.externalMeasured&&rr(D);wA(D,b,nc(A,D,z)),D.styleClasses&&(D.styleClasses.bgClass&&(b.bgClass=we(D.styleClasses.bgClass,b.bgClass||"")),D.styleClasses.textClass&&(b.textClass=we(D.styleClasses.textClass,b.textClass||""))),b.map.length==0&&b.map.push(0,0,b.content.appendChild(ln(A.display.measure))),E==0?(m.measure.map=b.map,m.measure.cache={}):((m.measure.maps||(m.measure.maps=[])).push(b.map),(m.measure.caches||(m.measure.caches=[])).push({}))}if(u){var Z=b.content.lastChild;(/\bcm-tab\b/.test(Z.className)||Z.querySelector&&Z.querySelector(".cm-tab"))&&(b.content.className="cm-tab-wrap-hack")}return ft(A,"renderLine",A,m.line,b.pre),b.pre.className&&(b.textClass=we(b.pre.className,b.textClass||"")),b}function Hl(A){var m=$("span","","cm-invalidchar");return m.title="\\u"+A.charCodeAt(0).toString(16),m.setAttribute("aria-label",m.title),m}function yA(A,m,w,b,E,D,j){if(m){var z=A.splitSpaces?bA(m,A.trailingSpace):m,Z=A.cm.state.specialChars,re=!1,ke;if(!Z.test(m))A.col+=m.length,ke=document.createTextNode(z),A.map.push(A.pos,A.pos+m.length,ke),s&&l<9&&(re=!0),A.pos+=m.length;else{ke=document.createDocumentFragment();for(var Le=0;;){Z.lastIndex=Le;var qe=Z.exec(m),Ye=qe?qe.index-Le:m.length-Le;if(Ye){var ct=document.createTextNode(z.slice(Le,Le+Ye));s&&l<9?ke.appendChild($("span",[ct])):ke.appendChild(ct),A.map.push(A.pos,A.pos+Ye,ct),A.col+=Ye,A.pos+=Ye}if(!qe)break;Le+=Ye+1;var Ct=void 0;if(qe[0]=="	"){var Nt=A.cm.options.tabSize,Jt=Nt-A.col%Nt;Ct=ke.appendChild($("span",ye(Jt),"cm-tab")),Ct.setAttribute("role","presentation"),Ct.setAttribute("cm-text","	"),A.col+=Jt}else qe[0]=="\r"||qe[0]==`
`?(Ct=ke.appendChild($("span",qe[0]=="\r"?"":"","cm-invalidchar")),Ct.setAttribute("cm-text",qe[0]),A.col+=1):(Ct=A.cm.options.specialCharPlaceholder(qe[0]),Ct.setAttribute("cm-text",qe[0]),s&&l<9?ke.appendChild($("span",[Ct])):ke.appendChild(Ct),A.col+=1);A.map.push(A.pos,A.pos+1,Ct),A.pos++}}if(A.trailingSpace=z.charCodeAt(m.length-1)==32,w||b||E||re||D||j){var an=w||"";b&&(an+=b),E&&(an+=E);var Zt=$("span",[ke],an,D);if(j)for(var un in j)j.hasOwnProperty(un)&&un!="style"&&un!="class"&&Zt.setAttribute(un,j[un]);return A.content.appendChild(Zt)}A.content.appendChild(ke)}}function bA(A,m){if(A.length>1&&!/  /.test(A))return A;for(var w=m,b="",E=0;E<A.length;E++){var D=A.charAt(E);D==" "&&w&&(E==A.length-1||A.charCodeAt(E+1)==32)&&(D=""),b+=D,w=D==" "}return b}function sl(A,m){return function(w,b,E,D,j,z,Z){E=E?E+" cm-force-border":"cm-force-border";for(var re=w.pos,ke=re+b.length;;){for(var Le=void 0,qe=0;qe<m.length&&(Le=m[qe],!(Le.to>re&&Le.from<=re));qe++);if(Le.to>=ke)return A(w,b,E,D,j,z,Z);A(w,b.slice(0,Le.to-re),E,D,null,z,Z),D=null,b=b.slice(Le.to-re),re=Le.to}}}function np(A,m,w,b){var E=!b&&w.widgetNode;E&&A.map.push(A.pos,A.pos+m,E),!b&&A.cm.display.input.needsContentAttribute&&(E||(E=A.content.appendChild(document.createElement("span"))),E.setAttribute("cm-marker",w.id)),E&&(A.cm.display.input.setUneditable(E),A.content.appendChild(E)),A.pos+=m,A.trailingSpace=!1}function wA(A,m,w){var b=A.markedSpans,E=A.text,D=0;if(!b){for(var j=1;j<w.length;j+=2)m.addToken(m,E.slice(D,D=w[j]),tp(w[j+1],m.cm.options));return}for(var z=E.length,Z=0,re=1,ke="",Le,qe,Ye=0,ct,Ct,Nt,Jt,an;;){if(Ye==Z){ct=Ct=Nt=qe="",an=null,Jt=null,Ye=1/0;for(var Zt=[],un=void 0,kn=0;kn<b.length;++kn){var xn=b[kn],or=xn.marker;if(or.type=="bookmark"&&xn.from==Z&&or.widgetNode)Zt.push(or);else if(xn.from<=Z&&(xn.to==null||xn.to>Z||or.collapsed&&xn.to==Z&&xn.from==Z)){if(xn.to!=null&&xn.to!=Z&&Ye>xn.to&&(Ye=xn.to,Ct=""),or.className&&(ct+=" "+or.className),or.css&&(qe=(qe?qe+";":"")+or.css),or.startStyle&&xn.from==Z&&(Nt+=" "+or.startStyle),or.endStyle&&xn.to==Ye&&(un||(un=[])).push(or.endStyle,xn.to),or.title&&((an||(an={})).title=or.title),or.attributes)for(var oo in or.attributes)(an||(an={}))[oo]=or.attributes[oo];or.collapsed&&(!Jt||sc(Jt.marker,or)<0)&&(Jt=xn)}else xn.from>Z&&Ye>xn.from&&(Ye=xn.from)}if(un)for(var $i=0;$i<un.length;$i+=2)un[$i+1]==Ye&&(Ct+=" "+un[$i]);if(!Jt||Jt.from==Z)for(var Uo=0;Uo<Zt.length;++Uo)np(m,0,Zt[Uo]);if(Jt&&(Jt.from||0)==Z){if(np(m,(Jt.to==null?z+1:Jt.to)-Z,Jt.marker,Jt.from==null),Jt.to==null)return;Jt.to==Z&&(Jt=!1)}}if(Z>=z)break;for(var dl=Math.min(z,Ye);;){if(ke){var Ts=Z+ke.length;if(!Jt){var yi=Ts>dl?ke.slice(0,dl-Z):ke;m.addToken(m,yi,Le?Le+ct:ct,Nt,Z+yi.length==Ye?Ct:"",qe,an)}if(Ts>=dl){ke=ke.slice(dl-Z),Z=dl;break}Z=Ts,Nt=""}ke=E.slice(D,D=w[re++]),Le=tp(w[re++],m.cm.options)}}}function rp(A,m,w){this.line=m,this.rest=Qi(m),this.size=this.rest?rr(be(this.rest))-w+1:1,this.node=this.text=null,this.hidden=Ca(A,m)}function _A(A,m,w){for(var b=[],E,D=m;D<w;D=E){var j=new rp(A.doc,tn(A.doc,D),D);E=D+j.size,b.push(j)}return b}var uc=null;function Jd(A){uc?uc.ops.push(A):A.ownsGroup=uc={ops:[A],delayedCallbacks:[]}}function op(A){var m=A.delayedCallbacks,w=0;do{for(;w<m.length;w++)m[w].call(null);for(var b=0;b<A.ops.length;b++){var E=A.ops[b];if(E.cursorActivityHandlers)for(;E.cursorActivityCalled<E.cursorActivityHandlers.length;)E.cursorActivityHandlers[E.cursorActivityCalled++].call(null,E.cm)}}while(w<m.length)}function ip(A,m){var w=A.ownsGroup;if(w)try{op(w)}finally{uc=null,m(w)}}var Yc=null;function xo(A,m){var w=rt(A,m);if(w.length){var b=Array.prototype.slice.call(arguments,2),E;uc?E=uc.delayedCallbacks:Yc?E=Yc:(E=Yc=[],setTimeout(cc,0));for(var D=function(z){E.push(function(){return w[z].apply(null,b)})},j=0;j<w.length;++j)D(j)}}function cc(){var A=Yc;Yc=null;for(var m=0;m<A.length;++m)A[m]()}function mu(A,m,w,b){for(var E=0;E<m.changes.length;E++){var D=m.changes[E];D=="text"?sp(A,m):D=="gutter"?Jc(A,m,w,b):D=="class"?Zd(A,m):D=="widget"&&dc(A,m,b)}m.changes=null}function Xc(A){return A.node==A.text&&(A.node=$("div",null,null,"position: relative"),A.text.parentNode&&A.text.parentNode.replaceChild(A.node,A.text),A.node.appendChild(A.text),s&&l<8&&(A.node.style.zIndex=2)),A.node}function fv(A,m){var w=m.bgClass?m.bgClass+" "+(m.line.bgClass||""):m.line.bgClass;if(w&&(w+=" CodeMirror-linebackground"),m.background)w?m.background.className=w:(m.background.parentNode.removeChild(m.background),m.background=null);else if(w){var b=Xc(m);m.background=b.insertBefore($("div",null,w),b.firstChild),A.display.input.setUneditable(m.background)}}function ap(A,m){var w=A.display.externalMeasured;return w&&w.line==m.line?(A.display.externalMeasured=null,m.measure=w.measure,w.built):lc(A,m)}function sp(A,m){var w=m.text.className,b=ap(A,m);m.text==m.node&&(m.node=b.pre),m.text.parentNode.replaceChild(b.pre,m.text),m.text=b.pre,b.bgClass!=m.bgClass||b.textClass!=m.textClass?(m.bgClass=b.bgClass,m.textClass=b.textClass,Zd(A,m)):w&&(m.text.className=w)}function Zd(A,m){fv(A,m),m.line.wrapClass?Xc(m).className=m.line.wrapClass:m.node!=m.text&&(m.node.className="");var w=m.textClass?m.textClass+" "+(m.line.textClass||""):m.line.textClass;m.text.className=w||""}function Jc(A,m,w,b){if(m.gutter&&(m.node.removeChild(m.gutter),m.gutter=null),m.gutterBackground&&(m.node.removeChild(m.gutterBackground),m.gutterBackground=null),m.line.gutterClass){var E=Xc(m);m.gutterBackground=$("div",null,"CodeMirror-gutter-background "+m.line.gutterClass,"left: "+(A.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px; width: "+b.gutterTotalWidth+"px"),A.display.input.setUneditable(m.gutterBackground),E.insertBefore(m.gutterBackground,m.text)}var D=m.line.gutterMarkers;if(A.options.lineNumbers||D){var j=Xc(m),z=m.gutter=$("div",null,"CodeMirror-gutter-wrapper","left: "+(A.options.fixedGutter?b.fixedPos:-b.gutterTotalWidth)+"px");if(z.setAttribute("aria-hidden","true"),A.display.input.setUneditable(z),j.insertBefore(z,m.text),m.line.gutterClass&&(z.className+=" "+m.line.gutterClass),A.options.lineNumbers&&(!D||!D["CodeMirror-linenumbers"])&&(m.lineNumber=z.appendChild($("div",bs(A.options,w),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+b.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+A.display.lineNumInnerWidth+"px"))),D)for(var Z=0;Z<A.display.gutterSpecs.length;++Z){var re=A.display.gutterSpecs[Z].className,ke=D.hasOwnProperty(re)&&D[re];ke&&z.appendChild($("div",[ke],"CodeMirror-gutter-elt","left: "+b.gutterLeft[re]+"px; width: "+b.gutterWidth[re]+"px"))}}}function dc(A,m,w){m.alignable&&(m.alignable=null);for(var b=k("CodeMirror-linewidget"),E=m.node.firstChild,D=void 0;E;E=D)D=E.nextSibling,b.test(E.className)&&m.node.removeChild(E);vu(A,m,w)}function Av(A,m,w,b){var E=ap(A,m);return m.text=m.node=E.pre,E.bgClass&&(m.bgClass=E.bgClass),E.textClass&&(m.textClass=E.textClass),Zd(A,m),Jc(A,m,w,b),vu(A,m,b),m.node}function vu(A,m,w){if(lp(A,m.line,m,w,!0),m.rest)for(var b=0;b<m.rest.length;b++)lp(A,m.rest[b],m,w,!1)}function lp(A,m,w,b,E){if(m.widgets)for(var D=Xc(w),j=0,z=m.widgets;j<z.length;++j){var Z=z[j],re=$("div",[Z.node],"CodeMirror-linewidget"+(Z.className?" "+Z.className:""));Z.handleMouseEvents||re.setAttribute("cm-ignore-events","true"),CA(Z,re,w,b),A.display.input.setUneditable(re),E&&Z.above?D.insertBefore(re,w.gutter||w.text):D.appendChild(re),xo(Z,"redraw")}}function CA(A,m,w,b){if(A.noHScroll){(w.alignable||(w.alignable=[])).push(m);var E=b.wrapperWidth;m.style.left=b.fixedPos+"px",A.coverGutter||(E-=b.gutterTotalWidth,m.style.paddingLeft=b.gutterTotalWidth+"px"),m.style.width=E+"px"}A.coverGutter&&(m.style.zIndex=5,m.style.position="relative",A.noHScroll||(m.style.marginLeft=-b.gutterTotalWidth+"px"))}function Zc(A){if(A.height!=null)return A.height;var m=A.doc.cm;if(!m)return 0;if(!R(document.body,A.node)){var w="position: relative;";A.coverGutter&&(w+="margin-left: -"+m.display.gutters.offsetWidth+"px;"),A.noHScroll&&(w+="width: "+m.display.wrapper.clientWidth+"px;"),U(m.display.measure,$("div",[A.node],null,w))}return A.height=A.node.parentNode.offsetHeight}function ll(A,m){for(var w=Se(m);w!=A.wrapper;w=w.parentNode)if(!w||w.nodeType==1&&w.getAttribute("cm-ignore-events")=="true"||w.parentNode==A.sizer&&w!=A.mover)return!0}function qc(A){return A.lineSpace.offsetTop}function qd(A){return A.mover.offsetHeight-A.lineSpace.offsetHeight}function up(A){if(A.cachedPaddingH)return A.cachedPaddingH;var m=U(A.measure,$("pre","x","CodeMirror-line-like")),w=window.getComputedStyle?window.getComputedStyle(m):m.currentStyle,b={left:parseInt(w.paddingLeft),right:parseInt(w.paddingRight)};return!isNaN(b.left)&&!isNaN(b.right)&&(A.cachedPaddingH=b),b}function Qa(A){return Qe-A.display.nativeBarWidth}function gu(A){return A.display.scroller.clientWidth-Qa(A)-A.display.barWidth}function X(A){return A.display.scroller.clientHeight-Qa(A)-A.display.barHeight}function de(A,m,w){var b=A.options.lineWrapping,E=b&&gu(A);if(!m.measure.heights||b&&m.measure.width!=E){var D=m.measure.heights=[];if(b){m.measure.width=E;for(var j=m.text.firstChild.getClientRects(),z=0;z<j.length-1;z++){var Z=j[z],re=j[z+1];Math.abs(Z.bottom-re.bottom)>2&&D.push((Z.bottom+re.top)/2-w.top)}}D.push(w.bottom-w.top)}}function Fe(A,m,w){if(A.line==m)return{map:A.measure.map,cache:A.measure.cache};for(var b=0;b<A.rest.length;b++)if(A.rest[b]==m)return{map:A.measure.maps[b],cache:A.measure.caches[b]};for(var E=0;E<A.rest.length;E++)if(rr(A.rest[E])>w)return{map:A.measure.maps[E],cache:A.measure.caches[E],before:!0}}function Ne(A,m){m=qr(m);var w=rr(m),b=A.display.externalMeasured=new rp(A.doc,m,w);b.lineN=w;var E=b.built=lc(A,b);return b.text=E.pre,U(A.display.lineMeasure,E.pre),b}function Ze(A,m,w,b){return Ut(A,vt(A,m),w,b)}function Xe(A,m){if(m>=A.display.viewFrom&&m<A.display.viewTo)return A.display.view[of(A,m)];var w=A.display.externalMeasured;if(w&&m>=w.lineN&&m<w.lineN+w.size)return w}function vt(A,m){var w=rr(m),b=Xe(A,w);b&&!b.text?b=null:b&&b.changes&&(mu(A,b,w,mv(A)),A.curOp.forceUpdate=!0),b||(b=Ne(A,m));var E=Fe(b,m,w);return{line:m,view:b,rect:null,map:E.map,cache:E.cache,before:E.before,hasHeights:!1}}function Ut(A,m,w,b,E){m.before&&(w=-1);var D=w+(b||""),j;return m.cache.hasOwnProperty(D)?j=m.cache[D]:(m.rect||(m.rect=m.view.text.getBoundingClientRect()),m.hasHeights||(de(A,m.view,m.rect),m.hasHeights=!0),j=qo(A,m,w,b),j.bogus||(m.cache[D]=j)),{left:j.left,right:j.right,top:E?j.rtop:j.top,bottom:E?j.rbottom:j.bottom}}var zn={left:0,right:0,top:0,bottom:0};function Nn(A,m,w){for(var b,E,D,j,z,Z,re=0;re<A.length;re+=3)if(z=A[re],Z=A[re+1],m<z?(E=0,D=1,j="left"):m<Z?(E=m-z,D=E+1):(re==A.length-3||m==Z&&A[re+3]>m)&&(D=Z-z,E=D-1,m>=Z&&(j="right")),E!=null){if(b=A[re+2],z==Z&&w==(b.insertLeft?"left":"right")&&(j=w),w=="left"&&E==0)for(;re&&A[re-2]==A[re-3]&&A[re-1].insertLeft;)b=A[(re-=3)+2],j="left";if(w=="right"&&E==Z-z)for(;re<A.length-3&&A[re+3]==A[re+4]&&!A[re+5].insertLeft;)b=A[(re+=3)+2],j="right";break}return{node:b,start:E,end:D,collapse:j,coverStart:z,coverEnd:Z}}function Zo(A,m){var w=zn;if(m=="left")for(var b=0;b<A.length&&(w=A[b]).left==w.right;b++);else for(var E=A.length-1;E>=0&&(w=A[E]).left==w.right;E--);return w}function qo(A,m,w,b){var E=Nn(m.map,w,b),D=E.node,j=E.start,z=E.end,Z=E.collapse,re;if(D.nodeType==3){for(var ke=0;ke<4;ke++){for(;j&&Pe(m.line.text.charAt(E.coverStart+j));)--j;for(;E.coverStart+z<E.coverEnd&&Pe(m.line.text.charAt(E.coverStart+z));)++z;if(s&&l<9&&j==0&&z==E.coverEnd-E.coverStart?re=D.parentNode.getBoundingClientRect():re=Zo(J(D,j,z).getClientRects(),b),re.left||re.right||j==0)break;z=j,j=j-1,Z="right"}s&&l<11&&(re=ef(A.display.measure,re))}else{j>0&&(Z=b="right");var Le;A.options.lineWrapping&&(Le=D.getClientRects()).length>1?re=Le[b=="right"?Le.length-1:0]:re=D.getBoundingClientRect()}if(s&&l<9&&!j&&(!re||!re.left&&!re.right)){var qe=D.parentNode.getClientRects()[0];qe?re={left:qe.left,right:qe.left+ul(A.display),top:qe.top,bottom:qe.bottom}:re=zn}for(var Ye=re.top-m.rect.top,ct=re.bottom-m.rect.top,Ct=(Ye+ct)/2,Nt=m.view.measure.heights,Jt=0;Jt<Nt.length-1&&!(Ct<Nt[Jt]);Jt++);var an=Jt?Nt[Jt-1]:0,Zt=Nt[Jt],un={left:(Z=="right"?re.right:re.left)-m.rect.left,right:(Z=="left"?re.left:re.right)-m.rect.left,top:an,bottom:Zt};return!re.left&&!re.right&&(un.bogus=!0),A.options.singleCursorHeightPerLine||(un.rtop=Ye,un.rbottom=ct),un}function ef(A,m){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Fr(A))return m;var w=screen.logicalXDPI/screen.deviceXDPI,b=screen.logicalYDPI/screen.deviceYDPI;return{left:m.left*w,right:m.right*w,top:m.top*b,bottom:m.bottom*b}}function tf(A){if(A.measure&&(A.measure.cache={},A.measure.heights=null,A.rest))for(var m=0;m<A.rest.length;m++)A.measure.caches[m]={}}function hC(A){A.display.externalMeasure=null,V(A.display.lineMeasure);for(var m=0;m<A.display.view.length;m++)tf(A.display.view[m])}function SA(A){hC(A),A.display.cachedCharWidth=A.display.cachedTextHeight=A.display.cachedPaddingH=null,A.options.lineWrapping||(A.display.maxLineChanged=!0),A.display.lineNumChars=null}function pC(){return d&&_?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function hv(){return d&&_?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function cp(A){var m=0;if(A.widgets)for(var w=0;w<A.widgets.length;++w)A.widgets[w].above&&(m+=Zc(A.widgets[w]));return m}function xA(A,m,w,b,E){if(!E){var D=cp(m);w.top+=D,w.bottom+=D}if(b=="line")return w;b||(b="local");var j=al(m);if(b=="local"?j+=qc(A.display):j-=A.display.viewOffset,b=="page"||b=="window"){var z=A.display.lineSpace.getBoundingClientRect();j+=z.top+(b=="window"?0:hv());var Z=z.left+(b=="window"?0:pC());w.left+=Z,w.right+=Z}return w.top+=j,w.bottom+=j,w}function mC(A,m,w){if(w=="div")return m;var b=m.left,E=m.top;if(w=="page")b-=pC(),E-=hv();else if(w=="local"||!w){var D=A.display.sizer.getBoundingClientRect();b+=D.left,E+=D.top}var j=A.display.lineSpace.getBoundingClientRect();return{left:b-j.left,top:E-j.top}}function pv(A,m,w,b,E){return b||(b=tn(A.doc,m.line)),xA(A,b,Ze(A,b,m.ch,E),w)}function Ql(A,m,w,b,E,D){b=b||tn(A.doc,m.line),E||(E=vt(A,b));function j(ct,Ct){var Nt=Ut(A,E,ct,Ct?"right":"left",D);return Ct?Nt.left=Nt.right:Nt.right=Nt.left,xA(A,b,Nt,w)}var z=G(b,A.doc.direction),Z=m.ch,re=m.sticky;if(Z>=b.text.length?(Z=b.text.length,re="before"):Z<=0&&(Z=0,re="after"),!z)return j(re=="before"?Z-1:Z,re=="before");function ke(ct,Ct,Nt){var Jt=z[Ct],an=Jt.level==1;return j(Nt?ct-1:ct,an!=Nt)}var Le=Y(z,Z,re),qe=Rt,Ye=ke(Z,Le,re=="before");return qe!=null&&(Ye.other=ke(Z,qe,re!="before")),Ye}function vC(A,m){var w=0;m=Mt(A.doc,m),A.options.lineWrapping||(w=ul(A.display)*m.ch);var b=tn(A.doc,m.line),E=al(b)+qc(A.display);return{left:w,right:w,top:E,bottom:E+b.height}}function o0(A,m,w,b,E){var D=Et(A,m,w);return D.xRel=E,b&&(D.outside=b),D}function i0(A,m,w){var b=A.doc;if(w+=A.display.viewOffset,w<0)return o0(b.first,0,null,-1,-1);var E=Vn(b,w),D=b.first+b.size-1;if(E>D)return o0(b.first+b.size-1,tn(b,D).text.length,null,1,1);m<0&&(m=0);for(var j=tn(b,E);;){var z=hO(A,j,E,m,w),Z=fr(j,z.ch+(z.xRel>0||z.outside>0?1:0));if(!Z)return z;var re=Z.find(1);if(re.line==E)return re;j=tn(b,E=re.line)}}function gC(A,m,w,b){b-=cp(m);var E=m.text.length,D=st(function(j){return Ut(A,w,j-1).bottom<=b},E,0);return E=st(function(j){return Ut(A,w,j).top>b},D,E),{begin:D,end:E}}function yC(A,m,w,b){w||(w=vt(A,m));var E=xA(A,m,Ut(A,w,b),"line").top;return gC(A,m,w,E)}function a0(A,m,w,b){return A.bottom<=w?!1:A.top>w?!0:(b?A.left:A.right)>m}function hO(A,m,w,b,E){E-=al(m);var D=vt(A,m),j=cp(m),z=0,Z=m.text.length,re=!0,ke=G(m,A.doc.direction);if(ke){var Le=(A.options.lineWrapping?pO:bC)(A,m,w,D,ke,b,E);re=Le.level!=1,z=re?Le.from:Le.to-1,Z=re?Le.to:Le.from-1}var qe=null,Ye=null,ct=st(function(kn){var xn=Ut(A,D,kn);return xn.top+=j,xn.bottom+=j,a0(xn,b,E,!1)?(xn.top<=E&&xn.left<=b&&(qe=kn,Ye=xn),!0):!1},z,Z),Ct,Nt,Jt=!1;if(Ye){var an=b-Ye.left<Ye.right-b,Zt=an==re;ct=qe+(Zt?0:1),Nt=Zt?"after":"before",Ct=an?Ye.left:Ye.right}else{!re&&(ct==Z||ct==z)&&ct++,Nt=ct==0?"after":ct==m.text.length?"before":Ut(A,D,ct-(re?1:0)).bottom+j<=E==re?"after":"before";var un=Ql(A,Et(w,ct,Nt),"line",m,D);Ct=un.left,Jt=E<un.top?-1:E>=un.bottom?1:0}return ct=Ee(m.text,ct,1),o0(w,ct,Nt,Jt,b-Ct)}function bC(A,m,w,b,E,D,j){var z=st(function(Le){var qe=E[Le],Ye=qe.level!=1;return a0(Ql(A,Et(w,Ye?qe.to:qe.from,Ye?"before":"after"),"line",m,b),D,j,!0)},0,E.length-1),Z=E[z];if(z>0){var re=Z.level!=1,ke=Ql(A,Et(w,re?Z.from:Z.to,re?"after":"before"),"line",m,b);a0(ke,D,j,!0)&&ke.top>j&&(Z=E[z-1])}return Z}function pO(A,m,w,b,E,D,j){var z=gC(A,m,b,j),Z=z.begin,re=z.end;/\s/.test(m.text.charAt(re-1))&&re--;for(var ke=null,Le=null,qe=0;qe<E.length;qe++){var Ye=E[qe];if(!(Ye.from>=re||Ye.to<=Z)){var ct=Ye.level!=1,Ct=Ut(A,b,ct?Math.min(re,Ye.to)-1:Math.max(Z,Ye.from)).right,Nt=Ct<D?D-Ct+1e9:Ct-D;(!ke||Le>Nt)&&(ke=Ye,Le=Nt)}}return ke||(ke=E[E.length-1]),ke.from<Z&&(ke={from:Z,to:ke.to,level:ke.level}),ke.to>re&&(ke={from:ke.from,to:re,level:ke.level}),ke}var nf;function ia(A){if(A.cachedTextHeight!=null)return A.cachedTextHeight;if(nf==null){nf=$("pre",null,"CodeMirror-line-like");for(var m=0;m<49;++m)nf.appendChild(document.createTextNode("x")),nf.appendChild($("br"));nf.appendChild(document.createTextNode("x"))}U(A.measure,nf);var w=nf.offsetHeight/50;return w>3&&(A.cachedTextHeight=w),V(A.measure),w||1}function ul(A){if(A.cachedCharWidth!=null)return A.cachedCharWidth;var m=$("span","xxxxxxxxxx"),w=$("pre",[m],"CodeMirror-line-like");U(A.measure,w);var b=m.getBoundingClientRect(),E=(b.right-b.left)/10;return E>2&&(A.cachedCharWidth=E),E||10}function mv(A){for(var m=A.display,w={},b={},E=m.gutters.clientLeft,D=m.gutters.firstChild,j=0;D;D=D.nextSibling,++j){var z=A.display.gutterSpecs[j].className;w[z]=D.offsetLeft+D.clientLeft+E,b[z]=D.clientWidth}return{fixedPos:s0(m),gutterTotalWidth:m.gutters.offsetWidth,gutterLeft:w,gutterWidth:b,wrapperWidth:m.wrapper.clientWidth}}function s0(A){return A.scroller.getBoundingClientRect().left-A.sizer.getBoundingClientRect().left}function l0(A){var m=ia(A.display),w=A.options.lineWrapping,b=w&&Math.max(5,A.display.scroller.clientWidth/ul(A.display)-3);return function(E){if(Ca(A.doc,E))return 0;var D=0;if(E.widgets)for(var j=0;j<E.widgets.length;j++)E.widgets[j].height&&(D+=E.widgets[j].height);return w?D+(Math.ceil(E.text.length/b)||1)*m:D+m}}function vv(A){var m=A.doc,w=l0(A);m.iter(function(b){var E=w(b);E!=b.height&&mi(b,E)})}function rf(A,m,w,b){var E=A.display;if(!w&&Se(m).getAttribute("cm-not-content")=="true")return null;var D,j,z=E.lineSpace.getBoundingClientRect();try{D=m.clientX-z.left,j=m.clientY-z.top}catch{return null}var Z=i0(A,D,j),re;if(b&&Z.xRel>0&&(re=tn(A.doc,Z.line).text).length==Z.ch){var ke=_e(re,re.length,A.options.tabSize)-re.length;Z=Et(Z.line,Math.max(0,Math.round((D-up(A.display).left)/ul(A.display))-ke))}return Z}function of(A,m){if(m>=A.display.viewTo||(m-=A.display.viewFrom,m<0))return null;for(var w=A.display.view,b=0;b<w.length;b++)if(m-=w[b].size,m<0)return b}function aa(A,m,w,b){m==null&&(m=A.doc.first),w==null&&(w=A.doc.first+A.doc.size),b||(b=0);var E=A.display;if(b&&w<E.viewTo&&(E.updateLineNumbers==null||E.updateLineNumbers>m)&&(E.updateLineNumbers=m),A.curOp.viewChanged=!0,m>=E.viewTo)Jo&&ks(A.doc,m)<E.viewTo&&td(A);else if(w<=E.viewFrom)Jo&&_a(A.doc,w+b)>E.viewFrom?td(A):(E.viewFrom+=b,E.viewTo+=b);else if(m<=E.viewFrom&&w>=E.viewTo)td(A);else if(m<=E.viewFrom){var D=gv(A,w,w+b,1);D?(E.view=E.view.slice(D.index),E.viewFrom=D.lineN,E.viewTo+=b):td(A)}else if(w>=E.viewTo){var j=gv(A,m,m,-1);j?(E.view=E.view.slice(0,j.index),E.viewTo=j.lineN):td(A)}else{var z=gv(A,m,m,-1),Z=gv(A,w,w+b,1);z&&Z?(E.view=E.view.slice(0,z.index).concat(_A(A,z.lineN,Z.lineN)).concat(E.view.slice(Z.index)),E.viewTo+=b):td(A)}var re=E.externalMeasured;re&&(w<re.lineN?re.lineN+=b:m<re.lineN+re.size&&(E.externalMeasured=null))}function ed(A,m,w){A.curOp.viewChanged=!0;var b=A.display,E=A.display.externalMeasured;if(E&&m>=E.lineN&&m<E.lineN+E.size&&(b.externalMeasured=null),!(m<b.viewFrom||m>=b.viewTo)){var D=b.view[of(A,m)];if(D.node!=null){var j=D.changes||(D.changes=[]);ve(j,w)==-1&&j.push(w)}}}function td(A){A.display.viewFrom=A.display.viewTo=A.doc.first,A.display.view=[],A.display.viewOffset=0}function gv(A,m,w,b){var E=of(A,m),D,j=A.display.view;if(!Jo||w==A.doc.first+A.doc.size)return{index:E,lineN:w};for(var z=A.display.viewFrom,Z=0;Z<E;Z++)z+=j[Z].size;if(z!=m){if(b>0){if(E==j.length-1)return null;D=z+j[E].size-m,E++}else D=z-m;m+=D,w+=D}for(;ks(A.doc,w)!=w;){if(E==(b<0?0:j.length-1))return null;w+=b*j[E-(b<0?1:0)].size,E+=b}return{index:E,lineN:w}}function mO(A,m,w){var b=A.display,E=b.view;E.length==0||m>=b.viewTo||w<=b.viewFrom?(b.view=_A(A,m,w),b.viewFrom=m):(b.viewFrom>m?b.view=_A(A,m,b.viewFrom).concat(b.view):b.viewFrom<m&&(b.view=b.view.slice(of(A,m))),b.viewFrom=m,b.viewTo<w?b.view=b.view.concat(_A(A,b.viewTo,w)):b.viewTo>w&&(b.view=b.view.slice(0,of(A,w)))),b.viewTo=w}function wC(A){for(var m=A.display.view,w=0,b=0;b<m.length;b++){var E=m[b];!E.hidden&&(!E.node||E.changes)&&++w}return w}function dp(A){A.display.input.showSelection(A.display.input.prepareSelection())}function _C(A,m){m===void 0&&(m=!0);for(var w=A.doc,b={},E=b.cursors=document.createDocumentFragment(),D=b.selection=document.createDocumentFragment(),j=0;j<w.sel.ranges.length;j++)if(!(!m&&j==w.sel.primIndex)){var z=w.sel.ranges[j];if(!(z.from().line>=A.display.viewTo||z.to().line<A.display.viewFrom)){var Z=z.empty();(Z||A.options.showCursorWhenSelecting)&&CC(A,z.head,E),Z||vO(A,z,D)}}return b}function CC(A,m,w){var b=Ql(A,m,"div",null,null,!A.options.singleCursorHeightPerLine),E=w.appendChild($("div","","CodeMirror-cursor"));if(E.style.left=b.left+"px",E.style.top=b.top+"px",E.style.height=Math.max(0,b.bottom-b.top)*A.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(A.getWrapperElement().className)){var D=pv(A,m,"div",null,null);D.right-D.left>0&&(E.style.width=D.right-D.left+"px")}if(b.other){var j=w.appendChild($("div","","CodeMirror-cursor CodeMirror-secondarycursor"));j.style.display="",j.style.left=b.other.left+"px",j.style.top=b.other.top+"px",j.style.height=(b.other.bottom-b.other.top)*.85+"px"}}function yv(A,m){return A.top-m.top||A.left-m.left}function vO(A,m,w){var b=A.display,E=A.doc,D=document.createDocumentFragment(),j=up(A.display),z=j.left,Z=Math.max(b.sizerWidth,gu(A)-b.sizer.offsetLeft)-j.right,re=E.direction=="ltr";function ke(Zt,un,kn,xn){un<0&&(un=0),un=Math.round(un),xn=Math.round(xn),D.appendChild($("div",null,"CodeMirror-selected","position: absolute; left: "+Zt+`px;
                             top: `+un+"px; width: "+(kn??Z-Zt)+`px;
                             height: `+(xn-un)+"px"))}function Le(Zt,un,kn){var xn=tn(E,Zt),or=xn.text.length,oo,$i;function Uo(yi,Os){return pv(A,Et(Zt,yi),"div",xn,Os)}function dl(yi,Os,la){var Oi=yC(A,xn,null,yi),bi=Os=="ltr"==(la=="after")?"left":"right",Ko=la=="after"?Oi.begin:Oi.end-(/\s/.test(xn.text.charAt(Oi.end-1))?2:1);return Uo(Ko,bi)[bi]}var Ts=G(xn,E.direction);return kt(Ts,un||0,kn??or,function(yi,Os,la,Oi){var bi=la=="ltr",Ko=Uo(yi,bi?"left":"right"),Ps=Uo(Os-1,bi?"right":"left"),Dv=un==null&&yi==0,FA=kn==null&&Os==or,xa=Oi==0,cd=!Ts||Oi==Ts.length-1;if(Ps.top-Ko.top<=3){var Ki=(re?Dv:FA)&&xa,zO=(re?FA:Dv)&&cd,hf=Ki?z:(bi?Ko:Ps).left,mp=zO?Z:(bi?Ps:Ko).right;ke(hf,Ko.top,mp-hf,Ko.bottom)}else{var vp,Ka,Uv,GO;bi?(vp=re&&Dv&&xa?z:Ko.left,Ka=re?Z:dl(yi,la,"before"),Uv=re?z:dl(Os,la,"after"),GO=re&&FA&&cd?Z:Ps.right):(vp=re?dl(yi,la,"before"):z,Ka=!re&&Dv&&xa?Z:Ko.right,Uv=!re&&FA&&cd?z:Ps.left,GO=re?dl(Os,la,"after"):Z),ke(vp,Ko.top,Ka-vp,Ko.bottom),Ko.bottom<Ps.top&&ke(z,Ko.bottom,null,Ps.top),ke(Uv,Ps.top,GO-Uv,Ps.bottom)}(!oo||yv(Ko,oo)<0)&&(oo=Ko),yv(Ps,oo)<0&&(oo=Ps),(!$i||yv(Ko,$i)<0)&&($i=Ko),yv(Ps,$i)<0&&($i=Ps)}),{start:oo,end:$i}}var qe=m.from(),Ye=m.to();if(qe.line==Ye.line)Le(qe.line,qe.ch,Ye.ch);else{var ct=tn(E,qe.line),Ct=tn(E,Ye.line),Nt=qr(ct)==qr(Ct),Jt=Le(qe.line,qe.ch,Nt?ct.text.length+1:null).end,an=Le(Ye.line,Nt?0:null,Ye.ch).start;Nt&&(Jt.top<an.top-2?(ke(Jt.right,Jt.top,null,Jt.bottom),ke(z,an.top,an.left,an.bottom)):ke(Jt.right,Jt.top,an.left-Jt.right,Jt.bottom)),Jt.bottom<an.top&&ke(z,Jt.bottom,null,an.top)}w.appendChild(D)}function u0(A){if(A.state.focused){var m=A.display;clearInterval(m.blinker);var w=!0;m.cursorDiv.style.visibility="",A.options.cursorBlinkRate>0?m.blinker=setInterval(function(){A.hasFocus()||fc(A),m.cursorDiv.style.visibility=(w=!w)?"":"hidden"},A.options.cursorBlinkRate):A.options.cursorBlinkRate<0&&(m.cursorDiv.style.visibility="hidden")}}function SC(A){A.hasFocus()||(A.display.input.focus(),A.state.focused||d0(A))}function c0(A){A.state.delayingBlurEvent=!0,setTimeout(function(){A.state.delayingBlurEvent&&(A.state.delayingBlurEvent=!1,A.state.focused&&fc(A))},100)}function d0(A,m){A.state.delayingBlurEvent&&!A.state.draggingText&&(A.state.delayingBlurEvent=!1),A.options.readOnly!="nocursor"&&(A.state.focused||(ft(A,"focus",A,m),A.state.focused=!0,ue(A.display.wrapper,"CodeMirror-focused"),!A.curOp&&A.display.selForContextMenu!=A.doc.sel&&(A.display.input.reset(),u&&setTimeout(function(){return A.display.input.reset(!0)},20)),A.display.input.receivedFocus()),u0(A))}function fc(A,m){A.state.delayingBlurEvent||(A.state.focused&&(ft(A,"blur",A,m),A.state.focused=!1,M(A.display.wrapper,"CodeMirror-focused")),clearInterval(A.display.blinker),setTimeout(function(){A.state.focused||(A.display.shift=!1)},150))}function bv(A){for(var m=A.display,w=m.lineDiv.offsetTop,b=Math.max(0,m.scroller.getBoundingClientRect().top),E=m.lineDiv.getBoundingClientRect().top,D=0,j=0;j<m.view.length;j++){var z=m.view[j],Z=A.options.lineWrapping,re=void 0,ke=0;if(!z.hidden){if(E+=z.line.height,s&&l<8){var Le=z.node.offsetTop+z.node.offsetHeight;re=Le-w,w=Le}else{var qe=z.node.getBoundingClientRect();re=qe.bottom-qe.top,!Z&&z.text.firstChild&&(ke=z.text.firstChild.getBoundingClientRect().right-qe.left-1)}var Ye=z.line.height-re;if((Ye>.005||Ye<-.005)&&(E<b&&(D-=Ye),mi(z.line,re),xC(z.line),z.rest))for(var ct=0;ct<z.rest.length;ct++)xC(z.rest[ct]);if(ke>A.display.sizerWidth){var Ct=Math.ceil(ke/ul(A.display));Ct>A.display.maxLineLength&&(A.display.maxLineLength=Ct,A.display.maxLine=z.line,A.display.maxLineChanged=!0)}}}Math.abs(D)>2&&(m.scroller.scrollTop+=D)}function xC(A){if(A.widgets)for(var m=0;m<A.widgets.length;++m){var w=A.widgets[m],b=w.node.parentNode;b&&(w.height=b.offsetHeight)}}function wv(A,m,w){var b=w&&w.top!=null?Math.max(0,w.top):A.scroller.scrollTop;b=Math.floor(b-qc(A));var E=w&&w.bottom!=null?w.bottom:b+A.wrapper.clientHeight,D=Vn(m,b),j=Vn(m,E);if(w&&w.ensure){var z=w.ensure.from.line,Z=w.ensure.to.line;z<D?(D=z,j=Vn(m,al(tn(m,z))+A.wrapper.clientHeight)):Math.min(Z,m.lastLine())>=j&&(D=Vn(m,al(tn(m,Z))-A.wrapper.clientHeight),j=Z)}return{from:D,to:Math.max(j,D+1)}}function gO(A,m){if(!gt(A,"scrollCursorIntoView")){var w=A.display,b=w.sizer.getBoundingClientRect(),E=null;if(m.top+b.top<0?E=!0:m.bottom+b.top>(window.innerHeight||document.documentElement.clientHeight)&&(E=!1),E!=null&&!v){var D=$("div","",null,`position: absolute;
                         top: `+(m.top-w.viewOffset-qc(A.display))+`px;
                         height: `+(m.bottom-m.top+Qa(A)+w.barHeight)+`px;
                         left: `+m.left+"px; width: "+Math.max(2,m.right-m.left)+"px;");A.display.lineSpace.appendChild(D),D.scrollIntoView(E),A.display.lineSpace.removeChild(D)}}}function yO(A,m,w,b){b==null&&(b=0);var E;!A.options.lineWrapping&&m==w&&(w=m.sticky=="before"?Et(m.line,m.ch+1,"before"):m,m=m.ch?Et(m.line,m.sticky=="before"?m.ch-1:m.ch,"after"):m);for(var D=0;D<5;D++){var j=!1,z=Ql(A,m),Z=!w||w==m?z:Ql(A,w);E={left:Math.min(z.left,Z.left),top:Math.min(z.top,Z.top)-b,right:Math.max(z.left,Z.left),bottom:Math.max(z.bottom,Z.bottom)+b};var re=f0(A,E),ke=A.doc.scrollTop,Le=A.doc.scrollLeft;if(re.scrollTop!=null&&(nd(A,re.scrollTop),Math.abs(A.doc.scrollTop-ke)>1&&(j=!0)),re.scrollLeft!=null&&(cl(A,re.scrollLeft),Math.abs(A.doc.scrollLeft-Le)>1&&(j=!0)),!j)break}return E}function bO(A,m){var w=f0(A,m);w.scrollTop!=null&&nd(A,w.scrollTop),w.scrollLeft!=null&&cl(A,w.scrollLeft)}function f0(A,m){var w=A.display,b=ia(A.display);m.top<0&&(m.top=0);var E=A.curOp&&A.curOp.scrollTop!=null?A.curOp.scrollTop:w.scroller.scrollTop,D=X(A),j={};m.bottom-m.top>D&&(m.bottom=m.top+D);var z=A.doc.height+qd(w),Z=m.top<b,re=m.bottom>z-b;if(m.top<E)j.scrollTop=Z?0:m.top;else if(m.bottom>E+D){var ke=Math.min(m.top,(re?z:m.bottom)-D);ke!=E&&(j.scrollTop=ke)}var Le=A.options.fixedGutter?0:w.gutters.offsetWidth,qe=A.curOp&&A.curOp.scrollLeft!=null?A.curOp.scrollLeft:w.scroller.scrollLeft-Le,Ye=gu(A)-w.gutters.offsetWidth,ct=m.right-m.left>Ye;return ct&&(m.right=m.left+Ye),m.left<10?j.scrollLeft=0:m.left<qe?j.scrollLeft=Math.max(0,m.left+Le-(ct?0:10)):m.right>Ye+qe-3&&(j.scrollLeft=m.right+(ct?0:10)-Ye),j}function A0(A,m){m!=null&&(sf(A),A.curOp.scrollTop=(A.curOp.scrollTop==null?A.doc.scrollTop:A.curOp.scrollTop)+m)}function af(A){sf(A);var m=A.getCursor();A.curOp.scrollToPos={from:m,to:m,margin:A.options.cursorScrollMargin}}function EA(A,m,w){(m!=null||w!=null)&&sf(A),m!=null&&(A.curOp.scrollLeft=m),w!=null&&(A.curOp.scrollTop=w)}function EC(A,m){sf(A),A.curOp.scrollToPos=m}function sf(A){var m=A.curOp.scrollToPos;if(m){A.curOp.scrollToPos=null;var w=vC(A,m.from),b=vC(A,m.to);lf(A,w,b,m.margin)}}function lf(A,m,w,b){var E=f0(A,{left:Math.min(m.left,w.left),top:Math.min(m.top,w.top)-b,right:Math.max(m.right,w.right),bottom:Math.max(m.bottom,w.bottom)+b});EA(A,E.scrollLeft,E.scrollTop)}function nd(A,m){Math.abs(A.doc.scrollTop-m)<2||(r||hp(A,{top:m}),h0(A,m,!0),r&&hp(A),Ap(A,100))}function h0(A,m,w){m=Math.max(0,Math.min(A.display.scroller.scrollHeight-A.display.scroller.clientHeight,m)),!(A.display.scroller.scrollTop==m&&!w)&&(A.doc.scrollTop=m,A.display.scrollbars.setScrollTop(m),A.display.scroller.scrollTop!=m&&(A.display.scroller.scrollTop=m))}function cl(A,m,w,b){m=Math.max(0,Math.min(m,A.display.scroller.scrollWidth-A.display.scroller.clientWidth)),!((w?m==A.doc.scrollLeft:Math.abs(A.doc.scrollLeft-m)<2)&&!b)&&(A.doc.scrollLeft=m,PC(A),A.display.scroller.scrollLeft!=m&&(A.display.scroller.scrollLeft=m),A.display.scrollbars.setScrollLeft(m))}function BA(A){var m=A.display,w=m.gutters.offsetWidth,b=Math.round(A.doc.height+qd(A.display));return{clientHeight:m.scroller.clientHeight,viewHeight:m.wrapper.clientHeight,scrollWidth:m.scroller.scrollWidth,clientWidth:m.scroller.clientWidth,viewWidth:m.wrapper.clientWidth,barLeft:A.options.fixedGutter?w:0,docHeight:b,scrollHeight:b+Qa(A)+m.barHeight,nativeBarWidth:m.nativeBarWidth,gutterWidth:w}}var rd=function(A,m,w){this.cm=w;var b=this.vert=$("div",[$("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),E=this.horiz=$("div",[$("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");b.tabIndex=E.tabIndex=-1,A(b),A(E),De(b,"scroll",function(){b.clientHeight&&m(b.scrollTop,"vertical")}),De(E,"scroll",function(){E.clientWidth&&m(E.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,s&&l<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};rd.prototype.update=function(A){var m=A.scrollWidth>A.clientWidth+1,w=A.scrollHeight>A.clientHeight+1,b=A.nativeBarWidth;if(w){this.vert.style.display="block",this.vert.style.bottom=m?b+"px":"0";var E=A.viewHeight-(m?b:0);this.vert.firstChild.style.height=Math.max(0,A.scrollHeight-A.clientHeight+E)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(m){this.horiz.style.display="block",this.horiz.style.right=w?b+"px":"0",this.horiz.style.left=A.barLeft+"px";var D=A.viewWidth-A.barLeft-(w?b:0);this.horiz.firstChild.style.width=Math.max(0,A.scrollWidth-A.clientWidth+D)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&A.clientHeight>0&&(b==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:w?b:0,bottom:m?b:0}},rd.prototype.setScrollLeft=function(A){this.horiz.scrollLeft!=A&&(this.horiz.scrollLeft=A),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},rd.prototype.setScrollTop=function(A){this.vert.scrollTop!=A&&(this.vert.scrollTop=A),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},rd.prototype.zeroWidthHack=function(){var A=y&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=A,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ce,this.disableVert=new Ce},rd.prototype.enableZeroWidthBar=function(A,m,w){A.style.pointerEvents="auto";function b(){var E=A.getBoundingClientRect(),D=w=="vert"?document.elementFromPoint(E.right-1,(E.top+E.bottom)/2):document.elementFromPoint((E.right+E.left)/2,E.bottom-1);D!=A?A.style.pointerEvents="none":m.set(1e3,b)}m.set(1e3,b)},rd.prototype.clear=function(){var A=this.horiz.parentNode;A.removeChild(this.horiz),A.removeChild(this.vert)};var fp=function(){};fp.prototype.update=function(){return{bottom:0,right:0}},fp.prototype.setScrollLeft=function(){},fp.prototype.setScrollTop=function(){},fp.prototype.clear=function(){};function kA(A,m){m||(m=BA(A));var w=A.display.barWidth,b=A.display.barHeight;BC(A,m);for(var E=0;E<4&&w!=A.display.barWidth||b!=A.display.barHeight;E++)w!=A.display.barWidth&&A.options.lineWrapping&&bv(A),BC(A,BA(A)),w=A.display.barWidth,b=A.display.barHeight}function BC(A,m){var w=A.display,b=w.scrollbars.update(m);w.sizer.style.paddingRight=(w.barWidth=b.right)+"px",w.sizer.style.paddingBottom=(w.barHeight=b.bottom)+"px",w.heightForcer.style.borderBottom=b.bottom+"px solid transparent",b.right&&b.bottom?(w.scrollbarFiller.style.display="block",w.scrollbarFiller.style.height=b.bottom+"px",w.scrollbarFiller.style.width=b.right+"px"):w.scrollbarFiller.style.display="",b.bottom&&A.options.coverGutterNextToScrollbar&&A.options.fixedGutter?(w.gutterFiller.style.display="block",w.gutterFiller.style.height=b.bottom+"px",w.gutterFiller.style.width=m.gutterWidth+"px"):w.gutterFiller.style.display=""}var kC={native:rd,null:fp};function TC(A){A.display.scrollbars&&(A.display.scrollbars.clear(),A.display.scrollbars.addClass&&M(A.display.wrapper,A.display.scrollbars.addClass)),A.display.scrollbars=new kC[A.options.scrollbarStyle](function(m){A.display.wrapper.insertBefore(m,A.display.scrollbarFiller),De(m,"mousedown",function(){A.state.focused&&setTimeout(function(){return A.display.input.focus()},0)}),m.setAttribute("cm-not-content","true")},function(m,w){w=="horizontal"?cl(A,m):nd(A,m)},A),A.display.scrollbars.addClass&&ue(A.display.wrapper,A.display.scrollbars.addClass)}var wO=0;function uf(A){A.curOp={cm:A,viewChanged:!1,startHeight:A.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++wO,markArrays:null},Jd(A.curOp)}function cf(A){var m=A.curOp;m&&ip(m,function(w){for(var b=0;b<w.ops.length;b++)w.ops[b].cm.curOp=null;_O(w)})}function _O(A){for(var m=A.ops,w=0;w<m.length;w++)CO(m[w]);for(var b=0;b<m.length;b++)SO(m[b]);for(var E=0;E<m.length;E++)xO(m[E]);for(var D=0;D<m.length;D++)EO(m[D]);for(var j=0;j<m.length;j++)BO(m[j])}function CO(A){var m=A.cm,w=m.display;TO(m),A.updateMaxLine&&Dr(m),A.mustUpdate=A.viewChanged||A.forceUpdate||A.scrollTop!=null||A.scrollToPos&&(A.scrollToPos.from.line<w.viewFrom||A.scrollToPos.to.line>=w.viewTo)||w.maxLineChanged&&m.options.lineWrapping,A.update=A.mustUpdate&&new _v(m,A.mustUpdate&&{top:A.scrollTop,ensure:A.scrollToPos},A.forceUpdate)}function SO(A){A.updatedDisplay=A.mustUpdate&&m0(A.cm,A.update)}function xO(A){var m=A.cm,w=m.display;A.updatedDisplay&&bv(m),A.barMeasure=BA(m),w.maxLineChanged&&!m.options.lineWrapping&&(A.adjustWidthTo=Ze(m,w.maxLine,w.maxLine.text.length).left+3,m.display.sizerWidth=A.adjustWidthTo,A.barMeasure.scrollWidth=Math.max(w.scroller.clientWidth,w.sizer.offsetLeft+A.adjustWidthTo+Qa(m)+m.display.barWidth),A.maxScrollLeft=Math.max(0,w.sizer.offsetLeft+A.adjustWidthTo-gu(m))),(A.updatedDisplay||A.selectionChanged)&&(A.preparedSelection=w.input.prepareSelection())}function EO(A){var m=A.cm;A.adjustWidthTo!=null&&(m.display.sizer.style.minWidth=A.adjustWidthTo+"px",A.maxScrollLeft<m.doc.scrollLeft&&cl(m,Math.min(m.display.scroller.scrollLeft,A.maxScrollLeft),!0),m.display.maxLineChanged=!1);var w=A.focus&&A.focus==ne();A.preparedSelection&&m.display.input.showSelection(A.preparedSelection,w),(A.updatedDisplay||A.startHeight!=m.doc.height)&&kA(m,A.barMeasure),A.updatedDisplay&&g0(m,A.barMeasure),A.selectionChanged&&u0(m),m.state.focused&&A.updateInput&&m.display.input.reset(A.typing),w&&SC(A.cm)}function BO(A){var m=A.cm,w=m.display,b=m.doc;if(A.updatedDisplay&&OC(m,A.update),w.wheelStartX!=null&&(A.scrollTop!=null||A.scrollLeft!=null||A.scrollToPos)&&(w.wheelStartX=w.wheelStartY=null),A.scrollTop!=null&&h0(m,A.scrollTop,A.forceScroll),A.scrollLeft!=null&&cl(m,A.scrollLeft,!0,!0),A.scrollToPos){var E=yO(m,Mt(b,A.scrollToPos.from),Mt(b,A.scrollToPos.to),A.scrollToPos.margin);gO(m,E)}var D=A.maybeHiddenMarkers,j=A.maybeUnhiddenMarkers;if(D)for(var z=0;z<D.length;++z)D[z].lines.length||ft(D[z],"hide");if(j)for(var Z=0;Z<j.length;++Z)j[Z].lines.length&&ft(j[Z],"unhide");w.wrapper.offsetHeight&&(b.scrollTop=m.display.scroller.scrollTop),A.changeObjs&&ft(m,"changes",m,A.changeObjs),A.update&&A.update.finish()}function ja(A,m){if(A.curOp)return m();uf(A);try{return m()}finally{cf(A)}}function vi(A,m){return function(){if(A.curOp)return m.apply(A,arguments);uf(A);try{return m.apply(A,arguments)}finally{cf(A)}}}function sa(A){return function(){if(this.curOp)return A.apply(this,arguments);uf(this);try{return A.apply(this,arguments)}finally{cf(this)}}}function gi(A){return function(){var m=this.cm;if(!m||m.curOp)return A.apply(this,arguments);uf(m);try{return A.apply(this,arguments)}finally{cf(m)}}}function Ap(A,m){A.doc.highlightFrontier<A.display.viewTo&&A.state.highlight.set(m,We(kO,A))}function kO(A){var m=A.doc;if(!(m.highlightFrontier>=A.display.viewTo)){var w=+new Date+A.options.workTime,b=rc(A,m.highlightFrontier),E=[];m.iter(b.line,Math.min(m.first+m.size,A.display.viewTo+500),function(D){if(b.line>=A.display.viewFrom){var j=D.styles,z=D.text.length>A.options.maxHighlightLength?uo(m.mode,b.state):null,Z=Ra(A,D,b,!0);z&&(b.state=z),D.styles=Z.styles;var re=D.styleClasses,ke=Z.classes;ke?D.styleClasses=ke:re&&(D.styleClasses=null);for(var Le=!j||j.length!=D.styles.length||re!=ke&&(!re||!ke||re.bgClass!=ke.bgClass||re.textClass!=ke.textClass),qe=0;!Le&&qe<j.length;++qe)Le=j[qe]!=D.styles[qe];Le&&E.push(b.line),D.stateAfter=b.save(),b.nextLine()}else D.text.length<=A.options.maxHighlightLength&&_s(A,D.text,b),D.stateAfter=b.line%5==0?b.save():null,b.nextLine();if(+new Date>w)return Ap(A,A.options.workDelay),!0}),m.highlightFrontier=b.line,m.modeFrontier=Math.max(m.modeFrontier,b.line),E.length&&ja(A,function(){for(var D=0;D<E.length;D++)ed(A,E[D],"text")})}}var _v=function(A,m,w){var b=A.display;this.viewport=m,this.visible=wv(b,A.doc,m),this.editorIsHidden=!b.wrapper.offsetWidth,this.wrapperHeight=b.wrapper.clientHeight,this.wrapperWidth=b.wrapper.clientWidth,this.oldDisplayWidth=gu(A),this.force=w,this.dims=mv(A),this.events=[]};_v.prototype.signal=function(A,m){Tt(A,m)&&this.events.push(arguments)},_v.prototype.finish=function(){for(var A=0;A<this.events.length;A++)ft.apply(null,this.events[A])};function TO(A){var m=A.display;!m.scrollbarsClipped&&m.scroller.offsetWidth&&(m.nativeBarWidth=m.scroller.offsetWidth-m.scroller.clientWidth,m.heightForcer.style.height=Qa(A)+"px",m.sizer.style.marginBottom=-m.nativeBarWidth+"px",m.sizer.style.borderRightWidth=Qa(A)+"px",m.scrollbarsClipped=!0)}function p0(A){if(A.hasFocus())return null;var m=ne();if(!m||!R(A.display.lineDiv,m))return null;var w={activeElt:m};if(window.getSelection){var b=window.getSelection();b.anchorNode&&b.extend&&R(A.display.lineDiv,b.anchorNode)&&(w.anchorNode=b.anchorNode,w.anchorOffset=b.anchorOffset,w.focusNode=b.focusNode,w.focusOffset=b.focusOffset)}return w}function OO(A){if(!(!A||!A.activeElt||A.activeElt==ne())&&(A.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(A.activeElt.nodeName)&&A.anchorNode&&R(document.body,A.anchorNode)&&R(document.body,A.focusNode))){var m=window.getSelection(),w=document.createRange();w.setEnd(A.anchorNode,A.anchorOffset),w.collapse(!1),m.removeAllRanges(),m.addRange(w),m.extend(A.focusNode,A.focusOffset)}}function m0(A,m){var w=A.display,b=A.doc;if(m.editorIsHidden)return td(A),!1;if(!m.force&&m.visible.from>=w.viewFrom&&m.visible.to<=w.viewTo&&(w.updateLineNumbers==null||w.updateLineNumbers>=w.viewTo)&&w.renderedView==w.view&&wC(A)==0)return!1;IC(A)&&(td(A),m.dims=mv(A));var E=b.first+b.size,D=Math.max(m.visible.from-A.options.viewportMargin,b.first),j=Math.min(E,m.visible.to+A.options.viewportMargin);w.viewFrom<D&&D-w.viewFrom<20&&(D=Math.max(b.first,w.viewFrom)),w.viewTo>j&&w.viewTo-j<20&&(j=Math.min(E,w.viewTo)),Jo&&(D=ks(A.doc,D),j=_a(A.doc,j));var z=D!=w.viewFrom||j!=w.viewTo||w.lastWrapHeight!=m.wrapperHeight||w.lastWrapWidth!=m.wrapperWidth;mO(A,D,j),w.viewOffset=al(tn(A.doc,w.viewFrom)),A.display.mover.style.top=w.viewOffset+"px";var Z=wC(A);if(!z&&Z==0&&!m.force&&w.renderedView==w.view&&(w.updateLineNumbers==null||w.updateLineNumbers>=w.viewTo))return!1;var re=p0(A);return Z>4&&(w.lineDiv.style.display="none"),Cv(A,w.updateLineNumbers,m.dims),Z>4&&(w.lineDiv.style.display=""),w.renderedView=w.view,OO(re),V(w.cursorDiv),V(w.selectionDiv),w.gutters.style.height=w.sizer.style.minHeight=0,z&&(w.lastWrapHeight=m.wrapperHeight,w.lastWrapWidth=m.wrapperWidth,Ap(A,400)),w.updateLineNumbers=null,!0}function OC(A,m){for(var w=m.viewport,b=!0;;b=!1){if(!b||!A.options.lineWrapping||m.oldDisplayWidth==gu(A)){if(w&&w.top!=null&&(w={top:Math.min(A.doc.height+qd(A.display)-X(A),w.top)}),m.visible=wv(A.display,A.doc,w),m.visible.from>=A.display.viewFrom&&m.visible.to<=A.display.viewTo)break}else b&&(m.visible=wv(A.display,A.doc,w));if(!m0(A,m))break;bv(A);var E=BA(A);dp(A),kA(A,E),g0(A,E),m.force=!1}m.signal(A,"update",A),(A.display.viewFrom!=A.display.reportedViewFrom||A.display.viewTo!=A.display.reportedViewTo)&&(m.signal(A,"viewportChange",A,A.display.viewFrom,A.display.viewTo),A.display.reportedViewFrom=A.display.viewFrom,A.display.reportedViewTo=A.display.viewTo)}function hp(A,m){var w=new _v(A,m);if(m0(A,w)){bv(A),OC(A,w);var b=BA(A);dp(A),kA(A,b),g0(A,b),w.finish()}}function Cv(A,m,w){var b=A.display,E=A.options.lineNumbers,D=b.lineDiv,j=D.firstChild;function z(ct){var Ct=ct.nextSibling;return u&&y&&A.display.currentWheelTarget==ct?ct.style.display="none":ct.parentNode.removeChild(ct),Ct}for(var Z=b.view,re=b.viewFrom,ke=0;ke<Z.length;ke++){var Le=Z[ke];if(!Le.hidden)if(!Le.node||Le.node.parentNode!=D){var qe=Av(A,Le,re,w);D.insertBefore(qe,j)}else{for(;j!=Le.node;)j=z(j);var Ye=E&&m!=null&&m<=re&&Le.lineNumber;Le.changes&&(ve(Le.changes,"gutter")>-1&&(Ye=!1),mu(A,Le,re,w)),Ye&&(V(Le.lineNumber),Le.lineNumber.appendChild(document.createTextNode(bs(A.options,re)))),j=Le.node.nextSibling}re+=Le.size}for(;j;)j=z(j)}function v0(A){var m=A.gutters.offsetWidth;A.sizer.style.marginLeft=m+"px",xo(A,"gutterChanged",A)}function g0(A,m){A.display.sizer.style.minHeight=m.docHeight+"px",A.display.heightForcer.style.top=m.docHeight+"px",A.display.gutters.style.height=m.docHeight+A.display.barHeight+Qa(A)+"px"}function PC(A){var m=A.display,w=m.view;if(!(!m.alignWidgets&&(!m.gutters.firstChild||!A.options.fixedGutter))){for(var b=s0(m)-m.scroller.scrollLeft+A.doc.scrollLeft,E=m.gutters.offsetWidth,D=b+"px",j=0;j<w.length;j++)if(!w[j].hidden){A.options.fixedGutter&&(w[j].gutter&&(w[j].gutter.style.left=D),w[j].gutterBackground&&(w[j].gutterBackground.style.left=D));var z=w[j].alignable;if(z)for(var Z=0;Z<z.length;Z++)z[Z].style.left=D}A.options.fixedGutter&&(m.gutters.style.left=b+E+"px")}}function IC(A){if(!A.options.lineNumbers)return!1;var m=A.doc,w=bs(A.options,m.first+m.size-1),b=A.display;if(w.length!=b.lineNumChars){var E=b.measure.appendChild($("div",[$("div",w)],"CodeMirror-linenumber CodeMirror-gutter-elt")),D=E.firstChild.offsetWidth,j=E.offsetWidth-D;return b.lineGutter.style.width="",b.lineNumInnerWidth=Math.max(D,b.lineGutter.offsetWidth-j)+1,b.lineNumWidth=b.lineNumInnerWidth+j,b.lineNumChars=b.lineNumInnerWidth?w.length:-1,b.lineGutter.style.width=b.lineNumWidth+"px",v0(A.display),!0}return!1}function y0(A,m){for(var w=[],b=!1,E=0;E<A.length;E++){var D=A[E],j=null;if(typeof D!="string"&&(j=D.style,D=D.className),D=="CodeMirror-linenumbers")if(m)b=!0;else continue;w.push({className:D,style:j})}return m&&!b&&w.push({className:"CodeMirror-linenumbers",style:null}),w}function MC(A){var m=A.gutters,w=A.gutterSpecs;V(m),A.lineGutter=null;for(var b=0;b<w.length;++b){var E=w[b],D=E.className,j=E.style,z=m.appendChild($("div",null,"CodeMirror-gutter "+D));j&&(z.style.cssText=j),D=="CodeMirror-linenumbers"&&(A.lineGutter=z,z.style.width=(A.lineNumWidth||1)+"px")}m.style.display=w.length?"":"none",v0(A)}function TA(A){MC(A.display),aa(A),PC(A)}function PO(A,m,w,b){var E=this;this.input=w,E.scrollbarFiller=$("div",null,"CodeMirror-scrollbar-filler"),E.scrollbarFiller.setAttribute("cm-not-content","true"),E.gutterFiller=$("div",null,"CodeMirror-gutter-filler"),E.gutterFiller.setAttribute("cm-not-content","true"),E.lineDiv=Q("div",null,"CodeMirror-code"),E.selectionDiv=$("div",null,null,"position: relative; z-index: 1"),E.cursorDiv=$("div",null,"CodeMirror-cursors"),E.measure=$("div",null,"CodeMirror-measure"),E.lineMeasure=$("div",null,"CodeMirror-measure"),E.lineSpace=Q("div",[E.measure,E.lineMeasure,E.selectionDiv,E.cursorDiv,E.lineDiv],null,"position: relative; outline: none");var D=Q("div",[E.lineSpace],"CodeMirror-lines");E.mover=$("div",[D],null,"position: relative"),E.sizer=$("div",[E.mover],"CodeMirror-sizer"),E.sizerWidth=null,E.heightForcer=$("div",null,null,"position: absolute; height: "+Qe+"px; width: 1px;"),E.gutters=$("div",null,"CodeMirror-gutters"),E.lineGutter=null,E.scroller=$("div",[E.sizer,E.heightForcer,E.gutters],"CodeMirror-scroll"),E.scroller.setAttribute("tabIndex","-1"),E.wrapper=$("div",[E.scrollbarFiller,E.gutterFiller,E.scroller],"CodeMirror"),E.wrapper.setAttribute("translate","no"),s&&l<8&&(E.gutters.style.zIndex=-1,E.scroller.style.paddingRight=0),!u&&!(r&&S)&&(E.scroller.draggable=!0),A&&(A.appendChild?A.appendChild(E.wrapper):A(E.wrapper)),E.viewFrom=E.viewTo=m.first,E.reportedViewFrom=E.reportedViewTo=m.first,E.view=[],E.renderedView=null,E.externalMeasured=null,E.viewOffset=0,E.lastWrapHeight=E.lastWrapWidth=0,E.updateLineNumbers=null,E.nativeBarWidth=E.barHeight=E.barWidth=0,E.scrollbarsClipped=!1,E.lineNumWidth=E.lineNumInnerWidth=E.lineNumChars=null,E.alignWidgets=!1,E.cachedCharWidth=E.cachedTextHeight=E.cachedPaddingH=null,E.maxLine=null,E.maxLineLength=0,E.maxLineChanged=!1,E.wheelDX=E.wheelDY=E.wheelStartX=E.wheelStartY=null,E.shift=!1,E.selForContextMenu=null,E.activeTouch=null,E.gutterSpecs=y0(b.gutters,b.lineNumbers),MC(E),w.init(E)}var Sv=0,$a=null;s?$a=-.53:r?$a=15:d?$a=-.7:h&&($a=-1/3);function FC(A){var m=A.wheelDeltaX,w=A.wheelDeltaY;return m==null&&A.detail&&A.axis==A.HORIZONTAL_AXIS&&(m=A.detail),w==null&&A.detail&&A.axis==A.VERTICAL_AXIS?w=A.detail:w==null&&(w=A.wheelDelta),{x:m,y:w}}function IO(A){var m=FC(A);return m.x*=$a,m.y*=$a,m}function DC(A,m){var w=FC(m),b=w.x,E=w.y,D=A.display,j=D.scroller,z=j.scrollWidth>j.clientWidth,Z=j.scrollHeight>j.clientHeight;if(b&&z||E&&Z){if(E&&y&&u){e:for(var re=m.target,ke=D.view;re!=j;re=re.parentNode)for(var Le=0;Le<ke.length;Le++)if(ke[Le].node==re){A.display.currentWheelTarget=re;break e}}if(b&&!r&&!f&&$a!=null){E&&Z&&nd(A,Math.max(0,j.scrollTop+E*$a)),cl(A,Math.max(0,j.scrollLeft+b*$a)),(!E||E&&Z)&&qt(m),D.wheelStartX=null;return}if(E&&$a!=null){var qe=E*$a,Ye=A.doc.scrollTop,ct=Ye+D.wrapper.clientHeight;qe<0?Ye=Math.max(0,Ye+qe-50):ct=Math.min(A.doc.height,ct+qe+50),hp(A,{top:Ye,bottom:ct})}Sv<20&&(D.wheelStartX==null?(D.wheelStartX=j.scrollLeft,D.wheelStartY=j.scrollTop,D.wheelDX=b,D.wheelDY=E,setTimeout(function(){if(D.wheelStartX!=null){var Ct=j.scrollLeft-D.wheelStartX,Nt=j.scrollTop-D.wheelStartY,Jt=Nt&&D.wheelDY&&Nt/D.wheelDY||Ct&&D.wheelDX&&Ct/D.wheelDX;D.wheelStartX=D.wheelStartY=null,Jt&&($a=($a*Sv+Jt)/(Sv+1),++Sv)}},200)):(D.wheelDX+=b,D.wheelDY+=E))}}var ei=function(A,m){this.ranges=A,this.primIndex=m};ei.prototype.primary=function(){return this.ranges[this.primIndex]},ei.prototype.equals=function(A){if(A==this)return!0;if(A.primIndex!=this.primIndex||A.ranges.length!=this.ranges.length)return!1;for(var m=0;m<this.ranges.length;m++){var w=this.ranges[m],b=A.ranges[m];if(!ws(w.anchor,b.anchor)||!ws(w.head,b.head))return!1}return!0},ei.prototype.deepCopy=function(){for(var A=[],m=0;m<this.ranges.length;m++)A[m]=new kr(ce(this.ranges[m].anchor),ce(this.ranges[m].head));return new ei(A,this.primIndex)},ei.prototype.somethingSelected=function(){for(var A=0;A<this.ranges.length;A++)if(!this.ranges[A].empty())return!0;return!1},ei.prototype.contains=function(A,m){m||(m=A);for(var w=0;w<this.ranges.length;w++){var b=this.ranges[w];if(Sn(m,b.from())>=0&&Sn(A,b.to())<=0)return w}return-1};var kr=function(A,m){this.anchor=A,this.head=m};kr.prototype.from=function(){return dt(this.anchor,this.head)},kr.prototype.to=function(){return Me(this.anchor,this.head)},kr.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function jl(A,m,w){var b=A&&A.options.selectionsMayTouch,E=m[w];m.sort(function(qe,Ye){return Sn(qe.from(),Ye.from())}),w=ve(m,E);for(var D=1;D<m.length;D++){var j=m[D],z=m[D-1],Z=Sn(z.to(),j.from());if(b&&!j.empty()?Z>0:Z>=0){var re=dt(z.from(),j.from()),ke=Me(z.to(),j.to()),Le=z.empty()?j.from()==j.head:z.from()==z.head;D<=w&&--w,m.splice(--D,2,new kr(Le?ke:re,Le?re:ke))}}return new ei(m,w)}function od(A,m){return new ei([new kr(A,m||A)],0)}function id(A){return A.text?Et(A.from.line+A.text.length-1,be(A.text).length+(A.text.length==1?A.from.ch:0)):A.to}function jt(A,m){if(Sn(A,m.from)<0)return A;if(Sn(A,m.to)<=0)return id(m);var w=A.line+m.text.length-(m.to.line-m.from.line)-1,b=A.ch;return A.line==m.to.line&&(b+=id(m).ch-m.to.ch),Et(w,b)}function b0(A,m){for(var w=[],b=0;b<A.sel.ranges.length;b++){var E=A.sel.ranges[b];w.push(new kr(jt(E.anchor,m),jt(E.head,m)))}return jl(A.cm,w,A.sel.primIndex)}function UC(A,m,w){return A.line==m.line?Et(w.line,A.ch-m.ch+w.ch):Et(w.line+(A.line-m.line),A.ch)}function LC(A,m,w){for(var b=[],E=Et(A.first,0),D=E,j=0;j<m.length;j++){var z=m[j],Z=UC(z.from,E,D),re=UC(id(z),E,D);if(E=z.to,D=re,w=="around"){var ke=A.sel.ranges[j],Le=Sn(ke.head,ke.anchor)<0;b[j]=new kr(Le?re:Z,Le?Z:re)}else b[j]=new kr(Z,Z)}return new ei(b,A.sel.primIndex)}function br(A){A.doc.mode=yn(A.options,A.doc.modeOption),ad(A)}function ad(A){A.doc.iter(function(m){m.stateAfter&&(m.stateAfter=null),m.styles&&(m.styles=null)}),A.doc.modeFrontier=A.doc.highlightFrontier=A.doc.first,Ap(A,100),A.state.modeGen++,A.curOp&&aa(A)}function w0(A,m){return m.from.ch==0&&m.to.ch==0&&be(m.text)==""&&(!A.cm||A.cm.options.wholeLineUpdateBefore)}function pp(A,m,w,b){function E(an){return w?w[an]:null}function D(an,Zt,un){Gc(an,Zt,un,b),xo(an,"change",an,m)}function j(an,Zt){for(var un=[],kn=an;kn<Zt;++kn)un.push(new So(re[kn],E(kn),b));return un}var z=m.from,Z=m.to,re=m.text,ke=tn(A,z.line),Le=tn(A,Z.line),qe=be(re),Ye=E(re.length-1),ct=Z.line-z.line;if(m.full)A.insert(0,j(0,re.length)),A.remove(re.length,A.size-re.length);else if(w0(A,m)){var Ct=j(0,re.length-1);D(Le,Le.text,Ye),ct&&A.remove(z.line,ct),Ct.length&&A.insert(z.line,Ct)}else if(ke==Le)if(re.length==1)D(ke,ke.text.slice(0,z.ch)+qe+ke.text.slice(Z.ch),Ye);else{var Nt=j(1,re.length-1);Nt.push(new So(qe+ke.text.slice(Z.ch),Ye,b)),D(ke,ke.text.slice(0,z.ch)+re[0],E(0)),A.insert(z.line+1,Nt)}else if(re.length==1)D(ke,ke.text.slice(0,z.ch)+re[0]+Le.text.slice(Z.ch),E(0)),A.remove(z.line+1,ct);else{D(ke,ke.text.slice(0,z.ch)+re[0],E(0)),D(Le,qe+Le.text.slice(Z.ch),Ye);var Jt=j(1,re.length-1);ct>1&&A.remove(z.line+1,ct-1),A.insert(z.line+1,Jt)}xo(A,"change",A,m)}function sd(A,m,w){function b(E,D,j){if(E.linked)for(var z=0;z<E.linked.length;++z){var Z=E.linked[z];if(Z.doc!=D){var re=j&&Z.sharedHist;w&&!re||(m(Z.doc,re),b(Z.doc,E,re))}}}b(A,null,!0)}function VC(A,m){if(m.cm)throw new Error("This document is already in use.");A.doc=m,m.cm=A,vv(A),br(A),NC(A),A.options.direction=m.direction,A.options.lineWrapping||Dr(A),A.options.mode=m.modeOption,aa(A)}function NC(A){(A.doc.direction=="rtl"?ue:M)(A.display.lineDiv,"CodeMirror-rtl")}function MO(A){ja(A,function(){NC(A),aa(A)})}function xv(A){this.done=[],this.undone=[],this.undoDepth=A?A.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=A?A.maxGeneration:1}function $l(A,m){var w={from:ce(m.from),to:id(m),text:Xo(A,m.from,m.to)};return _0(A,w,m.from.line,m.to.line+1),sd(A,function(b){return _0(b,w,m.from.line,m.to.line+1)},!0),w}function RC(A){for(;A.length;){var m=be(A);if(m.ranges)A.pop();else break}}function HC(A,m){if(m)return RC(A.done),be(A.done);if(A.done.length&&!be(A.done).ranges)return be(A.done);if(A.done.length>1&&!A.done[A.done.length-2].ranges)return A.done.pop(),be(A.done)}function QC(A,m,w,b){var E=A.history;E.undone.length=0;var D=+new Date,j,z;if((E.lastOp==b||E.lastOrigin==m.origin&&m.origin&&(m.origin.charAt(0)=="+"&&E.lastModTime>D-(A.cm?A.cm.options.historyEventDelay:500)||m.origin.charAt(0)=="*"))&&(j=HC(E,E.lastOp==b)))z=be(j.changes),Sn(m.from,m.to)==0&&Sn(m.from,z.to)==0?z.to=id(m):j.changes.push($l(A,m));else{var Z=be(E.done);for((!Z||!Z.ranges)&&Ev(A.sel,E.done),j={changes:[$l(A,m)],generation:E.generation},E.done.push(j);E.done.length>E.undoDepth;)E.done.shift(),E.done[0].ranges||E.done.shift()}E.done.push(w),E.generation=++E.maxGeneration,E.lastModTime=E.lastSelTime=D,E.lastOp=E.lastSelOp=b,E.lastOrigin=E.lastSelOrigin=m.origin,z||ft(A,"historyAdded")}function FO(A,m,w,b){var E=m.charAt(0);return E=="*"||E=="+"&&w.ranges.length==b.ranges.length&&w.somethingSelected()==b.somethingSelected()&&new Date-A.history.lastSelTime<=(A.cm?A.cm.options.historyEventDelay:500)}function jC(A,m,w,b){var E=A.history,D=b&&b.origin;w==E.lastSelOp||D&&E.lastSelOrigin==D&&(E.lastModTime==E.lastSelTime&&E.lastOrigin==D||FO(A,D,be(E.done),m))?E.done[E.done.length-1]=m:Ev(m,E.done),E.lastSelTime=+new Date,E.lastSelOrigin=D,E.lastSelOp=w,b&&b.clearRedo!==!1&&RC(E.undone)}function Ev(A,m){var w=be(m);w&&w.ranges&&w.equals(A)||m.push(A)}function _0(A,m,w,b){var E=m["spans_"+A.id],D=0;A.iter(Math.max(A.first,w),Math.min(A.first+A.size,b),function(j){j.markedSpans&&((E||(E=m["spans_"+A.id]={}))[D]=j.markedSpans),++D})}function C0(A){if(!A)return null;for(var m,w=0;w<A.length;++w)A[w].marker.explicitlyCleared?m||(m=A.slice(0,w)):m&&m.push(A[w]);return m?m.length?m:null:A}function DO(A,m){var w=m["spans_"+A.id];if(!w)return null;for(var b=[],E=0;E<m.text.length;++E)b.push(C0(w[E]));return b}function yu(A,m){var w=DO(A,m),b=ic(A,m);if(!w)return b;if(!b)return w;for(var E=0;E<w.length;++E){var D=w[E],j=b[E];if(D&&j)e:for(var z=0;z<j.length;++z){for(var Z=j[z],re=0;re<D.length;++re)if(D[re].marker==Z.marker)continue e;D.push(Z)}else j&&(w[E]=j)}return w}function df(A,m,w){for(var b=[],E=0;E<A.length;++E){var D=A[E];if(D.ranges){b.push(w?ei.prototype.deepCopy.call(D):D);continue}var j=D.changes,z=[];b.push({changes:z});for(var Z=0;Z<j.length;++Z){var re=j[Z],ke=void 0;if(z.push({from:re.from,to:re.to,text:re.text}),m)for(var Le in re)(ke=Le.match(/^spans_(\d+)$/))&&ve(m,Number(ke[1]))>-1&&(be(z)[Le]=re[Le],delete re[Le])}}return b}function S0(A,m,w,b){if(b){var E=A.anchor;if(w){var D=Sn(m,E)<0;D!=Sn(w,E)<0?(E=m,m=w):D!=Sn(m,w)<0&&(m=w)}return new kr(E,m)}else return new kr(w||m,m)}function Bv(A,m,w,b,E){E==null&&(E=A.cm&&(A.cm.display.shift||A.extend)),ji(A,new ei([S0(A.sel.primary(),m,w,E)],0),b)}function $C(A,m,w){for(var b=[],E=A.cm&&(A.cm.display.shift||A.extend),D=0;D<A.sel.ranges.length;D++)b[D]=S0(A.sel.ranges[D],m[D],null,E);var j=jl(A.cm,b,A.sel.primIndex);ji(A,j,w)}function x0(A,m,w,b){var E=A.sel.ranges.slice(0);E[m]=w,ji(A,jl(A.cm,E,A.sel.primIndex),b)}function KC(A,m,w,b){ji(A,od(m,w),b)}function UO(A,m,w){var b={ranges:m.ranges,update:function(E){this.ranges=[];for(var D=0;D<E.length;D++)this.ranges[D]=new kr(Mt(A,E[D].anchor),Mt(A,E[D].head))},origin:w&&w.origin};return ft(A,"beforeSelectionChange",A,b),A.cm&&ft(A.cm,"beforeSelectionChange",A.cm,b),b.ranges!=m.ranges?jl(A.cm,b.ranges,b.ranges.length-1):m}function WC(A,m,w){var b=A.history.done,E=be(b);E&&E.ranges?(b[b.length-1]=m,kv(A,m,w)):ji(A,m,w)}function ji(A,m,w){kv(A,m,w),jC(A,A.sel,A.cm?A.cm.curOp.id:NaN,w)}function kv(A,m,w){(Tt(A,"beforeSelectionChange")||A.cm&&Tt(A.cm,"beforeSelectionChange"))&&(m=UO(A,m,w));var b=w&&w.bias||(Sn(m.primary().head,A.sel.primary().head)<0?-1:1);zC(A,ld(A,m,b,!0)),!(w&&w.scroll===!1)&&A.cm&&A.cm.getOption("readOnly")!="nocursor"&&af(A.cm)}function zC(A,m){m.equals(A.sel)||(A.sel=m,A.cm&&(A.cm.curOp.updateInput=1,A.cm.curOp.selectionChanged=!0,St(A.cm)),xo(A,"cursorActivity",A))}function GC(A){zC(A,ld(A,A.sel,null,!1))}function ld(A,m,w,b){for(var E,D=0;D<m.ranges.length;D++){var j=m.ranges[D],z=m.ranges.length==A.sel.ranges.length&&A.sel.ranges[D],Z=Tv(A,j.anchor,z&&z.anchor,w,b),re=Tv(A,j.head,z&&z.head,w,b);(E||Z!=j.anchor||re!=j.head)&&(E||(E=m.ranges.slice(0,D)),E[D]=new kr(Z,re))}return E?jl(A.cm,E,m.primIndex):m}function OA(A,m,w,b,E){var D=tn(A,m.line);if(D.markedSpans)for(var j=0;j<D.markedSpans.length;++j){var z=D.markedSpans[j],Z=z.marker,re="selectLeft"in Z?!Z.selectLeft:Z.inclusiveLeft,ke="selectRight"in Z?!Z.selectRight:Z.inclusiveRight;if((z.from==null||(re?z.from<=m.ch:z.from<m.ch))&&(z.to==null||(ke?z.to>=m.ch:z.to>m.ch))){if(E&&(ft(Z,"beforeCursorEnter"),Z.explicitlyCleared))if(D.markedSpans){--j;continue}else break;if(!Z.atomic)continue;if(w){var Le=Z.find(b<0?1:-1),qe=void 0;if((b<0?ke:re)&&(Le=YC(A,Le,-b,Le&&Le.line==m.line?D:null)),Le&&Le.line==m.line&&(qe=Sn(Le,w))&&(b<0?qe<0:qe>0))return OA(A,Le,m,b,E)}var Ye=Z.find(b<0?-1:1);return(b<0?re:ke)&&(Ye=YC(A,Ye,b,Ye.line==m.line?D:null)),Ye?OA(A,Ye,m,b,E):null}}return m}function Tv(A,m,w,b,E){var D=b||1,j=OA(A,m,w,D,E)||!E&&OA(A,m,w,D,!0)||OA(A,m,w,-D,E)||!E&&OA(A,m,w,-D,!0);return j||(A.cantEdit=!0,Et(A.first,0))}function YC(A,m,w,b){return w<0&&m.ch==0?m.line>A.first?Mt(A,Et(m.line-1)):null:w>0&&m.ch==(b||tn(A,m.line)).text.length?m.line<A.first+A.size-1?Et(m.line+1,0):null:new Et(m.line,m.ch+w)}function XC(A){A.setSelection(Et(A.firstLine(),0),Et(A.lastLine()),Te)}function JC(A,m,w){var b={canceled:!1,from:m.from,to:m.to,text:m.text,origin:m.origin,cancel:function(){return b.canceled=!0}};return w&&(b.update=function(E,D,j,z){E&&(b.from=Mt(A,E)),D&&(b.to=Mt(A,D)),j&&(b.text=j),z!==void 0&&(b.origin=z)}),ft(A,"beforeChange",A,b),A.cm&&ft(A.cm,"beforeChange",A.cm,b),b.canceled?(A.cm&&(A.cm.curOp.updateInput=2),null):{from:b.from,to:b.to,text:b.text,origin:b.origin}}function PA(A,m,w){if(A.cm){if(!A.cm.curOp)return vi(A.cm,PA)(A,m,w);if(A.cm.state.suppressEdits)return}if(!((Tt(A,"beforeChange")||A.cm&&Tt(A.cm,"beforeChange"))&&(m=JC(A,m,!0),!m))){var b=Qo&&!w&&Bs(A,m.from,m.to);if(b)for(var E=b.length-1;E>=0;--E)ZC(A,{from:b[E].from,to:b[E].to,text:E?[""]:m.text,origin:m.origin});else ZC(A,m)}}function ZC(A,m){if(!(m.text.length==1&&m.text[0]==""&&Sn(m.from,m.to)==0)){var w=b0(A,m);QC(A,m,w,A.cm?A.cm.curOp.id:NaN),wu(A,m,w,ic(A,m));var b=[];sd(A,function(E,D){!D&&ve(b,E.history)==-1&&(t1(E.history,m),b.push(E.history)),wu(E,m,null,ic(E,m))})}}function Ov(A,m,w){var b=A.cm&&A.cm.state.suppressEdits;if(!(b&&!w)){for(var E=A.history,D,j=A.sel,z=m=="undo"?E.done:E.undone,Z=m=="undo"?E.undone:E.done,re=0;re<z.length&&(D=z[re],!(w?D.ranges&&!D.equals(A.sel):!D.ranges));re++);if(re!=z.length){for(E.lastOrigin=E.lastSelOrigin=null;;)if(D=z.pop(),D.ranges){if(Ev(D,Z),w&&!D.equals(A.sel)){ji(A,D,{clearRedo:!1});return}j=D}else if(b){z.push(D);return}else break;var ke=[];Ev(j,Z),Z.push({changes:ke,generation:E.generation}),E.generation=D.generation||++E.maxGeneration;for(var Le=Tt(A,"beforeChange")||A.cm&&Tt(A.cm,"beforeChange"),qe=function(Ct){var Nt=D.changes[Ct];if(Nt.origin=m,Le&&!JC(A,Nt,!1))return z.length=0,{};ke.push($l(A,Nt));var Jt=Ct?b0(A,Nt):be(z);wu(A,Nt,Jt,yu(A,Nt)),!Ct&&A.cm&&A.cm.scrollIntoView({from:Nt.from,to:id(Nt)});var an=[];sd(A,function(Zt,un){!un&&ve(an,Zt.history)==-1&&(t1(Zt.history,Nt),an.push(Zt.history)),wu(Zt,Nt,null,yu(Zt,Nt))})},Ye=D.changes.length-1;Ye>=0;--Ye){var ct=qe(Ye);if(ct)return ct.v}}}}function bu(A,m){if(m!=0&&(A.first+=m,A.sel=new ei(me(A.sel.ranges,function(E){return new kr(Et(E.anchor.line+m,E.anchor.ch),Et(E.head.line+m,E.head.ch))}),A.sel.primIndex),A.cm)){aa(A.cm,A.first,A.first-m,m);for(var w=A.cm.display,b=w.viewFrom;b<w.viewTo;b++)ed(A.cm,b,"gutter")}}function wu(A,m,w,b){if(A.cm&&!A.cm.curOp)return vi(A.cm,wu)(A,m,w,b);if(m.to.line<A.first){bu(A,m.text.length-1-(m.to.line-m.from.line));return}if(!(m.from.line>A.lastLine())){if(m.from.line<A.first){var E=m.text.length-1-(A.first-m.from.line);bu(A,E),m={from:Et(A.first,0),to:Et(m.to.line+E,m.to.ch),text:[be(m.text)],origin:m.origin}}var D=A.lastLine();m.to.line>D&&(m={from:m.from,to:Et(D,tn(A,D).text.length),text:[m.text[0]],origin:m.origin}),m.removed=Xo(A,m.from,m.to),w||(w=b0(A,m)),A.cm?LO(A.cm,m,b):pp(A,m,b),kv(A,w,Te),A.cantEdit&&Tv(A,Et(A.firstLine(),0))&&(A.cantEdit=!1)}}function LO(A,m,w){var b=A.doc,E=A.display,D=m.from,j=m.to,z=!1,Z=D.line;A.options.lineWrapping||(Z=rr(qr(tn(b,D.line))),b.iter(Z,j.line+1,function(Ye){if(Ye==E.maxLine)return z=!0,!0})),b.sel.contains(m.from,m.to)>-1&&St(A),pp(b,m,w,l0(A)),A.options.lineWrapping||(b.iter(Z,D.line+m.text.length,function(Ye){var ct=pu(Ye);ct>E.maxLineLength&&(E.maxLine=Ye,E.maxLineLength=ct,E.maxLineChanged=!0,z=!1)}),z&&(A.curOp.updateMaxLine=!0)),Wc(b,D.line),Ap(A,400);var re=m.text.length-(j.line-D.line)-1;m.full?aa(A):D.line==j.line&&m.text.length==1&&!w0(A.doc,m)?ed(A,D.line,"text"):aa(A,D.line,j.line+1,re);var ke=Tt(A,"changes"),Le=Tt(A,"change");if(Le||ke){var qe={from:D,to:j,text:m.text,removed:m.removed,origin:m.origin};Le&&xo(A,"change",A,qe),ke&&(A.curOp.changeObjs||(A.curOp.changeObjs=[])).push(qe)}A.display.selForContextMenu=null}function IA(A,m,w,b,E){var D;b||(b=w),Sn(b,w)<0&&(D=[b,w],w=D[0],b=D[1]),typeof m=="string"&&(m=A.splitLines(m)),PA(A,{from:w,to:b,text:m,origin:E})}function qC(A,m,w,b){w<A.line?A.line+=b:m<A.line&&(A.line=m,A.ch=0)}function e1(A,m,w,b){for(var E=0;E<A.length;++E){var D=A[E],j=!0;if(D.ranges){D.copied||(D=A[E]=D.deepCopy(),D.copied=!0);for(var z=0;z<D.ranges.length;z++)qC(D.ranges[z].anchor,m,w,b),qC(D.ranges[z].head,m,w,b);continue}for(var Z=0;Z<D.changes.length;++Z){var re=D.changes[Z];if(w<re.from.line)re.from=Et(re.from.line+b,re.from.ch),re.to=Et(re.to.line+b,re.to.ch);else if(m<=re.to.line){j=!1;break}}j||(A.splice(0,E+1),E=0)}}function t1(A,m){var w=m.from.line,b=m.to.line,E=m.text.length-(b-w)-1;e1(A.done,w,b,E),e1(A.undone,w,b,E)}function ff(A,m,w,b){var E=m,D=m;return typeof m=="number"?D=tn(A,Ot(A,m)):E=rr(m),E==null?null:(b(D,E)&&A.cm&&ed(A.cm,E,w),D)}function _u(A){this.lines=A,this.parent=null;for(var m=0,w=0;w<A.length;++w)A[w].parent=this,m+=A[w].height;this.height=m}_u.prototype={chunkSize:function(){return this.lines.length},removeInner:function(A,m){for(var w=A,b=A+m;w<b;++w){var E=this.lines[w];this.height-=E.height,gA(E),xo(E,"delete")}this.lines.splice(A,m)},collapse:function(A){A.push.apply(A,this.lines)},insertInner:function(A,m,w){this.height+=w,this.lines=this.lines.slice(0,A).concat(m).concat(this.lines.slice(A));for(var b=0;b<m.length;++b)m[b].parent=this},iterN:function(A,m,w){for(var b=A+m;A<b;++A)if(w(this.lines[A]))return!0}};function ud(A){this.children=A;for(var m=0,w=0,b=0;b<A.length;++b){var E=A[b];m+=E.chunkSize(),w+=E.height,E.parent=this}this.size=m,this.height=w,this.parent=null}ud.prototype={chunkSize:function(){return this.size},removeInner:function(A,m){this.size-=m;for(var w=0;w<this.children.length;++w){var b=this.children[w],E=b.chunkSize();if(A<E){var D=Math.min(m,E-A),j=b.height;if(b.removeInner(A,D),this.height-=j-b.height,E==D&&(this.children.splice(w--,1),b.parent=null),(m-=D)==0)break;A=0}else A-=E}if(this.size-m<25&&(this.children.length>1||!(this.children[0]instanceof _u))){var z=[];this.collapse(z),this.children=[new _u(z)],this.children[0].parent=this}},collapse:function(A){for(var m=0;m<this.children.length;++m)this.children[m].collapse(A)},insertInner:function(A,m,w){this.size+=m.length,this.height+=w;for(var b=0;b<this.children.length;++b){var E=this.children[b],D=E.chunkSize();if(A<=D){if(E.insertInner(A,m,w),E.lines&&E.lines.length>50){for(var j=E.lines.length%25+25,z=j;z<E.lines.length;){var Z=new _u(E.lines.slice(z,z+=25));E.height-=Z.height,this.children.splice(++b,0,Z),Z.parent=this}E.lines=E.lines.slice(0,j),this.maybeSpill()}break}A-=D}},maybeSpill:function(){if(!(this.children.length<=10)){var A=this;do{var m=A.children.splice(A.children.length-5,5),w=new ud(m);if(A.parent){A.size-=w.size,A.height-=w.height;var E=ve(A.parent.children,A);A.parent.children.splice(E+1,0,w)}else{var b=new ud(A.children);b.parent=A,A.children=[b,w],A=b}w.parent=A.parent}while(A.children.length>10);A.parent.maybeSpill()}},iterN:function(A,m,w){for(var b=0;b<this.children.length;++b){var E=this.children[b],D=E.chunkSize();if(A<D){var j=Math.min(m,D-A);if(E.iterN(A,j,w))return!0;if((m-=j)==0)break;A=0}else A-=D}}};var lr=function(A,m,w){if(w)for(var b in w)w.hasOwnProperty(b)&&(this[b]=w[b]);this.doc=A,this.node=m};lr.prototype.clear=function(){var A=this.doc.cm,m=this.line.widgets,w=this.line,b=rr(w);if(!(b==null||!m)){for(var E=0;E<m.length;++E)m[E]==this&&m.splice(E--,1);m.length||(w.widgets=null);var D=Zc(this);mi(w,Math.max(0,w.height-D)),A&&(ja(A,function(){B(A,w,-D),ed(A,b,"widget")}),xo(A,"lineWidgetCleared",A,this,b))}},lr.prototype.changed=function(){var A=this,m=this.height,w=this.doc.cm,b=this.line;this.height=null;var E=Zc(this)-m;E&&(Ca(this.doc,b)||mi(b,b.height+E),w&&ja(w,function(){w.curOp.forceUpdate=!0,B(w,b,E),xo(w,"lineWidgetChanged",w,A,rr(b))}))},Wt(lr);function B(A,m,w){al(m)<(A.curOp&&A.curOp.scrollTop||A.doc.scrollTop)&&A0(A,w)}function L(A,m,w,b){var E=new lr(A,w,b),D=A.cm;return D&&E.noHScroll&&(D.display.alignWidgets=!0),ff(A,m,"widget",function(j){var z=j.widgets||(j.widgets=[]);if(E.insertAt==null?z.push(E):z.splice(Math.min(z.length,Math.max(0,E.insertAt)),0,E),E.line=j,D&&!Ca(A,j)){var Z=al(j)<A.scrollTop;mi(j,j.height+Zc(E)),Z&&A0(D,E.height),D.curOp.forceUpdate=!0}return!0}),D&&xo(D,"lineWidgetAdded",D,E,typeof m=="number"?m:rr(m)),E}var W=0,q=function(A,m){this.lines=[],this.type=m,this.doc=A,this.id=++W};q.prototype.clear=function(){if(!this.explicitlyCleared){var A=this.doc.cm,m=A&&!A.curOp;if(m&&uf(A),Tt(this,"clear")){var w=this.find();w&&xo(this,"clear",w.from,w.to)}for(var b=null,E=null,D=0;D<this.lines.length;++D){var j=this.lines[D],z=oa(j.markedSpans,this);A&&!this.collapsed?ed(A,rr(j),"text"):A&&(z.to!=null&&(E=rr(j)),z.from!=null&&(b=rr(j))),j.markedSpans=jo(j.markedSpans,z),z.from==null&&this.collapsed&&!Ca(this.doc,j)&&A&&mi(j,ia(A.display))}if(A&&this.collapsed&&!A.options.lineWrapping)for(var Z=0;Z<this.lines.length;++Z){var re=qr(this.lines[Z]),ke=pu(re);ke>A.display.maxLineLength&&(A.display.maxLine=re,A.display.maxLineLength=ke,A.display.maxLineChanged=!0)}b!=null&&A&&this.collapsed&&aa(A,b,E+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,A&&GC(A.doc)),A&&xo(A,"markerCleared",A,this,b,E),m&&cf(A),this.parent&&this.parent.clear()}},q.prototype.find=function(A,m){A==null&&this.type=="bookmark"&&(A=1);for(var w,b,E=0;E<this.lines.length;++E){var D=this.lines[E],j=oa(D.markedSpans,this);if(j.from!=null&&(w=Et(m?D:rr(D),j.from),A==-1))return w;if(j.to!=null&&(b=Et(m?D:rr(D),j.to),A==1))return b}return w&&{from:w,to:b}},q.prototype.changed=function(){var A=this,m=this.find(-1,!0),w=this,b=this.doc.cm;!m||!b||ja(b,function(){var E=m.line,D=rr(m.line),j=Xe(b,D);if(j&&(tf(j),b.curOp.selectionChanged=b.curOp.forceUpdate=!0),b.curOp.updateMaxLine=!0,!Ca(w.doc,E)&&w.height!=null){var z=w.height;w.height=null;var Z=Zc(w)-z;Z&&mi(E,E.height+Z)}xo(b,"markerChanged",b,A)})},q.prototype.attachLine=function(A){if(!this.lines.length&&this.doc.cm){var m=this.doc.cm.curOp;(!m.maybeHiddenMarkers||ve(m.maybeHiddenMarkers,this)==-1)&&(m.maybeUnhiddenMarkers||(m.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(A)},q.prototype.detachLine=function(A){if(this.lines.splice(ve(this.lines,A),1),!this.lines.length&&this.doc.cm){var m=this.doc.cm.curOp;(m.maybeHiddenMarkers||(m.maybeHiddenMarkers=[])).push(this)}},Wt(q);function ge(A,m,w,b,E){if(b&&b.shared)return ht(A,m,w,b,E);if(A.cm&&!A.cm.curOp)return vi(A.cm,ge)(A,m,w,b,E);var D=new q(A,E),j=Sn(m,w);if(b&&pe(b,D,!1),j>0||j==0&&D.clearWhenEmpty!==!1)return D;if(D.replacedWith&&(D.collapsed=!0,D.widgetNode=Q("span",[D.replacedWith],"CodeMirror-widget"),b.handleMouseEvents||D.widgetNode.setAttribute("cm-ignore-events","true"),b.insertLeft&&(D.widgetNode.insertLeft=!0)),D.collapsed){if(Bn(A,m.line,m,w,D)||m.line!=w.line&&Bn(A,w.line,m,w,D))throw new Error("Inserting collapsed marker partially overlapping an existing one");Cs()}D.addToHistory&&QC(A,{from:m,to:w,origin:"markText"},A.sel,NaN);var z=m.line,Z=A.cm,re;if(A.iter(z,w.line+1,function(Le){Z&&D.collapsed&&!Z.options.lineWrapping&&qr(Le)==Z.display.maxLine&&(re=!0),D.collapsed&&z!=m.line&&mi(Le,0),vA(Le,new Ss(D,z==m.line?m.ch:null,z==w.line?w.ch:null),A.cm&&A.cm.curOp),++z}),D.collapsed&&A.iter(m.line,w.line+1,function(Le){Ca(A,Le)&&mi(Le,0)}),D.clearOnEnter&&De(D,"beforeCursorEnter",function(){return D.clear()}),D.readOnly&&(Yd(),(A.history.done.length||A.history.undone.length)&&A.clearHistory()),D.collapsed&&(D.id=++W,D.atomic=!0),Z){if(re&&(Z.curOp.updateMaxLine=!0),D.collapsed)aa(Z,m.line,w.line+1);else if(D.className||D.startStyle||D.endStyle||D.css||D.attributes||D.title)for(var ke=m.line;ke<=w.line;ke++)ed(Z,ke,"text");D.atomic&&GC(Z.doc),xo(Z,"markerAdded",Z,D)}return D}var Ke=function(A,m){this.markers=A,this.primary=m;for(var w=0;w<A.length;++w)A[w].parent=this};Ke.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var A=0;A<this.markers.length;++A)this.markers[A].clear();xo(this,"clear")}},Ke.prototype.find=function(A,m){return this.primary.find(A,m)},Wt(Ke);function ht(A,m,w,b,E){b=pe(b),b.shared=!1;var D=[ge(A,m,w,b,E)],j=D[0],z=b.widgetNode;return sd(A,function(Z){z&&(b.widgetNode=z.cloneNode(!0)),D.push(ge(Z,Mt(Z,m),Mt(Z,w),b,E));for(var re=0;re<Z.linked.length;++re)if(Z.linked[re].isParent)return;j=be(D)}),new Ke(D,j)}function fn(A){return A.findMarks(Et(A.first,0),A.clipPos(Et(A.lastLine())),function(m){return m.parent})}function Gn(A,m){for(var w=0;w<m.length;w++){var b=m[w],E=b.find(),D=A.clipPos(E.from),j=A.clipPos(E.to);if(Sn(D,j)){var z=ge(A,D,j,b.primary,b.primary.type);b.markers.push(z),z.parent=b}}}function gr(A){for(var m=function(b){var E=A[b],D=[E.primary.doc];sd(E.primary.doc,function(Z){return D.push(Z)});for(var j=0;j<E.markers.length;j++){var z=E.markers[j];ve(D,z.doc)==-1&&(z.parent=null,E.markers.splice(j--,1))}},w=0;w<A.length;w++)m(w)}var Sa=0,Eo=function(A,m,w,b,E){if(!(this instanceof Eo))return new Eo(A,m,w,b,E);w==null&&(w=0),ud.call(this,[new _u([new So("",null)])]),this.first=w,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=w;var D=Et(w,0);this.sel=od(D),this.history=new xv(null),this.id=++Sa,this.modeOption=m,this.lineSep=b,this.direction=E=="rtl"?"rtl":"ltr",this.extend=!1,typeof A=="string"&&(A=this.splitLines(A)),pp(this,{from:D,to:D,text:A}),ji(this,od(D),Te)};Eo.prototype=K(ud.prototype,{constructor:Eo,iter:function(A,m,w){w?this.iterN(A-this.first,m-A,w):this.iterN(this.first,this.first+this.size,A)},insert:function(A,m){for(var w=0,b=0;b<m.length;++b)w+=m[b].height;this.insertInner(A-this.first,m,w)},remove:function(A,m){this.removeInner(A-this.first,m)},getValue:function(A){var m=co(this,this.first,this.first+this.size);return A===!1?m:m.join(A||this.lineSeparator())},setValue:gi(function(A){var m=Et(this.first,0),w=this.first+this.size-1;PA(this,{from:m,to:Et(w,tn(this,w).text.length),text:this.splitLines(A),origin:"setValue",full:!0},!0),this.cm&&EA(this.cm,0,0),ji(this,od(m),Te)}),replaceRange:function(A,m,w,b){m=Mt(this,m),w=w?Mt(this,w):m,IA(this,A,m,w,b)},getRange:function(A,m,w){var b=Xo(this,Mt(this,A),Mt(this,m));return w===!1?b:w===""?b.join(""):b.join(w||this.lineSeparator())},getLine:function(A){var m=this.getLineHandle(A);return m&&m.text},getLineHandle:function(A){if(na(this,A))return tn(this,A)},getLineNumber:function(A){return rr(A)},getLineHandleVisualStart:function(A){return typeof A=="number"&&(A=tn(this,A)),qr(A)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(A){return Mt(this,A)},getCursor:function(A){var m=this.sel.primary(),w;return A==null||A=="head"?w=m.head:A=="anchor"?w=m.anchor:A=="end"||A=="to"||A===!1?w=m.to():w=m.from(),w},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:gi(function(A,m,w){KC(this,Mt(this,typeof A=="number"?Et(A,m||0):A),null,w)}),setSelection:gi(function(A,m,w){KC(this,Mt(this,A),Mt(this,m||A),w)}),extendSelection:gi(function(A,m,w){Bv(this,Mt(this,A),m&&Mt(this,m),w)}),extendSelections:gi(function(A,m){$C(this,Zn(this,A),m)}),extendSelectionsBy:gi(function(A,m){var w=me(this.sel.ranges,A);$C(this,Zn(this,w),m)}),setSelections:gi(function(A,m,w){if(A.length){for(var b=[],E=0;E<A.length;E++)b[E]=new kr(Mt(this,A[E].anchor),Mt(this,A[E].head||A[E].anchor));m==null&&(m=Math.min(A.length-1,this.sel.primIndex)),ji(this,jl(this.cm,b,m),w)}}),addSelection:gi(function(A,m,w){var b=this.sel.ranges.slice(0);b.push(new kr(Mt(this,A),Mt(this,m||A))),ji(this,jl(this.cm,b,b.length-1),w)}),getSelection:function(A){for(var m=this.sel.ranges,w,b=0;b<m.length;b++){var E=Xo(this,m[b].from(),m[b].to());w=w?w.concat(E):E}return A===!1?w:w.join(A||this.lineSeparator())},getSelections:function(A){for(var m=[],w=this.sel.ranges,b=0;b<w.length;b++){var E=Xo(this,w[b].from(),w[b].to());A!==!1&&(E=E.join(A||this.lineSeparator())),m[b]=E}return m},replaceSelection:function(A,m,w){for(var b=[],E=0;E<this.sel.ranges.length;E++)b[E]=A;this.replaceSelections(b,m,w||"+input")},replaceSelections:gi(function(A,m,w){for(var b=[],E=this.sel,D=0;D<E.ranges.length;D++){var j=E.ranges[D];b[D]={from:j.from(),to:j.to(),text:this.splitLines(A[D]),origin:w}}for(var z=m&&m!="end"&&LC(this,b,m),Z=b.length-1;Z>=0;Z--)PA(this,b[Z]);z?WC(this,z):this.cm&&af(this.cm)}),undo:gi(function(){Ov(this,"undo")}),redo:gi(function(){Ov(this,"redo")}),undoSelection:gi(function(){Ov(this,"undo",!0)}),redoSelection:gi(function(){Ov(this,"redo",!0)}),setExtending:function(A){this.extend=A},getExtending:function(){return this.extend},historySize:function(){for(var A=this.history,m=0,w=0,b=0;b<A.done.length;b++)A.done[b].ranges||++m;for(var E=0;E<A.undone.length;E++)A.undone[E].ranges||++w;return{undo:m,redo:w}},clearHistory:function(){var A=this;this.history=new xv(this.history),sd(this,function(m){return m.history=A.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(A){return A&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(A){return this.history.generation==(A||this.cleanGeneration)},getHistory:function(){return{done:df(this.history.done),undone:df(this.history.undone)}},setHistory:function(A){var m=this.history=new xv(this.history);m.done=df(A.done.slice(0),null,!0),m.undone=df(A.undone.slice(0),null,!0)},setGutterMarker:gi(function(A,m,w){return ff(this,A,"gutter",function(b){var E=b.gutterMarkers||(b.gutterMarkers={});return E[m]=w,!w&&xe(E)&&(b.gutterMarkers=null),!0})}),clearGutter:gi(function(A){var m=this;this.iter(function(w){w.gutterMarkers&&w.gutterMarkers[A]&&ff(m,w,"gutter",function(){return w.gutterMarkers[A]=null,xe(w.gutterMarkers)&&(w.gutterMarkers=null),!0})})}),lineInfo:function(A){var m;if(typeof A=="number"){if(!na(this,A)||(m=A,A=tn(this,A),!A))return null}else if(m=rr(A),m==null)return null;return{line:m,handle:A,text:A.text,gutterMarkers:A.gutterMarkers,textClass:A.textClass,bgClass:A.bgClass,wrapClass:A.wrapClass,widgets:A.widgets}},addLineClass:gi(function(A,m,w){return ff(this,A,m=="gutter"?"gutter":"class",function(b){var E=m=="text"?"textClass":m=="background"?"bgClass":m=="gutter"?"gutterClass":"wrapClass";if(!b[E])b[E]=w;else{if(k(w).test(b[E]))return!1;b[E]+=" "+w}return!0})}),removeLineClass:gi(function(A,m,w){return ff(this,A,m=="gutter"?"gutter":"class",function(b){var E=m=="text"?"textClass":m=="background"?"bgClass":m=="gutter"?"gutterClass":"wrapClass",D=b[E];if(D)if(w==null)b[E]=null;else{var j=D.match(k(w));if(!j)return!1;var z=j.index+j[0].length;b[E]=D.slice(0,j.index)+(!j.index||z==D.length?"":" ")+D.slice(z)||null}else return!1;return!0})}),addLineWidget:gi(function(A,m,w){return L(this,A,m,w)}),removeLineWidget:function(A){A.clear()},markText:function(A,m,w){return ge(this,Mt(this,A),Mt(this,m),w,w&&w.type||"range")},setBookmark:function(A,m){var w={replacedWith:m&&(m.nodeType==null?m.widget:m),insertLeft:m&&m.insertLeft,clearWhenEmpty:!1,shared:m&&m.shared,handleMouseEvents:m&&m.handleMouseEvents};return A=Mt(this,A),ge(this,A,A,w,"bookmark")},findMarksAt:function(A){A=Mt(this,A);var m=[],w=tn(this,A.line).markedSpans;if(w)for(var b=0;b<w.length;++b){var E=w[b];(E.from==null||E.from<=A.ch)&&(E.to==null||E.to>=A.ch)&&m.push(E.marker.parent||E.marker)}return m},findMarks:function(A,m,w){A=Mt(this,A),m=Mt(this,m);var b=[],E=A.line;return this.iter(A.line,m.line+1,function(D){var j=D.markedSpans;if(j)for(var z=0;z<j.length;z++){var Z=j[z];!(Z.to!=null&&E==A.line&&A.ch>=Z.to||Z.from==null&&E!=A.line||Z.from!=null&&E==m.line&&Z.from>=m.ch)&&(!w||w(Z.marker))&&b.push(Z.marker.parent||Z.marker)}++E}),b},getAllMarks:function(){var A=[];return this.iter(function(m){var w=m.markedSpans;if(w)for(var b=0;b<w.length;++b)w[b].from!=null&&A.push(w[b].marker)}),A},posFromIndex:function(A){var m,w=this.first,b=this.lineSeparator().length;return this.iter(function(E){var D=E.text.length+b;if(D>A)return m=A,!0;A-=D,++w}),Mt(this,Et(w,m))},indexFromPos:function(A){A=Mt(this,A);var m=A.ch;if(A.line<this.first||A.ch<0)return 0;var w=this.lineSeparator().length;return this.iter(this.first,A.line,function(b){m+=b.text.length+w}),m},copy:function(A){var m=new Eo(co(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return m.scrollTop=this.scrollTop,m.scrollLeft=this.scrollLeft,m.sel=this.sel,m.extend=!1,A&&(m.history.undoDepth=this.history.undoDepth,m.setHistory(this.getHistory())),m},linkedDoc:function(A){A||(A={});var m=this.first,w=this.first+this.size;A.from!=null&&A.from>m&&(m=A.from),A.to!=null&&A.to<w&&(w=A.to);var b=new Eo(co(this,m,w),A.mode||this.modeOption,m,this.lineSep,this.direction);return A.sharedHist&&(b.history=this.history),(this.linked||(this.linked=[])).push({doc:b,sharedHist:A.sharedHist}),b.linked=[{doc:this,isParent:!0,sharedHist:A.sharedHist}],Gn(b,fn(this)),b},unlinkDoc:function(A){if(A instanceof Bo&&(A=A.doc),this.linked)for(var m=0;m<this.linked.length;++m){var w=this.linked[m];if(w.doc==A){this.linked.splice(m,1),A.unlinkDoc(this),gr(fn(this));break}}if(A.history==this.history){var b=[A.id];sd(A,function(E){return b.push(E.id)},!0),A.history=new xv(null),A.history.done=df(this.history.done,b),A.history.undone=df(this.history.undone,b)}},iterLinkedDocs:function(A){sd(this,A)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(A){return this.lineSep?A.split(this.lineSep):Un(A)},lineSeparator:function(){return this.lineSep||`
`},setDirection:gi(function(A){A!="rtl"&&(A="ltr"),A!=this.direction&&(this.direction=A,this.iter(function(m){return m.order=null}),this.cm&&MO(this.cm))})}),Eo.prototype.eachLine=Eo.prototype.iter;var Ac=0;function Xq(A){var m=this;if(wN(m),!(gt(m,A)||ll(m.display,A))){qt(A),s&&(Ac=+new Date);var w=rf(m,A,!0),b=A.dataTransfer.files;if(!(!w||m.isReadOnly()))if(b&&b.length&&window.FileReader&&window.File)for(var E=b.length,D=Array(E),j=0,z=function(){++j==E&&vi(m,function(){w=Mt(m.doc,w);var Ye={from:w,to:w,text:m.doc.splitLines(D.filter(function(ct){return ct!=null}).join(m.doc.lineSeparator())),origin:"paste"};PA(m.doc,Ye),WC(m.doc,od(Mt(m.doc,w),Mt(m.doc,id(Ye))))})()},Z=function(Ye,ct){if(m.options.allowDropFileTypes&&ve(m.options.allowDropFileTypes,Ye.type)==-1){z();return}var Ct=new FileReader;Ct.onerror=function(){return z()},Ct.onload=function(){var Nt=Ct.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Nt)){z();return}D[ct]=Nt,z()},Ct.readAsText(Ye)},re=0;re<b.length;re++)Z(b[re],re);else{if(m.state.draggingText&&m.doc.sel.contains(w)>-1){m.state.draggingText(A),setTimeout(function(){return m.display.input.focus()},20);return}try{var ke=A.dataTransfer.getData("Text");if(ke){var Le;if(m.state.draggingText&&!m.state.draggingText.copy&&(Le=m.listSelections()),kv(m.doc,od(w,w)),Le)for(var qe=0;qe<Le.length;++qe)IA(m.doc,"",Le[qe].anchor,Le[qe].head,"drag");m.replaceSelection(ke,"around","paste"),m.display.input.focus()}}catch{}}}}function Jq(A,m){if(s&&(!A.state.draggingText||+new Date-Ac<100)){fe(m);return}if(!(gt(A,m)||ll(A.display,m))&&(m.dataTransfer.setData("Text",A.getSelection()),m.dataTransfer.effectAllowed="copyMove",m.dataTransfer.setDragImage&&!h)){var w=$("img",null,null,"position: fixed; left: 0; top: 0;");w.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",f&&(w.width=w.height=1,A.display.wrapper.appendChild(w),w._top=w.offsetTop),m.dataTransfer.setDragImage(w,0,0),f&&w.parentNode.removeChild(w)}}function Zq(A,m){var w=rf(A,m);if(w){var b=document.createDocumentFragment();CC(A,w,b),A.display.dragCursor||(A.display.dragCursor=$("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),A.display.lineSpace.insertBefore(A.display.dragCursor,A.display.cursorDiv)),U(A.display.dragCursor,b)}}function wN(A){A.display.dragCursor&&(A.display.lineSpace.removeChild(A.display.dragCursor),A.display.dragCursor=null)}function _N(A){if(document.getElementsByClassName){for(var m=document.getElementsByClassName("CodeMirror"),w=[],b=0;b<m.length;b++){var E=m[b].CodeMirror;E&&w.push(E)}w.length&&w[0].operation(function(){for(var D=0;D<w.length;D++)A(w[D])})}}var CN=!1;function qq(){CN||(eee(),CN=!0)}function eee(){var A;De(window,"resize",function(){A==null&&(A=setTimeout(function(){A=null,_N(tee)},100))}),De(window,"blur",function(){return _N(fc)})}function tee(A){var m=A.display;m.cachedCharWidth=m.cachedTextHeight=m.cachedPaddingH=null,m.scrollbarsClipped=!1,A.setSize()}for(var MA={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},E0=0;E0<10;E0++)MA[E0+48]=MA[E0+96]=String(E0);for(var n1=65;n1<=90;n1++)MA[n1]=String.fromCharCode(n1);for(var B0=1;B0<=12;B0++)MA[B0+111]=MA[B0+63235]="F"+B0;var Af={};Af.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Af.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Af.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Af.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Af.default=y?Af.macDefault:Af.pcDefault;function nee(A){var m=A.split(/-(?!$)/);A=m[m.length-1];for(var w,b,E,D,j=0;j<m.length-1;j++){var z=m[j];if(/^(cmd|meta|m)$/i.test(z))D=!0;else if(/^a(lt)?$/i.test(z))w=!0;else if(/^(c|ctrl|control)$/i.test(z))b=!0;else if(/^s(hift)?$/i.test(z))E=!0;else throw new Error("Unrecognized modifier name: "+z)}return w&&(A="Alt-"+A),b&&(A="Ctrl-"+A),D&&(A="Cmd-"+A),E&&(A="Shift-"+A),A}function ree(A){var m={};for(var w in A)if(A.hasOwnProperty(w)){var b=A[w];if(/^(name|fallthrough|(de|at)tach)$/.test(w))continue;if(b=="..."){delete A[w];continue}for(var E=me(w.split(" "),nee),D=0;D<E.length;D++){var j=void 0,z=void 0;D==E.length-1?(z=E.join(" "),j=b):(z=E.slice(0,D+1).join(" "),j="...");var Z=m[z];if(!Z)m[z]=j;else if(Z!=j)throw new Error("Inconsistent bindings for "+z)}delete A[w]}for(var re in m)A[re]=m[re];return A}function Pv(A,m,w,b){m=r1(m);var E=m.call?m.call(A,b):m[A];if(E===!1)return"nothing";if(E==="...")return"multi";if(E!=null&&w(E))return"handled";if(m.fallthrough){if(Object.prototype.toString.call(m.fallthrough)!="[object Array]")return Pv(A,m.fallthrough,w,b);for(var D=0;D<m.fallthrough.length;D++){var j=Pv(A,m.fallthrough[D],w,b);if(j)return j}}}function SN(A){var m=typeof A=="string"?A:MA[A.keyCode];return m=="Ctrl"||m=="Alt"||m=="Shift"||m=="Mod"}function xN(A,m,w){var b=A;return m.altKey&&b!="Alt"&&(A="Alt-"+A),(F?m.metaKey:m.ctrlKey)&&b!="Ctrl"&&(A="Ctrl-"+A),(F?m.ctrlKey:m.metaKey)&&b!="Mod"&&(A="Cmd-"+A),!w&&m.shiftKey&&b!="Shift"&&(A="Shift-"+A),A}function EN(A,m){if(f&&A.keyCode==34&&A.char)return!1;var w=MA[A.keyCode];return w==null||A.altGraphKey?!1:(A.keyCode==3&&A.code&&(w=A.code),xN(w,A,m))}function r1(A){return typeof A=="string"?Af[A]:A}function Iv(A,m){for(var w=A.doc.sel.ranges,b=[],E=0;E<w.length;E++){for(var D=m(w[E]);b.length&&Sn(D.from,be(b).to)<=0;){var j=b.pop();if(Sn(j.from,D.from)<0){D.from=j.from;break}}b.push(D)}ja(A,function(){for(var z=b.length-1;z>=0;z--)IA(A.doc,"",b[z].from,b[z].to,"+delete");af(A)})}function VO(A,m,w){var b=Ee(A.text,m+w,w);return b<0||b>A.text.length?null:b}function NO(A,m,w){var b=VO(A,m.ch,w);return b==null?null:new Et(m.line,b,w<0?"after":"before")}function RO(A,m,w,b,E){if(A){m.doc.direction=="rtl"&&(E=-E);var D=G(w,m.doc.direction);if(D){var j=E<0?be(D):D[0],z=E<0==(j.level==1),Z=z?"after":"before",re;if(j.level>0||m.doc.direction=="rtl"){var ke=vt(m,w);re=E<0?w.text.length-1:0;var Le=Ut(m,ke,re).top;re=st(function(qe){return Ut(m,ke,qe).top==Le},E<0==(j.level==1)?j.from:j.to-1,re),Z=="before"&&(re=VO(w,re,1))}else re=E<0?j.to:j.from;return new Et(b,re,Z)}}return new Et(b,E<0?w.text.length:0,E<0?"before":"after")}function oee(A,m,w,b){var E=G(m,A.doc.direction);if(!E)return NO(m,w,b);w.ch>=m.text.length?(w.ch=m.text.length,w.sticky="before"):w.ch<=0&&(w.ch=0,w.sticky="after");var D=Y(E,w.ch,w.sticky),j=E[D];if(A.doc.direction=="ltr"&&j.level%2==0&&(b>0?j.to>w.ch:j.from<w.ch))return NO(m,w,b);var z=function(Jt,an){return VO(m,Jt instanceof Et?Jt.ch:Jt,an)},Z,re=function(Jt){return A.options.lineWrapping?(Z=Z||vt(A,m),yC(A,m,Z,Jt)):{begin:0,end:m.text.length}},ke=re(w.sticky=="before"?z(w,-1):w.ch);if(A.doc.direction=="rtl"||j.level==1){var Le=j.level==1==b<0,qe=z(w,Le?1:-1);if(qe!=null&&(Le?qe<=j.to&&qe<=ke.end:qe>=j.from&&qe>=ke.begin)){var Ye=Le?"before":"after";return new Et(w.line,qe,Ye)}}var ct=function(Jt,an,Zt){for(var un=function(oo,$i){return $i?new Et(w.line,z(oo,1),"before"):new Et(w.line,oo,"after")};Jt>=0&&Jt<E.length;Jt+=an){var kn=E[Jt],xn=an>0==(kn.level!=1),or=xn?Zt.begin:z(Zt.end,-1);if(kn.from<=or&&or<kn.to||(or=xn?kn.from:z(kn.to,-1),Zt.begin<=or&&or<Zt.end))return un(or,xn)}},Ct=ct(D+b,b,ke);if(Ct)return Ct;var Nt=b>0?ke.end:z(ke.begin,-1);return Nt!=null&&!(b>0&&Nt==m.text.length)&&(Ct=ct(b>0?0:E.length-1,b,re(Nt)),Ct)?Ct:null}var k0={selectAll:XC,singleSelection:function(A){return A.setSelection(A.getCursor("anchor"),A.getCursor("head"),Te)},killLine:function(A){return Iv(A,function(m){if(m.empty()){var w=tn(A.doc,m.head.line).text.length;return m.head.ch==w&&m.head.line<A.lastLine()?{from:m.head,to:Et(m.head.line+1,0)}:{from:m.head,to:Et(m.head.line,w)}}else return{from:m.from(),to:m.to()}})},deleteLine:function(A){return Iv(A,function(m){return{from:Et(m.from().line,0),to:Mt(A.doc,Et(m.to().line+1,0))}})},delLineLeft:function(A){return Iv(A,function(m){return{from:Et(m.from().line,0),to:m.from()}})},delWrappedLineLeft:function(A){return Iv(A,function(m){var w=A.charCoords(m.head,"div").top+5,b=A.coordsChar({left:0,top:w},"div");return{from:b,to:m.from()}})},delWrappedLineRight:function(A){return Iv(A,function(m){var w=A.charCoords(m.head,"div").top+5,b=A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:w},"div");return{from:m.from(),to:b}})},undo:function(A){return A.undo()},redo:function(A){return A.redo()},undoSelection:function(A){return A.undoSelection()},redoSelection:function(A){return A.redoSelection()},goDocStart:function(A){return A.extendSelection(Et(A.firstLine(),0))},goDocEnd:function(A){return A.extendSelection(Et(A.lastLine()))},goLineStart:function(A){return A.extendSelectionsBy(function(m){return BN(A,m.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(A){return A.extendSelectionsBy(function(m){return kN(A,m.head)},{origin:"+move",bias:1})},goLineEnd:function(A){return A.extendSelectionsBy(function(m){return iee(A,m.head.line)},{origin:"+move",bias:-1})},goLineRight:function(A){return A.extendSelectionsBy(function(m){var w=A.cursorCoords(m.head,"div").top+5;return A.coordsChar({left:A.display.lineDiv.offsetWidth+100,top:w},"div")},nt)},goLineLeft:function(A){return A.extendSelectionsBy(function(m){var w=A.cursorCoords(m.head,"div").top+5;return A.coordsChar({left:0,top:w},"div")},nt)},goLineLeftSmart:function(A){return A.extendSelectionsBy(function(m){var w=A.cursorCoords(m.head,"div").top+5,b=A.coordsChar({left:0,top:w},"div");return b.ch<A.getLine(b.line).search(/\S/)?kN(A,m.head):b},nt)},goLineUp:function(A){return A.moveV(-1,"line")},goLineDown:function(A){return A.moveV(1,"line")},goPageUp:function(A){return A.moveV(-1,"page")},goPageDown:function(A){return A.moveV(1,"page")},goCharLeft:function(A){return A.moveH(-1,"char")},goCharRight:function(A){return A.moveH(1,"char")},goColumnLeft:function(A){return A.moveH(-1,"column")},goColumnRight:function(A){return A.moveH(1,"column")},goWordLeft:function(A){return A.moveH(-1,"word")},goGroupRight:function(A){return A.moveH(1,"group")},goGroupLeft:function(A){return A.moveH(-1,"group")},goWordRight:function(A){return A.moveH(1,"word")},delCharBefore:function(A){return A.deleteH(-1,"codepoint")},delCharAfter:function(A){return A.deleteH(1,"char")},delWordBefore:function(A){return A.deleteH(-1,"word")},delWordAfter:function(A){return A.deleteH(1,"word")},delGroupBefore:function(A){return A.deleteH(-1,"group")},delGroupAfter:function(A){return A.deleteH(1,"group")},indentAuto:function(A){return A.indentSelection("smart")},indentMore:function(A){return A.indentSelection("add")},indentLess:function(A){return A.indentSelection("subtract")},insertTab:function(A){return A.replaceSelection("	")},insertSoftTab:function(A){for(var m=[],w=A.listSelections(),b=A.options.tabSize,E=0;E<w.length;E++){var D=w[E].from(),j=_e(A.getLine(D.line),D.ch,b);m.push(ye(b-j%b))}A.replaceSelections(m)},defaultTab:function(A){A.somethingSelected()?A.indentSelection("add"):A.execCommand("insertTab")},transposeChars:function(A){return ja(A,function(){for(var m=A.listSelections(),w=[],b=0;b<m.length;b++)if(m[b].empty()){var E=m[b].head,D=tn(A.doc,E.line).text;if(D){if(E.ch==D.length&&(E=new Et(E.line,E.ch-1)),E.ch>0)E=new Et(E.line,E.ch+1),A.replaceRange(D.charAt(E.ch-1)+D.charAt(E.ch-2),Et(E.line,E.ch-2),E,"+transpose");else if(E.line>A.doc.first){var j=tn(A.doc,E.line-1).text;j&&(E=new Et(E.line,1),A.replaceRange(D.charAt(0)+A.doc.lineSeparator()+j.charAt(j.length-1),Et(E.line-1,j.length-1),E,"+transpose"))}}w.push(new kr(E,E))}A.setSelections(w)})},newlineAndIndent:function(A){return ja(A,function(){for(var m=A.listSelections(),w=m.length-1;w>=0;w--)A.replaceRange(A.doc.lineSeparator(),m[w].anchor,m[w].head,"+input");m=A.listSelections();for(var b=0;b<m.length;b++)A.indentLine(m[b].from().line,null,!0);af(A)})},openLine:function(A){return A.replaceSelection(`
`,"start")},toggleOverwrite:function(A){return A.toggleOverwrite()}};function BN(A,m){var w=tn(A.doc,m),b=qr(w);return b!=w&&(m=rr(b)),RO(!0,A,b,m,1)}function iee(A,m){var w=tn(A.doc,m),b=$o(w);return b!=w&&(m=rr(b)),RO(!0,A,w,m,-1)}function kN(A,m){var w=BN(A,m.line),b=tn(A.doc,w.line),E=G(b,A.doc.direction);if(!E||E[0].level==0){var D=Math.max(w.ch,b.text.search(/\S/)),j=m.line==w.line&&m.ch<=D&&m.ch;return Et(w.line,j?0:D,w.sticky)}return w}function o1(A,m,w){if(typeof m=="string"&&(m=k0[m],!m))return!1;A.display.input.ensurePolled();var b=A.display.shift,E=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),w&&(A.display.shift=!1),E=m(A)!=se}finally{A.display.shift=b,A.state.suppressEdits=!1}return E}function aee(A,m,w){for(var b=0;b<A.state.keyMaps.length;b++){var E=Pv(m,A.state.keyMaps[b],w,A);if(E)return E}return A.options.extraKeys&&Pv(m,A.options.extraKeys,w,A)||Pv(m,A.options.keyMap,w,A)}var see=new Ce;function T0(A,m,w,b){var E=A.state.keySeq;if(E){if(SN(m))return"handled";if(/\'$/.test(m)?A.state.keySeq=null:see.set(50,function(){A.state.keySeq==E&&(A.state.keySeq=null,A.display.input.reset())}),TN(A,E+" "+m,w,b))return!0}return TN(A,m,w,b)}function TN(A,m,w,b){var E=aee(A,m,b);return E=="multi"&&(A.state.keySeq=m),E=="handled"&&xo(A,"keyHandled",A,m,w),(E=="handled"||E=="multi")&&(qt(w),u0(A)),!!E}function ON(A,m){var w=EN(m,!0);return w?m.shiftKey&&!A.state.keySeq?T0(A,"Shift-"+w,m,function(b){return o1(A,b,!0)})||T0(A,w,m,function(b){if(typeof b=="string"?/^go[A-Z]/.test(b):b.motion)return o1(A,b)}):T0(A,w,m,function(b){return o1(A,b)}):!1}function lee(A,m,w){return T0(A,"'"+w+"'",m,function(b){return o1(A,b,!0)})}var HO=null;function PN(A){var m=this;if(!(A.target&&A.target!=m.display.input.getField())&&(m.curOp.focus=ne(),!gt(m,A))){s&&l<11&&A.keyCode==27&&(A.returnValue=!1);var w=A.keyCode;m.display.shift=w==16||A.shiftKey;var b=ON(m,A);f&&(HO=b?w:null,!b&&w==88&&!ys&&(y?A.metaKey:A.ctrlKey)&&m.replaceSelection("",null,"cut")),r&&!y&&!b&&w==46&&A.shiftKey&&!A.ctrlKey&&document.execCommand&&document.execCommand("cut"),w==18&&!/\bCodeMirror-crosshair\b/.test(m.display.lineDiv.className)&&uee(m)}}function uee(A){var m=A.display.lineDiv;ue(m,"CodeMirror-crosshair");function w(b){(b.keyCode==18||!b.altKey)&&(M(m,"CodeMirror-crosshair"),mt(document,"keyup",w),mt(document,"mouseover",w))}De(document,"keyup",w),De(document,"mouseover",w)}function IN(A){A.keyCode==16&&(this.doc.sel.shift=!1),gt(this,A)}function MN(A){var m=this;if(!(A.target&&A.target!=m.display.input.getField())&&!(ll(m.display,A)||gt(m,A)||A.ctrlKey&&!A.altKey||y&&A.metaKey)){var w=A.keyCode,b=A.charCode;if(f&&w==HO){HO=null,qt(A);return}if(!(f&&(!A.which||A.which<10)&&ON(m,A))){var E=String.fromCharCode(b??w);E!="\b"&&(lee(m,A,E)||m.display.input.onKeyPress(A))}}}var cee=400,QO=function(A,m,w){this.time=A,this.pos=m,this.button=w};QO.prototype.compare=function(A,m,w){return this.time+cee>A&&Sn(m,this.pos)==0&&w==this.button};var O0,P0;function dee(A,m){var w=+new Date;return P0&&P0.compare(w,A,m)?(O0=P0=null,"triple"):O0&&O0.compare(w,A,m)?(P0=new QO(w,A,m),O0=null,"double"):(O0=new QO(w,A,m),P0=null,"single")}function FN(A){var m=this,w=m.display;if(!(gt(m,A)||w.activeTouch&&w.input.supportsTouch())){if(w.input.ensurePolled(),w.shift=A.shiftKey,ll(w,A)){u||(w.scroller.draggable=!1,setTimeout(function(){return w.scroller.draggable=!0},100));return}if(!jO(m,A)){var b=rf(m,A),E=Ge(A),D=b?dee(b,E):"single";window.focus(),E==1&&m.state.selectingText&&m.state.selectingText(A),!(b&&fee(m,E,b,D,A))&&(E==1?b?hee(m,b,D,A):Se(A)==w.scroller&&qt(A):E==2?(b&&Bv(m.doc,b),setTimeout(function(){return w.input.focus()},20)):E==3&&(I?m.display.input.onContextMenu(A):c0(m)))}}}function fee(A,m,w,b,E){var D="Click";return b=="double"?D="Double"+D:b=="triple"&&(D="Triple"+D),D=(m==1?"Left":m==2?"Middle":"Right")+D,T0(A,xN(D,E),E,function(j){if(typeof j=="string"&&(j=k0[j]),!j)return!1;var z=!1;try{A.isReadOnly()&&(A.state.suppressEdits=!0),z=j(A,w)!=se}finally{A.state.suppressEdits=!1}return z})}function Aee(A,m,w){var b=A.getOption("configureMouse"),E=b?b(A,m,w):{};if(E.unit==null){var D=C?w.shiftKey&&w.metaKey:w.altKey;E.unit=D?"rectangle":m=="single"?"char":m=="double"?"word":"line"}return(E.extend==null||A.doc.extend)&&(E.extend=A.doc.extend||w.shiftKey),E.addNew==null&&(E.addNew=y?w.metaKey:w.ctrlKey),E.moveOnDrag==null&&(E.moveOnDrag=!(y?w.altKey:w.ctrlKey)),E}function hee(A,m,w,b){s?setTimeout(We(SC,A),0):A.curOp.focus=ne();var E=Aee(A,w,b),D=A.doc.sel,j;A.options.dragDrop&&yt&&!A.isReadOnly()&&w=="single"&&(j=D.contains(m))>-1&&(Sn((j=D.ranges[j]).from(),m)<0||m.xRel>0)&&(Sn(j.to(),m)>0||m.xRel<0)?pee(A,b,m,E):mee(A,b,m,E)}function pee(A,m,w,b){var E=A.display,D=!1,j=vi(A,function(re){u&&(E.scroller.draggable=!1),A.state.draggingText=!1,A.state.delayingBlurEvent&&(A.hasFocus()?A.state.delayingBlurEvent=!1:c0(A)),mt(E.wrapper.ownerDocument,"mouseup",j),mt(E.wrapper.ownerDocument,"mousemove",z),mt(E.scroller,"dragstart",Z),mt(E.scroller,"drop",j),D||(qt(re),b.addNew||Bv(A.doc,w,null,null,b.extend),u&&!h||s&&l==9?setTimeout(function(){E.wrapper.ownerDocument.body.focus({preventScroll:!0}),E.input.focus()},20):E.input.focus())}),z=function(re){D=D||Math.abs(m.clientX-re.clientX)+Math.abs(m.clientY-re.clientY)>=10},Z=function(){return D=!0};u&&(E.scroller.draggable=!0),A.state.draggingText=j,j.copy=!b.moveOnDrag,De(E.wrapper.ownerDocument,"mouseup",j),De(E.wrapper.ownerDocument,"mousemove",z),De(E.scroller,"dragstart",Z),De(E.scroller,"drop",j),A.state.delayingBlurEvent=!0,setTimeout(function(){return E.input.focus()},20),E.scroller.dragDrop&&E.scroller.dragDrop()}function DN(A,m,w){if(w=="char")return new kr(m,m);if(w=="word")return A.findWordAt(m);if(w=="line")return new kr(Et(m.line,0),Mt(A.doc,Et(m.line+1,0)));var b=w(A,m);return new kr(b.from,b.to)}function mee(A,m,w,b){s&&c0(A);var E=A.display,D=A.doc;qt(m);var j,z,Z=D.sel,re=Z.ranges;if(b.addNew&&!b.extend?(z=D.sel.contains(w),z>-1?j=re[z]:j=new kr(w,w)):(j=D.sel.primary(),z=D.sel.primIndex),b.unit=="rectangle")b.addNew||(j=new kr(w,w)),w=rf(A,m,!0,!0),z=-1;else{var ke=DN(A,w,b.unit);b.extend?j=S0(j,ke.anchor,ke.head,b.extend):j=ke}b.addNew?z==-1?(z=re.length,ji(D,jl(A,re.concat([j]),z),{scroll:!1,origin:"*mouse"})):re.length>1&&re[z].empty()&&b.unit=="char"&&!b.extend?(ji(D,jl(A,re.slice(0,z).concat(re.slice(z+1)),0),{scroll:!1,origin:"*mouse"}),Z=D.sel):x0(D,z,j,je):(z=0,ji(D,new ei([j],0),je),Z=D.sel);var Le=w;function qe(Zt){if(Sn(Le,Zt)!=0)if(Le=Zt,b.unit=="rectangle"){for(var un=[],kn=A.options.tabSize,xn=_e(tn(D,w.line).text,w.ch,kn),or=_e(tn(D,Zt.line).text,Zt.ch,kn),oo=Math.min(xn,or),$i=Math.max(xn,or),Uo=Math.min(w.line,Zt.line),dl=Math.min(A.lastLine(),Math.max(w.line,Zt.line));Uo<=dl;Uo++){var Ts=tn(D,Uo).text,yi=tt(Ts,oo,kn);oo==$i?un.push(new kr(Et(Uo,yi),Et(Uo,yi))):Ts.length>yi&&un.push(new kr(Et(Uo,yi),Et(Uo,tt(Ts,$i,kn))))}un.length||un.push(new kr(w,w)),ji(D,jl(A,Z.ranges.slice(0,z).concat(un),z),{origin:"*mouse",scroll:!1}),A.scrollIntoView(Zt)}else{var Os=j,la=DN(A,Zt,b.unit),Oi=Os.anchor,bi;Sn(la.anchor,Oi)>0?(bi=la.head,Oi=dt(Os.from(),la.anchor)):(bi=la.anchor,Oi=Me(Os.to(),la.head));var Ko=Z.ranges.slice(0);Ko[z]=vee(A,new kr(Mt(D,Oi),bi)),ji(D,jl(A,Ko,z),je)}}var Ye=E.wrapper.getBoundingClientRect(),ct=0;function Ct(Zt){var un=++ct,kn=rf(A,Zt,!0,b.unit=="rectangle");if(kn)if(Sn(kn,Le)!=0){A.curOp.focus=ne(),qe(kn);var xn=wv(E,D);(kn.line>=xn.to||kn.line<xn.from)&&setTimeout(vi(A,function(){ct==un&&Ct(Zt)}),150)}else{var or=Zt.clientY<Ye.top?-20:Zt.clientY>Ye.bottom?20:0;or&&setTimeout(vi(A,function(){ct==un&&(E.scroller.scrollTop+=or,Ct(Zt))}),50)}}function Nt(Zt){A.state.selectingText=!1,ct=1/0,Zt&&(qt(Zt),E.input.focus()),mt(E.wrapper.ownerDocument,"mousemove",Jt),mt(E.wrapper.ownerDocument,"mouseup",an),D.history.lastSelOrigin=null}var Jt=vi(A,function(Zt){Zt.buttons===0||!Ge(Zt)?Nt(Zt):Ct(Zt)}),an=vi(A,Nt);A.state.selectingText=an,De(E.wrapper.ownerDocument,"mousemove",Jt),De(E.wrapper.ownerDocument,"mouseup",an)}function vee(A,m){var w=m.anchor,b=m.head,E=tn(A.doc,w.line);if(Sn(w,b)==0&&w.sticky==b.sticky)return m;var D=G(E);if(!D)return m;var j=Y(D,w.ch,w.sticky),z=D[j];if(z.from!=w.ch&&z.to!=w.ch)return m;var Z=j+(z.from==w.ch==(z.level!=1)?0:1);if(Z==0||Z==D.length)return m;var re;if(b.line!=w.line)re=(b.line-w.line)*(A.doc.direction=="ltr"?1:-1)>0;else{var ke=Y(D,b.ch,b.sticky),Le=ke-j||(b.ch-w.ch)*(z.level==1?-1:1);ke==Z-1||ke==Z?re=Le<0:re=Le>0}var qe=D[Z+(re?-1:0)],Ye=re==(qe.level==1),ct=Ye?qe.from:qe.to,Ct=Ye?"after":"before";return w.ch==ct&&w.sticky==Ct?m:new kr(new Et(w.line,ct,Ct),b)}function UN(A,m,w,b){var E,D;if(m.touches)E=m.touches[0].clientX,D=m.touches[0].clientY;else try{E=m.clientX,D=m.clientY}catch{return!1}if(E>=Math.floor(A.display.gutters.getBoundingClientRect().right))return!1;b&&qt(m);var j=A.display,z=j.lineDiv.getBoundingClientRect();if(D>z.bottom||!Tt(A,w))return dr(m);D-=z.top-j.viewOffset;for(var Z=0;Z<A.display.gutterSpecs.length;++Z){var re=j.gutters.childNodes[Z];if(re&&re.getBoundingClientRect().right>=E){var ke=Vn(A.doc,D),Le=A.display.gutterSpecs[Z];return ft(A,w,A,ke,Le.className,m),dr(m)}}}function jO(A,m){return UN(A,m,"gutterClick",!0)}function LN(A,m){ll(A.display,m)||gee(A,m)||gt(A,m,"contextmenu")||I||A.display.input.onContextMenu(m)}function gee(A,m){return Tt(A,"gutterContextMenu")?UN(A,m,"gutterContextMenu",!1):!1}function VN(A){A.display.wrapper.className=A.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+A.options.theme.replace(/(^|\s)\s*/g," cm-s-"),SA(A)}var Mv={toString:function(){return"CodeMirror.Init"}},NN={},i1={};function yee(A){var m=A.optionHandlers;function w(b,E,D,j){A.defaults[b]=E,D&&(m[b]=j?function(z,Z,re){re!=Mv&&D(z,Z,re)}:D)}A.defineOption=w,A.Init=Mv,w("value","",function(b,E){return b.setValue(E)},!0),w("mode",null,function(b,E){b.doc.modeOption=E,br(b)},!0),w("indentUnit",2,br,!0),w("indentWithTabs",!1),w("smartIndent",!0),w("tabSize",4,function(b){ad(b),SA(b),aa(b)},!0),w("lineSeparator",null,function(b,E){if(b.doc.lineSep=E,!!E){var D=[],j=b.doc.first;b.doc.iter(function(Z){for(var re=0;;){var ke=Z.text.indexOf(E,re);if(ke==-1)break;re=ke+E.length,D.push(Et(j,ke))}j++});for(var z=D.length-1;z>=0;z--)IA(b.doc,E,D[z],Et(D[z].line,D[z].ch+E.length))}}),w("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(b,E,D){b.state.specialChars=new RegExp(E.source+(E.test("	")?"":"|	"),"g"),D!=Mv&&b.refresh()}),w("specialCharPlaceholder",Hl,function(b){return b.refresh()},!0),w("electricChars",!0),w("inputStyle",S?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),w("spellcheck",!1,function(b,E){return b.getInputField().spellcheck=E},!0),w("autocorrect",!1,function(b,E){return b.getInputField().autocorrect=E},!0),w("autocapitalize",!1,function(b,E){return b.getInputField().autocapitalize=E},!0),w("rtlMoveVisually",!T),w("wholeLineUpdateBefore",!0),w("theme","default",function(b){VN(b),TA(b)},!0),w("keyMap","default",function(b,E,D){var j=r1(E),z=D!=Mv&&r1(D);z&&z.detach&&z.detach(b,j),j.attach&&j.attach(b,z||null)}),w("extraKeys",null),w("configureMouse",null),w("lineWrapping",!1,wee,!0),w("gutters",[],function(b,E){b.display.gutterSpecs=y0(E,b.options.lineNumbers),TA(b)},!0),w("fixedGutter",!0,function(b,E){b.display.gutters.style.left=E?s0(b.display)+"px":"0",b.refresh()},!0),w("coverGutterNextToScrollbar",!1,function(b){return kA(b)},!0),w("scrollbarStyle","native",function(b){TC(b),kA(b),b.display.scrollbars.setScrollTop(b.doc.scrollTop),b.display.scrollbars.setScrollLeft(b.doc.scrollLeft)},!0),w("lineNumbers",!1,function(b,E){b.display.gutterSpecs=y0(b.options.gutters,E),TA(b)},!0),w("firstLineNumber",1,TA,!0),w("lineNumberFormatter",function(b){return b},TA,!0),w("showCursorWhenSelecting",!1,dp,!0),w("resetSelectionOnContextMenu",!0),w("lineWiseCopyCut",!0),w("pasteLinesPerSelection",!0),w("selectionsMayTouch",!1),w("readOnly",!1,function(b,E){E=="nocursor"&&(fc(b),b.display.input.blur()),b.display.input.readOnlyChanged(E)}),w("screenReaderLabel",null,function(b,E){E=E===""?null:E,b.display.input.screenReaderLabelChanged(E)}),w("disableInput",!1,function(b,E){E||b.display.input.reset()},!0),w("dragDrop",!0,bee),w("allowDropFileTypes",null),w("cursorBlinkRate",530),w("cursorScrollMargin",0),w("cursorHeight",1,dp,!0),w("singleCursorHeightPerLine",!0,dp,!0),w("workTime",100),w("workDelay",100),w("flattenSpans",!0,ad,!0),w("addModeClass",!1,ad,!0),w("pollInterval",100),w("undoDepth",200,function(b,E){return b.doc.history.undoDepth=E}),w("historyEventDelay",1250),w("viewportMargin",10,function(b){return b.refresh()},!0),w("maxHighlightLength",1e4,ad,!0),w("moveInputWithCursor",!0,function(b,E){E||b.display.input.resetPosition()}),w("tabindex",null,function(b,E){return b.display.input.getField().tabIndex=E||""}),w("autofocus",null),w("direction","ltr",function(b,E){return b.doc.setDirection(E)},!0),w("phrases",null)}function bee(A,m,w){var b=w&&w!=Mv;if(!m!=!b){var E=A.display.dragFunctions,D=m?De:mt;D(A.display.scroller,"dragstart",E.start),D(A.display.scroller,"dragenter",E.enter),D(A.display.scroller,"dragover",E.over),D(A.display.scroller,"dragleave",E.leave),D(A.display.scroller,"drop",E.drop)}}function wee(A){A.options.lineWrapping?(ue(A.display.wrapper,"CodeMirror-wrap"),A.display.sizer.style.minWidth="",A.display.sizerWidth=null):(M(A.display.wrapper,"CodeMirror-wrap"),Dr(A)),vv(A),aa(A),SA(A),setTimeout(function(){return kA(A)},100)}function Bo(A,m){var w=this;if(!(this instanceof Bo))return new Bo(A,m);this.options=m=m?pe(m):{},pe(NN,m,!1);var b=m.value;typeof b=="string"?b=new Eo(b,m.mode,null,m.lineSeparator,m.direction):m.mode&&(b.modeOption=m.mode),this.doc=b;var E=new Bo.inputStyles[m.inputStyle](this),D=this.display=new PO(A,b,E,m);D.wrapper.CodeMirror=this,VN(this),m.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),TC(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ce,keySeq:null,specialChars:null},m.autofocus&&!S&&D.input.focus(),s&&l<11&&setTimeout(function(){return w.display.input.reset(!0)},20),_ee(this),qq(),uf(this),this.curOp.forceUpdate=!0,VC(this,b),m.autofocus&&!S||this.hasFocus()?setTimeout(function(){w.hasFocus()&&!w.state.focused&&d0(w)},20):fc(this);for(var j in i1)i1.hasOwnProperty(j)&&i1[j](this,m[j],Mv);IC(this),m.finishInit&&m.finishInit(this);for(var z=0;z<$O.length;++z)$O[z](this);cf(this),u&&m.lineWrapping&&getComputedStyle(D.lineDiv).textRendering=="optimizelegibility"&&(D.lineDiv.style.textRendering="auto")}Bo.defaults=NN,Bo.optionHandlers=i1;function _ee(A){var m=A.display;De(m.scroller,"mousedown",vi(A,FN)),s&&l<11?De(m.scroller,"dblclick",vi(A,function(Z){if(!gt(A,Z)){var re=rf(A,Z);if(!(!re||jO(A,Z)||ll(A.display,Z))){qt(Z);var ke=A.findWordAt(re);Bv(A.doc,ke.anchor,ke.head)}}})):De(m.scroller,"dblclick",function(Z){return gt(A,Z)||qt(Z)}),De(m.scroller,"contextmenu",function(Z){return LN(A,Z)}),De(m.input.getField(),"contextmenu",function(Z){m.scroller.contains(Z.target)||LN(A,Z)});var w,b={end:0};function E(){m.activeTouch&&(w=setTimeout(function(){return m.activeTouch=null},1e3),b=m.activeTouch,b.end=+new Date)}function D(Z){if(Z.touches.length!=1)return!1;var re=Z.touches[0];return re.radiusX<=1&&re.radiusY<=1}function j(Z,re){if(re.left==null)return!0;var ke=re.left-Z.left,Le=re.top-Z.top;return ke*ke+Le*Le>400}De(m.scroller,"touchstart",function(Z){if(!gt(A,Z)&&!D(Z)&&!jO(A,Z)){m.input.ensurePolled(),clearTimeout(w);var re=+new Date;m.activeTouch={start:re,moved:!1,prev:re-b.end<=300?b:null},Z.touches.length==1&&(m.activeTouch.left=Z.touches[0].pageX,m.activeTouch.top=Z.touches[0].pageY)}}),De(m.scroller,"touchmove",function(){m.activeTouch&&(m.activeTouch.moved=!0)}),De(m.scroller,"touchend",function(Z){var re=m.activeTouch;if(re&&!ll(m,Z)&&re.left!=null&&!re.moved&&new Date-re.start<300){var ke=A.coordsChar(m.activeTouch,"page"),Le;!re.prev||j(re,re.prev)?Le=new kr(ke,ke):!re.prev.prev||j(re,re.prev.prev)?Le=A.findWordAt(ke):Le=new kr(Et(ke.line,0),Mt(A.doc,Et(ke.line+1,0))),A.setSelection(Le.anchor,Le.head),A.focus(),qt(Z)}E()}),De(m.scroller,"touchcancel",E),De(m.scroller,"scroll",function(){m.scroller.clientHeight&&(nd(A,m.scroller.scrollTop),cl(A,m.scroller.scrollLeft,!0),ft(A,"scroll",A))}),De(m.scroller,"mousewheel",function(Z){return DC(A,Z)}),De(m.scroller,"DOMMouseScroll",function(Z){return DC(A,Z)}),De(m.wrapper,"scroll",function(){return m.wrapper.scrollTop=m.wrapper.scrollLeft=0}),m.dragFunctions={enter:function(Z){gt(A,Z)||fe(Z)},over:function(Z){gt(A,Z)||(Zq(A,Z),fe(Z))},start:function(Z){return Jq(A,Z)},drop:vi(A,Xq),leave:function(Z){gt(A,Z)||wN(A)}};var z=m.input.getField();De(z,"keyup",function(Z){return IN.call(A,Z)}),De(z,"keydown",vi(A,PN)),De(z,"keypress",vi(A,MN)),De(z,"focus",function(Z){return d0(A,Z)}),De(z,"blur",function(Z){return fc(A,Z)})}var $O=[];Bo.defineInitHook=function(A){return $O.push(A)};function I0(A,m,w,b){var E=A.doc,D;w==null&&(w="add"),w=="smart"&&(E.mode.indent?D=rc(A,m).state:w="prev");var j=A.options.tabSize,z=tn(E,m),Z=_e(z.text,null,j);z.stateAfter&&(z.stateAfter=null);var re=z.text.match(/^\s*/)[0],ke;if(!b&&!/\S/.test(z.text))ke=0,w="not";else if(w=="smart"&&(ke=E.mode.indent(D,z.text.slice(re.length),z.text),ke==se||ke>150)){if(!b)return;w="prev"}w=="prev"?m>E.first?ke=_e(tn(E,m-1).text,null,j):ke=0:w=="add"?ke=Z+A.options.indentUnit:w=="subtract"?ke=Z-A.options.indentUnit:typeof w=="number"&&(ke=Z+w),ke=Math.max(0,ke);var Le="",qe=0;if(A.options.indentWithTabs)for(var Ye=Math.floor(ke/j);Ye;--Ye)qe+=j,Le+="	";if(qe<ke&&(Le+=ye(ke-qe)),Le!=re)return IA(E,Le,Et(m,0),Et(m,re.length),"+input"),z.stateAfter=null,!0;for(var ct=0;ct<E.sel.ranges.length;ct++){var Ct=E.sel.ranges[ct];if(Ct.head.line==m&&Ct.head.ch<re.length){var Nt=Et(m,re.length);x0(E,ct,new kr(Nt,Nt));break}}}var hc=null;function a1(A){hc=A}function KO(A,m,w,b,E){var D=A.doc;A.display.shift=!1,b||(b=D.sel);var j=+new Date-200,z=E=="paste"||A.state.pasteIncoming>j,Z=Un(m),re=null;if(z&&b.ranges.length>1)if(hc&&hc.text.join(`
`)==m){if(b.ranges.length%hc.text.length==0){re=[];for(var ke=0;ke<hc.text.length;ke++)re.push(D.splitLines(hc.text[ke]))}}else Z.length==b.ranges.length&&A.options.pasteLinesPerSelection&&(re=me(Z,function(Jt){return[Jt]}));for(var Le=A.curOp.updateInput,qe=b.ranges.length-1;qe>=0;qe--){var Ye=b.ranges[qe],ct=Ye.from(),Ct=Ye.to();Ye.empty()&&(w&&w>0?ct=Et(ct.line,ct.ch-w):A.state.overwrite&&!z?Ct=Et(Ct.line,Math.min(tn(D,Ct.line).text.length,Ct.ch+be(Z).length)):z&&hc&&hc.lineWise&&hc.text.join(`
`)==Z.join(`
`)&&(ct=Ct=Et(ct.line,0)));var Nt={from:ct,to:Ct,text:re?re[qe%re.length]:Z,origin:E||(z?"paste":A.state.cutIncoming>j?"cut":"+input")};PA(A.doc,Nt),xo(A,"inputRead",A,Nt)}m&&!z&&HN(A,m),af(A),A.curOp.updateInput<2&&(A.curOp.updateInput=Le),A.curOp.typing=!0,A.state.pasteIncoming=A.state.cutIncoming=-1}function RN(A,m){var w=A.clipboardData&&A.clipboardData.getData("Text");if(w)return A.preventDefault(),!m.isReadOnly()&&!m.options.disableInput&&ja(m,function(){return KO(m,w,0,null,"paste")}),!0}function HN(A,m){if(!(!A.options.electricChars||!A.options.smartIndent))for(var w=A.doc.sel,b=w.ranges.length-1;b>=0;b--){var E=w.ranges[b];if(!(E.head.ch>100||b&&w.ranges[b-1].head.line==E.head.line)){var D=A.getModeAt(E.head),j=!1;if(D.electricChars){for(var z=0;z<D.electricChars.length;z++)if(m.indexOf(D.electricChars.charAt(z))>-1){j=I0(A,E.head.line,"smart");break}}else D.electricInput&&D.electricInput.test(tn(A.doc,E.head.line).text.slice(0,E.head.ch))&&(j=I0(A,E.head.line,"smart"));j&&xo(A,"electricInput",A,E.head.line)}}}function QN(A){for(var m=[],w=[],b=0;b<A.doc.sel.ranges.length;b++){var E=A.doc.sel.ranges[b].head.line,D={anchor:Et(E,0),head:Et(E+1,0)};w.push(D),m.push(A.getRange(D.anchor,D.head))}return{text:m,ranges:w}}function jN(A,m,w,b){A.setAttribute("autocorrect",w?"":"off"),A.setAttribute("autocapitalize",b?"":"off"),A.setAttribute("spellcheck",!!m)}function $N(){var A=$("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),m=$("div",[A],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?A.style.width="1000px":A.setAttribute("wrap","off"),g&&(A.style.border="1px solid black"),jN(A),m}function Cee(A){var m=A.optionHandlers,w=A.helpers={};A.prototype={constructor:A,focus:function(){window.focus(),this.display.input.focus()},setOption:function(b,E){var D=this.options,j=D[b];D[b]==E&&b!="mode"||(D[b]=E,m.hasOwnProperty(b)&&vi(this,m[b])(this,E,j),ft(this,"optionChange",this,b))},getOption:function(b){return this.options[b]},getDoc:function(){return this.doc},addKeyMap:function(b,E){this.state.keyMaps[E?"push":"unshift"](r1(b))},removeKeyMap:function(b){for(var E=this.state.keyMaps,D=0;D<E.length;++D)if(E[D]==b||E[D].name==b)return E.splice(D,1),!0},addOverlay:sa(function(b,E){var D=b.token?b:A.getMode(this.options,b);if(D.startState)throw new Error("Overlays may not be stateful.");Ve(this.state.overlays,{mode:D,modeSpec:b,opaque:E&&E.opaque,priority:E&&E.priority||0},function(j){return j.priority}),this.state.modeGen++,aa(this)}),removeOverlay:sa(function(b){for(var E=this.state.overlays,D=0;D<E.length;++D){var j=E[D].modeSpec;if(j==b||typeof b=="string"&&j.name==b){E.splice(D,1),this.state.modeGen++,aa(this);return}}}),indentLine:sa(function(b,E,D){typeof E!="string"&&typeof E!="number"&&(E==null?E=this.options.smartIndent?"smart":"prev":E=E?"add":"subtract"),na(this.doc,b)&&I0(this,b,E,D)}),indentSelection:sa(function(b){for(var E=this.doc.sel.ranges,D=-1,j=0;j<E.length;j++){var z=E[j];if(z.empty())z.head.line>D&&(I0(this,z.head.line,b,!0),D=z.head.line,j==this.doc.sel.primIndex&&af(this));else{var Z=z.from(),re=z.to(),ke=Math.max(D,Z.line);D=Math.min(this.lastLine(),re.line-(re.ch?0:1))+1;for(var Le=ke;Le<D;++Le)I0(this,Le,b);var qe=this.doc.sel.ranges;Z.ch==0&&E.length==qe.length&&qe[j].from().ch>0&&x0(this.doc,j,new kr(Z,qe[j].to()),Te)}}}),getTokenAt:function(b,E){return ra(this,b,E)},getLineTokens:function(b,E){return ra(this,Et(b),E,!0)},getTokenTypeAt:function(b){b=Mt(this.doc,b);var E=nc(this,tn(this.doc,b.line)),D=0,j=(E.length-1)/2,z=b.ch,Z;if(z==0)Z=E[2];else for(;;){var re=D+j>>1;if((re?E[re*2-1]:0)>=z)j=re;else if(E[re*2+1]<z)D=re+1;else{Z=E[re*2+2];break}}var ke=Z?Z.indexOf("overlay "):-1;return ke<0?Z:ke==0?null:Z.slice(0,ke-1)},getModeAt:function(b){var E=this.doc.mode;return E.innerMode?A.innerMode(E,this.getTokenAt(b).state).mode:E},getHelper:function(b,E){return this.getHelpers(b,E)[0]},getHelpers:function(b,E){var D=[];if(!w.hasOwnProperty(E))return D;var j=w[E],z=this.getModeAt(b);if(typeof z[E]=="string")j[z[E]]&&D.push(j[z[E]]);else if(z[E])for(var Z=0;Z<z[E].length;Z++){var re=j[z[E][Z]];re&&D.push(re)}else z.helperType&&j[z.helperType]?D.push(j[z.helperType]):j[z.name]&&D.push(j[z.name]);for(var ke=0;ke<j._global.length;ke++){var Le=j._global[ke];Le.pred(z,this)&&ve(D,Le.val)==-1&&D.push(Le.val)}return D},getStateAfter:function(b,E){var D=this.doc;return b=Ot(D,b??D.first+D.size-1),rc(this,b+1,E).state},cursorCoords:function(b,E){var D,j=this.doc.sel.primary();return b==null?D=j.head:typeof b=="object"?D=Mt(this.doc,b):D=b?j.from():j.to(),Ql(this,D,E||"page")},charCoords:function(b,E){return pv(this,Mt(this.doc,b),E||"page")},coordsChar:function(b,E){return b=mC(this,b,E||"page"),i0(this,b.left,b.top)},lineAtHeight:function(b,E){return b=mC(this,{top:b,left:0},E||"page").top,Vn(this.doc,b+this.display.viewOffset)},heightAtLine:function(b,E,D){var j=!1,z;if(typeof b=="number"){var Z=this.doc.first+this.doc.size-1;b<this.doc.first?b=this.doc.first:b>Z&&(b=Z,j=!0),z=tn(this.doc,b)}else z=b;return xA(this,z,{top:0,left:0},E||"page",D||j).top+(j?this.doc.height-al(z):0)},defaultTextHeight:function(){return ia(this.display)},defaultCharWidth:function(){return ul(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(b,E,D,j,z){var Z=this.display;b=Ql(this,Mt(this.doc,b));var re=b.bottom,ke=b.left;if(E.style.position="absolute",E.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(E),Z.sizer.appendChild(E),j=="over")re=b.top;else if(j=="above"||j=="near"){var Le=Math.max(Z.wrapper.clientHeight,this.doc.height),qe=Math.max(Z.sizer.clientWidth,Z.lineSpace.clientWidth);(j=="above"||b.bottom+E.offsetHeight>Le)&&b.top>E.offsetHeight?re=b.top-E.offsetHeight:b.bottom+E.offsetHeight<=Le&&(re=b.bottom),ke+E.offsetWidth>qe&&(ke=qe-E.offsetWidth)}E.style.top=re+"px",E.style.left=E.style.right="",z=="right"?(ke=Z.sizer.clientWidth-E.offsetWidth,E.style.right="0px"):(z=="left"?ke=0:z=="middle"&&(ke=(Z.sizer.clientWidth-E.offsetWidth)/2),E.style.left=ke+"px"),D&&bO(this,{left:ke,top:re,right:ke+E.offsetWidth,bottom:re+E.offsetHeight})},triggerOnKeyDown:sa(PN),triggerOnKeyPress:sa(MN),triggerOnKeyUp:IN,triggerOnMouseDown:sa(FN),execCommand:function(b){if(k0.hasOwnProperty(b))return k0[b].call(null,this)},triggerElectric:sa(function(b){HN(this,b)}),findPosH:function(b,E,D,j){var z=1;E<0&&(z=-1,E=-E);for(var Z=Mt(this.doc,b),re=0;re<E&&(Z=WO(this.doc,Z,z,D,j),!Z.hitSide);++re);return Z},moveH:sa(function(b,E){var D=this;this.extendSelectionsBy(function(j){return D.display.shift||D.doc.extend||j.empty()?WO(D.doc,j.head,b,E,D.options.rtlMoveVisually):b<0?j.from():j.to()},nt)}),deleteH:sa(function(b,E){var D=this.doc.sel,j=this.doc;D.somethingSelected()?j.replaceSelection("",null,"+delete"):Iv(this,function(z){var Z=WO(j,z.head,b,E,!1);return b<0?{from:Z,to:z.head}:{from:z.head,to:Z}})}),findPosV:function(b,E,D,j){var z=1,Z=j;E<0&&(z=-1,E=-E);for(var re=Mt(this.doc,b),ke=0;ke<E;++ke){var Le=Ql(this,re,"div");if(Z==null?Z=Le.left:Le.left=Z,re=KN(this,Le,z,D),re.hitSide)break}return re},moveV:sa(function(b,E){var D=this,j=this.doc,z=[],Z=!this.display.shift&&!j.extend&&j.sel.somethingSelected();if(j.extendSelectionsBy(function(ke){if(Z)return b<0?ke.from():ke.to();var Le=Ql(D,ke.head,"div");ke.goalColumn!=null&&(Le.left=ke.goalColumn),z.push(Le.left);var qe=KN(D,Le,b,E);return E=="page"&&ke==j.sel.primary()&&A0(D,pv(D,qe,"div").top-Le.top),qe},nt),z.length)for(var re=0;re<j.sel.ranges.length;re++)j.sel.ranges[re].goalColumn=z[re]}),findWordAt:function(b){var E=this.doc,D=tn(E,b.line).text,j=b.ch,z=b.ch;if(D){var Z=this.getHelper(b,"wordChars");(b.sticky=="before"||z==D.length)&&j?--j:++z;for(var re=D.charAt(j),ke=Ae(re,Z)?function(Le){return Ae(Le,Z)}:/\s/.test(re)?function(Le){return/\s/.test(Le)}:function(Le){return!/\s/.test(Le)&&!Ae(Le)};j>0&&ke(D.charAt(j-1));)--j;for(;z<D.length&&ke(D.charAt(z));)++z}return new kr(Et(b.line,j),Et(b.line,z))},toggleOverwrite:function(b){b!=null&&b==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ue(this.display.cursorDiv,"CodeMirror-overwrite"):M(this.display.cursorDiv,"CodeMirror-overwrite"),ft(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ne()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:sa(function(b,E){EA(this,b,E)}),getScrollInfo:function(){var b=this.display.scroller;return{left:b.scrollLeft,top:b.scrollTop,height:b.scrollHeight-Qa(this)-this.display.barHeight,width:b.scrollWidth-Qa(this)-this.display.barWidth,clientHeight:X(this),clientWidth:gu(this)}},scrollIntoView:sa(function(b,E){b==null?(b={from:this.doc.sel.primary().head,to:null},E==null&&(E=this.options.cursorScrollMargin)):typeof b=="number"?b={from:Et(b,0),to:null}:b.from==null&&(b={from:b,to:null}),b.to||(b.to=b.from),b.margin=E||0,b.from.line!=null?EC(this,b):lf(this,b.from,b.to,b.margin)}),setSize:sa(function(b,E){var D=this,j=function(Z){return typeof Z=="number"||/^\d+$/.test(String(Z))?Z+"px":Z};b!=null&&(this.display.wrapper.style.width=j(b)),E!=null&&(this.display.wrapper.style.height=j(E)),this.options.lineWrapping&&hC(this);var z=this.display.viewFrom;this.doc.iter(z,this.display.viewTo,function(Z){if(Z.widgets){for(var re=0;re<Z.widgets.length;re++)if(Z.widgets[re].noHScroll){ed(D,z,"widget");break}}++z}),this.curOp.forceUpdate=!0,ft(this,"refresh",this)}),operation:function(b){return ja(this,b)},startOperation:function(){return uf(this)},endOperation:function(){return cf(this)},refresh:sa(function(){var b=this.display.cachedTextHeight;aa(this),this.curOp.forceUpdate=!0,SA(this),EA(this,this.doc.scrollLeft,this.doc.scrollTop),v0(this.display),(b==null||Math.abs(b-ia(this.display))>.5||this.options.lineWrapping)&&vv(this),ft(this,"refresh",this)}),swapDoc:sa(function(b){var E=this.doc;return E.cm=null,this.state.selectingText&&this.state.selectingText(),VC(this,b),SA(this),this.display.input.reset(),EA(this,b.scrollLeft,b.scrollTop),this.curOp.forceScroll=!0,xo(this,"swapDoc",this,E),E}),phrase:function(b){var E=this.options.phrases;return E&&Object.prototype.hasOwnProperty.call(E,b)?E[b]:b},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Wt(A),A.registerHelper=function(b,E,D){w.hasOwnProperty(b)||(w[b]=A[b]={_global:[]}),w[b][E]=D},A.registerGlobalHelper=function(b,E,D,j){A.registerHelper(b,E,j),w[b]._global.push({pred:D,val:j})}}function WO(A,m,w,b,E){var D=m,j=w,z=tn(A,m.line),Z=E&&A.direction=="rtl"?-w:w;function re(){var an=m.line+Z;return an<A.first||an>=A.first+A.size?!1:(m=new Et(an,m.ch,m.sticky),z=tn(A,an))}function ke(an){var Zt;if(b=="codepoint"){var un=z.text.charCodeAt(m.ch+(w>0?0:-1));if(isNaN(un))Zt=null;else{var kn=w>0?un>=55296&&un<56320:un>=56320&&un<57343;Zt=new Et(m.line,Math.max(0,Math.min(z.text.length,m.ch+w*(kn?2:1))),-w)}}else E?Zt=oee(A.cm,z,m,w):Zt=NO(z,m,w);if(Zt==null)if(!an&&re())m=RO(E,A.cm,z,m.line,Z);else return!1;else m=Zt;return!0}if(b=="char"||b=="codepoint")ke();else if(b=="column")ke(!0);else if(b=="word"||b=="group")for(var Le=null,qe=b=="group",Ye=A.cm&&A.cm.getHelper(m,"wordChars"),ct=!0;!(w<0&&!ke(!ct));ct=!1){var Ct=z.text.charAt(m.ch)||`
`,Nt=Ae(Ct,Ye)?"w":qe&&Ct==`
`?"n":!qe||/\s/.test(Ct)?null:"p";if(qe&&!ct&&!Nt&&(Nt="s"),Le&&Le!=Nt){w<0&&(w=1,ke(),m.sticky="after");break}if(Nt&&(Le=Nt),w>0&&!ke(!ct))break}var Jt=Tv(A,m,D,j,!0);return ws(D,Jt)&&(Jt.hitSide=!0),Jt}function KN(A,m,w,b){var E=A.doc,D=m.left,j;if(b=="page"){var z=Math.min(A.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),Z=Math.max(z-.5*ia(A.display),3);j=(w>0?m.bottom:m.top)+w*Z}else b=="line"&&(j=w>0?m.bottom+3:m.top-3);for(var re;re=i0(A,D,j),!!re.outside;){if(w<0?j<=0:j>=E.height){re.hitSide=!0;break}j+=w*5}return re}var Yr=function(A){this.cm=A,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ce,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Yr.prototype.init=function(A){var m=this,w=this,b=w.cm,E=w.div=A.lineDiv;E.contentEditable=!0,jN(E,b.options.spellcheck,b.options.autocorrect,b.options.autocapitalize);function D(z){for(var Z=z.target;Z;Z=Z.parentNode){if(Z==E)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Z.className))break}return!1}De(E,"paste",function(z){!D(z)||gt(b,z)||RN(z,b)||l<=11&&setTimeout(vi(b,function(){return m.updateFromDOM()}),20)}),De(E,"compositionstart",function(z){m.composing={data:z.data,done:!1}}),De(E,"compositionupdate",function(z){m.composing||(m.composing={data:z.data,done:!1})}),De(E,"compositionend",function(z){m.composing&&(z.data!=m.composing.data&&m.readFromDOMSoon(),m.composing.done=!0)}),De(E,"touchstart",function(){return w.forceCompositionEnd()}),De(E,"input",function(){m.composing||m.readFromDOMSoon()});function j(z){if(!(!D(z)||gt(b,z))){if(b.somethingSelected())a1({lineWise:!1,text:b.getSelections()}),z.type=="cut"&&b.replaceSelection("",null,"cut");else if(b.options.lineWiseCopyCut){var Z=QN(b);a1({lineWise:!0,text:Z.text}),z.type=="cut"&&b.operation(function(){b.setSelections(Z.ranges,0,Te),b.replaceSelection("",null,"cut")})}else return;if(z.clipboardData){z.clipboardData.clearData();var re=hc.text.join(`
`);if(z.clipboardData.setData("Text",re),z.clipboardData.getData("Text")==re){z.preventDefault();return}}var ke=$N(),Le=ke.firstChild;b.display.lineSpace.insertBefore(ke,b.display.lineSpace.firstChild),Le.value=hc.text.join(`
`);var qe=ne();Be(Le),setTimeout(function(){b.display.lineSpace.removeChild(ke),qe.focus(),qe==E&&w.showPrimarySelection()},50)}}De(E,"copy",j),De(E,"cut",j)},Yr.prototype.screenReaderLabelChanged=function(A){A?this.div.setAttribute("aria-label",A):this.div.removeAttribute("aria-label")},Yr.prototype.prepareSelection=function(){var A=_C(this.cm,!1);return A.focus=ne()==this.div,A},Yr.prototype.showSelection=function(A,m){!A||!this.cm.display.view.length||((A.focus||m)&&this.showPrimarySelection(),this.showMultipleSelections(A))},Yr.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Yr.prototype.showPrimarySelection=function(){var A=this.getSelection(),m=this.cm,w=m.doc.sel.primary(),b=w.from(),E=w.to();if(m.display.viewTo==m.display.viewFrom||b.line>=m.display.viewTo||E.line<m.display.viewFrom){A.removeAllRanges();return}var D=s1(m,A.anchorNode,A.anchorOffset),j=s1(m,A.focusNode,A.focusOffset);if(!(D&&!D.bad&&j&&!j.bad&&Sn(dt(D,j),b)==0&&Sn(Me(D,j),E)==0)){var z=m.display.view,Z=b.line>=m.display.viewFrom&&WN(m,b)||{node:z[0].measure.map[2],offset:0},re=E.line<m.display.viewTo&&WN(m,E);if(!re){var ke=z[z.length-1].measure,Le=ke.maps?ke.maps[ke.maps.length-1]:ke.map;re={node:Le[Le.length-1],offset:Le[Le.length-2]-Le[Le.length-3]}}if(!Z||!re){A.removeAllRanges();return}var qe=A.rangeCount&&A.getRangeAt(0),Ye;try{Ye=J(Z.node,Z.offset,re.offset,re.node)}catch{}Ye&&(!r&&m.state.focused?(A.collapse(Z.node,Z.offset),Ye.collapsed||(A.removeAllRanges(),A.addRange(Ye))):(A.removeAllRanges(),A.addRange(Ye)),qe&&A.anchorNode==null?A.addRange(qe):r&&this.startGracePeriod()),this.rememberSelection()}},Yr.prototype.startGracePeriod=function(){var A=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){A.gracePeriod=!1,A.selectionChanged()&&A.cm.operation(function(){return A.cm.curOp.selectionChanged=!0})},20)},Yr.prototype.showMultipleSelections=function(A){U(this.cm.display.cursorDiv,A.cursors),U(this.cm.display.selectionDiv,A.selection)},Yr.prototype.rememberSelection=function(){var A=this.getSelection();this.lastAnchorNode=A.anchorNode,this.lastAnchorOffset=A.anchorOffset,this.lastFocusNode=A.focusNode,this.lastFocusOffset=A.focusOffset},Yr.prototype.selectionInEditor=function(){var A=this.getSelection();if(!A.rangeCount)return!1;var m=A.getRangeAt(0).commonAncestorContainer;return R(this.div,m)},Yr.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||ne()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Yr.prototype.blur=function(){this.div.blur()},Yr.prototype.getField=function(){return this.div},Yr.prototype.supportsTouch=function(){return!0},Yr.prototype.receivedFocus=function(){var A=this,m=this;this.selectionInEditor()?setTimeout(function(){return A.pollSelection()},20):ja(this.cm,function(){return m.cm.curOp.selectionChanged=!0});function w(){m.cm.state.focused&&(m.pollSelection(),m.polling.set(m.cm.options.pollInterval,w))}this.polling.set(this.cm.options.pollInterval,w)},Yr.prototype.selectionChanged=function(){var A=this.getSelection();return A.anchorNode!=this.lastAnchorNode||A.anchorOffset!=this.lastAnchorOffset||A.focusNode!=this.lastFocusNode||A.focusOffset!=this.lastFocusOffset},Yr.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var A=this.getSelection(),m=this.cm;if(_&&d&&this.cm.display.gutterSpecs.length&&See(A.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var w=s1(m,A.anchorNode,A.anchorOffset),b=s1(m,A.focusNode,A.focusOffset);w&&b&&ja(m,function(){ji(m.doc,od(w,b),Te),(w.bad||b.bad)&&(m.curOp.selectionChanged=!0)})}}},Yr.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var A=this.cm,m=A.display,w=A.doc.sel.primary(),b=w.from(),E=w.to();if(b.ch==0&&b.line>A.firstLine()&&(b=Et(b.line-1,tn(A.doc,b.line-1).length)),E.ch==tn(A.doc,E.line).text.length&&E.line<A.lastLine()&&(E=Et(E.line+1,0)),b.line<m.viewFrom||E.line>m.viewTo-1)return!1;var D,j,z;b.line==m.viewFrom||(D=of(A,b.line))==0?(j=rr(m.view[0].line),z=m.view[0].node):(j=rr(m.view[D].line),z=m.view[D-1].node.nextSibling);var Z=of(A,E.line),re,ke;if(Z==m.view.length-1?(re=m.viewTo-1,ke=m.lineDiv.lastChild):(re=rr(m.view[Z+1].line)-1,ke=m.view[Z+1].node.previousSibling),!z)return!1;for(var Le=A.doc.splitLines(xee(A,z,ke,j,re)),qe=Xo(A.doc,Et(j,0),Et(re,tn(A.doc,re).text.length));Le.length>1&&qe.length>1;)if(be(Le)==be(qe))Le.pop(),qe.pop(),re--;else if(Le[0]==qe[0])Le.shift(),qe.shift(),j++;else break;for(var Ye=0,ct=0,Ct=Le[0],Nt=qe[0],Jt=Math.min(Ct.length,Nt.length);Ye<Jt&&Ct.charCodeAt(Ye)==Nt.charCodeAt(Ye);)++Ye;for(var an=be(Le),Zt=be(qe),un=Math.min(an.length-(Le.length==1?Ye:0),Zt.length-(qe.length==1?Ye:0));ct<un&&an.charCodeAt(an.length-ct-1)==Zt.charCodeAt(Zt.length-ct-1);)++ct;if(Le.length==1&&qe.length==1&&j==b.line)for(;Ye&&Ye>b.ch&&an.charCodeAt(an.length-ct-1)==Zt.charCodeAt(Zt.length-ct-1);)Ye--,ct++;Le[Le.length-1]=an.slice(0,an.length-ct).replace(/^\u200b+/,""),Le[0]=Le[0].slice(Ye).replace(/\u200b+$/,"");var kn=Et(j,Ye),xn=Et(re,qe.length?be(qe).length-ct:0);if(Le.length>1||Le[0]||Sn(kn,xn))return IA(A.doc,Le,kn,xn,"+input"),!0},Yr.prototype.ensurePolled=function(){this.forceCompositionEnd()},Yr.prototype.reset=function(){this.forceCompositionEnd()},Yr.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Yr.prototype.readFromDOMSoon=function(){var A=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(A.readDOMTimeout=null,A.composing)if(A.composing.done)A.composing=null;else return;A.updateFromDOM()},80))},Yr.prototype.updateFromDOM=function(){var A=this;(this.cm.isReadOnly()||!this.pollContent())&&ja(this.cm,function(){return aa(A.cm)})},Yr.prototype.setUneditable=function(A){A.contentEditable="false"},Yr.prototype.onKeyPress=function(A){A.charCode==0||this.composing||(A.preventDefault(),this.cm.isReadOnly()||vi(this.cm,KO)(this.cm,String.fromCharCode(A.charCode==null?A.keyCode:A.charCode),0))},Yr.prototype.readOnlyChanged=function(A){this.div.contentEditable=String(A!="nocursor")},Yr.prototype.onContextMenu=function(){},Yr.prototype.resetPosition=function(){},Yr.prototype.needsContentAttribute=!0;function WN(A,m){var w=Xe(A,m.line);if(!w||w.hidden)return null;var b=tn(A.doc,m.line),E=Fe(w,b,m.line),D=G(b,A.doc.direction),j="left";if(D){var z=Y(D,m.ch);j=z%2?"right":"left"}var Z=Nn(E.map,m.ch,j);return Z.offset=Z.collapse=="right"?Z.end:Z.start,Z}function See(A){for(var m=A;m;m=m.parentNode)if(/CodeMirror-gutter-wrapper/.test(m.className))return!0;return!1}function Fv(A,m){return m&&(A.bad=!0),A}function xee(A,m,w,b,E){var D="",j=!1,z=A.doc.lineSeparator(),Z=!1;function re(Ye){return function(ct){return ct.id==Ye}}function ke(){j&&(D+=z,Z&&(D+=z),j=Z=!1)}function Le(Ye){Ye&&(ke(),D+=Ye)}function qe(Ye){if(Ye.nodeType==1){var ct=Ye.getAttribute("cm-text");if(ct){Le(ct);return}var Ct=Ye.getAttribute("cm-marker"),Nt;if(Ct){var Jt=A.findMarks(Et(b,0),Et(E+1,0),re(+Ct));Jt.length&&(Nt=Jt[0].find(0))&&Le(Xo(A.doc,Nt.from,Nt.to).join(z));return}if(Ye.getAttribute("contenteditable")=="false")return;var an=/^(pre|div|p|li|table|br)$/i.test(Ye.nodeName);if(!/^br$/i.test(Ye.nodeName)&&Ye.textContent.length==0)return;an&&ke();for(var Zt=0;Zt<Ye.childNodes.length;Zt++)qe(Ye.childNodes[Zt]);/^(pre|p)$/i.test(Ye.nodeName)&&(Z=!0),an&&(j=!0)}else Ye.nodeType==3&&Le(Ye.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;qe(m),m!=w;)m=m.nextSibling,Z=!1;return D}function s1(A,m,w){var b;if(m==A.display.lineDiv){if(b=A.display.lineDiv.childNodes[w],!b)return Fv(A.clipPos(Et(A.display.viewTo-1)),!0);m=null,w=0}else for(b=m;;b=b.parentNode){if(!b||b==A.display.lineDiv)return null;if(b.parentNode&&b.parentNode==A.display.lineDiv)break}for(var E=0;E<A.display.view.length;E++){var D=A.display.view[E];if(D.node==b)return Eee(D,m,w)}}function Eee(A,m,w){var b=A.text.firstChild,E=!1;if(!m||!R(b,m))return Fv(Et(rr(A.line),0),!0);if(m==b&&(E=!0,m=b.childNodes[w],w=0,!m)){var D=A.rest?be(A.rest):A.line;return Fv(Et(rr(D),D.text.length),E)}var j=m.nodeType==3?m:null,z=m;for(!j&&m.childNodes.length==1&&m.firstChild.nodeType==3&&(j=m.firstChild,w&&(w=j.nodeValue.length));z.parentNode!=b;)z=z.parentNode;var Z=A.measure,re=Z.maps;function ke(Nt,Jt,an){for(var Zt=-1;Zt<(re?re.length:0);Zt++)for(var un=Zt<0?Z.map:re[Zt],kn=0;kn<un.length;kn+=3){var xn=un[kn+2];if(xn==Nt||xn==Jt){var or=rr(Zt<0?A.line:A.rest[Zt]),oo=un[kn]+an;return(an<0||xn!=Nt)&&(oo=un[kn+(an?1:0)]),Et(or,oo)}}}var Le=ke(j,z,w);if(Le)return Fv(Le,E);for(var qe=z.nextSibling,Ye=j?j.nodeValue.length-w:0;qe;qe=qe.nextSibling){if(Le=ke(qe,qe.firstChild,0),Le)return Fv(Et(Le.line,Le.ch-Ye),E);Ye+=qe.textContent.length}for(var ct=z.previousSibling,Ct=w;ct;ct=ct.previousSibling){if(Le=ke(ct,ct.firstChild,-1),Le)return Fv(Et(Le.line,Le.ch+Ct),E);Ct+=ct.textContent.length}}var ti=function(A){this.cm=A,this.prevInput="",this.pollingFast=!1,this.polling=new Ce,this.hasSelection=!1,this.composing=null};ti.prototype.init=function(A){var m=this,w=this,b=this.cm;this.createField(A);var E=this.textarea;A.wrapper.insertBefore(this.wrapper,A.wrapper.firstChild),g&&(E.style.width="0px"),De(E,"input",function(){s&&l>=9&&m.hasSelection&&(m.hasSelection=null),w.poll()}),De(E,"paste",function(j){gt(b,j)||RN(j,b)||(b.state.pasteIncoming=+new Date,w.fastPoll())});function D(j){if(!gt(b,j)){if(b.somethingSelected())a1({lineWise:!1,text:b.getSelections()});else if(b.options.lineWiseCopyCut){var z=QN(b);a1({lineWise:!0,text:z.text}),j.type=="cut"?b.setSelections(z.ranges,null,Te):(w.prevInput="",E.value=z.text.join(`
`),Be(E))}else return;j.type=="cut"&&(b.state.cutIncoming=+new Date)}}De(E,"cut",D),De(E,"copy",D),De(A.scroller,"paste",function(j){if(!(ll(A,j)||gt(b,j))){if(!E.dispatchEvent){b.state.pasteIncoming=+new Date,w.focus();return}var z=new Event("paste");z.clipboardData=j.clipboardData,E.dispatchEvent(z)}}),De(A.lineSpace,"selectstart",function(j){ll(A,j)||qt(j)}),De(E,"compositionstart",function(){var j=b.getCursor("from");w.composing&&w.composing.range.clear(),w.composing={start:j,range:b.markText(j,b.getCursor("to"),{className:"CodeMirror-composing"})}}),De(E,"compositionend",function(){w.composing&&(w.poll(),w.composing.range.clear(),w.composing=null)})},ti.prototype.createField=function(A){this.wrapper=$N(),this.textarea=this.wrapper.firstChild},ti.prototype.screenReaderLabelChanged=function(A){A?this.textarea.setAttribute("aria-label",A):this.textarea.removeAttribute("aria-label")},ti.prototype.prepareSelection=function(){var A=this.cm,m=A.display,w=A.doc,b=_C(A);if(A.options.moveInputWithCursor){var E=Ql(A,w.sel.primary().head,"div"),D=m.wrapper.getBoundingClientRect(),j=m.lineDiv.getBoundingClientRect();b.teTop=Math.max(0,Math.min(m.wrapper.clientHeight-10,E.top+j.top-D.top)),b.teLeft=Math.max(0,Math.min(m.wrapper.clientWidth-10,E.left+j.left-D.left))}return b},ti.prototype.showSelection=function(A){var m=this.cm,w=m.display;U(w.cursorDiv,A.cursors),U(w.selectionDiv,A.selection),A.teTop!=null&&(this.wrapper.style.top=A.teTop+"px",this.wrapper.style.left=A.teLeft+"px")},ti.prototype.reset=function(A){if(!(this.contextMenuPending||this.composing)){var m=this.cm;if(m.somethingSelected()){this.prevInput="";var w=m.getSelection();this.textarea.value=w,m.state.focused&&Be(this.textarea),s&&l>=9&&(this.hasSelection=w)}else A||(this.prevInput=this.textarea.value="",s&&l>=9&&(this.hasSelection=null))}},ti.prototype.getField=function(){return this.textarea},ti.prototype.supportsTouch=function(){return!1},ti.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!S||ne()!=this.textarea))try{this.textarea.focus()}catch{}},ti.prototype.blur=function(){this.textarea.blur()},ti.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},ti.prototype.receivedFocus=function(){this.slowPoll()},ti.prototype.slowPoll=function(){var A=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){A.poll(),A.cm.state.focused&&A.slowPoll()})},ti.prototype.fastPoll=function(){var A=!1,m=this;m.pollingFast=!0;function w(){var b=m.poll();!b&&!A?(A=!0,m.polling.set(60,w)):(m.pollingFast=!1,m.slowPoll())}m.polling.set(20,w)},ti.prototype.poll=function(){var A=this,m=this.cm,w=this.textarea,b=this.prevInput;if(this.contextMenuPending||!m.state.focused||Vr(w)&&!b&&!this.composing||m.isReadOnly()||m.options.disableInput||m.state.keySeq)return!1;var E=w.value;if(E==b&&!m.somethingSelected())return!1;if(s&&l>=9&&this.hasSelection===E||y&&/[\uf700-\uf7ff]/.test(E))return m.display.input.reset(),!1;if(m.doc.sel==m.display.selForContextMenu){var D=E.charCodeAt(0);if(D==8203&&!b&&(b=""),D==8666)return this.reset(),this.cm.execCommand("undo")}for(var j=0,z=Math.min(b.length,E.length);j<z&&b.charCodeAt(j)==E.charCodeAt(j);)++j;return ja(m,function(){KO(m,E.slice(j),b.length-j,null,A.composing?"*compose":null),E.length>1e3||E.indexOf(`
`)>-1?w.value=A.prevInput="":A.prevInput=E,A.composing&&(A.composing.range.clear(),A.composing.range=m.markText(A.composing.start,m.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ti.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},ti.prototype.onKeyPress=function(){s&&l>=9&&(this.hasSelection=null),this.fastPoll()},ti.prototype.onContextMenu=function(A){var m=this,w=m.cm,b=w.display,E=m.textarea;m.contextMenuPending&&m.contextMenuPending();var D=rf(w,A),j=b.scroller.scrollTop;if(!D||f)return;var z=w.options.resetSelectionOnContextMenu;z&&w.doc.sel.contains(D)==-1&&vi(w,ji)(w.doc,od(D),Te);var Z=E.style.cssText,re=m.wrapper.style.cssText,ke=m.wrapper.offsetParent.getBoundingClientRect();m.wrapper.style.cssText="position: static",E.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(A.clientY-ke.top-5)+"px; left: "+(A.clientX-ke.left-5)+`px;
      z-index: 1000; background: `+(s?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Le;u&&(Le=window.scrollY),b.input.focus(),u&&window.scrollTo(null,Le),b.input.reset(),w.somethingSelected()||(E.value=m.prevInput=" "),m.contextMenuPending=Ye,b.selForContextMenu=w.doc.sel,clearTimeout(b.detectingSelectAll);function qe(){if(E.selectionStart!=null){var Ct=w.somethingSelected(),Nt=""+(Ct?E.value:"");E.value="",E.value=Nt,m.prevInput=Ct?"":"",E.selectionStart=1,E.selectionEnd=Nt.length,b.selForContextMenu=w.doc.sel}}function Ye(){if(m.contextMenuPending==Ye&&(m.contextMenuPending=!1,m.wrapper.style.cssText=re,E.style.cssText=Z,s&&l<9&&b.scrollbars.setScrollTop(b.scroller.scrollTop=j),E.selectionStart!=null)){(!s||s&&l<9)&&qe();var Ct=0,Nt=function(){b.selForContextMenu==w.doc.sel&&E.selectionStart==0&&E.selectionEnd>0&&m.prevInput==""?vi(w,XC)(w):Ct++<10?b.detectingSelectAll=setTimeout(Nt,500):(b.selForContextMenu=null,b.input.reset())};b.detectingSelectAll=setTimeout(Nt,200)}}if(s&&l>=9&&qe(),I){fe(A);var ct=function(){mt(window,"mouseup",ct),setTimeout(Ye,20)};De(window,"mouseup",ct)}else setTimeout(Ye,50)},ti.prototype.readOnlyChanged=function(A){A||this.reset(),this.textarea.disabled=A=="nocursor",this.textarea.readOnly=!!A},ti.prototype.setUneditable=function(){},ti.prototype.needsContentAttribute=!1;function Bee(A,m){if(m=m?pe(m):{},m.value=A.value,!m.tabindex&&A.tabIndex&&(m.tabindex=A.tabIndex),!m.placeholder&&A.placeholder&&(m.placeholder=A.placeholder),m.autofocus==null){var w=ne();m.autofocus=w==A||A.getAttribute("autofocus")!=null&&w==document.body}function b(){A.value=z.getValue()}var E;if(A.form&&(De(A.form,"submit",b),!m.leaveSubmitMethodAlone)){var D=A.form;E=D.submit;try{var j=D.submit=function(){b(),D.submit=E,D.submit(),D.submit=j}}catch{}}m.finishInit=function(Z){Z.save=b,Z.getTextArea=function(){return A},Z.toTextArea=function(){Z.toTextArea=isNaN,b(),A.parentNode.removeChild(Z.getWrapperElement()),A.style.display="",A.form&&(mt(A.form,"submit",b),!m.leaveSubmitMethodAlone&&typeof A.form.submit=="function"&&(A.form.submit=E))}},A.style.display="none";var z=Bo(function(Z){return A.parentNode.insertBefore(Z,A.nextSibling)},m);return z}function kee(A){A.off=mt,A.on=De,A.wheelEventPixels=IO,A.Doc=Eo,A.splitLines=Un,A.countColumn=_e,A.findColumn=tt,A.isWordChar=ee,A.Pass=se,A.signal=ft,A.Line=So,A.changeEnd=id,A.scrollbarModel=kC,A.Pos=Et,A.cmpPos=Sn,A.modes=Fo,A.mimeModes=Jn,A.resolveMode=lo,A.getMode=yn,A.modeExtensions=Na,A.extendMode=wa,A.copyState=uo,A.startState=ta,A.innerMode=Do,A.commands=k0,A.keyMap=Af,A.keyName=EN,A.isModifierKey=SN,A.lookupKey=Pv,A.normalizeKeyMap=ree,A.StringStream=ar,A.SharedTextMarker=Ke,A.TextMarker=q,A.LineWidget=lr,A.e_preventDefault=qt,A.e_stopPropagation=mn,A.e_stop=fe,A.addClass=ue,A.contains=R,A.rmClass=M,A.keyNames=MA}yee(Bo),Cee(Bo);var Tee="iter insert remove copy getEditor constructor".split(" ");for(var l1 in Eo.prototype)Eo.prototype.hasOwnProperty(l1)&&ve(Tee,l1)<0&&(Bo.prototype[l1]=(function(A){return function(){return A.apply(this.doc,arguments)}})(Eo.prototype[l1]));return Wt(Eo),Bo.inputStyles={textarea:ti,contenteditable:Yr},Bo.defineMode=function(A){!Bo.defaults.mode&&A!="null"&&(Bo.defaults.mode=A),nr.apply(this,arguments)},Bo.defineMIME=Ln,Bo.defineMode("null",function(){return{token:function(A){return A.skipToEnd()}}}),Bo.defineMIME("text/plain","null"),Bo.defineExtension=function(A,m){Bo.prototype[A]=m},Bo.defineDocExtension=function(A,m){Eo.prototype[A]=m},Bo.fromTextArea=Bee,kee(Bo),Bo.version="5.63.0",Bo}))}),7389:((n,t,e)=>{(function(r){r(e(4408))})(function(r){r.defineMode("css",function(V,U){var $=U.inline;U.propertyKeywords||(U=r.resolveMode("text/css"));var Q=V.indentUnit,J=U.tokenHooks,R=U.documentTypes||{},ne=U.mediaTypes||{},ue=U.mediaFeatures||{},we=U.mediaValueKeywords||{},Be=U.propertyKeywords||{},We=U.nonStandardPropertyKeywords||{},pe=U.fontProperties||{},_e=U.counterDescriptors||{},Ce=U.colorKeywords||{},ve=U.valueKeywords||{},Qe=U.allowNested,se=U.lineComment,Te=U.supportsAtComponent===!0,je=V.highlightNonStandardPropertyKeywords!==!1,nt,tt;function ot(he,Pe){return nt=Pe,he}function ye(he,Pe){var Ee=he.next();if(J[Ee]){var st=J[Ee](he,Pe);if(st!==!1)return st}if(Ee=="@")return he.eatWhile(/[\w\\\-]/),ot("def",he.current());if(Ee=="="||(Ee=="~"||Ee=="|")&&he.eat("="))return ot(null,"compare");if(Ee=='"'||Ee=="'")return Pe.tokenize=be(Ee),Pe.tokenize(he,Pe);if(Ee=="#")return he.eatWhile(/[\w\\\-]/),ot("atom","hash");if(Ee=="!")return he.match(/^\s*\w*/),ot("keyword","important");if(/\d/.test(Ee)||Ee=="."&&he.eat(/\d/))return he.eatWhile(/[\w.%]/),ot("number","unit");if(Ee==="-"){if(/[\d.]/.test(he.peek()))return he.eatWhile(/[\w.%]/),ot("number","unit");if(he.match(/^-[\w\\\-]*/))return he.eatWhile(/[\w\\\-]/),he.match(/^\s*:/,!1)?ot("variable-2","variable-definition"):ot("variable-2","variable");if(he.match(/^\w+-/))return ot("meta","meta")}else return/[,+>*\/]/.test(Ee)?ot(null,"select-op"):Ee=="."&&he.match(/^-?[_a-z][_a-z0-9-]*/i)?ot("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Ee)?ot(null,Ee):he.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(he.current())&&(Pe.tokenize=me),ot("variable callee","variable")):/[\w\\\-]/.test(Ee)?(he.eatWhile(/[\w\\\-]/),ot("property","word")):ot(null,null)}function be(he){return function(Pe,Ee){for(var st=!1,kt;(kt=Pe.next())!=null;){if(kt==he&&!st){he==")"&&Pe.backUp(1);break}st=!st&&kt=="\\"}return(kt==he||!st&&he!=")")&&(Ee.tokenize=null),ot("string","string")}}function me(he,Pe){return he.next(),he.match(/^\s*[\"\')]/,!1)?Pe.tokenize=null:Pe.tokenize=be(")"),ot(null,"(")}function Ve(he,Pe,Ee){this.type=he,this.indent=Pe,this.prev=Ee}function Ie(he,Pe,Ee,st){return he.context=new Ve(Ee,Pe.indentation()+(st===!1?0:Q),he.context),Ee}function K(he){return he.context.prev&&(he.context=he.context.prev),he.context.type}function te(he,Pe,Ee){return xe[Ee.context.type](he,Pe,Ee)}function ee(he,Pe,Ee,st){for(var kt=st||1;kt>0;kt--)Ee.context=Ee.context.prev;return te(he,Pe,Ee)}function Ae(he){var Pe=he.current().toLowerCase();ve.hasOwnProperty(Pe)?tt="atom":Ce.hasOwnProperty(Pe)?tt="keyword":tt="variable"}var xe={};return xe.top=function(he,Pe,Ee){if(he=="{")return Ie(Ee,Pe,"block");if(he=="}"&&Ee.context.prev)return K(Ee);if(Te&&/@component/i.test(he))return Ie(Ee,Pe,"atComponentBlock");if(/^@(-moz-)?document$/i.test(he))return Ie(Ee,Pe,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(he))return Ie(Ee,Pe,"atBlock");if(/^@(font-face|counter-style)/i.test(he))return Ee.stateArg=he,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(he))return"keyframes";if(he&&he.charAt(0)=="@")return Ie(Ee,Pe,"at");if(he=="hash")tt="builtin";else if(he=="word")tt="tag";else{if(he=="variable-definition")return"maybeprop";if(he=="interpolation")return Ie(Ee,Pe,"interpolation");if(he==":")return"pseudo";if(Qe&&he=="(")return Ie(Ee,Pe,"parens")}return Ee.context.type},xe.block=function(he,Pe,Ee){if(he=="word"){var st=Pe.current().toLowerCase();return Be.hasOwnProperty(st)?(tt="property","maybeprop"):We.hasOwnProperty(st)?(tt=je?"string-2":"property","maybeprop"):Qe?(tt=Pe.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(tt+=" error","maybeprop")}else return he=="meta"?"block":!Qe&&(he=="hash"||he=="qualifier")?(tt="error","block"):xe.top(he,Pe,Ee)},xe.maybeprop=function(he,Pe,Ee){return he==":"?Ie(Ee,Pe,"prop"):te(he,Pe,Ee)},xe.prop=function(he,Pe,Ee){if(he==";")return K(Ee);if(he=="{"&&Qe)return Ie(Ee,Pe,"propBlock");if(he=="}"||he=="{")return ee(he,Pe,Ee);if(he=="(")return Ie(Ee,Pe,"parens");if(he=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(Pe.current()))tt+=" error";else if(he=="word")Ae(Pe);else if(he=="interpolation")return Ie(Ee,Pe,"interpolation");return"prop"},xe.propBlock=function(he,Pe,Ee){return he=="}"?K(Ee):he=="word"?(tt="property","maybeprop"):Ee.context.type},xe.parens=function(he,Pe,Ee){return he=="{"||he=="}"?ee(he,Pe,Ee):he==")"?K(Ee):he=="("?Ie(Ee,Pe,"parens"):he=="interpolation"?Ie(Ee,Pe,"interpolation"):(he=="word"&&Ae(Pe),"parens")},xe.pseudo=function(he,Pe,Ee){return he=="meta"?"pseudo":he=="word"?(tt="variable-3",Ee.context.type):te(he,Pe,Ee)},xe.documentTypes=function(he,Pe,Ee){return he=="word"&&R.hasOwnProperty(Pe.current())?(tt="tag",Ee.context.type):xe.atBlock(he,Pe,Ee)},xe.atBlock=function(he,Pe,Ee){if(he=="(")return Ie(Ee,Pe,"atBlock_parens");if(he=="}"||he==";")return ee(he,Pe,Ee);if(he=="{")return K(Ee)&&Ie(Ee,Pe,Qe?"block":"top");if(he=="interpolation")return Ie(Ee,Pe,"interpolation");if(he=="word"){var st=Pe.current().toLowerCase();st=="only"||st=="not"||st=="and"||st=="or"?tt="keyword":ne.hasOwnProperty(st)?tt="attribute":ue.hasOwnProperty(st)?tt="property":we.hasOwnProperty(st)?tt="keyword":Be.hasOwnProperty(st)?tt="property":We.hasOwnProperty(st)?tt=je?"string-2":"property":ve.hasOwnProperty(st)?tt="atom":Ce.hasOwnProperty(st)?tt="keyword":tt="error"}return Ee.context.type},xe.atComponentBlock=function(he,Pe,Ee){return he=="}"?ee(he,Pe,Ee):he=="{"?K(Ee)&&Ie(Ee,Pe,Qe?"block":"top",!1):(he=="word"&&(tt="error"),Ee.context.type)},xe.atBlock_parens=function(he,Pe,Ee){return he==")"?K(Ee):he=="{"||he=="}"?ee(he,Pe,Ee,2):xe.atBlock(he,Pe,Ee)},xe.restricted_atBlock_before=function(he,Pe,Ee){return he=="{"?Ie(Ee,Pe,"restricted_atBlock"):he=="word"&&Ee.stateArg=="@counter-style"?(tt="variable","restricted_atBlock_before"):te(he,Pe,Ee)},xe.restricted_atBlock=function(he,Pe,Ee){return he=="}"?(Ee.stateArg=null,K(Ee)):he=="word"?(Ee.stateArg=="@font-face"&&!pe.hasOwnProperty(Pe.current().toLowerCase())||Ee.stateArg=="@counter-style"&&!_e.hasOwnProperty(Pe.current().toLowerCase())?tt="error":tt="property","maybeprop"):"restricted_atBlock"},xe.keyframes=function(he,Pe,Ee){return he=="word"?(tt="variable","keyframes"):he=="{"?Ie(Ee,Pe,"top"):te(he,Pe,Ee)},xe.at=function(he,Pe,Ee){return he==";"?K(Ee):he=="{"||he=="}"?ee(he,Pe,Ee):(he=="word"?tt="tag":he=="hash"&&(tt="builtin"),"at")},xe.interpolation=function(he,Pe,Ee){return he=="}"?K(Ee):he=="{"||he==";"?ee(he,Pe,Ee):(he=="word"?tt="variable":he!="variable"&&he!="("&&he!=")"&&(tt="error"),"interpolation")},{startState:function(he){return{tokenize:null,state:$?"block":"top",stateArg:null,context:new Ve($?"block":"top",he||0,null)}},token:function(he,Pe){if(!Pe.tokenize&&he.eatSpace())return null;var Ee=(Pe.tokenize||ye)(he,Pe);return Ee&&typeof Ee=="object"&&(nt=Ee[1],Ee=Ee[0]),tt=Ee,nt!="comment"&&(Pe.state=xe[Pe.state](nt,he,Pe)),tt},indent:function(he,Pe){var Ee=he.context,st=Pe&&Pe.charAt(0),kt=Ee.indent;return Ee.type=="prop"&&(st=="}"||st==")")&&(Ee=Ee.prev),Ee.prev&&(st=="}"&&(Ee.type=="block"||Ee.type=="top"||Ee.type=="interpolation"||Ee.type=="restricted_atBlock")?(Ee=Ee.prev,kt=Ee.indent):(st==")"&&(Ee.type=="parens"||Ee.type=="atBlock_parens")||st=="{"&&(Ee.type=="at"||Ee.type=="atBlock"))&&(kt=Math.max(0,Ee.indent-Q))),kt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:se,fold:"brace"}});function o(V){for(var U={},$=0;$<V.length;++$)U[V[$].toLowerCase()]=!0;return U}var i=["domain","regexp","url","url-prefix"],a=o(i),s=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],l=o(s),u=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],c=o(u),d=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],f=o(d),h=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],p=o(h),v=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],g=o(v),_=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],S=o(_),y=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],C=o(y),T=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],P=o(T),F=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],I=o(F),k=i.concat(s).concat(u).concat(d).concat(h).concat(v).concat(T).concat(F);r.registerHelper("hintWords","css",k);function M(V,U){for(var $=!1,Q;(Q=V.next())!=null;){if($&&Q=="/"){U.tokenize=null;break}$=Q=="*"}return["comment","comment"]}r.defineMIME("text/css",{documentTypes:a,mediaTypes:l,mediaFeatures:c,mediaValueKeywords:f,propertyKeywords:p,nonStandardPropertyKeywords:g,fontProperties:S,counterDescriptors:C,colorKeywords:P,valueKeywords:I,tokenHooks:{"/":function(V,U){return V.eat("*")?(U.tokenize=M,M(V,U)):!1}},name:"css"}),r.defineMIME("text/x-scss",{mediaTypes:l,mediaFeatures:c,mediaValueKeywords:f,propertyKeywords:p,nonStandardPropertyKeywords:g,colorKeywords:P,valueKeywords:I,fontProperties:S,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(V,U){return V.eat("/")?(V.skipToEnd(),["comment","comment"]):V.eat("*")?(U.tokenize=M,M(V,U)):["operator","operator"]},":":function(V){return V.match(/^\s*\{/,!1)?[null,null]:!1},$:function(V){return V.match(/^[\w-]+/),V.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(V){return V.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),r.defineMIME("text/x-less",{mediaTypes:l,mediaFeatures:c,mediaValueKeywords:f,propertyKeywords:p,nonStandardPropertyKeywords:g,colorKeywords:P,valueKeywords:I,fontProperties:S,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(V,U){return V.eat("/")?(V.skipToEnd(),["comment","comment"]):V.eat("*")?(U.tokenize=M,M(V,U)):["operator","operator"]},"@":function(V){return V.eat("{")?[null,"interpolation"]:V.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(V.eatWhile(/[\w\\\-]/),V.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),r.defineMIME("text/x-gss",{documentTypes:a,mediaTypes:l,mediaFeatures:c,propertyKeywords:p,nonStandardPropertyKeywords:g,fontProperties:S,counterDescriptors:C,colorKeywords:P,valueKeywords:I,supportsAtComponent:!0,tokenHooks:{"/":function(V,U){return V.eat("*")?(U.tokenize=M,M(V,U)):!1}},name:"css",helperType:"gss"})})}),8253:((n,t,e)=>{(function(r){r(e(4408),e(9701),e(6061),e(7389))})(function(r){var o={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(f,h,p){var v=f.current(),g=v.search(h);return g>-1?f.backUp(v.length-g):v.match(/<\/?$/)&&(f.backUp(v.length),f.match(h,!1)||f.match(v)),p}var a={};function s(f){var h=a[f];return h||(a[f]=new RegExp("\\s+"+f+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function l(f,h){var p=f.match(s(h));return p?/^\s*(.*?)\s*$/.exec(p[2])[1]:""}function u(f,h){return new RegExp((h?"^":"")+"</s*"+f+"s*>","i")}function c(f,h){for(var p in f)for(var v=h[p]||(h[p]=[]),g=f[p],_=g.length-1;_>=0;_--)v.unshift(g[_])}function d(f,h){for(var p=0;p<f.length;p++){var v=f[p];if(!v[0]||v[1].test(l(h,v[0])))return v[2]}}r.defineMode("htmlmixed",function(f,h){var p=r.getMode(f,{name:"xml",htmlMode:!0,multilineTagIndentFactor:h.multilineTagIndentFactor,multilineTagIndentPastTag:h.multilineTagIndentPastTag,allowMissingTagName:h.allowMissingTagName}),v={},g=h&&h.tags,_=h&&h.scriptTypes;if(c(o,v),g&&c(g,v),_)for(var S=_.length-1;S>=0;S--)v.script.unshift(["type",_[S].matches,_[S].mode]);function y(C,T){var P=p.token(C,T.htmlState),F=/\btag\b/.test(P),I;if(F&&!/[<>\s\/]/.test(C.current())&&(I=T.htmlState.tagName&&T.htmlState.tagName.toLowerCase())&&v.hasOwnProperty(I))T.inTag=I+" ";else if(T.inTag&&F&&/>$/.test(C.current())){var k=/^([\S]+) (.*)/.exec(T.inTag);T.inTag=null;var M=C.current()==">"&&d(v[k[1]],k[2]),V=r.getMode(f,M),U=u(k[1],!0),$=u(k[1],!1);T.token=function(Q,J){return Q.match(U,!1)?(J.token=y,J.localState=J.localMode=null,null):i(Q,$,J.localMode.token(Q,J.localState))},T.localMode=V,T.localState=r.startState(V,p.indent(T.htmlState,"",""))}else T.inTag&&(T.inTag+=C.current(),C.eol()&&(T.inTag+=" "));return P}return{startState:function(){var C=r.startState(p);return{token:y,inTag:null,localMode:null,localState:null,htmlState:C}},copyState:function(C){var T;return C.localState&&(T=r.copyState(C.localMode,C.localState)),{token:C.token,inTag:C.inTag,localMode:C.localMode,localState:T,htmlState:r.copyState(p,C.htmlState)}},token:function(C,T){return T.token(C,T)},indent:function(C,T,P){return!C.localMode||/^\s*<\//.test(T)?p.indent(C.htmlState,T,P):C.localMode.indent?C.localMode.indent(C.localState,T,P):r.Pass},innerMode:function(C){return{state:C.localState||C.htmlState,mode:C.localMode||p}}}},"xml","javascript","css"),r.defineMIME("text/html","htmlmixed")})}),6061:((n,t,e)=>{(function(r){r(e(4408))})(function(r){r.defineMode("javascript",function(o,i){var a=o.indentUnit,s=i.statementIndent,l=i.jsonld,u=i.json||l,c=i.trackScope!==!1,d=i.typescript,f=i.wordCharacters||/[\w$\xa1-\uffff]/,h=(function(){function ce(ro){return{type:ro,style:"keyword"}}var Me=ce("keyword a"),dt=ce("keyword b"),Ot=ce("keyword c"),Mt=ce("keyword d"),Wn=ce("operator"),Zn={type:"atom",style:"atom"};return{if:ce("if"),while:Me,with:Me,else:dt,do:dt,try:dt,finally:dt,return:Mt,break:Mt,continue:Mt,new:ce("new"),delete:Ot,void:Ot,throw:Ot,debugger:ce("debugger"),var:ce("var"),const:ce("var"),let:ce("var"),function:ce("function"),catch:ce("catch"),for:ce("for"),switch:ce("switch"),case:ce("case"),default:ce("default"),in:Wn,typeof:Wn,instanceof:Wn,true:Zn,false:Zn,null:Zn,undefined:Zn,NaN:Zn,Infinity:Zn,this:ce("this"),class:ce("class"),super:ce("atom"),yield:Ot,export:ce("export"),import:ce("import"),extends:Ot,await:Ot}})(),p=/[+\-*&%=<>!?|~^@]/,v=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function g(ce){for(var Me=!1,dt,Ot=!1;(dt=ce.next())!=null;){if(!Me){if(dt=="/"&&!Ot)return;dt=="["?Ot=!0:Ot&&dt=="]"&&(Ot=!1)}Me=!Me&&dt=="\\"}}var _,S;function y(ce,Me,dt){return _=ce,S=dt,Me}function C(ce,Me){var dt=ce.next();if(dt=='"'||dt=="'")return Me.tokenize=T(dt),Me.tokenize(ce,Me);if(dt=="."&&ce.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return y("number","number");if(dt=="."&&ce.match(".."))return y("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(dt))return y(dt);if(dt=="="&&ce.eat(">"))return y("=>","operator");if(dt=="0"&&ce.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return y("number","number");if(/\d/.test(dt))return ce.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),y("number","number");if(dt=="/")return ce.eat("*")?(Me.tokenize=P,P(ce,Me)):ce.eat("/")?(ce.skipToEnd(),y("comment","comment")):ws(ce,Me,1)?(g(ce),ce.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),y("regexp","string-2")):(ce.eat("="),y("operator","operator",ce.current()));if(dt=="`")return Me.tokenize=F,F(ce,Me);if(dt=="#"&&ce.peek()=="!")return ce.skipToEnd(),y("meta","meta");if(dt=="#"&&ce.eatWhile(f))return y("variable","property");if(dt=="<"&&ce.match("!--")||dt=="-"&&ce.match("->")&&!/\S/.test(ce.string.slice(0,ce.start)))return ce.skipToEnd(),y("comment","comment");if(p.test(dt))return(dt!=">"||!Me.lexical||Me.lexical.type!=">")&&(ce.eat("=")?(dt=="!"||dt=="=")&&ce.eat("="):/[<>*+\-|&?]/.test(dt)&&(ce.eat(dt),dt==">"&&ce.eat(dt))),dt=="?"&&ce.eat(".")?y("."):y("operator","operator",ce.current());if(f.test(dt)){ce.eatWhile(f);var Ot=ce.current();if(Me.lastType!="."){if(h.propertyIsEnumerable(Ot)){var Mt=h[Ot];return y(Mt.type,Mt.style,Ot)}if(Ot=="async"&&ce.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return y("async","keyword",Ot)}return y("variable","variable",Ot)}}function T(ce){return function(Me,dt){var Ot=!1,Mt;if(l&&Me.peek()=="@"&&Me.match(v))return dt.tokenize=C,y("jsonld-keyword","meta");for(;(Mt=Me.next())!=null&&!(Mt==ce&&!Ot);)Ot=!Ot&&Mt=="\\";return Ot||(dt.tokenize=C),y("string","string")}}function P(ce,Me){for(var dt=!1,Ot;Ot=ce.next();){if(Ot=="/"&&dt){Me.tokenize=C;break}dt=Ot=="*"}return y("comment","comment")}function F(ce,Me){for(var dt=!1,Ot;(Ot=ce.next())!=null;){if(!dt&&(Ot=="`"||Ot=="$"&&ce.eat("{"))){Me.tokenize=C;break}dt=!dt&&Ot=="\\"}return y("quasi","string-2",ce.current())}var I="([{}])";function k(ce,Me){Me.fatArrowAt&&(Me.fatArrowAt=null);var dt=ce.string.indexOf("=>",ce.start);if(!(dt<0)){if(d){var Ot=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(ce.string.slice(ce.start,dt));Ot&&(dt=Ot.index)}for(var Mt=0,Wn=!1,Zn=dt-1;Zn>=0;--Zn){var ro=ce.string.charAt(Zn),Or=I.indexOf(ro);if(Or>=0&&Or<3){if(!Mt){++Zn;break}if(--Mt==0){ro=="("&&(Wn=!0);break}}else if(Or>=3&&Or<6)++Mt;else if(f.test(ro))Wn=!0;else if(/["'\/`]/.test(ro))for(;;--Zn){if(Zn==0)return;var Ra=ce.string.charAt(Zn-1);if(Ra==ro&&ce.string.charAt(Zn-2)!="\\"){Zn--;break}}else if(Wn&&!Mt){++Zn;break}}Wn&&!Mt&&(Me.fatArrowAt=Zn)}}var M={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function V(ce,Me,dt,Ot,Mt,Wn){this.indented=ce,this.column=Me,this.type=dt,this.prev=Mt,this.info=Wn,Ot!=null&&(this.align=Ot)}function U(ce,Me){if(!c)return!1;for(var dt=ce.localVars;dt;dt=dt.next)if(dt.name==Me)return!0;for(var Ot=ce.context;Ot;Ot=Ot.prev)for(var dt=Ot.vars;dt;dt=dt.next)if(dt.name==Me)return!0}function $(ce,Me,dt,Ot,Mt){var Wn=ce.cc;for(Q.state=ce,Q.stream=Mt,Q.marked=null,Q.cc=Wn,Q.style=Me,ce.lexical.hasOwnProperty("align")||(ce.lexical.align=!0);;){var Zn=Wn.length?Wn.pop():u?ot:nt;if(Zn(dt,Ot)){for(;Wn.length&&Wn[Wn.length-1].lex;)Wn.pop()();return Q.marked?Q.marked:dt=="variable"&&U(ce,Ot)?"variable-2":Me}}}var Q={state:null,marked:null,cc:null};function J(){for(var ce=arguments.length-1;ce>=0;ce--)Q.cc.push(arguments[ce])}function R(){return J.apply(null,arguments),!0}function ne(ce,Me){for(var dt=Me;dt;dt=dt.next)if(dt.name==ce)return!0;return!1}function ue(ce){var Me=Q.state;if(Q.marked="def",!!c){if(Me.context){if(Me.lexical.info=="var"&&Me.context&&Me.context.block){var dt=we(ce,Me.context);if(dt!=null){Me.context=dt;return}}else if(!ne(ce,Me.localVars)){Me.localVars=new pe(ce,Me.localVars);return}}i.globalVars&&!ne(ce,Me.globalVars)&&(Me.globalVars=new pe(ce,Me.globalVars))}}function we(ce,Me){if(Me)if(Me.block){var dt=we(ce,Me.prev);return dt?dt==Me.prev?Me:new We(dt,Me.vars,!0):null}else return ne(ce,Me.vars)?Me:new We(Me.prev,new pe(ce,Me.vars),!1);else return null}function Be(ce){return ce=="public"||ce=="private"||ce=="protected"||ce=="abstract"||ce=="readonly"}function We(ce,Me,dt){this.prev=ce,this.vars=Me,this.block=dt}function pe(ce,Me){this.name=ce,this.next=Me}var _e=new pe("this",new pe("arguments",null));function Ce(){Q.state.context=new We(Q.state.context,Q.state.localVars,!1),Q.state.localVars=_e}function ve(){Q.state.context=new We(Q.state.context,Q.state.localVars,!0),Q.state.localVars=null}function Qe(){Q.state.localVars=Q.state.context.vars,Q.state.context=Q.state.context.prev}Qe.lex=!0;function se(ce,Me){var dt=function(){var Ot=Q.state,Mt=Ot.indented;if(Ot.lexical.type=="stat")Mt=Ot.lexical.indented;else for(var Wn=Ot.lexical;Wn&&Wn.type==")"&&Wn.align;Wn=Wn.prev)Mt=Wn.indented;Ot.lexical=new V(Mt,Q.stream.column(),ce,null,Ot.lexical,Me)};return dt.lex=!0,dt}function Te(){var ce=Q.state;ce.lexical.prev&&(ce.lexical.type==")"&&(ce.indented=ce.lexical.indented),ce.lexical=ce.lexical.prev)}Te.lex=!0;function je(ce){function Me(dt){return dt==ce?R():ce==";"||dt=="}"||dt==")"||dt=="]"?J():R(Me)}return Me}function nt(ce,Me){return ce=="var"?R(se("vardef",Me),ln,je(";"),Te):ce=="keyword a"?R(se("form"),be,nt,Te):ce=="keyword b"?R(se("form"),nt,Te):ce=="keyword d"?Q.stream.match(/^\s*$/,!1)?R():R(se("stat"),Ve,je(";"),Te):ce=="debugger"?R(je(";")):ce=="{"?R(se("}"),ve,De,Te,Qe):ce==";"?R():ce=="if"?(Q.state.lexical.info=="else"&&Q.state.cc[Q.state.cc.length-1]==Te&&Q.state.cc.pop()(),R(se("form"),be,nt,Te,$r)):ce=="function"?R(nr):ce=="for"?R(se("form"),ve,Fr,nt,Qe,Te):ce=="class"||d&&Me=="interface"?(Q.marked="keyword",R(se("form",ce=="class"?ce:Me),wa,Te)):ce=="variable"?d&&Me=="declare"?(Q.marked="keyword",R(nt)):d&&(Me=="module"||Me=="enum"||Me=="type")&&Q.stream.match(/^\s*\w/,!1)?(Q.marked="keyword",Me=="enum"?R(bs):Me=="type"?R(lo,je("operator"),St,je(";")):R(se("form"),Yt,je("{"),se("}"),De,Te,Te)):d&&Me=="namespace"?(Q.marked="keyword",R(se("form"),ot,nt,Te)):d&&Me=="abstract"?(Q.marked="keyword",R(nt)):R(se("stat"),st):ce=="switch"?R(se("form"),be,je("{"),se("}","switch"),ve,De,Te,Te,Qe):ce=="case"?R(ot,je(":")):ce=="default"?R(je(":")):ce=="catch"?R(se("form"),Ce,tt,nt,Te,Qe):ce=="export"?R(se("stat"),ar,Te):ce=="import"?R(se("stat"),Xo,Te):ce=="async"?R(nt):Me=="@"?R(ot,nt):J(se("stat"),ot,je(";"),Te)}function tt(ce){if(ce=="(")return R(yn,je(")"))}function ot(ce,Me){return me(ce,Me,!1)}function ye(ce,Me){return me(ce,Me,!0)}function be(ce){return ce!="("?J():R(se(")"),Ve,je(")"),Te)}function me(ce,Me,dt){if(Q.state.fatArrowAt==Q.stream.start){var Ot=dt?xe:Ae;if(ce=="(")return R(Ce,se(")"),G(yn,")"),Te,je("=>"),Ot,Qe);if(ce=="variable")return J(Ce,Yt,je("=>"),Ot,Qe)}var Mt=dt?K:Ie;return M.hasOwnProperty(ce)?R(Mt):ce=="function"?R(nr,Mt):ce=="class"||d&&Me=="interface"?(Q.marked="keyword",R(se("form"),Na,Te)):ce=="keyword c"||ce=="async"?R(dt?ye:ot):ce=="("?R(se(")"),Ve,je(")"),Te,Mt):ce=="operator"||ce=="spread"?R(dt?ye:ot):ce=="["?R(se("]"),na,Te,Mt):ce=="{"?He(Rt,"}",null,Mt):ce=="quasi"?J(te,Mt):ce=="new"?R(he(dt)):R()}function Ve(ce){return ce.match(/[;\}\)\],]/)?J():J(ot)}function Ie(ce,Me){return ce==","?R(Ve):K(ce,Me,!1)}function K(ce,Me,dt){var Ot=dt==!1?Ie:K,Mt=dt==!1?ot:ye;if(ce=="=>")return R(Ce,dt?xe:Ae,Qe);if(ce=="operator")return/\+\+|--/.test(Me)||d&&Me=="!"?R(Ot):d&&Me=="<"&&Q.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?R(se(">"),G(St,">"),Te,Ot):Me=="?"?R(ot,je(":"),Mt):R(Mt);if(ce=="quasi")return J(te,Ot);if(ce!=";"){if(ce=="(")return He(ye,")","call",Ot);if(ce==".")return R(kt,Ot);if(ce=="[")return R(se("]"),Ve,je("]"),Te,Ot);if(d&&Me=="as")return Q.marked="keyword",R(St,Ot);if(ce=="regexp")return Q.state.lastType=Q.marked="operator",Q.stream.backUp(Q.stream.pos-Q.stream.start-1),R(Mt)}}function te(ce,Me){return ce!="quasi"?J():Me.slice(Me.length-2)!="${"?R(te):R(Ve,ee)}function ee(ce){if(ce=="}")return Q.marked="string-2",Q.state.tokenize=F,R(te)}function Ae(ce){return k(Q.stream,Q.state),J(ce=="{"?nt:ot)}function xe(ce){return k(Q.stream,Q.state),J(ce=="{"?nt:ye)}function he(ce){return function(Me){return Me=="."?R(ce?Ee:Pe):Me=="variable"&&d?R(Ge,ce?K:Ie):J(ce?ye:ot)}}function Pe(ce,Me){if(Me=="target")return Q.marked="keyword",R(Ie)}function Ee(ce,Me){if(Me=="target")return Q.marked="keyword",R(K)}function st(ce){return ce==":"?R(Te,nt):J(Ie,je(";"),Te)}function kt(ce){if(ce=="variable")return Q.marked="property",R()}function Rt(ce,Me){if(ce=="async")return Q.marked="property",R(Rt);if(ce=="variable"||Q.style=="keyword"){if(Q.marked="property",Me=="get"||Me=="set")return R(Y);var dt;return d&&Q.state.fatArrowAt==Q.stream.start&&(dt=Q.stream.match(/^\s*:\s*/,!1))&&(Q.state.fatArrowAt=Q.stream.pos+dt[0].length),R(ie)}else{if(ce=="number"||ce=="string")return Q.marked=l?"property":Q.style+" property",R(ie);if(ce=="jsonld-keyword")return R(ie);if(d&&Be(Me))return Q.marked="keyword",R(Rt);if(ce=="[")return R(ot,rt,je("]"),ie);if(ce=="spread")return R(ye,ie);if(Me=="*")return Q.marked="keyword",R(Rt);if(ce==":")return J(ie)}}function Y(ce){return ce!="variable"?J(ie):(Q.marked="property",R(nr))}function ie(ce){if(ce==":")return R(ye);if(ce=="(")return J(nr)}function G(ce,Me,dt){function Ot(Mt,Wn){if(dt?dt.indexOf(Mt)>-1:Mt==","){var Zn=Q.state.lexical;return Zn.info=="call"&&(Zn.pos=(Zn.pos||0)+1),R(function(ro,Or){return ro==Me||Or==Me?J():J(ce)},Ot)}return Mt==Me||Wn==Me?R():dt&&dt.indexOf(";")>-1?J(ce):R(je(Me))}return function(Mt,Wn){return Mt==Me||Wn==Me?R():J(ce,Ot)}}function He(ce,Me,dt){for(var Ot=3;Ot<arguments.length;Ot++)Q.cc.push(arguments[Ot]);return R(se(Me,dt),G(ce,Me),Te)}function De(ce){return ce=="}"?R():J(nt,De)}function rt(ce,Me){if(d){if(ce==":")return R(St);if(Me=="?")return R(rt)}}function mt(ce,Me){if(d&&(ce==":"||Me=="in"))return R(St)}function ft(ce){if(d&&ce==":")return Q.stream.match(/^\s*\w+\s+is\b/,!1)?R(ot,gt,St):R(St)}function gt(ce,Me){if(Me=="is")return Q.marked="keyword",R()}function St(ce,Me){if(Me=="keyof"||Me=="typeof"||Me=="infer"||Me=="readonly")return Q.marked="keyword",R(Me=="typeof"?ye:St);if(ce=="variable"||Me=="void")return Q.marked="type",R(Se);if(Me=="|"||Me=="&")return R(St);if(ce=="string"||ce=="number"||ce=="atom")return R(Se);if(ce=="[")return R(se("]"),G(St,"]",","),Te,Se);if(ce=="{")return R(se("}"),Wt,Te,Se);if(ce=="(")return R(G(fe,")"),Tt,Se);if(ce=="<")return R(G(St,">"),St);if(ce=="quasi")return J(mn,Se)}function Tt(ce){if(ce=="=>")return R(St)}function Wt(ce){return ce.match(/[\}\)\]]/)?R():ce==","||ce==";"?R(Wt):J(qt,Wt)}function qt(ce,Me){if(ce=="variable"||Q.style=="keyword")return Q.marked="property",R(qt);if(Me=="?"||ce=="number"||ce=="string")return R(qt);if(ce==":")return R(St);if(ce=="[")return R(je("variable"),mt,je("]"),qt);if(ce=="(")return J(Ln,qt);if(!ce.match(/[;\}\)\],]/))return R()}function mn(ce,Me){return ce!="quasi"?J():Me.slice(Me.length-2)!="${"?R(mn):R(St,dr)}function dr(ce){if(ce=="}")return Q.marked="string-2",Q.state.tokenize=F,R(mn)}function fe(ce,Me){return ce=="variable"&&Q.stream.match(/^\s*[?:]/,!1)||Me=="?"?R(fe):ce==":"?R(St):ce=="spread"?R(fe):J(St)}function Se(ce,Me){if(Me=="<")return R(se(">"),G(St,">"),Te,Se);if(Me=="|"||ce=="."||Me=="&")return R(St);if(ce=="[")return R(St,je("]"),Se);if(Me=="extends"||Me=="implements")return Q.marked="keyword",R(St);if(Me=="?")return R(St,je(":"),St)}function Ge(ce,Me){if(Me=="<")return R(se(">"),G(St,">"),Te,Se)}function yt(){return J(St,Ft)}function Ft(ce,Me){if(Me=="=")return R(St)}function ln(ce,Me){return Me=="enum"?(Q.marked="keyword",R(bs)):J(Yt,rt,Vr,ys)}function Yt(ce,Me){if(d&&Be(Me))return Q.marked="keyword",R(Yt);if(ce=="variable")return ue(Me),R();if(ce=="spread")return R(Yt);if(ce=="[")return He(Un,"]");if(ce=="{")return He(Gr,"}")}function Gr(ce,Me){return ce=="variable"&&!Q.stream.match(/^\s*:/,!1)?(ue(Me),R(Vr)):(ce=="variable"&&(Q.marked="property"),ce=="spread"?R(Yt):ce=="}"?J():ce=="["?R(ot,je("]"),je(":"),Gr):R(je(":"),Yt,Vr))}function Un(){return J(Yt,Vr)}function Vr(ce,Me){if(Me=="=")return R(ye)}function ys(ce){if(ce==",")return R(ln)}function $r(ce,Me){if(ce=="keyword b"&&Me=="else")return R(se("form","else"),nt,Te)}function Fr(ce,Me){if(Me=="await")return R(Fr);if(ce=="(")return R(se(")"),Fo,Te)}function Fo(ce){return ce=="var"?R(ln,Jn):ce=="variable"?R(Jn):J(Jn)}function Jn(ce,Me){return ce==")"?R():ce==";"?R(Jn):Me=="in"||Me=="of"?(Q.marked="keyword",R(ot,Jn)):J(ot,Jn)}function nr(ce,Me){if(Me=="*")return Q.marked="keyword",R(nr);if(ce=="variable")return ue(Me),R(nr);if(ce=="(")return R(Ce,se(")"),G(yn,")"),Te,ft,nt,Qe);if(d&&Me=="<")return R(se(">"),G(yt,">"),Te,nr)}function Ln(ce,Me){if(Me=="*")return Q.marked="keyword",R(Ln);if(ce=="variable")return ue(Me),R(Ln);if(ce=="(")return R(Ce,se(")"),G(yn,")"),Te,ft,Qe);if(d&&Me=="<")return R(se(">"),G(yt,">"),Te,Ln)}function lo(ce,Me){if(ce=="keyword"||ce=="variable")return Q.marked="type",R(lo);if(Me=="<")return R(se(">"),G(yt,">"),Te)}function yn(ce,Me){return Me=="@"&&R(ot,yn),ce=="spread"?R(yn):d&&Be(Me)?(Q.marked="keyword",R(yn)):d&&ce=="this"?R(rt,Vr):J(Yt,rt,Vr)}function Na(ce,Me){return ce=="variable"?wa(ce,Me):uo(ce,Me)}function wa(ce,Me){if(ce=="variable")return ue(Me),R(uo)}function uo(ce,Me){if(Me=="<")return R(se(">"),G(yt,">"),Te,uo);if(Me=="extends"||Me=="implements"||d&&ce==",")return Me=="implements"&&(Q.marked="keyword"),R(d?St:ot,uo);if(ce=="{")return R(se("}"),Do,Te)}function Do(ce,Me){if(ce=="async"||ce=="variable"&&(Me=="static"||Me=="get"||Me=="set"||d&&Be(Me))&&Q.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return Q.marked="keyword",R(Do);if(ce=="variable"||Q.style=="keyword")return Q.marked="property",R(ta,Do);if(ce=="number"||ce=="string")return R(ta,Do);if(ce=="[")return R(ot,rt,je("]"),ta,Do);if(Me=="*")return Q.marked="keyword",R(Do);if(d&&ce=="(")return J(Ln,Do);if(ce==";"||ce==",")return R(Do);if(ce=="}")return R();if(Me=="@")return R(ot,Do)}function ta(ce,Me){if(Me=="!"||Me=="?")return R(ta);if(ce==":")return R(St,Vr);if(Me=="=")return R(ye);var dt=Q.state.lexical.prev,Ot=dt&&dt.info=="interface";return J(Ot?Ln:nr)}function ar(ce,Me){return Me=="*"?(Q.marked="keyword",R(Vn,je(";"))):Me=="default"?(Q.marked="keyword",R(ot,je(";"))):ce=="{"?R(G(tn,"}"),Vn,je(";")):J(nt)}function tn(ce,Me){if(Me=="as")return Q.marked="keyword",R(je("variable"));if(ce=="variable")return J(ye,tn)}function Xo(ce){return ce=="string"?R():ce=="("?J(ot):ce=="."?J(Ie):J(co,mi,Vn)}function co(ce,Me){return ce=="{"?He(co,"}"):(ce=="variable"&&ue(Me),Me=="*"&&(Q.marked="keyword"),R(rr))}function mi(ce){if(ce==",")return R(co,mi)}function rr(ce,Me){if(Me=="as")return Q.marked="keyword",R(co)}function Vn(ce,Me){if(Me=="from")return Q.marked="keyword",R(ot)}function na(ce){return ce=="]"?R():J(G(ye,"]"))}function bs(){return J(se("form"),Yt,je("{"),se("}"),G(Et,"}"),Te,Te)}function Et(){return J(Yt,Vr)}function Sn(ce,Me){return ce.lastType=="operator"||ce.lastType==","||p.test(Me.charAt(0))||/[,.]/.test(Me.charAt(0))}function ws(ce,Me,dt){return Me.tokenize==C&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Me.lastType)||Me.lastType=="quasi"&&/\{\s*$/.test(ce.string.slice(0,ce.pos-(dt||0)))}return{startState:function(ce){var Me={tokenize:C,lastType:"sof",cc:[],lexical:new V((ce||0)-a,0,"block",!1),localVars:i.localVars,context:i.localVars&&new We(null,null,!1),indented:ce||0};return i.globalVars&&typeof i.globalVars=="object"&&(Me.globalVars=i.globalVars),Me},token:function(ce,Me){if(ce.sol()&&(Me.lexical.hasOwnProperty("align")||(Me.lexical.align=!1),Me.indented=ce.indentation(),k(ce,Me)),Me.tokenize!=P&&ce.eatSpace())return null;var dt=Me.tokenize(ce,Me);return _=="comment"?dt:(Me.lastType=_=="operator"&&(S=="++"||S=="--")?"incdec":_,$(Me,dt,_,S,ce))},indent:function(ce,Me){if(ce.tokenize==P||ce.tokenize==F)return r.Pass;if(ce.tokenize!=C)return 0;var dt=Me&&Me.charAt(0),Ot=ce.lexical,Mt;if(!/^\s*else\b/.test(Me))for(var Wn=ce.cc.length-1;Wn>=0;--Wn){var Zn=ce.cc[Wn];if(Zn==Te)Ot=Ot.prev;else if(Zn!=$r&&Zn!=Qe)break}for(;(Ot.type=="stat"||Ot.type=="form")&&(dt=="}"||(Mt=ce.cc[ce.cc.length-1])&&(Mt==Ie||Mt==K)&&!/^[,\.=+\-*:?[\(]/.test(Me));)Ot=Ot.prev;s&&Ot.type==")"&&Ot.prev.type=="stat"&&(Ot=Ot.prev);var ro=Ot.type,Or=dt==ro;return ro=="vardef"?Ot.indented+(ce.lastType=="operator"||ce.lastType==","?Ot.info.length+1:0):ro=="form"&&dt=="{"?Ot.indented:ro=="form"?Ot.indented+a:ro=="stat"?Ot.indented+(Sn(ce,Me)?s||a:0):Ot.info=="switch"&&!Or&&i.doubleIndentSwitch!=!1?Ot.indented+(/^(?:case|default)\b/.test(Me)?a:2*a):Ot.align?Ot.column+(Or?0:1):Ot.indented+(Or?0:a)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:l,jsonMode:u,expressionAllowed:ws,skipExpression:function(ce){$(ce,"atom","atom","true",new r.StringStream("",2,null))}}}),r.registerHelper("wordChars","javascript",/[\w$]/),r.defineMIME("text/javascript","javascript"),r.defineMIME("text/ecmascript","javascript"),r.defineMIME("application/javascript","javascript"),r.defineMIME("application/x-javascript","javascript"),r.defineMIME("application/ecmascript","javascript"),r.defineMIME("application/json",{name:"javascript",json:!0}),r.defineMIME("application/x-json",{name:"javascript",json:!0}),r.defineMIME("application/manifest+json",{name:"javascript",json:!0}),r.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),r.defineMIME("text/typescript",{name:"javascript",typescript:!0}),r.defineMIME("application/typescript",{name:"javascript",typescript:!0})})}),9701:((n,t,e)=>{(function(r){r(e(4408))})(function(r){var o={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};r.defineMode("xml",function(a,s){var l=a.indentUnit,u={},c=s.htmlMode?o:i;for(var d in c)u[d]=c[d];for(var d in s)u[d]=s[d];var f,h;function p(R,ne){function ue(We){return ne.tokenize=We,We(R,ne)}var we=R.next();if(we=="<")return R.eat("!")?R.eat("[")?R.match("CDATA[")?ue(_("atom","]]>")):null:R.match("--")?ue(_("comment","-->")):R.match("DOCTYPE",!0,!0)?(R.eatWhile(/[\w\._\-]/),ue(S(1))):null:R.eat("?")?(R.eatWhile(/[\w\._\-]/),ne.tokenize=_("meta","?>"),"meta"):(f=R.eat("/")?"closeTag":"openTag",ne.tokenize=v,"tag bracket");if(we=="&"){var Be;return R.eat("#")?R.eat("x")?Be=R.eatWhile(/[a-fA-F\d]/)&&R.eat(";"):Be=R.eatWhile(/[\d]/)&&R.eat(";"):Be=R.eatWhile(/[\w\.\-:]/)&&R.eat(";"),Be?"atom":"error"}else return R.eatWhile(/[^&<]/),null}p.isInText=!0;function v(R,ne){var ue=R.next();if(ue==">"||ue=="/"&&R.eat(">"))return ne.tokenize=p,f=ue==">"?"endTag":"selfcloseTag","tag bracket";if(ue=="=")return f="equals",null;if(ue=="<"){ne.tokenize=p,ne.state=F,ne.tagName=ne.tagStart=null;var we=ne.tokenize(R,ne);return we?we+" tag error":"tag error"}else return/[\'\"]/.test(ue)?(ne.tokenize=g(ue),ne.stringStartCol=R.column(),ne.tokenize(R,ne)):(R.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function g(R){var ne=function(ue,we){for(;!ue.eol();)if(ue.next()==R){we.tokenize=v;break}return"string"};return ne.isInAttribute=!0,ne}function _(R,ne){return function(ue,we){for(;!ue.eol();){if(ue.match(ne)){we.tokenize=p;break}ue.next()}return R}}function S(R){return function(ne,ue){for(var we;(we=ne.next())!=null;){if(we=="<")return ue.tokenize=S(R+1),ue.tokenize(ne,ue);if(we==">")if(R==1){ue.tokenize=p;break}else return ue.tokenize=S(R-1),ue.tokenize(ne,ue)}return"meta"}}function y(R){return R&&R.toLowerCase()}function C(R,ne,ue){this.prev=R.context,this.tagName=ne||"",this.indent=R.indented,this.startOfLine=ue,(u.doNotIndent.hasOwnProperty(ne)||R.context&&R.context.noIndent)&&(this.noIndent=!0)}function T(R){R.context&&(R.context=R.context.prev)}function P(R,ne){for(var ue;;){if(!R.context||(ue=R.context.tagName,!u.contextGrabbers.hasOwnProperty(y(ue))||!u.contextGrabbers[y(ue)].hasOwnProperty(y(ne))))return;T(R)}}function F(R,ne,ue){return R=="openTag"?(ue.tagStart=ne.column(),I):R=="closeTag"?k:F}function I(R,ne,ue){return R=="word"?(ue.tagName=ne.current(),h="tag",U):u.allowMissingTagName&&R=="endTag"?(h="tag bracket",U(R,ne,ue)):(h="error",I)}function k(R,ne,ue){if(R=="word"){var we=ne.current();return ue.context&&ue.context.tagName!=we&&u.implicitlyClosed.hasOwnProperty(y(ue.context.tagName))&&T(ue),ue.context&&ue.context.tagName==we||u.matchClosing===!1?(h="tag",M):(h="tag error",V)}else return u.allowMissingTagName&&R=="endTag"?(h="tag bracket",M(R,ne,ue)):(h="error",V)}function M(R,ne,ue){return R!="endTag"?(h="error",M):(T(ue),F)}function V(R,ne,ue){return h="error",M(R,ne,ue)}function U(R,ne,ue){if(R=="word")return h="attribute",$;if(R=="endTag"||R=="selfcloseTag"){var we=ue.tagName,Be=ue.tagStart;return ue.tagName=ue.tagStart=null,R=="selfcloseTag"||u.autoSelfClosers.hasOwnProperty(y(we))?P(ue,we):(P(ue,we),ue.context=new C(ue,we,Be==ue.indented)),F}return h="error",U}function $(R,ne,ue){return R=="equals"?Q:(u.allowMissing||(h="error"),U(R,ne,ue))}function Q(R,ne,ue){return R=="string"?J:R=="word"&&u.allowUnquoted?(h="string",U):(h="error",U(R,ne,ue))}function J(R,ne,ue){return R=="string"?J:U(R,ne,ue)}return{startState:function(R){var ne={tokenize:p,state:F,indented:R||0,tagName:null,tagStart:null,context:null};return R!=null&&(ne.baseIndent=R),ne},token:function(R,ne){if(!ne.tagName&&R.sol()&&(ne.indented=R.indentation()),R.eatSpace())return null;f=null;var ue=ne.tokenize(R,ne);return(ue||f)&&ue!="comment"&&(h=null,ne.state=ne.state(f||ue,R,ne),h&&(ue=h=="error"?ue+" error":h)),ue},indent:function(R,ne,ue){var we=R.context;if(R.tokenize.isInAttribute)return R.tagStart==R.indented?R.stringStartCol+1:R.indented+l;if(we&&we.noIndent)return r.Pass;if(R.tokenize!=v&&R.tokenize!=p)return ue?ue.match(/^(\s*)/)[0].length:0;if(R.tagName)return u.multilineTagIndentPastTag!==!1?R.tagStart+R.tagName.length+2:R.tagStart+l*(u.multilineTagIndentFactor||1);if(u.alignCDATA&&/<!\[CDATA\[/.test(ne))return 0;var Be=ne&&/^<(\/)?([\w_:\.-]*)/.exec(ne);if(Be&&Be[1])for(;we;)if(we.tagName==Be[2]){we=we.prev;break}else if(u.implicitlyClosed.hasOwnProperty(y(we.tagName)))we=we.prev;else break;else if(Be)for(;we;){var We=u.contextGrabbers[y(we.tagName)];if(We&&We.hasOwnProperty(y(Be[2])))we=we.prev;else break}for(;we&&we.prev&&!we.startOfLine;)we=we.prev;return we?we.indent+l:R.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:u.htmlMode?"html":"xml",helperType:u.htmlMode?"html":"xml",skipAttribute:function(R){R.state==Q&&(R.state=U)},xmlCurrentTag:function(R){return R.tagName?{name:R.tagName,close:R.type=="closeTag"}:null},xmlCurrentContext:function(R){for(var ne=[],ue=R.context;ue;ue=ue.prev)ne.push(ue.tagName);return ne.reverse()}}}),r.defineMIME("text/xml","xml"),r.defineMIME("application/xml","xml"),r.mimeModes.hasOwnProperty("text/html")||r.defineMIME("text/html",{name:"xml",htmlMode:!0})})}),7058:((n,t,e)=>{e.d(t,{A:()=>a});var r=e(9156),o=(function(){var s=function(l,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])},s(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(l,u);function c(){this.constructor=l}l.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}})(),i=(function(s){o(l,s);function l(u,c,d){var f=s.call(this,c,d)||this;return f._module=u,f}return Object.defineProperty(l.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),l})(r.Kx);const a=i}),179:((n,t,e)=>{e.d(t,{A:()=>s,F:()=>i});var r=e(7058),o=(function(){var l=function(u,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(d[h]=f[h])},l(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}})(),i;(function(l){l.Select="select",l.Hover="hover",l.Spacing="spacing",l.Target="target",l.Resize="resize"})(i||(i={}));var a=(function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(u.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"component",{get:function(){var c,d=this.get("component");return d||((c=this.get("componentView"))===null||c===void 0?void 0:c.model)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"componentView",{get:function(){var c,d=this.get("componentView");return d||((c=this.get("component"))===null||c===void 0?void 0:c.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"el",{get:function(){var c;return(c=this.componentView)===null||c===void 0?void 0:c.el},enumerable:!1,configurable:!0}),u.prototype.getBoxRect=function(c){var d=this,f=d.el,h=d.em,p=h.Canvas.getCanvasView(),v=this.get("boxRect");return v||(f&&p?p.getElBoxRect(f,c):{x:0,y:0,width:0,height:0})},u.prototype.getStyle=function(c){c===void 0&&(c={});var d=c.boxRect||this.getBoxRect(c),f=d.width,h=d.height,p=d.x,v=d.y;return{width:"".concat(f,"px"),height:"".concat(h,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(p,"px ").concat(v,"px")}},u.prototype.isType=function(c){return this.type===c},u})(r.A);const s=a}),1738:((n,t,e)=>{e.d(t,{A:()=>o});var r;(function(i){i.run="command:run",i.runCommand="command:run:",i.runBeforeCommand="command:run:before:",i.abort="command:abort:",i.stop="command:stop",i.stopCommand="command:stop:",i.stopBeforeCommand="command:stop:before:",i.call="command:call",i.callCommand="command:call:"})(r||(r={}));const o=r}),9484:((n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(o){o.Components.clear(),o.Css.clear()}}}),9516:((n,t,e)=>{e.r(t),e.d(t,{default:()=>a});var r=e(5706),o=e(9966),i=e(6294);const a={run:function(s){(0,r.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=s,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(s){this.toggleMove(),this.disableDragger()},onKeyUp:function(s){(0,i.Ch)(s)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(s){this.toggleDragger(1,s)},disableDragger:function(s){this.toggleDragger(0,s)},toggleDragger:function(s,l){var u=this,c=u.canvasModel,d=u.em,f=this.dragger,h=s?"add":"remove";this.getCanvas().classList[h]("".concat(this.ppfx,"is__grabbing")),f||(f=new o.A({getPosition:function(){return{x:c.get("x"),y:c.get("y")}},setPosition:function(p){var v=p.x,g=p.y;c.set({x:v,y:g})},onStart:function(p,v){d.trigger("canvas:move:start",v)},onDrag:function(p,v){d.trigger("canvas:move",v)},onEnd:function(p,v){d.trigger("canvas:move:end",v)}}),this.dragger=f),s?f.start(l):f.stop()},toggleMove:function(s){var l=this.ppfx,u=s?"add":"remove",c=s?"on":"off",d={on:i.on,off:i.AU},f=this.getCanvas(),h=["".concat(l,"is__grab")];!s&&h.push("".concat(l,"is__grabbing")),h.forEach(function(p){return f.classList[u](p)}),d[c](document,"keyup",this.onKeyUp),d[c](f,"mousedown",this.enableDragger),d[c](document,"mouseup",this.disableDragger)}}}),9946:((n,t,e)=>{e.r(t),e.d(t,{default:()=>u,defineCommand:()=>s});var r=e(9156),o=e(1738),i=(function(){var c=function(d,f){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(h[v]=p[v])},c(d,f)};return function(d,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");c(d,f);function h(){this.constructor=d}d.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}})(),a=function(){return a=Object.assign||function(c){for(var d,f=1,h=arguments.length;f<h;f++){d=arguments[f];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(c[p]=d[p])}return c},a.apply(this,arguments)};function s(c){return c}var l=(function(c){i(d,c);function d(f){var h=c.call(this,0)||this;h.config=f||{},h.em=h.config.em||{};var p=h.config.stylePrefix;return h.pfx=p,h.ppfx=h.config.pStylePrefix,h.hoverClass="".concat(p,"hover"),h.badgeClass="".concat(p,"badge"),h.plhClass="".concat(p,"placeholder"),h.freezClass="".concat(h.ppfx,"freezed"),h.canvas=h.em.Canvas,h.init(h.config),h}return d.prototype.onFrameScroll=function(f){},d.prototype.getCanvas=function(){return this.canvas.getElement()},d.prototype.getCanvasBody=function(){return this.canvas.getBody()},d.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},d.prototype.offset=function(f){var h=f.getBoundingClientRect();return{top:h.top+f.ownerDocument.body.scrollTop,left:h.left+f.ownerDocument.body.scrollLeft}},d.prototype.init=function(f){},d.prototype.callRun=function(f,h){h===void 0&&(h={});var p=this.id;if(f.trigger("".concat(o.A.runBeforeCommand).concat(p),{options:h}),h.abort){f.trigger("".concat(o.A.abort).concat(p),{options:h});return}var v=h.sender||f,g=this.run(f,v,h),_={id:p,result:g,options:h},S=a(a({},_),{type:"run"});return this.noStop||(f.Commands.active[p]=g),f.trigger("".concat(o.A.runCommand).concat(p),_),f.trigger("".concat(o.A.callCommand).concat(p),S),f.trigger(o.A.run,_),f.trigger(o.A.call,S),g},d.prototype.callStop=function(f,h){h===void 0&&(h={});var p=this.id,v=h.sender||f;f.trigger("".concat(o.A.stopBeforeCommand).concat(p),{options:h});var g=this.stop(f,v,h),_={id:p,result:g,options:h},S=a(a({},_),{type:"stop"});return delete f.Commands.active[p],f.trigger("".concat(o.A.stopCommand).concat(p),_),f.trigger("".concat(o.A.callCommand).concat(p),S),f.trigger(o.A.stop,_),f.trigger(o.A.call,S),g},d.prototype.stopCommand=function(f){this.em.Commands.stop(this.id,f)},d.prototype.run=function(f,h,p){},d.prototype.stop=function(f,h,p){},d})(r.Kx);const u=l}),7801:((n,t,e)=>{e.r(t),e.d(t,{default:()=>a});var r=e(5706),o=function(s,l,u){if(u||arguments.length===2)for(var c=0,d=l.length,f;c<d;c++)(f||!(c in l))&&(f||(f=Array.prototype.slice.call(l,0,c)),f[c]=l[c]);return s.concat(f||Array.prototype.slice.call(l))},i={run:function(s,l,u){var c=this;u===void 0&&(u={});var d=[],f=u.component||s.getSelectedAll();return f=(0,r.isArray)(f)?o([],f,!0):[f],f.filter(Boolean).forEach(function(h){var p,v;if(!h.get("removable"))return c.em.logWarning("The element is not removable",{component:h});d.push(h);var g=((v=(p=h.delegate)===null||p===void 0?void 0:p.remove)===null||v===void 0?void 0:v.call(p,h))||h;g.remove()}),s.selectRemove(d),d}};const a=i}),4864:((n,t,e)=>{e.r(t),e.d(t,{default:()=>l});var r=e(5706),o=e(9966),i=e(1166),a=function(){return a=Object.assign||function(u){for(var c,d=1,f=arguments.length;d<f;d++){c=arguments[d];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(u[h]=c[h])}return u},a.apply(this,arguments)},s="dmode";const l={run:function(u,c,d){var f=this,h,p;if(d===void 0&&(d={}),(0,r.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget"),!d.target)throw new Error("Target option is required");var v=a({doc:(h=d.target.getEl())===null||h===void 0?void 0:h.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){var _;return(_=f.guidesStatic)!==null&&_!==void 0?_:[]},guidesTarget:function(){var _;return(_=f.guidesTarget)!==null&&_!==void 0?_:[]}},(p=d.dragger)!==null&&p!==void 0?p:{});this.setupGuides(),this.opts=d,this.editor=u,this.em=u.getModel(),this.target=d.target,this.isTran=d.mode=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var g=this.dragger;return g?g.setOptions(v):(g=new o.A(v),this.dragger=g),d.event&&g.start(d.event),this.toggleDrag(!0),this.em.trigger("".concat(s,":start"),this.getEventOpts()),g},getEventOpts:function(){var u,c,d=(c=(u=this.guidesTarget)===null||u===void 0?void 0:u.filter(function(f){return f.active}))!==null&&c!==void 0?c:[];return{mode:this.opts.mode,component:this.target,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic,guidesMatched:this.getGuidesMatched(d),command:this}},stop:function(){this.toggleDrag()},setupGuides:function(){var u;((u=this.guides)!==null&&u!==void 0?u:[]).forEach(function(c){var d,f=c.guide;(d=f==null?void 0:f.parentNode)===null||d===void 0||d.removeChild(f)}),this.guides=[]},getGuidesContainer:function(){var u=this,c,d,f,h,p=this.guidesEl;if(!p){var v=this,g=v.editor,_=v.em,S=v.opts,y=(c=g.getConfig().stylePrefix)!==null&&c!==void 0?c:"",C=document.createElement("div"),T=document.createElement("div"),P='<div class="'.concat(y,"guide-info__line ").concat(y,`danger-bg">
        <div class="`).concat(y,"guide-info__content ").concat(y,`danger-color"></div>
      </div>`);p=document.createElement("div"),p.className="".concat(y,"guides"),C.className="".concat(y,"guide-info ").concat(y,"guide-info__x"),T.className="".concat(y,"guide-info ").concat(y,"guide-info__y"),C.innerHTML=P,T.innerHTML=P,p.appendChild(C),p.appendChild(T),(d=g.Canvas.getGlobalToolsEl())===null||d===void 0||d.appendChild(p),this.guidesEl=p,this.elGuideInfoX=C,this.elGuideInfoY=T,this.elGuideInfoContentX=(f=C.querySelector(".".concat(y,"guide-info__content")))!==null&&f!==void 0?f:void 0,this.elGuideInfoContentY=(h=T.querySelector(".".concat(y,"guide-info__content")))!==null&&h!==void 0?h:void 0,_.on("canvas:update frame:scroll",(0,r.debounce)(function(){var F;u.updateGuides(),S.debug&&((F=u.guides)===null||F===void 0||F.forEach(function(I){return u.renderGuide(I)}))},200))}return p},getGuidesStatic:function(){var u=this,c=[],d=this.target.getEl(),f=d==null?void 0:d.parentElement;return f?((0,r.each)(f.children,function(h){return c=c.concat(d!==h?u.getElementGuides(h):[])}),c.concat(this.getElementGuides(f))):[]},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(u){var c=this,d,f,h,p=(d=u??this.guides)!==null&&d!==void 0?d:[];p.forEach(function(v){var g=v.origin,_=f===g?h:c.getElementPos(g);f=g,h=_,(0,r.each)(c.getGuidePosUpdate(v,_),function(S,y){v[y]=S}),v.originRect=_})},getGuidePosUpdate:function(u,c){var d={},f=c.top,h=c.height,p=c.left,v=c.width;switch(u.type){case"t":d.y=f;break;case"b":d.y=f+h;break;case"l":d.x=p;break;case"r":d.x=p+v;break;case"x":d.x=p+v/2;break;case"y":d.y=f+h/2;break}return d},renderGuide:function(u){var c,d;if(!this.opts.skipGuidesRender){var f=(c=u.guide)!==null&&c!==void 0?c:document.createElement("div"),h="px",p=u.active?2:1;if(f.style.cssText="position: absolute; background-color: ".concat(u.active?"green":"red",";"),!f.children.length){var v=document.createElement("div");v.style.cssText="position: absolute; color: red; padding: 5px; top: 0; left: 0;",f.appendChild(v)}return u.y?(f.style.width="100%",f.style.height="".concat(p).concat(h),f.style.top="".concat(u.y).concat(h),f.style.left="0"):(f.style.width="".concat(p).concat(h),f.style.height="100%",f.style.left="".concat(u.x).concat(h),f.style.top="0".concat(h)),!u.guide&&((d=this.guidesContainer)===null||d===void 0||d.appendChild(f)),f}},getElementPos:function(u){return this.editor.Canvas.getElementPos(u,{noScroll:1})},getElementGuides:function(u){var c=this,d=this.opts,f=u,h=this.getElementPos(u),p=(0,i.getComponentModel)(u),v=(0,i.getComponentView)(u),g=h.top,_=h.height,S=h.left,y=h.width,C=[{type:"t",y:g},{type:"b",y:g+_},{type:"l",x:S},{type:"r",x:S+y},{type:"x",x:S+y/2},{type:"y",y:g+_/2}],T=C.map(function(P){var F=d.debug?c.renderGuide(P):void 0;return a(a({},P),{component:p,componentView:v,componentEl:f,origin:f,componentElRect:h,originRect:h,guideEl:F,guide:F})});return T.forEach(function(P){var F;return(F=c.guides)===null||F===void 0?void 0:F.push(P)}),T},getTranslate:function(u,c){c===void 0&&(c="x");var d=0;return(u||"").split(" ").forEach(function(f){var h=f.trim(),p="translate".concat(c.toUpperCase(),"(");h.indexOf(p)===0&&(d=parseFloat(h.replace(p,"")))}),d},setTranslate:function(u,c,d){var f="translate".concat(c.toUpperCase(),"("),h="".concat(f).concat(d,")"),p=(u||"").split(" ").map(function(v){var g=v.trim();return g.indexOf(f)===0&&(v=h),v}).join(" ");return p.indexOf(f)<0&&(p+=" ".concat(h)),p},getPosition:function(){var u=this,c=u.target,d=u.isTran,f=c.getStyle(),h=f.transform,p=f.left,v=f.top,g=0,_=0;return d&&h?(g=this.getTranslate(h),_=this.getTranslate(h,"y")):(g=parseFloat(p??"0"),_=parseFloat(v??"0")),{x:g,y:_}},setPosition:function(u){var c,d,f=u.x,h=u.y,p=u.end,v=u.position,g=u.width,_=u.height,S=this,y=S.target,C=S.isTran,T=S.em,P=S.opts,F="px",I=!p,k="".concat(parseInt("".concat(f),10)).concat(F),M="".concat(parseInt("".concat(h),10)).concat(F),V={};if(C){var U=(d=(c=y.getStyle())===null||c===void 0?void 0:c.transform)!==null&&d!==void 0?d:"";U=this.setTranslate(U,"x",k),U=this.setTranslate(U,"y",M),V={transform:U,__p:I}}else{var $={position:v,width:g,height:_},Q={left:k,top:M,__p:I};(0,r.keys)($).forEach(function(J){var R=$[J];R&&(Q[J]=R)}),V=Q}P.addStyle?P.addStyle({component:y,styles:V,partial:!p}):y.addStyle(V,{avoidStore:!p}),T.Styles.__emitCmpStyleUpdate(V,{components:T.getSelected()})},_getDragData:function(){var u=this.target;return{target:u,parent:u.parent(),index:u.index()}},onStart:function(u){var c,d=this,f=d.target,h=d.editor,p=d.isTran,v=d.opts,g=h.Canvas,_=f.getStyle(),S="absolute",y=[S,"relative"];if((c=v.onStart)===null||c===void 0||c.call(v,this._getDragData()),!p){if(_.position!==S){var C=g.offset(f.getEl()),T=C.left,P=C.top,F=C.width,I=C.height,k=f.parent(),M=null;do{var V=k==null?void 0:k.getStyle(),U=V==null?void 0:V.position;U&&(M=y.indexOf(U)>=0?k:null),k=k==null?void 0:k.parent()}while(k&&!M);if(v.center){var $=g.getMouseRelativeCanvas(u),Q=$.x,J=$.y;T=Q,P=J}else if(M){var R=g.offset(M.getEl());T=T-R.left,P=P-R.top}this.setPosition({x:T,y:P,width:"".concat(F,"px"),height:"".concat(I,"px"),position:S})}this.guidesStatic=this.getGuidesStatic()}},onDrag:function(u){var c=this,d,f,h=this,p=h.guidesTarget,v=h.opts;this.updateGuides(p),v.debug&&(p==null||p.forEach(function(g){return c.renderGuide(g)})),v.guidesInfo&&this.renderGuideInfo((d=p==null?void 0:p.filter(function(g){return g.active}))!==null&&d!==void 0?d:[]),(f=v.onDrag)===null||f===void 0||f.call(v,this._getDragData()),this.opts.event=u,this.em.trigger("".concat(s,":move"),this.getEventOpts())},onEnd:function(u,c,d){var f,h=this,p=h.editor,v=h.opts,g=h.id;(f=v.onEnd)===null||f===void 0||f.call(v,u,d,a(a({event:u},d),this._getDragData())),p.stopCommand("".concat(g)),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var u=this;["X","Y"].forEach(function(c){var d=u["elGuideInfo".concat(c)];d&&(d.style.display="none")})},renderGuideInfo:function(u){var c=this;u===void 0&&(u=[]),this.hideGuidesInfo();var d=this.getGuidesMatched(u);d.forEach(function(f){c.opts.skipGuidesRender||c.renderSingleGuideInfo(f),c.em.trigger("".concat(s,":active"),a(a({},c.getEventOpts()),f))})},renderSingleGuideInfo:function(u){var c=u.posFirst,d=u.posSecond,f=u.size,h=u.sizeRaw,p=u.guide,v=u.elGuideInfo,g=u.elGuideInfoCnt,_=(0,r.isUndefined)(p.x)?"y":"x",S=_==="y",y=v.style;y.display="",y[S?"top":"left"]="".concat(c,"px"),y[S?"left":"top"]="".concat(d,"px"),y[S?"width":"height"]="".concat(f,"px"),g.innerHTML="".concat(Math.round(h),"px")},getGuidesMatched:function(u){var c=this;u===void 0&&(u=[]);var d=this.guidesStatic,f=d===void 0?[]:d;return u.map(function(h){var p=h.origin,v=h.x,g=c.getElementPos(p),_=(0,r.isUndefined)(v)?"y":"x",S=_==="y",y=g[S?"left":"top"],C=g.rect[S?"left":"top"],T=S?y+g.width:y+g.height,P=S?C+g.rect.width:C+g.rect.height,F=f.filter(function(Qe){var se,Te={l:["r","x"],r:["l","x"],x:["l","r"],t:["b","y"],b:["t","y"],y:["t","b"]};return Qe.type===h.type||((se=Te[h.type])===null||se===void 0?void 0:se.includes(Qe.type))}).map(function(Qe){var se=Qe.originRect,Te=se.left,je=se.width,nt=se.top,tt=se.height,ot=S?Te:nt,ye=S?Te+je:nt+tt;return{gap:ye<y?y-ye:ot-T,guide:Qe}}).filter(function(Qe){return Qe.gap>0}).sort(function(Qe,se){return Qe.gap-se.gap}).map(function(Qe){return Qe.guide}).filter(function(Qe){switch(h.type){case"l":case"r":case"x":return Math.abs(Qe.x-h.x)<1;case"t":case"b":case"y":return Math.abs(Qe.y-h.y)<1;default:return!1}}),I=F[0];if(I){var k=I.originRect,M=k.left,V=k.width,U=k.top,$=k.height,Q=k.rect,J=S?M<g.left:U<g.top,R=S?M:U,ne=S?Q.left:Q.top,ue=S?M+V:U+$,we=S?Q.left+Q.width:Q.top+Q.height,Be=S?h.y:h.x,We=J?ue:T,pe=J?y-ue:R-T,_e=J?C-we:ne-P,Ce=c["elGuideInfo".concat(_.toUpperCase())],ve=c["elGuideInfoContent".concat(_.toUpperCase())];return{guide:h,guidesStatic:f,matched:I,posFirst:Be,posSecond:We,size:pe,sizeRaw:_e,elGuideInfo:Ce,elGuideInfoCnt:ve}}else return null}).filter(Boolean)},toggleDrag:function(u){var c=this,d=c.ppfx,f=c.editor,h=u?"add":"remove",p=["".concat(d,"is__grabbing")],v=f.Canvas,g=v.getBody();p.forEach(function(_){return g.classList[h](_)}),v[u?"startAutoscroll":"stopAutoscroll"]()},editor:void 0,em:void 0,opts:void 0,target:void 0}}),6134:((n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(o){if(o.Canvas.hasFocus()){var i=[];o.getSelectedAll().forEach(function(a){var s=a.components(),l=s&&s.filter(function(u){return u.get("selectable")})[0];l&&i.push(l)}),i.length&&o.select(i)}}}}),914:((n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(o,i,a){if(a===void 0&&(a={}),!(!o.Canvas.hasFocus()&&!a.force)){var s=[];o.getSelectedAll().forEach(function(l){for(var u=l.parent();u&&!u.get("selectable");)u=u.parent();u&&s.push(u)}),s.length&&o.select(s)}}}}),5547:((n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(o){if(o.Canvas.hasFocus()){var i=[];o.getSelectedAll().forEach(function(a){var s=a.parent();if(s){var l=s.components().length,u=0,c=0,d;do u++,c=a.index()+u,d=c<=l?s.getChildAt(c):null;while(d&&!d.get("selectable"));i.push(d||a)}}),i.length&&o.select(i)}}}}),8655:((n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(o){if(o.Canvas.hasFocus()){var i=[];o.getSelectedAll().forEach(function(a){var s=a.parent();if(s){var l=0,u=0,c;do l++,u=a.index()-l,c=u>=0?s.getChildAt(u):null;while(c&&!c.get("selectable"));i.push(c||a)}}),i.length&&o.select(i)}}}}),7640:((n,t,e)=>{e.r(t),e.d(t,{default:()=>o});var r=e(5706);const o={run:function(i,a,s){s===void 0&&(s={});var l=s.target,u=[];if(!l.get("styles"))return u;var c=l.get("type"),d=i.Pages.getAllWrappers(),f=(0,r.flatten)(d.map(function(p){return p.findType(c)})).length;if(!f){var h=i.CssComposer.getAll();u=h.filter(function(p){return p.get("group")==="cmp:".concat(c)}),h.remove(u)}return u}}}),5837:((n,t,e)=>{e.r(t),e.d(t,{default:()=>o});var r=function(i,a,s){if(s||arguments.length===2)for(var l=0,u=a.length,c;l<u;l++)(c||!(l in a))&&(c||(c=Array.prototype.slice.call(a,0,l)),c[l]=a[l]);return i.concat(c||Array.prototype.slice.call(a))};const o={run:function(i){var a=i.getModel(),s=r([],i.getSelectedAll(),!0).map(function(l){var u,c;return((c=(u=l.delegate)===null||u===void 0?void 0:u.copy)===null||c===void 0?void 0:c.call(u,l))||l}).filter(Boolean);s.length&&a.set("clipboard",s)}}}),6477:((n,t,e)=>{e.r(t),e.d(t,{default:()=>o});var r=e(6294);const o={run:function(i,a,s){var l=this;s===void 0&&(s={}),a&&a.set&&a.set("active",0);var u=i.getConfig(),c=i.Modal,d=u.stylePrefix;if(this.cm=i.CodeManager||null,!this.editors){var f=this.buildEditor("htmlmixed","hopscotch","HTML"),h=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=f.model,this.cssEditor=h.model;var p=(0,r.a_)("div",{class:"".concat(d,"export-dl")});p.appendChild(f.el),p.appendChild(h.el),this.editors=p}c.open({title:u.textViewCode,content:this.editors}).getModel().once("change:open",function(){return i.stopCommand("".concat(l.id))}),this.htmlEditor.setContent(i.getHtml(s.optsHtml)),this.cssEditor.setContent(i.getCss(s.optsCss))},stop:function(i){var a=i.Modal;a&&a.close()},buildEditor:function(i,a,s){var l=this.em.CodeManager,u=l.createViewer({label:s,codeName:i,theme:a}),c=new l.EditorView({model:u,config:l.getConfig()}).render().el;return{model:u,el:c}}}}),1772:((n,t,e)=>{e.r(t),e.d(t,{default:()=>o});var r=e(5706);const o={isEnabled:function(){var i=document;return!!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement)},enable:function(i){var a="";return i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?(a="webkit",i.webkitRequestFullscreen()):i.mozRequestFullScreen?(a="moz",i.mozRequestFullScreen()):i.msRequestFullscreen&&i.msRequestFullscreen(),a},disable:function(){var i=document;this.isEnabled()&&(i.exitFullscreen?i.exitFullscreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.msExitFullscreen&&i.msExitFullscreen())},fsChanged:function(i){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(i||"","fullscreenchange"),this.fsChanged))},run:function(i,a,s){s===void 0&&(s={}),this.sender=a;var l=s.target,u=(0,r.isElement)(l)?l:document.querySelector(l),c=this.enable(u||i.getContainer());this.fsChanged=this.fsChanged.bind(this,c),document.addEventListener(c+"fullscreenchange",this.fsChanged)},stop:function(i,a){a&&a.set&&a.set("active",!1),this.disable()}}}),741:((n,t,e)=>{e.r(t),e.d(t,{default:()=>l});var r=e(5706),o=e(7774),i=e(6294),a=e(9317),s=e(1406);const l=(0,r.extend)({},s.default,a.default,{init:function(u){a.default.init.apply(this,arguments),(0,r.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=u,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];a.default.enable.apply(this,u),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var d=this.$wrapper;d.css("cursor","move"),d.on("mousedown",this.initSorter),d.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(u){var c=(0,o.default)(u.target).data("model"),d=c.get("draggable");d&&(this.cacheEl=null,this.startSelectPosition(u.target,this.frameEl.contentDocument),this.sorter.draggable=d,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,i.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(u){var c=u.get("draggable");if(c){this.cacheEl=null;var d=u.view.el;this.startSelectPosition(d,this.frameEl.contentDocument),this.sorter.draggable=c,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(u){this.cacheEl=null;var c=u[u.length-1],d=this.em.getCurrentFrame(),f=c.getEl(d==null?void 0:d.model),h=f.ownerDocument,p=u.map(function(v){var g;return(g=v==null?void 0:v.view)===null||g===void 0?void 0:g.el});this.startSelectPosition(p,h,{onStart:this.onStart}),this.sorter.eventHandlers.legacyOnMoveClb=this.onDrag,this.sorter.eventHandlers.legacyOnEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(u,c){},rollback:function(u,c){var d=u.which||u.keyCode;(d==27||c)&&this.sorter.cancelDrag()},getBadgeEl:function(){return this.$badge||(this.$badge=(0,o.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,o.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];a.default.stop.apply(this,u),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var d=this.$wrapper;d.css("cursor","").unbind().removeClass(this.noSelClass)}})}),2924:((n,t,e)=>{e.r(t),e.d(t,{default:()=>i});var r=e(5706),o=e(6294);const i={open:function(a){var s=this,l=this,u=l.editor,c=l.title,d=l.config,f=l.am,h=d.custom;if((0,r.isFunction)(h.open))return h.open(f.__customData());var p=u.Modal;p.open({title:c,content:a}).onceClose(function(){return u.stopCommand(s.id)})},close:function(){var a=this.config.custom;if((0,r.isFunction)(a.close))return a.close(this.am.__customData());var s=this.editor.Modal;s&&s.close()},run:function(a,s,l){l===void 0&&(l={});var u=a.AssetManager,c=u.getConfig(),d=l.types,f=d===void 0?[]:d,h=l.accept,p=l.select;if(this.title=l.modalTitle||a.t("assetManager.modalTitle")||"",this.editor=a,this.config=c,this.am=u,u.setTarget(l.target),u.onClick(l.onClick),u.onDblClick(l.onDblClick),u.onSelect(l.onSelect),u.__behaviour({select:p,types:f,options:l}),c.custom)this.rendered=this.rendered||(0,o.a_)("div"),this.rendered.className="".concat(c.stylePrefix,"custom-wrp"),u.__behaviour({container:this.rendered}),u.__trgCustom();else{if(!this.rendered||f){var v=u.getAll().filter(function(_){return _});f&&f.length&&(v=v.filter(function(_){return f.indexOf(_.get("type"))!==-1})),u.render(v),this.rendered=u.getContainer()}if(h){var g=this.rendered.querySelector("input#".concat(c.stylePrefix,"uploadFile"));g&&g.setAttribute("accept",h)}}return this.open(this.rendered),this},stop:function(a){this.editor=a,this.close(this.rendered)}}}),3963:((n,t,e)=>{e.r(t),e.d(t,{default:()=>i});var r=e(5706),o=e(6294);const i={open:function(){var a=this,s=a.container,l=a.editor,u=a.bm,c=a.config,d=c.custom,f=c.appendTo;if((0,r.isFunction)(d.open))return d.open(u.__customData());if(this.firstRender&&!f){var h="views-container",p=l.Panels,v=p.getPanel(h)||p.addPanel({id:h});v.set("appendContent",s).trigger("change:appendContent"),d||s.appendChild(u.render())}s&&(s.style.display="block")},close:function(){var a=this,s=a.container,l=a.config,u=l.custom;if((0,r.isFunction)(u.close))return u.close(this.bm.__customData());s&&(s.style.display="none")},run:function(a){var s=a.Blocks;this.config=s.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,o.a_)("div"),this.editor=a,this.bm=s;var l=this.container;s.__behaviour({container:l}),this.config.custom&&s.__trgCustom(),this.open()},stop:function(){this.close()}}}),1479:((n,t,e)=>{e.r(t),e.d(t,{default:()=>r});const r={run:function(o){var i=o.LayerManager,a=o.Panels,s=i.getConfig();if(!s.appendTo){if(!this.layers){var l="views-container",u=document.createElement("div"),c=a.getPanel(l)||a.addPanel({id:l});s.custom?i.__trgCustom({container:u}):u.appendChild(i.render()),c.set("appendContent",u).trigger("change:appendContent"),this.layers=u}this.layers.style.display="block"}},stop:function(){var o=this.layers;o&&(o.style.display="none")}}}),3473:((n,t,e)=>{e.r(t),e.d(t,{default:()=>o});var r=e(7774);const o={run:function(i,a){if(this.sender=a,!this.$cnt){var s=i.getConfig(),l=i.Panels,u=i.DeviceManager,c=i.SelectorManager,d=i.StyleManager,f="change:appendContent",h=(0,r.default)("<div></div>"),p=(0,r.default)("<div></div>"),v=(0,r.default)("<div></div>"),g=(0,r.default)("<div></div>");if(this.$cnt=h,this.$cntInner=p,p.append(v),p.append(g),h.append(p),u&&s.showDevices){var _=l.addPanel({id:"devices-c"}),S=u.render();_.set("appendContent",S).trigger(f)}var y=c.getConfig();y.custom?c.__trgCustom({container:v.get(0)}):y.appendTo||v.append(c.render([])),this.sm=d;var C=d.getConfig(),T=C.stylePrefix;this.$header=(0,r.default)('<div class="'.concat(T,'header">').concat(i.t("styleManager.empty"),"</div>")),h.append(this.$header),C.custom?d.__trgCustom({container:g.get(0)}):C.appendTo||g.append(d.render());var P="views-container",F=l.getPanel(P)||l.addPanel({id:P});F.set("appendContent",h).trigger(f);var I=i.getModel();this.listenTo(I,d.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var i=this,a=i.sender,s=i.sm,l=i.$cntInner,u=i.$header;a&&a.get&&!a.get("active")||!s||(s.getSelected()?(l==null||l.show(),u==null||u.hide()):(l==null||l.hide(),u==null||u.show()))},stop:function(){var i,a;(i=this.$cntInner)===null||i===void 0||i.hide(),(a=this.$header)===null||a===void 0||a.hide()}}}),5054:((n,t,e)=>{e.r(t),e.d(t,{default:()=>o});var r=e(7774);const o={run:function(i,a){this.sender=a;var s=i.getModel(),l=i.Config,u=l.stylePrefix,c=i.TraitManager,d=c.getConfig(),f;if(!d.appendTo){if(!this.$cn){this.$cn=(0,r.default)("<div></div>"),this.$cn2=(0,r.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,r.default)("<div>").append('<div class="'.concat(d.stylePrefix,'header">').concat(s.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),d.custom?c.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(u,'traits-label">').concat(s.t("traitManager.label"),"</div>")),this.$cn2.append(c.render()));var h=i.Panels;h.getPanel("views-container")?f=h.getPanel("views-container"):f=h.addPanel({id:"views-container"}),f==null||f.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=i.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var i=this.sender;i&&i.get&&!i.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}}),6979:((n,t,e)=>{e.r(t),e.d(t,{default:()=>o});var r=e(5706);const o={run:function(a,s,l){l===void 0&&(l={});var u=a.getModel(),c=u.get("clipboard"),d=a.getSelected();c!=null&&c.length&&d&&(a.getSelectedAll().forEach(function(f){var h,p,v,g=((p=(h=f.delegate)===null||h===void 0?void 0:h.copy)===null||p===void 0?void 0:p.call(h,f))||f,_=g.collection,S;if(_){var y=g.index()+1,C={at:y,action:l.action||"paste-component"};(0,r.contains)(c,g)&&g.get("copyable")?S=_.add(g.clone(),C):S=i(a,c,g.parent(),C)}else{var T=(v=u.Pages.getSelected())===null||v===void 0?void 0:v.getMainComponent(),C={at:(T==null?void 0:T.components().length)||0,action:l.action||"paste-component"};S=i(a,c,T,C)}S=(0,r.isArray)(S)?S:[S],S.forEach(function(P){return a.trigger("component:paste",P)})}),d.emitUpdate())}};function i(a,s,l,u){var c=s.filter(function(f){return f.get("copyable")}),d=c.filter(function(f){return a.Components.canMove(l,f).result});return l.components().add(d.map(function(f){return f.clone()}),u)}}),4457:((n,t,e)=>{e.r(t),e.d(t,{default:()=>a});var r=e(5706),o=function(s,l,u){if(u||arguments.length===2)for(var c=0,d=l.length,f;c<d;c++)(f||!(c in l))&&(f||(f=Array.prototype.slice.call(l,0,c)),f[c]=l[c]);return s.concat(f||Array.prototype.slice.call(l))},i="core:component-outline";const a={getPanels:function(s){return this.panels||(this.panels=s.Panels.getPanels()),this.panels},preventDrag:function(s){s.abort=1},tglEffects:function(s){var l=this.em,u=s?"on":"off";if(l){var c=l.Canvas,d=c.getBody(),f=c.getToolbarEl();f&&(f.style.display=s?"none":"");var h=d.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,r.each)(h,function(p){return p.style.pointerEvents=s?"all":""}),l[u]("run:tlb-move:before",this.preventDrag)}},run:function(s,l){var u=this;this.sender=l,this.selected=o([],s.getSelectedAll(),!0),s.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=s.Commands.isActive(i)),this.shouldRunSwVisibility&&s.stopCommand(i),s.getModel().stopDefault();var c=this.getPanels(s),d=s.Canvas.getElement(),f=s.getEl(),h=s.Config.stylePrefix;if(!this.helper){var p=document.createElement("span");p.className="".concat(h,"off-prv fa fa-eye-slash"),f.appendChild(p),p.onclick=function(){return u.stopCommand()},this.helper=p}this.helper.style.display="inline-block",c.forEach(function(g){return g.set("visible",!1)});var v=d.style;v.width="100%",v.height="100%",v.top="0",v.left="0",v.padding="0",v.margin="0",s.refresh(),this.tglEffects(1)},stop:function(s){var l=this,u=l.sender,c=u===void 0?{}:u,d=l.selected;c.set&&c.set("active",0);var f=this.getPanels(s);this.shouldRunSwVisibility&&(s.runCommand(i),this.shouldRunSwVisibility=!1),s.getModel().runDefault(),f.forEach(function(p){return p.set("visible",!0)});var h=s.Canvas.getElement();h.setAttribute("style",""),d&&s.select(d),delete this.selected,this.helper&&(this.helper.style.display="none"),s.refresh(),this.tglEffects()}}}),5493:((n,t,e)=>{e.r(t),e.d(t,{ConvertUnitsToPx:()=>s,default:()=>l});var r=e(2225),o=e(1166),i=function(){return i=Object.assign||function(u){for(var c,d=1,f=arguments.length;d<f;d++){c=arguments[d];for(var h in c)Object.prototype.hasOwnProperty.call(c,h)&&(u[h]=c[h])}return u},i.apply(this,arguments)},a=function(u,c){var d={};for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&c.indexOf(f)<0&&(d[f]=u[f]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,f=Object.getOwnPropertySymbols(u);h<f.length;h++)c.indexOf(f[h])<0&&Object.prototype.propertyIsEnumerable.call(u,f[h])&&(d[f[h]]=u[f[h]]);return d},s;(function(u){u.pt="pt",u.pc="pc",u.in="in",u.cm="cm",u.mm="mm",u.vw="vw",u.vh="vh",u.vmin="vmin",u.vmax="vmax",u.svw="svw",u.lvw="lvw",u.dvw="dvw",u.svh="svh",u.lvh="lvh",u.dvh="dvh",u.perc="%"})(s||(s={}));const l={run:function(u,c,d){var f=this,h=u.Canvas,p=u.Utils,v=u.em,g=h.getCanvasView(),_=v.config.stylePrefix||"",S="".concat(_,"resizing"),y=d.onStart,C=y===void 0?function(){}:y,T=d.onMove,P=T===void 0?function(){}:T,F=d.onEnd,I=F===void 0?function(){}:F,k=d.updateTarget,M=k===void 0?function(){}:k,V=d.el,U=d.componentView,$=d.component,Q=d.skipPositionUpdate,J=a(d,["onStart","onMove","onEnd","updateTarget","el","componentView","component","skipPositionUpdate"]),R=V||(U==null?void 0:U.el)||$.getEl(),ne={component:$,el:R},ue,we,Be=function(_e,Ce,ve){var Qe=ve.docs;Qe&&Qe.forEach(function(se){var Te=se.body,je=Te.className||"";Te.className=(_e=="add"?"".concat(je," ").concat(S):je.replace(S,"")).trim()})},We=i(i({appendTo:h.getResizerEl(),prefix:u.getConfig().stylePrefix,posFetcher:g.getElementPos.bind(g),mousePosFetcher:h.getMouseRelativePos.bind(h),docs:[document],updateOnMove:!0,skipUnitAdjustments:!0,onStart:function(_e,Ce){var ve;C(_e,Ce);var Qe=Ce.el,se=Ce.config,Te=Ce.resizer,je=se.keyHeight,nt=se.keyWidth,tt=se.currentUnit,ot=se.keepAutoHeight,ye=se.keepAutoWidth;Be("add",_e,Ce),ue=v.Styles.getModelToStyle($),we=getComputedStyle(Qe);var be=ue.getStyle(),me=i({},Te.startDim),Ve=be[nt];se.autoWidth=ye&&Ve==="auto",isNaN(parseFloat(Ve))&&(Ve=we[nt]);var Ie=be[je];se.autoHeight=ot&&Ie==="auto",isNaN(parseFloat(Ie))&&(Ie=we[je]);var K=parseFloat(Ve),te=parseFloat(Ie),ee=(0,o.getUnitFromValue)(Ve),Ae=(0,o.getUnitFromValue)(Ie);tt&&(se.unitWidth=ee,se.unitHeight=Ae);var xe=i(i({},ne),{event:_e,rect:me,model:ue,modelWidth:{value:Ve,property:nt,number:K,unit:ee},modelHeight:{value:Ie,property:je,number:te,unit:Ae}});u.trigger(r.I.resizeStart,xe),u.trigger(r.I.resize,i(i({},xe),{type:"start"})),(ve=d.afterStart)===null||ve===void 0||ve.call(d)},onMove:function(_e,Ce){P(_e,Ce);var ve=Ce.resizer,Qe=i(i({},ne),{event:_e,delta:ve.delta,pointer:ve.currentPos,rect:ve.rectDim});u.trigger(r.I.resizeStart,Qe),u.trigger(r.I.resize,i(i({},Qe),{type:"move"}))},onEnd:function(_e,Ce){var ve;I(_e,Ce),Be("remove",_e,Ce);var Qe=Ce.resizer,se=i(i({},ne),{event:_e,rect:Qe.rectDim,moved:Qe.moved});u.trigger(r.I.resizeEnd,se),u.trigger(r.I.resize,i(i({},ne),{type:"end"})),(ve=d.afterEnd)===null||ve===void 0||ve.call(d)},updateTarget:function(_e,Ce,ve){var Qe;if(M(_e,Ce,ve),!!ue){var se=ve.store,Te=ve.selectedHandler,je=ve.config,nt=ve.resizer,tt=ve.event,ot=je.keyHeight,ye=je.keyWidth,be=je.autoHeight,me=je.autoWidth,Ve=je.unitWidth,Ie=je.unitHeight,K=["tc","bc"].indexOf(Te)>=0,te=["cl","cr"].indexOf(Te)>=0,ee=!se,Ae={};if(!K){var xe=((Qe=h.getBody())===null||Qe===void 0?void 0:Qe.offsetWidth)||0,he=Ce.w<xe?Ce.w:xe;Ae[ye]=me?"auto":f.convertPxToUnit({el:R,elComputedStyle:we,valuePx:he,unit:Ve})}te||(Ae[ot]=be?"auto":f.convertPxToUnit({el:R,elComputedStyle:we,valuePx:Ce.h,unit:Ie,isHeight:!0})),!Q&&v.getDragMode($)&&(Ae.top="".concat(Ce.t,"px"),Ae.left="".concat(Ce.l,"px"));var Pe=!1,Ee=function(kt){Pe=!0;var Rt=i(i({},kt||Ae),{__p:ee});ue.addStyle(Rt,{avoidStore:ee}),v.Styles.__emitCmpStyleUpdate(Rt,{components:$})},st=i(i({},ne),{rect:Ce,partial:ee,event:tt,style:Ae,updateStyle:Ee,convertPxToUnit:function(kt){return f.convertPxToUnit(i({el:R,elComputedStyle:we},kt))},delta:nt.delta,pointer:nt.currentPos});u.trigger(r.I.resizeUpdate,st),!Pe&&Ee()}}},J),d.options),pe=this.canvasResizer;return pe||(this.canvasResizer=new p.Resizer(We),pe=this.canvasResizer),pe.setOptions(We,!0),pe.blur(),pe.focus(R),pe},stop:function(){var u;(u=this.canvasResizer)===null||u===void 0||u.blur()},convertPxToUnit:function(u){var c=u.el,d=u.valuePx,f=u.unit,h=u.dpi,p=h===void 0?96:h,v=u.roundDecimals,g=v===void 0?3:v,_=u.isHeight,S=u.elComputedStyle,y=c.ownerDocument.defaultView,C=(y==null?void 0:y.innerWidth)||1,T=window.innerHeight||1,P=d,F=f;switch(f){case s.pt:P=d*(72/p);break;case s.pc:P=d*(6/p);break;case s.in:P=d/p;break;case s.cm:P=d/(p/2.54);break;case s.mm:P=d/(p/25.4);break;case s.vw:P=d/C*100;break;case s.vh:P=d/T*100;break;case s.vmin:{var I=Math.min(C,T);P=d/I*100;break}case s.vmax:{var k=Math.max(C,T);P=d/k*100;break}case s.perc:{var M=c.parentElement,V=c.offsetParent,U=(S==null?void 0:S.position)==="absolute"?V:M,$=(U==null?void 0:U.offsetWidth)||1,Q=(U==null?void 0:U.offsetHeight)||1,J=_?Q:$;P=d/J*100;break}case s.svw:case s.lvw:case s.dvw:P=d/C*100;break;case s.svh:case s.lvh:case s.dvh:P=d/T*100;break;default:F="px"}return"".concat(+P.toFixed(g)).concat(F)}}}),9317:((n,t,e)=>{e.r(t),e.d(t,{default:()=>k});var r=e(5706),o=e(179),i=e(9156),a=(function(){var M=function(V,U){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,Q){$.__proto__=Q}||function($,Q){for(var J in Q)Object.prototype.hasOwnProperty.call(Q,J)&&($[J]=Q[J])},M(V,U)};return function(V,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");M(V,U);function $(){this.constructor=V}V.prototype=U===null?Object.create(U):($.prototype=U.prototype,new $)}})(),s=(function(M){a(V,M);function V(){return M!==null&&M.apply(this,arguments)||this}return V.prototype.defaults=function(){return{command:"",attributes:{}}},V})(i.Kx);const l=s;var u=(function(){var M=function(V,U){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,Q){$.__proto__=Q}||function($,Q){for(var J in Q)Object.prototype.hasOwnProperty.call(Q,J)&&($[J]=Q[J])},M(V,U)};return function(V,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");M(V,U);function $(){this.constructor=V}V.prototype=U===null?Object.create(U):($.prototype=U.prototype,new $)}})(),c=(function(M){u(V,M);function V(){return M!==null&&M.apply(this,arguments)||this}return V})(i.pM);const d=c;c.prototype.model=l;var f=e(2225),h=e(8242),p=(function(){var M=function(V,U){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,Q){$.__proto__=Q}||function($,Q){for(var J in Q)Object.prototype.hasOwnProperty.call(Q,J)&&($[J]=Q[J])},M(V,U)};return function(V,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");M(V,U);function $(){this.constructor=V}V.prototype=U===null?Object.create(U):($.prototype=U.prototype,new $)}})(),v=function(){return v=Object.assign||function(M){for(var V,U=1,$=arguments.length;U<$;U++){V=arguments[U];for(var Q in V)Object.prototype.hasOwnProperty.call(V,Q)&&(M[Q]=V[Q])}return M},v.apply(this,arguments)},g=(function(M){p(V,M);function V(U){var $=M.call(this,U)||this;return $.em=U.config.em,$}return V.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},V.prototype.attributes=function(){return this.model.get("attributes")},V.prototype.handleClick=function(U){U.preventDefault(),U.stopPropagation();var $=this.em,Q=$.Canvas.getFrameEl().getBoundingClientRect(),J=Q.left,R=Q.top,ne=v(v({},U),{clientX:U.clientX-J,clientY:U.clientY-R});$.trigger("toolbar:run:before",{event:ne}),this.execCommand(ne)},V.prototype.execCommand=function(U){var $=this,Q=$.em,J=$.model,R={event:U},ne=J.get("command"),ue=Q.Editor;(0,r.isFunction)(ne)&&ne(ue,null,R),(0,r.isString)(ne)&&ue.runCommand(ne,R)},V.prototype.render=function(){var U=this,$=U.em,Q=U.$el,J=U.model,R=J.get("id"),ne=J.get("label"),ue=$.getConfig().stylePrefix;return Q.addClass("".concat(ue,"toolbar-item")),R&&Q.addClass("".concat(ue,"toolbar-item__").concat(R)),ne&&Q.append(ne),this},V})(i.Ss);const _=g;var S=(function(){var M=function(V,U){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,Q){$.__proto__=Q}||function($,Q){for(var J in Q)Object.prototype.hasOwnProperty.call(Q,J)&&($[J]=Q[J])},M(V,U)};return function(V,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");M(V,U);function $(){this.constructor=V}V.prototype=U===null?Object.create(U):($.prototype=U.prototype,new $)}})(),y=(function(M){S(V,M);function V(U){var $=M.call(this,U)||this,Q=U.em;return $.em=Q,$.config={em:Q},$.listenTo($.collection,"reset",$.render),$}return V.prototype.onRender=function(){var U=this.em.config.stylePrefix;this.el.className="".concat(U,"toolbar-items")},V})(h.A);const C=y;y.prototype.itemView=_;var T=e(6294),P=e(1166),F=function(){return F=Object.assign||function(M){for(var V,U=1,$=arguments.length;U<$;U++){V=arguments[U];for(var Q in V)Object.prototype.hasOwnProperty.call(V,Q)&&(M[Q]=V[Q])}return M},F.apply(this,arguments)},I;const k={activeResizer:!1,init:function(){this.onSelect=(0,r.debounce)(this.onSelect,0),(0,r.bindAll)(this,"onHover","onOut","onClick","onCanvasScroll","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),I=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(M){var V=this,U=this,$=U.em,Q=U.canvas,J=Q.getCanvasView().el,R=$.getConfig().listenToEl,ne=$.getContainer().parentNode,ue=M?"on":"off",we={on:T.on,off:T.AU},Be=f.I.update;!R.length&&ne&&R.push(ne);var We=function(pe,_e,Ce){we[ue](Ce,"scroll",V.onCanvasScroll,!0),we[ue](_e,"mouseover",V.onHover),we[ue](_e,"mouseleave",V.onOut),we[ue](_e,"click",V.onClick),we[ue](pe,"scroll",V.onFrameScroll,!0),we[ue](pe,"resize",V.onFrameResize)};we[ue](window,"resize",this.onFrameUpdated),we[ue](R,"scroll",this.onContainerChange),$[ue]("component:toggled ".concat(Be," undo redo"),this.onSelect,this),$[ue]("change:componentHovered",this.onHovered,this),$[ue]("".concat(f.I.resize," styleable:change ").concat(f.I.input),this.updateGlobalPos,this),$[ue]("".concat(Be,":toolbar"),this._upToolbar,this),$[ue]("frame:updated",this.onFrameUpdated,this),$[ue]("canvas:updateTools",this.onFrameUpdated,this),$[ue]($.Canvas.events.refresh,this.updateAttached,this),$.Canvas.getFrames().forEach(function(pe){var _e=pe.view,Ce=_e==null?void 0:_e.getWindow();Ce&&We(Ce,_e==null?void 0:_e.getBody(),J)})},onHover:function(M){M.stopPropagation();var V=this.em,U=M.target,$=(0,P.getComponentView)(U),Q=$==null?void 0:$.frameView,J=$==null?void 0:$.model;if(!J)for(var R=U.parentNode;!J&&R&&!(0,T.ZQ)(R);)J=(0,P.getComponentModel)(R),R=R.parentNode;this.currentDoc=U.ownerDocument,V.setHovered(J,{useValid:!0}),Q&&V.setCurrentFrame(Q)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(M,V){var U=this,$,Q={};V?($=V.views)===null||$===void 0||$.forEach(function(J){var R=J.el,ne=U.getElementPos(R);Q={el:R,pos:ne,component:V,view:J},R.ownerDocument===U.currentDoc&&(U.elHovered=Q),U.updateToolsLocal(Q)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(J){var R=J.view,ne=R&&R.getToolsEl();ne&&U.toggleToolsEl(0,0,{el:ne})}))},onSelect:function(){var M=this.em,V=M.getSelected(),U=M.getCurrentFrame(),$=V&&V.getView(U==null?void 0:U.model),Q=$==null?void 0:$.el,J={};if(Q&&(0,T.zN)(Q)){var R=this.getElementPos(Q);J={el:Q,pos:R,component:V,view:$}}this.elSelected=J,this.updateToolsGlobal(),this.updateLocalPos(J),this.initResize(V)},updateGlobalPos:function(){var M=this.getElSelected();M.el&&(M.pos=this.getElementPos(M.el),this.updateToolsGlobal())},updateLocalPos:function(M){var V=this.getElHovered();V.el&&(V.pos=this.getElementPos(V.el),this.updateToolsLocal(M))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(M,V,U){U===void 0&&(U={});var $=U.el||this.canvas.getToolsEl(V);return $&&($.style.display=M?"":"none"),$||{}},showElementOffset:function(M,V,U){U===void 0&&(U={}),I&&this.editor.runCommand("show-offset",{el:M,elPos:V,view:U.view,force:1,top:0,left:0})},hideElementOffset:function(M){this.editor.stopCommand("show-offset",{view:M})},showFixedElementOffset:function(M,V){this.editor.runCommand("show-offset",{el:M,elPos:V,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(M){this.canvas.getHighlighter(M).style.opacity=0},onClick:function(M){M.stopPropagation(),M.preventDefault();var V=this.em;if(V.get("_cmpDrag"))return V.set("_cmpDrag");var U=M.target,$=(0,P.getComponentModel)(U);if(!$)for(var Q=U.parentNode;!$&&Q&&!(0,T.ZQ)(Q);)$=(0,P.getComponentModel)(Q),Q=Q.parentNode;if($){if(V.isEditing()&&(!$.get("textable")&&$.isChildOf("text")||V.getEditing()!==$))return;this.select($,M)}},select:function(M,V){if(M){var U=this.em;U.setSelected(M,{event:V,useValid:!0}),this.initResize(U.getSelected())}},updateBadge:function(M,V,U){U===void 0&&(U={});var $=this.canvas,Q=(0,P.getComponentModel)(M),J=this.getBadge(U),R=J.style;if(!Q||!Q.get("badgable")){R.display="none";return}if(!U.posOnly){var ne=this.canvas.getConfig(),ue=Q.getIcon(),we=ne.pStylePrefix||"",Be="".concat(we,"badge"),We=ne.customBadgeLabel,pe="".concat(ue?'<div class="'.concat(Be,'__icon">').concat(ue,"</div>"):"",`
        <div class="`).concat(Be,'__name">').concat(Q.getName(),"</div>");J.innerHTML=We?We(Q):pe}var _e="px";R.display="block";var Ce=$.getTargetToElementFixed(M,J,{pos:V}),ve=Ce.top,Qe=U.leftOff<0?-U.leftOff:0;R.top=ve+_e,R.left=Qe+_e},showHighlighter:function(M){this.canvas.getHighlighter(M).style.opacity=""},initResize:function(M){var V=this,U,$=this,Q=$.em,J=$.canvas,R=Q.Editor,ne=!(0,r.isElement)(M)&&(0,T.GW)(M)?M:Q.getSelected(),ue=(U=ne==null?void 0:ne.get)===null||U===void 0?void 0:U.call(ne,"resizable"),we=o.F.Resize,Be=J.hasCustomSpot(we);J.removeSpots({type:we});var We={component:ne,hasCustomResize:Be,resizable:ue};ne&&Q.trigger(f.I.resizeInit,We);var pe=We.resizable;if(ne&&pe){J.addSpot({type:we,component:ne});var _e=(0,r.isElement)(M)?M:ne.getEl(),Ce=(0,P.isObject)(pe)?pe:{};if(Be||!_e||this.activeResizer)return;this.resizer=R.runCommand("resize",F(F({},Ce),{el:_e,component:ne,force:!0,afterStart:function(){I=!1,V.activeResizer=!0},afterEnd:function(){I=!0,V.activeResizer=!1}}))}else{if(Be)return;R.stopCommand("resize"),this.resizer=null}},updateToolbar:function(M){var V=this.canvas,U=this.config.em,$=M===U?U.getSelected():M,Q=V.getToolbarEl(),J=Q.style,R=$.get("toolbar"),ne=U.config.showToolbar,ue=!V.hasCustomSpot(o.F.Select);if($&&ne&&R&&R.length&&ue){if(J.display="",!this.toolbar){Q.innerHTML="",this.toolbar=new d(R);var we=new C({collection:this.toolbar,em:U});Q.appendChild(we.render().el)}this.toolbar.reset(R),J.top="-100px",J.left="0"}else J.display="none"},updateToolbarPos:function(M){var V="px",U=this.canvas.getToolbarEl().style;U.top="".concat(M.top).concat(V),U.left="".concat(M.left).concat(V),U.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(M){return M===void 0&&(M={}),this.canvas.getBadgeEl(M.view)},onCanvasScroll:function(M){this.onFrameScroll(M),this.onContainerChange()},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(M){return M&&M.get("status")==="selected"},updateToolsLocal:function(M){var V=this.em.getConfig(),U=M||this.getElHovered(),$=U.el,Q=U.pos,J=U.view,R=U.component;if(!$){this.lastHovered=0;return}var ne=R.get("hoverable"),ue=this.lastHovered!==$,we=ue?{}:{posOnly:1},Be=this.canvas.hasCustomSpot(o.F.Hover);ue&&ne&&(this.lastHovered=$,Be?this.hideHighlighter(J):this.showHighlighter(J),this.showElementOffset($,Q,{view:J})),this.isCompSelected(R)&&(this.hideHighlighter(J),!V.showOffsetsSelected&&this.hideElementOffset(J));var We="px",pe=this.toggleToolsEl(1,J),_e=pe.style,Ce=this.canvas.canvasRectOffset($,Q),ve=Ce.top,Qe=Ce.left;!Be&&this.updateBadge($,Q,F(F({},we),{view:J,topOff:ve,leftOff:Qe})),_e.top=ve+We,_e.left=Qe+We,_e.width=Q.width+We,_e.height=Q.height+We,this._trgToolUp("local",{component:R,el:pe,top:ve,left:Qe,width:Q.width,height:Q.height})},_upToolbar:(0,r.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(M,V){V===void 0&&(V={}),this.em.trigger("canvas:tools:update",F({type:M},V))},updateToolsGlobal:function(M){M===void 0&&(M={});var V=this.getElSelected(),U=V.el,$=V.pos,Q=V.component;if(!U){this.toggleToolsEl(),this.lastSelected=0;return}var J=this.canvas,R=this.lastSelected!==U;(R||M.force)&&(this.lastSelected=U,this.updateToolbar(Q));var ne="px",ue=this.toggleToolsEl(1),we=ue.style,Be=J.getTargetToElementFixed(U,J.getToolbarEl(),{pos:$}),We=Be.canvasOffsetTop,pe=Be.canvasOffsetLeft;we.top=We+ne,we.left=pe+ne,we.width=$.width+ne,we.height=$.height+ne,this.updateToolbarPos({top:Be.top,left:Be.left}),this._trgToolUp("global",{component:Q,el:ue,top:We,left:pe,width:$.width,height:$.height})},updateAttached:(0,r.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,r.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(M){return this.canvas.getCanvasView().getElementPos(M,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(M){M&&M.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(M){(0,P.hasWin)()&&(this.editor=M&&M.get("Editor"),this.enable())},stop:function(M,V,U){if(U===void 0&&(U={}),!!(0,P.hasWin)()){var $=this,Q=$.em,J=$.editor;this.onHovered(),this.stopSelectComponent(),!U.preserveSelected&&Q.setSelected(),this.toggleToolsEl(),this.updateAttached.cancel(),J&&J.stopCommand("resize")}}}}),1406:((n,t,e)=>{e.r(t),e.d(t,{default:()=>a});var r=e(7774),o=e(1447),i=e(8433);const a={startSelectPosition:function(s,l,u){u===void 0&&(u={}),this.isPointed=!1;var c=this.em.Utils,d=s[0].ownerDocument.body;c&&(this.sorter=new c.ComponentSorter({em:this.em,treeClass:o.A,containerContext:{container:d,containerSel:"*",itemSel:"*",pfx:this.ppfx,document:l,placeholderElement:this.canvas.getPlacerEl()},positionOptions:{windowMargin:1,canvasRelative:!0},dragBehavior:{dragDirection:i.A.BothDirections,nested:!0}})),u.onStart&&(this.sorter.eventHandlers.legacyOnStartSort=u.onStart),s&&s.length>0&&this.sorter.startSort(s.map(function(f){return{element:f}}))},getOffsetDim:function(){var s=this.offset(this.canvas.getFrameEl()),l=this.offset(this.canvas.getElement()),u=s.top-l.top,c=s.left-l.left;return{top:u,left:c}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&this.sorter.cancelDrag(),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,r.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,r.default)(this.cDim[this.posIndex][5]).parent():(0,r.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(s,l,u){var c=s||0,d=l||"before",f=u.length,h=f!==0&&d=="after"&&c==f;return f!==0&&(!h&&!u[c][4]||u[c-1]&&!u[c-1][4]||h&&!u[c-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}}),9395:((n,t,e)=>{e.r(t),e.d(t,{default:()=>s});var r=e(5706),o=e(179),i=e(7774),a=function(){return a=Object.assign||function(l){for(var u,c=1,d=arguments.length;c<d;c++){u=arguments[c];for(var f in u)Object.prototype.hasOwnProperty.call(u,f)&&(l[f]=u[f])}return l},a.apply(this,arguments)};const s={getOffsetMethod:function(l){var u=l||"";return"get"+u+"OffsetViewerEl"},run:function(l,u,c){var d=this.canvas,f=c||{},h=f.state||"",p=l.getConfig(),v=this.em.getZoomDecimal(),g=f.el;if(!p.showOffsets||!(g instanceof HTMLElement)||!p.showOffsetsSelected&&h=="Fixed"){l.stopCommand("".concat(this.id),c);return}if(!d.hasCustomSpot(o.F.Spacing)){var _=a({},f.elPos||d.getElementPos(g));(0,r.isUndefined)(f.top)||(_.top=f.top),(0,r.isUndefined)(f.left)||(_.left=f.left);var S=window.getComputedStyle(g),y=this.ppfx,C=h+"State",T=this.getOffsetMethod(h),P=d[T](c.view);P.style.opacity="";var F=this["marginT"+h],I=this["marginB"+h],k=this["marginL"+h],M=this["marginR"+h],V=this["padT"+h],U=this["padB"+h],$=this["padL"+h],Q=this["padR"+h];if(P.childNodes.length&&(this[C]="1",F=P.querySelector("[data-offset-m-t]"),I=P.querySelector("[data-offset-m-b]"),k=P.querySelector("[data-offset-m-l]"),M=P.querySelector("[data-offset-m-r]"),V=P.querySelector("[data-offset-p-t]"),U=P.querySelector("[data-offset-p-b]"),$=P.querySelector("[data-offset-p-l]"),Q=P.querySelector("[data-offset-p-r]")),!this[C]){var J=h.toLowerCase(),R=J+"margin-v",ne=J+"padding-v",ue=(0,i.default)('<div class="'.concat(y,'marginName">')).get(0),we=(0,i.default)('<div class="'.concat(y,'paddingName">')).get(0),Be=y+R+"-el",We=y+ne+"-el",pe="".concat(Be," ").concat(y+R),_e="".concat(We," ").concat(y+ne);F=(0,i.default)('<div class="'.concat(pe,'-top"></div>')).get(0),I=(0,i.default)('<div class="'.concat(pe,'-bottom"></div>')).get(0),k=(0,i.default)('<div class="'.concat(pe,'-left"></div>')).get(0),M=(0,i.default)('<div class="'.concat(pe,'-right"></div>')).get(0),V=(0,i.default)('<div class="'.concat(_e,'-top"></div>')).get(0),U=(0,i.default)('<div class="'.concat(_e,'-bottom"></div>')).get(0),$=(0,i.default)('<div class="'.concat(_e,'-left"></div>')).get(0),Q=(0,i.default)('<div class="'.concat(_e,'-right"></div>')).get(0),this["marginT"+h]=F,this["marginB"+h]=I,this["marginL"+h]=k,this["marginR"+h]=M,this["padT"+h]=V,this["padB"+h]=U,this["padL"+h]=$,this["padR"+h]=Q,ue.appendChild(F),ue.appendChild(I),ue.appendChild(k),ue.appendChild(M),we.appendChild(V),we.appendChild(U),we.appendChild($),we.appendChild(Q),P.appendChild(ue),P.appendChild(we),this[C]="1"}var Ce="px",ve=parseFloat(S.marginLeft.replace(Ce,""))*v,Qe=parseFloat(S.marginRight.replace(Ce,""))*v,se=parseFloat(S.marginTop.replace(Ce,""))*v,Te=parseFloat(S.marginBottom.replace(Ce,""))*v,je=F.style,nt=I.style,tt=k.style,ot=M.style,ye=V.style,be=U.style,me=$.style,Ve=Q.style,Ie=parseFloat(_.left),K=parseFloat(S.width)*v+Ce;je.height=se+Ce,je.width=K,je.top=_.top-se+Ce,je.left=Ie+Ce,nt.height=Te+Ce,nt.width=K,nt.top=_.top+_.height+Ce,nt.left=Ie+Ce;var te=_.height+se+Te+Ce,ee=_.top-se+Ce;tt.height=te,tt.width=ve+Ce,tt.top=ee,tt.left=Ie-ve+Ce,ot.height=te,ot.width=Qe+Ce,ot.top=ee,ot.left=Ie+_.width+Ce;var Ae=parseFloat(S.paddingTop)*v;ye.height=Ae+Ce;var xe=parseFloat(S.paddingBottom)*v;be.height=xe+Ce;var he=_.height-xe-Ae+Ce,Pe=_.top+Ae+Ce;me.height=he,me.width=parseFloat(S.paddingLeft)*v+Ce,me.top=Pe;var Ee=parseFloat(S.paddingRight)*v;Ve.height=he,Ve.width=Ee+Ce,Ve.top=Pe}},stop:function(l,u,c){c===void 0&&(c={});var d=c||{},f=d.state||"",h=this.getOffsetMethod(f),p=c.view,v=this.canvas,g=v[h](p);g.style.opacity=0}}}),7285:((n,t,e)=>{e.r(t),e.d(t,{default:()=>i});var r=e(5706),o=e(1166);const i={init:function(){(0,r.bindAll)(this,"_onFramesChange")},run:function(a){this.toggleVis(a,!0)},stop:function(a){this.toggleVis(a,!1)},toggleVis:function(a,s){if(s===void 0&&(s=!0),!a.Commands.isActive("preview")){var l=a.Canvas,u=s?"on":"off",c=l.getModel();c[u]("change:frames",this._onFramesChange),this.handleFrames(l.getFrames(),s)}},handleFrames:function(a,s){var l=this;a.forEach(function(u){var c;!((c=u.view)===null||c===void 0)&&c.loaded&&l._upFrame(u,s),u.__ol||(u.on("loaded",function(){return l._upFrame(u)}),u.__ol=!0)})},_onFramesChange:function(a,s){this.handleFrames(s)},_upFrame:function(a,s){var l,u=this,c=u.ppfx,d=u.em,f=u.id,h=(0,o.isDef)(s)?s:d.Commands.isActive(f),p=h?"add":"remove",v="".concat(c,"dashed");(l=a.view)===null||l===void 0||l.getBody().classList[p](v)}}}),9156:((n,t,e)=>{e.d(t,{Kx:()=>l,Ss:()=>c,e2:()=>s,lK:()=>f,pM:()=>u,x2:()=>d});var r=e(4193),o=e.n(r),i=(function(){var h=function(p,v){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,_){g.__proto__=_}||function(g,_){for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&(g[S]=_[S])},h(p,v)};return function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");h(p,v);function g(){this.constructor=p}p.prototype=v===null?Object.create(v):(g.prototype=v.prototype,new g)}})(),a=function(){return a=Object.assign||function(h){for(var p,v=1,g=arguments.length;v<g;v++){p=arguments[v];for(var _ in p)Object.prototype.hasOwnProperty.call(p,_)&&(h[_]=p[_])}return h},a.apply(this,arguments)},s="add remove reset change",l=(function(h){i(p,h);function p(){return h!==null&&h.apply(this,arguments)||this}return p})(o().Model),u=(function(h){i(p,h);function p(){return h!==null&&h.apply(this,arguments)||this}return p})(o().Collection),c=(function(h){i(p,h);function p(){return h!==null&&h.apply(this,arguments)||this}return p})(o().View),d;(function(h){h.Screen="screen",h.World="world"})(d||(d={}));var f={x:0,y:0};a(a({},f),{width:0,height:0})}),2225:((n,t,e)=>{e.d(t,{I:()=>o,t:()=>r});var r;(function(i){i.remove="component:remove",i.add="component:add",i.move="component:move"})(r||(r={}));var o;(function(i){i.add="component:add",i.remove="component:remove",i.removeBefore="component:remove:before",i.removed="component:removed",i.create="component:create",i.update="component:update",i.updateInside="component:update-inside",i.styleUpdate="component:styleUpdate",i.styleUpdateProperty="component:styleUpdate:",i.select="component:select",i.selectBefore="component:select:before",i.mount="component:mount",i.scriptMount="component:script:mount",i.scriptMountBefore="component:script:mount:before",i.scriptUnmount="component:script:unmount",i.render="component:render",i.input="component:input",i.resize="component:resize",i.resizeStart="component:resize:start",i.resizeMove="component:resize:move",i.resizeEnd="component:resize:end",i.resizeUpdate="component:resize:update",i.resizeInit="component:resize:init",i.symbolMainAdd="symbol:main:add",i.symbolMainUpdate="symbol:main:update",i.symbolMainUpdateDeep="symbol:main:update-deep",i.symbolMainRemove="symbol:main:remove",i.symbolMain="symbol:main",i.symbolInstanceAdd="symbol:instance:add",i.symbolInstanceRemove="symbol:instance:remove",i.symbolInstance="symbol:instance",i.symbol="symbol"})(o||(o={}))}),8242:((n,t,e)=>{e.d(t,{A:()=>s});var r=e(5706),o=e(9156),i=(function(){var l=function(u,c){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(d[h]=f[h])},l(u,c)};return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");l(u,c);function d(){this.constructor=u}u.prototype=c===null?Object.create(c):(d.prototype=c.prototype,new d)}})(),a=(function(l){i(u,l);function u(c,d,f){c===void 0&&(c={}),f===void 0&&(f=!1);var h=l.call(this,c)||this;return h.itemsView="",h.itemType="type",h.reuseView=!1,h.config=d||c.config||{},f&&h.listenTo(h.collection,"add",h.addTo),h.items=[],h}return u.prototype.addTo=function(c){this.add(c)},u.prototype.itemViewNotFound=function(c){var d=this,f=d.config,h=d.ns,p=f.em,v="".concat(h?"[".concat(h,"]: "):"","'").concat(c,"' type not found");p&&p.logWarning(v)},u.prototype.add=function(c,d){var f=this,h=f.config,p=f.reuseView,v=f.items,g=this.itemsView||{},_=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],S=d||null,y=this.itemView,C=c.get(this.itemType),T;g[C]?y=g[C]:C&&!g[C]&&!(0,r.includes)(_,C)&&this.itemViewNotFound(C),c.view&&p?T=c.view:T=new y({model:c,config:h},h),v&&v.push(T);var P=T.render().el;S?S.appendChild(P):this.$el.append(P)},u.prototype.render=function(){var c=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(d){this.add(d,c)},this),this.$el.append(c),this.onRender(),this},u.prototype.onRender=function(){},u.prototype.onRemoveBefore=function(c,d){},u.prototype.onRemove=function(c,d){},u.prototype.remove=function(c){c===void 0&&(c={});var d=this.items;return this.onRemoveBefore(d,c),this.clearItems(),l.prototype.remove.call(this),this.onRemove(d,c),this},u.prototype.clearItems=function(){this.items},u})(o.Ss);const s=a;a.prototype.itemView=""}),9966:((n,t,e)=>{e.d(t,{A:()=>u});var r=e(5706),o=e(6294),i=function(){return i=Object.assign||function(c){for(var d,f=1,h=arguments.length;f<h;f++){d=arguments[f];for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(c[p]=d[p])}return c},i.apply(this,arguments)},a=function(){return{x:0,y:0}},s=["x","y"],l=(function(){function c(d){return d===void 0&&(d={}),this.opts={snapGuides:{x:5,y:5},snapOffset:5,scale:1},(0,r.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(d),this.delta=a(),this.lastScroll=a(),this.lastScrollDiff=a(),this.startPointer=a(),this.startPosition=a(),this.globScrollDiff=a(),this.currentPointer=a(),this.position=a(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return c.prototype.setOptions=function(d){d===void 0&&(d={}),this.opts=i(i({},this.opts),d)},c.prototype.toggleDrag=function(d){var f=this.getDocumentEl(),h=this.getContainerEl(),p=this.getWindowEl(),v=d?"on":"off",g={on:o.on,off:o.AU};g[v](h,"mousemove dragover",this.drag),g[v](f,"mouseup dragend touchend",this.stop),g[v](f,"keydown",this.keyHandle),g[v](p,"scroll",this.handleScroll)},c.prototype.handleScroll=function(){var d=this,f=d.lastScroll,h=d.delta,p=this.getScrollInfo(),v={x:p.x-f.x,y:p.y-f.y};this.move(h.x+v.x,h.y+v.y),this.lastScrollDiff=v},c.prototype.start=function(d){var f=this.opts,h=f.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(d),this.guidesStatic=(0,r.result)(f,"guidesStatic")||[],this.guidesTarget=(0,r.result)(f,"guidesTarget")||[],(0,r.isFunction)(h)&&h(d,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=a(),this.globScrollDiff=a(),this.drag(d)},c.prototype.drag=function(d){var f=this,h=this,p=h.opts,v=h.lastScrollDiff,g=h.globScrollDiff,_=p.onDrag,S=this.startPointer,y=this.getPointerPos(d),C={x:g.x+v.x,y:g.y+v.y};this.globScrollDiff=C;var T={x:y.x-S.x+C.x,y:y.y-S.y+C.y};this.lastScrollDiff=a();var P=function(U){s.forEach(function($){return U[$]=U[$]*(0,r.result)(p,"scale")}),f.delta=U,f.move(U.x,U.y),(0,r.isFunction)(_)&&_(d,f)},F=i({},T);if(this.currentPointer=y,this.lastScroll=this.getScrollInfo(),P(T),this.guidesTarget.length){var I=this.snapGuides(F),k=I.newDelta,M=I.trgX,V=I.trgY;(M||V)&&P(k)}d.which===0&&this.stop(d)},c.prototype.snapGuides=function(d){var f=this,h=i({},d),p=this,v=p.trgX,g=p.trgY;return this.guidesTarget.forEach(function(_){_.x&&f.trgX||_.y&&f.trgY||(_.active=!1,f.guidesStatic.forEach(function(S){if(!(_.y&&S.x||_.x&&S.y)){var y=_.y&&S.y,C=y?"y":"x",T=_[C],P=S[C],F=d[C],I=y?g:v;if(f.isPointIn(T,P,{axis:C})&&(0,r.isUndefined)(I)){var k=F-(T-P);f.setGuideLock(_,k)}}}))}),v=this.trgX,g=this.trgY,s.forEach(function(_){var S=_.toUpperCase(),y=f["trg".concat(S)];y&&!f.isPointIn(d[_],y.lock,{axis:_})&&(f.setGuideLock(y,null),y=null),y&&!(0,r.isUndefined)(y.lock)&&(h[_]=y.lock)}),{newDelta:h,trgX:this.trgX,trgY:this.trgY}},c.prototype.isPointIn=function(d,f,h){var p,v=h===void 0?{}:h,g=v.offset,_=v.axis,S=this.opts,y=S.snapGuides,C=y===void 0?{}:y,T=S.snapOffset,P=T===void 0?0:T,F=_==="x"?C.x:_==="y"?C.y:void 0,I=F===0?0:(p=g??F)!==null&&p!==void 0?p:P;return I===0?!1:d>=f&&d<=f+I||d<=f&&d>=f-I},c.prototype.setGuideLock=function(d,f){var h=(0,r.isUndefined)(d.x)?"Y":"X",p="trg".concat(h);return f!==null?(d.active=!0,d.lock=f,this[p]=d):(delete d.active,delete d.lock,delete this[p]),d},c.prototype.stop=function(d,f){f===void 0&&(f={});var h=this.delta,p=!!f.cancel,v=p?0:h.x,g=p?0:h.y;this.toggleDrag(),this.move(v,g,!0);var _=this.opts.onEnd;(0,r.isFunction)(_)&&_(d,this,{cancelled:p})},c.prototype.keyHandle=function(d){(0,o.v$)(d)&&this.stop(d,{cancel:!0})},c.prototype.move=function(d,f,h){var p=this,v=p.el,g=p.opts,_=this.startPosition;if(_){var S=g.setPosition,y=_.x+d,C=_.y+f;this.position={x:y,y:C,end:h},(0,r.isFunction)(S)&&S(this.position),v&&(v.style.left="".concat(y,"px"),v.style.top="".concat(C,"px"))}},c.prototype.getContainerEl=function(){var d=this.opts.container;return d?[d]:this.getDocumentEl()},c.prototype.getWindowEl=function(){var d=this.getContainerEl();return d.map(function(f){var h=f.ownerDocument||f;return h.defaultView||h.parentWindow})},c.prototype.getDocumentEl=function(d){var f=this.opts.doc;if(d=d||this.el,!this.docs.length){var h=[document];d&&h.push(d.ownerDocument),f&&h.push(f),this.docs=h}return this.docs},c.prototype.getPointerPos=function(d){var f=this.opts.getPointerPosition,h=(0,o.G2)(d);return f?f(d):{x:h.clientX,y:h.clientY}},c.prototype.getStartPosition=function(){var d=this,f=d.el,h=d.opts,p=h.getPosition,v=a();return(0,r.isFunction)(p)?v=p():f&&(v={x:parseFloat(f.style.left),y:parseFloat(f.style.top)}),v},c.prototype.getScrollInfo=function(){var d=this.opts.doc,f=d&&d.body;return{y:f?f.scrollTop:0,x:f?f.scrollLeft:0}},c.prototype.detectAxisLock=function(d,f){var h=d,p=f,v=Math.abs(h),g=Math.abs(p);if(p>=v||p<=-v)return"x";if(h>g||h<-g)return"y"},c})();const u=l}),7774:((n,t,e)=>{e.r(t),e.d(t,{default:()=>dr});var r=typeof document<"u"?document:null,o=typeof window<"u"?window:null,i=Array.prototype,a=i.filter,s=i.indexOf,l=i.map,u=i.push,c=i.reverse,d=i.slice,f=i.splice,h=/^#[\w-]*$/,p=/^\.[\w-]*$/,v=/<.+>/,g=/^\w+$/;function _(fe,Se){return Se===void 0&&(Se=r),p.test(fe)?Se.getElementsByClassName(fe.slice(1)):g.test(fe)?Se.getElementsByTagName(fe):Se.querySelectorAll(fe)}function S(fe,Se){if(Se===void 0&&(Se=r),!!fe){if(fe.__cash)return fe;var Ge=fe;if($(fe)){if(Se.__cash&&(Se=Se[0]),Ge=h.test(fe)?Se.getElementById(fe.slice(1)):v.test(fe)?Tt(fe):_(fe,Se),!Ge)return}else if(U(fe))return this.ready(fe);(Ge.nodeType||Ge===o)&&(Ge=[Ge]),this.length=Ge.length;for(var yt=0,Ft=this.length;yt<Ft;yt++)this[yt]=Ge[yt]}}function y(fe,Se){return new S(fe,Se)}var C=y.fn=y.prototype=S.prototype={constructor:y,__cash:!0,length:0,splice:f};C.get=function(fe){return fe===void 0?d.call(this):this[fe<0?fe+this.length:fe]},C.eq=function(fe){return y(this.get(fe))},C.first=function(){return this.eq(0)},C.last=function(){return this.eq(-1)},C.map=function(fe){return y(l.call(this,function(Se,Ge){return fe.call(Se,Ge,Se)}))},C.slice=function(){return y(d.apply(this,arguments))};var T=/(?:^\w|[A-Z]|\b\w)/g,P=/[\s-_]+/g;function F(fe){return fe.replace(T,function(Se,Ge){return Se[Ge?"toUpperCase":"toLowerCase"]()}).replace(P,"")}y.camelCase=F;function I(fe,Se){for(var Ge=0,yt=fe.length;Ge<yt&&Se.call(fe[Ge],fe[Ge],Ge,fe)!==!1;Ge++);}y.each=I,C.each=function(fe){return I(this,function(Se,Ge){return fe.call(Se,Ge,Se)}),this},C.removeProp=function(fe){return this.each(function(Se,Ge){delete Ge[fe]})};function k(fe){fe===void 0&&(fe=this);for(var Se=arguments,Ge=Se.length,yt=Ge<2?0:1;yt<Ge;yt++)for(var Ft in Se[yt])fe[Ft]=Se[yt][Ft];return fe}y.extend=C.extend=k;var M=1;y.guid=M;function V(fe,Se){var Ge=fe&&(fe.matches||fe.webkitMatchesSelector||fe.mozMatchesSelector||fe.msMatchesSelector||fe.oMatchesSelector);return!!Ge&&Ge.call(fe,Se)}y.matches=V;function U(fe){return typeof fe=="function"}y.isFunction=U;function $(fe){return typeof fe=="string"}y.isString=$;function Q(fe){return!isNaN(parseFloat(fe))&&isFinite(fe)}y.isNumeric=Q;var J=Array.isArray;y.isArray=J,C.prop=function(fe,Se){if(fe){if($(fe))return arguments.length<2?this[0]&&this[0][fe]:this.each(function(yt,Ft){Ft[fe]=Se});for(var Ge in fe)this.prop(Ge,fe[Ge]);return this}};function R(fe){return $(fe)?function(Se,Ge){return V(Ge,fe)}:fe.__cash?function(Se,Ge){return fe.is(Ge)}:function(Se,Ge,yt){return Ge===yt}}C.filter=function(fe){if(!fe)return y();var Se=U(fe)?fe:R(fe);return y(a.call(this,function(Ge,yt){return Se.call(Ge,yt,Ge,fe)}))};var ne=/\S+/g;function ue(fe){return $(fe)?fe.match(ne)||[]:[]}C.hasClass=function(fe){var Se=ue(fe),Ge=!1;return Se.length&&this.each(function(yt,Ft){return Ge=Ft.classList.contains(Se[0]),!Ge}),Ge},C.removeAttr=function(fe){var Se=ue(fe);return Se.length?this.each(function(Ge,yt){I(Se,function(Ft){yt.removeAttribute(Ft)})}):this},C.attr=function(fe,Se){if(fe){if($(fe)){if(arguments.length<2){if(!this[0])return;var Ge=this[0].getAttribute(fe);return Ge===null?void 0:Ge}return Se===null?this.removeAttr(fe):this.each(function(Ft,ln){ln.setAttribute(fe,Se)})}for(var yt in fe)this.attr(yt,fe[yt]);return this}},C.toggleClass=function(fe,Se){var Ge=ue(fe),yt=Se!==void 0;return Ge.length?this.each(function(Ft,ln){I(Ge,function(Yt){yt?Se?ln.classList.add(Yt):ln.classList.remove(Yt):ln.classList.toggle(Yt)})}):this},C.addClass=function(fe){return this.toggleClass(fe,!0)},C.removeClass=function(fe){return arguments.length?this.toggleClass(fe,!1):this.attr("class","")};function we(fe){return fe.filter(function(Se,Ge,yt){return yt.indexOf(Se)===Ge})}y.unique=we,C.add=function(fe,Se){return y(we(this.get().concat(y(fe,Se).get())))};function Be(fe,Se,Ge){if(fe.nodeType===1){var yt=o.getComputedStyle(fe,null);return Se?Ge?yt.getPropertyValue(Se):yt[Se]:yt}}function We(fe,Se){return parseInt(Be(fe,Se),10)||0}var pe=/^--/;function _e(fe){return pe.test(fe)}var Ce={},ve=r&&r.createElement("div"),Qe=ve?ve.style:{},se=["webkit","moz","ms","o"];function Te(fe,Se){if(Se===void 0&&(Se=_e(fe)),Se)return fe;if(!Ce[fe]){var Ge=F(fe),yt=""+Ge.charAt(0).toUpperCase()+Ge.slice(1),Ft=(Ge+" "+se.join(yt+" ")+yt).split(" ");I(Ft,function(ln){if(ln in Qe)return Ce[fe]=ln,!1})}return Ce[fe]}y.prefixedProp=Te;var je={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function nt(fe,Se,Ge){return Ge===void 0&&(Ge=_e(fe)),!Ge&&!je[fe]&&Q(Se)?Se+"px":Se}C.css=function(fe,Se){if($(fe)){var Ge=_e(fe);return fe=Te(fe,Ge),arguments.length<2?this[0]&&Be(this[0],fe,Ge):fe?(Se=nt(fe,Se,Ge),this.each(function(Ft,ln){ln.nodeType===1&&(Ge?ln.style.setProperty(fe,Se):ln.style[fe]=Se)})):this}for(var yt in fe)this.css(yt,fe[yt]);return this};var tt="__cashData",ot=/^data-(.*)/;y.hasData=function(fe){return tt in fe};function ye(fe){return fe[tt]=fe[tt]||{}}function be(fe,Se){var Ge=ye(fe);if(Se){if(!(Se in Ge)){var yt=fe.dataset?fe.dataset[Se]||fe.dataset[F(Se)]:y(fe).attr("data-"+Se);if(yt!==void 0){try{yt=JSON.parse(yt)}catch{}Ge[Se]=yt}}return Ge[Se]}return Ge}function me(fe,Se){Se===void 0?delete fe[tt]:delete ye(fe)[Se]}function Ve(fe,Se,Ge){ye(fe)[Se]=Ge}C.data=function(fe,Se){var Ge=this;if(!fe)return this[0]?(I(this[0].attributes,function(Ft){var ln=Ft.name.match(ot);ln&&Ge.data(ln[1])}),be(this[0])):void 0;if($(fe))return Se===void 0?this[0]&&be(this[0],fe):this.each(function(Ft,ln){return Ve(ln,fe,Se)});for(var yt in fe)this.data(yt,fe[yt]);return this},C.removeData=function(fe){return this.each(function(Se,Ge){return me(Ge,fe)})};function Ie(fe,Se){return We(fe,"border"+(Se?"Left":"Top")+"Width")+We(fe,"padding"+(Se?"Left":"Top"))+We(fe,"padding"+(Se?"Right":"Bottom"))+We(fe,"border"+(Se?"Right":"Bottom")+"Width")}I(["Width","Height"],function(fe){C["inner"+fe]=function(){if(this[0])return this[0]===o?o["inner"+fe]:this[0]["client"+fe]}}),I(["width","height"],function(fe,Se){C[fe]=function(Ge){return this[0]?arguments.length?(Ge=parseInt(Ge,10),this.each(function(yt,Ft){if(Ft.nodeType===1){var ln=Be(Ft,"boxSizing");Ft.style[fe]=nt(fe,Ge+(ln==="border-box"?Ie(Ft,!Se):0))}})):this[0]===o?this[0][F("outer-"+fe)]:this[0].getBoundingClientRect()[fe]-Ie(this[0],!Se):Ge===void 0?void 0:this}}),I(["Width","Height"],function(fe,Se){C["outer"+fe]=function(Ge){if(this[0])return this[0]===o?o["outer"+fe]:this[0]["offset"+fe]+(Ge?We(this[0],"margin"+(Se?"Top":"Left"))+We(this[0],"margin"+(Se?"Bottom":"Right")):0)}});function K(fe,Se){for(var Ge=0,yt=Se.length;Ge<yt;Ge++)if(fe.indexOf(Se[Ge])<0)return!1;return!0}function te(fe,Se,Ge){I(fe[Ge],function(yt){yt[0];var Ft=yt[1];Se.removeEventListener(Ge,Ft)}),delete fe[Ge]}var ee="__cashEvents",Ae=".";function xe(fe){return fe[ee]=fe[ee]||{}}function he(fe,Se,Ge,yt){yt.guid=yt.guid||M++;var Ft=xe(fe);Ft[Se]=Ft[Se]||[],Ft[Se].push([Ge,yt]),fe.addEventListener(Se,yt)}function Pe(fe){var Se=fe.split(Ae);return[Se[0],Se.slice(1).sort()]}function Ee(fe,Se,Ge,yt){var Ft=xe(fe);if(Se){var ln=Ft[Se];if(!ln)return;yt&&(yt.guid=yt.guid||M++),Ft[Se]=ln.filter(function(Yt){var Gr=Yt[0],Un=Yt[1];if(yt&&Un.guid!==yt.guid||!K(Gr,Ge))return!0;fe.removeEventListener(Se,Un)})}else if(!Ge||!Ge.length)for(Se in Ft)te(Ft,fe,Se);else for(Se in Ft)Ee(fe,Se,Ge,yt)}C.off=function(fe,Se){var Ge=this;return fe===void 0?this.each(function(yt,Ft){return Ee(Ft)}):I(ue(fe),function(yt){var Ft=Pe(yt),ln=Ft[0],Yt=Ft[1];Ge.each(function(Gr,Un){return Ee(Un,ln,Yt,Se)})}),this},C.on=function(fe,Se,Ge,yt){var Ft=this;if(!$(fe)){for(var ln in fe)this.on(ln,Se,fe[ln]);return this}return U(Se)&&(Ge=Se,Se=!1),I(ue(fe),function(Yt){var Gr=Pe(Yt),Un=Gr[0],Vr=Gr[1];Ft.each(function(ys,$r){var Fr=function Fo(Jn){if(!(Jn.namespace&&!K(Vr,Jn.namespace.split(Ae)))){var nr=$r;if(Se){for(var Ln=Jn.target;!V(Ln,Se);)if(Ln===$r||(Ln=Ln.parentNode,!Ln))return;nr=Ln}Jn.namespace=Jn.namespace||"";var lo=Ge.call(nr,Jn,Jn.data);yt&&Ee($r,Un,Vr,Fo),lo===!1&&(Jn.preventDefault(),Jn.stopPropagation())}};Fr.guid=Ge.guid=Ge.guid||M++,he($r,Un,Vr,Fr)})}),this},C.one=function(fe,Se,Ge){return this.on(fe,Se,Ge,!0)},C.ready=function(fe){var Se=function(){return fe(y)};return r.readyState!=="loading"?setTimeout(Se):r.addEventListener("DOMContentLoaded",Se),this},C.trigger=function(fe,Se){var Ge=fe;if($(fe)){var yt=Pe(fe),Ft=yt[0],ln=yt[1];Ge=r.createEvent("HTMLEvents"),Ge.initEvent(Ft,!0,!0),Ge.namespace=ln.join(Ae)}return Ge.data=Se,this.each(function(Yt,Gr){Gr.dispatchEvent(Ge)})};function st(fe){var Se=[];return I(fe.options,function(Ge){Ge.selected&&!Ge.disabled&&!Ge.parentNode.disabled&&Se.push(Ge.value)}),Se}function kt(fe){return fe.selectedIndex<0?null:fe.options[fe.selectedIndex].value}var Rt=/select-one/i,Y=/select-multiple/i;function ie(fe){var Se=fe.type;return Rt.test(Se)?kt(fe):Y.test(Se)?st(fe):fe.value}var G=/%20/g;function He(fe,Se){return"&"+encodeURIComponent(fe)+"="+encodeURIComponent(Se).replace(G,"+")}var De=/file|reset|submit|button|image/i,rt=/radio|checkbox/i;C.serialize=function(){var fe="";return this.each(function(Se,Ge){I(Ge.elements||[Ge],function(yt){if(!(yt.disabled||!yt.name||yt.tagName==="FIELDSET")&&!De.test(yt.type)&&!(rt.test(yt.type)&&!yt.checked)){var Ft=ie(yt);if(Ft!==void 0){var ln=J(Ft)?Ft:[Ft];I(ln,function(Yt){fe+=He(yt.name,Yt)})}}})}),fe.substr(1)},C.val=function(fe){return fe===void 0?this[0]&&ie(this[0]):this.each(function(Se,Ge){var yt=Y.test(Ge.type),Ft=fe===null?yt?[]:"":fe;yt&&J(Ft)?I(Ge.options,function(ln){ln.selected=Ft.indexOf(ln.value)>=0}):Ge.value=Ft})},C.clone=function(){return this.map(function(fe,Se){return Se.cloneNode(!0)})},C.detach=function(){return this.each(function(fe,Se){Se.parentNode&&Se.parentNode.removeChild(Se)})};var mt=/^\s*<(\w+)[^>]*>/,ft=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,gt;function St(){if(!gt){var fe=r.createElement("table"),Se=r.createElement("tr");gt={"*":r.createElement("div"),tr:r.createElement("tbody"),td:Se,th:Se,thead:fe,tbody:fe,tfoot:fe}}}function Tt(fe){if(St(),!$(fe))return[];if(ft.test(fe))return[r.createElement(RegExp.$1)];var Se=mt.test(fe)&&RegExp.$1,Ge=gt[Se]||gt["*"];return Ge.innerHTML=fe,y(Ge.childNodes).detach().get()}y.parseHTML=Tt,C.empty=function(){var fe=this[0];if(fe)for(;fe.firstChild;)fe.removeChild(fe.firstChild);return this};function Wt(fe,Se,Ge){Ge?fe.insertBefore(Se,fe.childNodes[0]):fe.appendChild(Se)}function qt(fe,Se,Ge){if(Se!==void 0){var yt=$(Se);!yt&&Se.length?I(Se,function(Ft){return qt(fe,Ft,Ge)}):I(fe,yt?function(Ft){Ft.insertAdjacentHTML(Ge?"afterbegin":"beforeend",Se)}:function(Ft,ln){return Wt(Ft,ln?Se.cloneNode(!0):Se,Ge)})}}C.append=function(){var fe=this;return I(arguments,function(Se){qt(fe,Se)}),this},C.appendTo=function(fe){return qt(y(fe),this),this},C.html=function(fe){if(fe===void 0)return this[0]&&this[0].innerHTML;var Se=fe.nodeType?fe[0].outerHTML:fe;return this.each(function(Ge,yt){yt.innerHTML=Se})},C.insertAfter=function(fe){var Se=this;return y(fe).each(function(Ge,yt){var Ft=yt.parentNode;Se.each(function(ln,Yt){Ft.insertBefore(Ge?Yt.cloneNode(!0):Yt,yt.nextSibling)})}),this},C.after=function(){var fe=this;return I(c.apply(arguments),function(Se){c.apply(y(Se).slice()).insertAfter(fe)}),this},C.insertBefore=function(fe){var Se=this;return y(fe).each(function(Ge,yt){var Ft=yt.parentNode;Se.each(function(ln,Yt){Ft.insertBefore(Ge?Yt.cloneNode(!0):Yt,yt)})}),this},C.before=function(){var fe=this;return I(arguments,function(Se){y(Se).insertBefore(fe)}),this},C.prepend=function(){var fe=this;return I(arguments,function(Se){qt(fe,Se,!0)}),this},C.prependTo=function(fe){return qt(y(fe),c.apply(this.slice()),!0),this},C.remove=function(){return this.detach().off()},C.replaceWith=function(fe){var Se=this;return this.each(function(Ge,yt){var Ft=yt.parentNode;if(Ft){var ln=Ge?y(fe).clone():y(fe);if(!ln[0])return Se.remove(),!1;Ft.replaceChild(ln[0],yt),y(ln[0]).after(ln.slice(1))}})},C.replaceAll=function(fe){return y(fe).replaceWith(this),this},C.text=function(fe){return fe===void 0?this[0]?this[0].textContent:"":this.each(function(Se,Ge){Ge.textContent=fe})};var mn=r&&r.documentElement;C.offset=function(){var fe=this[0];if(fe){var Se=fe.getBoundingClientRect();return{top:Se.top+o.pageYOffset-mn.clientTop,left:Se.left+o.pageXOffset-mn.clientLeft}}},C.offsetParent=function(){return y(this[0]&&this[0].offsetParent)},C.position=function(){var fe=this[0];if(fe)return{left:fe.offsetLeft,top:fe.offsetTop}},C.children=function(fe){var Se=[];return this.each(function(Ge,yt){u.apply(Se,yt.children)}),Se=y(we(Se)),fe?Se.filter(function(Ge,yt){return V(yt,fe)}):Se},C.contents=function(){var fe=[];return this.each(function(Se,Ge){u.apply(fe,Ge.tagName==="IFRAME"?[Ge.contentDocument]:Ge.childNodes)}),y(fe.length&&we(fe))},C.find=function(fe){for(var Se=[],Ge=0,yt=this.length;Ge<yt;Ge++){var Ft=_(fe,this[Ge]);Ft.length&&u.apply(Se,Ft)}return y(Se.length&&we(Se))},C.has=function(fe){var Se=$(fe)?function(Ge,yt){return!!_(fe,yt).length}:function(Ge,yt){return yt.contains(fe)};return this.filter(Se)},C.is=function(fe){if(!fe||!this[0])return!1;var Se=R(fe),Ge=!1;return this.each(function(yt,Ft){return Ge=Se(yt,Ft,fe),!Ge}),Ge},C.next=function(){return y(this[0]&&this[0].nextElementSibling)},C.not=function(fe){if(!fe||!this[0])return this;var Se=R(fe);return this.filter(function(Ge,yt){return!Se(Ge,yt,fe)})},C.parent=function(){var fe=[];return this.each(function(Se,Ge){Ge&&Ge.parentNode&&fe.push(Ge.parentNode)}),y(we(fe))},C.index=function(fe){var Se=fe?y(fe)[0]:this[0],Ge=fe?this:y(Se).parent().children();return s.call(Ge,Se)},C.closest=function(fe){return!fe||!this[0]?y():this.is(fe)?this.filter(fe):this.parent().closest(fe)},C.parents=function(fe){var Se=[],Ge;return this.each(function(yt,Ft){for(Ge=Ft;Ge&&Ge.parentNode&&Ge!==r.body.parentNode;)Ge=Ge.parentNode,(!fe||fe&&V(Ge,fe))&&Se.push(Ge)}),y(we(Se))},C.prev=function(){return y(this[0]&&this[0].previousElementSibling)},C.siblings=function(){var fe=this[0];return this.parent().children().filter(function(Se,Ge){return Ge!==fe})};const dr=y}),6294:((n,t,e)=>{e.d(t,{AU:()=>Be,BC:()=>g,C8:()=>I,Ch:()=>V,Ci:()=>Q,D8:()=>s,G2:()=>U,GW:()=>F,GZ:()=>S,I6:()=>d,LJ:()=>ne,Sc:()=>v,X6:()=>f,Xy:()=>k,YZ:()=>u,ZQ:()=>l,_I:()=>We,a_:()=>_,af:()=>C,bG:()=>p,cx:()=>c,ir:()=>T,kk:()=>ue,on:()=>we,rp:()=>R,v$:()=>$,yL:()=>y,zN:()=>h});var r=e(5706),o=function(pe,_e,Ce){if(Ce||arguments.length===2)for(var ve=0,Qe=_e.length,se;ve<Qe;ve++)(se||!(ve in _e))&&(se||(se=Array.prototype.slice.call(_e,0,ve)),se[ve]=_e[ve]);return pe.concat(se||Array.prototype.slice.call(_e))},i="tag",a="attributes",s="transitionend oTransitionEnd transitionend webkitTransitionEnd",l=function(pe){return(pe==null?void 0:pe.nodeType)===Node.DOCUMENT_NODE},u=function(pe){var _e=pe&&pe.parentNode;_e&&_e.removeChild(pe)};function c(){for(var pe=[],_e=0;_e<arguments.length;_e++)pe[_e]=arguments[_e];var Ce=Array.isArray(pe[0])?pe[0]:o([],pe,!0);return Ce.filter(Boolean).join(" ")}var d=function(pe,_e){return pe.querySelectorAll(_e)},f=function(pe,_e){return _e===void 0&&(_e={}),pe&&pe.setAttribute&&(0,r.each)(_e,function(Ce,ve){return pe.setAttribute(ve,Ce)})},h=function(pe){var _e;return pe&&!!(pe.offsetWidth||pe.offsetHeight||!((_e=pe.getClientRects)===null||_e===void 0)&&_e.call(pe).length)},p=function(pe,_e){var Ce;(Ce=pe.parentNode)===null||Ce===void 0||Ce.replaceChild(_e,pe)},v=function(pe,_e,Ce){var ve=pe.childNodes,Qe=ve.length,se=(0,r.isUndefined)(Ce)?Qe:Ce;(0,r.isString)(_e)&&(pe.insertAdjacentHTML("beforeEnd",_e),_e=pe.lastChild,pe.removeChild(_e)),se>=Qe?pe.appendChild(_e):pe.insertBefore(_e,ve[se])},g=function(pe,_e){return v(pe,_e)},_=function(pe,_e,Ce){_e===void 0&&(_e={});var ve=document.createElement(pe);return _e&&(0,r.each)(_e,function(Qe,se){return ve.setAttribute(se,Qe)}),Ce&&((0,r.isString)(Ce)?ve.innerHTML=Ce:ve.appendChild(Ce)),ve},S=function(pe){return document.createTextNode(pe)},y=function(pe,_e){var Ce,ve=pe.type;try{Ce=new window[_e](ve,pe)}catch{Ce=document.createEvent(_e),Ce.initEvent(ve,!0,!0)}return Ce._parentEvent=pe,ve.indexOf("key")===0&&(Ce.keyCodeVal=pe.keyCode,["keyCode","which"].forEach(function(Qe){Object.defineProperty(Ce,Qe,{get:function(){return this.keyCodeVal}})})),Ce},C=function(pe,_e){_e===void 0&&(_e=[]);var Ce=Array.isArray(_e)?_e:[_e];Ce.forEach(function(ve){var Qe=ve[i]||"div",se=ve[a]||{},Te=document.createElement(Qe);(0,r.each)(se,function(je,nt){Te.setAttribute(nt,je)}),pe.appendChild(Te)})},T=function(pe){return(pe==null?void 0:pe.nodeType)===Node.TEXT_NODE},P=function(pe){return(pe==null?void 0:pe.nodeType)===Node.COMMENT_NODE},F=function(pe){return pe&&!T(pe)&&!P(pe)},I=function(pe){var _e={top:0,left:0,width:0,height:0};if(!pe)return _e;var Ce;if(T(pe)){var ve=document.createRange();ve.selectNode(pe),Ce=ve.getBoundingClientRect(),ve.detach()}return Ce||(pe.getBoundingClientRect?pe.getBoundingClientRect():_e)},k=function(pe){var _e=(pe==null?void 0:pe.ownerDocument)||document,Ce=_e.documentElement,ve=_e.defaultView||window;return{x:(ve.pageXOffset||Ce.scrollLeft||0)-(Ce.clientLeft||0),y:(ve.pageYOffset||Ce.scrollTop||0)-(Ce.clientTop||0)}},M=function(pe){return pe.which||pe.keyCode},V=function(pe){return String.fromCharCode(M(pe))},U=function(pe){return pe.touches&&pe.touches[0]?pe.touches[0]:pe},$=function(pe){return M(pe)===27},Q=function(pe){return M(pe)===13},J=function(pe){return pe.ctrlKey},R=function(pe){return J(pe)||pe.metaKey},ne=function(pe){if(!pe)return"";var _e=pe.name,Ce=pe.publicId,ve=pe.systemId,Qe=Ce?' PUBLIC "'.concat(Ce,'"'):"",se=!Ce&&ve?' SYSTEM "'.concat(ve,'"'):"";return"<!DOCTYPE ".concat(_e).concat(Qe).concat(se,">")},ue=function(pe){pe===void 0&&(pe={});var _e=[];return(0,r.each)(pe,function(Ce,ve){return _e.push("".concat(ve,'="').concat(Ce,'"'))}),_e.join(" ")},we=function(pe,_e,Ce,ve){var Qe=_e.split(/\s+/),se=(0,r.isArray)(pe)?pe:[pe];Qe.forEach(function(Te){se.forEach(function(je){return je==null?void 0:je.addEventListener(Te,Ce,ve)})})},Be=function(pe,_e,Ce,ve){var Qe=_e.split(/\s+/),se=(0,r.isArray)(pe)?pe:[pe];Qe.forEach(function(Te){se.forEach(function(je){return je==null?void 0:je.removeEventListener(Te,Ce,ve)})})},We=function(pe){var _e=pe.replace(/-([a-zA-Z0-9])/g,function(Ce,ve){return ve.toUpperCase()});return _e}}),1166:((n,t,e)=>{e.r(t),e.d(t,{appendStyles:()=>k,buildBase64UrlFromSvg:()=>be,camelCase:()=>$,capitalize:()=>Qe,createId:()=>ye,deepMerge:()=>pe,escape:()=>ue,escapeAltQuoteAttrValue:()=>We,escapeAttrValue:()=>Be,escapeNodeContent:()=>we,find:()=>ne,get:()=>f,getComponentModel:()=>tt,getComponentView:()=>nt,getElement:()=>R,getGlobal:()=>C,getModel:()=>_e,getUiClass:()=>I,getUnitFromValue:()=>V,getViewEl:()=>Te,hasDnd:()=>J,hasWin:()=>y,isBultInMethod:()=>v,isComponent:()=>je,isDef:()=>S,isEmptyObj:()=>ve,isObject:()=>Ce,isRule:()=>se,matches:()=>F,normalizeFloat:()=>Q,normalizeKey:()=>g,serialize:()=>p,set:()=>h,setViewEl:()=>ot,shallowDiff:()=>M,stringToPath:()=>c,toLowerCase:()=>T,upFirst:()=>U,wait:()=>_});var r=e(5706),o=e(6294),i=function(){return i=Object.assign||function(me){for(var Ve,Ie=1,K=arguments.length;Ie<K;Ie++){Ve=arguments[Ie];for(var te in Ve)Object.prototype.hasOwnProperty.call(Ve,te)&&(me[te]=Ve[te])}return me},i.apply(this,arguments)},a=function(me,Ve,Ie){if(Ie||arguments.length===2)for(var K=0,te=Ve.length,ee;K<te;K++)(ee||!(K in Ve))&&(ee||(ee=Array.prototype.slice.call(Ve,0,K)),ee[K]=Ve[K]);return me.concat(ee||Array.prototype.slice.call(Ve))},s={},l=/\\(\\)?/g,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=function(me){var Ve=[];return me.charCodeAt(0)===46&&Ve.push(""),me.replace(u,function(Ie,K,te,ee){return Ve.push(te?ee.replace(l,"$1"):K||Ie),""}),Ve};function d(me,Ve){return(0,r.isArray)(me)?me:Ve.hasOwnProperty(me)?[me]:c(me)}var f=function(me,Ve,Ie){for(var K,te=d(Ve,me),ee=te.length,Ae=0;me!=null&&Ae<ee;)me=me["".concat(te[Ae++])];return(K=Ae&&Ae==ee?me:void 0)!==null&&K!==void 0?K:Ie},h=function(me,Ve,Ie){if(!Ce(me))return!1;var K=d(Ve,me),te=K.length;if(te===0)return!1;if(te===1)return me[K[0]]=Ie,!0;var ee=K.slice(0,-1),Ae=K[te-1],xe=f(me,ee);if(xe){if(Array.isArray(xe)){var he=+Ae;if(!isNaN(he))return xe[he]=Ie,!0}else if(Ce(xe))return xe[Ae]=Ie,!0}return!1},p=function(me){return JSON.parse(JSON.stringify(me))},v=function(me){return(0,r.isFunction)(s[me])},g=function(me){return v(me)?"_".concat(me):me},_=function(me){return me===void 0&&(me=0),new Promise(function(Ve){return setTimeout(Ve,me)})},S=function(me){return typeof me<"u"},y=function(){return typeof window<"u"},C=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:e.g},T=function(me){return(me||"").toLowerCase()},P=y()?window.Element.prototype:{},F=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.msMatchesSelector,I=function(me,Ve){var Ie=me.getConfig(),K=Ie.stylePrefix,te=Ie.customUI;return[te&&"".concat(K,"cui"),Ve].filter(function(ee){return ee}).join(" ")},k=function(me,Ve){Ve===void 0&&(Ve={});var Ie=(0,r.isArray)(me)?a([],me,!0):[me];if(Ie.length){var K=Ie.shift();if(K&&(!Ve.unique||!document.querySelector('link[href="'.concat(K,'"]')))){var te=document.head,ee=document.createElement("link");ee.href=K,ee.rel="stylesheet",Ve.prepand?te.insertBefore(ee,te.firstChild):te.appendChild(ee)}k(Ie)}},M=function(me,Ve){var Ie={},K=(0,r.keys)(Ve);for(var te in me)if(me.hasOwnProperty(te)){var ee=me[te],Ae=Ve[te];K.indexOf(te)>=0?ee!==Ae&&(Ie[te]=Ae):Ie[te]=null}for(var te in Ve)Ve.hasOwnProperty(te)&&(0,r.isUndefined)(me[te])&&(Ie[te]=Ve[te]);return Ie},V=function(me){return me.replace(parseFloat(me),"")},U=function(me){return me[0].toUpperCase()+me.toLowerCase().slice(1)},$=function(me){return me.replace(/-./g,function(Ve){return Ve[1].toUpperCase()})},Q=function(me,Ve,Ie){Ve===void 0&&(Ve=1),Ie===void 0&&(Ie=0);var K=0;if(isNaN(me))return Ie;if(me=parseFloat(me),Math.floor(me)!==me){var te=Ve.toString().split(".")[1];K=te?te.length:0}return K?parseFloat(me.toFixed(K)):me},J=function(me){return"draggable"in document.createElement("i")&&(me?me.config.nativeDnD:!0)},R=function(me){if((0,r.isElement)(me)||(0,o.ir)(me))return me;if(me&&me.getEl)return me.getEl()},ne=function(me,Ve){var Ie=null;return me.some(function(K,te){return Ve(K,te,me)?(Ie=K,1):0}),Ie},ue=function(me){return me===void 0&&(me=""),"".concat(me).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},we=function(me){return me===void 0&&(me=""),"".concat(me).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},Be=function(me){return me===void 0&&(me=""),"".concat(me).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},We=function(me){return me===void 0&&(me=""),"".concat(me).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;")},pe=function(){for(var me=[],Ve=0;Ve<arguments.length;Ve++)me[Ve]=arguments[Ve];for(var Ie=i({},me[0]),K=1;K<me.length;K++){var te=i({},me[K]);for(var ee in te){var Ae=Ie[ee],xe=te[ee];Ce(Ae)&&Ce(xe)?Ie[ee]=pe(Ae,xe):Ie[ee]=xe}}return Ie},_e=function(me,Ve){var Ie;return!Ve&&me&&me.__cashData?Ie=me.__cashData.model:Ve&&(0,r.isElement)(me)&&(Ie=Ve(me).data("model")),Ie},Ce=function(me){return me&&!Array.isArray(me)&&typeof me=="object"},ve=function(me){return Object.keys(me).length<=0},Qe=function(me){return me===void 0&&(me=""),me&&me.charAt(0).toUpperCase()+me.substring(1)},se=function(me){return me&&me.toCSS},Te=function(me){return me==null?void 0:me.__gjsv},je=function(me){return!!(me!=null&&me.toHTML)},nt=function(me){return Te(me)},tt=function(me){var Ve;return(Ve=nt(me))===null||Ve===void 0?void 0:Ve.model},ot=function(me,Ve){me.__gjsv=Ve},ye=function(me){me===void 0&&(me=16);for(var Ve="",Ie="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",K=Ie.length,te=0;te<me;te++)Ve+=Ie.charAt(Math.floor(Math.random()*K));return Ve},be=function(me){if(me&&me.substr(0,4)==="<svg"){var Ve="";return y()?Ve=window.btoa(me):typeof Buffer<"u"&&(Ve=Buffer.from(me,"utf8").toString("base64")),Ve?"data:image/svg+xml;base64,".concat(Ve):me}return me}}),6756:((n,t,e)=>{e.d(t,{h:()=>i});var r=e(3178),o=(function(){var s=function(l,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])},s(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(l,u);function c(){this.constructor=l}l.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}})(),i=(function(s){o(l,s);function l(){var u=s!==null&&s.apply(this,arguments)||this;return u.displayCache=new Map,u}return l.prototype.getChildren=function(){return this.getDisplayedChildren()},l.prototype.getDisplayedChildren=function(){var u=this,c=this.model.components(),d=c.filter(function(f){return u.isChildDisplayed(f)});return d.map(function(f){return new u.constructor(f)})},l.prototype.isChildDisplayed=function(u){if(this.displayCache.has(u))return this.displayCache.get(u);var c=u.getEl(),d=a(c);return this.displayCache.set(u,d),d},l.prototype.getParent=function(){var u=this.model.parent();return u?new this.constructor(u):null},l.prototype.addChildAt=function(u,c,d){var f,h,p,v,g,_,S,y;d===void 0&&(d={action:"add-component"});var C=((h=(f=this.model)===null||f===void 0?void 0:f.isInstanceOf)===null||h===void 0?void 0:h.call(f,"text"))&&((v=(p=u==null?void 0:u.model)===null||p===void 0?void 0:p.get)===null||v===void 0?void 0:v.call(p,"textable"));if(C)return(y=(S=(_=(g=this.model)===null||g===void 0?void 0:g.getView)===null||_===void 0?void 0:_.call(g))===null||S===void 0?void 0:S.insertComponent)===null||y===void 0?void 0:y.call(S,u==null?void 0:u.model,{action:d.action});var T=this.model.components().add(u.model,{at:this.getRealIndex(c),action:d.action});return new this.constructor(T)},l.prototype.removeChildAt=function(u,c){c===void 0&&(c={temporary:!1});var d=this.model.components().at(this.getRealIndex(u));d&&this.model.components().remove(d,c)},l.prototype.indexOfChild=function(u){return this.getDisplayIndex(u)},l.prototype.getDisplayIndex=function(u){var c=this.getDisplayedChildren();return c?c.findIndex(function(d){return d.model===u.model}):-1},l.prototype.getRealIndex=function(u){if(u===-1)return-1;for(var c=0,d=this.model.components(),f=0;f<d.length;f++){var h=d.at(f),p=this.isChildDisplayed(h);if(p&&c++,c===u+1)return f}return-1},l.prototype.canMove=function(u,c){return this.model.em.Components.canMove(this.model,u.model,this.getRealIndex(c)).result},l.prototype.equals=function(u){return!!(u!=null&&u._model)&&this._model.getId()===u._model.getId()},l.prototype.restNodeState=function(){this.clearState();var u=this.model;this.setContentEditable(!1),u.em.getEditing()===u&&this.disableEditing()},l.prototype.setContentEditable=function(u){this.element&&this.isTextNode()&&(this.element.contentEditable=u?"true":"false")},l.prototype.disableEditing=function(){var u,c;(c=(u=this.view)===null||u===void 0?void 0:u.disableEditing)===null||c===void 0||c.call(u)},l.prototype.clearState=function(){var u,c;(c=(u=this.model).set)===null||c===void 0||c.call(u,"status","")},l.prototype.setSelectedParentState=function(){var u,c;(c=(u=this.model).set)===null||c===void 0||c.call(u,"status","selected-parent")},l.prototype.isTextNode=function(){var u,c;return(c=(u=this.model).isInstanceOf)===null||c===void 0?void 0:c.call(u,"text")},l.prototype.isTextable=function(){var u,c;return(c=(u=this.model).get)===null||c===void 0?void 0:c.call(u,"textable")},l})(r.$);function a(s){return s?typeof s=="object"&&s.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(s).display!=="none"&&s.offsetWidth>0&&s.offsetHeight>0:!1}}),1447:((n,t,e)=>{e.d(t,{A:()=>a});var r=e(6756),o=(function(){var s=function(l,u){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])},s(l,u)};return function(l,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");s(l,u);function c(){this.constructor=l}l.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}})(),i=(function(s){o(l,s);function l(){var u=s!==null&&s.apply(this,arguments)||this;return u._dropAreaConfig={ratio:.8,minUndroppableDimension:1,maxUndroppableDimension:15},u}return Object.defineProperty(l.prototype,"view",{get:function(){var u,c;return(c=(u=this.model).getView)===null||c===void 0?void 0:c.call(u)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"element",{get:function(){var u,c;return(c=(u=this.model).getEl)===null||c===void 0?void 0:c.call(u)},enumerable:!1,configurable:!0}),l})(r.h);const a=i}),3178:((n,t,e)=>{e.d(t,{$:()=>r});var r=(function(){function o(i,a){a===void 0&&(a={}),this._dropAreaConfig={ratio:1,minUndroppableDimension:0,maxUndroppableDimension:0},this._model=i,this._dragSource=a}return Object.defineProperty(o.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dragSource",{get:function(){return this._dragSource},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"dropArea",{get:function(){var i,a;return this.getParent()?(a=this.nodeDimensions)===null||a===void 0?void 0:a.getDropArea(this._dropAreaConfig):(i=this.nodeDimensions)===null||i===void 0?void 0:i.clone()},enumerable:!1,configurable:!0}),o.prototype.isWithinDropBounds=function(i,a){return!!this.dropArea&&this.dropArea.isWithinBounds(i,a)},o.prototype.equals=function(i){return!!(i!=null&&i._model)&&this._model===i._model},o.prototype.adjustDimensions=function(i){var a,s;i.topDifference===0&&i.leftDifference===0||((a=this.nodeDimensions)===null||a===void 0||a.adjustDimensions(i),(s=this.childrenDimensions)===null||s===void 0||s.forEach(function(l){return l.adjustDimensions(i)}))},o})()}),8433:((n,t,e)=>{e.d(t,{A:()=>r});var r;(function(o){o.Vertical="Vertical",o.Horizontal="Horizontal",o.BothDirections="BothDirections"})(r||(r={}))}),585:((n,t,e)=>{var r={"./CanvasClear":9484,"./CanvasClear.ts":9484,"./CanvasMove":9516,"./CanvasMove.ts":9516,"./CommandAbstract":9946,"./CommandAbstract.ts":9946,"./ComponentDelete":7801,"./ComponentDelete.ts":7801,"./ComponentDrag":4864,"./ComponentDrag.ts":4864,"./ComponentEnter":6134,"./ComponentEnter.ts":6134,"./ComponentExit":914,"./ComponentExit.ts":914,"./ComponentNext":5547,"./ComponentNext.ts":5547,"./ComponentPrev":8655,"./ComponentPrev.ts":8655,"./ComponentStyleClear":7640,"./ComponentStyleClear.ts":7640,"./CopyComponent":5837,"./CopyComponent.ts":5837,"./ExportTemplate":6477,"./ExportTemplate.ts":6477,"./Fullscreen":1772,"./Fullscreen.ts":1772,"./MoveComponent":741,"./MoveComponent.ts":741,"./OpenAssets":2924,"./OpenAssets.ts":2924,"./OpenBlocks":3963,"./OpenBlocks.ts":3963,"./OpenLayers":1479,"./OpenLayers.ts":1479,"./OpenStyleManager":3473,"./OpenStyleManager.ts":3473,"./OpenTraitManager":5054,"./OpenTraitManager.ts":5054,"./PasteComponent":6979,"./PasteComponent.ts":6979,"./Preview":4457,"./Preview.ts":4457,"./Resize":5493,"./Resize.ts":5493,"./SelectComponent":9317,"./SelectComponent.ts":9317,"./SelectPosition":1406,"./SelectPosition.ts":1406,"./ShowOffset":9395,"./ShowOffset.ts":9395,"./SwitchVisibility":7285,"./SwitchVisibility.ts":7285};function o(a){var s=i(a);return e(s)}function i(a){if(!e.o(r,a)){var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}return r[a]}o.keys=function(){return Object.keys(r)},o.resolve=i,n.exports=o,o.id=585}),5706:((n,t,e)=>{e.r(t),e.d(t,{VERSION:()=>o,after:()=>Es,all:()=>pu,allKeys:()=>gt,any:()=>Dr,assign:()=>Fr,before:()=>Bs,bind:()=>Wc,bindAll:()=>Yd,chain:()=>ra,chunk:()=>ll,clone:()=>lo,collect:()=>Qi,compact:()=>fv,compose:()=>ic,constant:()=>Ie,contains:()=>So,countBy:()=>wA,create:()=>Ln,debounce:()=>vA,default:()=>gu,defaults:()=>Fo,defer:()=>oa,delay:()=>Ss,detect:()=>Bn,difference:()=>sp,drop:()=>mu,each:()=>$o,escape:()=>Ot,every:()=>pu,extend:()=>$r,extendOwn:()=>Fr,filter:()=>Ha,find:()=>Bn,findIndex:()=>il,findKey:()=>zc,findLastIndex:()=>sc,findWhere:()=>qr,first:()=>cc,flatten:()=>ap,foldl:()=>_a,foldr:()=>Ca,forEach:()=>$o,functions:()=>Vr,get:()=>Do,groupBy:()=>sl,has:()=>ta,head:()=>cc,identity:()=>ar,include:()=>So,includes:()=>So,indexBy:()=>np,indexOf:()=>vn,initial:()=>xo,inject:()=>_a,intersection:()=>Av,invert:()=>Un,invoke:()=>Gc,isArguments:()=>be,isArray:()=>tt,isArrayBuffer:()=>We,isBoolean:()=>U,isDataView:()=>nt,isDate:()=>ne,isElement:()=>$,isEmpty:()=>Y,isEqual:()=>ft,isError:()=>we,isFinite:()=>me,isFunction:()=>Ce,isMap:()=>Ge,isMatch:()=>ie,isNaN:()=>Ve,isNull:()=>M,isNumber:()=>R,isObject:()=>k,isRegExp:()=>ue,isSet:()=>Ft,isString:()=>J,isSymbol:()=>Be,isTypedArray:()=>Pe,isUndefined:()=>V,isWeakMap:()=>yt,isWeakSet:()=>ln,iteratee:()=>rr,keys:()=>Rt,last:()=>Xc,lastIndexOf:()=>fr,map:()=>Qi,mapObject:()=>na,matcher:()=>tn,matches:()=>tn,max:()=>ep,memoize:()=>Cs,methods:()=>Vr,min:()=>tp,mixin:()=>qd,negate:()=>xs,noop:()=>bs,now:()=>ce,object:()=>CA,omit:()=>Yc,once:()=>Xd,pairs:()=>Gr,partial:()=>Vl,partition:()=>rp,pick:()=>ip,pluck:()=>gA,property:()=>Xo,propertyOf:()=>Et,random:()=>ws,range:()=>Zc,reduce:()=>_a,reduceRight:()=>Ca,reject:()=>al,rest:()=>mu,restArguments:()=>I,result:()=>rl,sample:()=>lc,select:()=>Ha,shuffle:()=>Hl,size:()=>Jd,some:()=>Dr,sortBy:()=>yA,sortedIndex:()=>Rl,tail:()=>mu,take:()=>cc,tap:()=>yn,template:()=>_s,templateSettings:()=>Zn,throttle:()=>jo,times:()=>Sn,toArray:()=>uc,toPath:()=>Na,transpose:()=>vu,unescape:()=>Wn,union:()=>dc,uniq:()=>Jc,unique:()=>Jc,uniqueId:()=>ol,unzip:()=>vu,values:()=>Yt,where:()=>qh,without:()=>Zd,wrap:()=>Nl,zip:()=>lp});var r={};e.r(r),e.d(r,{VERSION:()=>o,after:()=>Es,all:()=>pu,allKeys:()=>gt,any:()=>Dr,assign:()=>Fr,before:()=>Bs,bind:()=>Wc,bindAll:()=>Yd,chain:()=>ra,chunk:()=>ll,clone:()=>lo,collect:()=>Qi,compact:()=>fv,compose:()=>ic,constant:()=>Ie,contains:()=>So,countBy:()=>wA,create:()=>Ln,debounce:()=>vA,default:()=>up,defaults:()=>Fo,defer:()=>oa,delay:()=>Ss,detect:()=>Bn,difference:()=>sp,drop:()=>mu,each:()=>$o,escape:()=>Ot,every:()=>pu,extend:()=>$r,extendOwn:()=>Fr,filter:()=>Ha,find:()=>Bn,findIndex:()=>il,findKey:()=>zc,findLastIndex:()=>sc,findWhere:()=>qr,first:()=>cc,flatten:()=>ap,foldl:()=>_a,foldr:()=>Ca,forEach:()=>$o,functions:()=>Vr,get:()=>Do,groupBy:()=>sl,has:()=>ta,head:()=>cc,identity:()=>ar,include:()=>So,includes:()=>So,indexBy:()=>np,indexOf:()=>vn,initial:()=>xo,inject:()=>_a,intersection:()=>Av,invert:()=>Un,invoke:()=>Gc,isArguments:()=>be,isArray:()=>tt,isArrayBuffer:()=>We,isBoolean:()=>U,isDataView:()=>nt,isDate:()=>ne,isElement:()=>$,isEmpty:()=>Y,isEqual:()=>ft,isError:()=>we,isFinite:()=>me,isFunction:()=>Ce,isMap:()=>Ge,isMatch:()=>ie,isNaN:()=>Ve,isNull:()=>M,isNumber:()=>R,isObject:()=>k,isRegExp:()=>ue,isSet:()=>Ft,isString:()=>J,isSymbol:()=>Be,isTypedArray:()=>Pe,isUndefined:()=>V,isWeakMap:()=>yt,isWeakSet:()=>ln,iteratee:()=>rr,keys:()=>Rt,last:()=>Xc,lastIndexOf:()=>fr,map:()=>Qi,mapObject:()=>na,matcher:()=>tn,matches:()=>tn,max:()=>ep,memoize:()=>Cs,methods:()=>Vr,min:()=>tp,mixin:()=>qd,negate:()=>xs,noop:()=>bs,now:()=>ce,object:()=>CA,omit:()=>Yc,once:()=>Xd,pairs:()=>Gr,partial:()=>Vl,partition:()=>rp,pick:()=>ip,pluck:()=>gA,property:()=>Xo,propertyOf:()=>Et,random:()=>ws,range:()=>Zc,reduce:()=>_a,reduceRight:()=>Ca,reject:()=>al,rest:()=>mu,restArguments:()=>I,result:()=>rl,sample:()=>lc,select:()=>Ha,shuffle:()=>Hl,size:()=>Jd,some:()=>Dr,sortBy:()=>yA,sortedIndex:()=>Rl,tail:()=>mu,take:()=>cc,tap:()=>yn,template:()=>_s,templateSettings:()=>Zn,throttle:()=>jo,times:()=>Sn,toArray:()=>uc,toPath:()=>Na,transpose:()=>vu,unescape:()=>Wn,union:()=>dc,uniq:()=>Jc,unique:()=>Jc,uniqueId:()=>ol,unzip:()=>vu,values:()=>Yt,where:()=>qh,without:()=>Zd,wrap:()=>Nl,zip:()=>lp});var o="1.13.1",i=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},a=Array.prototype,s=Object.prototype,l=typeof Symbol<"u"?Symbol.prototype:null,u=a.push,c=a.slice,d=s.toString,f=s.hasOwnProperty,h=typeof ArrayBuffer<"u",p=typeof DataView<"u",v=Array.isArray,g=Object.keys,_=Object.create,S=h&&ArrayBuffer.isView,y=isNaN,C=isFinite,T=!{toString:null}.propertyIsEnumerable("toString"),P=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=Math.pow(2,53)-1;function I(X,de){return de=de==null?X.length-1:+de,function(){for(var Fe=Math.max(arguments.length-de,0),Ne=Array(Fe),Ze=0;Ze<Fe;Ze++)Ne[Ze]=arguments[Ze+de];switch(de){case 0:return X.call(this,Ne);case 1:return X.call(this,arguments[0],Ne);case 2:return X.call(this,arguments[0],arguments[1],Ne)}var Xe=Array(de+1);for(Ze=0;Ze<de;Ze++)Xe[Ze]=arguments[Ze];return Xe[de]=Ne,X.apply(this,Xe)}}function k(X){var de=typeof X;return de==="function"||de==="object"&&!!X}function M(X){return X===null}function V(X){return X===void 0}function U(X){return X===!0||X===!1||d.call(X)==="[object Boolean]"}function $(X){return!!(X&&X.nodeType===1)}function Q(X){var de="[object "+X+"]";return function(Fe){return d.call(Fe)===de}}const J=Q("String"),R=Q("Number"),ne=Q("Date"),ue=Q("RegExp"),we=Q("Error"),Be=Q("Symbol"),We=Q("ArrayBuffer");var pe=Q("Function"),_e=i.document&&i.document.childNodes;typeof Int8Array!="object"&&typeof _e!="function"&&(pe=function(X){return typeof X=="function"||!1});const Ce=pe,ve=Q("Object");var Qe=p&&ve(new DataView(new ArrayBuffer(8))),se=typeof Map<"u"&&ve(new Map),Te=Q("DataView");function je(X){return X!=null&&Ce(X.getInt8)&&We(X.buffer)}const nt=Qe?je:Te,tt=v||Q("Array");function ot(X,de){return X!=null&&f.call(X,de)}var ye=Q("Arguments");(function(){ye(arguments)||(ye=function(X){return ot(X,"callee")})})();const be=ye;function me(X){return!Be(X)&&C(X)&&!isNaN(parseFloat(X))}function Ve(X){return R(X)&&y(X)}function Ie(X){return function(){return X}}function K(X){return function(de){var Fe=X(de);return typeof Fe=="number"&&Fe>=0&&Fe<=F}}function te(X){return function(de){return de==null?void 0:de[X]}}const ee=te("byteLength"),Ae=K(ee);var xe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function he(X){return S?S(X)&&!nt(X):Ae(X)&&xe.test(d.call(X))}const Pe=h?he:Ie(!1),Ee=te("length");function st(X){for(var de={},Fe=X.length,Ne=0;Ne<Fe;++Ne)de[X[Ne]]=!0;return{contains:function(Ze){return de[Ze]},push:function(Ze){return de[Ze]=!0,X.push(Ze)}}}function kt(X,de){de=st(de);var Fe=P.length,Ne=X.constructor,Ze=Ce(Ne)&&Ne.prototype||s,Xe="constructor";for(ot(X,Xe)&&!de.contains(Xe)&&de.push(Xe);Fe--;)Xe=P[Fe],Xe in X&&X[Xe]!==Ze[Xe]&&!de.contains(Xe)&&de.push(Xe)}function Rt(X){if(!k(X))return[];if(g)return g(X);var de=[];for(var Fe in X)ot(X,Fe)&&de.push(Fe);return T&&kt(X,de),de}function Y(X){if(X==null)return!0;var de=Ee(X);return typeof de=="number"&&(tt(X)||J(X)||be(X))?de===0:Ee(Rt(X))===0}function ie(X,de){var Fe=Rt(de),Ne=Fe.length;if(X==null)return!Ne;for(var Ze=Object(X),Xe=0;Xe<Ne;Xe++){var vt=Fe[Xe];if(de[vt]!==Ze[vt]||!(vt in Ze))return!1}return!0}function G(X){if(X instanceof G)return X;if(!(this instanceof G))return new G(X);this._wrapped=X}G.VERSION=o,G.prototype.value=function(){return this._wrapped},G.prototype.valueOf=G.prototype.toJSON=G.prototype.value,G.prototype.toString=function(){return String(this._wrapped)};function He(X){return new Uint8Array(X.buffer||X,X.byteOffset||0,ee(X))}var De="[object DataView]";function rt(X,de,Fe,Ne){if(X===de)return X!==0||1/X===1/de;if(X==null||de==null)return!1;if(X!==X)return de!==de;var Ze=typeof X;return Ze!=="function"&&Ze!=="object"&&typeof de!="object"?!1:mt(X,de,Fe,Ne)}function mt(X,de,Fe,Ne){X instanceof G&&(X=X._wrapped),de instanceof G&&(de=de._wrapped);var Ze=d.call(X);if(Ze!==d.call(de))return!1;if(Qe&&Ze=="[object Object]"&&nt(X)){if(!nt(de))return!1;Ze=De}switch(Ze){case"[object RegExp]":case"[object String]":return""+X==""+de;case"[object Number]":return+X!=+X?+de!=+de:+X==0?1/+X===1/de:+X==+de;case"[object Date]":case"[object Boolean]":return+X==+de;case"[object Symbol]":return l.valueOf.call(X)===l.valueOf.call(de);case"[object ArrayBuffer]":case De:return mt(He(X),He(de),Fe,Ne)}var Xe=Ze==="[object Array]";if(!Xe&&Pe(X)){var vt=ee(X);if(vt!==ee(de))return!1;if(X.buffer===de.buffer&&X.byteOffset===de.byteOffset)return!0;Xe=!0}if(!Xe){if(typeof X!="object"||typeof de!="object")return!1;var Ut=X.constructor,zn=de.constructor;if(Ut!==zn&&!(Ce(Ut)&&Ut instanceof Ut&&Ce(zn)&&zn instanceof zn)&&"constructor"in X&&"constructor"in de)return!1}Fe=Fe||[],Ne=Ne||[];for(var Nn=Fe.length;Nn--;)if(Fe[Nn]===X)return Ne[Nn]===de;if(Fe.push(X),Ne.push(de),Xe){if(Nn=X.length,Nn!==de.length)return!1;for(;Nn--;)if(!rt(X[Nn],de[Nn],Fe,Ne))return!1}else{var Zo=Rt(X),qo;if(Nn=Zo.length,Rt(de).length!==Nn)return!1;for(;Nn--;)if(qo=Zo[Nn],!(ot(de,qo)&&rt(X[qo],de[qo],Fe,Ne)))return!1}return Fe.pop(),Ne.pop(),!0}function ft(X,de){return rt(X,de)}function gt(X){if(!k(X))return[];var de=[];for(var Fe in X)de.push(Fe);return T&&kt(X,de),de}function St(X){var de=Ee(X);return function(Fe){if(Fe==null)return!1;var Ne=gt(Fe);if(Ee(Ne))return!1;for(var Ze=0;Ze<de;Ze++)if(!Ce(Fe[X[Ze]]))return!1;return X!==fe||!Ce(Fe[Tt])}}var Tt="forEach",Wt="has",qt=["clear","delete"],mn=["get",Wt,"set"],dr=qt.concat(Tt,mn),fe=qt.concat(mn),Se=["add"].concat(qt,Tt,Wt);const Ge=se?St(dr):Q("Map"),yt=se?St(fe):Q("WeakMap"),Ft=se?St(Se):Q("Set"),ln=Q("WeakSet");function Yt(X){for(var de=Rt(X),Fe=de.length,Ne=Array(Fe),Ze=0;Ze<Fe;Ze++)Ne[Ze]=X[de[Ze]];return Ne}function Gr(X){for(var de=Rt(X),Fe=de.length,Ne=Array(Fe),Ze=0;Ze<Fe;Ze++)Ne[Ze]=[de[Ze],X[de[Ze]]];return Ne}function Un(X){for(var de={},Fe=Rt(X),Ne=0,Ze=Fe.length;Ne<Ze;Ne++)de[X[Fe[Ne]]]=Fe[Ne];return de}function Vr(X){var de=[];for(var Fe in X)Ce(X[Fe])&&de.push(Fe);return de.sort()}function ys(X,de){return function(Fe){var Ne=arguments.length;if(de&&(Fe=Object(Fe)),Ne<2||Fe==null)return Fe;for(var Ze=1;Ze<Ne;Ze++)for(var Xe=arguments[Ze],vt=X(Xe),Ut=vt.length,zn=0;zn<Ut;zn++){var Nn=vt[zn];(!de||Fe[Nn]===void 0)&&(Fe[Nn]=Xe[Nn])}return Fe}}const $r=ys(gt),Fr=ys(Rt),Fo=ys(gt,!0);function Jn(){return function(){}}function nr(X){if(!k(X))return{};if(_)return _(X);var de=Jn();de.prototype=X;var Fe=new de;return de.prototype=null,Fe}function Ln(X,de){var Fe=nr(X);return de&&Fr(Fe,de),Fe}function lo(X){return k(X)?tt(X)?X.slice():$r({},X):X}function yn(X,de){return de(X),X}function Na(X){return tt(X)?X:[X]}G.toPath=Na;function wa(X){return G.toPath(X)}function uo(X,de){for(var Fe=de.length,Ne=0;Ne<Fe;Ne++){if(X==null)return;X=X[de[Ne]]}return Fe?X:void 0}function Do(X,de,Fe){var Ne=uo(X,wa(de));return V(Ne)?Fe:Ne}function ta(X,de){de=wa(de);for(var Fe=de.length,Ne=0;Ne<Fe;Ne++){var Ze=de[Ne];if(!ot(X,Ze))return!1;X=X[Ze]}return!!Fe}function ar(X){return X}function tn(X){return X=Fr({},X),function(de){return ie(de,X)}}function Xo(X){return X=wa(X),function(de){return uo(de,X)}}function co(X,de,Fe){if(de===void 0)return X;switch(Fe??3){case 1:return function(Ne){return X.call(de,Ne)};case 3:return function(Ne,Ze,Xe){return X.call(de,Ne,Ze,Xe)};case 4:return function(Ne,Ze,Xe,vt){return X.call(de,Ne,Ze,Xe,vt)}}return function(){return X.apply(de,arguments)}}function mi(X,de,Fe){return X==null?ar:Ce(X)?co(X,de,Fe):k(X)&&!tt(X)?tn(X):Xo(X)}function rr(X,de){return mi(X,de,1/0)}G.iteratee=rr;function Vn(X,de,Fe){return G.iteratee!==rr?G.iteratee(X,de):mi(X,de,Fe)}function na(X,de,Fe){de=Vn(de,Fe);for(var Ne=Rt(X),Ze=Ne.length,Xe={},vt=0;vt<Ze;vt++){var Ut=Ne[vt];Xe[Ut]=de(X[Ut],Ut,X)}return Xe}function bs(){}function Et(X){return X==null?bs:function(de){return Do(X,de)}}function Sn(X,de,Fe){var Ne=Array(Math.max(0,X));de=co(de,Fe,1);for(var Ze=0;Ze<X;Ze++)Ne[Ze]=de(Ze);return Ne}function ws(X,de){return de==null&&(de=X,X=0),X+Math.floor(Math.random()*(de-X+1))}const ce=Date.now||function(){return new Date().getTime()};function Me(X){var de=function(Xe){return X[Xe]},Fe="(?:"+Rt(X).join("|")+")",Ne=RegExp(Fe),Ze=RegExp(Fe,"g");return function(Xe){return Xe=Xe==null?"":""+Xe,Ne.test(Xe)?Xe.replace(Ze,de):Xe}}const dt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Ot=Me(dt),Mt=Un(dt),Wn=Me(Mt),Zn=G.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ro=/(.)^/,Or={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Ra=/\\|'|\r|\n|\u2028|\u2029/g;function nc(X){return"\\"+Or[X]}var rc=/^\s*(\w|\$)+\s*$/;function _s(X,de,Fe){!de&&Fe&&(de=Fe),de=Fo({},de,G.templateSettings);var Ne=RegExp([(de.escape||ro).source,(de.interpolate||ro).source,(de.evaluate||ro).source].join("|")+"|$","g"),Ze=0,Xe="__p+='";X.replace(Ne,function(Nn,Zo,qo,ef,tf){return Xe+=X.slice(Ze,tf).replace(Ra,nc),Ze=tf+Nn.length,Zo?Xe+=`'+
((__t=(`+Zo+`))==null?'':_.escape(__t))+
'`:qo?Xe+=`'+
((__t=(`+qo+`))==null?'':__t)+
'`:ef&&(Xe+=`';
`+ef+`
__p+='`),Nn}),Xe+=`';
`;var vt=de.variable;if(vt){if(!rc.test(vt))throw new Error("variable is not a bare identifier: "+vt)}else Xe=`with(obj||{}){
`+Xe+`}
`,vt="obj";Xe=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Xe+`return __p;
`;var Ut;try{Ut=new Function(vt,"_",Xe)}catch(Nn){throw Nn.source=Xe,Nn}var zn=function(Nn){return Ut.call(this,Nn,G)};return zn.source="function("+vt+`){
`+Xe+"}",zn}function rl(X,de,Fe){de=wa(de);var Ne=de.length;if(!Ne)return Ce(Fe)?Fe.call(X):Fe;for(var Ze=0;Ze<Ne;Ze++){var Xe=X==null?void 0:X[de[Ze]];Xe===void 0&&(Xe=Fe,Ze=Ne),X=Ce(Xe)?Xe.call(X):Xe}return X}var Kc=0;function ol(X){var de=++Kc+"";return X?X+de:de}function ra(X){var de=G(X);return de._chain=!0,de}function oc(X,de,Fe,Ne,Ze){if(!(Ne instanceof de))return X.apply(Fe,Ze);var Xe=nr(X.prototype),vt=X.apply(Xe,Ze);return k(vt)?vt:Xe}var hu=I(function(X,de){var Fe=hu.placeholder,Ne=function(){for(var Ze=0,Xe=de.length,vt=Array(Xe),Ut=0;Ut<Xe;Ut++)vt[Ut]=de[Ut]===Fe?arguments[Ze++]:de[Ut];for(;Ze<arguments.length;)vt.push(arguments[Ze++]);return oc(X,Ne,this,this,vt)};return Ne});hu.placeholder=G;const Vl=hu,Wc=I(function(X,de,Fe){if(!Ce(X))throw new TypeError("Bind must be called on a function");var Ne=I(function(Ze){return oc(X,Ne,de,this,Fe.concat(Ze))});return Ne}),Qo=K(Ee);function Jo(X,de,Fe,Ne){if(Ne=Ne||[],!de&&de!==0)de=1/0;else if(de<=0)return Ne.concat(X);for(var Ze=Ne.length,Xe=0,vt=Ee(X);Xe<vt;Xe++){var Ut=X[Xe];if(Qo(Ut)&&(tt(Ut)||be(Ut)))if(de>1)Jo(Ut,de-1,Fe,Ne),Ze=Ne.length;else for(var zn=0,Nn=Ut.length;zn<Nn;)Ne[Ze++]=Ut[zn++];else Fe||(Ne[Ze++]=Ut)}return Ne}const Yd=I(function(X,de){de=Jo(de,!1,!1);var Fe=de.length;if(Fe<1)throw new Error("bindAll must be passed function names");for(;Fe--;){var Ne=de[Fe];X[Ne]=Wc(X[Ne],X)}return X});function Cs(X,de){var Fe=function(Ne){var Ze=Fe.cache,Xe=""+(de?de.apply(this,arguments):Ne);return ot(Ze,Xe)||(Ze[Xe]=X.apply(this,arguments)),Ze[Xe]};return Fe.cache={},Fe}const Ss=I(function(X,de,Fe){return setTimeout(function(){return X.apply(null,Fe)},de)}),oa=Vl(Ss,G,1);function jo(X,de,Fe){var Ne,Ze,Xe,vt,Ut=0;Fe||(Fe={});var zn=function(){Ut=Fe.leading===!1?0:ce(),Ne=null,vt=X.apply(Ze,Xe),Ne||(Ze=Xe=null)},Nn=function(){var Zo=ce();!Ut&&Fe.leading===!1&&(Ut=Zo);var qo=de-(Zo-Ut);return Ze=this,Xe=arguments,qo<=0||qo>de?(Ne&&(clearTimeout(Ne),Ne=null),Ut=Zo,vt=X.apply(Ze,Xe),Ne||(Ze=Xe=null)):!Ne&&Fe.trailing!==!1&&(Ne=setTimeout(zn,qo)),vt};return Nn.cancel=function(){clearTimeout(Ne),Ut=0,Ne=Ze=Xe=null},Nn}function vA(X,de,Fe){var Ne,Ze,Xe,vt,Ut,zn=function(){var Zo=ce()-Ze;de>Zo?Ne=setTimeout(zn,de-Zo):(Ne=null,Fe||(vt=X.apply(Ut,Xe)),Ne||(Xe=Ut=null))},Nn=I(function(Zo){return Ut=this,Xe=Zo,Ze=ce(),Ne||(Ne=setTimeout(zn,de),Fe&&(vt=X.apply(Ut,Xe))),vt});return Nn.cancel=function(){clearTimeout(Ne),Ne=Xe=Ut=null},Nn}function Nl(X,de){return Vl(de,X)}function xs(X){return function(){return!X.apply(this,arguments)}}function ic(){var X=arguments,de=X.length-1;return function(){for(var Fe=de,Ne=X[de].apply(this,arguments);Fe--;)Ne=X[Fe].call(this,Ne);return Ne}}function Es(X,de){return function(){if(--X<1)return de.apply(this,arguments)}}function Bs(X,de){var Fe;return function(){return--X>0&&(Fe=de.apply(this,arguments)),X<=1&&(de=null),Fe}}const Xd=Vl(Bs,2);function zc(X,de,Fe){de=Vn(de,Fe);for(var Ne=Rt(X),Ze,Xe=0,vt=Ne.length;Xe<vt;Xe++)if(Ze=Ne[Xe],de(X[Ze],Ze,X))return Ze}function ac(X){return function(de,Fe,Ne){Fe=Vn(Fe,Ne);for(var Ze=Ee(de),Xe=X>0?0:Ze-1;Xe>=0&&Xe<Ze;Xe+=X)if(Fe(de[Xe],Xe,de))return Xe;return-1}}const il=ac(1),sc=ac(-1);function Rl(X,de,Fe,Ne){Fe=Vn(Fe,Ne,1);for(var Ze=Fe(de),Xe=0,vt=Ee(X);Xe<vt;){var Ut=Math.floor((Xe+vt)/2);Fe(X[Ut])<Ze?Xe=Ut+1:vt=Ut}return Xe}function bn(X,de,Fe){return function(Ne,Ze,Xe){var vt=0,Ut=Ee(Ne);if(typeof Xe=="number")X>0?vt=Xe>=0?Xe:Math.max(Xe+Ut,vt):Ut=Xe>=0?Math.min(Xe+1,Ut):Xe+Ut+1;else if(Fe&&Xe&&Ut)return Xe=Fe(Ne,Ze),Ne[Xe]===Ze?Xe:-1;if(Ze!==Ze)return Xe=de(c.call(Ne,vt,Ut),Ve),Xe>=0?Xe+vt:-1;for(Xe=X>0?vt:Ut-1;Xe>=0&&Xe<Ut;Xe+=X)if(Ne[Xe]===Ze)return Xe;return-1}}const vn=bn(1,il,Rl),fr=bn(-1,sc);function Bn(X,de,Fe){var Ne=Qo(X)?il:zc,Ze=Ne(X,de,Fe);if(Ze!==void 0&&Ze!==-1)return X[Ze]}function qr(X,de){return Bn(X,tn(de))}function $o(X,de,Fe){de=co(de,Fe);var Ne,Ze;if(Qo(X))for(Ne=0,Ze=X.length;Ne<Ze;Ne++)de(X[Ne],Ne,X);else{var Xe=Rt(X);for(Ne=0,Ze=Xe.length;Ne<Ze;Ne++)de(X[Xe[Ne]],Xe[Ne],X)}return X}function Qi(X,de,Fe){de=Vn(de,Fe);for(var Ne=!Qo(X)&&Rt(X),Ze=(Ne||X).length,Xe=Array(Ze),vt=0;vt<Ze;vt++){var Ut=Ne?Ne[vt]:vt;Xe[vt]=de(X[Ut],Ut,X)}return Xe}function ks(X){var de=function(Fe,Ne,Ze,Xe){var vt=!Qo(Fe)&&Rt(Fe),Ut=(vt||Fe).length,zn=X>0?0:Ut-1;for(Xe||(Ze=Fe[vt?vt[zn]:zn],zn+=X);zn>=0&&zn<Ut;zn+=X){var Nn=vt?vt[zn]:zn;Ze=Ne(Ze,Fe[Nn],Nn,Fe)}return Ze};return function(Fe,Ne,Ze,Xe){var vt=arguments.length>=3;return de(Fe,co(Ne,Xe,4),Ze,vt)}}const _a=ks(1),Ca=ks(-1);function Ha(X,de,Fe){var Ne=[];return de=Vn(de,Fe),$o(X,function(Ze,Xe,vt){de(Ze,Xe,vt)&&Ne.push(Ze)}),Ne}function al(X,de,Fe){return Ha(X,xs(Vn(de)),Fe)}function pu(X,de,Fe){de=Vn(de,Fe);for(var Ne=!Qo(X)&&Rt(X),Ze=(Ne||X).length,Xe=0;Xe<Ze;Xe++){var vt=Ne?Ne[Xe]:Xe;if(!de(X[vt],vt,X))return!1}return!0}function Dr(X,de,Fe){de=Vn(de,Fe);for(var Ne=!Qo(X)&&Rt(X),Ze=(Ne||X).length,Xe=0;Xe<Ze;Xe++){var vt=Ne?Ne[Xe]:Xe;if(de(X[vt],vt,X))return!0}return!1}function So(X,de,Fe,Ne){return Qo(X)||(X=Yt(X)),(typeof Fe!="number"||Ne)&&(Fe=0),vn(X,de,Fe)>=0}const Gc=I(function(X,de,Fe){var Ne,Ze;return Ce(de)?Ze=de:(de=wa(de),Ne=de.slice(0,-1),de=de[de.length-1]),Qi(X,function(Xe){var vt=Ze;if(!vt){if(Ne&&Ne.length&&(Xe=uo(Xe,Ne)),Xe==null)return;vt=Xe[de]}return vt==null?vt:vt.apply(Xe,Fe)})});function gA(X,de){return Qi(X,Xo(de))}function qh(X,de){return Ha(X,tn(de))}function ep(X,de,Fe){var Ne=-1/0,Ze=-1/0,Xe,vt;if(de==null||typeof de=="number"&&typeof X[0]!="object"&&X!=null){X=Qo(X)?X:Yt(X);for(var Ut=0,zn=X.length;Ut<zn;Ut++)Xe=X[Ut],Xe!=null&&Xe>Ne&&(Ne=Xe)}else de=Vn(de,Fe),$o(X,function(Nn,Zo,qo){vt=de(Nn,Zo,qo),(vt>Ze||vt===-1/0&&Ne===-1/0)&&(Ne=Nn,Ze=vt)});return Ne}function tp(X,de,Fe){var Ne=1/0,Ze=1/0,Xe,vt;if(de==null||typeof de=="number"&&typeof X[0]!="object"&&X!=null){X=Qo(X)?X:Yt(X);for(var Ut=0,zn=X.length;Ut<zn;Ut++)Xe=X[Ut],Xe!=null&&Xe<Ne&&(Ne=Xe)}else de=Vn(de,Fe),$o(X,function(Nn,Zo,qo){vt=de(Nn,Zo,qo),(vt<Ze||vt===1/0&&Ne===1/0)&&(Ne=Nn,Ze=vt)});return Ne}function lc(X,de,Fe){if(de==null||Fe)return Qo(X)||(X=Yt(X)),X[ws(X.length-1)];var Ne=Qo(X)?lo(X):Yt(X),Ze=Ee(Ne);de=Math.max(Math.min(de,Ze),0);for(var Xe=Ze-1,vt=0;vt<de;vt++){var Ut=ws(vt,Xe),zn=Ne[vt];Ne[vt]=Ne[Ut],Ne[Ut]=zn}return Ne.slice(0,de)}function Hl(X){return lc(X,1/0)}function yA(X,de,Fe){var Ne=0;return de=Vn(de,Fe),gA(Qi(X,function(Ze,Xe,vt){return{value:Ze,index:Ne++,criteria:de(Ze,Xe,vt)}}).sort(function(Ze,Xe){var vt=Ze.criteria,Ut=Xe.criteria;if(vt!==Ut){if(vt>Ut||vt===void 0)return 1;if(vt<Ut||Ut===void 0)return-1}return Ze.index-Xe.index}),"value")}function bA(X,de){return function(Fe,Ne,Ze){var Xe=de?[[],[]]:{};return Ne=Vn(Ne,Ze),$o(Fe,function(vt,Ut){var zn=Ne(vt,Ut,Fe);X(Xe,vt,zn)}),Xe}}const sl=bA(function(X,de,Fe){ot(X,Fe)?X[Fe].push(de):X[Fe]=[de]}),np=bA(function(X,de,Fe){X[Fe]=de}),wA=bA(function(X,de,Fe){ot(X,Fe)?X[Fe]++:X[Fe]=1}),rp=bA(function(X,de,Fe){X[Fe?0:1].push(de)},!0);var _A=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function uc(X){return X?tt(X)?c.call(X):J(X)?X.match(_A):Qo(X)?Qi(X,ar):Yt(X):[]}function Jd(X){return X==null?0:Qo(X)?X.length:Rt(X).length}function op(X,de,Fe){return de in Fe}const ip=I(function(X,de){var Fe={},Ne=de[0];if(X==null)return Fe;Ce(Ne)?(de.length>1&&(Ne=co(Ne,de[1])),de=gt(X)):(Ne=op,de=Jo(de,!1,!1),X=Object(X));for(var Ze=0,Xe=de.length;Ze<Xe;Ze++){var vt=de[Ze],Ut=X[vt];Ne(Ut,vt,X)&&(Fe[vt]=Ut)}return Fe}),Yc=I(function(X,de){var Fe=de[0],Ne;return Ce(Fe)?(Fe=xs(Fe),de.length>1&&(Ne=de[1])):(de=Qi(Jo(de,!1,!1),String),Fe=function(Ze,Xe){return!So(de,Xe)}),ip(X,Fe,Ne)});function xo(X,de,Fe){return c.call(X,0,Math.max(0,X.length-(de==null||Fe?1:de)))}function cc(X,de,Fe){return X==null||X.length<1?de==null||Fe?void 0:[]:de==null||Fe?X[0]:xo(X,X.length-de)}function mu(X,de,Fe){return c.call(X,de==null||Fe?1:de)}function Xc(X,de,Fe){return X==null||X.length<1?de==null||Fe?void 0:[]:de==null||Fe?X[X.length-1]:mu(X,Math.max(0,X.length-de))}function fv(X){return Ha(X,Boolean)}function ap(X,de){return Jo(X,de,!1)}const sp=I(function(X,de){return de=Jo(de,!0,!0),Ha(X,function(Fe){return!So(de,Fe)})}),Zd=I(function(X,de){return sp(X,de)});function Jc(X,de,Fe,Ne){U(de)||(Ne=Fe,Fe=de,de=!1),Fe!=null&&(Fe=Vn(Fe,Ne));for(var Ze=[],Xe=[],vt=0,Ut=Ee(X);vt<Ut;vt++){var zn=X[vt],Nn=Fe?Fe(zn,vt,X):zn;de&&!Fe?((!vt||Xe!==Nn)&&Ze.push(zn),Xe=Nn):Fe?So(Xe,Nn)||(Xe.push(Nn),Ze.push(zn)):So(Ze,zn)||Ze.push(zn)}return Ze}const dc=I(function(X){return Jc(Jo(X,!0,!0))});function Av(X){for(var de=[],Fe=arguments.length,Ne=0,Ze=Ee(X);Ne<Ze;Ne++){var Xe=X[Ne];if(!So(de,Xe)){var vt;for(vt=1;vt<Fe&&So(arguments[vt],Xe);vt++);vt===Fe&&de.push(Xe)}}return de}function vu(X){for(var de=X&&ep(X,Ee).length||0,Fe=Array(de),Ne=0;Ne<de;Ne++)Fe[Ne]=gA(X,Ne);return Fe}const lp=I(vu);function CA(X,de){for(var Fe={},Ne=0,Ze=Ee(X);Ne<Ze;Ne++)de?Fe[X[Ne]]=de[Ne]:Fe[X[Ne][0]]=X[Ne][1];return Fe}function Zc(X,de,Fe){de==null&&(de=X||0,X=0),Fe||(Fe=de<X?-1:1);for(var Ne=Math.max(Math.ceil((de-X)/Fe),0),Ze=Array(Ne),Xe=0;Xe<Ne;Xe++,X+=Fe)Ze[Xe]=X;return Ze}function ll(X,de){if(de==null||de<1)return[];for(var Fe=[],Ne=0,Ze=X.length;Ne<Ze;)Fe.push(c.call(X,Ne,Ne+=de));return Fe}function qc(X,de){return X._chain?G(de).chain():de}function qd(X){return $o(Vr(X),function(de){var Fe=G[de]=X[de];G.prototype[de]=function(){var Ne=[this._wrapped];return u.apply(Ne,arguments),qc(this,Fe.apply(G,Ne))}}),G}$o(["pop","push","reverse","shift","sort","splice","unshift"],function(X){var de=a[X];G.prototype[X]=function(){var Fe=this._wrapped;return Fe!=null&&(de.apply(Fe,arguments),(X==="shift"||X==="splice")&&Fe.length===0&&delete Fe[0]),qc(this,Fe)}}),$o(["concat","join","slice"],function(X){var de=a[X];G.prototype[X]=function(){var Fe=this._wrapped;return Fe!=null&&(Fe=de.apply(Fe,arguments)),qc(this,Fe)}});const up=G;var Qa=qd(r);Qa._=Qa;const gu=Qa})},y3={};function Tr(n){var t=y3[n];if(t!==void 0)return t.exports;var e=y3[n]={exports:{}};return Yxe[n].call(e.exports,e,e.exports,Tr),e.exports}Tr.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return Tr.d(t,{a:t}),t};Tr.d=(n,t)=>{for(var e in t)Tr.o(t,e)&&!Tr.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})};Tr.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})();Tr.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);Tr.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var TT={};Tr.d(TT,{Ay:()=>yVe,I0:()=>hJ,nu:()=>AJ});var oe=Tr(5706),At=Tr(1166);function xl(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var r=n.raw;return r.reduce(function(o,i,a){var s=t[a-1],l=r[a-1];return Array.isArray(s)?s=s.join(""):l&&l.slice(-1)==="$"?o=o.slice(0,-1):s=(0,At.escape)(s),o+s+i})}var Xxe=function(){return{stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1,telemetry:!0}};const Jxe=Xxe;var f2=Tr(4193),Zxe=Tr.n(f2),Xi=Tr(7774);const qxe=(function(n){var t=n.$;if(t&&t.prototype&&t.prototype.constructor.name!=="jQuery"){var e=t.fn;e.hide=function(){return this.css("display","none")},e.show=function(){return this.css("display","block")},e.focus=function(){var i=this.get(0);return i&&i.focus(),this},e.bind=function(i,a){return this.on(i,a)},e.unbind=function(i,a){if((0,oe.isObject)(i)){for(var s in i)i.hasOwnProperty(s)&&this.off(s,i[s]);return this}else return this.off(i,a)},e.click=function(i){return i?this.on("click",i):this.trigger("click")},e.change=function(i){return i?this.on("change",i):this.trigger("change")},e.keydown=function(i){return i?this.on("keydown",i):this.trigger("keydown")},e.delegate=function(i,a,s,l){return l||(l=s),this.on(a,i,function(u){u.data=s,l(u)})},e.scrollLeft=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var a=i instanceof Window?i:null;return a?a.pageXOffset:i.scrollLeft||0},e.scrollTop=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var a=i instanceof Window?i:null;return a?a.pageYOffset:i.scrollTop||0};var r=t.prototype.offset;e.offset=function(i){var a,s;return i&&(a=i.top,s=i.left),typeof a<"u"&&this.css("top","".concat(a,"px")),typeof s<"u"&&this.css("left","".concat(s,"px")),r.call(this)},t.map=function(i,a){for(var s=[],l=0;l<i.length;l++)s.push(a(i[l],l));return s};var o=Array.prototype.indexOf;t.inArray=function(i,a,s){return a==null?-1:o.call(a,i,s)},t.Event=function(i,a){if(!(this instanceof t.Event))return new t.Event(i,a);this.type=i,this.isDefaultPrevented=function(){return!1}}}});var Qt=Tr(9156),U7=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),eEe=(function(n){U7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(Qt.Kx),tEe=(function(n){U7(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getByComponent=function(e){var r=this;return this.filter(function(o){return r.getComponent(o)===e})[0]},t.prototype.addComponent=function(e,r){var o=this,i=((0,oe.isArray)(e)?e:[e]).filter(function(a){return!o.hasComponent(a)}).map(function(a){return new eEe({component:a})})[0];return this.push(i,r)},t.prototype.getComponent=function(e){return e.get("component")},t.prototype.hasComponent=function(e){var r=this.getByComponent(e);return r&&this.contains(r)},t.prototype.lastComponent=function(){var e=this.last();return e?this.getComponent(e):void 0},t.prototype.allComponents=function(){var e=this;return this.map(function(r){return e.getComponent(r)}).filter(function(r){return r})},t.prototype.removeComponent=function(e,r){var o=this,i=((0,oe.isArray)(e)?e:[e]).map(function(a){return o.getByComponent(a)});return this.remove(i,r)},t})(Qt.pM);const nEe=tEe;var rEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),fD=function(){return fD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},fD.apply(this,arguments)},oEe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},L7=(function(){function n(t,e,r){this.debounced=[],this.collections=[],this.cls=[],this.events={},this._em=t,this._name=e;var o=this.name.charAt(0).toLowerCase()+this.name.slice(1),i=(0,oe.isUndefined)(t.config[o])?t.config[this.name]:t.config[o],a=i===!0?{}:i||{};a.pStylePrefix=t.config.pStylePrefix||"",!(0,oe.isUndefined)(i)&&!i&&(a._disable=1),a.em=t,this._config=(0,At.deepMerge)(r||{},a)}return Object.defineProperty(n.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),n.prototype.render=function(t){},n.prototype.postLoad=function(t){},n.prototype.onInit=function(){},Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n.prototype.getConfig=function(t){return t?this.config[t]:this.config},n.prototype.__logWarn=function(t,e){e===void 0&&(e={}),this.em.logWarning("[".concat(this.name,"]: ").concat(t),e)},n.prototype.destroy=function(){this.__destroy()},n.prototype.__destroy=function(){var t,e,r;(t=this.view)===null||t===void 0||t.remove(),(e=this.state)===null||e===void 0||e.stopListening(),(r=this.state)===null||r===void 0||r.clear(),this.debounced.forEach(function(o){return o.cancel()}),this.collections.forEach(function(o){o.stopListening(),o.reset()})},n.prototype.__appendTo=function(){var t=this.getConfig().appendTo;if(t){var e=(0,oe.isElement)(t)?t:document.querySelector(t);if(!e)return this.__logWarn('"appendTo" element not found');e.appendChild(this.render())}},n})();const Ll=L7;var pA=(function(n){rEe(t,n);function t(e,r,o,i,a,s){s===void 0&&(s={});var l=n.call(this,e,r,a)||this;return l.cls=[],l._itemCache=new Map,l.private=!1,l.all=o,i&&(l.events=i),!s.skipListen&&l.__initListen(),l}return t.prototype.postLoad=function(e){},t.prototype.render=function(e){},t.prototype.getProjectData=function(e){var r={},o=this.storageKey;return o&&(r[o]=e||this.getAll()),r},t.prototype.loadProjectData=function(e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=r.all,i=r.onResult,a=r.reset,s=this.storageKey,l={action:"load"},u=o||this.all,c=e[s];if(typeof c=="string")try{c=JSON.parse(c)}catch{this.__logWarn("Data parsing failed",{input:c})}return a&&c&&u.reset(void 0,l),i?c&&i(c,l):c&&(0,At.isDef)(c.length)&&u.reset(c,l),c},t.prototype.clear=function(e){e===void 0&&(e={});var r=this.all;return r&&r.reset(void 0,e),this},t.prototype.getAll=function(){return oEe([],this.all.models,!0)},t.prototype.getAllMap=function(){return this.getAll().reduce(function(e,r){return e[r.get(r.idAttribute)]=r,e},{})},t.prototype._makeCacheKey=function(e){return""},t.prototype._cacheItem=function(e){var r=this._makeCacheKey(e);r&&this._itemCache.set(r,e)},t.prototype._uncacheItem=function(e){var r=this._makeCacheKey(e);r&&this._itemCache.delete(r)},t.prototype._clearItemCache=function(){this._itemCache.clear()},t.prototype._onItemsResetCache=function(e){var r=this;this._clearItemCache(),e.each(function(o){return r._cacheItem(o)})},t.prototype._onItemKeyChange=function(e){for(var r,o=0,i=this._itemCache.entries();o<i.length;o++){var a=i[o],s=a[0],l=a[1];if(l===e){r=s;break}}r&&this._itemCache.delete(r),this._cacheItem(e)},t.prototype._setupCacheListeners=function(){this.em.listenTo(this.all,"add",this._cacheItem.bind(this)),this.em.listenTo(this.all,"remove",this._uncacheItem.bind(this)),this.em.listenTo(this.all,"reset",this._onItemsResetCache.bind(this))},t.prototype.__initListen=function(e){e===void 0&&(e={});var r=this,o=r.all,i=r.em,a=r.events;o&&i&&o.on("add",function(s,l,u){return i.trigger(a.add,s,u)}).on("remove",function(s,l,u){return i.trigger(a.remove,s,u)}).on("change",function(s,l){return i.trigger(a.update,s,s.changedAttributes(),l)}).on("all",this.__catchAllEvent,this),this.cls=[o].concat(e.collections||[]),(e.propagate||[]).forEach(function(s){var l=s.entity,u=s.event;l.on("all",function(c,d,f,h){var p=h||f,v=fD({event:c},p);[i,o].map(function(g){return g.trigger(u,d,v)})})})},t.prototype.__remove=function(e,r){var o=this;r===void 0&&(r={});var i=this.em,a=(0,oe.isString)(e)?this.get(e):e,s=function(){return a&&o.all.remove(a,r),a};return!r.silent&&(i==null||i.trigger(this.events.removeBefore,a,s,r)),!r.abort&&s()},t.prototype.__catchAllEvent=function(e,r,o,i){var a=this,s=a.em,l=a.events,u=i||o;s&&l.all&&s.trigger(l.all,{event:e,model:r,options:u}),this.__onAllEvent()},t.prototype.__appendTo=function(e){var r=this.config.appendTo;if(r){var o=(0,oe.isElement)(r)?r:document.querySelector(r);if(!o)return this.__logWarn('"appendTo" element not found');o.appendChild(this.render(e))}},t.prototype.__onAllEvent=function(){},t.prototype._createId=function(e){e===void 0&&(e=16);var r=this.getAll(),o=r.length+e,i=this.getAllMap(),a;do a=(0,At.createId)(o);while(i[a]);return a},t.prototype.__listenAdd=function(e,r){var o=this;e.on("add",function(i,a,s){return o.em.trigger(r,i,s)})},t.prototype.__listenRemove=function(e,r){var o=this;e.on("remove",function(i,a,s){return o.em.trigger(r,i,s)})},t.prototype.__listenUpdate=function(e,r){var o=this;e.on("change",function(i,a){return o.em.trigger(r,i,i.changedAttributes(),a)})},t.prototype.__destroy=function(){var e;this.cls.forEach(function(r){r.stopListening(),r.reset()}),(e=this.view)===null||e===void 0||e.remove(),this.view=void 0},t})(L7),iEe=function(){return{stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0}};const aEe=iEe;var Qh=Tr(7058),AD;(function(n){n.add="device:add",n.addBefore="device:add:before",n.remove="device:remove",n.removeBefore="device:remove:before",n.select="device:select",n.selectBefore="device:select:before",n.update="device:update",n.all="device"})(AD||(AD={}));const V7=AD;var hD;(function(n){n.add="page:add",n.addBefore="page:add:before",n.remove="page:remove",n.removeBefore="page:remove:before",n.select="page:select",n.selectBefore="page:select:before",n.update="page:update",n.all="page"})(hD||(hD={}));const pD=hD;var sEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),lEe=(function(n){sEe(t,n);function t(e,r,o){return n.call(this,r,{module:e,modelConstructor:o})||this}return t.prototype.add=function(e,r){var o=this,i,a=(0,oe.isArray)(e)?e:(0,oe.isUndefined)(e)?void 0:[e];return a=(i=a==null?void 0:a.map(function(s){return s instanceof o.newModel?s:new o.newModel(o.module,s)}))!==null&&i!==void 0?i:[void 0],n.prototype.add.call(this,(0,oe.isArray)(e)?a:a[0],r)},t.prototype.preinitialize=function(e,r){this.newModel=r.modelConstructor,this.module=r.module},t})(Qt.pM);const OT=lEe;var kE;(function(n){n.dragEnter="canvas:dragenter",n.dragOver="canvas:dragover",n.dragEnd="canvas:dragend",n.dragData="canvas:dragdata",n.drop="canvas:drop",n.spot="canvas:spot",n.spotAdd="canvas:spot:add",n.spotUpdate="canvas:spot:update",n.spotRemove="canvas:spot:remove",n.coords="canvas:coords",n.zoom="canvas:zoom",n.pointer="canvas:pointer",n.refresh="canvas:refresh",n.frameLoad="canvas:frame:load",n.frameLoadHead="canvas:frame:load:head",n.frameLoadBody="canvas:frame:load:body",n.frameUnload="canvas:frame:unload"})(kE||(kE={}));const Hb=kE;var uEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),mD=function(){return mD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},mD.apply(this,arguments)},b3=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},w3="__aw",_3="__ah",C3=function(n,t){var e,r=n.get(t),o=(e=n.view)===null||e===void 0?void 0:e.el[t==="width"?"offsetWidth":"offsetHeight"];return(0,oe.isNumber)(r)?r:(0,oe.isString)(r)&&r.endsWith("px")?parseFloat(r):o||0},cEe=(function(n){uEe(t,n);function t(e,r){var o=n.call(this,e,r)||this,i=o.em,a=o.attributes,s=a.styles,l=a.component,u=i.Components,c=u.getConfig(),d=i.Css.getAll(),f={},h={em:i,config:c,frame:o,idMap:f};if(!(0,At.isComponent)(l)){var p=(0,At.isObject)(l)?l:{components:l};!p.type&&(p.type="wrapper");var v=u.getType("wrapper").model;o.set("component",new v(p,h))}if(!s)o.set("styles",d);else if(!(0,At.isObject)(s)){var g=s;(0,oe.keys)(f).length&&(g=(0,oe.isString)(g)?i.Parser.parseCss(g):g,i.Css.checkId(g,{idMap:f})),d.add(g),o.set("styles",d)}return!r.width&&o.set(w3,1),!r.height&&o.set(_3,1),!o.id&&o.set("id",(0,At.createId)()),o}return t.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(t.prototype,"width",{get:function(){return C3(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return C3(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var e=this.refFrame;return(e==null?void 0:e.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),t.prototype.initRefs=function(){var e=this.refFrame;if((0,oe.isString)(e)){var r=this.module.framesById[e];r&&this.set({refFrame:r},{silent:!0})}},t.prototype.getBoxRect=function(){var e=this.attributes,r=e.x,o=e.y,i=this,a=i.width,s=i.height;return{x:r,y:o,width:a,height:s}},t.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},t.prototype.changesUp=function(e){e===void 0&&(e={}),!(e.temporary||e.noCount||e.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},t.prototype.getComponent=function(){return this.get("component")},t.prototype.getStyles=function(){return this.get("styles")},t.prototype.disable=function(){this.trigger("disable")},t.prototype.remove=function(){var e;(e=this.view)===null||e===void 0||e.remove(),this.view=void 0;var r=this.collection;return r&&r.remove(this)},t.prototype.getHead=function(){return b3([],this.head,!0)},t.prototype.setHead=function(e){return this.set("head",b3([],e,!0))},t.prototype.addHeadItem=function(e){this.head.push(e)},t.prototype.getHeadByAttr=function(e,r,o){return this.head.filter(function(i){return i.attributes&&i.attributes[e]==r&&(!o||o===i.tag)})[0]},t.prototype.removeHeadByAttr=function(e,r,o){var i=this.getHeadByAttr(e,r,o),a=this.head.indexOf(i);a>=0&&this.head.splice(a,1)},t.prototype.addLink=function(e){var r="link";!this.getHeadByAttr("href",e,r)&&this.addHeadItem({tag:r,attributes:{href:e,rel:"stylesheet"}})},t.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},t.prototype.addScript=function(e){var r="script";!this.getHeadByAttr("src",e,r)&&this.addHeadItem({tag:r,attributes:{src:e}})},t.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},t.prototype.getPage=function(){var e;return(e=this.collection)===null||e===void 0?void 0:e.page},t.prototype._emitUpdated=function(e){e===void 0&&(e={}),this.em.trigger("frame:updated",mD({frame:this},e))},t.prototype._emitUnload=function(){this._emitWithEditor(Hb.frameUnload,{frame:this})},t.prototype._emitWithEditor=function(e,r){[this.em,this].forEach(function(o){return o==null?void 0:o.trigger(e,r)})},t.prototype.hasAutoHeight=function(){var e=this.attributes.height;return!!(e==="auto"||this.config.infiniteCanvas)},t.prototype.toJSON=function(e){e===void 0&&(e={});var r=Qh.A.prototype.toJSON.call(this,e),o=(0,oe.result)(this,"defaults");return e.fromUndo&&delete r.component,delete r.styles,delete r.changesCount,r[w3]&&delete r.width,r[_3]&&delete r.height,r.refFrame&&(r.refFrame=r.refFrame.id,delete r.component),(0,oe.forEach)(r,function(i,a){a.indexOf("_")===0&&delete r[a]}),(0,oe.forEach)(o,function(i,a){r[a]===i&&delete r[a]}),(0,oe.forEach)(["attributes","head"],function(i){(0,oe.isEmpty)(r[i])&&delete r[i]}),r},t})(Qh.A);const N7=cEe;var dEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),fEe=(function(n){dEe(t,n);function t(e,r){r===void 0&&(r=[]);var o=n.call(this,e,r,N7)||this;return o.loadedItems=0,o.itemsToLoad=0,(0,oe.bindAll)(o,"itemLoaded"),o.on("add",o.onAdd),o.on("reset",o.onReset),o.on("remove",o.onRemove),o.forEach(function(i){return o.onAdd(i)}),o}return t.prototype.onAdd=function(e){this.module.framesById[e.id]=e},t.prototype.onReset=function(e,r){var o=this,i=(r==null?void 0:r.previousModels)||[];i.map(function(a){return o.onRemove(a)})},t.prototype.onRemove=function(e){e.onRemove(),delete this.module.framesById[e.id]},t.prototype.initRefs=function(){this.forEach(function(e){return e.initRefs()})},t.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},t.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},t.prototype.listenToLoadItems=function(e){var r=this;this.forEach(function(o){return o[e?"on":"off"]("loaded",r.itemLoaded)})},t})(OT);const R7=fEe;var AEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),hEe=(function(n){AEe(t,n);function t(e){var r=this,o=e.em,i=e.config,a=i.scripts,s=i.styles;return r=n.call(this,e,{scripts:a,styles:s})||this,r.set("frames",new R7(e)),r.on("change:zoom",r.onZoomChange),r.on("change:x change:y",r.onCoordsChange),r.on("change:pointer change:pointerScreen",r.onPointerChange),r.listenTo(o,"change:device ".concat(V7.update),r.updateDevice),r.listenTo(o,pD.select,r._pageUpdated),r}return t.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:Qt.lK,pointerScreen:Qt.lK}},Object.defineProperty(t.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=this.em,r=e.Pages._initPage();this.set("frames",r.getFrames()),this.updateDevice({frame:r.getMainFrame()})},t.prototype._pageUpdated=function(e,r){var o=this.em;o.setSelected(),o.get("readyCanvas")&&o.stopDefault(),r==null||r.getFrames().map(function(i){i.disable(),i._emitUnload()}),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},t.prototype.updateDevice=function(e){e===void 0&&(e={});var r=this.em,o=r.getDeviceModel(),i=e.frame||r.getCurrentFrameModel();if(i&&o){var a=o.attributes,s=a.width,l=a.height,u=a.minHeight;i.set({width:s,height:l,minHeight:u},{noUndo:1})}},t.prototype.onZoomChange=function(e,r,o){var i=this,a=i.em,s=i.module,l=this.get("zoom");l<1&&this.set("zoom",1),a.trigger(s.events.zoom,{options:o})},t.prototype.onCoordsChange=function(){var e=this,r=e.em,o=e.module;r.trigger(o.events.coords)},t.prototype.onPointerChange=function(){var e=this,r=e.em,o=e.module;r.trigger(o.events.pointer)},t.prototype.getPointerCoords=function(e){e===void 0&&(e=Qt.x2.World);var r=this.attributes,o=r.pointer,i=r.pointerScreen;return e===Qt.x2.World?o:i},t})(Qh.A);const pEe=hEe;var Uu=Tr(179),Ur=Tr(2225),mEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),vEe=(function(n){mEe(t,n);function t(e,r){r===void 0&&(r=[]);var o=n.call(this,e,r,Uu.A)||this;o.on("add",o.onAdd),o.on("change",o.onChange),o.on("remove",o.onRemove);var i=o.em;o.refreshDbn=(0,oe.debounce)(function(){return o.refresh()},0);var a="".concat(Ur.I.resize," styleable:change ").concat(Ur.I.input," ").concat(Ur.I.update," frame:updated undo redo");return o.listenTo(i,a,function(){return o.refreshDbn()}),o}return Object.defineProperty(t.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),t.prototype.refresh=function(){var e=this,r=e.em,o=e.events;r.trigger(o.spot)},t.prototype.onAdd=function(e){this.__trgEvent(this.events.spotAdd,{spot:e})},t.prototype.onChange=function(e){this.__trgEvent(this.events.spotUpdate,{spot:e})},t.prototype.onRemove=function(e){this.__trgEvent(this.events.spotRemove,{spot:e})},t.prototype.__trgEvent=function(e,r){var o=this.module,i=o.em;i.trigger(e,r),this.refreshDbn()},t})(OT);const gEe=vEe;var yEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),bEe=(function(n){yEe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"module",{get:function(){var e,r;return(r=(e=this.model)===null||e===void 0?void 0:e.module)!==null&&r!==void 0?r:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),t.prototype.preinitialize=function(e){this.className=""},t})(Qt.Ss);const Yu=bEe;var Gt=Tr(6294),wEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),_Ee=(function(n){wEe(t,n);function t(e,r){e===void 0&&(e={}),r===void 0&&(r=!1);var o=n.call(this,e)||this;return o.itemsView="",o.itemType="type",o.reuseView=!1,o.viewCollection=[],r&&o.listenTo(o.collection,"add",o.addTo),o}return t.prototype.addTo=function(e){this.add(e)},t.prototype.itemViewNotFound=function(e){},t.prototype.add=function(e,r){var o=this,i=o.reuseView,a=o.viewCollection,s=r||null,l=e.get(this.itemType),u;e.view&&i?u=e.view:u=this.renderView(e,l),a.push(u);var c=u.render().el;s?s.appendChild(c):this.$el.append(c)},t.prototype.render=function(){var e=this,r=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(o){return e.add(o,r)}),this.$el.append(r),this.onRender(),this},t.prototype.onRender=function(){},t.prototype.onRemoveBefore=function(e,r){},t.prototype.onRemove=function(e,r){},t.prototype.remove=function(e){e===void 0&&(e={});var r=this.viewCollection;return this.onRemoveBefore(r,e),this.clearItems(),Qt.Ss.prototype.remove.apply(this,e),this.onRemove(r,e),this},t.prototype.clearItems=function(){this.viewCollection},t})(Yu);const CEe=_Ee;var Sy;(function(n){n.mount="css:mount",n.mountBefore="css:mount:before"})(Sy||(Sy={}));var SEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),xEe=(function(n){SEe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.config=e.config||{};var o=r.model;return r.listenTo(o,"change",r.render),r.listenTo(o,"destroy remove",r.remove),r.listenTo(o.get("selectors"),"change",r.render),o.setView(r),r}return Object.defineProperty(t.prototype,"frameView",{get:function(){return this.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"em",{get:function(){return this.model.em},enumerable:!1,configurable:!0}),t.prototype.remove=function(){return n.prototype.remove.call(this),this.model.removeView(this),this},t.prototype.updateStyles=function(){this.render()},t.prototype.tagName=function(){return"style"},t.prototype.render=function(){var e=this,r=e.model,o=e.el,i=e.em,a=r.get("important"),s=r.toCSS({important:a}),l={rule:r,ruleView:this,css:s};return i==null||i.trigger(Sy.mountBefore,l),o.innerHTML=l.css,i==null||i.trigger(Sy.mount,l),this},t})(Qt.Ss);const A2=xEe;var EEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),BEe=(function(n){EEe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype._createElement=function(){return document.createTextNode("")},t.prototype.render=function(){var e=this.model,r=e.get("important");return this.el.textContent=e.getDeclaration({important:r}),this},t})(A2);const kEe=BEe;var TEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),aI=function(n,t){return"".concat(n).concat(t?"-".concat(parseFloat(t)):"")},OEe=(function(n){TEe(t,n);function t(e){var r=n.call(this,e)||this;(0,oe.bindAll)(r,"sortRules");var o=e.config||{};r.atRules={},r.config=o,r.em=o.em,r.pfx=o.stylePrefix||"",r.className=r.pfx+"rules";var i=r.collection;return r.listenTo(i,"add",r.addTo),r.listenTo(i,"reset",r.render),r}return t.prototype.addTo=function(e){this.addToCollection(e)},t.prototype.addToCollection=function(e,r){if(this.renderStarted){var o=r||null,i=this.config,a={model:e,config:i},s,l;if(e.get("atRuleType")==="keyframes"){var u=e.getAtRule(),c=this.atRules[u];if(!c){var d=document.createElement("style");c=document.createTextNode(""),d.appendChild(document.createTextNode("".concat(u,"{"))),d.appendChild(c),d.appendChild(document.createTextNode("}")),this.atRules[u]=c,s=d}l=new kEe(a),c.appendData(l.render().el.textContent)}else l=new A2(a),s=l.render().el;var f=this.className,h=e.get("mediaText"),p=aI(f),v=p;if(h&&(v=aI(f,this.getMediaWidth(h))),s){var g=o||this.el,_=void 0;try{_=g.querySelector("#".concat(v))}catch{}_||(_=g.querySelector("#".concat(p))),_==null||_.appendChild(s)}return s}},t.prototype.getMediaWidth=function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},t.prototype.sortRules=function(e,r){var o=this.em,i=(o.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!i)return 0;var a=i?e:r,s=i?r:e;return a-s},t.prototype.render=function(){var e=this;this.renderStarted=!0,this.atRules={};var r=this,o=r.em,i=r.$el,a=r.collection,s=this.className,l=document.createDocumentFragment();i.empty();var u=o.Devices.getAll().pluck("priority").sort(this.sortRules);return u.every(function(c){return c})&&u.unshift(0),u.forEach(function(c){return l.appendChild((0,Gt.a_)("div",{id:aI(s,c)}))}),a.each(function(c){return e.addToCollection(c,l)}),i.append(l),i.attr("class",s),this},t})(Qt.Ss);const vD=OEe;var Ei;(function(n){n.variable="data-variable",n.condition="data-condition",n.conditionTrue="data-condition-true-content",n.conditionFalse="data-condition-false-content",n.collection="data-collection",n.collectionItem="data-collection-item"})(Ei||(Ei={}));var i_;(function(n){n.rootData="__rootData"})(i_||(i_={}));var gD;(function(n){n.string="string",n.number="number",n.boolean="boolean",n.date="date",n.json="json",n.relation="relation"})(gD||(gD={}));var Gf;(function(n){n.add="data:add",n.addBefore="data:add:before",n.remove="data:remove",n.removeBefore="data:remove:before",n.update="data:update",n.path="data:path",n.pathSource="data:pathSource:",n.providerLoad="data:provider:load",n.providerLoadBefore="data:provider:load:before",n.providerLoadError="data:provider:load:error",n.providerLoadAll="data:provider:loadAll",n.providerLoadAllBefore="data:provider:loadAll:before",n.all="data"})(Gf||(Gf={}));var PEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),TE=function(){return TE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},TE.apply(this,arguments)},kc=Ei.variable,IEe=(function(n){PEe(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.em=r.em,o.collectionsStateMap=r.collectionsStateMap,o}return t.prototype.defaults=function(){return{type:kc,defaultValue:"",path:"",collectionId:void 0,variableType:void 0,asPlainText:void 0}},Object.defineProperty(t.prototype,"path",{get:function(){var e;return(e=this.get("path"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultValue",{get:function(){var e;return(e=this.get("defaultValue"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collectionId",{get:function(){return this.get("collectionId")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variableType",{get:function(){return this.get("variableType")},enumerable:!1,configurable:!0}),t.prototype.resolvesFromCollection=function(){return!!this.collectionId},t.prototype.updateCollectionsStateMap=function(e){this.collectionsStateMap=e,this.trigger("change")},t.prototype.getResolverPath=function(){var e;if(this.resolvesFromCollection()){var r=this.resolveCollectionVariable();return Ey(r)?(e=r.path)!==null&&e!==void 0?e:"":!1}return this.path},t.prototype.toJSON=function(e){var r=this.defaults(),o=n.prototype.toJSON.call(this,e),i=Object.fromEntries(Object.entries(o).filter(function(a){var s=a[0],l=a[1];return l!==r[s]}));return TE(TE({},i),{type:kc})},t.prototype.getDataValue=function(){var e={em:this.em,collectionsStateMap:this.collectionsStateMap};return t.resolveDataResolver({path:this.path,defaultValue:this.defaultValue,collectionId:this.collectionId,variableType:this.variableType},e)},t.resolveDataSourceVariable=function(e,r){var o,i;return r.em.DataSources.getValue((o=e.path)!==null&&o!==void 0?o:"",(i=e.defaultValue)!==null&&i!==void 0?i:"")},t.resolveDataResolver=function(e,r){var o,i,a,s;if(e.collectionId){var l=t.resolveCollectionVariable(e,r);return Ey(l)?t.resolveDataSourceVariable({path:(o=l.path)!==null&&o!==void 0?o:"",defaultValue:(i=e.defaultValue)!==null&&i!==void 0?i:""},{em:r.em}):l}return t.resolveDataSourceVariable({path:(a=e.path)!==null&&a!==void 0?a:"",defaultValue:(s=e.defaultValue)!==null&&s!==void 0?s:""},{em:r.em})},t.prototype.resolveCollectionVariable=function(){var e=this,r=e.em,o=e.collectionsStateMap;return t.resolveCollectionVariable(this.attributes,{em:r,collectionsStateMap:o})},t.resolveCollectionVariable=function(e,r){var o,i,a=e.collectionId,s=a===void 0?"":a,l=e.variableType,u=e.path,c=e.defaultValue,d=c===void 0?"":c,f=r.em,h=r.collectionsStateMap;if(!h)return d;var p=h[s];if(!p)return d;if(!l)return f.logError("Missing collection variable type for collection: ".concat(s)),d;if(l==="currentItem")return(o=t.resolveCurrentItem(p,u,s,f))!==null&&o!==void 0?o:d;var v=p;return(i=v[l])!==null&&i!==void 0?i:d},t.resolveCurrentItem=function(e,r,o,i){var a=e.currentItem;if(!a){i.logError("Current item is missing for collection: ".concat(o));return}if(a.type===kc){var s=a.path?"".concat(a.path,".").concat(r):r;return{type:kc,path:s}}if(!(r&&!a[r]))return r?a[r]:a},t})(Qt.Kx);const Jy=IEe;var MEe=(function(){function n(t){var e=this;this.listeners=[],this.model=new Qt.Kx,this.onChange=function(){var r=e.resolver.getDataValue();e.onUpdate(r)},this.em=t.em,this.resolver=t.resolver,this.onUpdate=t.onUpdate,this.listenToResolver()}return n.prototype.createListener=function(t,e,r){return r===void 0&&(r=this.onChange),{obj:t,event:e,callback:r}},n.prototype.listenToResolver=function(){var t=this,e=t.resolver,r=t.model;this.removeListeners();var o=[],i=e.attributes.type;switch(i){case kc:o=this.listenToDataVariable(e);break;case xy:o=this.listenToConditionalVariable(e);break}o.forEach(function(a){return r.listenTo(a.obj,a.event,a.callback)}),this.listeners=o},n.prototype.listenToConditionalVariable=function(t){return[{obj:t,event:GS,callback:this.onChange}]},n.prototype.listenToDataVariable=function(t){var e=this,r=this.em,o=[],i=function(){e.listenToResolver(),e.onChange()};o.push(this.createListener(t,"change",i));var a=t.getResolverPath();if(!a)return o;var s=(0,At.stringToPath)(a||"").join("."),l=r.DataSources.fromPath(a),u=l[0],c=l[1];return u&&o.push(this.createListener(u.records,"add remove reset",i)),c&&o.push(this.createListener(c,"change")),o.push(this.createListener(r.DataSources.all,"add remove reset",i),this.createListener(r,"".concat(Gf.path,":").concat(s)),this.createListener(r,Gf.path,function(d){var f=d.path;f!==a&&f.startsWith(a)&&e.onChange()})),o},n.prototype.removeListeners=function(){var t=this;this.listeners.forEach(function(e){return t.model.stopListening(e.obj,e.event,e.callback)}),this.listeners=[]},n.prototype.destroy=function(){this.removeListeners()},n})();const rC=MEe;var S3=(function(){function n(t,e,r){this.operator=t,this.statements=e,this.opts=r}return n.prototype.evaluate=function(){var t=this,e=this.statements.map(function(r){var o=new H7({condition:r},t.opts);return o.evaluate()});return this.operator.evaluate(e)},n})(),PT=(function(){function n(t,e){this.operationString=t,this.em=e.em}return n.prototype.getOperations=function(){return qEe(this.operationsEnum)},n})(),FEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),a_;(function(n){n.equals="equals",n.isTruthy="isTruthy",n.isFalsy="isFalsy",n.isDefined="isDefined",n.isNull="isNull",n.isUndefined="isUndefined",n.isArray="isArray",n.isObject="isObject",n.isString="isString",n.isNumber="isNumber",n.isBoolean="isBoolean",n.isDefaultValue="isDefaultValue"})(a_||(a_={}));var DEe=(function(n){FEe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.operationsEnum=a_,e}return t.prototype.evaluate=function(e,r){var o;switch(this.operationString){case"equals":return e===r;case"isTruthy":return!!e;case"isFalsy":return!e;case"isDefined":return e!=null;case"isNull":return e===null;case"isUndefined":return e===void 0;case"isArray":return Array.isArray(e);case"isObject":return typeof e=="object"&&e!==null;case"isString":return typeof e=="string";case"isNumber":return typeof e=="number";case"isBoolean":return typeof e=="boolean";case"isDefaultValue":return e instanceof Jy&&e.get("defaultValue")===r;default:return(o=this.em)===null||o===void 0||o.logWarning("Unsupported generic operation: ".concat(this.operationString)),!1}},t})(PT),UEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Yp;(function(n){n.and="and",n.or="or",n.xor="xor"})(Yp||(Yp={}));var LEe=(function(n){UEe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.operationsEnum=Yp,e}return t.prototype.evaluate=function(e){if(!(e!=null&&e.length))return!1;switch(this.operationString){case Yp.and:return e.every(Boolean);case Yp.or:return e.some(Boolean);case Yp.xor:return e.filter(Boolean).length===1;default:return this.em.logWarning("Unsupported boolean operation: ".concat(this.operationString)),!1}},t})(PT),VEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),vd;(function(n){n.greaterThan=">",n.lessThan="<",n.greaterThanOrEqual=">=",n.lessThanOrEqual="<=",n.equals="=",n.notEquals="!="})(vd||(vd={}));var NEe=(function(n){VEe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.operationsEnum=vd,e}return t.prototype.evaluate=function(e,r){if(typeof e!="number")return!1;switch(this.operationString){case vd.greaterThan:return e>r;case vd.lessThan:return e<r;case vd.greaterThanOrEqual:return e>=r;case vd.lessThanOrEqual:return e<=r;case vd.equals:return e===r;case vd.notEquals:return e!==r;default:return this.em.logWarning("Unsupported number operation: ".concat(this.operationString)),!1}},t})(PT),REe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ku;(function(n){n.contains="contains",n.startsWith="startsWith",n.endsWith="endsWith",n.matchesRegex="matchesRegex",n.equalsIgnoreCase="equalsIgnoreCase",n.trimEquals="trimEquals"})(ku||(ku={}));var HEe=(function(n){REe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.operationsEnum=ku,e}return t.prototype.evaluate=function(e,r){if(typeof e!="string")return!1;switch(this.operationString){case ku.contains:return e.includes(r);case ku.startsWith:return e.startsWith(r);case ku.endsWith:return e.endsWith(r);case ku.matchesRegex:return r||this.em.logWarning("Regex pattern must be provided."),new RegExp(r??"").test(e);case ku.equalsIgnoreCase:return e.toLowerCase()===r.toLowerCase();case ku.trimEquals:return e.trim()===r.trim();default:return this.em.logWarning("Unsupported string operation: ".concat(this.operationString)),!1}},t})(PT),QEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),H7=(function(n){QEe(t,n);function t(e,r){var o,i=n.call(this,e)||this;return i.collectionsStateMap={},i.em=r.em,i.collectionsStateMap=(o=r.collectionsStateMap)!==null&&o!==void 0?o:{},i}return t.prototype.evaluate=function(){var e=this.get("condition");if(!e||(0,oe.isBoolean)(e))return!!e;var r=this.getOperator();return r?r.evaluate(this.getResolvedLeftValue(),this.getResolvedRightValue()):!1},t.prototype.getDependentDataVariables=function(){var e=this.get("condition");return e?this.extractDataVariables(e):[]},t.prototype.getOperations=function(){var e=this.getOperator();return!e||e instanceof S3?[]:e.getOperations()},t.prototype.updateCollectionStateMap=function(e){this.collectionsStateMap=e},t.prototype.getOperator=function(){var e={em:this.em,collectionsStateMap:this.collectionsStateMap},r=this.get("condition");if(!(!r||(0,oe.isBoolean)(r))){var o;if(this.isLogicGroup(r)){var i=r.logicalOperator,a=r.statements,s=new LEe(i,e);o=new S3(s,a,e)}if(this.isExpression(r)){var l=r.left,s=r.operator,u=PE(l,e);o=this.resolveOperator(u,s)}return o}},t.prototype.resolveOperator=function(e,r){var o=this.em;if(this.isOperatorInEnum(r,a_))return new DEe(r,{em:o});if(typeof e=="number")return new NEe(r,{em:o});if(typeof e=="string")return new HEe(r,{em:o})},t.prototype.extractDataVariables=function(e){var r=this,o=[];return this.isExpression(e)?(Ey(e.left)&&o.push(e.left),Ey(e.right)&&o.push(e.right)):this.isLogicGroup(e)&&e.statements.forEach(function(i){return o.push.apply(o,r.extractDataVariables(i))}),o},t.prototype.isLogicGroup=function(e){return e&&typeof e.logicalOperator<"u"&&Array.isArray(e.statements)},t.prototype.isExpression=function(e){return e&&typeof e.left<"u"&&typeof e.operator=="string"},t.prototype.isOperatorInEnum=function(e,r){return Object.values(r).includes(e)},t.prototype.resolveExpressionSide=function(e){var r=this.get("condition"),o=this,i=o.em,a=o.collectionsStateMap;if(!r||typeof r=="boolean")return r;if(r&&typeof r=="object"&&e in r){var s=r[e];return PE(s,{em:i,collectionsStateMap:a})}},t.prototype.getResolvedLeftValue=function(){return this.resolveExpressionSide("left")},t.prototype.getResolvedRightValue=function(){return this.resolveExpressionSide("right")},t.prototype.toJSON=function(e){var r=this.get("condition");if(typeof r=="object"){var o=JSON.parse(JSON.stringify(r));return o}return r},t})(Qt.Kx),jEe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),xy="data-condition",$Ee="data-condition-evaluation-changed",GS="data-condition-output-changed",Q7=(function(n){jEe(t,n);function t(e,r){var o,i=n.call(this,e,r)||this;i.collectionsStateMap={},i.resolverListeners=[],i._previousEvaluationResult=null,i.em=r.em,i.collectionsStateMap=(o=r.collectionsStateMap)!==null&&o!==void 0?o:{};var a=e.condition,s=a===void 0?{}:a,l=new H7({condition:s},{em:i.em});return i._conditionEvaluator=l,i.listenToDataVariables(),i.listenToPropsChange(),i}return t.prototype.defaults=function(){return{type:xy,condition:{left:"",operator:ku.equalsIgnoreCase,right:""},ifTrue:{},ifFalse:{}}},t.prototype.getCondition=function(){return this._conditionEvaluator.get("condition")},t.prototype.getIfTrue=function(){return this.get("ifTrue")},t.prototype.getIfFalse=function(){return this.get("ifFalse")},t.prototype.getOperations=function(){return this._conditionEvaluator.getOperations()},t.prototype.setCondition=function(e){this.set("condition",e),this._conditionEvaluator.set("condition",e),this.trigger(GS,this.getDataValue())},t.prototype.setIfTrue=function(e){this.set("ifTrue",e)},t.prototype.setIfFalse=function(e){this.set("ifFalse",e)},t.prototype.isTrue=function(){return this._conditionEvaluator.evaluate()},t.prototype.getDataValue=function(e){e===void 0&&(e=!1);var r=this,o=r.em,i=r.collectionsStateMap,a={em:o,collectionsStateMap:i},s=this.getIfTrue(),l=this.getIfFalse(),u=this.isTrue();return e?u?s:l:PE(u?s:l,a)},t.prototype.resolvesFromCollection=function(){return!1},t.prototype.updateCollectionsStateMap=function(e){this.collectionsStateMap=e,this._conditionEvaluator.updateCollectionStateMap(e),this.listenToDataVariables(),this.emitConditionEvaluationChange()},t.prototype.listenToPropsChange=function(){var e=this;this.on("change:condition",this.handleConditionChange.bind(this)),this.on("change:condition change:ifTrue change:ifFalse",function(){e.listenToDataVariables()})},t.prototype.handleConditionChange=function(){this.setCondition(this.get("condition"))},t.prototype.listenToDataVariables=function(){this.cleanupListeners(),this.setupConditionDataVariableListeners(),this.setupOutputDataVariableListeners()},t.prototype.setupConditionDataVariableListeners=function(){var e=this;this._conditionEvaluator.getDependentDataVariables().forEach(function(r){e.addListener(r,function(){e.emitConditionEvaluationChange()})})},t.prototype.setupOutputDataVariableListeners=function(){var e=this.isTrue();this.setupOutputVariableListener(this.getIfTrue(),e),this.setupOutputVariableListener(this.getIfFalse(),!e)},t.prototype.setupOutputVariableListener=function(e,r){var o=this;Ey(e)&&this.addListener(e,function(){r&&o.trigger(GS,e)})},t.prototype.addListener=function(e,r){var o=new rC({em:this.em,resolver:new Jy(e,{em:this.em,collectionsStateMap:this.collectionsStateMap}),onUpdate:r});this.resolverListeners.push(o)},t.prototype.emitConditionEvaluationChange=function(){var e=this.isTrue();this._previousEvaluationResult!==e&&(this._previousEvaluationResult=e,this.trigger($Ee,e),this.emitOutputValueChange())},t.prototype.emitOutputValueChange=function(){var e=this.getDataValue();this.trigger(GS,e)},t.prototype.cleanupListeners=function(){this.resolverListeners.forEach(function(e){return e.destroy()}),this.resolverListeners=[]},t.prototype.toJSON=function(){var e=this.getIfTrue(),r=this.getIfFalse();return{type:xy,condition:this._conditionEvaluator.toJSON(),ifTrue:e,ifFalse:r}},t})(Qt.Kx),cb="dataResolver",bl=function(){return bl=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},bl.apply(this,arguments)},j7=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},Xp=function(n){return(0,oe.isArray)(n.get(Vs))},OE=function(n){return!!n.get(wl)},Lc=function(n){return!!(Xp(n)||OE(n))},$m=function(n){var t=n.parent();return Lc(n)&&(!t||!Lc(t))},$0=function(n){n.__symbReady||(n.on("change",n.__upSymbProps),n.__symbReady=!0)},Ku=function(n){var t=n.get(wl);if(t&&(0,oe.isString)(t)){var e=n.__getAllById()[t];e?(t=e,n.set(wl,e)):t=0}return t||void 0},Bl=function(n){var t=n==null?void 0:n.get(Vs);return t&&(0,oe.isArray)(t)&&(t.forEach(function(e,r){e&&(0,oe.isString)(e)&&(t[r]=n.__getAllById()[e])}),t=t.filter(function(e){return e&&!(0,oe.isString)(e)})),t||void 0},s_=function(n,t){t===void 0&&(t="");var e=n==null?void 0:n.get(Jp),r=t.split(":")[0],o=t!==r?[t,r]:[t];return e===!0||(0,oe.isArray)(e)&&o.some(function(i){return e.indexOf(i)>=0})},Hf=function(n,t){t===void 0&&(t={});var e=[],r=t.changed;if(t.fromInstance||t.noPropagate||t.fromUndo||r&&s_(n,r))return e;var o=Bl(n)||[],i=Ku(n),a=i?j7([i],Bl(i)||[],!0):o;return e=a.filter(function(s){return s!==n}).filter(function(s){return!(r&&s_(s,r))}),e},l_=function(n,t){for(var e=n,r=n.parent(t);r&&Lc(r);)e=r,r=r.parent(t);return e},IT=function(n,t){t===void 0&&(t={});var e=Ku(n),r=e&&Bl(e);!t.skipRefs&&r&&e.set(Vs,r.filter(function(o){return o!==n})),n.set(wl,0),n.components().forEach(function(o){return IT(o,t)})},Qb=function(n,t,e,r){r===void 0&&(r={});var o=Ku(n),i=Bl(n);!o&&!i||n.em.log(t,{model:n,toUp:e,context:"symbols",opts:r})},KEe=function(n,t){t===void 0&&(t={});var e=n.changedAttributes();if(e){var r=n.dataResolverWatchers.getProps(e);if(WEe(r),!(0,At.isEmptyObj)(r)){var o=Hf(n,t);r=x3(r,n),Qb(n,"props",o,{opts:t,changed:r}),o.forEach(function(i){var a=x3(r,i);i.set(a,bl({fromInstance:n},t))})}}},WEe=function(n){var t,e,r=["status","open",Vs,wl,Jp];r.forEach(function(o){return delete n[o]}),(t=n.attributes)===null||t===void 0||delete t.id,(0,At.isEmptyObj)((e=n.attributes)!==null&&e!==void 0?e:{})&&delete n.attributes},x3=function(n,t){var e=bl({},n);return(0,oe.keys)(n).forEach(function(r){YEe(n,r,t)||delete e[r]}),e},zEe=function(n){return n?Object.values(n).some(function(t){return!!(t!=null&&t.collectionId)}):!1},GEe=function(n,t){var e;switch(t){case"attributes":case"style":return zEe(n[t]);default:return!!(!((e=n[t])===null||e===void 0)&&e.collectionId)}},YEe=function(n,t,e){var r=GEe(n,t);return!s_(e,t)||r},XEe=function(n,t){t===void 0&&(t={});var e=Hf(n,t);Qb(n,"classes",e,{opts:t}),e.forEach(function(r){r.set("classes",n.get("classes"),{fromInstance:n})}),n.__changesUp(t)},$7=function(n,t,e,r){var o=r||e||{},i=o.fromInstance,a=o.fromUndo,s={fromInstance:i,fromUndo:a},l=t.opt.temporary;if(r)if(r.add){var h=[],p=!!Bl(n),c=Hf(n,bl(bl({},s),{changed:"components:add"}));if(c.length){var v=Ku(t);h=Bl(v||t)||[],h=j7([],h,!0),h.push(v||t)}!l&&Qb(n,"add",c,{opts:r,addedInstances:h.map(function(I){return I.cid}),added:t.cid}),c.forEach(function(I){var k=l_(I),M=h.filter(function(U){var $=l_(U,{prev:1});return k&&$&&$===k})[0],V=M||t.clone({symbol:!0,symbolInv:p});I.append(V,bl({fromInstance:n},r))})}else{var g=Ku(t);if(g&&!r.temporary&&g.set(Vs,Bl(g).filter(function(F){return F!==t})),!$m(t)&&!r.skipRefsUp){var _="components:remove",S=r.index,y=t.parent(),C=bl({fromInstance:t},r),T=$m(t),P=function(I){var k=I.parent();k&&!s_(k,_)&&I.remove(C)},c=s_(y,_)?[]:Hf(t,s);T&&(c=y&&Hf(y,bl(bl({},s),{changed:_})),P=function(I){var k=I.components().at(S);k&&k.remove(bl({fromInstance:y},C))}),!l&&Qb(n,"remove",c,{opts:r,removed:t.cid,isSymbNested:T}),c.forEach(P)}}else{var u=t,c=Hf(n,bl(bl({},s),{changed:"components:reset"})),d=u.models,f=new Set;Qb(n,"reset",c,{components:d}),c.forEach(function(F){var I=F.components(),k=d.map(function(M,V){return n.get(cb)?M.clone({symbol:Lc(M)}):!Lc(M)||f.has(M)?(f.add(M),M.clone({symbol:!0})):I.at(V)});I.reset(k,bl({fromInstance:n},e))})}n.__changesUp(o)},JEe="id";function yD(n){return typeof n=="object"&&[kc,xy].includes(n==null?void 0:n.type)}function Ey(n){return(n==null?void 0:n.type)===kc}function PE(n,t){return yD(n)?(Ey(n)&&Jy.resolveDataResolver(n,t),W7(n,t)):n}function K7(n,t){var e,r=n.type,o;switch(r){case kc:o=new Jy(n,t);break;case xy:{o=new Q7(n,t);break}default:(e=t.em)===null||e===void 0||e.logWarning("Unsupported resolver type: ".concat(r));return}return o}function W7(n,t){var e=K7(n,t);return e==null?void 0:e.getDataValue()}var ZEe=function(n){return!!n&&[Ei.collectionItem,Ei.conditionTrue,Ei.conditionFalse].includes(n)};function qEe(n){return Object.keys(n).filter(function(t){return isNaN(Number(t))}).map(function(t){return n[t]})}function eBe(n){var t=n.collectionsStateMap;if(!t)return!1;var e=Object.keys(t);if(!e.length)return!1;var r=Ku(n);if(!r||r===n)return!1;var o=r.collectionsStateMap,i=Object.keys(o),a=i.every(function(s){return e.includes(s)});return a}function tBe(n){var t=Ku(n);return t?t.getId():""}function nBe(n){var t=eBe(n),e=t?tBe(n):null;return{shouldSync:t,itemId:e}}var z7="text/html",rBe=z7;const oBe=(function(n,t){t===void 0&&(t={});var e=new DOMParser,r=t.htmlType||rBe,o=r===z7,i=o?n:"<div>".concat(n,"</div>"),a=e.parseFromString(i,r),s;if(o){if(t.asDocument)return a;var l=a.head,u=a.body,c=l.querySelectorAll("script");(0,oe.each)(c,function(f){return u.appendChild(f)});var d=[];(0,oe.each)(l.children,function(f){return d.push(f)}),(0,oe.each)(d,function(f,h){return u.insertBefore(f,u.children[h])}),s=u}else s=a.firstChild;return s});var kh;(function(n){n.html="parse:html",n.htmlRoot="parse:html:root",n.htmlBefore="parse:html:before",n.css="parse:css",n.cssBefore="parse:css:before",n.all="parse"})(kh||(kh={}));var wc=function(){return wc=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},wc.apply(this,arguments)},iBe="data-gjs-",aBe=function(n,t){return t===void 0&&(t={}),{compTypes:[],modelAttrStart:iBe,getPropAttribute:function(e,r){var o=e.replace(this.modelAttrStart,""),i=(r==null?void 0:r.length)||0,a=r==null?void 0:r.substring(0,1),s=r==null?void 0:r.substring(i-1),l=r==="true"?!0:r==="false"?!1:r;try{l=a=="{"&&s=="}"||a=="["&&s=="]"?JSON.parse(l):l}catch{}return{name:o,value:l}},splitPropsFromAttr:function(e){var r=this;e===void 0&&(e={});var o={},i={};return(0,oe.each)(e,function(a,s){if(s.indexOf(r.modelAttrStart)===0){var l=r.getPropAttribute(s,a);o[l.name]=l.value}else i[s]=a}),{props:o,attrs:i}},parseStyle:function(e){for(var r={};e.indexOf("/*")>=0;){var o=e.indexOf("/*"),i=e.indexOf("*/"),a=i>-1?i+2:void 0;e=e.replace(e.slice(o,a),"")}for(var s=e.split(";"),l=0,u=s.length;l<u;l++){var c=s[l].trim();if(c){var d=c.split(":"),f=d[0].trim(),h=d.slice(1).join(":").trim();r[f]?((0,oe.isArray)(r[f])||(r[f]=[r[f]]),r[f].push(h)):r[f]=h}}return r},parseClass:function(e){for(var r=[],o=e.split(" "),i=0,a=o.length;i<a;i++){var s=o[i].trim();s&&r.push(s)}return r},parseNodeAttr:function(e,r){for(var o,i,a=r||{},s=e.attributes||[],l=s.length,u=!!(!((o=t==null?void 0:t.optionsHtml)===null||o===void 0)&&o.convertDataGjsAttributesHyphens),c=u&&!!a.type&&(0,oe.result)((i=n==null?void 0:n.Components.getType(a.type))===null||i===void 0?void 0:i.model.prototype,"defaults")||{},d=0;d<l;d++){var f=s[d].nodeName,h=s[d].nodeValue;if(f=="style")a.style=this.parseStyle(h);else if(f=="class")a.classes=this.parseClass(h);else{if(f=="contenteditable")continue;if(f.indexOf(this.modelAttrStart)===0){var p=this.getPropAttribute(f,h),v=p.name;if(u&&!(v in c)){var g=(0,Gt._I)(v);v=g in c?g:v}a[v]=p.value}else h===""&&e[f]===!0&&(h=!0),a.attributes||(a.attributes={}),a.attributes[f]=h}}return a},detectNode:function(e,r){var o;r===void 0&&(r={});var i=this.compTypes,a={};if(i){var s=(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"".concat(this.modelAttrStart,"type"));if(s)a={type:s};else for(var l=0;l<i.length;l++){var u=i[l],c=u.model.isComponent(e,r);if(c){typeof c!="object"&&(c={type:u.id}),a=c;break}}}return a},parseNode:function(e,r){var o;r===void 0&&(r={});var i=((o=e.content)===null||o===void 0?void 0:o.childNodes)||e.childNodes,a=i.length,s=this.detectNode(e,r);if(!s.tagName){var l=e.tagName||"",u=e.namespaceURI||"";s.tagName=l&&u==="http://www.w3.org/1999/xhtml"?l.toLowerCase():l}if(s=this.parseNodeAttr(e,s),!a&&"".concat(e.outerHTML).slice(-2)==="/>"&&(s.void=!0),a&&!s.components&&!r.skipChildren){var c=i[0];a===1&&c.nodeType===3?(!s.type&&(s.type="text"),s.components={type:"textnode",content:c.nodeValue}):s.components=this.parseNodes(e,wc(wc({},r),{inSvg:r.inSvg||s.type==="svg"}))}var d=s.components;if(!s.type&&(d!=null&&d.length)){for(var f=t.textTypes,h=f===void 0?[]:f,p=t.textTags,v=p===void 0?[]:p,g=!0,_=!1,S=0;S<d.length;S++){var y=d[S],C=y.type;if(!h.includes(C)&&!v.includes(y.tagName)){g=!1;break}C==="textnode"&&(_=!0)}g&&_&&(s.type="text")}return s},parseNodes:function(e,r){var o;r===void 0&&(r={});for(var i=[],a=((o=e.content)===null||o===void 0?void 0:o.childNodes)||e.childNodes,s=a.length,l=0;l<s;l++){var u=a[l],c=i[i.length-1],d=this.parseNode(u,r);if(d.type==="textnode"){if((c==null?void 0:c.type)==="textnode"){c.content+=d.content;continue}if(!r.keepEmptyTextNodes){var f=u.nodeValue||"",h=l===0||l===s-1,p=f.includes(`
`);if(f!=" "&&!f.trim()&&(h||p))continue}}!d.tagName&&(0,oe.isUndefined)(d.content)||i.push(d)}return i},parse:function(e,r,o){var i,a,s;o===void 0&&(o={});var l=(n==null?void 0:n.get("Config"))||{},u=n==null?void 0:n.Parser,c={html:[]},d=wc(wc(wc({},t.optionsHtml),{htmlType:((i=t.optionsHtml)===null||i===void 0?void 0:i.htmlType)||t.htmlType}),o),f=wc(wc({},d),{asDocument:this.__checkAsDocument(e,d)}),h=wc(wc({},t),f),p=f.preParser,v=f.asDocument,g={input:(0,oe.isFunction)(p)?p(e,{editor:n==null?void 0:n.getEditor()}):e};u==null||u.__emitEvent(kh.htmlBefore,g);var _=g.input,S=(0,oe.isFunction)(h.parserHtml)?h.parserHtml(_,f):oBe(_,f),y=S,C=S;v&&(y=C.documentElement,c.doctype=(0,Gt.LJ)(C.doctype));var T=y.querySelectorAll("script"),P=T.length,F=(0,oe.isUndefined)(l.allowScripts)?f.allowScripts:l.allowScripts;if(!F)for(;P--;)(a=T[P].parentNode)===null||a===void 0||a.removeChild(T[P]);if((!f.allowUnsafeAttr||!f.allowUnsafeAttrValue)&&this.__sanitizeNode(y,f),r){for(var I=y.querySelectorAll("style"),k=I.length,M="";k--;)M=I[k].innerHTML+M,(s=I[k].parentNode)===null||s===void 0||s.removeChild(I[k]);M&&(c.css=r.parse(M))}u==null||u.__emitEvent(kh.htmlRoot,{input:_,root:y});var V=[];if(v)c.head=this.parseNode(C.head,h),c.root=this.parseNodeAttr(y),V=this.parseNode(C.body,h);else{var U=this.parseNodes(y,h);V=U.length===1&&!h.returnArray?U[0]:U}return c.html=V,u==null||u.__emitEvent(kh.html,{input:_,output:c,options:f}),c},__sanitizeNode:function(e,r){var o=this,i=e.attributes||[],a=e.childNodes||[],s=[];(0,oe.each)(i,function(l){var u=l.nodeName||"",c=l.nodeValue||"";!r.allowUnsafeAttr&&u.startsWith("on")&&s.push(u),!r.allowUnsafeAttrValue&&c.startsWith("javascript:")&&s.push(u)}),s.map(function(l){return e.removeAttribute(l)}),(0,oe.each)(a,function(l){return o.__sanitizeNode(l,r)})},__checkAsDocument:function(e,r){if((0,At.isDef)(r.asDocument))return r.asDocument;if((0,oe.isFunction)(r.detectDocument))return!!r.detectDocument(e);if(r.detectDocument)return e.toLowerCase().trim().startsWith("<!doctype")}}};const G7=aBe;var IE=function(){return IE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},IE.apply(this,arguments)},sI=(function(){function n(t,e,r){this.model=t,this.updateFn=e,this.resolverListeners={},this.em=r.em}return n.prototype.bindModel=function(t){this.model=t},n.prototype.setDataValues=function(t,e){e===void 0&&(e={});var r=e.skipWatcherUpdates||e.fromDataSource;return r||this.removeListeners(),this.addDataValues(t,e)},n.prototype.addDataValues=function(t,e){if(e===void 0&&(e={}),!t)return{};var r=this.evaluateValues(t),o=e.skipWatcherUpdates||e.fromDataSource;return o||this.updateListeners(t),r},n.prototype.onCollectionsStateMapUpdate=function(){var t=this,e=this.getValuesResolvingFromCollections();if(e.length){var r=this.addDataValues(this.getValuesOrResolver(Object.fromEntries(e.map(function(o){return[o,""]}))));Object.entries(r).forEach(function(o){var i=o[0],a=o[1];return t.updateFn(t.model,i,a)})}},Object.defineProperty(n.prototype,"collectionsStateMap",{get:function(){var t,e=this.model;return(t=e==null?void 0:e.collectionsStateMap)!==null&&t!==void 0?t:{}},enumerable:!1,configurable:!0}),n.prototype.updateListeners=function(t){var e=this,r=this,o=r.em,i=r.collectionsStateMap;this.removeListeners(Object.keys(t));for(var a=Object.keys(t),s=function(c){var d=a[c],f=t[d];if(!yD(f))return"continue";var h=K7(f,{em:o,collectionsStateMap:i});l.resolverListeners[d]=new rC({em:o,resolver:h,onUpdate:function(p){return e.updateFn(e.model,d,p)}})},l=this,u=0;u<a.length;u++)s(u)},n.prototype.evaluateValues=function(t){for(var e=this,r=e.em,o=e.collectionsStateMap,i=IE({},t),a=Object.keys(t),s=0;s<a.length;s++){var l=a[s],u=t[l];yD(u)&&(i[l]=W7(u,{em:r,collectionsStateMap:o}))}return i},n.prototype.removeListeners=function(t){var e=this,r=t||Object.keys(this.resolverListeners);return r.forEach(function(o){var i,a;e.resolverListeners[o]&&((a=(i=e.resolverListeners[o]).destroy)===null||a===void 0||a.call(i),delete e.resolverListeners[o])}),r},n.prototype.getValuesOrResolver=function(t){if(!t)return{};for(var e=IE({},t),r=Object.keys(e),o=0;o<r.length;o++){var i=r[o],a=this.resolverListeners[i];a&&(e[i]=a.resolver.toJSON())}return e},n.prototype.getAllDataResolvers=function(){for(var t={},e=Object.keys(this.resolverListeners),r=0;r<e.length;r++){var o=e[r];t[o]=this.resolverListeners[o].resolver.toJSON()}return t},n.prototype.getValuesResolvingFromCollections=function(){var t=this,e=Object.keys(this.resolverListeners).filter(function(r){return t.resolverListeners[r].resolver.resolvesFromCollection()});return e},n.prototype.destroy=function(){this.removeListeners()},n})(),Gl=function(){return Gl=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Gl.apply(this,arguments)},sBe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},YS={fromDataSource:!0,avoidStore:!0},hg="__data_values",lBe=(function(){function n(t,e){var r=this;this.model=t,this.options=e,this.onPropertyUpdate=function(o,i,a){o==null||o.set(i,a,YS)},this.onAttributeUpdate=function(o,i,a){var s;r.isComponent(o)&&(o==null||o.addAttributes((s={},s[i]=a,s),YS))},this.onStyleUpdate=function(o,i,a){var s;o==null||o.addStyle((s={},s[i]=a,s),Gl(Gl({},YS),{partial:!0,avoidStore:!0}))},this.propertyWatcher=new sI(t,this.onPropertyUpdate,e),this.attributeWatcher=new sI(t,this.onAttributeUpdate,e),this.styleWatcher=new sI(t,this.onStyleUpdate,e)}return n.prototype.bindModel=function(t){this.model=t,this.watchers.forEach(function(e){return e.bindModel(t)}),this.updateSymbolOverride()},n.prototype.addProps=function(t,e){var r;e===void 0&&(e={});var o=(r=t[hg])!==null&&r!==void 0?r:{},i=this.filterProps(t),a=Gl(Gl({},t),this.propertyWatcher.addDataValues(Gl(Gl({},i),o.props),e));this.shouldProcessProp("attributes",t,o)&&(a.attributes=this.processAttributes(t,o,e)),this.shouldProcessProp("style",t,o)&&(a.style=this.processStyles(t,o,e));var s=e.skipWatcherUpdates||e.fromDataSource;return s||(this.updateSymbolOverride(),a[hg]={props:this.propertyWatcher.getAllDataResolvers(),style:this.styleWatcher.getAllDataResolvers(),attributes:this.attributeWatcher.getAllDataResolvers()}),a},n.prototype.getProps=function(t){var e=this.getValueOrResolver("props",t),r=Gl({},e);return delete r[hg],(0,oe.isEmpty)(t.attributes)||(r.attributes=this.getValueOrResolver("attributes",t.attributes)),(0,oe.isObject)(t.style)&&!(0,oe.isEmpty)(t.style)&&(r.style=this.getValueOrResolver("styles",t.style)),r},n.prototype.getValueOrResolver=function(t,e){var r;switch(t){case"props":r=this.propertyWatcher;break;case"styles":r=this.styleWatcher;break;case"attributes":r=this.attributeWatcher;break;default:{var o=this.options.em;return o==null||o.logError("Invalid target '".concat(t,"'. Must be 'props', 'styles', or 'attributes'.")),{}}}return e?r.getValuesOrResolver(e):r.getAllDataResolvers()},n.prototype.removeAttributes=function(t){this.attributeWatcher.removeListeners(t),this.updateSymbolOverride()},n.prototype.disableStyles=function(){this.styleWatcher.removeListeners(),this.styleWatcher.destroy()},n.prototype.onCollectionsStateMapUpdate=function(){this.watchers.forEach(function(t){return t.onCollectionsStateMapUpdate()})},n.prototype.destroy=function(){this.watchers.forEach(function(t){return t.destroy()})},Object.defineProperty(n.prototype,"watchers",{get:function(){return[this.propertyWatcher,this.styleWatcher,this.attributeWatcher]},enumerable:!1,configurable:!0}),n.prototype.isComponent=function(t){return t instanceof Ai},n.prototype.shouldProcessProp=function(t,e,r){var o=t==="attributes"?this.attributeWatcher:this.styleWatcher,i=r[t],a=!!e[t],s=i&&Object.keys(i).length>0,l=i&&Object.keys(o.getAllDataResolvers()).length>0;return a||s||l},n.prototype.updateSymbolOverride=function(){var t,e=this.model;if(!(!this.isComponent(e)||!Lc(e))){var r=!!Object.keys((t=e==null?void 0:e.collectionsStateMap)!==null&&t!==void 0?t:{}).length;if(r){var o=this.propertyWatcher.getValuesResolvingFromCollections(),i=this.attributeWatcher.getValuesResolvingFromCollections(),a=sBe(["locked","layerable",hg],o,!0),s=Object.keys(i).length;s&&a.push("attributes");var l=Hf(e);l.forEach(function(u){u.setSymbolOverride(a,{fromDataSource:!0})}),e.setSymbolOverride(a,{fromDataSource:!0})}}},n.prototype.filterProps=function(t){var e=["components","dataResolver","status","state","open",Jp,hg],r=Object.fromEntries(Object.entries(t).filter(function(o){var i=o[0];return!e.includes(i)}));return r},n.prototype.processAttributes=function(t,e,r){var o;return r===void 0&&(r={}),this.attributeWatcher.setDataValues(Gl(Gl({},t.attributes),(o=e.attributes)!==null&&o!==void 0?o:{}),r)},n.prototype.processStyles=function(t,e,r){var o;return r===void 0&&(r={}),typeof t=="string"?(this.styleWatcher.removeListeners(),t):this.styleWatcher.setDataValues(Gl(Gl({},t.style),(o=e.style)!==null&&o!==void 0?o:{}),r)},n})(),uBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ca=function(){return ca=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},ca.apply(this,arguments)},cBe=G7(),bD=function(n){return(0,oe.isArray)(n)?n[n.length-1]:n},dBe=(function(n){uBe(t,n);function t(e,r){r===void 0&&(r={});var o=this,i=r.em,a=new lBe(void 0,{em:i});return o=n.call(this,e,ca(ca({},r),{dataResolverWatchers:a}))||this,o.views=[],o.collectionsStateMap={},a.bindModel(o),o.dataResolverWatchers=a,o.em=r.em,o.opt=r,o}return t.prototype.get=function(e,r){return r!=null&&r.skipResolve?this.dataResolverWatchers.getValueOrResolver("props")[e]:n.prototype.get.call(this,e)},t.prototype.set=function(e,r,o){var i,a,s={skipWatcherUpdates:!1,fromDataSource:!1},l,u;typeof e=="object"?(l=e,u=r||s):typeof e=="string"?(l=(i={},i[e]=r,i),u=o||s):(l={},u=s),this.dataResolverWatchers=(a=this.dataResolverWatchers)!==null&&a!==void 0?a:u.dataResolverWatchers;var c=this.dataResolverWatchers.addProps(l,u);return n.prototype.set.call(this,c,u)},t.prototype.parseStyle=function(e){return cBe.parseStyle(e)},t.prototype.extendStyle=function(e){return ca(ca({},this.getStyle("",{skipResolve:!0})),e)},t.prototype.getStyle=function(e,r){r===void 0&&(r={});var o=this.get("style"),i=(0,oe.isString)(o)?this.parseStyle(o):(0,oe.isObject)(o)?ca({},o):{};delete i.__p;var a=!e||e===""||(0,oe.isObject)(e);if(!r.skipResolve)return a?i:i[e];var s=this.dataResolverWatchers.getValueOrResolver("styles",i);return a?s:s[e]},t.prototype.setStyle=function(e,r){var o=this;e===void 0&&(e={}),r===void 0&&(r={}),(0,oe.isString)(e)&&(e=this.parseStyle(e));var i=this.getStyle("",{skipResolve:!0});r.partial||r.avoidStore?(r.avoidStore=!0,e.__p=!0):delete e.__p;var a=ca({},e),s=ca({},a);(0,oe.keys)(s).forEach(function(c){if(s[c]===""){delete s[c];return}}),this.set({style:s},r),s=this.attributes.style;var l=Object.keys((0,At.shallowDiff)(i,a)),u=l.reduce(function(c,d){var f;return ca(ca({},c),(f={},f[d]=s[d],f))},{});return delete u.__p,(0,oe.keys)(u).forEach(function(c){var d=o.em;r.noEvent||(o.trigger("change:style:".concat(c)),d&&(d.trigger("styleable:change",o,c,r),d.trigger("styleable:change:".concat(c),o,c,r)))}),s},t.prototype.getView=function(e){var r=this,o=r.views,i=r.em,a=e||(i==null?void 0:i.getCurrentFrameModel());return a?o.find(function(s){return s.frameView===a.view}):o[0]},t.prototype.setView=function(e){var r=this.views;!r.includes(e)&&r.push(e)},t.prototype.removeView=function(e){var r=this.views;r.splice(r.indexOf(e),1)},t.prototype.updateView=function(){this.views.forEach(function(e){return e.updateStyles()})},t.prototype.addStyle=function(e,r,o){var i;r===void 0&&(r=""),o===void 0&&(o={}),typeof e=="string"?e=(i={},i[e]=r,i):o=r||{},o.addStyle=e,e=this.extendStyle(e),this.setStyle(e,o)},t.prototype.removeStyle=function(e){var r=this.getStyle();delete r[e],this.setStyle(r)},t.prototype.styleToString=function(e){e===void 0&&(e={});var r=[],o=e.style||this.getStyle(e),i=e.important,a=function(l){var u=(0,oe.isArray)(i)?i.indexOf(l)>=0:i,c=l.substring(0,2),d=c==="__";if(d)return"continue";var f=o[l],h=(0,oe.isArray)(f)?f:[f];h.forEach(function(p){var v="".concat(p).concat(u?" !important":"");v&&r.push("".concat(l,":").concat(v,";"))})};for(var s in o)a(s);return r.join("")},t.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},t.prototype.getSelectorsString=function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()},t.prototype.onCollectionsStateMapUpdate=function(e){this.collectionsStateMap=e,this.dataResolverWatchers.onCollectionsStateMapUpdate()},t.prototype.clone=function(e,r){var o=this.dataResolverWatchers.getProps(this.attributes),i=ca(ca({},o),e),a=ca(ca({},this.opt),r),s=this.constructor;return new s(i,a)},t.prototype.toJSON=function(e,r){if(e!=null&&e.fromUndo)return ca({},n.prototype.toJSON.call(this,e));var o=ca(ca({},this.attributes),r),i=this.dataResolverWatchers.getProps(o);return i},t})(Qt.Kx);const Y7=dBe;var fBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),R1=1,lI=2,X7=(function(n){fBe(t,n);function t(e,r){r===void 0&&(r={});var o=n.call(this,e,r)||this,i=r.config,a=i===void 0?{}:i,s=o.get("name"),l=o.get("label");s?l||o.set("label",s):o.set("name",l);var u=o.get("name"),c=a.escapeName,d=c?c(u):t.escapeName(u);return o.set("name",d),o.em=r.em,o}return t.prototype.defaults=function(){return{name:"",label:"",type:R1,active:!0,private:!1,protected:!1,_undo:!0}},t.prototype.isId=function(){return this.get("type")===lI},t.prototype.isClass=function(){return this.get("type")===R1},t.prototype.getFullName=function(e){e===void 0&&(e={});var r=e.escape,o=this.get("name"),i="";switch(this.get("type")){case R1:i=".";break;case lI:i="#";break}return i+(r?r(o):o)},t.prototype.toString=function(){return this.getFullName()},t.prototype.getName=function(){return this.get("name")||""},t.prototype.getLabel=function(){return this.get("label")||""},t.prototype.setLabel=function(e){return this.set("label",e)},t.prototype.getActive=function(){return!!this.get("active")},t.prototype.setActive=function(e){return this.set("active",e)},t.prototype.toJSON=function(e){e===void 0&&(e={});var r=this.em,o=Qt.Kx.prototype.toJSON.call(this,[e]),i=(0,oe.result)(this,"defaults");if(r!=null&&r.getConfig().avoidDefaults){(0,oe.forEach)(i,function(s,l){o[l]===s&&delete o[l]}),o.label===o.name&&delete o.label;var a=(0,oe.keys)(o).length;a===1&&o.name&&(o=o.name),a===2&&o.name&&o.type&&(o=this.getFullName())}return o},t.escapeName=function(e){return"".concat(e).trim().replace(/\s+/g,"-")},t.TYPE_CLASS=R1,t.TYPE_ID=lI,t})(Qt.Kx);const Hs=X7;X7.prototype.idAttribute="name";var ABe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),J7=function(n,t){return n.reduce(function(e,r,o){return e.concat(J7(n.slice(o+1),"".concat(t).concat(r)))},[t])},Z7=(function(n){ABe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||Hs.TYPE_CLASS)},t.prototype.getStyleable=function(){return(0,oe.filter)(this.models,function(e){return e.getActive()&&!e.get("private")})},t.prototype.getValid=function(e){var r=e===void 0?{}:e,o=r.noDisabled;return(0,oe.filter)(this.models,function(i){return!i.get("private")}).filter(function(i){return o?i.get("active"):1})},t.prototype.getFullString=function(e,r){r===void 0&&(r={});var o=[],i=e||this;return i.forEach(function(a){return o.push(a.getFullName(r))}),r.sort&&o.sort(),o.join("").trim()},t.prototype.getFullName=function(e){e===void 0&&(e={});var r=e.combination,o=e.array,i=[],a=this.map(function(s){return s.getFullName(e)}).sort();return r?a.forEach(function(s,l){i=i.concat(J7(a.slice(l+1),s))}):i=a,o?i:r?i.join(","):i.join("")},t})(Qt.pM);const fh=Z7;Z7.prototype.model=Hs;var hBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),E3=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},pBe=(function(n){hBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},t.prototype.getId=function(){return this.get("id")},t.prototype.getLabel=function(){return this.get("label")},t})(Qt.Kx);const oC=pBe;function q7(n){var t=new Set,e=new Map,r={items:[]};n.forEach(function(i){var a=i.category;if(a){t.add(a);var s=e.get(a);s?s.push(i):e.set(a,[i])}else r.items.push(i)});var o=Array.from(t).map(function(i){return{category:i,items:e.get(i)||[]}});return E3(E3([],o,!0),[r],!1)}var mBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),B3="category",eX=(function(n){mBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initCategory=function(e){var r=e.get(B3),o=r instanceof oC;if(r&&!o){(0,oe.isString)(r)?r={id:r,label:r}:(0,At.isObject)(r)&&!r.id&&(r.id=r.label);var i=this.getCategories().add(r);return e.set(B3,i,{silent:!0}),i}else if(o){var i=r;return this.getCategories().add(i),i}},t})(Qt.pM),vBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),tX=(function(n){vBe(t,n);function t(e,r){r===void 0&&(r={});var o=n.call(this,e,r)||this,i=r.events,a=r.em,s=i==null?void 0:i.update;return a&&s&&o.on("change",function(l,u){return a.trigger(s,{category:l,changes:l.changedAttributes(),options:u})}),o}return t.prototype.add=function(e,r){var o=(0,oe.isArray)(e)?e:[e];return o.forEach(function(i){return i&&(i.id=(0,At.normalizeKey)("".concat(i.id)))}),n.prototype.add.call(this,e,r)},t.prototype.get=function(e){return n.prototype.get.call(this,(0,oe.isString)(e)?(0,At.normalizeKey)(e):e)},t})(Qt.pM);const ME=tX;tX.prototype.model=oC;var FE;(function(n){n.select="trait:select",n.value="trait:value",n.categoryUpdate="trait:category:update",n.custom="trait:custom",n.all="trait"})(FE||(FE={}));const wD=FE;var gBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),DE=function(){return DE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},DE.apply(this,arguments)},yBe=(function(n){gBe(t,n);function t(e,r){var o=n.call(this,e)||this,i=o.attributes,a=i.target,s=i.name;return!o.get("id")&&o.set("id",s),a&&o.setTarget(a),o.em=r,o}return t.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(t.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"category",{get:function(){var e=this.get("category");return e instanceof oC?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),t.prototype.setTarget=function(e){if(e){var r=this.attributes,o=r.name,i=r.changeProp,a=r.value,s=r.getValue;this.target=e,this.unset("target");var l=i?"change:".concat(o):"change:attributes:".concat(o);this.listenTo(e,l,this.targetUpdated);var u=a||(s?void 0:this.getValue());!(0,oe.isUndefined)(u)&&this.set({value:u},{silent:!0})}},t.prototype.getId=function(){return this.get("id")},t.prototype.getType=function(){return this.get("type")},t.prototype.getName=function(){return this.get("name")},t.prototype.getLabel=function(e){var r;e===void 0&&(e={});var o=e.locale,i=o===void 0?!0:o,a=this.getId(),s=this.get("label")||this.getName();return i&&((r=this.em)===null||r===void 0?void 0:r.t("traitManager.traits.labels.".concat(a)))||s},t.prototype.getValue=function(e){return this.getTargetValue(e)},t.prototype.setValue=function(e,r){var o=this;r===void 0&&(r={});var i=this,a=i.component,s=i.em,l=r.partial,u={},c=this.attributes.setValue;if(c){c({value:e,component:a,editor:s==null?void 0:s.getEditor(),trait:this,partial:!!l,options:r,emitUpdate:function(){return o.targetUpdated()}});return}l&&(u.avoidStore=!0),this.setTargetValue(e,u)},t.prototype.getDefault=function(){return this.get("default")},t.prototype.getOptions=function(){return this.get("options")||[]},t.prototype.getOption=function(e){var r=this,o=(0,At.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(i){return r.getOptionId(i)===o})[0]},t.prototype.getOptionId=function(e){return e.id||e.value},t.prototype.getOptionLabel=function(e,r){var o;r===void 0&&(r={});var i=r.locale,a=i===void 0?!0:i,s=(0,oe.isString)(e)?this.getOption(e):e,l=this.getOptionId(s),u=s.label||s.name||l,c=this.getName();return a&&((o=this.em)===null||o===void 0?void 0:o.t("traitManager.traits.options.".concat(c,".").concat(l)))||u},t.prototype.getCategoryLabel=function(e){e===void 0&&(e={});var r=this,o=r.em,i=r.category,a=e.locale,s=a===void 0?!0:a,l=i==null?void 0:i.getId(),u=i==null?void 0:i.getLabel();return s&&(o==null?void 0:o.t("traitManager.categories.".concat(l)))||u||""},t.prototype.runCommand=function(){var e=this.em,r=this.attributes.command;if(r&&e)return(0,oe.isString)(r)?e.Commands.run(r):r(e.Editor,this)},t.prototype.props=function(){return this.attributes},t.prototype.targetUpdated=function(){var e=this,r=e.component,o=e.em,i=this.getTargetValue({useType:!0});this.set({value:i},{fromTarget:1});var a={trait:this,component:r,value:i};r.trigger(wD.value,a),o==null||o.trigger(wD.value,a),o==null||o.trigger("trait:update",a)},t.prototype.getTargetValue=function(e){var r;e===void 0&&(e={});var o=this,i=o.component,a=o.em,s=this.getName(),l=this.get("getValue"),u,c=e.skipResolve;if(l?u=l({editor:a==null?void 0:a.getEditor(),trait:this,component:i}):this.changeProp?(u=i.get(s),c&&(u=i.dataResolverWatchers.getValueOrResolver("props",(r={},r[s]=u,r))[s])):u=i.getAttributes({skipResolve:c})[s],e.useType){var d=this.getType();if(d==="checkbox"){var f=this.attributes,h=f.valueTrue,p=f.valueFalse;!(0,oe.isUndefined)(h)&&h===u?u=!0:!(0,oe.isUndefined)(p)&&p===u&&(u=!1)}}return(0,oe.isUndefined)(u)?"":u},t.prototype.setTargetValue=function(e,r){var o;r===void 0&&(r={});var i=this,a=i.component,s=i.attributes,l=this.getName();if(!(0,oe.isUndefined)(e)){var u=e;if(e==="false"?u=!1:e==="true"&&(u=!0),this.getType()==="checkbox"){var c=s.valueTrue,d=s.valueFalse;u&&!(0,oe.isUndefined)(c)&&(u=c),!u&&!(0,oe.isUndefined)(d)&&(u=d)}var f=(o={},o[l]=u,o);f.__p=r.avoidStore?null:void 0,this.changeProp?a.set(f,r):a.addAttributes(f,r)}},t.prototype.setValueFromInput=function(e,r,o){r===void 0&&(r=!0),o===void 0&&(o={});var i={value:e};this.set(i,DE(DE({},o),{avoidStore:1})),r&&(this.set("value","",o),this.set(i,o))},t.prototype.getInitValue=function(){var e=this.component,r=this.getName(),o;if(e){var i=e.get("attributes");o=this.changeProp?e.get(r):i[r]}return o||this.get("value")||this.get("default")},t})(Qt.Kx);const UE=yBe;var bBe=(function(){function n(t){t===void 0&&(t={}),this.config=t}return n.prototype.build=function(t,e){return(0,oe.isString)(t)?this.buildFromString(t,e):new UE(t,e)},n.prototype.buildFromString=function(t,e){var r={name:t,type:"text"};switch(t){case"target":r.type="select",r.default=!1,r.options=this.config.optionsTarget;break}return new UE(r,e)},n})();const wBe=bBe;var _Be=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),CBe=(function(n){_Be(t,n);function t(e,r){var o=n.call(this,e)||this;o.categories=new ME;var i=r.em;o.em=i,o.categories=new ME([],{em:i,events:{update:wD.categoryUpdate}}),o.on("add",o.handleAdd),o.on("reset",o.handleReset);var a=o.module,s=a==null?void 0:a.getConfig();return o.tf=new wBe(s),o}return Object.defineProperty(t.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),t.prototype.getCategories=function(){return this.categories},t.prototype.handleReset=function(e,r){var o=r===void 0?{}:r,i=o.previousModels,a=i===void 0?[]:i;a.forEach(function(s){return s.trigger("remove")})},t.prototype.handleAdd=function(e){e.em=this.em;var r=this.target;r&&(e.target=r),this.initCategory(e)},t.prototype.setTarget=function(e){this.target=e,this.models.forEach(function(r){return r.setTarget(e)})},t.prototype.add=function(e,r){if(e!=null){var o=this,i=o.target,a=o.em;if((0,oe.isArray)(e)){for(var s=[],l=0,u=e.length;l<u;l++){var c=e[l];s[l]=c instanceof UE?c:this.tf.build(c,a),s[l].setTarget(i)}return n.prototype.add.call(this,s,r)}var d=e instanceof UE?e:this.tf.build(e,a);return d.setTarget(i),n.prototype.add.call(this,d,r)}},t})(eX);const LE=CBe;var SBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Ya=function(){return Ya=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ya.apply(this,arguments)},XS=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},uI=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},Eg=function(n,t){if(t===void 0&&(t=[]),!n)return[];var e=(0,oe.isArray)(n)||(0,oe.isFunction)(n.map)?n:[n];return e.map(function(r){t.push(r.getId()),Eg(r.components().models,t)}),t},nX=function(n,t,e){t===void 0&&(t={}),e===void 0&&(e={}),e.visitedCmps=e.visitedCmps||{};var r=e.visitedCmps,o=e.updateOptions||{},i=(0,oe.isArray)(n)?n:[n];return i.map(function(a){var s=a.attributes,l=s===void 0?{}:s,u=a.components,c=a.tagName,d=a.style,f=l.id;l.draggable;var h=XS(l,["id","draggable"]),p=a;if(f){if(r[f])r[f].push(p),f=Ai.getNewId(t),p.attributes.id=f;else if(r[f]=[],t[f]){p=t[f];var v=o.onAttributes,g=o.onStyle,_=p;c&&_.set({tagName:c},Ya(Ya({},e),{silent:!0})),v?v({item:a,component:_,attributes:h,options:e}):(0,oe.keys)(h).length&&_.addAttributes(h,Ya({},e)),g?g({item:a,component:_,style:d,options:e}):(0,oe.keys)(d).length&&_.addStyle(d,e)}}var S=(0,oe.isFunction)(p.components)?p:null;if(u){var y=nX(u,t,e);S?S.components().reset(y,e):p.components=y}else S&&S.components().reset([],e);return p})},xBe=(function(n){SBe(t,n);function t(e,r){var o=n.call(this,e,r)||this;o.opt=r,o.listenTo(o,"add",o.onAdd),o.listenTo(o,"remove",o.removeChildren),o.listenTo(o,"reset",o.resetChildren);var i=r.em,a=r.config;return o.config=a,o.em=i,o.domc=r.domc||(i==null?void 0:i.Components),o}return Object.defineProperty(t.prototype,"events",{get:function(){var e;return(e=this.domc)===null||e===void 0?void 0:e.events},enumerable:!1,configurable:!0}),t.prototype.resetChildren=function(e,r){var o=this;r===void 0&&(r={});var i=this,a=r.previousModels||[],s=a.filter(function(c){return!e.get(c.cid)}),l=Eg(e),u=Eg(a).filter(function(c){return l.indexOf(c)>=0});r.keepIds=(r.keepIds||[]).concat(u),s.forEach(function(c){return o.removeChildren(c,i,r)}),e.each(function(c){return o.onAdd(c)})},t.prototype.resetFromString=function(e,r){var o,i;e===void 0&&(e=""),r===void 0&&(r={}),r.keepIds=Eg(this);var a=this,s=a.domc,l=a.em,u=a.parent,c=(s==null?void 0:s.allById())||{},d=this.parseString(e,Ya(Ya({},r),{cloneRules:!0})),f=Ya({skipViewUpdate:!0},r),h=nX(d,c,f);t.cloneCssRules(l,f.visitedCmps),this.reset(h,r),l==null||l.trigger("component:content",u,r,e),(i=(o=u).__checkInnerChilds)===null||i===void 0||i.call(o)},t.prototype.removeChildren=function(e,r,o){var i=this;if(o===void 0&&(o={}),!!e){var a=this,s=a.domc,l=a.em,u=o.temporary||o.fromUndo;if(e.prevColl=this,!u){var c=e.getId(),d=l.Selectors.getAll(),f=l.Css.getAll(),h=(o.keepIds||[]).indexOf(c)<0,p=s?s.allById():{};delete p[c];var v=h?f.remove(f.filter(function(y){return y.getSelectors().getFullString()==="#".concat(c)}),o):[];d.remove(v.map(function(y){return y.getSelectors().at(0)})),e.opt.temporary||(l.Commands.run("core:component-style-clear",{target:e}),e.views.forEach(function(y){y.scriptContainer&&e.emitWithEditor(Ur.I.scriptUnmount,{component:e,view:y,el:y.el})}),e.removed(),e.trigger("removed"),l.trigger(Ur.I.remove,e),s&&OE(e)&&$m(e)&&s.symbols.__trgEvent(s.events.symbolInstanceRemove,{component:e},!0));var g=e.components();g.forEach(function(y){$7(y,y,g,Ya(Ya({},o),{skipRefsUp:!0})),i.removeChildren(y,r,o)})}var _=e.components();if(l.stopListening(_),l.stopListening(e),l.stopListening(e.get("classes")),e.__postRemove(),!e.opt.temporary){var S=function(y){y.emitWithEditor(Ur.I.removed,y,{removeOptions:o}),y.components().forEach(function(C){return S(C)})};S(e)}}},t.prototype.model=function(e,r){var o=r.collection.opt,i=o.em,a,s=i.Components.componentTypes;r.em=i,r.config=o.config,r.componentTypes=s,r.domc=o.domc;for(var l=0;l<s.length;l++){var u=s[l].id;if(u==e.type){a=s[l].model;break}}return a||(a=s[s.length-1].model,i&&e.type&&i.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:r})),new a(e,r)},t.prototype.parseString=function(e,r){r===void 0&&(r={});var o=this,i=o.em,a=o.domc,s=o.parent,l=s==null?void 0:s.is("wrapper"),u=r.asDocument&&l,c=i.Css,d=i.Parser.parseHtml(e,Ya({asDocument:u},r.parserOptions)),f=d.html;if(l&&d.doctype){var h=s,p=d.html||{},v=p.components,g=v===void 0?[]:v,_=XS(p,["components"]),S=d.head||{},y=S.components,C=XS(S,["components"]);f=g,h.set(_,r),h.head.set(C,r),h.head.components(y,r),h.docEl.set(d.root,r),h.set({doctype:d.doctype})}var T=Ai.checkId(f,d.css,a.componentsById,r);if(r.cloneRules&&t.cloneCssRules(i,T.updatedIds),d.css&&c&&!r.temporary){r.at;var P=XS(r,["at"]);c.addCollection(d.css,Ya(Ya({},P),{extend:1}))}return f},t.prototype.add=function(e,r){var o=this;if(r===void 0&&(r={}),e!=null){r.keepIds=uI(uI([],r.keepIds||[],!0),Eg(r.previousModels),!0),(0,oe.isString)(e)?e=this.parseString(e,r):(0,oe.isArray)(e)&&(e=uI([],e,!0),e.forEach(function(a,s){if((0,oe.isString)(a)){var l=o.parseString(a,r);e[s]=(0,oe.isArray)(l)&&!l.length?null:l}}));var i=((0,oe.isArray)(e)?e:[e]).filter(Boolean).map(function(a){return o.processDef(a)});return e=(0,oe.isArray)(e)?(0,oe.flatten)(i,1):i[0],n.prototype.add.call(this,e,r)}},t.prototype.processDef=function(e){if(e.cid&&e.ccid)return e;var r=this,o=r.em,i=r.config,a=i===void 0?{}:i,s=a.processor,l=e;if(s){l=Ya({},l);var u=s(l);u&&((0,oe.each)(l,function(g,_){return delete l[_]}),(0,oe.extend)(l,u))}if(l.$$typeof&&typeof l.props=="object"){l=Ya({},l),l.props=Ya({},l.props);var c=o.Components,d=o.Parser,f=d.parserHtml;(0,oe.each)(l,function(g,_){(0,oe.includes)(["props","type"],_)||delete l[_]});var h=l.props,p=h.children;delete h.children,delete l.props;var v=f.splitPropsFromAttr(h);l.attributes=v.attrs,p&&(l.components=p),l.type?c.getType(l.type)||(l.tagName=l.type,delete l.type):l.type="textnode",(0,oe.extend)(l,v.props)}return l},t.prototype.onAdd=function(e,r,o){o===void 0&&(o={});var i=this,a=i.domc,s=i.em,l=s.config.avoidInlineStyle;if(a&&a.Component.ensureInList(e),!l&&s.config.forceClass&&!o.temporary){var u=e.getStyle();if(!(0,oe.isEmpty)(u)){var c=e.cid;s.Css.setClassRule(c,u),e.setStyle({}),e.addClass(c)}}if(e.__postAdd({recursive:!0}),s&&!o.temporary){var d=function(f){s.trigger(Ur.I.add,f,o),f.components().forEach(function(h){return d(h)})};d(e),a&&OE(e)&&$m(e)&&a.symbols.__trgEvent(a.events.symbolInstanceAdd,{component:e},!0)}},t.cloneCssRules=function(e,r){r===void 0&&(r={});var o=e.Css;Object.keys(r).forEach(function(i){var a=r[i];if(a.length){var s=(o.getRules("#".concat(i))||[]).filter(function(u){return!(0,oe.isEmpty)(u.attributes.style)});if(s.length){var l=o.getAll();a.forEach(function(u){s.forEach(function(c){var d=c.clone();d.set("selectors",["#".concat(u.attributes.id)]),l.add(d)})})}}})},t})(Qt.pM);const u_=xBe;var EBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),eo=function(){return eo=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},eo.apply(this,arguments)},BBe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},Kl=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},k3=function(n){return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Tp=function(n){return!!(n!=null&&n.getConfig().avoidInlineStyle)},h2="component:drag",Vs="__symbols",wl="__symbol",Jp="__symbol_ovrd",JS=Ur.I.update,_D=Ur.I.updateInside,kBe=(function(n){EBe(t,n);function t(e,r){e===void 0&&(e={});var o=this,i=r.em;o=n.call(this,e,r)||this,(0,oe.bindAll)(o,"__upSymbProps","__upSymbCls","__upSymbComps","syncOnComponentChange");var a=o.parent(),s=a==null?void 0:a.attributes,l=o.get("propagate");if(l&&o.set("propagate",(0,oe.isArray)(l)?l:[l]),s&&s.propagate&&!l){var u={},c=s.propagate;c.forEach(function(_){return u[_]=a.get(_)}),u.propagate=c,o.set(eo(eo({},u),e))}r&&r.config&&r.config.voidElements.indexOf(o.get("tagName"))>=0&&o.set("void",!0),r.em=i,o.opt=r,o.em=i,o.config=r.config||{};var d=eo(eo({},(0,oe.result)(o,"defaults").attributes||{}),o.get("attributes")||{}),f=o.dataResolverWatchers.getValueOrResolver("attributes",d);if(o.setAttributes(f),o.ccid=t.createId(o,r),o.preInit(),o.initClasses(),o.initComponents(),o.initTraits(),o.initToolbar(),o.initScriptProps(),o.listenTo(o,"change:script",o.scriptUpdated),o.listenTo(o,"change:tagName",o.tagUpdated),o.listenTo(o,"change:attributes",o.attrUpdated),o.listenTo(o,"change:attributes:id",o._idUpdated),o.on("change:toolbar",o.__emitUpdateTlb),o.on("change",o.__onChange),o.on(_D,o.__propToParent),o.set("status",""),o.views=[],["classes","traits","components"].forEach(function(_){var S="add remove reset ".concat(_!=="components"?"change":"");o.listenTo(o.get(_),S.trim(),function(){for(var y=[],C=0;C<arguments.length;C++)y[C]=arguments[C];return o.emitUpdate.apply(o,Kl([_],y,!1))})}),!r.temporary){var h=i&&i.Css,p=o.attributes,v=p.styles,g=p.type;v&&h&&h.addCollection(v,{avoidUpdateStyle:!0},{group:"cmp:".concat(g)}),o._moveInlineStyleToRule(),o.__postAdd(),o.init(),Lc(o)&&$0(o),i==null||i.trigger(Ur.I.create,o,r)}return Tp(i)&&o.dataResolverWatchers.disableStyles(),o}return Object.defineProperty(t.prototype,"defaults",{get:function(){var e;return e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},e[wl]=0,e[Vs]=0,e[Jp]=0,e._undo=!0,e._undoexc=["status","open"],e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){var e;return(e=this.get("content"))!==null&&e!==void 0?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this.opt.frame},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){var e;return(e=this.frame)===null||e===void 0?void 0:e.getPage()},enumerable:!1,configurable:!0}),t.prototype.getType=function(){return this.get("type")||"default"},t.prototype.preInit=function(){},t.prototype.init=function(){},t.prototype.updated=function(e,r,o){},t.prototype.removed=function(){},t.prototype.onCollectionsStateMapUpdate=function(e){var r;n.prototype.onCollectionsStateMapUpdate.call(this,e),(r=this._getStyleRule())===null||r===void 0||r.onCollectionsStateMapUpdate(e);var o=this.components();o.forEach(function(i){return i.onCollectionsStateMapUpdate(e)})},t.prototype.syncComponentsCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.listenTo(this.components(),"add remove reset",this.syncOnComponentChange),this.components().forEach(function(e){return e.syncComponentsCollectionState()})},t.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.collectionsStateMap={},this.components().forEach(function(e){return e.stopSyncComponentCollectionState()})},t.prototype.syncOnComponentChange=function(e,r,o){var i=this;if(!(!this.collectionsStateMap||!Object.keys(this.collectionsStateMap).length)){var a=o||r||{};if(o)if(a.add){var l=e;l.syncComponentsCollectionState(),l.onCollectionsStateMapUpdate(this.collectionsStateMap)}else{var u=e;u.stopSyncComponentCollectionState()}else{var s=a.previousModels||[];s.forEach(function(c){return c.stopSyncComponentCollectionState()}),this.components().forEach(function(c){c.syncComponentsCollectionState(),c.onCollectionsStateMapUpdate(i.collectionsStateMap)})}}},t.prototype.__postAdd=function(e){e===void 0&&(e={});var r=this.em,o=r==null?void 0:r.UndoManager,i=this.components();o&&!this.__hasUm&&(o.add(i),o.add(this.getSelectors()),this.__hasUm=!0),e.recursive&&i.map(function(a){return a.__postAdd(e)})},t.prototype.__postRemove=function(){var e=this.em,r=e==null?void 0:e.UndoManager;r&&(r.remove(this.components()),r.remove(this.getSelectors()),delete this.__hasUm)},t.prototype.__onChange=function(e,r){var o=this,i=this.changedAttributes()||{};(0,oe.keys)(i).forEach(function(a){return o.emitUpdate(a)}),["status","open","toolbar","traits"].forEach(function(a){return delete i[a]}),(0,At.isEmptyObj)(i)||(this.__changesUp(r,{changed:i}),this.__propSelfToParent({component:this,changed:i,options:r}))},t.prototype.__onStyleChange=function(e,r){var o=this,i=this,a=i.collectionsStateMap,s=i.em;if(!(!s||r!=null&&r.noEvent)){var l=(0,oe.keys)(e),u={style:e};this.emitWithEditor(Ur.I.styleUpdate,this,u),l.forEach(function(h){return o.emitWithEditor("".concat(Ur.I.styleUpdateProperty).concat(h),o,u)});var c=Object.keys(a).filter(function(h){return h!==i_.rootData});if(c.length!==0){var d=c.every(function(h){var p=a[h];return p.currentIndex===p.startIndex});if(d){var f=Hf(this);f.forEach(function(h){var p=h.collectionsStateMap,v=Object.keys(p),g=v.every(function(_){return c.includes(_)});g&&h.addStyle(eo({},e),{noEvent:!0})})}}}},t.prototype.__changesUp=function(e,r){var o=this;r===void 0&&(r={});var i=this,a=i.em,s=i.frame;[s,a].forEach(function(l){l==null||l.changesUp(e,eo({component:o,options:e},r))})},t.prototype.__propSelfToParent=function(e){this.trigger(JS,e),this.__propToParent(e)},t.prototype.__propToParent=function(e){var r=this.parent();r&&r.trigger(_D,e)},t.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},t.prototype.__getAllById=function(){var e=this.em;return e?e.Components.allById():{}},t.prototype.__upSymbProps=function(e,r){r===void 0&&(r={}),KEe(this,r)},t.prototype.__upSymbCls=function(e,r,o){o===void 0&&(o={}),XEe(this,o)},t.prototype.__upSymbComps=function(e,r,o){$7(this,e,r,o)},t.prototype.__onDestroy=function(){},t.prototype.is=function(e){return this.get("type")==e},t.prototype.props=function(){return this.attributes},t.prototype.index=function(){var e=this.collection;return e?e.indexOf(this):0},t.prototype.setDragMode=function(e){return this.set("dmode",e)},t.prototype.getDragMode=function(){return this.get("dmode")||""},t.prototype.setSymbolOverride=function(e,r){var o,i;r===void 0&&(r={}),this.set((o={},o[Jp]=(i=(0,oe.isString)(e)?[e]:e)!==null&&i!==void 0?i:0,o),r)},t.prototype.getSymbolOverride=function(){return this.get(Jp)},t.prototype.find=function(e){var r,o=[],i=(r=this.view)===null||r===void 0?void 0:r.$el.find(e);return i==null||i.each(function(a){var s=i.eq(a),l=s.data("model");l&&o.push(l)}),o},t.prototype.findType=function(e){var r=[],o=function(i){return i.forEach(function(a){a.is(e)&&r.push(a),o(a.components())})};return o(this.components()),r},t.prototype.findFirstType=function(e){return this.findType(e).at(0)},t.prototype.closest=function(e){var r,o=(r=this.view)===null||r===void 0?void 0:r.$el.closest(e);return o!=null&&o.length?o.data("model"):void 0},t.prototype.closestType=function(e){for(var r=this.parent();r&&!r.is(e);)r=r.parent();return r},t.prototype.contains=function(e){var r=!1;if(!e)return r;var o=function(i){!r&&i.forEach(function(a){a===e&&(r=!0),!r&&o(a.components())})};return o(this.components()),r},t.prototype.tagUpdated=function(){this.trigger("rerender")},t.prototype.replaceWith=function(e,r){r===void 0&&(r={});var o=this.collection,i=o.indexOf(this);o.remove(this);var a=o.add(e,eo(eo({},r),{at:i}));return(0,oe.isArray)(a)?a:[a]},t.prototype.attrUpdated=function(e,r,o){var i=this;o===void 0&&(o={});var a=this.get("attributes"),s=a.class;s&&this.setClass(s),delete a.class;var l=a.style;l&&this.setStyle(l,o),delete a.style;var u=eo({},this.previous("attributes")),c=(0,At.shallowDiff)(u,this.get("attributes"));(0,oe.keys)(c).forEach(function(d){var f,h="attributes:".concat(d);i.trigger("change:".concat(h),i,c[d],o),(f=i.em)===null||f===void 0||f.trigger("".concat(JS,":").concat(h),i,c[d],o)})},t.prototype.setAttributes=function(e,r){return r===void 0&&(r={skipWatcherUpdates:!1,fromDataSource:!1}),this.set("attributes",eo({},e),r),this},t.prototype.addAttributes=function(e,r){r===void 0&&(r={});var o=this.dataResolverWatchers.getValueOrResolver("attributes",this.getAttributes({noClass:!0,noStyle:!0}));return this.setAttributes(eo(eo({},o),e),r)},t.prototype.removeAttributes=function(e,r){e===void 0&&(e=[]),r===void 0&&(r={});var o=Array.isArray(e)?e:[e],i=this.getAttributes();return o.map(function(a){return delete i[a]}),this.setAttributes(i,r)},t.prototype.getStyle=function(e,r){var o=this.em,i=(0,oe.isString)(e),a=i?e:"",s=i?r:e,l=!!(s!=null&&s.skipResolve);if(Tp(o)&&!(s!=null&&s.inline)){var u=o.get("state"),c=o.Css,d=c.getIdRule(this.getId(),eo({state:u},s));return this.rule=d,d?d.getStyle(a,{skipResolve:l}):{}}return n.prototype.getStyle.call(this,a,{skipResolve:l})},t.prototype.setStyle=function(e,r){var o=this;e===void 0&&(e={}),r===void 0&&(r={});var i=this,a=i.opt,s=i.em;if(Tp(s)&&!a.temporary&&!r.inline){var l=this.get("style")||{};e=(0,oe.isString)(e)?this.parseStyle(e):e,e=eo(eo({},l),e);var u=s.get("state"),c=s.Css,d=this.getStyle(eo(eo({},r),{skipResolve:!0}));this.rule=c.setIdRule(this.getId(),e,eo({state:u},r));var f=(0,At.shallowDiff)(d,e);this.set("style","",{silent:!0}),(0,oe.keys)(f).forEach(function(h){return o.trigger("change:style:".concat(h))})}else e=n.prototype.setStyle.apply(this,arguments);return a.temporary||this.__onStyleChange(r.addStyle||e,r),e},t.prototype.getAttributes=function(e){e===void 0&&(e={});var r=this.em,o=[],i=eo({},this.get("attributes")),a=e!=null&&e.skipResolve?this.dataResolverWatchers.getValueOrResolver("attributes",i):i,s=r==null?void 0:r.Selectors,l=this.getId();if(e.noClass?delete a.class:(this.classes.forEach(function(d){return o.push((0,oe.isString)(d)?d:d.getName())}),o.length&&(a.class=o.join(" "))),!e.noStyle){var u=this.getStyle({inline:!0});(0,At.isObject)(u)&&!(0,At.isEmptyObj)(u)&&(a.style=this.styleToString({inline:!0}))}if(!(0,oe.has)(a,"id")){var c=!1;(Tp(r)||!(0,oe.isEmpty)(this.getStyle()))&&(c=!!(s!=null&&s.get(l,s.Selector.TYPE_ID))),(Lc(this)||this.get("script-export")||this.get("script"))&&(c=!0),c&&(a.id=l)}return a},t.prototype.addClass=function(e){var r=this.em.Selectors.addClass(e);return this.classes.add(r)},t.prototype.setClass=function(e){return this.classes.reset(),this.addClass(e)},t.prototype.removeClass=function(e){var r=[];e=(0,oe.isArray)(e)?e:[e];var o=this.classes,i=Hs.TYPE_CLASS;return e.forEach(function(a){var s=a.split(" ");s.forEach(function(l){var u=o.where({name:l,type:i})[0];u&&r.push(o.remove(u))})}),r},t.prototype.getClasses=function(){var e=this.getAttributes(),r=e.class;return r?r.split(" "):[]},t.prototype.initClasses=function(e,r,o){o===void 0&&(o={});var i="change:classes",a=this.get("attributes")||{},s=a.class,l=BBe(a,["class"]),u=[this,i,this.initClasses],c=this.get("classes")||s||[],d=(0,oe.isString)(c)?c.split(" "):c;this.stopListening.apply(this,u);var f=this.normalizeClasses(d),h=new fh([]);return this.set("classes",h,o),h.add(f),h.on("add remove reset",this.__upSymbCls),s&&f.length&&this.set("attributes",l),this.listenTo.apply(this,u),this},t.prototype.initComponents=function(){var e="change:components",r=[this,e,this.initComponents];this.stopListening.apply(this,r);var o=new u_([],this.opt);o.parent=this;var i=this.get("components"),a=!this.opt.avoidChildren;return this.set("components",o),a&&i&&o.add((0,oe.isFunction)(i)?i(this):i,this.opt),o.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,r),this},t.prototype.initTraits=function(e){var r=this,o=this.em,i="change:traits";this.off(i,this.initTraits),this.__loadTraits();var a=eo({},this.get("attributes")),s=this.traits;s.each(function(u){var c=u.getName(),d=u.getInitValue();u.changeProp?(0,oe.isUndefined)(r.get(c))&&r.set(c,d):c&&d&&(a[c]=d)});var l=this.dataResolverWatchers.getValueOrResolver("attributes",a);return s.length&&this.setAttributes(l),this.on(i,this.initTraits),e&&o&&o.trigger("component:toggled"),this},t.prototype.initScriptProps=function(){if(!this.opt.temporary){var e="script-props",r=["change:".concat(e),this.initScriptProps];this.off.apply(this,r);var o=this.previous(e)||[],i=this.get(e)||[],a=o.map(function(l){return"change:".concat(l)}).join(" "),s=i.map(function(l){return"change:".concat(l)}).join(" ");a&&this.off(a,this.__scriptPropsChange),s&&this.on(s,this.__scriptPropsChange),this.on.apply(this,r)}},t.prototype.__scriptPropsChange=function(e,r,o){o===void 0&&(o={}),!o.avoidStore&&this.trigger("rerender")},t.prototype.append=function(e,r){r===void 0&&(r={});var o=(0,oe.isArray)(e)?Kl([],e,!0):[e],i=o.map(function(s){return(0,oe.isString)(s)||s.collection&&s.collection.remove(s,{temporary:!0}),s}),a=this.components().add(i,eo({action:Ur.t.add},r));return a},t.prototype.components=function(e,r){r===void 0&&(r={});var o=this.get("components");return(0,oe.isUndefined)(e)?o:(o.reset(void 0,r),e?this.append(e,r):[])},t.prototype.getChildAt=function(e){return this.components().at(e||0)||void 0},t.prototype.getLastChild=function(){var e=this.components();return e.at(e.length-1)||null},t.prototype.empty=function(e){return e===void 0&&(e={}),this.components().reset(void 0,e),this},t.prototype.parent=function(e){e===void 0&&(e={});var r=this.collection||e.prev&&this.prevColl;return r?r.parent:void 0},t.prototype.parents=function(){var e=this.parent();return e?[e].concat(e.parents()):[]},t.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},t.prototype.initToolbar=function(){var e=this.em,r=this,o=e&&e.getConfig().stylePrefix||"";if(!r.get("toolbar")&&e){var i=[];r.collection&&i.push({label:e.getIcon("arrowUp"),command:function(a){return a.runCommand("core:component-exit",{force:1})}}),r.get("draggable")&&i.push({attributes:{class:"".concat(o,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),r.get("copyable")&&i.push({label:e.getIcon("copy"),command:"tlb-clone"}),r.get("removable")&&i.push({label:e.getIcon("delete"),command:"tlb-delete"}),r.set("toolbar",i)}},t.prototype.__loadTraits=function(e,r){r===void 0&&(r={});var o=e||this.traits;if(!(o instanceof LE)){o=(0,oe.isFunction)(o)?o(this):o;var i=new LE([],this.opt);i.setTarget(this),o.length&&i.add(o),this.set({traits:i},r)}return this},t.prototype.getTraits=function(){return this.__loadTraits(),Kl([],this.traits.models,!0)},t.prototype.setTraits=function(e){var r=(0,oe.isArray)(e)?e:[e];return this.set({traits:r}),this.getTraits()},t.prototype.getTrait=function(e){return this.getTraits().filter(function(r){return r.get("id")===e||r.get("name")===e})[0]||null},t.prototype.updateTrait=function(e,r){var o,i=this.getTrait(e);return i&&i.set(r),(o=this.em)===null||o===void 0||o.trigger("component:toggled"),this},t.prototype.getTraitIndex=function(e){var r=this.getTrait(e);return r?this.traits.indexOf(r):-1},t.prototype.removeTrait=function(e){var r=this,o,i=(0,oe.isArray)(e)?e:[e],a=i.map(function(u){return r.getTrait(u)}),s=this.traits,l=a.length?s.remove(a):[];return(o=this.em)===null||o===void 0||o.trigger("component:toggled"),(0,oe.isArray)(l)?l:[l]},t.prototype.addTrait=function(e,r){var o;r===void 0&&(r={}),this.__loadTraits();var i=this.traits.add(e,r);return(o=this.em)===null||o===void 0||o.trigger("component:toggled"),(0,oe.isArray)(i)?i:[i]},t.prototype.normalizeClasses=function(e){var r=[],o=this.em,i=o==null?void 0:o.Selectors;return i?e.models?Kl([],e.models,!0):(e.forEach(function(a){return r.push(i.add(a))}),r):[]},t.prototype.clone=function(e){var r;e===void 0&&(e={});var o=this.em,i=this.dataResolverWatchers.getProps(this.attributes),a=eo({},this.opt),s=this.getId(),l=o==null?void 0:o.Css;i.components=[],i.classes=[],i.traits=[],$m(this)&&(e.symbol=!0),this.get("components").each(function(g,_){i.components[_]=g.clone(eo(eo({},e),{_inner:1}))}),this.get("traits").each(function(g,_){i.traits[_]=g.clone()}),this.get("classes").each(function(g,_){i.classes[_]=g.get("name")}),i.status="",a.collection=null,a.forCloning=!0;var u=new this.constructor(i,a),c="#".concat(u.getId()),d=l?l.getRules("#".concat(s)):[];d.forEach(function(g){var _=g.clone();_.set("selectors",[c]),l.getAll().add(_)}),u.set(Vs,0);var f=Ku(this),h=Bl(this);if(!e.symbol&&(f||h))u.set(wl,0),u.set(Vs,0);else if(f){var p=(r=Bl(f))!==null&&r!==void 0?r:[];f.set(Vs,Kl(Kl([],p,!0),[u],!1)),$0(u)}else e.symbol&&(Xp(this)?(this.set(Vs,Kl(Kl([],h,!0),[u],!1)),u.set(wl,this),$0(u)):e.symbolInv?(this.set(Vs,[u]),u.set(wl,this),[this,u].map(function(g){return $0(g)})):(u.set(Vs,[this]),[this,u].map(function(g){return $0(g)}),this.set(wl,u)));var v="component:clone";return o&&o.trigger(v,u),this.trigger(v,u),u},t.prototype.getName=function(e){e===void 0&&(e={});var r=this.em,o=this.attributes,i=o.type,a=o.tagName,s=o.name,l=i||a,u=i?"":a,c="domComponents.names.",d=s&&(r==null?void 0:r.t("".concat(c).concat(s))),f=u&&(r==null?void 0:r.t("".concat(c).concat(u))),h=r&&(r.t("".concat(c).concat(i))||r.t("".concat(c).concat(a))),p=this.get("custom-name");return(e.noCustom?"":p)||d||s||f||(0,At.capitalize)(u)||h||(0,At.capitalize)(l)},t.prototype.setName=function(e,r){r===void 0&&(r={}),this.set("custom-name",e,r)},t.prototype.getIcon=function(){var e=this.get("icon");return e?e+" ":""},t.prototype.toHTML=function(e){e===void 0&&(e={});var r=e.tag,o=r||this.get("tagName");delete e.tag;var i=this.__attrToString(e),a=i?" ".concat(i):"",s=this.getInnerHTML(e),l=!s&&this.get("void"),u="<".concat(o).concat(a).concat(l?"/":"",">").concat(s);return!l&&(u+="</".concat(o,">")),u},t.prototype.getInnerHTML=function(e){return this.__innerHTML(e)},t.prototype.__innerHTML=function(e){e===void 0&&(e={});var r=this.components();return r.length?r.map(function(o){return o.toHTML(e)}).join(""):this.content},t.prototype.__attrToString=function(e){e===void 0&&(e={});var r=[],o=e.attributes,i=this.getAttrToHTML(e);if(o&&((0,oe.isFunction)(o)?i=o(this,i)||{}:(0,At.isObject)(o)&&(i=o)),e.withProps){var a=this.toJSON();(0,oe.forEach)(a,function(d,f){var h=["classes","attributes","components"];f[0]!=="_"&&h.indexOf(f)<0&&(i["data-gjs-".concat(f)]=(0,oe.isArray)(d)||(0,At.isObject)(d)?JSON.stringify(d):(0,oe.isBoolean)(d)?"".concat(d):d)})}for(var s in i){var l=i[s];if(!(0,oe.isUndefined)(l)&&l!==null)if((0,oe.isBoolean)(l))l&&r.push(s);else{var u="";if(e.altQuoteAttr&&(0,oe.isString)(l)&&l.indexOf('"')>=0)u="'".concat((0,At.escapeAltQuoteAttrValue)(l),"'");else{var c=(0,oe.isString)(l)?(0,At.escapeAttrValue)(l):l;u='"'.concat(c,'"')}r.push("".concat(s,"=").concat(u))}}return r.join(" ")},t.prototype.getAttrToHTML=function(e){var r=this.getAttributes();return Tp(this.em)&&(e==null?void 0:e.keepInlineStyle)!==!0&&delete r.style,r},t.prototype.toJSON=function(e){e===void 0&&(e={});var r=n.prototype.toJSON.call(this,e,{attributes:this.getAttributes()});if(delete r.dataResolverWatchers,delete r.attributes.class,delete r.toolbar,delete r.traits,delete r.status,delete r.open,delete r._undoexc,delete r.delegate,this.collectionsStateMap&&Object.getOwnPropertyNames(this.collectionsStateMap).length>0&&(delete r[wl],delete r[Jp],delete r[Vs]),!e.fromUndo){var o=r[wl],i=r[Vs];i&&(0,oe.isArray)(i)&&(r[Vs]=i.filter(function(a){return a}).map(function(a){return a.getId?a.getId():a})),o&&!(0,oe.isString)(o)&&(r[wl]=o.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(r),r},t.prototype.getChangedProps=function(e){var r=e||f2.Model.prototype.toJSON.apply(this),o=(0,oe.result)(this,"defaults");return(0,oe.forEach)(o,function(i,a){["type"].indexOf(a)===-1&&r[a]===i&&delete r[a]}),(0,oe.isEmpty)(r.type)&&delete r.type,(0,oe.forEach)(["attributes","style"],function(i){(0,oe.isEmpty)(o[i])&&(0,oe.isEmpty)(r[i])&&delete r[i]}),(0,oe.forEach)(["classes","components"],function(i){(!r[i]||(0,oe.isEmpty)(o[i])&&!r[i].length)&&delete r[i]}),r},t.prototype.getId=function(){var e=this.get("attributes")||{},r=nBe(this),o=r.shouldSync,i=r.itemId;return o&&(e.id=i),e.id||this.ccid||this.cid},t.prototype.setId=function(e,r){return this.addAttributes({id:e},r),this},t.prototype.getEl=function(e){var r=this.getView(e);return r&&r.el},t.prototype.getView=function(e){var r=this,o=r.view,i=r.views,a=r.em,s=e||(a==null?void 0:a.getCurrentFrameModel());return s&&(o=i.filter(function(l){return l.frameView===s.view})[0]),o},t.prototype.getCurrentView=function(){var e=this.em.getCurrentFrame(),r=e==null?void 0:e.model;return this.getView(r)},t.prototype.__getScriptProps=function(){var e=this.props(),r=this.get("script-props")||[];return r.reduce(function(o,i){return o[i]=e[i],o},{})},t.prototype.getScriptString=function(e){var r=this,o=e||this.get("script")||"";if(!o)return o;if(this.get("script-props"))o=o.toString().trim();else{if((0,oe.isFunction)(o)){var i=o.toString().trim();i=i.slice(i.indexOf("{")+1,i.lastIndexOf("}")),o=i.trim()}var a=this.em.getConfig(),s=k3(a.tagVarStart||"{[ "),l=k3(a.tagVarEnd||" ]}"),u=new RegExp("".concat(s,"([\\w\\d-]*)").concat(l),"g");o=o.replace(u,function(c,d){r.scriptUpdated();var f=r.attributes[d]||"";return(0,oe.isArray)(f)||typeof f=="object"?JSON.stringify(f):f})}return o},t.prototype.emitUpdate=function(e){for(var r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];var a=this.em,s=JS+(e?":".concat(e):""),l=e&&this.get(e);e&&this.updated.apply(this,Kl([e,l,e&&this.previous(e)],o,!1)),this.trigger.apply(this,Kl([s],o,!1)),a&&a.trigger.apply(a,Kl([s,this],o,!1)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:(r={},r[e]=l,r),options:o[2]||o[1]||{}})},t.prototype.emitWithEditor=function(e,r,o){[this.em,this].forEach(function(i){return i==null?void 0:i.trigger(e,r,o)})},t.prototype.onAll=function(e){return(0,oe.isFunction)(e)&&(e(this),this.components().forEach(function(r){return r.onAll(e)})),this},t.prototype.forEachChild=function(e){(0,oe.isFunction)(e)&&this.components().forEach(function(r){e(r),r.forEachChild(e)})},t.prototype.remove=function(e){var r=this;e===void 0&&(e={});var o=this.em,i=this.collection,a=function(){i&&i.remove(r,eo({action:Ur.t.remove},e)),i||(r.components("",e),r.components().removeChildren(r,void 0,e))},s=eo({},e);return[this,o].map(function(l){return l.trigger(Ur.I.removeBefore,r,a,s)}),!s.abort&&a(),this},t.prototype.destroy=function(e){return this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.dataResolverWatchers.destroy(),this.__onDestroy(),n.prototype.destroy.call(this,e)},t.prototype.move=function(e,r){if(r===void 0&&(r={}),e){var o=r.at,i=this.index(),a=e===this.parent(),s=i===o||i===o-1;if(!a||!s){a&&o&&o>i&&(r.at=o-1);var l=Ur.t.move;this.remove({action:l,temporary:1}),e.append(this,eo({action:l},r)),this.emitUpdate()}}return this},t.prototype.isInstanceOf=function(e){var r,o,i=(o=(r=this.em)===null||r===void 0?void 0:r.Components.getType(e))===null||o===void 0?void 0:o.model;if(!i)return!1;var a=this.constructor.typeExtends;return this instanceof i||a.has(e)},t.prototype.isChildOf=function(e){for(var r=(0,oe.isString)(e),o=this.parent();o;){if(r){if(o.isInstanceOf(e))return!0}else if(o===e)return!0;o=o.parent()}return!1},t.prototype.resetId=function(e){var r=this.em,o=this.getId();if(!o)return this;var i=t.createId(this);this.setId(i);var a=r==null?void 0:r.Css.getIdRule(o),s=a==null?void 0:a.get("selectors").at(0);return s==null||s.set("name",i),this},t.prototype._getStyleRule=function(e){var r=e===void 0?{}:e,o=r.id,i=this.em,a=o||this.getId();return i==null?void 0:i.Css.getIdRule(a)},t.prototype._getStyleSelector=function(e){var r=this._getStyleRule(e);return r==null?void 0:r.get("selectors").at(0)},t.prototype._moveInlineStyleToRule=function(){var e=this.get("style"),r=(0,oe.isString)(e)&&e.length>0||(0,At.isObject)(e)&&Object.keys(e).length>0;Tp(this.em)&&r&&this.addStyle((0,At.isObject)(e)?this.dataResolverWatchers.getValueOrResolver("styles",e):e,{avoidStore:!0,noUndo:!0})},t.prototype._idUpdated=function(e,r,o){if(o===void 0&&(o={}),!o.idUpdate){var i=this.ccid,a=(this.get("attributes")||{}).id,s=(this.previous("attributes")||{}).id||i,l=t.getList(this);if(l[a]||!a&&s)return this.setId(s,{idUpdate:!0});delete l[s],l[a]=this,this.ccid=a;var u=this._getStyleSelector({id:s});u&&u.set({name:a,label:a})}},t.getDefaults=function(){return(0,oe.result)(this.prototype,"defaults")},t.isComponent=function(e,r){return{tagName:(0,At.toLowerCase)(e.tagName)}},t.ensureInList=function(e){var r=t.getList(e),o=e.getId(),i=r[o];if(!i)r[o]=e;else if(i!==e){var a=t.getIncrementId(o,r);e.setId(a),r[a]=e}e.components().forEach(function(s){return t.ensureInList(s)})},t.createId=function(e,r){r===void 0&&(r={});var o=t.getList(e),i=r.idMap,a=i===void 0?{}:i,s=e.get("attributes").id,l;return s?(l=t.getIncrementId(s,o,r),e.setId(l),s!==l&&(a[s]=l)):l=t.getNewId(o),o[l]=e,l},t.getNewId=function(e){for(var r=Object.keys(e).length,o=r.toString().length+2,i=(Math.random()+1.1).toString(36).slice(-o),a="i".concat(i);e[a];)a=t.getNewId(e);return a},t.getIncrementId=function(e,r,o){o===void 0&&(o={});var i=o.keepIds,a=i===void 0?[]:i,s=1,l=e;if(a.indexOf(e)<0)for(;r[l];)s++,l="".concat(e,"-").concat(s);return l},t.getList=function(e){var r,o=e.em,i=o==null?void 0:o.Components;return(r=i==null?void 0:i.componentsById)!==null&&r!==void 0?r:{}},t.checkId=function(e,r,o,i){r===void 0&&(r=[]),o===void 0&&(o={}),i===void 0&&(i={}),i.updatedIds=i.updatedIds||{};var a=(0,oe.isArray)(e)?e:[e],s=i.keepIds,l=s===void 0?[]:s,u=i.idMap,c=u===void 0?{}:u,d=i.updatedIds;return a.forEach(function(f){f.attributes;var h=f.attributes,p=h===void 0?{}:h,v=f.components,g=p.id;if(g&&o[g]&&l.indexOf(g)<0){var _=t.getIncrementId(g,o);d[g]=d[g]?Kl(Kl([],d[g],!0),[f],!1):[f],c[g]=_,p.id=_,(0,oe.isArray)(r)&&r.forEach(function(S){var y=S.selectors;y.forEach(function(C,T){C==="#".concat(g)&&(y[T]="#".concat(_))})})}v&&t.checkId(v,r,o,i)}),{updatedIds:i.updatedIds}},t.typeExtends=new Set,t})(Y7);const Ai=kBe;var TBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),VE=function(){return VE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},VE.apply(this,arguments)},ey="head",OBe=["title","style","base","link","meta","script","noscript"],PBe=(function(n){TBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return VE(VE({},n.prototype.defaults),{type:ey,tagName:ey,draggable:!1,highlightable:!1,droppable:(function(e){var r=e.tagName;return!r||OBe.includes((0,At.toLowerCase)(r))})})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===ey},t})(Ai);const IBe=PBe;var MBe=(function(){function n(t,e){t===void 0&&(t=50);var r;this.dragging=!1,this.lastMaxHeight=0,this.zoom=1,this.rectIsInScrollIframe=!1,this.autoscrollLimit=t,this.lastMaxHeight=(r=e==null?void 0:e.lastMaxHeight)!==null&&r!==void 0?r:0,this.onScroll=e==null?void 0:e.onScroll,this.rectIsInScrollIframe=!!(e!=null&&e.rectIsInScrollIframe),(0,oe.bindAll)(this,"start","autoscroll","updateClientY","stop")}return n.prototype.start=function(t,e,r){var o=this;this.eventEl=t,this.scrollEl=e,this.lastMaxHeight=(r==null?void 0:r.lastMaxHeight)||Number.POSITIVE_INFINITY,this.zoom=(r==null?void 0:r.zoom)||1,this.ignoredElement=r==null?void 0:r.ignoredElement,setTimeout(function(){o.toggleAutoscrollFx(!0),requestAnimationFrame(o.autoscroll)},0)},n.prototype.autoscroll=function(){var t=this,e,r,o=this.scrollEl;if(!(!this.dragging||!o)){if(this.lastClientY===void 0){setTimeout(function(){requestAnimationFrame(t.autoscroll)},50);return}var i=(e=this.lastClientY)!==null&&e!==void 0?e:0,a=this.autoscrollLimit,s=this.getEventElHeight(),l=s-a,u=0;i<a&&(u+=i-a),i>l&&(u+=i-l);var c=this.getElScrollTop(o);u=Math.min(u,this.lastMaxHeight-c),u=Math.max(u,-c),u!==0&&(o.scrollBy({top:u,behavior:"auto"}),(r=this.onScroll)===null||r===void 0||r.call(this)),requestAnimationFrame(this.autoscroll)}},n.prototype.getEventElHeight=function(){var t=this.eventEl;if(!t)return 0;var e=t.getBoundingClientRect();return e.height},n.prototype.updateClientY=function(t){var e=t.target;if(!(this.ignoredElement&&this.ignoredElement.contains(e))){var r=this.scrollEl;t.preventDefault();var o=this.rectIsInScrollIframe?0:this.getElScrollTop(r);this.lastClientY=(0,Gt.G2)(t).clientY*this.zoom-o}},n.prototype.getElScrollTop=function(t){return(t instanceof HTMLElement?t.scrollTop:t==null?void 0:t.scrollY)||0},n.prototype.toggleAutoscrollFx=function(t){this.dragging=t;var e=this.eventEl;if(e){var r=t?"on":"off",o={on:Gt.on,off:Gt.AU};o[r](e,"mousemove dragover",this.updateClientY),o[r](e,"mouseup",this.stop)}},n.prototype.stop=function(){this.toggleAutoscrollFx(!1),this.lastClientY=void 0,this.ignoredElement=void 0},n})();const rX=MBe;var FBe=Tr(1447),DBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),UBe=(function(n){DBe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.canMove=function(e,r){var o=this,i=this.getRealIndex(r),a=e._dragSource,s=a.model,l=a.content,u=a.dragDef,c=!s||!this.isSourceSameSymbol(s),d=((0,oe.isFunction)(l)?u:l)||e.model;return Array.isArray(d)?c&&d.every(function(f,h){return o.canMoveSingleContent(f,i+h)}):c&&this.canMoveSingleContent(d,i)},t.prototype.canMoveSingleContent=function(e,r){return this.model.em.Components.canMove(this.model,e,r).result},t.prototype.addChildAt=function(e,r){var o=e._dragSource,i=o.content,a=this.isTextNode()&&e.isTextable(),s=(0,oe.isFunction)(i)?i():i;return Array.isArray(s)?this.addMultipleChildren(s,r,a):this.addSingleChild(s,r,a)},t.prototype.addSingleChild=function(e,r,o){var i,a,s,l,u;return o?u=(l=(s=(a=(i=this.model)===null||i===void 0?void 0:i.getView)===null||a===void 0?void 0:a.call(i))===null||s===void 0?void 0:s.insertComponent)===null||l===void 0?void 0:l.call(s,e,{action:"add-component"}):u=this.model.components().add(e,{at:this.getRealIndex(r),action:"add-component"}),new this.constructor(u)},t.prototype.addMultipleChildren=function(e,r,o){var i=this,a;return e.forEach(function(s,l){a=i.addSingleChild(s,r+l,o)}),a},t.prototype.isSourceSameSymbol=function(e){if(Lc(this.model)){var r=l_(this.model),o=Xp(r)?r:Ku(r);if(o===e)return!0}return!1},Object.defineProperty(t.prototype,"content",{set:function(e){this._dragSource.content=e},enumerable:!1,configurable:!0}),t})(FBe.A);const oX=UBe;var Km=Tr(8433),CD=function(){return CD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},CD.apply(this,arguments)},LBe=(function(){function n(t,e){var r=this;this.em=t,this.canvas=t.Canvas;var o=e||this.canvas.getFrames().map(function(a){return a.getComponent().getEl()}),i=Array.isArray(o)?o:[o];this.el=i[0],this.counter=0,(0,oe.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave","handleDragEnd"),i.forEach(function(a){return r.toggleEffects(a,!0)})}return n.prototype.toggleEffects=function(t,e){var r={on:Gt.on,off:Gt.AU},o=e?"on":"off";r[o](t,"dragenter",this.handleDragEnter),r[o](t,"dragover",this.handleDragOver),r[o](t,"drop",this.handleDrop),r[o](t,"dragleave",this.handleDragLeave)},n.prototype.__customTglEff=function(t){var e,r=t?Gt.on:Gt.AU,o=this.el.ownerDocument,i=(e=o.defaultView)===null||e===void 0?void 0:e.frameElement,a=function(s){return{legacyOnStartSort:function(){(0,Gt.on)(i,"pointermove",s.onMove)},legacyOnEnd:function(){(0,Gt.AU)(i,"pointermove",s.onMove)},customTarget:function(l){var u=l.event;return o.elementFromPoint(u.clientX,u.clientY)}}};this.getSorterOptions=t?a:void 0,r(i,"pointerenter",this.handleDragEnter),r(i,"pointermove",this.handleDragOver),r(document,"pointerup",this.handleDrop),r(i,"pointerout",this.handleDragLeave)},n.prototype.startCustom=function(){this.__customTglEff(!0)},n.prototype.endCustom=function(t){this.over?this.endDrop(t):this.__customTglEff(!1)},n.prototype.endDrop=function(t,e){var r=this,o=r.em,i=r.dragStop;this.counter=0,i&&i(t||!this.over),this.__customTglEff(!1),o.trigger("canvas:dragend",e)},n.prototype.handleDragLeave=function(t){this.updateCounter(-1,t)},n.prototype.updateCounter=function(t,e){this.counter+=t,this.counter===0&&this.endDrop(!0,e)},n.prototype.handleDragEnter=function(t){var e=this,r,o,i=this,a=i.em,s=i.canvas,l=t.dataTransfer,u=a.get("dragSource");if(!(!(u!=null&&u.content)&&!s.getConfig().allowExternalDrop)&&(this.updateCounter(1,t),!this.over)){this.over=!0;var c=a.Utils,d=(u==null?void 0:u.content)||"<br>",f;if(a.stopDefault(),a.inAbsoluteMode()){var h=a.Components.getWrapper(),p=h.append({})[0],v=a.Commands.run("core:component-drag",{event:t,guidesInfo:1,center:1,target:p,onEnd:function(P,F,I){var k=I.cancelled,M;if(!k&&d){M=h.append(d)[0];var V=s.getOffset(),U=p.getStyle(),$=U.top,Q=U.left,J=U.position,R=(0,Gt.Xy)(P.target),ne=parseInt("".concat(parseFloat(Q)+R.x-V.left),10),ue=parseInt("".concat(parseFloat($)+R.y-V.top),10);M.addStyle({left:ne+"px",top:ue+"px",position:J})}e.handleDragEnd(M,l),p.remove()}});f=function(P){return v.stop(t,{cancel:P})},this.setAbsoluteDragContent=function(P){return d=P}}else{var g=new c.ComponentSorter({em:a,treeClass:oX,containerContext:{container:this.el,containerSel:"*",itemSel:"*",pfx:"gjs-",placeholderElement:s.getPlacerEl(),document:this.el.ownerDocument},dragBehavior:{dragDirection:Km.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnEndMove:this.handleDragEnd}}),_=(r=this.getSorterOptions)===null||r===void 0?void 0:r.call(this,g);_&&(g.eventHandlers.legacyOnStartSort=_.legacyOnStart,g.eventHandlers.legacyOnEnd=_.legacyOnEnd,g.containerContext.customTarget=_.customTarget);var S=a.Components.getShallowWrapper(),y=S==null?void 0:S.append(d,{temporary:!0})[0],C=y==null?void 0:y.getEl(),T=[{element:C,dragSource:CD({model:y},u)}];g.startSort(T),this.sorter=g,this.draggedNode=(o=g.sourceNodes)===null||o===void 0?void 0:o[0],f=function(P){P?g.cancelDrag():g.endDrag()}}this.dragStop=f,a.trigger("canvas:dragenter",l,d)}},n.prototype.handleDragEnd=function(t,e){var r=this.em;this.over=!1,t&&(r.set("dragResult",t),r.trigger("canvas:drop",e,t)),r.runDefault({preserveSelected:1})},n.prototype.handleDragOver=function(t){t.preventDefault(),this.em.trigger("canvas:dragover",t)},n.prototype.handleDrop=function(t){var e;t.preventDefault();var r=t.dataTransfer,o=this.getContentByData(r).content||"";this.draggedNode&&(this.draggedNode.content=o),(e=this.setAbsoluteDragContent)===null||e===void 0||e.call(this,o),this.endDrop(!o,t)},n.prototype.getContentByData=function(t){var e=this.em,r=(t==null?void 0:t.types)||[],o=(t==null?void 0:t.files)||[],i=e.get("dragSource"),a=(t==null?void 0:t.getData("text"))||"";if(o.length){a=[];for(var s=0;s<o.length;s++){var l=o[s],u=l.type.split("/")[0];u=="image"&&a.push({type:u,file:l,attributes:{alt:l.name}})}}else if(i!=null&&i.content)a=i.content;else if((0,oe.indexOf)(r,"text/html")>=0)a=t&&t.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,oe.indexOf)(r,"text/uri-list")>=0)a={type:"link",attributes:{href:a},content:a};else if((0,oe.indexOf)(r,"text/json")>=0){var c=t&&t.getData("text/json");c&&(a=JSON.parse(c))}else r.length===1&&r[0]==="text/plain"&&(a="<div>".concat(a,"</div>"));var d={content:a,setContent:function(f){d.content=f}};return e.trigger("canvas:dragdata",t,d),d},n})();const VBe=LBe;var NBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),xu=function(){return xu=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},xu.apply(this,arguments)},RBe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},HBe=(function(n){NBe(t,n);function t(e,r){var o=n.call(this,{model:e})||this;o.dragging=!1,o.loaded=!1,o.lastMaxHeight=0,o.tools={},(0,oe.bindAll)(o,"startAutoscroll","stopAutoscroll","_emitUpdate");var i=o.el;o.module._config=xu(xu({},o.config||{}),{frameView:o}),o.frameWrapView=r,o.showGlobalTools=(0,oe.debounce)(o.showGlobalTools.bind(o),50);var a=o.getCanvasModel();return o.listenTo(e,"change:head",o.updateHead),o.listenTo(a,"change:styles",o.renderStyles),e.view=o,(0,At.setViewEl)(i,o),o.autoScroller=new rX(o.config.autoscrollLimit,{rectIsInScrollIframe:!0,onScroll:function(){var s=o.getGlobalToolsEl();s.style.opacity="0",o.showGlobalTools(),o.em.Canvas.spots.refreshDbn()}}),o}return Object.defineProperty(t.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),t.prototype.getBoxRect=function(){var e=this,r=e.el,o=e.module,i=o.getCanvasView(),a=o.getCoords(),s=r.getBoundingClientRect(),l=i.getCanvasOffset(),u=i.getViewportDelta(),c=o.getZoomMultiplier(),d=(s.x-l.left-u.x-a.x)*c,f=(s.y-l.top-u.y-a.y)*c,h=s.width*c,p=s.height*c;return{x:d,y:f,width:h,height:p}},t.prototype.updateHead=function(){var e=this.model,r=this.getHead(),o=[],i=[],a=e.head,s=e.previous("head"),l=function(c){return c===void 0&&(c={}),Object.keys(c).sort().map(function(d){return"[".concat(d,'="').concat(c[d],'"]')}).join("")},u=function(c,d,f){c.forEach(function(h){var p=h.tag,v=h.attributes,g=d.some(function(_){return _.tag===p&&l(_.attributes)===l(v)});!g&&f.push(h)})};u(a,s,i),u(s,a,o),o.forEach(function(c){var d,f=r.querySelector("".concat(c.tag).concat(l(c.attributes)));(d=f==null?void 0:f.parentNode)===null||d===void 0||d.removeChild(f)}),(0,Gt.af)(r,i)},t.prototype.getEl=function(){return this.el},t.prototype.getCanvasModel=function(){var e;return(e=this===null||this===void 0?void 0:this.em.Canvas)===null||e===void 0?void 0:e.getModel()},t.prototype.getWindow=function(){return this.getEl().contentWindow},t.prototype.getDoc=function(){return this.getEl().contentDocument},t.prototype.getHead=function(){return this.getDoc().querySelector("head")},t.prototype.getBody=function(){return this.getDoc().querySelector("body")},t.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},t.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,Gt.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},t.prototype.getToolsEl=function(){var e;return(e=this.frameWrapView)===null||e===void 0?void 0:e.elTools},t.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},t.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},t.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},t.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},t.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},t.prototype.getOffsetRect=function(){var e=this.el,r=this.getBody(),o=r.scrollTop,i=r.scrollLeft,a=e.offsetHeight,s=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:a,width:s,scrollTop:o,scrollLeft:i,scrollBottom:o+a,scrollRight:i+s}},t.prototype._getTool=function(e){var r=this.tools,o=this.getToolsEl();return r[e]||(r[e]=o.querySelector(e)),r[e]},t.prototype.remove=function(){for(var e,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return this._toggleEffects(!1),this.tools={},(e=this.wrapper)===null||e===void 0||e.remove(),Yu.prototype.remove.apply(this,r),this},t.prototype.startAutoscroll=function(){this.autoScroller.start(this.el,this.getWindow(),{lastMaxHeight:this.getWrapper().offsetHeight-this.el.offsetHeight,zoom:this.em.getZoomDecimal(),ignoredElement:this.em.Canvas.getSpotsEl()})},t.prototype.stopAutoscroll=function(){this.autoScroller.stop()},t.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},t.prototype.render=function(){var e=this,r=e.$el,o=e.ppfx,i=e.em;return r.attr({class:"".concat(o,"frame")}),this.renderScripts(),i.trigger("frame:render",this),this},t.prototype.renderScripts=function(){var e=this,r=this,o=r.el,i=r.model,a=r.em,s="frame:load",l={el:o,model:i,view:this},u=this.getCanvasModel(),c=function(d){var f;if(d.length>0){var h=d.shift(),p=(0,Gt.a_)("script",xu({type:"text/javascript"},(0,oe.isString)(h)?{src:h}:h));(f=o.contentDocument)===null||f===void 0||f.head.appendChild(p),p.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?c(d):p.onerror=p.onload=c.bind(null,d)}else a==null||a.trigger(Hb.frameLoadHead,l),e.renderBody(),a==null||a.trigger(Hb.frameLoadBody,l),a==null||a.trigger(s,l)};o.onload=function(){var d=e.config.frameContent;if(d){var f=e.getDoc();f.open(),f.write(d),f.close()}l.window=e.getWindow(),a==null||a.trigger("".concat(s,":before"),l),a==null||a.trigger(Hb.frameLoad,l),e.renderHead(),c(RBe([],u.get("scripts"),!0))}},t.prototype.renderStyles=function(e){e===void 0&&(e={});var r=this.getHead(),o=this.getCanvasModel(),i=function(d){return d===void 0&&(d=[]),d.map(function(f){return{tag:"link",attributes:xu({rel:"stylesheet"},(0,oe.isString)(f)?{href:f}:f)}})},a=i(e.prev||o.previous("styles")),s=i(o==null?void 0:o.get("styles")),l=[],u=[],c=function(d,f,h){d.forEach(function(p){var v=p.attributes.href,g=f.some(function(_){return _.attributes.href===v});!g&&h.push(p)})};c(s,a,u),c(a,s,l),l.forEach(function(d){var f,h=r.querySelector('link[href="'.concat(d.attributes.href,'"]'));(f=h==null?void 0:h.parentNode)===null||f===void 0||f.removeChild(h)}),(0,Gt.af)(r,u)},t.prototype.renderHead=function(){var e,r=this,o=r.model,i=r.em,a=o.root,s=(e=i==null?void 0:i.Components)===null||e===void 0?void 0:e.getType(ey).view;s&&(this.headView=new s({el:this.getHead(),model:a.head,config:xu(xu({},a.config),{frameView:this})}).render())},t.prototype.renderBody=function(){var e=this,r,o=this,i=o.config,a=o.em,s=o.model,l=o.ppfx,u=this.getBody(),c=this.getWindow(),d=s.hasAutoHeight(),f=a.config;c._isEditor=!0,this.renderStyles({prev:[]});var h="#ffca6f";(0,Gt.BC)(u,`<style>
      `.concat(f.baseCss||i.frameStyle||"",`

      `).concat(d?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(d?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(l,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(l,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(l,`selected-parent {
        outline: 2px solid `).concat(h,` !important
      }

      .`).concat(l,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(l,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(l,`no-pointer {
        pointer-events: none;
      }

      .`).concat(l,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(l,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(l,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(l,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(l,`is__grabbing,
      .`).concat(l,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(f.canvasCss||"",`
      `).concat(f.protectedCss||"",`
    </style>`));var p=s.root,v=(((r=a==null?void 0:a.Components)===null||r===void 0?void 0:r.getType("wrapper"))||{}).view;v&&((0,oe.isFunction)(i.customRenderer)?i.customRenderer({editor:a.Editor,frame:s,window:c,frameView:this,onMount:function(g){e.wrapper=g,e._onRootMount(g)}}):(this.wrapper=new v({model:p,config:xu(xu({},p.config),{em:a,frameView:this})}).render(),this._onRootMount(this.wrapper)))},t.prototype._onRootMount=function(e){var r=this,o,i=this,a=i.config,s=i.em,l=i.model,u=this.getDoc(),c=u.body;(0,Gt.BC)(c,e.el),(0,Gt.BC)(c,new vD({collection:l.getStyles(),config:xu(xu({},s.Css.getConfig()),{frameView:this})}).render().el),(0,Gt.BC)(c,this.getJsContainer()),(0,Gt.on)(c,"click",function(d){var f;return d&&((f=d.target)===null||f===void 0?void 0:f.tagName)=="A"&&d.preventDefault()}),(0,Gt.on)(c,"submit",function(d){return d&&d.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!a.infiniteCanvas}}].forEach(function(d){return d.event.split(" ").forEach(function(f){u.addEventListener(f,function(h){return r.el.dispatchEvent((0,Gt.yL)(h,d.class))},d.opts)})}),this._toggleEffects(!0),(0,At.hasDnd)(s)&&(this.droppable=new VBe(s,(o=this.wrapper)===null||o===void 0?void 0:o.el)),this.loaded=!0,l.trigger("loaded")},t.prototype._toggleEffects=function(e){var r=e?Gt.on:Gt.AU,o=this.getWindow();o&&r(o,"".concat(Gt.D8," resize"),this._emitUpdate)},t.prototype._emitUpdate=function(){this.model._emitUpdated()},t})(Yu);const QBe=HBe;var iX=Tr(9966),jBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Bg=function(){return Bg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Bg.apply(this,arguments)},$Be=(function(n){jBe(t,n);function t(e,r){var o=n.call(this,{model:e})||this;return(0,oe.bindAll)(o,"onScroll","frameLoaded","updateOffset","remove","startDrag"),Bg(Bg({},e.config),{frameWrapView:o}),o.cv=r,o.frame=new QBe(e,o),o.classAnim="".concat(o.ppfx,"frame-wrapper--anim"),o.updateOffset=(0,oe.debounce)(o.updateOffset.bind(o),0),o.updateSize=(0,oe.debounce)(o.updateSize.bind(o),0),o.listenTo(e,"loaded",o.frameLoaded),o.listenTo(e,"change:x change:y",o.updatePos),o.listenTo(e,"change:width change:height",o.updateSize),o.listenTo(e,"destroy remove",o.remove),o.updatePos(),o.setupDragger(),o}return t.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},t.prototype.setupDragger=function(){var e=this,r=this,o=r.module,i=r.model,a,s,l,u=function(c){o.toggleFramesEvents(c)};this.dragger=new iX.A({onStart:function(){var c=i.attributes,d=c.x,f=c.y;l=e.em.getZoomMultiplier(),a=d,s=f,u(!1)},onEnd:function(){return u(!0)},setPosition:function(c){i.set({x:a+c.x*l,y:s+c.y*l})}})},t.prototype.startDrag=function(e){var r;e&&((r=this.dragger)===null||r===void 0||r.start(e))},t.prototype.__clear=function(e){var r=this.frame;r&&r.remove(e),(0,Gt.YZ)(this.elTools)},t.prototype.remove=function(e){var r=this,o;return(o=this.sizeObserver)===null||o===void 0||o.disconnect(),this.__clear(e),Yu.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach(function(i){return r[i]=0}),this},t.prototype.updateOffset=function(){var e,r=this,o=r.em,i=r.$el,a=r.frame;!o||o.destroyed||(o.runDefault({preserveSelected:1}),i.removeClass(this.classAnim),(e=a==null?void 0:a.model)===null||e===void 0||e._emitUpdated())},t.prototype.updatePos=function(e){var r=this,o=r.model,i=r.el,a=o.attributes,s=a.x,l=a.y,u=i.style;this.frame.rect=void 0,u.left=isNaN(s)?s:"".concat(s,"px"),u.top=isNaN(l)?l:"".concat(l,"px"),e&&this.updateOffset()},t.prototype.updateSize=function(){this.updateDim()},t.prototype.updateDim=function(){var e=this,r=e.em,o=e.el,i=e.$el,a=e.model,s=e.classAnim,l=e.frame;if(l){l.rect=void 0,i.addClass(s);var u=this.__handleSize(),c=u.noChanges,d=u.width,f=u.height;((0,oe.isNull)(d)||(0,oe.isNull)(f))&&a.set(Bg(Bg({},d?{}:{width:o.offsetWidth}),f?{}:{height:o.offsetHeight}),{silent:1}),r.stopDefault({preserveSelected:1}),c?this.updateOffset():setTimeout(this.updateOffset,350)}},t.prototype.onScroll=function(){var e=this,r=e.frame,o=e.em;o.trigger("frame:scroll",{frame:r,body:r.getBody(),target:r.getWindow()})},t.prototype.frameLoaded=function(){var e=this,r=e.frame;e.config,r.getWindow().onscroll=this.onScroll,this.updateDim()},t.prototype.__handleSize=function(){var e,r="px",o=this,i=o.model,a=o.el,s=a.style,l=i.attributes,u=l.width,c=l.height,d=s.width||"",f=s.height||"",h=u||"",p=c||"",v=d==h&&f==p,g=(0,oe.isNumber)(h)?"".concat(h).concat(r):h,_=(0,oe.isNumber)(p)?"".concat(p).concat(r):p;if(s.width=g,(e=this.sizeObserver)===null||e===void 0||e.disconnect(),i.hasAutoHeight()){var S=this.frame.el,y=S.contentDocument;if(y){var C=new ResizeObserver(function(){requestAnimationFrame(function(){var T=parseFloat(i.get("minHeight"))||0,P=Math.max(y.body.scrollHeight,T);s.height="".concat(P,"px")})});C.observe(y.body),this.sizeObserver=C}}else s.height=_,delete this.sizeObserver;return{noChanges:v,width:u,height:c,newW:h,newH:p}},t.prototype.render=function(){var e=this,r=e.frame,o=e.$el,i=e.ppfx,a=e.cv,s=e.model,l=e.el,u=s.attributes.onRender;this.__clear(),this.__handleSize(),r.render(),o.empty().attr({class:"".concat(i,"frame-wrapper")}).append(`
      <div class="`.concat(i,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(i,`frame-wrapper__name" data-action-move>
          `).concat(s.get("name")||"",`
        </div>
        <div class="`).concat(i,`frame-wrapper__top-r">
          <div class="`).concat(i,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(i,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(i,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(i,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(r.el);var c=(0,Gt.a_)("div",{class:"".concat(i,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(i,`highlighter" data-hl></div>
      <div class="`).concat(i,`badge" data-badge></div>
      <div class="`).concat(i,`placeholder">
        <div class="`).concat(i,`placeholder-int"></div>
      </div>
      <div class="`).concat(i,`ghost"></div>
      <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(i,`resizer"></div>
      <div class="`).concat(i,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(i,`offset-fixed-v"></div>
    `));this.elTools=c;var d=a==null?void 0:a.toolsWrapper;return d&&d.appendChild(c),u&&u({el:l,elTop:l.querySelector("[data-frame-top]"),elRight:l.querySelector("[data-frame-right]"),elBottom:l.querySelector("[data-frame-bottom]"),elLeft:l.querySelector("[data-frame-left]"),frame:s,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},t})(Yu);const KBe=$Be;var WBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),zBe=(function(n){WBe(t,n);function t(e,r){e===void 0&&(e={});var o=n.call(this,e,!0)||this;return o.listenTo(o.collection,"reset",o.render),o.canvasView=r.canvasView,o._module=r.module,o}return t.prototype.onRemoveBefore=function(e,r){r===void 0&&(r={}),e.forEach(function(o){return o.remove(r)})},t.prototype.onRender=function(){var e=this,r=e.$el,o=e.ppfx;r.attr({class:"".concat(o,"frames")})},t.prototype.clearItems=function(){var e=this.viewCollection||[];e.forEach(function(r){return r.remove()}),this.viewCollection=[]},t.prototype.renderView=function(e,r){return new KBe(e,this.canvasView)},t})(CEe);const GBe=zBe;var YBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),NE=function(){return NE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},NE.apply(this,arguments)},XBe=(function(n){YBe(t,n);function t(e){var r=n.call(this,{model:e})||this;r.ready=!1,(0,oe.bindAll)(r,"clearOff","onKeyPress","onWheel","onPointer");var o=r,i=o.em,a=o.pfx,s=o.ppfx,l=r.module.events;return r.className="".concat(a,"canvas ").concat(s,"no-touch-actions").concat(i.config.customUI?"":" ".concat(a,"canvas-bg")),r.clsUnscale="".concat(a,"unscale"),r._initFrames(),r.listenTo(i,l.refresh,r.clearOff),r.listenTo(i,"component:selected",r.checkSelected),r.listenTo(i,"".concat(l.coords," ").concat(l.zoom),r.updateFrames),r.listenTo(e,"change:frames",r._onFramesUpdate),r.toggleListeners(!0),r}return t.prototype.template=function(){var e=this.pfx;return`
      <div class="`.concat(e,`canvas__frames" data-frames>
        <div class="`).concat(e,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(e,'tools" class="').concat(e,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},t.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},t.prototype._initFrames=function(){var e=this,r=e.frames,o=e.model,i=e.config,a=e.em,s=o.frames;a.set("readyCanvas",0),s.once("loaded:all",function(){return a.set("readyCanvas",1)}),r==null||r.remove(),this.frames=new GBe({collection:s},NE(NE({},i),{canvasView:this}))},t.prototype.checkSelected=function(e,r){var o;r===void 0&&(r={});var i=r.scroll,a=this.em.getCurrentFrame();i&&((o=e.views)===null||o===void 0||o.forEach(function(s){s.frameView===a&&s.scrollIntoView(i)}))},t.prototype.remove=function(){for(var e,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return clearTimeout(this.timerZoom),(e=this.frames)===null||e===void 0||e.remove(),this.frames=void 0,Yu.prototype.remove.apply(this,r),this.toggleListeners(!1),this},t.prototype.preventDefault=function(e){var r;e&&(e.preventDefault(),(r=e._parentEvent)===null||r===void 0||r.preventDefault())},t.prototype.toggleListeners=function(e){var r=this,o=r.el,i=r.config,a=e?Gt.on:Gt.AU;a(document,"keypress",this.onKeyPress),a(window,"scroll resize",this.clearOff),a(o,"wheel",this.onWheel,{passive:!i.infiniteCanvas}),a(o,"pointermove",this.onPointer)},t.prototype.screenToWorld=function(e,r){var o=this.module,i=o.getCoords(),a=o.getZoomMultiplier(),s=this.getViewportDelta();return{x:(e-i.x-s.x)*a,y:(r-i.y-s.y)*a}},t.prototype.onPointer=function(e){if(this.config.infiniteCanvas){var r=this.getCanvasOffset(),o=(0,Gt.Xy)(),i={x:e.clientX-r.left+o.x,y:e.clientY-r.top+o.y};if(e._parentEvent){var a=e.target.getBoundingClientRect(),s=this.module.getZoomDecimal();i.x=a.left-r.left+o.x+e.clientX*s,i.y=a.top-r.top+o.y+e.clientY*s}this.model.set({pointerScreen:i,pointer:this.screenToWorld(i.x,i.y)})}},t.prototype.onKeyPress=function(e){var r=this.em,o=(0,Gt.Ch)(e);o===" "&&r.getZoomDecimal()!==1&&!r.Canvas.isInputFocused()&&(this.preventDefault(e),r.Editor.runCommand("core:canvas-move"))},t.prototype.onWheel=function(e){var r=this,o=r.module,i=r.config;if(i.infiniteCanvas){this.preventDefault(e);var a=e.deltaX,s=e.deltaY,l=o.getZoomDecimal(),u=(0,Gt.rp)(e),c=o.getCoords();if(u){var d=l-s*l*.01;o.setZoom(d*100);var f=this.model.getPointerCoords(Qt.x2.Screen),h=this.getCanvasOffset(),p=f.x-h.width/2,v=f.y-h.height/2,g=d/l,_=p-(p-c.x)*g,S=v-(v-c.y)*g;o.setCoords(_,S)}else this.onPointer(e),o.setCoords(c.x-a,c.y-s)}},t.prototype.updateFrames=function(e){var r=this.em,o=this.toolsWrapper,i={preserveSelected:1};this.updateFramesArea(),this.clearOff(),o.style.display="none",r.trigger("canvas:update",e),clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){r.stopDefault(i),r.runDefault(i),o.style.display=""},300)},t.prototype.updateFramesArea=function(){var e=this,r=e.framesArea,o=e.model,i=e.module,a=e.cvStyle,s=e.clsUnscale,l=i.getZoomMultiplier();if(r){var u=o.attributes,c=u.x,d=u.y,f=i.getZoomDecimal();r.style.transform="scale(".concat(f,") translate(").concat(c*l,"px, ").concat(d*l,"px)")}a&&(a.innerHTML=`
        .`.concat(s," { scale: ").concat(l,` }
      `))},t.prototype.fitViewport=function(e){var r,o,i;e===void 0&&(e={});var a=this,s=a.em,l=a.module,u=a.model;this.clearOff();var c=this.getCanvasOffset(),d=e.el,f=d&&((r=(0,At.getComponentView)(d))===null||r===void 0?void 0:r.frameView),h=f?f.model:e.frame||s.getCurrentFrameModel()||u.frames.at(0),p=h.attributes,v=p.x,g=p.y,_={x:v??0,y:g??0,width:h.width,height:h.height};if(d){var S=this.getElBoxRect(d);_.x=_.x+S.x,_.y=_.y+S.y,_.width=S.width,_.height=S.height}var y=e.ignoreHeight,C=(o=e.gap)!==null&&o!==void 0?o:0,T=(0,oe.isNumber)(C),P=T?C:C.x,F=T?C:C.y,I=_.width+P*2,k=_.height+F*2,M=c.width,V=c.height,U=M/I,$=V/k,Q=y?U:Math.min(U,$),J=Q*100,R=(i=(0,oe.isFunction)(e.zoom)?e.zoom(J):e.zoom)!==null&&i!==void 0?i:J;l.setZoom(R,{from:"fitViewport"});var ne=-_.x+(h.width>=M?M/2-I/2:-P),ue=-_.y+V/2-k/2,we=l.getZoomDecimal(),Be={x:(ne+P)*we,y:(ue+F)*we};if(y){var We=l.getZoomMultiplier(),pe=V*We,_e=pe-V,Ce=_e/2;Be.y=(-_.y+F)*we-Ce/We}l.setCoords(Be.x,Be.y)},t.prototype.isElInViewport=function(e){var r=(0,At.getElement)(e),o=(0,Gt.C8)(r),i=this.getFrameOffset(r),a=o.top,s=o.left;return a>=0&&s>=0&&a<=i.height&&s<=i.width},t.prototype.offset=function(e,r){r===void 0&&(r={});var o=r.noScroll,i=(0,Gt.C8)(e),a=o?{x:0,y:0}:(0,Gt.Xy)(e);return{top:i.top+a.y,left:i.left+a.x,width:i.width,height:i.height}},t.prototype.getRectToScreen=function(e){var r,o,i,a,s=this.getCanvasScroll(),l=this.module.getZoomDecimal(),u=this.module.getCoords(),c=this.getViewportDelta(),d=((r=e.x)!==null&&r!==void 0?r:0)*l-s.scrollLeft+u.x+c.x||0,f=((o=e.y)!==null&&o!==void 0?o:0)*l-s.scrollTop+u.y+c.y||0;return{x:d,y:f,width:((i=e.width)!==null&&i!==void 0?i:0)*l,height:((a=e.height)!==null&&a!==void 0?a:0)*l}},t.prototype.getElBoxRect=function(e,r){var o,i,a;r===void 0&&(r={});var s=this.module,l=(0,Gt.C8)(e),u=l.width,c=l.height,d=l.left,f=l.top,h=(o=(0,At.getComponentView)(e))===null||o===void 0?void 0:o.frameView,p=h==null?void 0:h.getBoxRect(),v=s.getZoomMultiplier(),g=(i=p==null?void 0:p.x)!==null&&i!==void 0?i:0,_=(a=p==null?void 0:p.y)!==null&&a!==void 0?a:0,S=this.el,y=(0,Gt.Xy)(),C=d+g+(S.scrollLeft+y.x)*v,T=f+_+(S.scrollTop+y.y)*v,P={x:C,y:T,width:u,height:c};return r.local&&(P.x=d,P.y=f),r.toScreen?this.getRectToScreen(P):P},t.prototype.getViewportRect=function(e){e===void 0&&(e={});var r=this.getCanvasOffset(),o=r.top,i=r.left,a=r.width,s=r.height,l=this.module;if(e.toWorld){var u=l.getZoomMultiplier(),c=l.getCoords(),d=this.getViewportDelta(),f=-c.x-d.x||0,h=-c.y-d.y||0;return{x:f*u,y:h*u,width:a*u,height:s*u}}else return{x:i,y:o,width:a,height:s}},t.prototype.getViewportDelta=function(e){var r=this.module.getZoomMultiplier(),o=this.getCanvasOffset(),i=o.width,a=o.height,s=i*r,l=a*r,u=s-i,c=l-a;return{x:u/2/r,y:c/2/r}},t.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},t.prototype.getFrameOffset=function(e){var r;if(!this.frmOff||e){var o=(r=this.frame)===null||r===void 0?void 0:r.el,i=e==null?void 0:e.ownerDocument.defaultView,a=i?i.frameElement:o;this.frmOff=this.offset(a||o)}return this.frmOff},t.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},t.prototype.getElementPos=function(e,r){r===void 0&&(r={});var o=this.module.getZoomDecimal(),i=this.getFrameOffset(e),a=this.el,s=this.getCanvasOffset(),l=this.offset(e,r),u=r.avoidFrameOffset?0:i.top,c=r.avoidFrameOffset?0:i.left,d=r.avoidFrameZoom?l.top:l.top*o,f=r.avoidFrameZoom?l.left:l.left*o,h=r.avoidFrameOffset?d:d+u-s.top+a.scrollTop,p=r.avoidFrameOffset?f:f+c-s.left+a.scrollLeft,v=r.avoidFrameZoom?l.height:l.height*o,g=r.avoidFrameZoom?l.width:l.width*o;return{top:h,left:p,height:v,width:g,zoom:o,rect:l}},t.prototype.getElementOffsets=function(e){if(!e||(0,Gt.ir)(e))return{};var r={},o=window.getComputedStyle(e),i=this.module.getZoomDecimal(),a=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return a.forEach(function(s){r[s]=parseFloat(o[s])*i}),r},t.prototype.getPosition=function(e){var r;e===void 0&&(e={});var o=(r=this.frame)===null||r===void 0?void 0:r.el.contentDocument;if(!o)return{top:0,left:0,width:0,height:0};var i=o.body,a=this.module.getZoomDecimal(),s=this.getFrameOffset(),l=this.getCanvasOffset(),u=e.noScroll;return{top:s.top+(u?0:i.scrollTop)*a-l.top,left:s.left+(u?0:i.scrollLeft)*a-l.left,width:l.width,height:l.height}},t.prototype.getCanvasScroll=function(){return this.config.scrollableCanvas?{scrollTop:this.el.scrollTop,scrollLeft:this.el.scrollLeft}:{scrollTop:0,scrollLeft:0}},t.prototype.updateScript=function(e){var r=e.model,o=r.getId(),i={component:r,view:e,el:e.el};if(!e.scriptContainer){e.scriptContainer=(0,Gt.a_)("div",{"data-id":o});var a=this.getJsContainer();a==null||a.appendChild(e.scriptContainer)}e.el.id=o,e.scriptContainer.innerHTML="";var s=document.createElement("script"),l=r.getScriptString(),u=r.get("script-props")?l:`function(){
`.concat(l,`
;}`),c=JSON.stringify(r.__getScriptProps());s.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(o,`');
        if (!item) return;
        var script = (`).concat(u,`).bind(item);
        script(`).concat(c,`, { el: item });
      }, 1);`),setTimeout(function(){r.emitWithEditor(Ur.I.scriptMountBefore,i);var d=e.scriptContainer;d==null||d.appendChild(s),r.emitWithEditor(Ur.I.scriptMount,i)},0)},t.prototype.getJsContainer=function(e){var r=this.getFrameView(e);return r==null?void 0:r.getJsContainer()},t.prototype.getFrameView=function(e){return(e==null?void 0:e.frameView)||this.em.getCurrentFrame()},t.prototype._renderFrames=function(){if(this.ready){var e=this,r=e.model,o=e.frames,i=e.em,a=e.framesArea,s=r.frames;s.listenToLoad(),o.render();var l=s.at(0),u=l==null?void 0:l.view;i.setCurrentFrame(u),a==null||a.appendChild(o.el),this.frame=u,this.updateFramesArea()}},t.prototype.renderFrames=function(){this._renderFrames()},t.prototype.render=function(){var e=this,r=e.el,o=e.$el,i=e.ppfx,a=e.config,s=e.em;o.html(this.template());var l=o.find("[data-frames]");this.framesArea=l.get(0);var u=o.find("[data-tools]");return this.toolsWrapper=u.get(0),u.append(`
      <div class="`.concat(i,"tools ").concat(i,`tools-gl" style="pointer-events:none">
        <div class="`).concat(i,`placeholder">
          <div class="`).concat(i,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(i,`tools" style="pointer-events:none">
        `).concat(a.extHl?'<div class="'.concat(i,'highlighter-sel"></div>'):"",`
        <div class="`).concat(i,`badge"></div>
        <div class="`).concat(i,`ghost"></div>
        <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(i,`resizer"></div>
        <div class="`).concat(i,`offset-v"></div>
        <div class="`).concat(i,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=r.querySelector("#".concat(i,"tools")),this.hlEl=r.querySelector(".".concat(i,"highlighter")),this.badgeEl=r.querySelector(".".concat(i,"badge")),this.placerEl=r.querySelector(".".concat(i,"placeholder")),this.ghostEl=r.querySelector(".".concat(i,"ghost")),this.toolbarEl=r.querySelector(".".concat(i,"toolbar")),this.resizerEl=r.querySelector(".".concat(i,"resizer")),this.offsetEl=r.querySelector(".".concat(i,"offset-v")),this.fixedOffsetEl=r.querySelector(".".concat(i,"offset-fixed-v")),this.toolsGlobEl=r.querySelector(".".concat(i,"tools-gl")),this.spotsEl=r.querySelector("[data-spots]"),this.cvStyle=r.querySelector("[data-canvas-style]"),r.className=(0,At.getUiClass)(s,this.className),a.scrollableCanvas===!0&&(r.style.overflow="auto"),this.ready=!0,this._renderFrames(),this},t})(Yu);const JBe=XBe;var ZBe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Up=function(){return Up=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Up.apply(this,arguments)},qBe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},eke=(function(n){ZBe(t,n);function t(e){var r=n.call(this,e,"Canvas",aEe())||this;return r.events=kE,r.framesById={},r.canvas=new pEe(r),r.spots=new gEe(r),r.model=r.canvas,r.startAutoscroll=r.startAutoscroll.bind(r),r.stopAutoscroll=r.stopAutoscroll.bind(r),r.autoScroller=new rX,r}return t.prototype.getCanvasView=function(){return this.canvasView},t.prototype.postLoad=function(){this.model.init()},t.prototype.getModel=function(){return this.canvas},t.prototype.getElement=function(){return this.getCanvasView().el},t.prototype.getFrame=function(e){return this.getFrames()[e||0]},t.prototype.getFrameEl=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.el},t.prototype.getFramesEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.framesArea},t.prototype.getWindow=function(){var e=(this.canvasView||{}).frame;return e==null?void 0:e.getWindow()},t.prototype.getDocument=function(){var e=this.getFrameEl();return e==null?void 0:e.contentDocument},t.prototype.getBody=function(){var e=this.getDocument();return e==null?void 0:e.body},t.prototype._getLocalEl=function(e,r,o){var i=e,a=r==null?void 0:r.frameView;return i=a?a[o]():i,i},t.prototype.getGlobalToolsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.toolsGlobEl},t.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},t.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},t.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},t.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},t.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},t.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},t.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},t.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},t.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},t.prototype.getSpotsEl=function(){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.spotsEl},t.prototype.render=function(){var e;return(e=this.canvasView)===null||e===void 0||e.remove(),this.canvasView=new JBe(this.canvas),this.canvasView.render().el},t.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),r=this.offset(this.getElement());return{top:e.top-r.top,left:e.left-r.left}},t.prototype.offset=function(e){return this.getCanvasView().offset(e)},t.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},t.prototype.getElementPos=function(e,r){return this.getCanvasView().getElementPos(e,r)},t.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},t.prototype.getRect=function(){var e,r=(e=this.getCanvasView().getPosition())!==null&&e!==void 0?e:{},o=r.top,i=o===void 0?0:o,a=r.left,s=a===void 0?0:a;return Up(Up({},this.getCanvasView().getCanvasOffset()),{topScroll:i,leftScroll:s})},t.prototype.getTargetToElementDim=function(e,r,o){o===void 0&&(o={});var i=o||{},a=this.getCanvasView().getPosition();if(a){var s=i.elPos||this.getCanvasView().getElementPos(r),l=o.toRight||0,u=i.targetHeight||e.offsetHeight,c=i.targetWidth||e.offsetWidth,d=i.event||null,f=s.top-u,h=s.left;h+=l?s.width:0,h=l?h-c:h;var p=h<a.left?a.left:h,v=f<a.top?a.top:f;v=v>s.top+s.height?s.top+s.height:v;var g={top:v,left:p,elementTop:s.top,elementLeft:s.left,elementWidth:s.width,elementHeight:s.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:a.top,canvasLeft:a.left,canvasWidth:a.width,canvasHeight:a.height};return d&&this.em&&this.em.trigger(d,g),g}},t.prototype.canvasRectOffset=function(e,r,o){var i=this;o===void 0&&(o={});var a=function(l){var u=l.defaultView;return u==null?void 0:u.frameElement},s=function(l,u,c){u===void 0&&(u=1);var d=i.em.getZoomDecimal(),f=u?"top":"left",h=l.ownerDocument,p=o.offset?a(h):{},v=p.offsetTop,g=v===void 0?0:v,_=p.offsetLeft,S=_===void 0?0:_,y=h.body||{},C=y.scrollTop,T=C===void 0?0:C,P=y.scrollLeft,F=P===void 0?0:P,I=u?T:F,k=u?g:S;return c[f]-(I-k)*d};return{top:s(e,1,r),left:s(e,0,r)}},t.prototype.getTargetToElementFixed=function(e,r,o){o===void 0&&(o={});var i=o.pos||this.getElementPos(e,{noScroll:!0}),a=o.canvasOff||this.canvasRectOffset(e,i),s=r.offsetHeight||0,l=r.offsetWidth||0,u=this.getCanvasView(),c=u.getCanvasScroll(),d=c.scrollTop,f=c.scrollLeft,h=u.getPosition(),p=o.event,v=i.width-l,g=-s,_=(0,oe.isUndefined)(o.left)?v:o.left,S=Math.max(-i.left+f,0);_=Math.max(_,S);var y=i.width-l;_=Math.min(_,y);var C=h.width+f-l-i.left;_=Math.min(_,C);var T=a.top<s+d,P=g;if(T){var F=i.height+s,I=F<h.height;if(I)P=P+F;else{var k=-a.top+d;P=k<i.height?k:i.height}}var M={top:P,left:_,canvasOffsetTop:a.top,canvasOffsetLeft:a.left,elRect:i,canvasOffset:a,canvasRect:h,targetWidth:l,targetHeight:s};return p&&this.em.trigger(p,M),M},t.prototype.getMouseRelativePos=function(e,r){r===void 0&&(r={});var o=r.subWinOffset,i=e.target,a=i.nodeType===Node.DOCUMENT_NODE?i:i.ownerDocument,s=a.defaultView||a.parentWindow,l=s.frameElement,u=o?s.pageYOffset:0,c=o?s.pageXOffset:0,d=this.getZoomMultiplier(),f=0,h=0;if(l){var p=l.getBoundingClientRect();f=p.top||0,h=p.left||0}return{y:(e.clientY+f-u)*d,x:(e.clientX+h-c)*d}},t.prototype.getMouseRelativeCanvas=function(e,r){var o,i=this.getZoomDecimal(),a=this.getCanvasView(),s=(o=a.getPosition(r))!==null&&o!==void 0?o:{top:0,left:0},l=a.getCanvasScroll(),u={top:s.top+l.scrollTop,left:s.left+l.scrollLeft},c=u.top,d=u.left;return{y:e.clientY*i+c,x:e.clientX*i+d}},t.prototype.startDrag=function(e){this.em.set("dragSource",e)},t.prototype.endDrag=function(){this.em.set({dragResult:null,dragSource:void 0})},t.prototype.hasFocus=function(){return this.getDocument().hasFocus()},t.prototype.isInputFocused=function(){var e=this.getDocument(),r=this.getFrameEl(),o=qBe(["body"],this.config.notTextable,!0),i=r&&document.activeElement===r,a=i?e&&e.activeElement:document.activeElement;return a&&!o.some(function(s){return a.matches(s)})},t.prototype.scrollTo=function(e,r){r===void 0&&(r={});var o=(0,At.getElement)(e),i=o&&(0,At.getViewEl)(o);i&&i.scrollIntoView(r)},t.prototype.startAutoscroll=function(e){var r=e&&e.view||this.em.getCurrentFrame();if(r&&r.startAutoscroll(),this.config.scrollableCanvas){var o=this.getCanvasView().el;this.autoScroller.start(o,o,{zoom:this.em.getZoomDecimal(),ignoredElement:this.getSpotsEl()})}},t.prototype.stopAutoscroll=function(e){var r=e&&e.view||this.em.getCurrentFrame();r&&r.stopAutoscroll(),this.config.scrollableCanvas&&this.autoScroller.stop()},t.prototype.setZoom=function(e,r){return r===void 0&&(r={}),this.canvas.set("zoom",typeof e=="string"?parseFloat(e):e,r),this},t.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},t.prototype.setCoords=function(e,r,o){var i;o===void 0&&(o={});var a=e||e===0,s=r||r===0,l={x:this.canvas.get("x"),y:this.canvas.get("y")};if(a&&(l.x=parseFloat("".concat(e))),s&&(l.y=parseFloat("".concat(r))),o.toWorld){var u=(i=this.canvasView)===null||i===void 0?void 0:i.getViewportDelta();u&&(a&&(l.x=l.x-u.x),s&&(l.y=l.y-u.y))}return this.canvas.set(l),this},t.prototype.getCoords=function(){var e=this.canvas.attributes,r=e.x,o=e.y;return{x:r,y:o}},t.prototype.getPointer=function(e){var r=this.canvas.attributes,o=r.pointer,i=r.pointerScreen;return e?i:o},t.prototype.getZoomDecimal=function(){return this.getZoom()/100},t.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},t.prototype.fitViewport=function(e){var r;(r=this.canvasView)===null||r===void 0||r.fitViewport(e)},t.prototype.toggleFramesEvents=function(e){var r=this.getFramesEl().style;r.pointerEvents=e?"":"none"},t.prototype.getFrames=function(){return this.canvas.frames.map(function(e){return e})},t.prototype.addFrame=function(e,r){return e===void 0&&(e={}),r===void 0&&(r={}),this.canvas.frames.add(new N7(this,Up({},e)),r)},t.prototype.getLastDragResult=function(){return this.em.get("dragResult")},t.prototype.addSpot=function(e,r){var o;r===void 0&&(r={});var i=e,a=this.getSpots(i);if(a.length){var s=a[0];return s.set(i),s}var l=i.componentView||((o=i.component)===null||o===void 0?void 0:o.view),u=new Uu.A(this,Up(Up({},i),{id:i.id||"cs_".concat(i.type,"_").concat(l==null?void 0:l.cid),type:i.type||""}));return this.spots.add(u,r),u},t.prototype.getSpots=function(e){return e===void 0&&(e={}),this.spots.where(e.id?{id:e.id}:e)},t.prototype.removeSpots=function(e){e===void 0&&(e={});var r=(0,oe.isArray)(e)?e:this.getSpots(e),o=this.spots.remove(r);return o},t.prototype.hasCustomSpot=function(e){var r=this.config.customSpots;return!!(r===!0||r&&e&&r[e])},t.prototype.getWorldRectToScreen=function(e){var r;return(r=this.canvasView)===null||r===void 0?void 0:r.getRectToScreen(e)},t.prototype.refresh=function(e){e===void 0&&(e={});var r=this,o=r.em,i=r.events,a=r.canvasView;a==null||a.clearOff(),(e.spots||e.all)&&(this.refreshSpots(),o.trigger("canvas:updateTools")),o.set("canvasOffset",this.getOffset()),o.trigger(i.refresh,e)},t.prototype.refreshSpots=function(){this.spots.refresh()},t.prototype.destroy=function(){var e=this,r;this.canvas.stopListening(),(r=this.canvasView)===null||r===void 0||r.remove(),["model","droppable"].forEach(function(o){return e[o]={}})},t})(Ll);const tke=eke;var nke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),kg=function(){return kg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},kg.apply(this,arguments)},aX=(function(n){nke(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.dataResolver=o.initializeDataResolver(e,r),o.listenToPropsChange(),o}return t.prototype.initializeDataResolver=function(e,r){var o,i=(o=e.dataResolver)!==null&&o!==void 0?o:{type:e.type},a=this.createResolverInstance(i,kg(kg({},r),{collectionsStateMap:this.collectionsStateMap}));return a},t.prototype.getDataResolver=function(){return this.get("dataResolver")},t.prototype.setDataResolver=function(e){return this.set("dataResolver",e)},t.prototype.onCollectionsStateMapUpdate=function(e){this.dataResolver.updateCollectionsStateMap(e),n.prototype.onCollectionsStateMapUpdate.call(this,e)},t.prototype.listenToPropsChange=function(){var e=this;this.on("change:dataResolver",function(){e.dataResolver.set(e.get("dataResolver"))})},t.prototype.removePropsListeners=function(){this.stopListening(this.dataResolver),this.off("change:dataResolver"),this.off("change:".concat(this.collectionsStateMap))},t.prototype.destroy=function(e){return this.removePropsListeners(),n.prototype.destroy.call(this,e)},t.prototype.toJSON=function(e){var r=n.prototype.toJSON.call(this,e),o=this.dataResolver.toJSON();return delete o.type,kg(kg({},r),{dataResolver:o})},t})(Ai),rke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),RE=function(){return RE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},RE.apply(this,arguments)},oke=(function(n){rke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return RE(RE({},n.prototype.defaults),{type:kc,dataResolver:{},droppable:!1})},enumerable:!1,configurable:!0}),t.prototype.getPath=function(){return this.dataResolver.get("path")},t.prototype.getCollectionId=function(){return this.dataResolver.get("collectionId")},t.prototype.getVariableType=function(){return this.dataResolver.get("variableType")},t.prototype.getDefaultValue=function(){return this.dataResolver.get("defaultValue")},t.prototype.getDataValue=function(){return this.dataResolver.getDataValue()},t.prototype.resolvesFromCollection=function(){return this.dataResolver.resolvesFromCollection()},t.prototype.getInnerHTML=function(){return this.getDataValue()},t.prototype.setPath=function(e){this.dataResolver.set("path",e)},t.prototype.setDefaultValue=function(e){this.dataResolver.set("defaultValue",e)},t.prototype.resetDataSourcePath=function(e){this.set("dataResolver",{path:e,collectionId:void 0,variableType:void 0})},t.prototype.createResolverInstance=function(e,r){return new Jy(e,r)},t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===kc},t})(aX);const ike=oke;var ake=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),HE=function(){return HE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},HE.apply(this,arguments)},ske=(function(n){ake(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return HE(HE({},n.prototype.defaults),{droppable:!1,type:Ei.condition,dataResolver:{condition:{left:"",operator:ku.equalsIgnoreCase,right:""}},components:[{type:Ei.conditionTrue},{type:Ei.conditionFalse}]})},enumerable:!1,configurable:!0}),t.prototype.isTrue=function(){return this.dataResolver.isTrue()},t.prototype.getCondition=function(){return this.dataResolver.getCondition()},t.prototype.getIfTrueContent=function(){return this.components().at(0)},t.prototype.getIfFalseContent=function(){return this.components().at(1)},t.prototype.getOutputContent=function(){return this.isTrue()?this.getIfTrueContent():this.getIfFalseContent()},t.prototype.setCondition=function(e){this.dataResolver.setCondition(e)},t.prototype.setIfTrueComponents=function(e){this.setComponentsAtIndex(0,e)},t.prototype.setIfFalseComponents=function(e){this.setComponentsAtIndex(1,e)},t.prototype.getInnerHTML=function(e){var r,o;return(o=(r=this.getOutputContent())===null||r===void 0?void 0:r.getInnerHTML(e))!==null&&o!==void 0?o:""},t.prototype.createResolverInstance=function(e,r){return new Q7(e,r)},t.prototype.setComponentsAtIndex=function(e,r){var o=this.components().at(e);o==null||o.components(r)},t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===xy},t})(aX);const lke=ske;var uke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),QE=function(){return QE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},QE.apply(this,arguments)},cke=(function(n){uke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return QE(QE({},n.prototype.defaults),{removable:!1,draggable:!1})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return ZEe((0,At.toLowerCase)(e.tagName))},t})(Ai);const cI=cke;var dke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),jE=function(){return jE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},jE.apply(this,arguments)},fke=(function(n){dke(t,n);function t(e,r){r===void 0&&(r={});var o,i=n.call(this,e,r)||this;return i.mutable=(o=e.mutable)!==null&&o!==void 0?o:!0,i.on("change",i.handleChange),i}return Object.defineProperty(t.prototype,"cl",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataSource",{get:function(){return this.cl.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"em",{get:function(){return this.dataSource.em},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.cl.indexOf(this)},enumerable:!1,configurable:!0}),t.prototype.handleChange=function(e,r){var o=this,i=this.changedAttributes();(0,oe.keys)(i).forEach(function(a){return o.triggerChange(a,r)})},t.prototype.getPath=function(e,r){r===void 0&&(r={});var o=this,i=o.dataSource,a=o.id,s=o.index,l=i.id,u=e?".".concat(e):"";return"".concat(l,".").concat(r.useIndex?s:a).concat(u)},t.prototype.getPaths=function(e){return[this.getPath(e),this.getPath(e,{useIndex:!0})]},t.prototype.triggerChange=function(e,r){r===void 0&&(r={});var o=this,i=o.dataSource,a=o.em,s=this.getPaths(e),l={dataSource:i,dataRecord:this,path:s[0],options:r};a.trigger(Gf.path,l),a.trigger("".concat(Gf.pathSource,":").concat(i.id),l),s.forEach(function(u){return a.trigger("".concat(Gf.path,":").concat(u),jE(jE({},l),{path:u}))})},t.prototype.set=function(e,r,o){var i=this,a,s;if(!this.isNew()&&this.attributes.mutable===!1)throw new Error("Cannot modify immutable record");var l=(s=(a=this.dataSource)===null||a===void 0?void 0:a.transformers)===null||s===void 0?void 0:s.onRecordSetValue,u=function(g,_,S){S===void 0&&(S={});var y=S!=null&&S.avoidTransformers||!l?_:l({id:i.id,key:g,value:_});n.prototype.set.call(i,g,y,S),n.prototype.set.call(i,{__p:S.partial?!0:void 0},S)};if(typeof e=="object"&&e!==null)for(var c=e,d=0,f=Object.entries(c);d<f.length;d++){var h=f[d],p=h[0],v=h[1];u(p,v,r)}else u(e,r,o);return this},t})(Qt.Kx);const Ake=fke;var hke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),sX=(function(n){hke(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.dataSource=r.dataSource,o}return t})(Qt.pM);const T3=sX;sX.prototype.model=Ake;var pke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),kf=function(){return kf=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},kf.apply(this,arguments)},O3=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},P3=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(e=0)),e;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},mke=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},vke=(function(n){pke(t,n);function t(e,r){var o=n.call(this,kf(kf({schema:{}},e),{records:[]}),r)||this,i=e.records,a=e.transformers;return o.transformers=a||{},i instanceof T3||o.set({records:new T3(i,{dataSource:o})}),o.listenTo(o.records,"add",o.onAdd),o.listenTo(o.records,Qt.e2,o.handleChanges),o}return t.prototype.defaults=function(){return{records:[],transformers:{}}},Object.defineProperty(t.prototype,"records",{get:function(){return this.attributes.records},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"schema",{get:function(){return this.attributes.schema},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"em",{get:function(){return this.collection.em},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasProvider",{get:function(){return!!this.attributes.provider},enumerable:!1,configurable:!0}),t.prototype.onAdd=function(e){e.triggerChange()},t.prototype.addRecord=function(e,r){return this.records.add(e,r)},t.prototype.getRecord=function(e){return this.records.get(e)},t.prototype.getRecords=function(){var e=this;return mke([],this.records.models,!0).map(function(r){return e.getRecord(r.id)})},t.prototype.getResolvedRecords=function(){var e=this,r=Object.entries(this.schema),o=this.getRecords().map(function(i){var a=kf({},i.attributes);return r.length===0||r.forEach(function(s){var l=s[0],u=s[1],c=u;if((c==null?void 0:c.type)===gD.relation&&c.target){var d=a[l];if(d){var f=e.em.DataSources.get(c.target);if(f){var h=f.records,p=c.targetField||JEe;if(c.isMany){var v=Array.isArray(d)?d:[d],g=h.filter(function(S){return v.includes(S.attributes[p])});a[l]=g.map(function(S){return kf({},S.attributes)})}else{var _=f.records.find(function(S){return S.attributes[p]===d});_&&(a[l]=kf({},_.attributes))}}}}}),a});return o},t.prototype.loadProvider=function(){return O3(this,void 0,void 0,function(){var e,r,o,i,a,s,l,u,c,d,f=this;return P3(this,function(h){switch(h.label){case 0:return e=this,r=e.attributes,o=e.em,i=r.provider,i?(0,oe.isString)(i)?[2]:(a=(0,oe.isString)(i.get)?{url:i.get}:i.get,s=a.url,l=a.method,u=a.headers,c=a.body,d=function(){return O3(f,void 0,void 0,function(){var p,v,g,_,S;return P3(this,function(y){switch(y.label){case 0:p=this,y.label=1;case 1:return y.trys.push([1,6,,7]),o.trigger(o.DataSources.events.providerLoadBefore,{dataSource:p}),[4,fetch(s,{method:l,headers:u,body:c})];case 2:return v=y.sent(),v.ok?[3,4]:(g=Error.bind,[4,v.text()]);case 3:throw new(g.apply(Error,[void 0,y.sent()]));case 4:return[4,v.json()];case 5:return _=y.sent(),_!=null&&_.records&&this.setRecords(_.records),_!=null&&_.schema&&this.upSchema(_.schema),o.trigger(o.DataSources.events.providerLoad,{result:_,dataSource:p}),[3,7];case 6:return S=y.sent(),o.logError(S.message),o.trigger(o.DataSources.events.providerLoadError,{dataSource:p,error:S}),[3,7];case 7:return[2]}})})},[4,d()]):[2];case 1:return h.sent(),[2]}})})},t.prototype.removeRecord=function(e,r){var o=this.getRecord(e);if((o==null?void 0:o.mutable)===!1&&!(r!=null&&r.dangerously))throw new Error("Cannot remove immutable record");return this.records.remove(e,r)},t.prototype.setRecords=function(e){var r=this;this.records.reset([],{silent:!0}),e.forEach(function(o){r.records.add(o)})},t.prototype.upSchema=function(e,r){this.set("schema",kf(kf({},this.schema),e),r)},t.prototype.getSchemaField=function(e){return this.schema[e]},t.prototype.handleChanges=function(e,r,o){var i=o||r;this.em.changesUp(i,{dataRecord:e,options:i})},t})(Qt.Kx);const lX=vke;var gke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),SD=function(){return SD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},SD.apply(this,arguments)},yke=(function(n){gke(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.collectionsStateMap={},o.listenToPropsChange(),o}return t.prototype.onCollectionsStateMapUpdate=function(e){var r,o;this.collectionsStateMap=e,(o=(r=this.dataResolverWatchers)===null||r===void 0?void 0:r.onCollectionsStateMapUpdate)===null||o===void 0||o.call(r),this.components().forEach(function(i){var a;(a=i.onCollectionsStateMapUpdate)===null||a===void 0||a.call(i,e)})},t.prototype.syncOnComponentChange=function(e,r,o){var i=this.collectionsStateMap;this.collectionsStateMap={},n.prototype.syncOnComponentChange.call(this,e,r,o),this.collectionsStateMap=i,this.onCollectionsStateMapUpdate(i)},t.prototype.setDataResolver=function(e){return this.set("dataResolver",e)},t.prototype.getDataResolver=function(){return this.dataResolverProps},Object.defineProperty(t.prototype,"dataResolverProps",{get:function(){return this.get("dataResolver")},enumerable:!1,configurable:!0}),t.prototype.listenToDataSource=function(){var e=this,r,o=this.dataResolverPath;if(o){var i=this,a=i.em,s=i.collectionsStateMap;(r=this.dataSourceWatcher)===null||r===void 0||r.destroy(),this.dataSourceWatcher=new rC({em:a,resolver:new Jy({type:kc,path:o},{em:a,collectionsStateMap:s}),onUpdate:function(){return e.onDataSourceChange()}})}},t.prototype.listenToPropsChange=function(){var e=this;this.on("change:dataResolver",function(){e.listenToDataSource()}),this.listenToDataSource()},Object.defineProperty(t.prototype,"dataSourceProps",{get:function(){return this.get("dataResolver")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataResolverPath",{get:function(){var e;return(e=this.dataSourceProps)===null||e===void 0?void 0:e.path},enumerable:!1,configurable:!0}),t.prototype.onDataSourceChange=function(){this.onCollectionsStateMapUpdate(this.collectionsStateMap)},t.prototype.getDataSourceItems=function(){var e=this.dataSourceProps;if(!e)return[];var r=this.listDataSourceItems(e);if(r&&(0,oe.isArray)(r))return r;var o=SD({},r);return o},t.prototype.listDataSourceItems=function(e){var r=e instanceof lX?e.get("id"):e.path;if(!r)return[];var o=this.em.DataSources.getValue(r,[]),i=r.split(".").length===1;return i&&(o=Object.entries(o).map(function(a){a[0];var s=a[1];return s})),o},t.prototype.getItemKey=function(e,r){return(0,oe.isArray)(e)?r:Object.keys(e)[r]},t.prototype.removePropsListeners=function(){var e;this.off("change:dataResolver"),(e=this.dataSourceWatcher)===null||e===void 0||e.destroy(),this.dataSourceWatcher=void 0},t.prototype.destroy=function(e){return this.removePropsListeners(),n.prototype.destroy.call(this,e)},t})(Ai);const uX=yke;var bke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ml=function(){return ml=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},ml.apply(this,arguments)},dI={avoidStore:!0,partial:!0},wke=(function(n){bke(t,n);function t(e,r){var o=this;if(r.forCloning)return o=n.call(this,e,r)||this;var i=ml(ml({},e),{droppable:!1}),a=o=n.call(this,i,r)||this;return o.rebuildChildrenFromCollection=o.rebuildChildrenFromCollection.bind(o),o.listenToPropsChange(),o.rebuildChildrenFromCollection(),a}return Object.defineProperty(t.prototype,"defaults",{get:function(){return ml(ml({},n.prototype.defaults),{droppable:!1,dataResolver:{},type:Ei.collection,components:[{type:Ei.collectionItem}]})},enumerable:!1,configurable:!0}),t.prototype.getItemsCount=function(){var e,r,o=this.getDataSourceItems(),i=Cke(o),a=Math.max(0,(e=this.getConfigStartIndex())!==null&&e!==void 0?e:0),s=(r=this.getConfigEndIndex())!==null&&r!==void 0?r:Number.MAX_VALUE,l=Math.min(i-1,s),u=l-a+1;return Math.max(0,u)},t.prototype.getConfigStartIndex=function(){return this.dataResolver.startIndex},t.prototype.getConfigEndIndex=function(){return this.dataResolver.endIndex},t.prototype.getDataSource=function(){var e;return(e=this.dataResolver)===null||e===void 0?void 0:e.dataSource},t.prototype.getCollectionId=function(){var e;return(e=this.dataResolver)===null||e===void 0?void 0:e.collectionId},t.prototype.getCollectionItemComponents=function(){return this.firstChild.components()},t.prototype.setCollectionId=function(e){this.updateCollectionConfig({collectionId:e})},t.prototype.setStartIndex=function(e){if(e<0){this.em.logError("Start index should be greater than or equal to 0");return}this.updateCollectionConfig({startIndex:e})},t.prototype.setEndIndex=function(e){this.updateCollectionConfig({endIndex:e})},t.prototype.setDataSource=function(e){this.set(cb,ml(ml({},this.dataResolver),{dataSource:e}))},t.prototype.setCollectionItemComponents=function(e){this.firstChild.components(e)},t.prototype.onCollectionsStateMapUpdate=function(e){var r=this;n.prototype.onCollectionsStateMapUpdate.call(this,e);var o=this.getDataSourceItems(),i=this.resolveCollectionConfig(o).startIndex,a=this.components();a.forEach(function(s,l){var u=r.getItemKey(o,i+l),c=r.getCollectionsStateMapForItem(o,u);s.onCollectionsStateMapUpdate(c)})},t.prototype.stopSyncComponentCollectionState=function(){this.stopListening(this.components(),"add remove reset",this.syncOnComponentChange),this.onCollectionsStateMapUpdate({})},t.prototype.setCollectionStateMapAndPropagate=function(e,r){e.setSymbolOverride(["locked","layerable",hg]),e.syncComponentsCollectionState(),e.onCollectionsStateMapUpdate(r)},t.prototype.onDataSourceChange=function(){this.rebuildChildrenFromCollection()},t.prototype.listenToPropsChange=function(){var e=this;this.on("change:".concat(cb),function(){e.rebuildChildrenFromCollection(),e.listenToDataSource()}),this.listenToDataSource()},Object.defineProperty(t.prototype,"dataSourceProps",{get:function(){return this.dataResolver.dataSource},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataResolver",{get:function(){return this.get(cb)||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.components().at(0)},enumerable:!1,configurable:!0}),t.prototype.updateCollectionConfig=function(e){this.set(cb,ml(ml({},this.dataResolver),e))},t.prototype.rebuildChildrenFromCollection=function(){var e=this.getDataSourceItems(),r=this.resolveCollectionConfig(e).totalItems;if(r===this.components().length){this.onCollectionsStateMapUpdate(this.collectionsStateMap);return}var o=this.getCollectionItems(e);this.components().reset(o,YS)},t.prototype.getCollectionItems=function(e){var r,o=this.ensureFirstChild(),i=o.getStyle().display,a=!i||i==="none",s=a?"":i;o.addStyle({display:"none"},dI);var l=[o],u=xke(this.dataResolver,this.em);if(!u)return l;var c=this.collectionId,d=e??this.getDataSourceItems(),f=this.resolveCollectionConfig(d),h=f.startIndex,p=f.endIndex,v=this.hasDuplicateCollectionId();if(v)return this.em.logError('The collection ID "'.concat(c,'" already exists in the parent collection state. Overriding it is not allowed.')),l;for(var g=h;g<=p;g++){var _=g===h,S=this.getItemKey(d,g),y=this.getCollectionsStateMapForItem(d,S);if(_){(r=Bl(o))===null||r===void 0||r.forEach(function(T){return IT(T)}),this.setCollectionStateMapAndPropagate(o,y),o.addStyle({display:s},dI);continue}var C=o.clone({symbol:!0,symbolInv:!0});C.set({locked:!0,layerable:!1},dI),this.setCollectionStateMapAndPropagate(C,y),l.push(C)}return l},t.prototype.getCollectionsStateMapForItem=function(e,r){var o,i=this.resolveCollectionConfig(e),a=i.startIndex,s=i.endIndex,l=i.totalItems,u=this.collectionId,c=e[r],d=this.collectionsStateMap,f=typeof r=="string"?Object.keys(e).indexOf(r):r,h=f-a,p=l-(1+h),v={collectionId:u,currentIndex:f,currentItem:c,currentKey:r,startIndex:a,endIndex:s,totalItems:l,remainingItems:p},g=ml(ml({},d),(o={},o[u]=v,o));return g},t.prototype.hasDuplicateCollectionId=function(){var e=this.collectionId,r=this.collectionsStateMap;return!!r[e]},t.prototype.resolveCollectionConfig=function(e){var r,o,i=Array.isArray(e),a=i?e.length:Object.keys(e).length,s=(r=this.getConfigStartIndex())!==null&&r!==void 0?r:0,l=(o=this.getConfigEndIndex())!==null&&o!==void 0?o:Number.MAX_VALUE,u=Math.min(a-1,l),c=0;return a>0&&(c=Math.max(0,u-s+1)),{startIndex:s,endIndex:u,totalItems:c,isArray:i}},t.prototype.ensureFirstChild=function(){var e=this.em.Components.getType(Ei.collectionItem).model;return this.firstChild||new e({type:Ei.collectionItem},this.opt)},Object.defineProperty(t.prototype,"collectionId",{get:function(){var e,r;return(r=(e=this.dataResolverProps)===null||e===void 0?void 0:e.collectionId)!==null&&r!==void 0?r:""},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===Ei.collection},t.prototype.toJSON=function(e){var r=n.prototype.toJSON.call(this,e);delete r.droppable,delete r[wl];var o=this.firstChild;return ml(ml({},r),{components:[o]})},t})(uX);const _ke=wke;function Cke(n){return(0,oe.isArray)(n)?n.length:Object.keys(n).length}function Ske(n,t,e){return n?!0:(e.logError('The "'.concat(t,'" property is required in the collection definition.')),!1)}function xke(n,t){for(var e=[{property:n==null?void 0:n.collectionId,propertyPath:"dataResolver.collectionId"},{property:n==null?void 0:n.dataSource,propertyPath:"dataResolver.dataSource"}],r=0,o=e;r<o.length;r++){var i=o[r].propertyPath;if(!Ske(n,i,t))return[]}var a=n==null?void 0:n.startIndex;return a!==void 0&&(a<0||!Number.isInteger(a))&&t.logError("Invalid startIndex: ".concat(a,". It must be a non-negative integer.")),!0}var Eke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Bke=(function(n){Eke(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.compView=yo,e}return t.prototype.initialize=function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var r=this.collection;this.listenTo(r,"add",this.addTo),this.listenTo(r,"reset",this.resetChildren),this.listenTo(r,"remove",this.removeChildren)},t.prototype.removeChildren=function(e,r,o){var i=this;o===void 0&&(o={}),e.views.forEach(function(s){if(s){var l=s.childrenView,u=s.scriptContainer;l&&l.stopListening(),(0,Gt.YZ)(u),s.remove.apply(s)}});var a=e.components();a.forEach(function(s){return i.removeChildren(s,r,o)})},t.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},t.prototype.addToCollection=function(e,r,o){for(var i=this,a=i.config,s=i.opts,l=i.em,u=a.frameView,c=(u==null?void 0:u.model)&&e.getView(u.model),d=s.componentTypes||(l==null?void 0:l.Components.getTypes()),f=e.get("type")||"default",h=this.compView,p=0;p<d.length;p++)if(d[p].id==f){h=d[p].view;break}var v=c||new h({model:e,config:a,componentTypes:d}),g;try{g=v.render().el}catch(C){g=document.createTextNode(""),l.logError(C)}if(r)r.appendChild(g);else{var _=this.parentEl,S=_.childNodes;if((0,oe.isUndefined)(o))_.appendChild(g);else{var y=S.length==o;y&&o--,y||!S.length?_.appendChild(g):_.insertBefore(g,S[o])}}return e.opt.temporary||l==null||l.trigger(Ur.I.mount,e),g},t.prototype.resetChildren=function(e,r){var o=this;if(r===void 0&&(r={}),!r.skipViewUpdate){var i=r.previousModels;r.skipDomReset||(this.parentEl.innerHTML=""),i==null||i.forEach(function(a){return o.removeChildren(a,o.collection)}),e.each(function(a){return o.addToCollection(a)})}},t.prototype.render=function(e){var r=this,o=this.el,i=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(a){return r.addToCollection(a,i)}),o.innerHTML="",o.appendChild(i),this},t})(Qt.Ss);const cX=Bke;var kke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),pd=function(){return pd=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},pd.apply(this,arguments)},Tke=(function(n){kke(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.rendered=!1,e}return t.prototype.className=function(){return this.getClasses()},t.prototype.tagName=function(){return this.model.get("tagName")},t.prototype.preinitialize=function(e){e===void 0&&(e={}),this.opts=e},t.prototype.initialize=function(e){e===void 0&&(e={});var r=this.model,o=e.config||{},i=o.em,a=r.opt||{},s=this,l=s.$el,u=s.el;this.opts=e,this.modelOpt=a,this.config=o,this.em=i,this.pfx=o.stylePrefix||"",this.ppfx=o.pStylePrefix||"",this.attr=r.get("attributes"),this.classe=this.attr.class||[],this.listenTo(r,"change:style",this.updateStyle),this.listenTo(r,"change:attributes",this.renderAttributes),this.listenTo(r,"change:highlightable",this.updateHighlight),this.listenTo(r,"change:status change:locked",this.updateStatus),this.listenTo(r,"change:script rerender",this.reset),this.listenTo(r,"change:content",this.updateContent),this.listenTo(r,"change",this.handleChange),this.listenTo(r,"active",this.onActive),this.listenTo(r,"disable",this.onDisable),l.data("model",r),(0,At.setViewEl)(u,this),r.view=this,this.frameView&&r.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=pd(pd({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!a.temporary&&this.init(this._clbObj())},Object.defineProperty(t.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createDoc",{get:function(){var e,r,o=((e=this.frameView)===null||e===void 0?void 0:e.getDoc())||document;return!((r=this.opts.config)===null||r===void 0)&&r.useFrameDoc?o:document},enumerable:!1,configurable:!0}),t.prototype.__isDraggable=function(){var e=this,r=e.model,o=e.config,i=r.attributes.draggable;return o.draggableComponents&&i},t.prototype._clbObj=function(){var e=this,r=e.em,o=e.model,i=e.el;return{editor:r==null?void 0:r.getEditor(),model:o,el:i}},t.prototype.init=function(e){},t.prototype.removed=function(e){},t.prototype.onRender=function(e){},t.prototype.onActive=function(e){},t.prototype.onDisable=function(e){},t.prototype.remove=function(){var e;n.prototype.remove.call(this);var r=this,o=r.model,i=r.$el,a=o.views,s=this.frameView||{};return o.components().forEach(function(l){var u=l.getView(s.model);u==null||u.remove()}),(e=this.childrenView)===null||e===void 0||e.remove(),a.splice(a.indexOf(this),1),this.removed(this._clbObj()),i.data({model:"",collection:"",view:""}),this},t.prototype.handleDragStart=function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault();var r=this.em.getSelectedAll(),o=r.includes(this.model)?r:[this.model];this.em.Commands.run("tlb-move",{target:o,event:e})},t.prototype.initClasses=function(){var e=this.model,r=e.classes,o="change:classes";r instanceof fh&&(this.stopListening(e,o,this.initClasses),this.listenTo(e,o,this.initClasses),this.listenTo(r,"add remove change reset",this.updateClasses),r.length&&this.importClasses())},t.prototype.initComponents=function(e){e===void 0&&(e={});var r=this,o=r.model,i=r.$el,a=r.childrenView,s="change:components",l=o.get("components"),u=[o,s,this.initComponents];l instanceof u_&&(i.data("collection",l),a&&a.remove(),this.stopListening.apply(this,u),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,u))},t.prototype.handleChange=function(){var e=this.model,r=(0,oe.keys)(e.changed);if(!(r.length===1&&r[0]==="status")){e.emitUpdate();for(var o in e.changed)e.emitUpdate(o)}},t.prototype.importClasses=function(){var e=this,r=e.em,o=e.model,i=r.Selectors;i&&o.classes.forEach(function(a){return i.add(a.getName())})},t.prototype.updateStatus=function(e){e===void 0&&(e={});var r=this,o=r.em,i=r.el,a=r.ppfx,s=r.model,l=o==null?void 0:o.Canvas,u=l==null?void 0:l.config.extHl,c=s.get("status"),d="".concat(a,"selected"),f="".concat(d,"-parent"),h="".concat(a,"freezed"),p="".concat(a,"hovered"),v="".concat(a,"no-pointer"),g="".concat(a,"pointer-init"),_=[d,f,h,p,v,g],S=u&&!e.noExtHl?"":d;this.$el.removeClass(_.join(" "));var y=i.getAttribute("class")||"",C=[y],T=!(l!=null&&l.hasCustomSpot(Uu.F.Select)),P=!(l!=null&&l.hasCustomSpot(Uu.F.Target));switch(c){case"selected":T&&C.push(S);break;case"selected-parent":P&&C.push(f);break;case"freezed":C.push(h);break;case"freezed-selected":C.push(h),T&&C.push(S);break;case"hovered":!e.avoidHover&&C.push(p);break}(0,oe.isBoolean)(s.locked)&&C.push(s.locked?v:g);var F=C.filter(Boolean).join(" ");F&&i.setAttribute("class",F)},t.prototype.updateHighlight=function(){var e=this.model,r=e.get("textable"),o=e.get("highlightable")&&(r||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",o?!0:"")},t.prototype.updateStyle=function(e,r,o){o===void 0&&(o={});var i=this,a=i.model,s=i.em;if(Tp(s)&&!o.inline){var l=this.__cmpStyleOpts,u=a.getStyle(pd({inline:!0},l));!(0,oe.isEmpty)(u)&&a.setStyle(u,l)}else this.setAttribute("style",a.styleToString(o))},t.prototype.updateStyles=function(){this.updateStyle()},t.prototype.updateClasses=function(){var e,r,o=((r=(e=this.model.classes).pluck)===null||r===void 0?void 0:r.call(e,"name").join(" "))||"";this.setAttribute("class",o),this.updateStatus(),this.onAttrUpdate()},t.prototype.setAttribute=function(e,r){var o=this.$el;r?o.attr(e,r):o.removeAttr(e)},t.prototype.getClasses=function(){return this.model.getClasses().join(" ")},t.prototype.updateAttributes=function(){var e=this,r=e.model,o=e.$el;e.el;var i=r.attributes,a=i.textable,s=i.type,l=pd(pd({id:r.getId(),"data-gjs-type":s||"default"},this.__isDraggable()&&{draggable:!0}),a&&{contenteditable:"false"});this.__clearAttributes(),this.updateStyle(),this.updateHighlight();var u=pd(pd({},l),r.getAttributes());(0,oe.keys)(u).forEach(function(c){return u[c]===!1&&delete u[c]}),o.attr(u)},t.prototype.__clearAttributes=function(){var e=this,r=e.el,o=e.$el,i=[];(0,oe.each)(r.attributes,function(a){return i.push(a.nodeName)}),i.forEach(function(a){return o.removeAttr(a)})},t.prototype.updateContent=function(){var e=this.model.content,r=this.model.components().length;this.getChildrenContainer().innerHTML=r?"":e},t.prototype.prevDef=function(e){e.preventDefault()},t.prototype.updateScript=function(){var e=this,r=e.model,o=e.em;r.get("script")&&(o==null||o.Canvas.getCanvasView().updateScript(this))},t.prototype.getChildrenContainer=function(){var e=this.el;return typeof this.getChildrenSelector=="function"?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},t.prototype.getOffsetRect=function(){var e={top:0,left:0,bottom:0,right:0},r=this.el,o=0,i=0,a=function(s){var l=s.offsetParent;l?(o+=l.offsetTop,i+=l.offsetLeft,a(l)):(e.top=r.offsetTop+o,e.left=r.offsetLeft+i,e.bottom=e.top+r.offsetHeight,e.right=e.left+r.offsetWidth)};return a(r),e},t.prototype.isInViewport=function(){var e=this,r=e.el,o=e.em,i=e.frameView,a=o.Canvas.getCanvasView(),s=a.getElBoxRect(r,{local:!0}),l=i.el,u=l.clientHeight,c=l.clientWidth,d=s.y,f=s.x,h=d+s.height,p=f+s.width,v=d>=0&&d<u,g=h>0&&h<u,_=p>=0&&p<c,S=f>0&&f<=c,y=(v||g)&&(_||S);return y},t.prototype.scrollIntoView=function(e){var r;e===void 0&&(e={});var o=this.isInViewport();if(!o||e.force){var i=this.el;if(e.behavior!=="smooth"){var a=this.getOffsetRect();(r=i.ownerDocument.defaultView)===null||r===void 0||r.scrollTo(0,a.top)}else i.scrollIntoView(pd({behavior:"smooth",block:"nearest"},e))}},t.prototype.reset=function(){var e=this,r=e.el,o=e.model;e.scriptContainer&&o.emitWithEditor(Ur.I.scriptUnmount,{component:o,view:e,el:r}),this.el="",this._ensureElement(),this._setData(),(0,Gt.bG)(r,this.el),this.render()},t.prototype._setData=function(){var e=this,r=e.model,o=e.el,i=r.components(),a=this;this.$el.data({model:r,collection:i,view:a}),(0,At.setViewEl)(o,this)},t.prototype._createElement=function(e){return this.createDoc.createElement(e)},t.prototype.renderChildren=function(){this.updateContent();var e=this.getChildrenContainer(),r=this.childrenView||new cX({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});r.render(e),this.childrenView=r;for(var o=Array.prototype.slice.call(r.el.childNodes),i=0,a=o.length;i<a;i++)e.appendChild(o.shift())},t.prototype.renderAttributes=function(e,r,o){o===void 0&&(o={}),!o.skipViewUpdate&&(this.updateAttributes(),this.updateClasses())},t.prototype.onAttrUpdate=function(){},t.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,At.setViewEl)(this.el,this),this.postRender(),this)},t.prototype.postRender=function(){if(!this.modelOpt.temporary){var e=this,r=e.model,o=e.el;this.onRender(this._clbObj()),r.emitWithEditor(Ur.I.render,{component:r,view:this,el:o}),this.rendered=!0}},t.getEvents=function(){return(0,oe.result)(this.prototype,"events")},t})(Qt.Ss);const yo=Tke;var Oke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Pke=(function(n){Oke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(yo);const Ike=Pke;var Mke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Fke=(function(n){Mke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialize=function(e){e===void 0&&(e={}),n.prototype.initialize.call(this,e),this.postRender=this.postRender.bind(this),this.listenTo(this.model.components(),"reset",this.postRender),this.dataResolverListener=new rC({em:this.em,resolver:this.model.dataResolver,onUpdate:this.postRender})},t.prototype.renderDataResolver=function(){var e=this.model.getIfTrueContent(),r=this.model.getIfFalseContent(),o=e==null?void 0:e.getEl(),i=r==null?void 0:r.getEl(),a=this.model.isTrue();o&&(o.style.display=a?"":"none"),i&&(i.style.display=a?"none":"")},t.prototype.postRender=function(){this.renderDataResolver(),n.prototype.postRender.call(this)},t.prototype.remove=function(){return this.stopListening(this.model.components(),"reset",this.postRender),this.dataResolverListener.destroy(),n.prototype.remove.call(this)},t})(yo);const Dke=Fke;var Uke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Lke=(function(n){Uke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialize=function(e){var r=this;e===void 0&&(e={}),n.prototype.initialize.call(this,e),this.dataResolverListener=new rC({em:this.em,resolver:this.model.dataResolver,onUpdate:function(){return r.postRender()}})},t.prototype.remove=function(){return this.dataResolverListener.destroy(),n.prototype.remove.call(this)},t.prototype.postRender=function(){var e=this.model,r=e.getDataResolver(),o=!!r.asPlainText;o?this.el.textContent=e.getDataValue():this.el.innerHTML=e.getDataValue(),n.prototype.postRender.call(this)},t})(yo);const Vke=Lke;var Nke=function(){return{stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]}};const Rke=Nke;var Hke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),$E=function(){return $E=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},$E.apply(this,arguments)},Qke=(function(n){Hke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return $E($E({},n.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),t.prototype.toHTML=function(){var e=this.content,r=this.parent();return r!=null&&r.is("script")?e:this.__escapeContent(e)},t.prototype.__escapeContent=function(e){return(0,At.escapeNodeContent)(e)},t.isComponent=function(e){var r;if(e.nodeType===3)return{type:"textnode",content:(r=e.textContent)!==null&&r!==void 0?r:""}},t})(Ai);const dX=Qke;var jke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),xD=function(){return xD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},xD.apply(this,arguments)},$ke=(function(n){jke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return xD({},n.prototype.defaults)},enumerable:!1,configurable:!0}),t.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},t.isComponent=function(e){var r;if(e.nodeType==8)return{type:"comment",content:(r=e.textContent)!==null&&r!==void 0?r:""}},t})(dX);const Kke=$ke;var Wke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),KE=function(){return KE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},KE.apply(this,arguments)},fI="iframe",zke=(function(n){Wke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return KE(KE({},n.prototype.defaults),{type:fI,tagName:fI,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===fI},t})(Ai);const Gke=zke;var Yke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),WE=function(){return WE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},WE.apply(this,arguments)},I3='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',Xke=(function(n){Yke(t,n);function t(e,r){e===void 0&&(e={});var o=n.call(this,e,r)||this,i=o.get("attributes").src;return i&&(0,At.buildBase64UrlFromSvg)((0,oe.result)(o,"defaults").src)!==i&&o.set("src",i,{silent:!0}),o}return Object.defineProperty(t.prototype,"defaults",{get:function(){return WE(WE({},n.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(I3,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(I3,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),t.prototype.initToolbar=function(){n.prototype.initToolbar.call(this);var e=this.em;if(e){var r=e.Commands,o="image-editor";if(r.has(o)){for(var i=!1,a=this.get("toolbar"),s=0;s<a.length;s++)if(a[s].command==="image-editor"){i=!0;break}i||(a.push({attributes:{class:"fa fa-pencil"},command:o}),this.set("toolbar",a))}}},t.prototype.getAttrToHTML=function(){var e=n.prototype.getAttrToHTML.call(this),r=this.getSrcResult();return r&&(e.src=r),e},t.prototype.getSrcResult=function(e){e===void 0&&(e={});var r=this.get(e.fallback?"fallback":"src")||"",o=r;return r&&r.substr(0,4)==="<svg"&&(o=(0,At.buildBase64UrlFromSvg)(r)),o},t.prototype.isDefaultSrc=function(){var e=this.get("src"),r=(0,oe.result)(this,"defaults").src;return e===r||e===(0,At.buildBase64UrlFromSvg)(r)},t.prototype.toJSON=function(e){var r=n.prototype.toJSON.call(this,e),o=r.attributes;return o&&r.src===o.src&&delete r.src,r},t.prototype.parseUri=function(e){var r={},o=function(i){i===void 0&&(i="");for(var a={},s=i.substring(1).split("&"),l=0;l<s.length;l++){var u=s[l].split("="),c=decodeURIComponent(u[0]);c&&(a[c]=decodeURIComponent(u[1]||""))}return a};if((0,At.hasWin)())r=document.createElement("a"),r.href=e;else if(typeof URL<"u")try{r=new URL(e)}catch{}return{hostname:r.hostname||"",pathname:r.pathname||"",protocol:r.protocol||"",search:r.search||"",hash:r.hash||"",port:r.port||"",query:o(r.search)}},t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)==="img"},t})(Ai);const p2=Xke;var Jke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),zE=function(){return zE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},zE.apply(this,arguments)},Zke=(function(n){Jke(t,n);function t(e,r){e===void 0&&(e={});var o=n.call(this,e,r)||this;return o.__checkInnerChilds(),o}return Object.defineProperty(t.prototype,"defaults",{get:function(){return zE(zE({},n.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),t.prototype.__checkInnerChilds=function(){var e=this.em.Components.config.disableTextInnerChilds;if(e){var r=function(o){o.isInstanceOf("textnode")||o.set({locked:!0,layerable:!1})};(0,oe.isFunction)(e)?this.forEachChild(function(o){e(o)&&r(o)}):this.forEachChild(r)}},t})(Ai);const m2=Zke;var qke=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),GE=function(){return GE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},GE.apply(this,arguments)},AI="label",eTe=(function(n){qke(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return GE(GE({},n.prototype.defaults),{type:AI,tagName:AI,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===AI},t})(m2);const tTe=eTe;var nTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),YE=function(){return YE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},YE.apply(this,arguments)},M3="link",rTe=(function(n){nTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return YE(YE({},n.prototype.defaults),{type:M3,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),t.isComponent=function(e,r){r===void 0&&(r={});var o;if((0,At.toLowerCase)(e.tagName)==="a"){var i=r.textTags||[];o={type:M3,editable:!1};var a=e.childNodes,s=a.length;s||delete o.editable,(0,oe.forEach)(a,function(l){var u=l.tagName;(l.nodeType==3&&l.textContent.trim()!==""||u&&i.indexOf((0,At.toLowerCase)(u))>=0)&&delete o.editable})}return o},t})(m2);const oTe=rTe;var iTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),XE=function(){return XE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},XE.apply(this,arguments)},aTe=(function(n){iTe(t,n);function t(e,r){e===void 0&&(e={});var o=n.call(this,e,r)||this;return o.get("src")?o.parseFromSrc():o.updateSrc(),o.listenTo(o,"change:address change:zoom change:mapType",o.updateSrc),o}return Object.defineProperty(t.prototype,"defaults",{get:function(){var e=n.prototype.defaults;return XE(XE({},e),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:e.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),t.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},t.prototype.getMapUrl=function(){var e=this.get("address"),r=this.get("zoom"),o=this.get("mapType");e=e?"&q="+e:"",r=r?"&z="+r:"",o=o?"&t="+o:"";var i=this.get("mapUrl")+"?"+e+r+o;return i+="&output=embed",i},t.prototype.parseFromSrc=function(){var e=this.parseUri(this.get("src")),r=e.query;r.q&&this.set("address",r.q),r.z&&this.set("zoom",r.z),r.t&&this.set("mapType",r.t)},t.isComponent=function(e){if((0,At.toLowerCase)(e.tagName)=="iframe"&&/maps\.google\.com/.test(e.src))return{type:"map",src:e.src}},t})(p2);const sTe=aTe;var lTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),JE=function(){return JE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},JE.apply(this,arguments)},hI="script",uTe=(function(n){lTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return JE(JE({},n.prototype.defaults),{type:hI,tagName:hI,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===hI},t})(Ai);const cTe=uTe;var dTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ZE=function(){return ZE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},ZE.apply(this,arguments)},pI="svg",fTe=(function(n){dTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return ZE(ZE({},n.prototype.defaults),{type:pI,tagName:pI,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),t.prototype.getName=function(){var e=this.get("tagName"),r=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),r||e},t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===pI},t})(Ai);const fX=fTe;var ATe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),qE=function(){return qE=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},qE.apply(this,arguments)},hTe=(function(n){ATe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return qE(qE({},n.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),t.isComponent=function(e,r){return r===void 0&&(r={}),!!r.inSvg},t})(fX);const pTe=hTe;var mTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),eB=function(){return eB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},eB.apply(this,arguments)},mI="table",vTe=(function(n){mTe(t,n);function t(e,r){e===void 0&&(e={});var o=n.call(this,e,r)||this,i=o.get("components");return!i.length&&i.add({type:"tbody"}),o}return Object.defineProperty(t.prototype,"defaults",{get:function(){return eB(eB({},n.prototype.defaults),{type:mI,tagName:mI,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===mI},t})(Ai);const gTe=vTe;var yTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),tB=function(){return tB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},tB.apply(this,arguments)},vI="tbody",bTe=(function(n){yTe(t,n);function t(e,r){e===void 0&&(e={});var o=n.call(this,e,r)||this,i=o.get("components"),a=o.get("columns"),s=o.get("rows");if(!i.length){for(var l=[];s--;){for(var u=[],c=a;c--;)u.push({type:"cell",classes:["cell"]});l.push({type:"row",classes:["row"],components:u})}i.add(l)}return o}return Object.defineProperty(t.prototype,"defaults",{get:function(){return tB(tB({},n.prototype.defaults),{type:vI,tagName:vI,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===vI},t})(Ai);const v2=bTe;var wTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),nB=function(){return nB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},nB.apply(this,arguments)},_Te=(function(n){wTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return nB(nB({},n.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return["td","th"].indexOf((0,At.toLowerCase)(e.tagName))>=0},t})(Ai);const CTe=_Te;var STe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),rB=function(){return rB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},rB.apply(this,arguments)},gI="tfoot",xTe=(function(n){STe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return rB(rB({},n.prototype.defaults),{type:gI,tagName:gI})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===gI},t})(v2);const ETe=xTe;var BTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),oB=function(){return oB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},oB.apply(this,arguments)},yI="thead",kTe=(function(n){BTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return oB(oB({},n.prototype.defaults),{type:yI,tagName:yI})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===yI},t})(v2);const TTe=kTe;var OTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),iB=function(){return iB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},iB.apply(this,arguments)},F3="tr",PTe=(function(n){OTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(t.prototype,"defaults",{get:function(){return iB(iB({},n.prototype.defaults),{tagName:F3,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),t.isComponent=function(e){return(0,At.toLowerCase)(e.tagName)===F3},t})(Ai);const ITe=PTe;var MTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),aB=function(){return aB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},aB.apply(this,arguments)},bI="video",Gv="yt",Yv="vi",Xv="ytnc",D3="so",wI=function(n){return n&&n!=="0"},FTe=(function(n){MTe(t,n);function t(e,r){e===void 0&&(e={});var o=n.call(this,e,r)||this;return o.get("src")&&o.parseFromSrc(),o.updatePropsFromAttr(),o.updateTraits(),o.on("change:provider",o.updateTraits),o.on("change:videoId change:provider",o.updateSrc),o}return Object.defineProperty(t.prototype,"defaults",{get:function(){return aB(aB({},n.prototype.defaults),{type:bI,tagName:bI,videoId:"",void:!1,provider:D3,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:!1,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),t.prototype.updatePropsFromAttr=function(){if(this.get("provider")===D3){var e=this.get("attributes"),r=e.controls,o=e.autoplay,i=e.loop,a=e.muted,s={};(0,At.isDef)(r)&&(s.controls=!!r),(0,At.isDef)(o)&&(s.autoplay=!!o),(0,At.isDef)(i)&&(s.loop=!!i),(0,At.isDef)(a)&&(s.muted=!!a),(0,At.isEmptyObj)(s)||this.set(s)}},t.prototype.updateTraits=function(){var e=this.em,r=this.get("provider"),o="iframe",i;switch(r){case Gv:case Xv:i=this.getYoutubeTraits();break;case Yv:i=this.getVimeoTraits();break;default:o="video",i=this.getSourceTraits()}this.set({tagName:o},{silent:!0}),this.set({traits:i}),e.get("ready")&&e.trigger("component:toggled")},t.prototype.parseFromSrc=function(){var e=this.get("provider"),r=this.parseUri(this.get("src")),o=r.query;switch(e){case Gv:case Xv:case Yv:this.set("videoId",r.pathname.split("/").pop()),o.list&&this.set("list",o.list),wI(o.autoplay)&&this.set("autoplay",!0),wI(o.loop)&&this.set("loop",!0),parseInt(o.controls)===0&&this.set("controls",!1),wI(o.color)&&this.set("color",o.color),o.rel==="0"&&this.set("rel",0),o.modestbranding==="1"&&this.set("modestbranding",1),o.muted==="1"&&this.set("muted",!0);break}},t.prototype.updateSrc=function(){var e=this.get("provider"),r="";switch(e){case Gv:r=this.getYoutubeSrc();break;case Xv:r=this.getYoutubeNoCookieSrc();break;case Yv:r=this.getVimeoSrc();break}this.set({src:r})},t.prototype.getAttrToHTML=function(){var e=n.prototype.getAttrToHTML.call(this),r=this.get("provider");switch(r){case Gv:case Xv:case Yv:break;default:e.loop=!!this.get("loop"),e.autoplay=!!this.get("autoplay"),e.controls=!!this.get("controls"),e.muted=!!this.get("muted")}return e},t.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:Gv,name:"Youtube"},{value:Xv,name:"Youtube (no cookie)"},{value:Yv,name:"Vimeo"}]}},t.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),this.getMutedTrait()]},t.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0},this.getMutedTrait()]},t.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getMutedTrait()]},t.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},t.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},t.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},t.prototype.getMutedTrait=function(){return{type:"checkbox",label:"Muted",name:"muted",changeProp:!0}},t.prototype.getYoutubeSrc=function(){var e=this.get("videoId"),r=this.get("ytUrl"),o=this.get("list");return r+=e+(e.indexOf("?")<0?"?":""),r+=o?"&list=".concat(o):"",r+=this.get("autoplay")?"&autoplay=1":"",r+=this.get("muted")?"&mute=1":"",r+=this.get("controls")?"":"&controls=0&showinfo=0",r+=this.get("loop")?"&loop=1&playlist=".concat(e):"",r+=this.get("rel")?"":"&rel=0",r+=this.get("modestbranding")?"&modestbranding=1":"",r},t.prototype.getYoutubeNoCookieSrc=function(){var e=this.getYoutubeSrc();return e=e.replace(this.get("ytUrl"),this.get("ytncUrl")),e},t.prototype.getVimeoSrc=function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1":"",e+=this.get("muted")?"&muted=1":"",e+=this.get("loop")?"&loop=1":"",e+=this.get("controls")?"":"&title=0&portrait=0&badge=0",e+=this.get("color")?"&color="+this.get("color"):"",e},t.isComponent=function(e){var r=e.tagName,o=e.src,i=/youtube\.com\/embed/.test(o),a=/youtube-nocookie\.com\/embed/.test(o),s=/player\.vimeo\.com\/video/.test(o),l=i||a||s;if((0,At.toLowerCase)(r)==bI||(0,At.toLowerCase)(r)=="iframe"&&l){var u={type:"video"};return o&&(u.src=o),l&&(i?u.provider=Gv:a?u.provider=Xv:s&&(u.provider=Yv)),u}},t})(p2);const DTe=FTe;var UTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Tg=function(){return Tg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Tg.apply(this,arguments)},LTe=(function(n){UTe(t,n);function t(e,r){e===void 0&&(e={});var o=n.call(this,e,r)||this;o._resolverCurrentItem=0,o._isWatchingCollectionStateMap=!1;var i=o.dataResolverProps;return i&&(o.onDataSourceChange(),o.syncComponentsCollectionState()),o}return Object.defineProperty(t.prototype,"defaults",{get:function(){return Tg(Tg({},n.prototype.defaults),{dataResolver:null,tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),t.prototype.preInit=function(){var e,r,o=this,i=o.opt,a=o.attributes,s=(e=this.em)===null||e===void 0?void 0:e.Components,l=(r=s==null?void 0:s.getType(ey))===null||r===void 0?void 0:r.model,u=s==null?void 0:s.getType("default").model;if(l){var c=a.head,d=a.docEl;this.set({head:c&&c instanceof Ai?c:new l(Tg({},c),i),docEl:d&&d instanceof Ai?d:new u(Tg({tagName:"html"},d),i)},{silent:!0})}},Object.defineProperty(t.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),t.prototype.clone=function(e){var r=n.prototype.clone.call(this,e);return r.set("head",this.get("head").clone(e)),r.set("docEl",this.get("docEl").clone(e)),r},t.prototype.toHTML=function(e){e===void 0&&(e={});var r=this.doctype,o=(0,oe.isUndefined)(e.asDocument)?!!r:e.asDocument,i=this,a=i.head,s=i.docEl,l=n.prototype.toHTML.call(this,e),u=o&&(a==null?void 0:a.toHTML(e))||"",c=o&&(0,Gt.kk)(s==null?void 0:s.getAttrToHTML())||"",d=c?" ".concat(c):"";return o?"".concat(r,"<html").concat(d,">").concat(u).concat(l,"</html>"):l},t.prototype.onCollectionsStateMapUpdate=function(e){var r=this.head;n.prototype.onCollectionsStateMapUpdate.call(this,e),r.onCollectionsStateMapUpdate(e)},t.prototype.syncComponentsCollectionState=function(){n.prototype.syncComponentsCollectionState.call(this),this.head.syncComponentsCollectionState()},t.prototype.syncOnComponentChange=function(e,r,o){var i=this.getCollectionsStateMap();this.collectionsStateMap=i,n.prototype.syncOnComponentChange.call(this,e,r,o),this.onCollectionsStateMapUpdate(i)},Object.defineProperty(t.prototype,"resolverCurrentItem",{get:function(){return this._resolverCurrentItem},set:function(e){this._resolverCurrentItem=e,this.onCollectionsStateMapUpdate(this.getCollectionsStateMap())},enumerable:!1,configurable:!0}),t.prototype.setResolverCurrentItem=function(e){this.resolverCurrentItem=e},t.prototype.onDataSourceChange=function(){this.onCollectionsStateMapUpdate(this.getCollectionsStateMap())},t.prototype.listenToPropsChange=function(){var e=this;this.on("change:dataResolver",function(r,o){var i=!(0,oe.isUndefined)(o);i&&!e._isWatchingCollectionStateMap?(e._isWatchingCollectionStateMap=!0,e.syncComponentsCollectionState(),e.onCollectionsStateMapUpdate(e.getCollectionsStateMap()),e.listenToDataSource()):!i&&e._isWatchingCollectionStateMap&&(e._isWatchingCollectionStateMap=!1,e.stopSyncComponentCollectionState())}),this.listenToDataSource()},t.prototype.getCollectionsStateMap=function(){var e,r=this,o=r.dataResolverPath,i=r.resolverCurrentItem,a=r.em,s=a.DataSources;if(!o)return{};var l=i_.rootData,u=this.getDataSourceItems(),c=(0,oe.isNumber)(i)?u[i]:(0,oe.isString)(i)?s.getValue("".concat(o,".").concat(i)):u;return e={},e[l]={collectionId:l,currentItem:c},e},t.prototype.__postAdd=function(){var e,r=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return!this.__hasUm&&(r==null||r.add(this)),n.prototype.__postAdd.call(this)},t.prototype.__postRemove=function(){var e,r=(e=this.em)===null||e===void 0?void 0:e.UndoManager;return r==null||r.remove(this),n.prototype.__postRemove.call(this)},t.isComponent=function(){return!1},t})(uX);const VTe=LTe;var NTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),sB=function(){return sB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},sB.apply(this,arguments)},RTe=(function(n){NTe(t,n);function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=n.apply(this,e)||this;o.refreshDbn=(0,oe.debounce)(function(){return o.refresh()},0);var i=o.events;return o.on(i.update,o.onUpdate),o.on(i.updateInside,o.onUpdateDeep),o}return t.prototype.removeChildren=function(e,r,o){var i;o===void 0&&(o={}),n.prototype.removeChildren.call(this,e,r,o),(i=Bl(e))===null||i===void 0||i.forEach(function(a){return IT(a,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:e})},t.prototype.onAdd=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];n.prototype.onAdd.apply(this,e);var o=e[0];this.__trgEvent(this.events.symbolMainAdd,{component:o})},t.prototype.onUpdate=function(e){this.__trgEvent(this.events.symbolMainUpdate,e)},t.prototype.onUpdateDeep=function(e){this.__trgEvent(this.events.symbolMainUpdateDeep,e)},t.prototype.refresh=function(){var e=this,r=e.em,o=e.events;r.trigger(o.symbol)},t.prototype.__trgEvent=function(e,r,o){o===void 0&&(o=!1);var i=this,a=i.em,s=i.events,l=o?s.symbolInstance:s.symbolMain;a.trigger(e,r),a.trigger(l,sB(sB({},r),{event:e})),this.refreshDbn()},t})(u_);const HTe=RTe;var QTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),jTe=(function(n){QTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype._setAttributes=function(){},t.prototype.renderAttributes=function(){},t.prototype.updateStatus=function(){},t.prototype.updateClasses=function(){},t.prototype.setAttribute=function(){},t.prototype.updateAttributes=function(){},t.prototype.initClasses=function(){},t.prototype.initComponents=function(){},t.prototype.delegateEvents=function(){return this},t.prototype._createElement=function(){return document.createTextNode("")},t.prototype.render=function(){var e=this,r=e.model,o=e.el;return r.opt.temporary?this:(o.textContent=r.content,this)},t})(yo);const AX=jTe;var $Te=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),KTe=(function(n){$Te(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype._createElement=function(){return document.createComment(this.model.content)},t})(AX);const WTe=KTe;var zTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),GTe=(function(n){zTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"div"},t.prototype.initialize=function(e){n.prototype.initialize.call(this,e),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},t.prototype.updateSrc=function(){var e=(0,Gt.I6)(this.el,"iframe")[0];e&&(0,Gt.X6)(e,{src:this.__getSrc()})},t.prototype.render=function(){n.prototype.render.call(this);var e=(0,Gt.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(e),this},t.prototype.__getSrc=function(){return this.model.getAttributes().src||""},t})(yo);const YTe=GTe;var XTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),JTe=(function(n){XTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"img"},t.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},t.prototype.initialize=function(e){n.prototype.initialize.call(this,e),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},t.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var e=this,r=e.model,o=e.em,i=r.get("file");if(i&&o){var a=o.Assets.FileUploader();a==null||a.uploadFile({dataTransfer:{files:[i]}},function(s){var l=s&&s.data&&s.data[0],u=l&&((0,oe.isString)(l)?l:l.src);u&&r.set({src:u})},{componentView:this,file:i}),r.set("file","")}}},t.prototype.updateSrc=function(){var e=this.model;e.addAttributes({src:e.getSrcResult()}),this.updateClasses()},t.prototype.updateClasses=function(){n.prototype.updateClasses.call(this);var e=this,r=e.el,o=e.classEmpty,i=e.model,a=i.getSrcResult()&&!i.isDefaultSrc(),s=a?"remove":"add";r.classList[s](o)},t.prototype.onActive=function(e){e==null||e.stopPropagation();var r=this,o=r.em,i=r.model,a=o==null?void 0:o.Assets;a&&i.get("editable")&&a.open({select:function(s,l){i.set({src:s.getSrc()}),l&&a.close()},target:i,types:["image"],accept:"image/*"})},t.prototype.onError=function(){var e=this,r=e.model,o=e.el,i=r.getSrcResult({fallback:!0});i&&(o.srcset&&(o.srcset=""),o.src=i)},t.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},t.prototype.noDrag=function(e){return e.preventDefault(),!1},t.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this,r=e.$el,o=e.model,i=r.attr("class")||"";return!o.get("src")&&r.attr("class","".concat(i," ").concat(this.classEmpty).trim()),this.postRender(),this},t})(yo);const g2=JTe;var ZTe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Lp=function(){return Lp=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Lp.apply(this,arguments)},H1=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},Q1=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(e=0)),e;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},qTe=(function(n){ZTe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},t.prototype.initialize=function(e){n.prototype.initialize.call(this,e),(0,oe.bindAll)(this,"disableEditing","onDisable");var r=this.model,o=this.em;this.listenTo(r,"focus",this.onActive),this.listenTo(r,"change:content",this.updateContentText),this.listenTo(r,"sync:content",this.syncContent),this.rte=o==null?void 0:o.RichTextEditor},t.prototype.updateContentText=function(e,r,o){o===void 0&&(o={}),!o.fromDisable&&this.disableEditing()},t.prototype.canActivate=function(){var e=this,r=e.model,o=e.rteEnabled,i=e.em,a=i==null?void 0:i.getEditing(),s=a===r,l=!0,u=!1,c;if((o||!r.get("editable")||s||(u=r.isChildOf("text")))&&(l=!1,u&&!r.get("textable"))){for(var d=r.parent();d&&!d.isInstanceOf("text");)d=d.parent();d&&d.get("editable")?c=d:l=!0}return{result:l,delegate:c}},t.prototype.onActive=function(e){return H1(this,void 0,void 0,function(){var r,o,i,a,s,l,u,c,d,f,h,p;return Q1(this,function(v){switch(v.label){case 0:return r=this,o=r.rte,i=r.em,a=this.canActivate(),s=a.result,l=a.delegate,s?((p=e==null?void 0:e.stopPropagation)===null||p===void 0||p.call(e),u=this,[4,this.getContent()]):(l&&((h=e==null?void 0:e.stopPropagation)===null||h===void 0||h.call(e),i.setSelected(l),l.trigger("active",e)),[2]);case 1:if(u.lastContent=v.sent(),!o)return[3,5];v.label=2;case 2:return v.trys.push([2,4,,5]),c=this,d=this,[4,o.enable(c,this.activeRte,{event:e,view:c})];case 3:return d.activeRte=v.sent(),[3,5];case 4:return f=v.sent(),i.logError(f),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},t.prototype.onDisable=function(e){this.disableEditing(e)},t.prototype.disableEditing=function(){return H1(this,arguments,void 0,function(e){var r,o,i,a,s,l,u,c,d;return e===void 0&&(e={}),Q1(this,function(f){switch(f.label){case 0:return r=this,o=r.model,i=r.rte,a=r.activeRte,s=r.em,l=o&&o.get("editable"),i?(u={},[4,this.getContent()]):[3,7];case 1:c=f.sent(),f.label=2;case 2:return f.trys.push([2,4,,5]),[4,i.disable(this,a,e)];case 3:return u=f.sent(),[3,5];case 4:return d=f.sent(),s.logError(d),[3,5];case 5:return l&&(c!==this.lastContent||u.forceSync)?[4,this.syncContent(Lp(Lp({},e),{content:c}))]:[3,7];case 6:f.sent(),this.lastContent="",f.label=7;case 7:return this.toggleEvents(),[2]}})})},t.prototype.getContent=function(){return H1(this,void 0,void 0,function(){var e,r,o,i;return Q1(this,function(a){switch(a.label){case 0:return e=this,r=e.rte,o=e.activeRte,i="",r?[4,r.getContent(this,o)]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return[2,i]}})})},t.prototype.syncContent=function(){return H1(this,arguments,void 0,function(e){var r,o,i,a,s,l,u,c,d;return e===void 0&&(e={}),Q1(this,function(f){switch(f.label){case 0:return r=this,o=r.model,i=r.rte,a=r.rteEnabled,!a&&!e.force?[2]:(d=e.content)!==null&&d!==void 0?(l=d,[3,3]):[3,1];case 1:return[4,this.getContent()];case 2:l=f.sent(),f.label=3;case 3:return s=l,u=o.components(),c=Lp({fromDisable:1},e),o.set("content","",c),i!=null&&i.customRte&&!i.customRte.parseContent?(u.length&&u.reset(void 0,Lp(Lp({},e),{keepIds:Eg(u)})),o.set("content",s,c)):u.resetFromString(s,e),[2]}})})},t.prototype.insertComponent=function(e,r){var o;r===void 0&&(r={});var i=this,a=i.model,s=i.el,l=s.ownerDocument,u=l.getSelection();if(u!=null&&u.rangeCount){var c=u.getRangeAt(0),d=c.startContainer,f=c.startOffset,h=(0,At.getComponentModel)(d),p=[];if(h&&(!((o=h.is)===null||o===void 0)&&o.call(h,"textnode"))){var v=h.collection;v.forEach(function(S){if(S===h){var y="textnode",C=r.useDomContent?d.textContent||"":S.content;p.push({type:y,content:C.slice(0,f)}),p.push(e),p.push({type:y,content:C.slice(f)})}else p.push(S)});var g=p.filter(Boolean),_=g.indexOf(e);return v.reset(g,r),v.at(_)}}return a.append(e,r)},t.prototype.onInput=function(){var e=this.model,r=[Ur.I.update,Ur.I.input];r.forEach(function(o){return e.emitWithEditor(o,e)})},t.prototype.disablePropagation=function(e){e.stopPropagation()},t.prototype.toggleEvents=function(e){var r=this,o=r.em,i=r.model,a=r.$el,s={on:Gt.on,off:Gt.AU},l=e?"on":"off";o.setEditing(e?this:!1),this.rteEnabled=!!e;var u=[this.el.ownerDocument,document];if(s.off(u,"mousedown",this.onDisable),s[l](u,"mousedown",this.onDisable),o[l]("toolbar:run:before",this.onDisable),i){var c=o.RichTextEditor.events;i[l]("removed",this.onDisable),i.trigger(e?c.enable:c.disable)}if(a==null||a.off("mousedown",this.disablePropagation),a&&a[l]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var d=this.el;d;)d.draggable=!e,d=d.parentNode,d&&d.tagName=="BODY"&&(d=0)},t})(yo);const hX=qTe;var eOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),tOe=(function(n){eOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(){return n.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},t})(hX);const pX=tOe;var nOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),rOe=(function(n){nOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(pX);const oOe=rOe;var iOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),aOe=(function(n){iOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"div"},t.prototype.events=function(){return{}},t.prototype.initialize=function(e){n.prototype.initialize.call(this,e),this.classEmpty=this.ppfx+"plh-map"},t.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},t.prototype.getIframe=function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder="0",e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe},t.prototype.render=function(){return n.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},t})(g2);const sOe=aOe;var lOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),uOe=(function(n){lOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"script"},t.prototype.events=function(){return{}},t})(yo);const cOe=uOe;var dOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),fOe=(function(n){dOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},t})(yo);const U3=fOe;var AOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),hOe=(function(n){AOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(yo);const pOe=hOe;var mOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),vOe=(function(n){mOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(yo);const gOe=vOe;var yOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),bOe=(function(n){yOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(yo);const wOe=bOe;var _Oe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),COe=(function(n){_Oe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(yo);const SOe=COe;var xOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),EOe=(function(n){xOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(yo);const BOe=EOe;var kOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),TOe=(function(n){kOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return{}},t})(yo);const OOe=TOe;var POe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),IOe=(function(n){POe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"div"},t.prototype.events=function(){return{}},t.prototype.initialize=function(){yo.prototype.initialize.apply(this,arguments);var e=this.model,r=["loop","autoplay","controls","color","rel","modestbranding","poster","muted"],o=r.map(function(i){return"change:".concat(i)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,o,this.updateVideo)},t.prototype.updateProvider=function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},t.prototype.updateSrc=function(){var e=this,r=e.model,o=e.videoEl;if(o){var i=r.get("provider"),a=r.get("src");switch(i){case"yt":a=r.getYoutubeSrc();break;case"ytnc":a=r.getYoutubeNoCookieSrc();break;case"vi":a=r.getVimeoSrc();break}o.src=a}},t.prototype.updateVideo=function(){var e=this,r=e.model,o=e.videoEl,i=r.get("provider");switch(i){case"yt":case"ytnc":case"vi":r.trigger("change:videoId");break;default:if(o){var a=o;a.loop=r.get("loop"),a.autoplay=r.get("autoplay"),a.controls=r.get("controls"),a.poster=r.get("poster"),a.muted=r.get("muted")}}},t.prototype.renderByProvider=function(e){var r;switch(e){case"yt":r=this.renderYoutube();break;case"ytnc":r=this.renderYoutubeNoCookie();break;case"vi":r=this.renderVimeo();break;default:r=this.renderSource()}return this.videoEl=r,r},t.prototype.renderSource=function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},t.prototype.renderYoutube=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},t.prototype.renderYoutubeNoCookie=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},t.prototype.renderVimeo=function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},t.prototype.initVideoEl=function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},t.prototype.render=function(){yo.prototype.render.apply(this),this.updateClasses();var e=this.model.get("provider");return this.el.appendChild(this.renderByProvider(e)),this.updateVideo(),this},t})(g2);const MOe=IOe;var FOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),DOe=(function(n){FOe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.tagName=function(){return"div"},t})(yo);const UOe=DOe;var LOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),da=function(){return da=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},da.apply(this,arguments)},VOe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},NOe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},Og;(function(n){n[n.InvalidSource=0]="InvalidSource",n[n.SourceReject=1]="SourceReject",n[n.TargetReject=2]="TargetReject"})(Og||(Og={}));var ROe=(function(n){LOe(t,n);function t(e){var r=n.call(this,e,"DomComponents",new u_(void 0,{em:e}),Ur.I,Rke())||this;r.componentTypes=[{id:Ei.collectionItem,model:cI,view:yo},{id:Ei.conditionTrue,model:cI,view:yo},{id:Ei.conditionFalse,model:cI,view:yo},{id:Ei.collection,model:_ke,view:Ike},{id:Ei.condition,model:lke,view:Dke},{id:Ei.variable,model:ike,view:Vke},{id:"cell",model:CTe,view:gOe},{id:"row",model:ITe,view:BOe},{id:"table",model:gTe,view:OOe},{id:"thead",model:TTe,view:SOe},{id:"tbody",model:v2,view:pOe},{id:"tfoot",model:ETe,view:wOe},{id:"map",model:sTe,view:sOe},{id:"link",model:oTe,view:pX},{id:"label",model:tTe,view:oOe},{id:"video",model:DTe,view:MOe},{id:"image",model:p2,view:g2},{id:"script",model:cTe,view:cOe},{id:"svg-in",model:pTe,view:U3},{id:"svg",model:fX,view:U3},{id:"iframe",model:Gke,view:YTe},{id:"comment",model:Kke,view:WTe},{id:"textnode",model:dX,view:AX},{id:ey,model:IBe,view:yo},{id:"wrapper",model:VTe,view:UOe},{id:"text",model:m2,view:hX},{id:"default",model:Ai,view:yo}],r.componentsById={},r.Component=Ai,r.Components=u_,r.ComponentView=yo,r.ComponentsView=cX,r.storageKey="components",r.keySymbols="symbols",r.events=Ur.I;var o=r.config;r.symbols=new HTe([],{em:e,config:o,domc:r}),e&&(r.config.components=e.config.components||r.config.components);var i=r.config.pStylePrefix;if(i&&(r.config.stylePrefix=i+r.config.stylePrefix),e){e.get("Parser").compTypes=r.componentTypes,e.on("change:componentHovered",r.componentHovered,r);var a=e.get("selected");e.listenTo(a,"add",function(s,l,u){return r.selectAdd(a.getComponent(s),u)}),e.listenTo(a,"remove",function(s,l,u){return r.selectRemove(a.getComponent(s),u)})}return r}return t.prototype.postLoad=function(){var e=this,r=e.em,o=e.symbols,i=r.UndoManager;i.add(o)},t.prototype.load=function(e){var r=this,o=this.loadProjectData(e,{onResult:function(i){var a=r.getWrapper();if(a||(r.em.Pages.add({},{select:!0}),a=r.getWrapper()),(0,oe.isArray)(i))i.length&&a.components(i);else{var s=i.components,l=s===void 0?[]:s,u=VOe(i,["components"]);a.set(u),a.components(l)}}});return this.symbols.reset(e[this.keySymbols]||[]),o},t.prototype.store=function(){var e;return e={},e[this.keySymbols]=this.symbols,e},t.prototype.getComponent=function(){var e=this.em.Pages.getSelected(),r=e==null?void 0:e.getMainFrame();return r==null?void 0:r.getComponent()},t.prototype.getWrapper=function(){return this.getComponent()},t.prototype.getComponents=function(){var e=this.getWrapper();return e==null?void 0:e.components()},t.prototype.addComponent=function(e,r){return r===void 0&&(r={}),this.getComponents().add(e,r)},t.prototype.render=function(){var e;return(e=this.componentView)===null||e===void 0?void 0:e.render().el},t.prototype.clear=function(e){e===void 0&&(e={});var r=this.getComponents();return r==null||r.filter(Boolean).forEach(function(o){return o.remove(e)}),this},t.prototype.setComponents=function(e,r){r===void 0&&(r={}),this.clear(r).addComponent(e,r)},t.prototype.addType=function(e,r){var o=this.em,i=r.model,a=i===void 0?{}:i,s=r.view,l=s===void 0?{}:s,u=r.isComponent,c=r.extend,d=r.extendView,f=r.extendFn,h=f===void 0?[]:f,p=r.extendFnView,v=p===void 0?[]:p,g=r.block,_=this.getType(e),S=this.getType(c),y=this.getType(d),C=S||_||this.getType("default"),T=C.model,P=y?y.view:C.view,F=function($,Q,J){return $.reduce(function(R,ne){var ue=Q[ne],we=J.prototype[ne];return ue&&we&&(R[ne]=function(){for(var Be=[],We=0;We<arguments.length;We++)Be[We]=arguments[We];we.bind(this).apply(void 0,Be),ue.bind(this).apply(void 0,Be)}),R},{})};if(typeof a=="object"){var I={defaults:a.defaults};delete a.defaults;var k=new Set(T.typeExtends);k.add(T.getDefaults().type),r.model=T.extend(da(da({},a),F(h,a,T)),{typeExtends:k,isComponent:_&&!S&&!u?T.isComponent:u||(function(){return 0})}),Object.defineProperty(r.model.prototype,"defaults",{get:function(){return da(da({},(0,oe.result)(T.prototype,"defaults")||{}),(0,oe.result)(I,"defaults")||{})}})}if(typeof l=="object"&&(r.view=P.extend(da(da({},l),F(v,l,P)))),_?(_.model=r.model,_.view=r.view):(r.id=e,this.componentTypes.unshift(r)),g){var M={id:e,label:e,content:{type:e}},V=g===!0?M:da(da({},M),g);o.Blocks.add(V.id||e,V)}var U="component:type:".concat(_?"update":"add");return o==null||o.trigger(U,_||r),this},t.prototype.getType=function(e){for(var r=this.componentTypes,o=0;o<r.length;o++){var i=r[o].id;if(i==e)return r[o]}},t.prototype.removeType=function(e){var r=this.componentTypes,o=this.getType(e);if(o){var i=r.indexOf(o);return r.splice(i,1),o}},t.prototype.getTypes=function(){return this.componentTypes},t.prototype.selectAdd=function(e,r){var o=this;r===void 0&&(r={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(i){return o.em.trigger(i,e,r)}))},t.prototype.selectRemove=function(e,r){var o=this;r===void 0&&(r={}),e&&(this.em,e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(i){return o.em.trigger(i,e,r)}))},t.prototype.componentHovered=function(){var e=this.em,r=e.get("componentHovered"),o=e.previous("componentHovered"),i="hovered";o&&o.get("status")==i&&o.set({status:"",state:""}),r&&(0,oe.isEmpty)(r.get("status"))&&r.set("status",i)},t.prototype.getShallowWrapper=function(){var e=this,r=e.shallow,o=e.em;if(!r&&o){var i=o.shallow;if(!i)return;var a=i.Components;if(a.componentTypes=this.componentTypes,r=a.getWrapper(),r){var s=[JS,_D].join(" ");r.on(s,(0,oe.debounce)(function(){return r==null?void 0:r.components("")},100))}this.shallow=r}return r},t.prototype.isComponent=function(e){return(0,At.isComponent)(e)},t.prototype.addSymbol=function(e){if(!((0,oe.isSymbol)(e)&&!$m(e))){var r=e.clone({symbol:!0});return Xp(r)&&this.symbols.add(r),this.em.trigger("component:toggled"),r}},t.prototype.getSymbols=function(){return NOe([],this.symbols.models,!0)},t.prototype.detachSymbol=function(e){OE(e)&&IT(e)},t.prototype.getSymbolInfo=function(e,r){r===void 0&&(r={});var o=Xp(e),i=Ku(e),a=!!i,s=Bl(o?e:i)||[],l=i||(o?e:void 0),u=Hf(e,{changed:r.withChanges}),c=o||a,d=c&&$m(e);return{isSymbol:c,isMain:o,isInstance:a,isRoot:d,main:l,instances:s,relatives:u||[]}},t.prototype.canMove=function(e,r,o){var i={result:!1,reason:Og.InvalidSource,target:e,source:null};if(!r||!e)return i;if(Lc(e)&&r instanceof Ai&&Lc(r)){var a=l_(e),s=Xp(a)?a:Ku(a),l=l_(r),u=Xp(l)?l:Ku(l),c=s===u,d=a!==l;if(c&&d)return da(da({},i),{reason:Og.TargetReject})}var f=(0,At.isComponent)(r)?r:null;if(!f){var h=this.getShallowWrapper();f=(h==null?void 0:h.append(r,{temporary:!0})[0])||null}if(i.source=f,!f)return i;var p=f.get("draggable");if((0,oe.isFunction)(p))p=!!p(f,e,o);else{var v=e.getEl();p=(0,oe.isArray)(p)?p.join(","):p,p=(0,oe.isString)(p)?v==null?void 0:v.matches(p):p}if(!p)return da(da({},i),{reason:Og.SourceReject});var g=e.get("droppable");if((0,oe.isFunction)(g))g=!!g(f,e,o);else if(g===!1&&e.isInstanceOf("text")&&f.get("textable"))g=!0;else{var v=f.getEl();g=(0,oe.isArray)(g)?g.join(","):g,g=(0,oe.isString)(g)?v==null?void 0:v.matches(g):g}var _=[e].concat(e.parents()).indexOf(f)>-1;return!g||_?da(da({},i),{reason:Og.TargetReject}):da(da({},i),{result:!0})},t.prototype.allById=function(){return this.componentsById},t.prototype.getById=function(e){return this.componentsById[e]||null},t.prototype.destroy=function(){var e,r=this.allById();Object.keys(r).forEach(function(o){return r[o]&&r[o].remove()}),(e=this.componentView)===null||e===void 0||e.remove(),[this.em,this.componentsById,this.componentView].forEach(function(o){return{}})},t})(pA);const HOe=ROe;var QOe=function(){return{stylePrefix:"css-",rules:[]}};const jOe=QOe;var $Oe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),KOe=Number.MAX_VALUE,WOe=function(n){var t=/(-?\d*\.?\d+)\w{0,}/.exec(n);return t?t[0]:""},zOe=(function(n){$Oe(t,n);function t(){var e=n.call(this)||this;return(0,oe.bindAll)(e,"sortRules"),e.compCls=[],e.ids=[],e}return t.prototype.buildFromModel=function(e,r){var o=this;r===void 0&&(r={});var i="",a=this.em,s=a&&a.getConfig().avoidInlineStyle,l=e.styleToString(),u=e.classes;this.ids.push("#".concat(e.getId())),u.forEach(function(d){return o.compCls.push(d.getFullName())}),!s&&l&&(i="#".concat(e.getId(),"{").concat(l,"}"));var c=e.components();return c.forEach(function(d){return i+=o.buildFromModel(d,r)}),i},t.prototype.build=function(e,r){var o=this;r===void 0&&(r={});var i=r.json,a=r.em,s=r.cssc||(a==null?void 0:a.Css);this.em=a,this.compCls=[],this.ids=[],this.model=e;var l=[],u=e?this.buildFromModel(e,r):"",c=(0,oe.isUndefined)(r.clearStyles)&&a?a.getConfig().clearStyles:r.clearStyles;if(s){var d=r.rules||s.getAll(),f={},h=[];r.onlyMatched&&e&&(0,At.hasWin)()&&(d=this.matchedRules(e,d)),d.forEach(function(p){var v=p.getAtRule();if(v){var g=f[v];g?g.push(p):f[v]=[p];return}var _=o.buildFromRule(p,h,r);i?l.push(_):u+=_}),this.sortMediaObject(f).forEach(function(p){var v="",g=p.key,_=p.value;_.forEach(function(S){var y=o.buildFromRule(S,h,r);S.get("singleAtRule")?u+="".concat(g,"{").concat(y,"}"):v+=y,i&&l.push(y)}),v&&(u+="".concat(g,"{").concat(v,"}"))}),a&&c&&d.remove&&d.remove(h)}return i?l.filter(function(p){return p}):u},t.prototype.buildFromRule=function(e,r,o){var i=this,a;o===void 0&&(o={});var s="",l=this.model,u=e.selectorsToString({skipAdd:1}),c=e.get("selectorsAdd"),d=e.get("singleAtRule"),f;if((a=e.get("selectors"))===null||a===void 0||a.forEach(function(p){var v=p.getFullName();(i.compCls.indexOf(v)>=0||i.ids.indexOf(v)>=0||o.keepUnusedStyles)&&(f=1)}),u&&f||c||d||!l){var h=e.getDeclaration();h&&(o.json?s=e:s+=h)}else r.push(e);return s},t.prototype.matchedRules=function(e,r){var o=this,i=e.getEl(),a=[];return r.forEach(function(s){try{s.selectorsToString().split(",").some(function(l){return i==null?void 0:i.matches(o.__cleanSelector(l))})&&a.push(s)}catch{}}),e.components().forEach(function(s){a=a.concat(o.matchedRules(s,r))}),a=a.filter(function(s,l){return a.indexOf(s)===l}),a},t.prototype.getQueryLength=function(e){var r=/(-?\d*\.?\d+)\w{0,}/.exec(e);return r?parseFloat(r[1]):KOe},t.prototype.sortMediaObject=function(e){var r=this;e===void 0&&(e={});var o=[];return(0,oe.each)(e,function(i,a){return o.push({key:a,value:i})}),o.sort(function(i,a){var s=[i.key,a.key].every(function(c){return c.indexOf("min-width")!==-1}),l=s?i.key:a.key,u=s?a.key:i.key;return r.getQueryLength(l)-r.getQueryLength(u)})},t.prototype.sortRules=function(e,r){var o=function(l){return l.get("mediaText")||""},i=[o(e),o(r)].every(function(l){return l.indexOf("min-width")!==-1}),a=o(i?e:r),s=o(i?r:e);return this.getQueryLength(a)-this.getQueryLength(s)},t.prototype.__cleanSelector=function(e){return e.split(" ").map(function(r){return r.split(":")[0]}).join(" ")},t})(Qt.Kx);const GOe=zOe;var YOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ED=function(){return ED=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},ED.apply(this,arguments)},XOe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},_I=((0,At.hasWin)()?window:{}).CSS,JOe=(function(n){YOe(t,n);function t(e,r){r===void 0&&(r={});var o=n.call(this,e,{em:r.em})||this;return o.views=[],o.config=e||{},o.opt=r,o.em=r.em,o.ensureSelectors(null,null,{}),o.setStyle(o.get("style"),{skipWatcherUpdates:!0}),o.on("change",o.__onChange),o}return t.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},t.prototype.__onChange=function(e,r){var o=this.em,i=this.changedAttributes();i&&!(0,At.isEmptyObj)(i)&&(o==null||o.changesUp(r,{rule:e,changed:i,options:r}))},t.prototype.clone=function(){var e=this.get("selectors").map(function(r){return r.clone()});return n.prototype.clone.call(this,{selectors:e})},t.prototype.ensureSelectors=function(e,r,o){var i=this.em,a=i==null?void 0:i.Selectors,s=[this,"change:selectors",this.ensureSelectors],l=this.getSelectors();if(this.stopListening.apply(this,s),l.models&&(l=XOe([],l.models,!0)),l=(0,oe.isString)(l)?[l]:l,Array.isArray(l)){var u=l.filter(function(c){return c}).map(function(c){return a?a.add(c):c});l=new fh(u)}this.set("selectors",l,o),this.listenTo.apply(this,s)},t.prototype.getAtRule=function(){return t.getAtRuleFromProps(this.attributes)},t.getAtRuleFromProps=function(e){var r=e.atRuleType,o=e.mediaText,i=r?"@".concat(r):o?"@media":"";return i+(o&&i?" ".concat(o):"")},t.prototype.selectorsToString=function(e){e===void 0&&(e={});var r=[],o=this.get("state"),i=this.get("selectorsAdd"),a={escape:function(u){return _I&&_I.escape?_I.escape(u):u}},s=this.getSelectors().getFullString(0,a),l=o&&!e.skipState?":".concat(o):"";return s&&r.push("".concat(s).concat(l)),i&&!e.skipAdd&&r.push(i),r.join(", ")},t.prototype.getDeclaration=function(e){e===void 0&&(e={});var r="",o=this.attributes.important,i=this.selectorsToString(e),a=this.styleToString(ED({important:o},e)),s=this.get("singleAtRule");return(i||s)&&(a||e.allowEmpty)&&(r=s?a:"".concat(i,"{").concat(a,"}")),r},t.prototype.getDevice=function(){var e=this.em,r=this.attributes,o=r.atRuleType,i=r.mediaText,a=(e==null?void 0:e.Devices.getDevices())||[],s=a.filter(function(l){return l.getWidthMedia()===""})[0];return o!=="media"||!i?s||null:a.filter(function(l){return l.getWidthMedia()===WOe(i)})[0]||null},t.prototype.getState=function(){var e=this.em,r=this.get("state"),o=(e==null?void 0:e.Selectors.getStates())||[];return o.filter(function(i){return i.getName()===r})[0]||null},t.prototype.getComponent=function(){var e,r=this.getSelectors(),o=r.length==1&&r.at(0),i=o&&o.isId()&&o.get("name");return i&&((e=this.em)===null||e===void 0?void 0:e.Components.getById(i))||null},t.prototype.toCSS=function(e){e===void 0&&(e={});var r="",o=this.getAtRule(),i=this.getDeclaration(e);return(i||e.allowEmpty)&&(r=i),o&&r&&(r="".concat(o,"{").concat(r,"}")),r},t.prototype.toJSON=function(e){var r,o=n.prototype.toJSON.call(this,e);if(!((r=this.em)===null||r===void 0)&&r.getConfig().avoidDefaults){var i=this.defaults();(0,oe.forEach)(i,function(a,s){o[s]===a&&delete o[s]}),delete o.style.__p,(0,oe.isEmpty)(o.selectors)&&delete o.selectors,(0,oe.isEmpty)(o.style)&&delete o.style}return o},t.prototype.compare=function(e,r,o,i){var a;i===void 0&&(i={});var s=r||"",l=o||"",u=i.selectorsAdd||"",c=i.atRuleType||"",d=!(0,oe.isArray)(e)&&!e.models?[e]:e.models||e;l&&!c&&(c="media");var f=d.map(function(g){return g.getFullName()}),h=(a=this.get("selectors"))===null||a===void 0?void 0:a.map(function(g){return g.getFullName()}),p=f.slice().sort(),v=h.slice().sort();return!(f.length!==h.length||!p.every(function(g,_){return g===v[_]})||this.get("state")!==s||this.get("mediaText")!==l||this.get("selectorsAdd")!==u||this.get("atRuleType")!==c)},t})(Y7);const BD=JOe;var ZOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),mX=(function(n){ZOe(t,n);function t(e,r){var o=n.call(this,e)||this;return o.editor=r==null?void 0:r.em,setTimeout(function(){o.on("remove",o.onRemove),o.on("add",o.onAdd)}),o}return t.prototype.toJSON=function(e){var r=Qt.pM.prototype.toJSON.call(this,e);return r.filter(function(o){return o.style&&!o.shallow})},t.prototype.onAdd=function(e,r,o){e.ensureSelectors(e,r,o)},t.prototype.onRemove=function(e){var r=this.editor;r.stopListening(e),r.UndoManager.remove(e)},t.prototype.add=function(e,r){return r===void 0&&(r={}),typeof e=="string"&&(e=this.editor.get("Parser").parseCss(e)),r.em=this.editor,Qt.pM.prototype.add.apply(this,[e,r])},t})(Qt.pM);const L3=mX;mX.prototype.model=BD;var qOe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),_c=function(){return _c=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},_c.apply(this,arguments)},ePe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},tPe=(function(n){qOe(t,n);function t(e){var r=n.call(this,e,"CssComposer",null,Sy,jOe())||this;r.classes={CssRule:BD,CssRules:L3,CssRuleView:A2,CssRulesView:vD},r.events=Sy,r.Selectors=fh,r.storageKey="styles",r._itemCache=new Map;var o=r.config,i=o.pStylePrefix;return i&&(o.stylePrefix=i+o.stylePrefix),o.rules=r.em.config.style||o.rules||"",r.rules=new L3([],o),r._setupCacheListeners(),r}return t.prototype._setupCacheListeners=function(){n.prototype._setupCacheListeners.call(this),this.em.listenTo(this.rules,"change:selectors change:state change:mediaText",this._onItemKeyChange.bind(this))},t.prototype._makeCacheKey=function(e){var r=e.getAtRule(),o=e.selectorsToString();return"".concat(r,"__").concat(o)},t.prototype._makeCacheKeyFromProps=function(e){var r=e.atRuleType,o=r===void 0?"":r,i=e.mediaText,a=i===void 0?"":i,s=e.state,l=s===void 0?"":s,u=e.selectorsAdd,c=u===void 0?"":u,d=e.selectors,f=d===void 0?[]:d,h=f.map(function(S){return(0,oe.isString)(S)?S:S.toString()}).join(""),p=[];h&&p.push("".concat(h).concat(l?":".concat(l):"")),c&&p.push(c);var v=p.join(", "),g=o?"@".concat(o):a?"@media":"",_=g+(a&&g?" ".concat(a):"");return"".concat(_,"__").concat(v)},t.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0}),this._onItemsResetCache(this.rules)},t.prototype.postLoad=function(){this.em.UndoManager.add(this.getAll())},t.prototype.store=function(){return this.getProjectData()},t.prototype.load=function(e){return this.loadProjectData(e,{all:this.rules})},t.prototype._findRule=function(e,r,o,i){var a=e;if((0,oe.isString)(e)){var s=this.em.Selectors,l=e.split(",")[0].trim(),u=this.em.Parser.parserCss.checkNode({selectors:l})[0];a=s.get(u.selectors)}var c=this.rules.find(function(d){return d.compare(a,r,o,i)})||null;return c},t.prototype.add=function(e,r,o,i,a){i===void 0&&(i={}),a===void 0&&(a={});var s=r||"",l=o||"",u=_c({},i),c=this._makeCacheKeyFromProps(_c(_c({state:s,mediaText:l},u),{selectors:Array.isArray(e)?e:[e]})),d=this._itemCache.get(c);if(d&&d.config&&!d.config.singleAtRule)return d;var f=this._findRule(e,s,l,u);return f&&f.config&&!f.config.singleAtRule?(this._cacheItem(f),f):(u.state=s,u.mediaText=l,u.selectors=[],l&&!u.atRuleType&&(u.atRuleType="media"),f=new BD(u,this.config),f.get("selectors").add(e,a),this.rules.add(f,a),this._cacheItem(f),f)},t.prototype.get=function(e,r,o,i){var a=this._makeCacheKeyFromProps(_c(_c({},i),{selectors:Array.isArray(e)?e:[e],state:r,width:o,mediaText:o})),s=this._itemCache.get(a);if(s)return s;var l=this._findRule(e,r,o,i);return l&&this._cacheItem(l),l},t.prototype.getAll=function(){return this.rules},t.prototype.addCollection=function(e,r,o){r===void 0&&(r={}),o===void 0&&(o={});var i=this.em,a=[];(0,oe.isString)(e)&&(e=i.Parser.parseCss(e));for(var s=e instanceof Array?e:[e],l=0,u=s.length;l<u;l++){var c=s[l]||{};if(c.selectors){var d=i==null?void 0:i.Selectors;d||console.warn("Selector Manager not found");for(var f=c.selectors,h=f instanceof Array?f:[f],p=[],v=0,g=h.length;v<g;v++){var _=d.add(h[v]);p.push(_)}var S=this.get(p,c.state,c.mediaText,c),y=this.add(p,c.state,c.mediaText,c,r),C=!S||!r.avoidUpdateStyle,T=c.style||{};if((0,At.isObject)(o)&&y.set(o,r),C){var P=r.extend?_c(_c({},y.getStyle("",{skipResolve:!0})),T):T;y.setStyle(P,r)}a.push(y)}}return a},t.prototype.addRules=function(e){return this.addCollection(e)},t.prototype.setRule=function(e,r,o){r===void 0&&(r={}),o===void 0&&(o={});var i=o.atRuleType,a=o.atRuleParams,s=this.em.Parser.parserCss.checkNode({selectors:e,style:r})[0],l=s.state,u=s.selectorsAdd,c=this.em.Selectors,d=c.add(s.selectors),f=this.add(d,l,a,{selectorsAdd:u,atRule:i});return o.addStyles?f.addStyle(r,o):f.setStyle(r,o),f},t.prototype.getRule=function(e,r){r===void 0&&(r={});var o=this.em,i=o.Selectors,a=o.Parser.parserCss.checkNode({selectors:e})[0],s=i.get(a.selectors),l=a.state,u=a.selectorsAdd,c=r.atRuleType,d=r.atRuleParams;return s?this.get(s,l,d,{selectorsAdd:u,atRuleType:c}):void 0},t.prototype.getRules=function(e){var r=this.getAll();if(!e)return ePe([],r.models,!0);var o={sort:!0},i=(0,oe.isString)(e)?e.split(",").map(function(s){return s.trim()}):e,a=r.filter(function(s){return i.indexOf(s.getSelectors().getFullString(null,o))>=0});return a},t.prototype.setIdRule=function(e,r,o){r===void 0&&(r={}),o===void 0&&(o={});var i=o.addOpts,a=i===void 0?{}:i,s=o.mediaText,l=o.state||"",u=(0,oe.isUndefined)(s)?this.em.getCurrentMedia():s,c=this.em.Selectors,d=c.add({name:e,type:Hs.TYPE_ID},a),f=this.add(d,l,u,{},a);return f.setStyle(r,_c(_c({},o),a)),f},t.prototype.getIdRule=function(e,r){r===void 0&&(r={});var o=r.mediaText,i=r.state||"",a=(0,oe.isUndefined)(o)?this.em.getCurrentMedia():o,s=this.em.Selectors.get(e,Hs.TYPE_ID);return s&&this.get(s,i,a)},t.prototype.setClassRule=function(e,r,o){r===void 0&&(r={}),o===void 0&&(o={});var i=o.state||"",a=o.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors,l=s.add({name:e,type:Hs.TYPE_CLASS}),u=this.add(l,i,a);return u.setStyle(r,o),u},t.prototype.getClassRule=function(e,r){r===void 0&&(r={});var o=r.state||"",i=r.mediaText||this.em.getCurrentMedia(),a=this.em.Selectors.get(e,Hs.TYPE_CLASS);return a&&this.get(a,o,i)},t.prototype.remove=function(e,r){var o=(0,oe.isString)(e)?this.getRules(e):e,i=Array.isArray(o)?o:[o],a=this.getAll().remove(i,r);return Array.isArray(a)?a:[a]},t.prototype.clear=function(e){return e===void 0&&(e={}),this._clearItemCache(),this.getAll().reset([],e),this},t.prototype.getComponentRules=function(e,r){r===void 0&&(r={});var o=r.state,i=r.mediaText,a=r.current;a&&(o=this.em.get("state")||"",i=this.em.getCurrentMedia());var s=e.getId(),l=this.getAll().filter(function(u){return!(0,oe.isUndefined)(o)&&u.get("state")!==o||!(0,oe.isUndefined)(i)&&u.get("mediaText")!==i?!1:u.getSelectorsString()==="#".concat(s)});return l},t.prototype.render=function(){var e;return(e=this.rulesView)===null||e===void 0||e.remove(),this.rulesView=new vD({collection:this.rules,config:this.config}),this.rulesView.render().el},t.prototype.checkId=function(e,r){r===void 0&&(r={});var o=r.idMap,i=o===void 0?{}:o,a=[];if(!Object.keys(i).length)return a;var s=Array.isArray(e)?e:[e];return s.forEach(function(l){var u=l.selectors;if(u&&u.length==1){var c=u[0];if((0,oe.isString)(c)){if(c[0]==="#"){var d=c.substring(1),f=i[d];d&&f&&(u[0]="#".concat(f),a.push(l))}}else if(c.name&&c.type===Hs.TYPE_ID){var f=i[c.name];f&&(c.name=f,a.push(l))}}}),a},t.prototype.destroy=function(){var e;this.rules.reset(),this.rules.stopListening(),(e=this.rulesView)===null||e===void 0||e.remove()},t})(pA);const nPe=tPe;var rPe=function(){return{appendTo:"",blocks:[],appendOnClick:!1,custom:!1}};const oPe=rPe;var iPe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),aPe=(function(n){iPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{},dragDef:{}}},Object.defineProperty(t.prototype,"category",{get:function(){var e=this.get("category");return e instanceof oC?e:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.id},t.prototype.getLabel=function(){return this.get("label")},t.prototype.getMedia=function(){return this.get("media")},t.prototype.getContent=function(){return this.get("content")},t.prototype.getDragDef=function(){return this.get("dragDef")},t.prototype.getCategoryLabel=function(){var e=this.get("category");return(0,oe.isFunction)(e==null?void 0:e.get)?e.get("label"):e!=null&&e.label?e==null?void 0:e.label:e},t})(Qt.Kx);const vX=aPe;var sPe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),gX=(function(n){sPe(t,n);function t(e,r){var o=n.call(this,e)||this;return o.em=r.em,o.on("add",o.handleAdd),o}return t.prototype.getCategories=function(){return this.em.Blocks.getCategories()},t.prototype.handleAdd=function(e){this.initCategory(e)},t})(eX);const j1=gX;gX.prototype.model=vX;var jb;(function(n){n.add="block:add",n.remove="block:remove",n.removeBefore="block:remove:before",n.update="block:update",n.dragStart="block:drag:start",n.drag="block:drag",n.dragEnd="block:drag:stop",n.categoryUpdate="block:category:update",n.custom="block:custom",n.all="block"})(jb||(jb={}));var lPe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Pg=function(){return Pg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Pg.apply(this,arguments)},uPe=(function(n){lPe(t,n);function t(e,r){r===void 0&&(r={});var o=n.call(this,e)||this,i=o.model;return o.em=r.em,o.config=r,o.endDrag=o.endDrag.bind(o),o.ppfx=r.pStylePrefix||"",o.listenTo(i,"destroy remove",o.remove),o.listenTo(i,"change",o.render),o}return t.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},t.prototype.__getModule=function(){return this.em.Blocks},t.prototype.handleClick=function(e){var r,o,i=this,a=i.config,s=i.model,l=i.em,u=s.get("onClick")||a.appendOnClick;if(l.trigger("block:click",s,e),u){if((0,oe.isFunction)(u))return u(s,l==null?void 0:l.getEditor(),{event:e})}else return;var c=(r=a.getSorter)===null||r===void 0?void 0:r.call(a);if(c){var d=s.get("content"),f=this.getTempDropModel(d),h=(o=f.view)===null||o===void 0?void 0:o.el,p=h?[{element:h,dragSource:{content:d}}]:[],v=l.getSelected(),g,_,S,y=0;if(v)if(_=c.validTarget(v.getEl(),p,y),_)g=v;else{var C=v.parent();C&&(_=c.validTarget(C.getEl(),p,y),_&&(g=C,S=C.components().indexOf(v)+1))}if(!g){var T=l.getWrapper();_=c.validTarget(T.getEl(),p,y),_&&(g=T)}var P=g&&g.append(d,{at:S})[0];P&&l.setSelected(P,{scroll:!0})}},t.prototype.startDrag=function(e){var r,o=this,i=o.config,a=o.em,s=o.model,l=s.get("disable");if(!(e.button!==0||!i.getSorter||this.el.draggable||l)){a.refreshCanvas();var u=i.getSorter();u.__currentBlock=s;var c=this.model.get("content"),d=this.getTempDropModel(c),f=(r=d.view)===null||r===void 0?void 0:r.el,h=f?[{element:f,dragSource:{content:c}}]:[];u.startSort(h),(0,Gt.on)(document,"mouseup",this.endDrag)}},t.prototype.handleDragStart=function(e){this.__getModule().__startDrag(this.model,e)},t.prototype.handleDrag=function(e){this.__getModule().__drag(e)},t.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},t.prototype.endDrag=function(){var e,r;(0,Gt.AU)(document,"mouseup",this.endDrag);var o=(r=(e=this.config).getSorter)===null||r===void 0?void 0:r.call(e);o&&o.endDrag()},t.prototype.getTempDropModel=function(e){var r,o=this.em.Components.getComponents(),i={avoidChildren:1,avoidStore:1,avoidUpdateStyle:1},a=o.add(e,Pg(Pg({},i),{temporary:!0})),s=o.remove(a,Pg(Pg({},i),{temporary:!0}));return s=s instanceof Array?s[0]:s,(r=s.view)===null||r===void 0||r.$el.data("model",s),s},t.prototype.render=function(){var e,r=this,o=r.em,i=r.el,a=r.$el,s=r.ppfx,l=r.model,u=l.get("disable"),c=l.get("attributes")||{},d=c.class||"",f="".concat(s,"block"),h=o&&o.t("blockManager.labels.".concat(l.id))||l.get("label"),p=l.get("render"),v=l.get("media"),g=u?"".concat(f,"--disable"):"".concat(s,"four-color-h");a.attr(c),i.className="".concat(d," ").concat(f," ").concat(s,"one-bg ").concat(g).trim(),i.innerHTML=`
      `.concat(v?'<div class="'.concat(f,'__media">').concat(v,"</div>"):"",`
      <div class="`).concat(f,'-label">').concat(h,`</div>
    `),i.title=c.title||((e=i.textContent)===null||e===void 0?void 0:e.trim()),i.setAttribute("draggable","".concat(!!((0,At.hasDnd)(o)&&!u)));var _=p&&p({el:i,model:l,className:f,prefix:s});return _&&(i.innerHTML=_),this},t})(Qt.Ss);const cPe=uPe;var dPe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),fPe=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},APe=(function(n){dPe(t,n);function t(e,r,o){var i=n.call(this,e)||this;i.config=r;var a=r.pStylePrefix||"";return i.em=r.em,i.catName=o,i.pfx=a,i.caretR="fa fa-caret-right",i.caretD="fa fa-caret-down",i.iconClass="".concat(a,"caret-icon"),i.activeClass="".concat(a,"open"),i.className="".concat(a).concat(o,"-category"),i.listenTo(i.model,"change:open",i.updateVisibility),i.model.view=i,i}return t.prototype.events=function(){return{"click [data-title]":"toggle"}},t.prototype.template=function(e){var r=e.pfx,o=e.label,i=e.catName;return xl(V3||(V3=fPe([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),r,r,o,r,i)},t.prototype.attributes=function(){return this.model.get("attributes")||{}},t.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},t.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},t.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},t.prototype.toggle=function(){var e=this.model;e.set("open",!e.get("open"))},t.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},t.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},t.prototype.append=function(e){this.getTypeEl().appendChild(e)},t.prototype.render=function(){var e=this,r=e.em,o=e.el,i=e.$el,a=e.model,s=e.pfx,l=e.catName,u=r.t("".concat(l,"Manager.categories.").concat(a.id))||a.get("label");return o.innerHTML=this.template({pfx:s,label:u,catName:l}),i.addClass(this.className),i.css({order:a.get("order")}),this.updateVisibility(),this},t})(Qt.Ss);const yX=APe;var V3,hPe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),lB=function(){return lB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},lB.apply(this,arguments)},pPe=(function(n){hPe(t,n);function t(e,r){var o=n.call(this,e)||this;o.renderedCategories=new Map,(0,oe.bindAll)(o,"getSorter","onDrag","onDrop","onMove"),o.config=r||{},o.categories=e.categories||"";var i=o.config.pStylePrefix||"";o.ppfx=i,o.noCatClass="".concat(i,"blocks-no-cat"),o.blockContClass="".concat(i,"blocks-c"),o.catsClass="".concat(i,"block-categories");var a=o.collection;return o.listenTo(a,"add",o.addTo),o.listenTo(a,"reset",o.render),o.em=o.config.em,o.em&&(o.config.getSorter=o.getSorter),o}return t.prototype.__getModule=function(){return this.em.Blocks},t.prototype.updateConfig=function(e){e===void 0&&(e={}),this.config=lB(lB({},this.config),e)},t.prototype.getSorter=function(){var e=this.em;if(e){if(!this.sorter){var r=e.Utils,o=e.Canvas;this.sorter=new r.ComponentSorter({em:e,treeClass:oX,containerContext:{container:o.getBody(),containerSel:"*",itemSel:"*",pfx:this.ppfx,placeholderElement:o.getPlacerEl(),document:o.getBody().ownerDocument},dragBehavior:{dragDirection:Km.A.BothDirections,nested:!0},positionOptions:{windowMargin:1,canvasRelative:!0},eventHandlers:{legacyOnStartSort:this.onDrag,legacyOnEndMove:this.onDrop,legacyOnMoveClb:this.onMove}})}return this.sorter}},t.prototype.onDrag=function(e){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,e)},t.prototype.onMove=function(e){this.__getModule().__drag(e)},t.prototype.onDrop=function(e){this.em.runDefault(),this.__getModule().__endDrag({component:e}),delete this.sorter.__currentBlock},t.prototype.addTo=function(e){this.add(e)},t.prototype.add=function(e,r){var o=this,i=o.config,a=o.renderedCategories,s=e.get("attributes"),l=new cPe({model:e,attributes:s},i),u=l.render().el,c=e.parent.initCategory(e);if(c&&this.categories&&!i.ignoreCategories){var d=c.getId(),f=this.getCategoriesEl(),h=a.get(d);!h&&f&&(h=new yX({model:c},i,"block").render(),a.set(d,h),f.appendChild(h.el)),h==null||h.append(u);return}r?r.appendChild(u):this.append(u)},t.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},t.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},t.prototype.append=function(e){var r=this.getBlocksEl();r&&r.appendChild(e)},t.prototype.render=function(){var e=this,r=this.ppfx,o=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(a){return e.add(a,o)}),this.append(o);var i="".concat(this.blockContClass,"s ").concat(r,"one-bg ").concat(r,"two-color");return this.$el.addClass(i),this.rendered=!0,this},t})(Qt.Ss);const N3=pPe;var mPe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),JA=function(){return JA=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},JA.apply(this,arguments)},vPe=(function(n){mPe(t,n);function t(e){var r=n.call(this,e,"BlockManager",new j1([],{em:e}),jb,oPe())||this;return r.events=jb,r.Block=vX,r.Blocks=j1,r.Category=oC,r.Categories=ME,r.storageKey="",r.blocks=r.all,r.blocksVisible=new j1(r.blocks.models,{em:e}),r.categories=new ME([],{em:e,events:{update:jb.categoryUpdate}}),r.__onAllEvent=(0,oe.debounce)(function(){return r.__trgCustom()},0),r}return t.prototype.onInit=function(){var e=this,r=e.config,o=e.blocks,i=e.blocksVisible;o.on("add",function(a){return i.add(a)}),o.on("remove",function(a){return i.remove(a)}),o.on("reset",function(a){return i.reset(a.models)}),o.add(r.blocks||[])},t.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},t.prototype.__customData=function(){var e=this,r=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:r.container,dragStart:function(o,i){return e.startDrag(o,i)},drag:function(o){return e.__drag(o)},dragStop:function(o){return e.endDrag(o)}}},t.prototype.__startDrag=function(e,r){var o=this,i=o.em,a=o.events,s=o.blocks,l=e.getContent?e.getContent():e;this._dragBlock=e,i.set({dragResult:null,dragSource:{content:l,dragDef:e.getDragDef()}}),[i,s].map(function(u){return u.trigger(a.dragStart,e,r)})},t.prototype.__drag=function(e){var r=this,o=r.em,i=r.events,a=r.blocks,s=this._dragBlock;[o,a].map(function(l){return l.trigger(i.drag,s,e)})},t.prototype.__endDrag=function(e){e===void 0&&(e={});var r=this,o=r.em,i=r.events,a=r.blocks,s=this._dragBlock,l=e.component||o.get("dragResult");if(delete this._dragBlock,l&&s){var u="activeOnRender",c=l.get&&l.get(u),d=s.get("activate")||c,f=s.get("select"),h=(0,oe.isArray)(l)?l[0]:l,p=f||d&&f!==!1;p?o.setSelected(h,{activate:d}):d&&h.trigger("active"),d&&c&&h.unset(u),s.get("resetId")&&h.onAll(function(v){return v.resetId()})}o.set({dragResult:null,dragSource:void 0}),s&&[o,a].map(function(v){return v.trigger(i.dragEnd,l,s)})},t.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(e){return e.view}).filter(Boolean)},t.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=JA(JA({},this._bhv||{}),e)},t.prototype.__getBehaviour=function(){return this._bhv||{}},t.prototype.startDrag=function(e,r){this.__startDrag(e,r),this.__getFrameViews().forEach(function(o){var i;return(i=o.droppable)===null||i===void 0?void 0:i.startCustom()})},t.prototype.endDrag=function(e){this.__getFrameViews().forEach(function(r){var o;return(o=r.droppable)===null||o===void 0?void 0:o.endCustom(e)}),this.__endDrag()},t.prototype.postRender=function(){var e=this,r=e.categories,o=e.config,i=e.em,a=this.blocksVisible;this.blocksView=new N3({collection:a,categories:r},JA(JA({},o),{em:i})),this.__appendTo(a.models),this.__trgCustom()},t.prototype.add=function(e,r,o){o===void 0&&(o={});var i=r||{};return i.id=e,this.blocks.add(i,o)},t.prototype.get=function(e){return this.blocks.get(e)},t.prototype.getAll=function(){return this.blocks},t.prototype.getAllVisible=function(){return this.blocksVisible},t.prototype.remove=function(e,r){return r===void 0&&(r={}),this.__remove(e,r)},t.prototype.getCategories=function(){return this.categories},t.prototype.getContainer=function(){var e;return(e=this.blocksView)===null||e===void 0?void 0:e.el},t.prototype.getDragBlock=function(){return this._dragBlock},t.prototype.getBlocksByCategory=function(e){return q7(e||this.getAll().models)},t.prototype.render=function(e,r){r===void 0&&(r={});var o=this,i=o.categories,a=o.config,s=o.em,l=e||this.getAll().models;if(r.external){var u=new j1(l,{em:s});return new N3({collection:u,categories:i},JA(JA({em:s},a),r)).render().el}return this.blocksView&&(this.blocksView.updateConfig(r),this.blocksView.collection.reset(l),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},t.prototype.destroy=function(){var e,r=[this.blocks,this.blocksVisible,this.categories];r.map(function(o){return o.stopListening()}),r.map(function(o){return o.reset()}),(e=this.blocksView)===null||e===void 0||e.remove()},t})(pA);const gPe=vPe;var yPe=function(){return{stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1}};const bPe=yPe;var wPe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),bX=(function(n){wPe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{name:"",label:""}},t.prototype.getName=function(){return this.get("name")},t.prototype.getLabel=function(){return this.get("label")||this.getName()},t})(Qt.Kx);const CI=bX;bX.prototype.idAttribute="name";var uB;(function(n){n.add="selector:add",n.remove="selector:remove",n.removeBefore="selector:remove:before",n.update="selector:update",n.state="selector:state",n.custom="selector:custom",n.all="selector"})(uB||(uB={}));var _Pe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),CPe=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},R3="contentEditable",SPe=(function(n){_Pe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this,o=e.config||{};return r.config=o,r.module=e.module,r.coll=e.coll||null,r.pfx=o.stylePrefix||"",r.ppfx=o.pStylePrefix||"",r.em=o.em,r.listenTo(r.model,"change:active",r.updateStatus),r}return t.prototype.template=function(){var e=this,r=e.pfx,o=e.model,i=e.config,a=o.get("label")||"";return xl(H3||(H3=CPe([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),r,r,r,a,r,r,i.iconTagRemove)},t.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},t.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},t.prototype.startEditTag=function(){var e=this.em,r=this.getInputEl();r[R3]="true",r.focus(),e==null||e.setEditing(!0)},t.prototype.endEditTag=function(){var e=this,r=e.model,o=e.em,i=this.getInputEl(),a=i.textContent||"",s=o==null?void 0:o.Selectors;i[R3]="false",o==null||o.setEditing(!1),s&&s.rename(r,a)!==r&&(i.innerText=r.getLabel())},t.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.getActive())},t.prototype.removeTag=function(){this.module.removeSelected(this.model)},t.prototype.updateStatus=function(){var e=this,r=e.model,o=e.$el,i=e.config,a=i.iconTagOn,s=i.iconTagOff,l=o.find("[data-tag-status]");r.get("active")?(l.html(a),o.removeClass("opac50")):(l.html(s),o.addClass("opac50"))},t.prototype.render=function(){var e=this,r=e.pfx,o=e.ppfx,i=e.$el,a=e.model,s="".concat(r,"tag"),l=["".concat(s," ").concat(o,"three-bg")];return a.get("protected")&&l.push("".concat(s,"-protected")),i.html(this.template()),i.attr("class",l.join(" ")),this.updateStatus(),this},t})(Qt.Ss);const xPe=SPe;var H3,EPe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),K0=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},BPe=(function(n){EPe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.config=e.config||{},r.pfx=r.config.stylePrefix||"",r.ppfx=r.config.pStylePrefix||"",r.className=r.pfx+"tags",r.stateInputId=r.pfx+"states",r.stateInputC=r.pfx+"input-c",r.states=r.config.states||[];var o=r.config.em,i=r.collection;r.target=o;var a=o.Selectors;r.module=a,r.em=o,r.componentChanged=(0,oe.debounce)(r.componentChanged.bind(r),0),r.checkSync=(0,oe.debounce)(r.checkSync.bind(r),0);var s=Ur.I.update,l="".concat(s,":classes"),u="component:toggled ".concat(l),c="".concat(l," ").concat(s,":attributes:id change:state");return r.listenTo(o,u,r.componentChanged),r.listenTo(o,"styleManager:update",r.componentChanged),r.listenTo(o,c,r.__handleStateChange),r.listenTo(o,"styleable:change change:device",r.checkSync),r.listenTo(i,"add",r.addNew),r.listenTo(i,"reset",r.renderClasses),r.listenTo(i,"remove",r.tagRemoved),r.listenTo(a.getAll(),a.events.state,(0,oe.debounce)(function(){return r.renderStates()},0)),r.delegateEvents(),r}return t.prototype.template=function(e){var r=e.labelInfo,o=e.labelHead,i=e.iconSync,a=e.iconAdd,s=e.pfx,l=e.ppfx;return xl(Q3||(Q3=K0([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),s,s,s,s,o,s,s,s,l,l,l,s,l,l,s,l,s,s,s,s,s,a,s,s,i,s,s,r,s)},t.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},t.prototype.syncStyle=function(){var e=this.em,r=this.getTarget(),o=e.Css,i={noDisabled:1},a=this.getCommonSelectors({opts:i}),s=e.get("state"),l=e.getCurrentMedia(),u=[],c=o.get(a,s,l)||o.add(a,s,l),d;this.getTargets().forEach(function(f){var h=o.getIdRule(f.getId(),{state:s,mediaText:l});d=h.getStyle(),h.setStyle({}),u.push(h)}),d&&c.addStyle(d),e.trigger("component:toggled"),e.trigger("component:sync-style",{component:r,selectors:a,mediaText:l,rule:c,ruleComponents:u,state:s})},t.prototype.tagRemoved=function(e){this.updateStateVis()},t.prototype.addNew=function(e){this.addToClasses(e)},t.prototype.startNewTag=function(){var e,r;(e=this.$addBtn)===null||e===void 0||e.css({display:"none"}),(r=this.$input)===null||r===void 0||r.show().focus()},t.prototype.endNewTag=function(){var e,r;(e=this.$addBtn)===null||e===void 0||e.css({display:""}),(r=this.$input)===null||r===void 0||r.hide().val("")},t.prototype.onInputKeyUp=function(e){var r;e.keyCode===13?(e.preventDefault(),this.addNewTag((r=this.$input)===null||r===void 0?void 0:r.val())):e.keyCode===27&&this.endNewTag()},t.prototype.checkStates=function(){var e=this.em.getState(),r=this.getStates();r&&r.val(e)},t.prototype.componentChanged=function(e){var r=e===void 0?{}:e,o=r.targets;this.updateSelection(o)},t.prototype.updateSelection=function(e){var r=e||this.getTargets();r=(0,oe.isArray)(r)?r:[r];var o=[];return r&&r.length&&(o=this.getCommonSelectors({targets:r}),this.checkSync({validSelectors:o})),this.collection.reset(o),this.updateStateVis(r),this.module.__trgCustom(),o},t.prototype.getCommonSelectors=function(e){var r=e===void 0?{}:e,o=r.targets,i=r.opts,a=i===void 0?{}:i,s=o||this.getTargets();return this.module.__getCommonSelectors(s,a)},t.prototype._commonSelectors=function(){for(var e,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return(e=this.module).__common.apply(e,r)},t.prototype.checkSync=function(){var e=this,r=e.$btnSyncEl,o=e.config,i=e.collection,a=this.getTarget(),s;if(a&&o.componentFirst&&i.length){var l=a.getStyle();s=!(0,oe.isEmpty)(l)}r&&r[s?"show":"hide"]()},t.prototype.getTarget=function(){return this.target.getSelected()},t.prototype.getTargets=function(){return this.target.getSelectedAll()},t.prototype.updateStateVis=function(e){var r=this.em,o=r&&r.getConfig().avoidInlineStyle,i=this.collection.length||o?"":"none";this.getStatesC().css("display",i),this.updateSelector(e)},t.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},t.prototype.updateSelector=function(e){var r=this,o=this.el.querySelector("[data-selected]"),i=[],a=e||this.getTargets();a=(0,oe.isArray)(a)?a:[a],a.forEach(function(s){return i.push(r.__getName(s))}),o&&(o.innerHTML=i.join(", ")),this.checkStates()},t.prototype.__getName=function(e){var r=this,o=r.pfx,i=r.config,a=r.em,s=i.selectedName,l=i.componentFirst,u;if((0,oe.isString)(e))u=xl(j3||(j3=K0(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),o,e);else{var c=e==null?void 0:e.getSelectors();if(!c)return"";var d=c.getStyleable(),f=a.get("state"),h=e.getId?xl($3||($3=K0(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),o,e.getName(),o,e.getId()):"";u=this.collection.getFullString(d),u=u?xl(K3||(K3=K0(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),o,u):e.get("selectorsAdd")||h,u=l&&h?h:u,u+=f?xl(W3||(W3=K0(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),o,f):"",u=s?s({result:u,state:f,target:e}):u}return u&&'<span class="'.concat(o,'sel">').concat(u,"</span>")},t.prototype.stateChanged=function(e){var r=this.em,o=e.target.value;r.set("state",o)},t.prototype.addNewTag=function(e){var r=e.trim();r&&(this.module.addSelected({label:r}),this.endNewTag())},t.prototype.addToClasses=function(e,r){var o=r,i=this.getClasses(),a=new xPe({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return o?o.appendChild(a):i.append(a),a},t.prototype.renderClasses=function(){var e=this,r=document.createDocumentFragment(),o=this.getClasses();o.empty(),this.collection.each(function(i){return e.addToClasses(i,r)}),o.append(r)},t.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},t.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},t.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},t.prototype.renderStates=function(){var e=this,r=e.module,o=e.em,i=o.t("selectorManager.emptyState"),a=r.getStates().map(function(l){var u=o.t("selectorManager.states.".concat(l.id))||l.getLabel()||l.id;return'<option value="'.concat(l.id,'">').concat(u,"</option>")}).join(""),s=this.getStates();s&&s.html('<option value="">'.concat(i,"</option>").concat(a)),this.checkStates()},t.prototype.render=function(){var e=this,r=e.em,o=e.pfx,i=e.ppfx,a=e.config,s=e.$el,l=e.el,u=a.render,c=a.iconSync,d=a.iconAdd,f={iconSync:c,iconAdd:d,labelHead:r.t("selectorManager.label"),labelInfo:r.t("selectorManager.selected"),ppfx:i,pfx:o,el:l};s.html(this.template(f));var h=u&&u(f);return h&&h!==l&&s.empty().append(h),this.$input=s.find("[data-input]"),this.$addBtn=s.find("[data-add]"),this.$classes=s.find("#"+o+"tags-c"),this.$btnSyncEl=s.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),s.attr("class","".concat(this.className," ").concat(i,"one-bg ").concat(i,"two-color")),this},t})(Qt.Ss);const kPe=BPe;var Q3,j3,$3,K3,W3,TPe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),$b=function(){return $b=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},$b.apply(this,arguments)},SI=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},z3=function(n){return(0,oe.isString)(n)&&n[0]=="#"},G3=function(n){return(0,oe.isString)(n)&&n[0]=="."},OPe=(function(n){TPe(t,n);function t(e){var r=n.call(this,e,"SelectorManager",new fh([]),uB,bPe(),{skipListen:!0})||this;r.Selector=Hs,r.Selectors=fh,r.events=uB,r.storageKey="",(0,oe.bindAll)(r,"__updateSelectedByComponents");var o=r,i=o.config,a=o.events,s=i.pStylePrefix;s&&(i.stylePrefix=s+i.stylePrefix),r.all=new fh(i.selectors),r.selected=new fh([],{em:e,config:i}),r.states=new Qt.pM(i.states.map(function(c){return new CI(c)}),{model:CI}),r.model=new Qt.Kx({cFirst:i.componentFirst,_undo:!0}),r.__update=(0,oe.debounce)(function(){return r.__trgCustom()},0),r.__initListen({collections:[r.states,r.selected],propagate:[{entity:r.states,event:a.state}]}),e.on("change:state",function(c,d){return e.trigger(a.state,d)}),r.model.on("change:cFirst",function(c,d){return e.trigger("selector:type",d)});var l="".concat(Ur.I.update,":classes");e.on("component:toggled ".concat(l),r.__updateSelectedByComponents);var u="component:toggled ".concat(l," change:device styleManager:update selector:state selector:type style:target");return r.model.listenTo(e,u,function(){return r.__update()}),r}return t.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},t.prototype.getAll=function(e){return e===void 0&&(e={}),this.all?e.array?SI([],this.all.models,!0):this.all:[]},t.prototype.__customData=function(e){return e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},t.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},t.prototype.select=function(e,r){r===void 0&&(r={});var o=Array.isArray(e)?e:[e],i=this.em.Styles.select(o,r);this.selected.reset(this.__getCommonSelectors(i));var a=this.selectorTags,s=i.filter(function(l){return l}).map(function(l){return(0,At.isComponent)(l)||(0,At.isRule)(l)&&!l.get("selectorsAdd")?l:l.getSelectorsString()});return a&&a.componentChanged({targets:s}),this},t.prototype.addSelector=function(e,r,o){r===void 0&&(r={}),o===void 0&&(o={});var i=$b({},r);(0,oe.isObject)(e)?i=e:i.name=e,z3(i.name)?(i.name=i.name.substr(1),i.type=Hs.TYPE_ID):G3(i.name)&&(i.name=i.name.substr(1)),i.label&&!i.name&&(i.name=this.escapeName(i.label));var a=this,s=a.all,l=a.em,u=a.config,c=s.get(i);if(!c){var d=i instanceof Hs?i:new Hs(i,$b($b({},o),{config:u,em:l}));return s.add(d,o)}return c},t.prototype.getSelector=function(e,r){return r===void 0&&(r=Hs.TYPE_CLASS),z3(e)?(e=e.substr(1),r=Hs.TYPE_ID):G3(e)&&(e=e.substr(1)),this.all.get({name:e,type:r})},t.prototype.add=function(e,r){var o=this;r===void 0&&(r={});var i=(0,oe.isString)(e)?{}:r;return(0,oe.isArray)(e)?e.map(function(a){return o.addSelector(a,r,i)}):this.addSelector(e,r,i)},t.prototype.addClass=function(e){var r=this,o=[];return(0,oe.isString)(e)&&(e=e.trim().split(" ").filter(Boolean)),e.forEach(function(i){return o.push(r.addSelector(i))}),o},t.prototype.get=function(e,r){var o=this;if((0,oe.isArray)(e)){var i=[],a=e.map(function(s){return o.getSelector(s)}).filter(Boolean);return a.forEach(function(s){return i.indexOf(s)<0&&i.push(s)}),i}else return this.getSelector(e,r)},t.prototype.remove=function(e,r){return this.__remove(e,r)},t.prototype.rename=function(e,r,o){var i=this.escapeName(r),a=this.get(i);return a||e.set({name:i,label:r},o)},t.prototype.setState=function(e){return this.em.setState(e),this},t.prototype.getState=function(){return this.em.getState()},t.prototype.getStates=function(){return SI([],this.states.models,!0)},t.prototype.setStates=function(e,r){return this.states.reset(e.map(function(o){return new CI(o)}),r)},t.prototype.getSelected=function(){return this.__getCommon()},t.prototype.getSelectedAll=function(){return SI([],this.selected.models,!0)},t.prototype.addSelected=function(e){var r=this.add(e);this.em.getSelectedAll().forEach(function(o){o.getSelectors().add(r)})},t.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach(function(r){!e.get("protected")&&r&&r.getSelectors().remove(e)})},t.prototype.duplicateSelected=function(e,r){var o=this;r===void 0&&(r={});var i=this.em,a=this.getSelected();if(!(a.indexOf(e)<0)){var s=this.getState(),l=i.getCurrentMedia(),u=i.Css.get(a,s,l),c=u==null?void 0:u.getStyle();if(i.getSelectedAll().forEach(function(f){var h=f.getSelectors();if(h.includes(e)){var p=r.suffix||" copy",v=e.getLabel(),g=o.addSelector("".concat(v).concat(p)),_=h.indexOf(e);h.remove(e),h.add(g,{at:_})}}),c){var d=i.Css.add(this.getSelected(),s,l);d.setStyle(c)}}},t.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},t.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},t.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},t.prototype.escapeName=function(e){var r=this.getConfig().escapeName;return r?r(e):Hs.escapeName(e)},t.prototype.render=function(e){var r=this.selectorTags,o=this.getConfig(),i=r==null?void 0:r.el;return this.selected.reset(e),this.selectorTags=new kPe({el:i,collection:this.selected,module:this,config:o}),this.selectorTags.render().el},t.prototype.destroy=function(){var e=this,r=e.selectorTags,o=e.model;o.stopListening(),this.__update.cancel(),this.__destroy(),r==null||r.remove(),this.selectorTags=void 0},t.prototype.load=function(){},t.prototype.store=function(){},t.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},t.prototype.__getCommonSelectors=function(e,r){r===void 0&&(r={});var o=e.map(function(i){return i.getSelectors&&i.getSelectors().getValid(r)}).filter(Boolean);return this.__common.apply(this,o)},t.prototype.__common=function(){for(var e=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return r.length?r.length===1?r[0]:r.length===2?r[0].filter(function(i){return r[1].indexOf(i)>=0}):r.slice(1).reduce(function(i,a){return e.__common(i,a)},r[0]):[]},t.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},t})(pA);const wX=OPe;var PPe=function(){return{textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1,convertDataGjsAttributesHyphens:!1}}};const IPe=PPe;var mc,Jl={MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15},ty=(mc={},mc[Jl.MEDIA_RULE]="media",mc[Jl.FONT_FACE_RULE]="font-face",mc[Jl.PAGE_RULE]="page",mc[Jl.KEYFRAMES_RULE]="keyframes",mc[Jl.COUNTER_STYLE_RULE]="counter-style",mc[Jl.SUPPORTS_RULE]="supports",mc[Jl.DOCUMENT_RULE]="document",mc[Jl.FONT_FEATURE_VALUES_RULE]="font-feature-values",mc[Jl.VIEWPORT_RULE]="viewport",mc),_X=(0,oe.keys)(ty),y2=[Jl.FONT_FACE_RULE,Jl.PAGE_RULE,Jl.COUNTER_STYLE_RULE,Jl.VIEWPORT_RULE],MPe=_X.filter(function(n){return y2.indexOf(Number(n))<0}).map(function(n){return ty[n]}).concat(["container","layer"]),FPe=y2.map(function(n){return ty[n]}),CX=function(n){n===void 0&&(n="");for(var t=[],e=[],r=n.split(","),o=0,i=r.length;o<i;o++){var a=r[o].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(a)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(a)){var s=a.split(".").filter(Boolean);e.push(s)}else t.push(a)}return{result:e,add:t}},DPe=function(n){for(var t=n.style,e={},r=0,o=t.length;r<o;r++){var i=t[r],a=t.getPropertyValue(i),s=t.getPropertyPriority(i);e[i]="".concat(a).concat(s?" !".concat(s):"")}return e},Y3=function(n){var t=n.conditionText||n.media&&n.media.mediaText||n.name||n.selectorText||"";return t.trim()},kD=function(n,t,e){t===void 0&&(t={}),e===void 0&&(e={});var r={},o=n.length,i=n[o-1],a=i?i.split(/:(.+)/):[],s=a[1],l=e.atRule,u=e.selectorsAdd,c=e.mediaText,d=FPe.indexOf(l)>=0;return d&&(r.singleAtRule=!0),l&&(r.atRuleType=l),u&&(r.selectorsAdd=u),c&&(r.mediaText=c),s&&(n[o-1]=a[0],r.state=s,a.splice(a.length-1,1)),r.selectors=n,r.style=t,r},X3=function(n){var t=n.cssText,e=t===void 0?"":t;return MPe.find(function(r){return e.indexOf("@".concat(r))===0})},SX=function(n){for(var t=[],e=n.cssRules||[],r=0,o=e.length;r<o;r++){var i=e[r],a=i.type,s=!1,l="",u="",c=i.selectorText||i.keyText||"",d=y2.indexOf(a)>=0;if(d)s=!0,l=ty[a],u=Y3(i);else if(_X.indexOf("".concat(a))>=0||!a&&X3(i)){var f=SX(i),h=ty[a]||X3(i);u=Y3(i);for(var p=0,v=f.length;p<v;p++){var g=f[p];u&&(g.mediaText=u),g.atRuleType=h}t=t.concat(f)}if(!(!c&&!d)){for(var _=DPe(i),S=CX(c),y=S.add,C=S.result,T=void 0,P=0,F=C.length;P<F;P++){var I=kD(C[P],_,{atRule:ty[a]});t.push(I),T=I}if(y.length){var k=y.join(", ");if(T)T.selectorsAdd=k;else{var I={selectors:[],selectorsAdd:k,style:_};s&&(I.singleAtRule=s),l&&(I.atRuleType=l),u&&(I.mediaText=u),t.push(I)}}}}return t};const UPe=(function(n){var t=document.createElement("style");t.innerHTML=n,document.head.appendChild(t);var e=t.sheet;return document.head.removeChild(t),e?SX(e):[]});var LPe=function(n,t){return t===void 0&&(t={}),{parse:function(e,r){var o=this;r===void 0&&(r={});var i=[],a=t.parserCss,s=n==null?void 0:n.Editor,l=[],u,c=n==null?void 0:n.Parser,d={input:e};c==null||c.__emitEvent(kh.cssBefore,d);var f=d.input;try{l=a?a(f,s):UPe(f)}catch(h){if(u=h,r.throwOnError)throw h}return l.forEach(function(h){return i=i.concat(o.checkNode(h))}),c==null||c.__emitEvent(kh.css,{input:f,output:i,nodes:l,error:u}),i},checkNode:function(e){var r=e.selectors,o=e.style,i=[e];if((0,oe.isString)(r)){var a=[],s=e,l=CX(r),u=l.result,c=l.add.join(", "),d={atRule:s.atRule,mediaText:s.params};if(u.length?u.forEach(function(h){a.push(kD(h,o,d))}):a.push(kD([],o,d)),c){var f=a[a.length-1];f.selectorsAdd=c}i=a}return i}}};const VPe=LPe;var NPe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),TD=function(){return TD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},TD.apply(this,arguments)},RPe=(function(n){NPe(t,n);function t(e){var r=n.call(this,e,"Parser",IPe())||this;r.events=kh;var o=r.config;return r.parserCss=VPe(e,o),r.parserHtml=G7(e,o),r}return t.prototype.parseHtml=function(e,r){r===void 0&&(r={});var o=this,i=o.em,a=o.parserHtml;return a.compTypes=i.Components.getTypes()||[],a.parse(e,this.parserCss,r)},t.prototype.parseCss=function(e){return this.parserCss.parse(e)},t.prototype.__emitEvent=function(e,r){var o=this,i=o.em,a=o.events;i.trigger(e,r),i.trigger(a.all,TD({event:e},r))},t.prototype.destroy=function(){},t})(Ll);const HPe=RPe;var QPe=function(){return{id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(n){return n},onLoad:function(n){return n},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(n){return n},onLoad:function(n){return n}}}}};const jPe=QPe;var J3=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},Z3=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(e=0)),e;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$Pe=(function(){function n(){}return n.prototype.store=function(t){return J3(this,arguments,void 0,function(e,r){return r===void 0&&(r={}),Z3(this,function(o){return this.hasLocal(r,!0)&&localStorage.setItem(r.key,JSON.stringify(e)),[2,e]})})},n.prototype.load=function(){return J3(this,arguments,void 0,function(t){var e;return t===void 0&&(t={}),Z3(this,function(r){return e={},this.hasLocal(t,!0)&&(e=JSON.parse(localStorage.getItem(t.key)||"{}")),[2,e]})})},n.prototype.hasLocal=function(t,e){if(t===void 0&&(t={}),t.checkLocal&&(!(0,At.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0},n})();const KPe=$Pe;function Wm(n){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(n)}function WPe(n){var t=this.constructor;return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){return t.reject(e)})})}const zPe=WPe;function GPe(n){var t=this;return new t(function(e,r){if(!(n&&typeof n.length<"u"))return r(new TypeError(Wm(n)+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(n);if(o.length===0)return e([]);var i=o.length;function a(l,u){if(u&&(Wm(u)==="object"||typeof u=="function")){var c=u.then;if(typeof c=="function"){c.call(u,function(d){a(l,d)},function(d){o[l]={status:"rejected",reason:d},--i===0&&e(o)});return}}o[l]={status:"fulfilled",value:u},--i===0&&e(o)}for(var s=0;s<o.length;s++)a(s,o[s])})}const YPe=GPe;function xX(n,t){this.name="AggregateError",this.errors=n,this.message=t||""}xX.prototype=Error.prototype;function XPe(n){var t=this;return new t(function(e,r){if(!(n&&typeof n.length<"u"))return r(new TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(n);if(o.length===0)return r();for(var i=[],a=0;a<o.length;a++)try{t.resolve(o[a]).then(e).catch(function(s){i.push(s),i.length===o.length&&r(new xX(i,"All promises were rejected"))})}catch(s){r(s)}})}const JPe=XPe;var ZPe=setTimeout;function EX(n){return!!(n&&typeof n.length<"u")}function qPe(){}function eIe(n,t){return function(){n.apply(t,arguments)}}function zo(n){if(!(this instanceof zo))throw new TypeError("Promises must be constructed via new");if(typeof n!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],kX(n,this)}function BX(n,t){for(;n._state===3;)n=n._value;if(n._state===0){n._deferreds.push(t);return}n._handled=!0,zo._immediateFn(function(){var e=n._state===1?t.onFulfilled:t.onRejected;if(e===null){(n._state===1?OD:c_)(t.promise,n._value);return}var r;try{r=e(n._value)}catch(o){c_(t.promise,o);return}OD(t.promise,r)})}function OD(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&(Wm(t)==="object"||typeof t=="function")){var e=t.then;if(t instanceof zo){n._state=3,n._value=t,PD(n);return}else if(typeof e=="function"){kX(eIe(e,t),n);return}}n._state=1,n._value=t,PD(n)}catch(r){c_(n,r)}}function c_(n,t){n._state=2,n._value=t,PD(n)}function PD(n){n._state===2&&n._deferreds.length===0&&zo._immediateFn(function(){n._handled||zo._unhandledRejectionFn(n._value)});for(var t=0,e=n._deferreds.length;t<e;t++)BX(n,n._deferreds[t]);n._deferreds=null}function tIe(n,t,e){this.onFulfilled=typeof n=="function"?n:null,this.onRejected=typeof t=="function"?t:null,this.promise=e}function kX(n,t){var e=!1;try{n(function(r){e||(e=!0,OD(t,r))},function(r){e||(e=!0,c_(t,r))})}catch(r){if(e)return;e=!0,c_(t,r)}}zo.prototype.catch=function(n){return this.then(null,n)};zo.prototype.then=function(n,t){var e=new this.constructor(qPe);return BX(this,new tIe(n,t,e)),e};zo.prototype.finally=zPe;zo.all=function(n){return new zo(function(t,e){if(!EX(n))return e(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(n);if(r.length===0)return t([]);var o=r.length;function i(s,l){try{if(l&&(Wm(l)==="object"||typeof l=="function")){var u=l.then;if(typeof u=="function"){u.call(l,function(c){i(s,c)},e);return}}r[s]=l,--o===0&&t(r)}catch(c){e(c)}}for(var a=0;a<r.length;a++)i(a,r[a])})};zo.any=JPe;zo.allSettled=YPe;zo.resolve=function(n){return n&&Wm(n)==="object"&&n.constructor===zo?n:new zo(function(t){t(n)})};zo.reject=function(n){return new zo(function(t,e){e(n)})};zo.race=function(n){return new zo(function(t,e){if(!EX(n))return e(new TypeError("Promise.race accepts an array"));for(var r=0,o=n.length;r<o;r++)zo.resolve(n[r]).then(t,e)})};zo._immediateFn=typeof setImmediate=="function"&&function(n){setImmediate(n)}||function(n){ZPe(n,0)};zo._unhandledRejectionFn=function(t){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const ID=zo;(0,At.hasWin)()&&(window.Promise=window.Promise||ID);const TX=typeof fetch=="function"?fetch.bind():function(n,t){return new ID(function(e,r){var o=new XMLHttpRequest;o.open(t.method||"get",n),o.withCredentials=t.credentials=="include";for(var i in t.headers||{})o.setRequestHeader(i,t.headers[i]);o.onload=function(a){return e({status:o.status,statusText:o.statusText,text:function(){return ID.resolve(o.responseText)}})},o.onerror=r,o.upload&&t.onProgress&&(o.upload.onprogress=t.onProgress),t.body?o.send(t.body):o.send()})};var cB=function(){return cB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},cB.apply(this,arguments)},q3=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},ej=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(e=0)),e;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},nIe=(function(){function n(){}return n.prototype.store=function(t){return q3(this,arguments,void 0,function(e,r){return r===void 0&&(r={}),ej(this,function(o){switch(o.label){case 0:return[4,this.request(r.urlStore,this.__props(r,e),r)];case 1:return[2,o.sent()]}})})},n.prototype.load=function(){return q3(this,arguments,void 0,function(t){return t===void 0&&(t={}),ej(this,function(e){switch(e.label){case 0:return[4,this.request(t.urlLoad,this.__props(t),t)];case 1:return[2,e.sent()]}})})},n.prototype.request=function(t,e,r){return e===void 0&&(e={}),r===void 0&&(r={}),TX(t,e).then(function(o){var i=o.text(),a=(o.status/200|0)===1;return a?i:i.then(Promise.reject)}).then(function(o){var i=o&&(0,oe.isString)(o);return r.contentTypeJson&&i?JSON.parse(o):o})},n.prototype.__props=function(t,e){t===void 0&&(t={});var r=t.contentTypeJson,o=t.headers||{},i=t.fetchOptions||{},a="X-Requested-With",s="Content-Type",l;if((0,oe.isUndefined)(o[a])&&(o[a]="XMLHttpRequest"),(0,oe.isUndefined)(o[s])&&r&&(o[s]="application/json; charset=utf-8"),e)if(r)l=JSON.stringify(e);else{l=new FormData;for(var u in e)l.append(u,e[u])}var c={method:l?"POST":"GET",credentials:t.credentials,headers:o,body:l};return cB(cB({},c),(0,oe.isFunction)(i)?i(c):i)},n})();const rIe=nIe;var MD;(function(n){n.start="storage:start",n.startStore="storage:start:store",n.startLoad="storage:start:load",n.load="storage:load",n.store="storage:store",n.after="storage:after",n.afterStore="storage:after:store",n.afterLoad="storage:after:load",n.end="storage:end",n.endStore="storage:end:store",n.endLoad="storage:end:load",n.error="storage:error",n.errorStore="storage:error:store",n.errorLoad="storage:error:load"})(MD||(MD={}));const Is=MD;var oIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Ig=function(){return Ig=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ig.apply(this,arguments)},xI=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},EI=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(e=0)),e;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},$1="local",tj="remote",iIe=(function(n){oIe(t,n);function t(e){var r=n.call(this,e,"StorageManager",jPe())||this;r.storages={},r.events=Is;var o=r.config;return o._disable&&(o.type=void 0),r.storages={},r.add($1,new KPe),r.add(tj,new rIe),r.setCurrent(o.type),r}return t.prototype.isAutosave=function(){return!!this.config.autosave},t.prototype.setAutosave=function(e){return this.config.autosave=!!e,this},t.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},t.prototype.setStepsBeforeSave=function(e){return this.config.stepsBeforeSave=e,this},t.prototype.add=function(e,r){return this.storages[e]=r,this},t.prototype.get=function(e){return this.storages[e]},t.prototype.getStorages=function(){return this.storages},t.prototype.getCurrent=function(){return this.config.currentStorage},t.prototype.setCurrent=function(e){return this.getConfig().currentStorage=e,this},t.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},t.prototype.getStorageOptions=function(e){return this.getCurrentOptions(e)},t.prototype.store=function(e){return xI(this,arguments,void 0,function(r,o){var i,a,s,l,u,c;return o===void 0&&(o={}),EI(this,function(d){switch(d.label){case 0:i=this.getCurrentStorage(),a=Ig(Ig({},this.getCurrentOptions()),o),s=this.getRecoveryStorage(),l=this.getCurrentOptions($1),d.label=1;case 1:return d.trys.push([1,5,,9]),[4,this.__exec(i,a,r)];case 2:return d.sent(),u=s,u?[4,this.__exec(s,l,{})]:[3,4];case 3:u=d.sent(),d.label=4;case 4:return[3,9];case 5:return c=d.sent(),s?[4,this.__exec(s,l,r)]:[3,7];case 6:return d.sent(),[3,8];case 7:throw c;case 8:return[3,9];case 9:return[2,r]}})})},t.prototype.load=function(){return xI(this,arguments,void 0,function(e){var r,o,i,a,s;return e===void 0&&(e={}),EI(this,function(l){switch(l.label){case 0:return r=this.getCurrentStorage(),o=Ig(Ig({},this.getCurrentOptions()),e),i=this.getRecoveryStorage(),i?[4,this.__exec(i,this.getCurrentOptions($1))]:[3,5];case 1:if(s=l.sent(),(0,oe.isEmpty)(s))return[3,5];l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return l.sent(),a=s,[3,5];case 4:return l.sent(),[3,5];case 5:return a?[3,7]:[4,this.__exec(r,o)];case 6:a=l.sent(),l.label=7;case 7:return[2,a||{}]}})})},t.prototype.__askRecovery=function(){var e=this.em,r=this.getRecovery();return new Promise(function(o,i){(0,oe.isFunction)(r)?r(o,i,e==null?void 0:e.getEditor()):confirm(e==null?void 0:e.t("storageManager.recover"))?o(null):i()})},t.prototype.getRecovery=function(){return this.config.recovery},t.prototype.getRecoveryStorage=function(){var e=this.getRecovery();return e&&this.getCurrent()===tj&&this.get($1)},t.prototype.__exec=function(e,r,o){return xI(this,void 0,void 0,function(){var i,a,s,l,u,c,d,f,h,p,v,g,_,S;return EI(this,function(y){switch(y.label){case 0:if(i=o?"store":"load",a=this.getConfig(),s=a.onStore,l=a.onLoad,!e)return[2,o||{}];this.onStart(i,o),y.label=1;case 1:return y.trys.push([1,14,,15]),c=(S=this.em)===null||S===void 0?void 0:S.getEditor(),d=void 0,o?(h=s,h?[4,s(o,c)]:[3,3]):[3,7];case 2:h=y.sent(),y.label=3;case 3:return f=h||o,p=r.onStore,p?[4,r.onStore(f,c)]:[3,5];case 4:p=y.sent(),y.label=5;case 5:return f=p||f,[4,e.store(f,r)];case 6:return d=y.sent(),u=o,[3,13];case 7:return[4,e.load(r)];case 8:return d=y.sent(),u=this.__clearKeys(d),v=r.onLoad,v?[4,r.onLoad(u,c)]:[3,10];case 9:v=y.sent(),y.label=10;case 10:return u=v||u,g=l,g?[4,l(u,c)]:[3,12];case 11:g=y.sent(),y.label=12;case 12:u=g||u,y.label=13;case 13:return this.onAfter(i,u,d),this.onEnd(i,u,d),[3,15];case 14:throw _=y.sent(),this.onError(i,_),_;case 15:return[2,u]}})})},t.prototype.__clearKeys=function(e){e===void 0&&(e={});var r=this.getConfig(),o=new RegExp("^".concat(r.id)),i={};for(var a in e){var s=a.replace(o,"");i[s]=e[a]}return i},t.prototype.getCurrentOptions=function(e){var r=this.getConfig(),o=e||this.getCurrent();return r.options[o]||{}},t.prototype.onStart=function(e,r){var o=this.em;if(o){var i=e==="load"?Is.startLoad:Is.startStore;o.trigger(Is.start,e,r),o.trigger(i,r)}},t.prototype.onAfter=function(e,r,o){var i=this.em;if(i){var a=e==="load"?Is.afterLoad:Is.afterStore;i.trigger(Is.after),i.trigger(a,r,o);var s=e==="load"?Is.load:Is.store;i.trigger(s,r,o)}},t.prototype.onEnd=function(e,r,o){var i=this.em;if(i){var a=e==="load"?Is.endLoad:Is.endStore;i.trigger(Is.end,e,r,o),i.trigger(a,r,o)}},t.prototype.onError=function(e,r){var o=this.em;if(o){var i=e==="load"?Is.errorLoad:Is.errorStore;o.trigger(Is.error,r,e),o.trigger(i,r),this.onEnd(e,r)}},t.prototype.canAutoload=function(){var e=this.getCurrentStorage();return!!e&&!!this.config.autoload},t.prototype.destroy=function(){this.storages={}},t})(Ll);const aIe=iIe;var sIe=function(){return{stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1}};const lIe=sIe;var uIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Kb=function(){return Kb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Kb.apply(this,arguments)},OX=(function(n){uIe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.events={},r.appendInput=!0;var o=e.config,i=o===void 0?{}:o,a=r,s=a.model,l=a.eventCapture,u=s.target,c=s.attributes.type;r.config=i,r.em=i.em,r.pfx=i.stylePrefix||"",r.ppfx=i.pStylePrefix||"",r.target=u,r.className=r.pfx+"trait",r.clsField="".concat(r.ppfx,"field ").concat(r.ppfx,"field-").concat(c);var d=[["change:value",r.onValueChange],["remove",r.removeView]];return d.forEach(function(f){var h=f[0],p=f[1];s.off(h,p),r.listenTo(s,h,p)}),s.view=r,r.listenTo(s,"change:label",r.render),r.listenTo(s,"change:placeholder",r.rerender),r.events={},l.forEach(function(f){return r.events[f]="onChange"}),r.delegateEvents(),r.init(),r}return t.prototype.attributes=function(){return this.model.get("attributes")||{}},t.prototype.templateLabel=function(e){var r=this.ppfx,o=this.getLabel();return'<div class="'.concat(r,'label" title="').concat(o,'">').concat(o,"</div>")},t.prototype.templateInput=function(e){var r=this.clsField;return'<div class="'.concat(r,'" data-input></div>')},t.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},t.prototype.removeView=function(){this.remove(),this.removed()},t.prototype.init=function(){},t.prototype.removed=function(){},t.prototype.onRender=function(e){},t.prototype.onUpdate=function(e){},t.prototype.onEvent=function(e){},t.prototype.onChange=function(e){var r=this.getInputElem();r&&!(0,oe.isUndefined)(r.value)&&this.model.set("value",r.value),this.onEvent(Kb(Kb({},this.getClbOpts()),{event:e}))},t.prototype.getValueForTarget=function(){return this.model.get("value")},t.prototype.setInputValue=function(e){var r=this.getInputElem();r&&(r.value=e)},t.prototype.onValueChange=function(e,r,o){o===void 0&&(o={});var i=this.model,a=this.getValueForTarget();o.fromTarget?(this.setInputValue(a),this.postUpdate()):i.setValue(a,o)},t.prototype.renderLabel=function(){var e=this,r=e.$el,o=e.target,i=this.getLabel(),a=this.templateLabel(o);this.createLabel&&(a=this.createLabel({label:i,component:o,trait:this})||""),r.find("[data-label]").append(a)},t.prototype.getLabel=function(){var e=this.em,r=this.model.attributes,o=r.label,i=r.name;return e.t("traitManager.traits.labels.".concat(i))||(0,At.capitalize)(o||i).replace(/-/g," ")},t.prototype.getComponent=function(){return this.target},t.prototype.getInputEl=function(){if(!this.$input){var e=this,r=e.em,o=e.model,i=o,a=o.attributes.name,s=i.get("placeholder")||i.get("default")||"",l=i.get("type")||"text",u=i.get("min"),c=i.get("max"),d=this.getModelValue(),f=(0,Xi.default)('<input type="'.concat(l,'">')),h=r.t("traitManager.traits.attributes.".concat(a))||{};f.attr(Kb({placeholder:s},h)),(0,oe.isUndefined)(d)||(i.set({value:d},{silent:!0}),f.prop("value",d)),u&&f.prop("min",u),c&&f.prop("max",c),this.$input=f}return this.$input.get(0)},t.prototype.getInputElem=function(){var e=this,r=e.input,o=e.$input;return r||o&&o.get&&o.get(0)||this.getElInput()},t.prototype.getModelValue=function(){return this.model.getValue()},t.prototype.getElInput=function(){return this.elInput},t.prototype.renderField=function(){var e=this,r=e.$el,o=e.appendInput,i=e.model,a=r.find("[data-input]"),s=a[a.length-1],l=i.el;l||(l=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,oe.isString)(l)?(s.innerHTML=l,this.elInput=s.firstChild):(o?s.appendChild(l):s.insertBefore(l,s.firstChild),this.elInput=l),i.el=this.elInput},t.prototype.hasLabel=function(){var e=this.model.attributes.label;return!this.noLabel&&e!==!1},t.prototype.rerender=function(){delete this.model.el,this.render()},t.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},t.prototype.render=function(){var e=this,r=e.$el,o=e.pfx,i=e.ppfx,a=e.model,s=a.attributes,l=s.type,u=s.id,c=this.hasLabel&&this.hasLabel(),d="".concat(o,"trait");delete this.$input;var f='<div class="'.concat(d," ").concat(d,"--").concat(l,`">
      `).concat(c?'<div class="'.concat(i,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(i,"field-wrp ").concat(i,"field-wrp--").concat(l,`" data-input>
        `).concat(this.templateInput?(0,oe.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return r.empty().append(f),c&&this.renderLabel(),this.renderField(),this.el.className="".concat(d,"__wrp ").concat(d,"__wrp-").concat(u),this.postUpdate(),this.onRender(this.getClbOpts()),this},t})(Qt.Ss);const sA=OX;OX.prototype.eventCapture=["change"];var cIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),PX=(function(n){cIe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.templateInput=function(){return""},t.prototype.onChange=function(){this.handleClick()},t.prototype.handleClick=function(){this.model.runCommand()},t.prototype.renderLabel=function(){this.model.get("label")&&sA.prototype.renderLabel.apply(this)},t.prototype.getInputEl=function(){var e=this,r=e.model,o=e.ppfx,i=r.props(),a=i.labelButton,s=i.text,l=i.full,u=a||s,c="".concat(o,"btn"),d='<button type="button" class="'.concat(c,"-prim").concat(l?" ".concat(c,"--full"):"",'">').concat(u,"</button>");return d},t})(sA);const dIe=PX;PX.prototype.eventCapture=["click button"];var fIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),AIe=(function(n){fIe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.appendInput=!1,e}return t.prototype.templateInput=function(){var e=this,r=e.ppfx,o=e.clsField;return'<label class="'.concat(o,`" data-input>
    <i class="`).concat(r,`chk-icon"></i>
  </label>`)},t.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},t.prototype.setInputValue=function(e){var r=this.getInputElem();r&&(r.checked=!!e)},t.prototype.getInputEl=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=!this.$input,i=sA.prototype.getInputEl.apply(this,e);if(o){var a=void 0,s=void 0,l=this,u=l.model,c=l.target,d=u.attributes.valueFalse,f=u.getName();u.changeProp?(a=c.get(f),s=a):(s=c.get("attributes")[f],a=!!(s||s==="")),!(0,oe.isUndefined)(d)&&s===d&&(a=!1),i.checked=a}return i},t})(sA);const hIe=AIe;function pIe(n,t){if(!(0,At.hasWin)())return;var e={beforeShow:h,move:h,change:h,show:h,hide:h,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},r=[],o=!!/msie/i.exec(window.navigator.userAgent),i=(function(){function Y(He,De){return!!~(""+He).indexOf(De)}var ie=document.createElement("div"),G=ie.style;return G.cssText="background-color:rgba(0,0,0,.5)",Y(G.backgroundColor,"rgba")||Y(G.backgroundColor,"hsla")})(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=(function(){var Y="";if(o)for(var ie=1;ie<=6;ie++)Y+="<div class='sp-"+ie+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",Y,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")})();function l(Y,ie,G,He){for(var De=[],rt=0;rt<Y.length;rt++){var mt=Y[rt];if(mt){var ft=U(mt),gt=ft.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";gt+=U.equals(ie,mt)?" sp-thumb-active":"";var St=ft.toString(He.preferredFormat||"rgb"),Tt=i?"background-color:"+ft.toRgbString():"filter:"+ft.toFilter();De.push('<span title="'+St+'" data-color="'+ft.toRgbString()+'" class="'+gt+'"><span class="sp-thumb-inner" style="'+Tt+';"></span></span>')}else{var Wt="sp-clear-display";De.push(n("<div />").append(n('<span data-color="" style="background-color:transparent;" class="'+Wt+'"></span>').attr("title",He.noColorSelectedText)).html())}}return"<div class='sp-cf "+G+"'>"+De.join("")+"</div>"}function u(){for(var Y=0;Y<r.length;Y++)r[Y]&&r[Y].hide()}function c(Y,ie){var G=n.extend({},e,Y);return G.callbacks={move:v(G.move,ie),change:v(G.change,ie),show:v(G.show,ie),hide:v(G.hide,ie),beforeShow:v(G.beforeShow,ie)},G}function d(Y,ie){var G=c(ie,Y),He=G.flat,De=G.showSelectionPalette,rt=G.localStorageKey,mt=G.theme,ft=G.callbacks,gt=_(Bs,10),St=!1,Tt=!1,Wt=!0,qt=0,mn=0,dr=0,fe=0,Se=0,Ge=0,yt=0,Ft=0,ln=0,Yt=0,Gr=1,Un=[],Vr=[],ys={},$r=G.selectionPalette.slice(0),Fr=G.maxSelectionSize,Fo="sp-dragging",Jn=null,nr=Y.ownerDocument;nr.body;var Ln=n(Y),lo=!1,yn=n(s,nr).addClass(mt),Na=yn.find(".sp-picker-container"),wa=yn.find(".sp-color"),uo=yn.find(".sp-dragger"),Do=yn.find(".sp-hue"),ta=yn.find(".sp-slider"),ar=yn.find(".sp-alpha-inner"),tn=yn.find(".sp-alpha"),Xo=yn.find(".sp-alpha-handle"),co=yn.find(".sp-input"),mi=yn.find(".sp-palette"),rr=yn.find(".sp-initial"),Vn=yn.find(".sp-cancel"),na=yn.find(".sp-clear"),bs=yn.find(".sp-choose"),Et=yn.find(".sp-palette-toggle"),Sn=Ln.is("input"),ws=Sn&&Ln.attr("type")==="color"&&S(),ce=Sn&&!He,Me=ce?n(a).addClass(mt).addClass(G.className).addClass(G.replacerClassName):n([]),dt=ce?Me:Ln,Ot=Me.find(".sp-preview-inner"),Mt=G.color||Sn&&Ln.val(),Wn=!1,Zn=G.preferredFormat,ro=!G.showButtons||G.clickoutFiresChange,Or=!Mt,Ra=G.allowEmpty&&!ws;function nc(){if(G.showPaletteOnly&&(G.showPalette=!0),Et.text(G.showPaletteOnly?G.togglePaletteMoreText:G.togglePaletteLessText),G.palette){Un=G.palette.slice(0),Vr=n.isArray(Un[0])?Un:[Un],ys={};for(var bn=0;bn<Vr.length;bn++)for(var vn=0;vn<Vr[bn].length;vn++){var fr=U(Vr[bn][vn]).toRgbString();ys[fr]=!0}}yn.toggleClass("sp-flat",He),yn.toggleClass("sp-input-disabled",!G.showInput),yn.toggleClass("sp-alpha-enabled",G.showAlpha),yn.toggleClass("sp-clear-enabled",Ra),yn.toggleClass("sp-buttons-disabled",!G.showButtons),yn.toggleClass("sp-palette-buttons-disabled",!G.togglePaletteOnly),yn.toggleClass("sp-palette-disabled",!G.showPalette),yn.toggleClass("sp-palette-only",G.showPaletteOnly),yn.toggleClass("sp-initial-disabled",!G.showInitial),yn.addClass(G.className).addClass(G.containerClassName),Bs()}function rc(){if(o&&yn.find("*:not(input)").attr("unselectable","on"),nc(),ce&&Ln.after(Me).hide(),Ra||na.hide(),He)Ln.after(yn).hide();else{var bn=G.appendTo==="parent"?Ln.parent():n(G.appendTo);bn.length!==1&&(bn=n("body")),bn.append(yn)}_s(),dt.bind("click.spectrum touchstart.spectrum",function(Bn){lo||Wc(),Bn.stopPropagation(),n(Bn.target).is("input")||Bn.preventDefault()}),(Ln.is(":disabled")||G.disabled===!0)&&il(),yn.click(p),co.change(Vl),co.bind("paste",function(){setTimeout(Vl,1)}),co.keydown(function(Bn){Bn.keyCode==13&&Vl()}),Vn.text(G.cancelText),Vn.bind("click.spectrum",function(Bn){Bn.stopPropagation(),Bn.preventDefault(),Ss(),Cs()}),na.attr("title",G.clearText),na.bind("click.spectrum",function(Bn){Bn.stopPropagation(),Bn.preventDefault(),Or=!0,Nl(),He&&Es(!0)}),bs.text(G.chooseText),bs.bind("click.spectrum",function(Bn){Bn.stopPropagation(),Bn.preventDefault(),o&&co.is(":focus")&&co.trigger("change"),vA()&&(Es(!0),Cs())}),Et.text(G.showPaletteOnly?G.togglePaletteMoreText:G.togglePaletteLessText),Et.bind("click.spectrum",function(Bn){Bn.stopPropagation(),Bn.preventDefault(),G.showPaletteOnly=!G.showPaletteOnly,!G.showPaletteOnly&&!He&&yn.css("left","-="+(Na.outerWidth(!0)+5)),nc()}),g(tn,function(Bn,qr,$o){Gr=Bn/Se,Or=!1,$o.shiftKey&&(Gr=Math.round(Gr*10)/10),Nl()},oc,hu),g(Do,function(Bn,qr){Ft=parseFloat(qr/fe),Or=!1,G.showAlpha||(Gr=1),Nl()},oc,hu),g(wa,function(Bn,qr,$o){if(!$o.shiftKey)Jn=null;else if(!Jn){var Qi=ln*qt,ks=mn-Yt*mn,_a=Math.abs(Bn-Qi)>Math.abs(qr-ks);Jn=_a?"x":"y"}var Ca=!Jn||Jn==="x",Ha=!Jn||Jn==="y";Ca&&(ln=parseFloat(Bn/qt)),Ha&&(Yt=parseFloat((mn-qr)/mn)),Or=!1,G.showAlpha||(Gr=1),Nl()},oc,hu),Mt?(oa(Mt),xs(),Zn=G.preferredFormat||U(Mt).getFormat(),rl(Mt)):xs(),He&&Qo();function vn(Bn){return Bn.data&&Bn.data.ignore?(oa(n(Bn.target).closest(".sp-thumb-el").data("color")),Nl()):(oa(n(Bn.target).closest(".sp-thumb-el").data("color")),Nl(),G.hideAfterPaletteSelect&&(Es(!0),Cs())),!1}var fr=o?"mousedown.spectrum":"click.spectrum touchstart.spectrum";mi.delegate(".sp-thumb-el",fr,vn),rr.delegate(".sp-thumb-el:nth-child(1)",fr,{ignore:!0},vn)}function _s(){if(rt&&window.localStorage){try{var bn=window.localStorage[rt].split(",#");bn.length>1&&(delete window.localStorage[rt],n.each(bn,function(vn,fr){rl(fr)}))}catch{}try{$r=window.localStorage[rt].split(";")}catch{}}}function rl(bn){if(De){var vn=U(bn).toRgbString();if(!ys[vn]&&n.inArray(vn,$r)===-1)for($r.push(vn);$r.length>Fr;)$r.shift();if(rt&&window.localStorage)try{window.localStorage[rt]=$r.join(";")}catch{}}}function Kc(){var bn=[];if(G.showPalette)for(var vn=0;vn<$r.length;vn++){var fr=U($r[vn]).toRgbString();ys[fr]||bn.push($r[vn])}return bn.reverse().slice(0,G.maxSelectionSize)}function ol(){var bn=jo(),vn=n.map(Vr,function(fr,Bn){return l(fr,bn,"sp-palette-row sp-palette-row-"+Bn,G)});_s(),$r&&vn.push(l(Kc(),bn,"sp-palette-row sp-palette-row-selection",G)),mi.html(vn.join(""))}function ra(){if(G.showInitial){var bn=Wn,vn=jo();rr.html(l([bn,vn],vn,"sp-palette-row-initial",G))}}function oc(){(mn<=0||qt<=0||fe<=0)&&Bs(),Tt=!0,yn.addClass(Fo),Jn=null,Ln.trigger("dragstart.spectrum",[jo()])}function hu(){Tt=!1,yn.removeClass(Fo),Ln.trigger("dragstop.spectrum",[jo()])}function Vl(){var bn=co.val();if((bn===null||bn==="")&&Ra)oa(null),Es(!0);else{var vn=U(bn);vn.isValid()?(oa(vn),Es(!0)):co.addClass("sp-validation-error")}}function Wc(){St?Cs():Qo()}function Qo(){var bn=n.Event("beforeShow.spectrum");if(St){Bs();return}if(Ln.trigger("beforeShow.spectrum",[jo()]),!(ft.beforeShow(jo())===!1||bn.isDefaultPrevented())){u(),St=!0;var vn=n(nr);vn.bind("keydown.spectrum",Jo),vn.bind("click.spectrum",Yd),n(window).bind("resize.spectrum",gt),Me.addClass("sp-active"),yn.removeClass("sp-hidden"),Bs(),xs(),Wn=jo(),ra(),ft.show(Wn),Ln.trigger("show.spectrum",[Wn])}}function Jo(bn){bn.keyCode===27&&Cs()}function Yd(bn){bn.button!=2&&(Tt||(ro?Es(!0):Ss(),Cs()))}function Cs(){!St||He||(St=!1,n(nr).unbind("keydown.spectrum",Jo),n(nr).unbind("click.spectrum",Yd),n(window).unbind("resize.spectrum",gt),Me.removeClass("sp-active"),yn.addClass("sp-hidden"),ft.hide(jo()),Ln.trigger("hide.spectrum",[jo()]))}function Ss(){oa(Wn,!0)}function oa(bn,vn){if(U.equals(bn,jo())){xs();return}var fr,Bn;!bn&&Ra?Or=!0:(Or=!1,Wt=!bn,fr=U(bn),Bn=fr.toHsv(),Ft=Bn.h%360/360,ln=Bn.s,Yt=Bn.v,Gr=Bn.a),xs(),fr&&fr.isValid()&&!vn&&(Zn=G.preferredFormat||fr.getFormat())}function jo(bn){return bn=bn||{},Ra&&Or?null:U.fromRatio({h:Ft,s:ln,v:Yt,a:Math.round(Gr*100)/100},{format:bn.format||Zn})}function vA(){return!co.hasClass("sp-validation-error")}function Nl(){xs(),ft.move(jo()),Ln.trigger("move.spectrum",[jo()])}function xs(){co.removeClass("sp-validation-error"),ic();var bn=U.fromRatio({h:Ft,s:1,v:1});wa.css("background-color",bn.toHexString());var vn=Zn;Gr<1&&!(Gr===0&&vn==="name")&&(vn==="hex"||vn==="hex3"||vn==="hex6"||vn==="name")&&(vn="rgb");var fr=jo({format:vn}),Bn="";if(Ot.removeClass("sp-clear-display"),Ot.css("background-color","transparent"),!fr&&Ra)Ot.addClass("sp-clear-display");else{var qr=fr.toHexString(),$o=fr.toRgbString();if(i||fr.alpha===1?Ot.css("background-color",$o):(Ot.css("background-color","transparent"),Ot.css("filter",fr.toFilter())),G.showAlpha){var Qi=fr.toRgb();Qi.a=0;var ks=U(Qi).toRgbString(),_a="linear-gradient(left, "+ks+", "+qr+")";o?ar.css("filter",U(ks).toFilter({gradientType:1},qr)):(ar.css("background","-webkit-"+_a),ar.css("background","-moz-"+_a),ar.css("background","-ms-"+_a),ar.css("background","linear-gradient(to right, "+ks+", "+qr+")"))}Bn=fr.toString(vn)}G.showInput&&co.val(Bn),G.showPalette&&ol(),ra()}function ic(){var bn=ln,vn=Yt;if(Ra&&Or)Xo.hide(),ta.hide(),uo.hide();else{Xo.show(),ta.show(),uo.show();var fr=bn*qt,Bn=mn-vn*mn;fr=Math.max(-dr,Math.min(qt-dr,fr-dr)),Bn=Math.max(-dr,Math.min(mn-dr,Bn-dr)),uo.css({top:Bn+"px",left:fr+"px"});var qr=Gr*Se;Xo.css({left:qr-Ge/2+"px"});var $o=Ft*fe;ta.css({top:$o-yt+"px"})}}function Es(bn){var vn=jo(),fr="",Bn=Wt?!0:!U.equals(vn,Wn);vn&&(fr=vn.toString(Zn),!St&&rl(vn)),Sn&&Ln.val(fr),bn&&Bn&&(ft.change(vn),Ln.trigger("change",[vn]))}function Bs(){St&&(qt=wa.width(),mn=wa.height(),dr=uo.height(),Do.width(),fe=Do.height(),yt=ta.height(),Se=tn.width(),Ge=Xo.width(),He||(yn.css("position","absolute"),G.offset?yn.offset(G.offset):yn.offset(f(yn,dt))),ic(),G.showPalette&&ol(),Ln.trigger("reflow.spectrum"))}function Xd(){Ln.show(),dt.unbind("click.spectrum touchstart.spectrum"),yn.remove(),Me.remove(),r[Rl.id]=null}function zc(bn,vn){if(bn===t)return n.extend({},G);if(vn===t)return G[bn];G[bn]=vn,bn==="preferredFormat"&&(Zn=G.preferredFormat),nc()}function ac(){lo=!1,Ln.attr("disabled",!1),dt.removeClass("sp-disabled")}function il(){Cs(),lo=!0,Ln.attr("disabled",!0),dt.addClass("sp-disabled")}function sc(bn){G.offset=bn,Bs()}rc();var Rl={show:Qo,hide:Cs,toggle:Wc,reflow:Bs,option:zc,enable:ac,disable:il,offset:sc,set:function(bn){oa(bn),Es()},get:jo,destroy:Xd,container:yn};return Rl.id=r.push(Rl)-1,Rl}function f(Y,ie){for(var G=ie[0],He=Y[0],De=He.parentElement,rt=G.getBoundingClientRect(),mt=He.offsetWidth,ft=He.offsetHeight,gt={top:0,left:0,width:G.offsetWidth,height:G.offsetHeight};G&&(gt.top+=G.offsetTop-G.scrollTop,gt.left+=G.offsetLeft-G.scrollLeft,!(G===De||!De.contains(G.offsetParent)));)G=G.offsetParent;return rt.right+mt>window.innerWidth-window.scrollX&&rt.right-mt>0&&(gt.left-=mt-gt.width),rt.bottom+ft<window.innerHeight-window.scrollY?gt.top+=gt.height:gt.top-=ft,gt}function h(){}function p(Y){Y.stopPropagation()}function v(Y,ie){var G=Array.prototype.slice,He=G.call(arguments,2);return function(){return Y.apply(ie,He.concat(G.call(arguments)))}}function g(Y,ie,G,He){ie=ie||function(){},G=G||function(){},He=He||function(){};var De=document,rt=!1,mt={},ft=0,gt=0,St="ontouchstart"in window,Tt={};Tt.selectstart=Wt,Tt.dragstart=Wt,Tt["touchmove mousemove"]=qt,Tt["touchend mouseup"]=dr;function Wt(fe){fe.stopPropagation&&fe.stopPropagation(),fe.preventDefault&&fe.preventDefault(),fe.returnValue=!1}function qt(fe){if(rt){if(o&&De.documentMode<9&&!fe.button)return dr();var Se=fe&&fe.touches&&fe.touches[0],Ge=Se&&Se.pageX||fe.pageX,yt=Se&&Se.pageY||fe.pageY,Ft=Math.max(0,Math.min(Ge-mt.left,gt)),ln=Math.max(0,Math.min(yt-mt.top,ft));St&&Wt(fe),ie.apply(Y,[Ft,ln,fe])}}function mn(fe){var Se=fe.which?fe.which==3:fe.button==2;!Se&&!rt&&G.apply(Y,arguments)!==!1&&(rt=!0,ft=n(Y).height(),gt=n(Y).width(),mt=n(Y).offset(),n(De).bind(Tt),n(De.body).addClass("sp-dragging"),qt(fe),Wt(fe))}function dr(){rt&&(n(De).unbind(Tt),n(De.body).removeClass("sp-dragging"),setTimeout(function(){He.apply(Y,arguments)},0)),rt=!1}n(Y).bind("touchstart mousedown",mn)}function _(Y,ie,G){var He;return function(){var De=this,rt=arguments,mt=function(){He=null,Y.apply(De,rt)};He||(He=setTimeout(mt,ie))}}function S(){return n.fn.spectrum.inputTypeColorSupport()}var y="spectrum.id";n.fn.spectrum=function(Y,ie){if(typeof Y=="string"){var G=this,He=Array.prototype.slice.call(arguments,1);return this.each(function(){var De=r[n(this).data(y)];if(De){var rt=De[Y];if(!rt)throw new Error("Spectrum: no such method: '"+Y+"'");Y=="get"?G=De.get():Y=="container"?G=De.container:Y=="option"?G=De.option.apply(De,He):Y=="destroy"?(De.destroy(),n(this).removeData(y)):rt.apply(De,He)}}),G}return this.spectrum("destroy").each(function(){var De=n.extend({},Y,n(this).data()),rt=d(this,De);n(this).data(y,rt.id)})},n.fn.spectrum.load=!0,n.fn.spectrum.loadOpts={},n.fn.spectrum.draggable=g,n.fn.spectrum.defaults=e,n.fn.spectrum.inputTypeColorSupport=function Y(){if(typeof Y._cachedResult>"u"){var ie=n("<input type='color'/>")[0];Y._cachedResult=ie.type==="color"&&ie.value!==""}return Y._cachedResult},n.spectrum={},n.spectrum.localization={},n.spectrum.palettes={},n.fn.spectrum.processNativeColorInputs=function(){var Y=n("input[type=color]");Y.length&&!S()&&Y.spectrum({preferredFormat:"hex6"})};var C=/^[\s,#]+/,T=/\s+$/,P=0,F=Math,I=F.round,k=F.min,M=F.max,V=F.random,U=function(Y,ie){if(Y=Y||"",ie=ie||{},Y instanceof U)return Y;if(!(this instanceof U))return new U(Y,ie);var G=$(Y);this._originalInput=Y,this._r=G.r,this._g=G.g,this._b=G.b,this._a=G.a,this._roundA=I(100*this._a)/100,this._format=ie.format||G.format,this._gradientType=ie.gradientType,this._r<1&&(this._r=I(this._r)),this._g<1&&(this._g=I(this._g)),this._b<1&&(this._b=I(this._b)),this._ok=G.ok,this._tc_id=P++};U.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Y=this.toRgb();return(Y.r*299+Y.g*587+Y.b*114)/1e3},setAlpha:function(Y){return this._a=Ie(Y),this._roundA=I(100*this._a)/100,this},toHsv:function(){var Y=ne(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,v:Y.v,a:this._a}},toHsvString:function(){var Y=ne(this._r,this._g,this._b),ie=I(Y.h*360),G=I(Y.s*100),He=I(Y.v*100);return this._a==1?"hsv("+ie+", "+G+"%, "+He+"%)":"hsva("+ie+", "+G+"%, "+He+"%, "+this._roundA+")"},toHsl:function(){var Y=J(this._r,this._g,this._b);return{h:Y.h*360,s:Y.s,l:Y.l,a:this._a}},toHslString:function(){var Y=J(this._r,this._g,this._b),ie=I(Y.h*360),G=I(Y.s*100),He=I(Y.l*100);return this._a==1?"hsl("+ie+", "+G+"%, "+He+"%)":"hsla("+ie+", "+G+"%, "+He+"%, "+this._roundA+")"},toHex:function(Y){return we(this._r,this._g,this._b,Y)},toHexString:function(Y){return"#"+this.toHex(Y)},toHex8:function(){return Be(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:I(this._r),g:I(this._g),b:I(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+I(this._r)+", "+I(this._g)+", "+I(this._b)+")":"rgba("+I(this._r)+", "+I(this._g)+", "+I(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:I(K(this._r,255)*100)+"%",g:I(K(this._g,255)*100)+"%",b:I(K(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+I(K(this._r,255)*100)+"%, "+I(K(this._g,255)*100)+"%, "+I(K(this._b,255)*100)+"%)":"rgba("+I(K(this._r,255)*100)+"%, "+I(K(this._g,255)*100)+"%, "+I(K(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:me[we(this._r,this._g,this._b,!0)]||!1},toFilter:function(Y){var ie="#"+Be(this._r,this._g,this._b,this._a),G=ie,He=this._gradientType?"GradientType = 1, ":"";if(Y){var De=U(Y);G=De.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+He+"startColorstr="+ie+",endColorstr="+G+")"},toString:function(Y){var ie=!!Y;Y=Y||this._format;var G=!1,He=this._a<1&&this._a>=0,De=!ie&&He&&(Y==="hex"||Y==="hex6"||Y==="hex3"||Y==="name");return De?Y==="name"&&this._a===0?this.toName():this.toRgbString():(Y==="rgb"&&(G=this.toRgbString()),Y==="prgb"&&(G=this.toPercentageRgbString()),(Y==="hex"||Y==="hex6")&&(G=this.toHexString()),Y==="hex3"&&(G=this.toHexString(!0)),Y==="hex8"&&(G=this.toHex8String()),Y==="name"&&(G=this.toName()),Y==="hsl"&&(G=this.toHslString()),Y==="hsv"&&(G=this.toHsvString()),G||this.toHexString())},_applyModification:function(Y,ie){var G=Y.apply(null,[this].concat([].slice.call(ie)));return this._r=G._r,this._g=G._g,this._b=G._b,this.setAlpha(G._a),this},lighten:function(){return this._applyModification(Ce,arguments)},brighten:function(){return this._applyModification(ve,arguments)},darken:function(){return this._applyModification(Qe,arguments)},desaturate:function(){return this._applyModification(We,arguments)},saturate:function(){return this._applyModification(pe,arguments)},greyscale:function(){return this._applyModification(_e,arguments)},spin:function(){return this._applyModification(se,arguments)},_applyCombination:function(Y,ie){return Y.apply(null,[this].concat([].slice.call(ie)))},analogous:function(){return this._applyCombination(ot,arguments)},complement:function(){return this._applyCombination(Te,arguments)},monochromatic:function(){return this._applyCombination(ye,arguments)},splitcomplement:function(){return this._applyCombination(tt,arguments)},triad:function(){return this._applyCombination(je,arguments)},tetrad:function(){return this._applyCombination(nt,arguments)}},U.fromRatio=function(Y,ie){if(typeof Y=="object"){var G={};for(var He in Y)Y.hasOwnProperty(He)&&(He==="a"?G[He]=Y[He]:G[He]=Pe(Y[He]));Y=G}return U(Y,ie)};function $(Y){var ie={r:0,g:0,b:0},G=1,He=!1,De=!1;return typeof Y=="string"&&(Y=Rt(Y)),typeof Y=="object"&&(Y.hasOwnProperty("r")&&Y.hasOwnProperty("g")&&Y.hasOwnProperty("b")?(ie=Q(Y.r,Y.g,Y.b),He=!0,De=String(Y.r).substr(-1)==="%"?"prgb":"rgb"):Y.hasOwnProperty("h")&&Y.hasOwnProperty("s")&&Y.hasOwnProperty("v")?(Y.s=Pe(Y.s),Y.v=Pe(Y.v),ie=ue(Y.h,Y.s,Y.v),He=!0,De="hsv"):Y.hasOwnProperty("h")&&Y.hasOwnProperty("s")&&Y.hasOwnProperty("l")&&(Y.s=Pe(Y.s),Y.l=Pe(Y.l),ie=R(Y.h,Y.s,Y.l),He=!0,De="hsl"),Y.hasOwnProperty("a")&&(G=Y.a)),G=Ie(G),{ok:He,format:Y.format||De,r:k(255,M(ie.r,0)),g:k(255,M(ie.g,0)),b:k(255,M(ie.b,0)),a:G}}function Q(Y,ie,G){return{r:K(Y,255)*255,g:K(ie,255)*255,b:K(G,255)*255}}function J(Y,ie,G){Y=K(Y,255),ie=K(ie,255),G=K(G,255);var He=M(Y,ie,G),De=k(Y,ie,G),rt,mt,ft=(He+De)/2;if(He==De)rt=mt=0;else{var gt=He-De;switch(mt=ft>.5?gt/(2-He-De):gt/(He+De),He){case Y:rt=(ie-G)/gt+(ie<G?6:0);break;case ie:rt=(G-Y)/gt+2;break;case G:rt=(Y-ie)/gt+4;break}rt/=6}return{h:rt,s:mt,l:ft}}function R(Y,ie,G){var He,De,rt;Y=K(Y,360),ie=K(ie,100),G=K(G,100);function mt(St,Tt,Wt){return Wt<0&&(Wt+=1),Wt>1&&(Wt-=1),Wt<1/6?St+(Tt-St)*6*Wt:Wt<1/2?Tt:Wt<2/3?St+(Tt-St)*(2/3-Wt)*6:St}if(ie===0)He=De=rt=G;else{var ft=G<.5?G*(1+ie):G+ie-G*ie,gt=2*G-ft;He=mt(gt,ft,Y+1/3),De=mt(gt,ft,Y),rt=mt(gt,ft,Y-1/3)}return{r:He*255,g:De*255,b:rt*255}}function ne(Y,ie,G){Y=K(Y,255),ie=K(ie,255),G=K(G,255);var He=M(Y,ie,G),De=k(Y,ie,G),rt,mt,ft=He,gt=He-De;if(mt=He===0?0:gt/He,He==De)rt=0;else{switch(He){case Y:rt=(ie-G)/gt+(ie<G?6:0);break;case ie:rt=(G-Y)/gt+2;break;case G:rt=(Y-ie)/gt+4;break}rt/=6}return{h:rt,s:mt,v:ft}}function ue(Y,ie,G){Y=K(Y,360)*6,ie=K(ie,100),G=K(G,100);var He=F.floor(Y),De=Y-He,rt=G*(1-ie),mt=G*(1-De*ie),ft=G*(1-(1-De)*ie),gt=He%6,St=[G,mt,rt,rt,ft,G][gt],Tt=[ft,G,G,mt,rt,rt][gt],Wt=[rt,rt,ft,G,G,mt][gt];return{r:St*255,g:Tt*255,b:Wt*255}}function we(Y,ie,G,He){var De=[he(I(Y).toString(16)),he(I(ie).toString(16)),he(I(G).toString(16))];return He&&De[0].charAt(0)==De[0].charAt(1)&&De[1].charAt(0)==De[1].charAt(1)&&De[2].charAt(0)==De[2].charAt(1)?De[0].charAt(0)+De[1].charAt(0)+De[2].charAt(0):De.join("")}function Be(Y,ie,G,He){var De=[he(Ee(He)),he(I(Y).toString(16)),he(I(ie).toString(16)),he(I(G).toString(16))];return De.join("")}U.equals=function(Y,ie){return!Y||!ie?!1:U(Y).toRgbString()==U(ie).toRgbString()},U.random=function(){return U.fromRatio({r:V(),g:V(),b:V()})};function We(Y,ie){ie=ie===0?0:ie||10;var G=U(Y).toHsl();return G.s-=ie/100,G.s=te(G.s),U(G)}function pe(Y,ie){ie=ie===0?0:ie||10;var G=U(Y).toHsl();return G.s+=ie/100,G.s=te(G.s),U(G)}function _e(Y){return U(Y).desaturate(100)}function Ce(Y,ie){ie=ie===0?0:ie||10;var G=U(Y).toHsl();return G.l+=ie/100,G.l=te(G.l),U(G)}function ve(Y,ie){ie=ie===0?0:ie||10;var G=U(Y).toRgb();return G.r=M(0,k(255,G.r-I(255*-(ie/100)))),G.g=M(0,k(255,G.g-I(255*-(ie/100)))),G.b=M(0,k(255,G.b-I(255*-(ie/100)))),U(G)}function Qe(Y,ie){ie=ie===0?0:ie||10;var G=U(Y).toHsl();return G.l-=ie/100,G.l=te(G.l),U(G)}function se(Y,ie){var G=U(Y).toHsl(),He=(I(G.h)+ie)%360;return G.h=He<0?360+He:He,U(G)}function Te(Y){var ie=U(Y).toHsl();return ie.h=(ie.h+180)%360,U(ie)}function je(Y){var ie=U(Y).toHsl(),G=ie.h;return[U(Y),U({h:(G+120)%360,s:ie.s,l:ie.l}),U({h:(G+240)%360,s:ie.s,l:ie.l})]}function nt(Y){var ie=U(Y).toHsl(),G=ie.h;return[U(Y),U({h:(G+90)%360,s:ie.s,l:ie.l}),U({h:(G+180)%360,s:ie.s,l:ie.l}),U({h:(G+270)%360,s:ie.s,l:ie.l})]}function tt(Y){var ie=U(Y).toHsl(),G=ie.h;return[U(Y),U({h:(G+72)%360,s:ie.s,l:ie.l}),U({h:(G+216)%360,s:ie.s,l:ie.l})]}function ot(Y,ie,G){ie=ie||6,G=G||30;var He=U(Y).toHsl(),De=360/G,rt=[U(Y)];for(He.h=(He.h-(De*ie>>1)+720)%360;--ie;)He.h=(He.h+De)%360,rt.push(U(He));return rt}function ye(Y,ie){ie=ie||6;for(var G=U(Y).toHsv(),He=G.h,De=G.s,rt=G.v,mt=[],ft=1/ie;ie--;)mt.push(U({h:He,s:De,v:rt})),rt=(rt+ft)%1;return mt}U.mix=function(Y,ie,G){G=G===0?0:G||50;var He=U(Y).toRgb(),De=U(ie).toRgb(),rt=G/100,mt=rt*2-1,ft=De.a-He.a,gt;mt*ft==-1?gt=mt:gt=(mt+ft)/(1+mt*ft),gt=(gt+1)/2;var St=1-gt,Tt={r:De.r*gt+He.r*St,g:De.g*gt+He.g*St,b:De.b*gt+He.b*St,a:De.a*rt+He.a*(1-rt)};return U(Tt)},U.readability=function(Y,ie){var G=U(Y),He=U(ie),De=G.toRgb(),rt=He.toRgb(),mt=G.getBrightness(),ft=He.getBrightness(),gt=Math.max(De.r,rt.r)-Math.min(De.r,rt.r)+Math.max(De.g,rt.g)-Math.min(De.g,rt.g)+Math.max(De.b,rt.b)-Math.min(De.b,rt.b);return{brightness:Math.abs(mt-ft),color:gt}},U.isReadable=function(Y,ie){var G=U.readability(Y,ie);return G.brightness>125&&G.color>500},U.mostReadable=function(Y,ie){for(var G=null,He=0,De=!1,rt=0;rt<ie.length;rt++){var mt=U.readability(Y,ie[rt]),ft=mt.brightness>125&&mt.color>500,gt=3*(mt.brightness/125)+mt.color/500;(ft&&!De||ft&&De&&gt>He||!ft&&!De&&gt>He)&&(De=ft,He=gt,G=U(ie[rt]))}return G};var be=U.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},me=U.hexNames=Ve(be);function Ve(Y){var ie={};for(var G in Y)Y.hasOwnProperty(G)&&(ie[Y[G]]=G);return ie}function Ie(Y){return Y=parseFloat(Y),(isNaN(Y)||Y<0||Y>1)&&(Y=1),Y}function K(Y,ie){Ae(Y)&&(Y="100%");var G=xe(Y);return Y=k(ie,M(0,parseFloat(Y))),G&&(Y=parseInt(Y*ie,10)/100),F.abs(Y-ie)<1e-6?1:Y%ie/parseFloat(ie)}function te(Y){return k(1,M(0,Y))}function ee(Y){return parseInt(Y,16)}function Ae(Y){return typeof Y=="string"&&Y.indexOf(".")!=-1&&parseFloat(Y)===1}function xe(Y){return typeof Y=="string"&&Y.indexOf("%")!=-1}function he(Y){return Y.length==1?"0"+Y:""+Y}function Pe(Y){return Y<=1&&(Y=Y*100+"%"),Y}function Ee(Y){return Math.round(parseFloat(Y)*255).toString(16)}function st(Y){return ee(Y)/255}var kt=(function(){var Y="[-\\+]?\\d+%?",ie="[-\\+]?\\d*\\.\\d+%?",G="(?:"+ie+")|(?:"+Y+")",He="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?",De="[\\s|\\(]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")[,|\\s]+("+G+")\\s*\\)?";return{rgb:new RegExp("rgb"+He),rgba:new RegExp("rgba"+De),hsl:new RegExp("hsl"+He),hsla:new RegExp("hsla"+De),hsv:new RegExp("hsv"+He),hsva:new RegExp("hsva"+De),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Rt(Y){Y=Y.replace(C,"").replace(T,"").toLowerCase();var ie=!1;if(be[Y])Y=be[Y],ie=!0;else if(Y=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var G;return(G=kt.rgb.exec(Y))?{r:G[1],g:G[2],b:G[3]}:(G=kt.rgba.exec(Y))?{r:G[1],g:G[2],b:G[3],a:G[4]}:(G=kt.hsl.exec(Y))?{h:G[1],s:G[2],l:G[3]}:(G=kt.hsla.exec(Y))?{h:G[1],s:G[2],l:G[3],a:G[4]}:(G=kt.hsv.exec(Y))?{h:G[1],s:G[2],v:G[3]}:(G=kt.hsva.exec(Y))?{h:G[1],s:G[2],v:G[3],a:G[4]}:(G=kt.hex8.exec(Y))?{a:st(G[1]),r:ee(G[2]),g:ee(G[3]),b:ee(G[4]),format:ie?"name":"hex8"}:(G=kt.hex6.exec(Y))?{r:ee(G[1]),g:ee(G[2]),b:ee(G[3]),format:ie?"name":"hex"}:(G=kt.hex3.exec(Y))?{r:ee(G[1]+""+G[1]),g:ee(G[2]+""+G[2]),b:ee(G[3]+""+G[3]),format:ie?"name":"hex"}:!1}window.tinycolor=U,n(function(){n.fn.spectrum.load&&n.fn.spectrum.processNativeColorInputs()})}var mIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),IX=(function(n){mIe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this,o=e.ppfx||"";return r.opts=e,r.ppfx=o,r.em=e.target||{},!e.onChange&&r.listenTo(r.model,"change:value",r.handleModelChange),r}return t.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},t.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},t.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},t.prototype.elementUpdated=function(){this.model.trigger("el:change")},t.prototype.setValue=function(e,r){var o=this.model,i=e||o.get("defaults"),a=this.getInputEl();a&&(a.value=i)},t.prototype.handleModelChange=function(e,r,o){this.setValue(r,o)},t.prototype.handleChange=function(e){e.stopPropagation();var r=this.getInputEl().value;this.__onInputChange(r),this.elementUpdated()},t.prototype.__onInputChange=function(e){this.model.set({value:e},{fromInput:1})},t.prototype.getInputEl=function(){if(!this.inputEl){var e=this,r=e.model,o=e.opts,i=o.type||"text",a=r.get("placeholder")||r.get("defaults")||r.get("default")||"";this.inputEl=(0,Xi.default)('<input type="'.concat(i,'" placeholder="').concat(a,'">'))}return this.inputEl.get(0)},t.prototype.render=function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this},t})(Qt.Ss);const dB=IX;IX.prototype.events={change:"handleChange"};var vIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Wb=function(){return Wb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Wb.apply(this,arguments)};Xi.default&&pIe(Xi.default);var K1=function(n){var t=n.getFormat()==="name"&&n.toName(),e=n.getAlpha()==1?n.toHexString():n.toRgbString();return t||e.replace(/ /g,"")},gIe=(function(n){vIe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.template=function(){var e=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(e,`field-colorp">
        <div class="`).concat(e,`field-colorp-c" data-colorp-c>
          <div class="`).concat(e,`checker-bg"></div>
        </div>
      </div>
    `)},t.prototype.inputClass=function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},t.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},t.prototype.remove=function(){return n.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},t.prototype.handleChange=function(e){e.stopPropagation();var r=e.target.value;(0,oe.isUndefined)(r)||this.__onInputChange(r)},t.prototype.__onInputChange=function(e){var r=this,o=r.model,i=r.opts,a=i.onChange,s=e,l=this.getColorEl();if(l){l.spectrum("set",s);var u=l.spectrum("get"),c=s&&K1(u);c&&(s=c)}a?a(s):o.set({value:s},{fromInput:1})},t.prototype.setValue=function(e,r){r===void 0&&(r={});var o=this.model,i=(0,oe.isUndefined)(r.def)?o.get("defaults"):r.def,a=(0,oe.isUndefined)(e)?(0,oe.isUndefined)(i)?"":i:e,s=this.getInputEl(),l=this.getColorEl(),u=a!="none"?a:"";s.value=a,l.get(0).style.backgroundColor=u,(r.fromTarget||r.fromInput&&!r.avoidStore)&&(l.spectrum("set",u),this.noneColor=a=="none",this.movedColor=u)},t.prototype.getColorEl=function(){var e=this;if(!this.colorEl){var r=this,o=r.em,i=r.model,a=r.opts,s=this.ppfx,l=a.onChange,u=(0,Xi.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),c=u.get(0).style,d=o&&o.getConfig&&o.getConfig().colorPicker||{};this.movedColor="";var f=!1,h;this.$el.find("[data-colorp-c]").append(u);var p=function(v,g){g===void 0&&(g=!0),l?l(v,!g):(g&&i.setValueFromInput(0,!1),i.setValueFromInput(v,g))};u.spectrum(Wb(Wb(Wb({color:i.getValue()||!1,containerClassName:"".concat(s,"one-bg ").concat(s,"two-color ").concat(s,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"",palette:[]},d),i.get("colorPicker")||{}),{move:function(v){var g=K1(v);e.movedColor=g,c.backgroundColor=g,p(g,!1)},change:function(v){f=!0;var g=K1(v);c.backgroundColor=g,p(g),e.noneColor=!1},show:function(v){f=!1,e.movedColor="",h=l?i.getValue({noDefault:!0}):K1(v)},hide:function(){!f&&(h||l)&&(e.noneColor&&(h=""),c.backgroundColor=h,u.spectrum("set",h),p(h,!1))}})),o&&o.on&&this.listenTo(o,"component:selected",function(){e.movedColor&&p(e.movedColor),f=!0,e.movedColor="",u.spectrum("hide")}),this.colorEl=u}return this.colorEl},t.prototype.render=function(){return dB.prototype.render.call(this),this.getColorEl(),this},t})(dB);const MX=gIe;var yIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),bIe=(function(n){yIe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.templateInput=function(){return""},t.prototype.getInputEl=function(){if(!this.input){var e=this.model,r=this.getModelValue(),o=new MX({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),i=o.render();i.setValue(r,{fromTarget:1}),this.input=i.el}return this.input},t})(sA);const wIe=bIe;var _Ie=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),FX=(function(n){_Ie(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;return(0,oe.bindAll)(r,"moveIncrement","upIncrement"),r.doc=document,r.listenTo(r.model,"change:unit",r.handleModelChange),r}return t.prototype.template=function(){var e=this.ppfx;return`
      <span class="`.concat(e,`input-holder"></span>
      <span class="`).concat(e,`field-units"></span>
      <div class="`).concat(e,`field-arrows" data-arrows>
        <div class="`).concat(e,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(e,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},t.prototype.inputClass=function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},t.prototype.setValue=function(e,r){var o=r||{},i=this.validateInputValue(e,{deepCheck:1}),a={value:i.value,unit:""};(i.unit||i.force)&&(a.unit=i.unit),this.model.set(a,o),o.silent&&this.handleModelChange()},t.prototype.handleChange=function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},t.prototype.handleUnitChange=function(e){e.stopPropagation();var r=this.getUnitEl().value;this.model.set("unit",r),this.elementUpdated()},t.prototype.handleKeyDown=function(e){e.key==="ArrowUp"&&(e.preventDefault(),this.upArrowClick()),e.key==="ArrowDown"&&(e.preventDefault(),this.downArrowClick())},t.prototype.elementUpdated=function(){this.model.trigger("el:change")},t.prototype.handleModelChange=function(){var e=this.model;this.getInputEl().value=e.get("value");var r=this.getUnitEl();r&&(r.value=e.get("unit")||"")},t.prototype.getUnitEl=function(){if(!this.unitEl){var e=this.model,r=e.get("units")||[];if(r.length){var o=['<option value="" disabled hidden>-</option>'];r.forEach(function(a){var s=a==e.get("unit")?"selected":"";o.push("<option ".concat(s,">").concat(a,"</option>"))});var i=document.createElement("div");i.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(o.join(""),"</select>"),this.unitEl=i.firstChild}}return this.unitEl},t.prototype.upArrowClick=function(){var e=this.model,r=e.get("step"),o=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(o+r)),this.elementUpdated()},t.prototype.downArrowClick=function(){var e=this.model,r=e.get("step"),o=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(o-r)),this.elementUpdated()},t.prototype.downIncrement=function(e){e.preventDefault(),this.moved=!1;var r=this.model.get("value")||0;r=this.normalizeValue(r),this.current={y:e.pageY,val:r},(0,Gt.on)(this.doc,"mousemove",this.moveIncrement),(0,Gt.on)(this.doc,"mouseup",this.upIncrement)},t.prototype.moveIncrement=function(e){this.moved=!0;var r=this.model,o=r.get("step"),i=this.current,a=this.normalizeValue(i.val+(i.y-e.pageY)*o),s=this.validateInputValue(a),l=s.value,u=s.unit;return this.prValue=l,r.set({value:l,unit:u},{avoidStore:1}),!1},t.prototype.upIncrement=function(){var e=this.model,r=e.get("step");if((0,Gt.AU)(this.doc,"mouseup",this.upIncrement),(0,Gt.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var o=this.prValue-r;e.set("value",o,{avoidStore:1}).set("value",o+r),this.elementUpdated()}},t.prototype.normalizeValue=function(e,r){r===void 0&&(r=0);var o=this.model,i=o.get("step"),a=0;if(isNaN(e))return r;if(e=parseFloat(e),Math.floor(e)!==e){var s=i.toString().split(".")[1];a=s?s.length:0}return a?parseFloat(e.toFixed(a)):e},t.prototype.validateInputValue=function(e,r){r===void 0&&(r={});var o=0,i=r||{},a=this.model,s="",l=(0,oe.isUndefined)(e)?s:e,u=r.units||a.get("units")||[],c=a.get("unit")||u.length&&u[0]||"",d=(0,oe.isUndefined)(r.max)?a.get("max"):r.max,f=(0,oe.isUndefined)(r.min)?a.get("min"):r.min,h=!!a.get("limitlessMax"),p=!!a.get("limitlessMin");if(i.deepCheck){var v=a.get("fixedValues")||[];if(l===""&&(c=""),l){var g=new RegExp("^"+v.join("|"),"g");if(v.length&&g.test(l))l=l.match(g)[0],c="",o=1;else{var _=l+"";l+="",l=parseFloat(l.replace(",",".")),l=isNaN(l)?s:l;var S=_.replace(l,"");(0,oe.indexOf)(u,S)>=0&&(c=S)}}}return!isNaN(l)&&l!==""&&(!h&&!(0,oe.isUndefined)(d)&&d!==""&&(l=l>d?d:l),!p&&!(0,oe.isUndefined)(f)&&f!==""&&(l=l<f?f:l)),{force:o,value:l,unit:c}},t.prototype.render=function(){dB.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this},t})(dB);const DX=FX;FX.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var CIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),SIe=(function(n){CIe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getValueForTarget=function(){var e=this.model,r=e.attributes,o=r.value,i=r.unit;return!(0,oe.isUndefined)(o)&&o!==""?o+i:e.get("default")},t.prototype.getInputEl=function(){if(!this.input){var e=this,r=e.ppfx,o=e.model,i=this.getModelValue(),a=new DX({contClass:"".concat(r,"field-int"),type:"number",model:o,ppfx:r});a.render(),this.$input=a.inputEl,this.$unit=a.unitEl,o.set("value",i,{fromTarget:!0}),this.$input.val(i),this.input=a.el}return this.input},t})(sA);const xIe=SIe;var EIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),BIe=(function(n){EIe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;return r.listenTo(r.model,"change:options",r.rerender),r}return t.prototype.templateInput=function(){var e=this,r=e.ppfx,o=e.clsField;return'<div class="'.concat(o,`">
      <div data-input></div>
      <div class="`).concat(r,`sel-arrow">
        <div class="`).concat(r,`d-s-arrow"></div>
      </div>
    </div>`)},t.prototype.getInputEl=function(){if(!this.$input){var e=this,r=e.model,o=e.em,i=r.get("name"),a=r.get("options")||[],s=[],l="<select>";a.forEach(function(d){var f="",h,p,v;(0,oe.isString)(d)?(h=d,p=d):(h=d.name||d.label||d.value,p="".concat((0,oe.isUndefined)(d.value)?d.id:d.value).replace(/"/g,"&quot;"),v=d.style?d.style.replace(/"/g,"&quot;"):"",f+=v?' style="'.concat(v,'"'):"");var g=o.t("traitManager.traits.options.".concat(i,".").concat(p))||h;l+='<option value="'.concat(p,'"').concat(f,">").concat(g,"</option>"),s.push(p)}),l+="</select>",this.$input=(0,Xi.default)(l);var u=r.getTargetValue(),c=s.indexOf(u)>=0?u:r.get("default");!(0,oe.isUndefined)(c)&&this.$input.val(c)}return this.$input.get(0)},t})(sA);const kIe=BIe;var TIe=Tr(8242),OIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),nj="data-categories",rj="data-no-categories",UX=(function(n){OIe(t,n);function t(e,r){var o=n.call(this,e)||this;o.reuseView=!0,o.renderedCategories=new Map,o.itemsView=r;var i=e.config||{};o.config=i;var a=e.editor;o.em=a;var s=i.pStylePrefix||"";return o.ppfx=s,o.pfx=s+i.stylePrefix||"",o.className="".concat(o.pfx,"traits"),o.traitContClass="".concat(s,"traits-c"),o.classNoCat="".concat(s,"traits-empty-c"),o.catsClass="".concat(s,"trait-categories"),o.collection=new LE([],{em:a}),o.listenTo(a,"component:toggled",o.updatedCollection),o.updatedCollection(),o}return t.prototype.updatedCollection=function(){var e=this,r=e.ppfx,o=e.em,i=o.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(r,"one-bg ").concat(r,"two-color"),this.collection=(i==null?void 0:i.traits)||new LE([],{em:o}),this.render()},t.prototype.add=function(e,r){var o=this,i=o.config,a=o.renderedCategories,s=this.itemView,l=e.get(this.itemType);this.itemsView&&this.itemsView[l]&&(s=this.itemsView[l]);var u=new s({config:i,model:e,attributes:e.get("attributes")}),c=u.render().el,d=e.parent.initCategory(e);if(d){var f=d.getId(),h=this.getCategoriesEl(),p=a.get(f);!p&&h&&(p=new yX({model:d},i,"trait").render(),a.set(f,p),h.appendChild(p.el)),p==null||p.append(c);return}r?r.appendChild(c):this.append(c)},t.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(nj,"]"))),this.catsEl},t.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(rj,"]"))),this.traitsEl},t.prototype.append=function(e){var r=this.getTraitsEl();r==null||r.appendChild(e)},t.prototype.render=function(){var e=this,r=this,o=r.el,i=r.ppfx,a=r.catsClass,s=r.traitContClass,l=r.classNoCat,u=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,o.innerHTML=`
      <div class="`.concat(a,'" ').concat(nj,`></div>
      <div class="`).concat(l," ").concat(s,'" ').concat(rj,`></div>
    `),this.collection.forEach(function(d){return e.add(d,u)}),this.append(u);var c="".concat(s,"s ").concat(i,"one-bg ").concat(i,"two-color");return this.$el.addClass(c),this.rendered=!0,this},t})(TIe.A);const oj=UX;UX.prototype.itemView=sA;var PIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),IIe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},MIe=(function(n){PIe(t,n);function t(e){var r=n.call(this,e,"TraitManager",lIe())||this;r.TraitsView=oj,r.events=FE,r.state=new Qt.Kx({traits:[]}),r.types={text:sA,number:xIe,select:kIe,checkbox:hIe,color:wIe,button:dIe};var o=r,i=o.state,a=o.config,s=o.events,l=a.pStylePrefix;l&&(a.stylePrefix="".concat(l).concat(a.stylePrefix)),(0,oe.bindAll)(r,"__onSelect");var u=(0,oe.debounce)(function(){return r.__upSel()},0),c=(0,oe.debounce)(function(){return r.__onUp()},0);return i.listenTo(e,"component:toggled",u),i.listenTo(e,s.value,c),i.on("change:traits",r.__onSelect),r.debounced=[u,c],r}return t.prototype.select=function(e){var r=(e==null?void 0:e.getTraits())||[];this.state.set({component:e,traits:r}),this.__trgCustom()},t.prototype.getCategories=function(){var e,r=this.getComponent(),o=((e=r==null?void 0:r.traits.categories)===null||e===void 0?void 0:e.models)||[];return IIe([],o,!0)},t.prototype.getTraits=function(){return this.getCurrent()},t.prototype.getTraitsByCategory=function(e){return q7(e||this.getTraits())},t.prototype.getComponent=function(){return this.state.attributes.component},t.prototype.addType=function(e,r){var o=this.getType("text");this.types[e]=o.extend(r)},t.prototype.getType=function(e){return this.getTypes()[e]},t.prototype.getTypes=function(){return this.types},t.prototype.getTraitsViewer=function(){return this.view},t.prototype.getCurrent=function(){return this.state.get("traits")||[]},t.prototype.render=function(){var e=this.view,r=this.em;return e=new oj({el:e==null?void 0:e.el,collection:[],editor:r,config:this.getConfig()},this.getTypes()),this.view=e,e.el},t.prototype.postRender=function(){this.__appendTo()},t.prototype.__onSelect=function(){var e=this,r=e.em,o=e.events,i=e.state,a=i.attributes,s=a.component,l=a.traits;r.trigger(o.select,{component:s,traits:l})},t.prototype.__trgCustom=function(e){e===void 0&&(e={});var r=this,o=r.em,i=r.events,a=r.__ctn;this.__ctn=a||e.container,o.trigger(i.custom,this.__customData())},t.prototype.__customData=function(){return{container:this.__ctn}},t.prototype.__upSel=function(){this.select(this.em.getSelected())},t.prototype.__onUp=function(){this.select(this.getComponent())},t})(Ll);const FIe=MIe;var DIe=function(){return{stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}}};const UIe=DIe;var FD;(function(n){n.root="layer:root",n.component="layer:component",n.custom="layer:custom"})(FD||(FD={}));var LIe=Tr(6756),VIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),NIe=(function(n){VIe(t,n);function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._dropAreaConfig={ratio:.4,minUndroppableDimension:3,maxUndroppableDimension:20},e}return Object.defineProperty(t.prototype,"view",{get:function(){return this.model.viewLayer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){var e;return(e=this.model.viewLayer)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),t})(LIe.h);const RIe=NIe;var HIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),QIe=(function(n){HIe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.items=[],r.opt=e;var o=e.config||{};r.config=o,r.module=e.module,r.parentView=e.parentView;var i=o.stylePrefix||"";o.pStylePrefix;var a=r.collection;r.listenTo(a,"add",r.addTo),r.listenTo(a,"reset resetNavigator",r.render),r.listenTo(a,"remove",r.removeChildren),r.className="".concat(i,"layers");var s=o.em;if(o.sortable&&!r.opt.sorter){var l=s.Utils,u=o.sortContainer||r.el,c=r.createPlaceholder(i);r.opt.sorter=new l.ComponentSorter({em:s,treeClass:RIe,containerContext:{container:u,containerSel:".".concat(r.className),itemSel:".".concat(i,"layer"),pfx:o.pStylePrefix,document,placeholderElement:c},dragBehavior:{dragDirection:Km.A.Vertical,nested:!0}})}return r.$el.data("collection",a),e.parent&&r.$el.data("model",e.parent),r}return t.prototype.createPlaceholder=function(e){var r=document.createElement("div"),o=document.createElement("div");return this.el.parentNode,r.className=e+"placeholder",r.style.display="none",r.style.pointerEvents="none",o.className=e+"placeholder-int",r.appendChild(o),r},t.prototype.removeChildren=function(e){var r=e.viewLayer;r&&(r.remove(),delete e.viewLayer)},t.prototype.addTo=function(e){this.addToCollection(e,null,this.collection.indexOf(e))},t.prototype.addToCollection=function(e,r,o){var i=this,a=i.parentView,s=i.opt,l=i.config,u=i.el,c=s.ItemView,d=s.opened,f=s.module,h=s.level,p=s.sorter,v=e.viewLayer||new c({ItemView:c,level:h,model:e,parentView:a,config:l,sorter:p,opened:d,module:f}),g=v.render().el;if(r)r.appendChild(g);else{var _=u,S=_.childNodes;if((0,oe.isUndefined)(o))_.appendChild(g);else{var y=S.length==o;y&&o--,y||!S.length?_.appendChild(g):_.insertBefore(g,S[o])}}return this.items.push(v),g},t.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Qt.Ss.prototype.remove.apply(this,e),this.items.map(function(o){return o.remove()}),this},t.prototype.render=function(){var e=this,r=this,o=r.el,i=r.module,a=document.createDocumentFragment();return o.innerHTML="",this.collection.map(function(s){return i.__getLayerFromComponent(s)}).forEach(function(s){return e.addToCollection(s,a)}),o.appendChild(a),o.className=this.className,this},t})(Qt.Ss);const jIe=QIe;var BI=Tr(9946),$Ie=function(){return{stylePrefix:"com-",defaults:{},strict:!0,defaultOptions:{}}};const KIe=$Ie;var WIe=Tr(1738),zIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),fB=function(){return fB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},fB.apply(this,arguments)},ij=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},aj=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],LX={preserveSelected:1},VX=function(n){return function(t){return n.trigger("".concat(h2,":start"),t)}},NX=function(n){return function(t){return n.trigger(h2,t)}},RX=function(n,t,e){return e===void 0&&(e={}),function(r,o,i){setTimeout(function(){t.forEach(function(a){return a.set("status",a.get("selectable")?"selected":"")}),n.setSelected(t),t[0].emitUpdate()}),n.trigger("".concat(h2,":end"),i),setTimeout(function(){return n.runDefault(LX)}),(e.altMode||i.cancelled)&&n.set("_cmpDrag",1)}},GIe=(function(n){zIe(t,n);function t(e){var r=n.call(this,e,"Commands",KIe())||this;r.CommandAbstract=BI.default,r.defaultCommands={},r.commands={},r.active={},r.events=WIe.A;var o=r.config,i=o.pStylePrefix,a=r.defaultCommands;i&&(o.stylePrefix=i+o.stylePrefix),Object.keys(o.defaults).forEach(function(l){var u=o.defaults[l];u.id&&r.add(u.id,u)}),a["tlb-delete"]={run:function(l){return l.runCommand("core:component-delete")}},a["tlb-clone"]={run:function(l){l.runCommand("core:copy"),l.runCommand("core:paste",{action:"clone-component"})}},a["tlb-move"]={run:function(l,u,c){var d,f;c===void 0&&(c={});var h=l.getModel(),p=c.event,v=c.target,g=Array.isArray(v)?v:v?[v]:ij([],l.getSelectedAll(),!0),_=g.map(function(U){var $,Q;return((Q=($=U.delegate)===null||$===void 0?void 0:$.move)===null||Q===void 0?void 0:Q.call($,U))||U}).filter(Boolean),S=_[_.length-1],y=(p==null?void 0:p.type)==="dragstart",C=["absolute","translate"];if(!(S!=null&&S.get("draggable")))return h.logWarning("The element is not draggable");var T=c.mode||S.get("dmode")||h.get("dmode"),P=function(){return h.stopDefault(LX)},F=(0,oe.includes)(C,T);_.forEach(function(U){return U.trigger("disable",{fromMove:!0})}),y?setTimeout(P,0):P();var I=VX(h),k=NX(h),M=RX(h,_,{altMode:F});if(F)l.runCommand("core:component-drag",{guidesInfo:1,mode:T,target:S,onStart:I,onDrag:k,onEnd:M,event:p});else{y&&((d=p==null?void 0:p.dataTransfer)===null||d===void 0||d.setDragImage((f=S.view)===null||f===void 0?void 0:f.el,0,0));var V=l.Commands.get("move-comp");V.onStart=I,V.onDrag=k,V.onEndMoveFromModel=M,V.initSorterFromModels(_)}_.filter(function(U){return U.get("selectable")}).forEach(function(U){return U.set("status","freezed-selected")})}},a["core:undo"]=function(l){return l.UndoManager.undo()},a["core:redo"]=function(l){return l.UndoManager.redo()},aj.forEach(function(l){var u=l[2],c=Tr(585)("./".concat(l[1])).default,d="core:".concat(l[0]);a[d]=c,u&&(a[u]=c,["run","stop"].forEach(function(f){e.on("".concat(f,":").concat(u),function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return e.trigger.apply(e,ij(["".concat(f,":").concat(d)],h,!1))})}))}),o.model=e.Canvas;for(var s in a)r.add(s,a[s]);return r}return t.prototype.add=function(e,r){var o=(0,oe.isFunction)(r)?{run:r}:r;return o.stop||(o.noStop=!0),delete o.initialize,o.id=e,this.commands[e]=BI.default.extend(o),this},t.prototype.get=function(e){var r=this.commands[e];return(0,oe.isFunction)(r)?(r=new r(this.config),this.commands[e]=r):r||this.em.logWarning("'".concat(e,"' command not found")),r},t.prototype.extend=function(e,r){r===void 0&&(r={});var o=this.get(e);if(o){var i=fB(fB({},o.constructor.prototype),r);this.add(e,i);var a=aj.filter(function(s){return"core:".concat(s[0])===e&&s[2]})[0];a&&this.add(a[2],i)}return this},t.prototype.has=function(e){return!!this.commands[e]},t.prototype.getAll=function(){return this.commands},t.prototype.run=function(e,r){return r===void 0&&(r={}),this.runCommand(this.get(e),r)},t.prototype.stop=function(e,r){return r===void 0&&(r={}),this.stopCommand(this.get(e),r)},t.prototype.isActive=function(e){return this.getActive().hasOwnProperty(e)},t.prototype.getActive=function(){return this.active},t.prototype.runCommand=function(e,r){var o,i;r===void 0&&(r={});var a;if(e!=null&&e.run){var s=this,l=s.em,u=s.config,c=e.id,d=l.Editor;if(!this.isActive(c)||r.force||!u.strict){var f=(i=(o=u.defaultOptions)===null||o===void 0?void 0:o[c])===null||i===void 0?void 0:i.run;(0,oe.isFunction)(f)&&(r=f(r)),a=d&&e.callRun(d,r)}}return a},t.prototype.stopCommand=function(e,r){var o,i;r===void 0&&(r={});var a;if(e!=null&&e.run){var s=this,l=s.em,u=s.config,c=e.id,d=l.Editor;if(this.isActive(c)||r.force||!u.strict){var f=(i=(o=u.defaultOptions)===null||o===void 0?void 0:o[c])===null||i===void 0?void 0:i.stop;(0,oe.isFunction)(f)&&(r=f(r)),a=e.callStop(d,r)}}return a},t.prototype.create=function(e){e.stop||(e.noStop=!0);var r=BI.default.extend(e);return new r(this.config)},t.prototype.__onRun=function(e,r){var o=this,i=o.em,a=o.events;i.on("".concat(a.runCommand).concat(e),r)},t.prototype.__onStop=function(e,r){var o=this,i=o.em,a=o.events;i.on("".concat(a.stopCommand).concat(e),r)},t.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},t})(Ll);const YIe=GIe;var XIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),DD=function(){return DD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},DD.apply(this,arguments)},sj="contentEditable",W1="data-toggle-move",JIe=(function(n){XIe(t,n);function t(e){var r=n.call(this,e)||this;(0,oe.bindAll)(r,"__render"),r.opt=e,r.module=e.module,r.config=e.config||{},r.sorter=e.sorter||"",r.parentView=e.parentView;var o=r,i=o.model,a=o.pfx,s=o.ppfx,l=i.get("type")||"default";return r.className="".concat(a,"layer ").concat(a,"layer__t-").concat(l," no-select ").concat(s,"two-color"),r.inputNameCls="".concat(s,"layer-name"),r.clsTitleC="".concat(a,"layer-title-c"),r.clsTitle="".concat(a,"layer-title"),r.clsCaret="".concat(a,"layer-caret"),r.clsCount="".concat(a,"layer-count"),r.clsMove="".concat(a,"layer-move"),r.clsChildren="".concat(a,"layer-children"),r.clsNoChild="".concat(a,"layer-no-chld"),r.clsEdit="".concat(r.inputNameCls,"--edit"),r.clsNoEdit="".concat(r.inputNameCls,"--no-edit"),r.initComponent(),r}return t.prototype.events=function(){var e;return e={},e["mousedown [".concat(W1,"]")]="startSort",e["touchstart [".concat(W1,"]")]="startSort",e["click [data-toggle-visible]"]="toggleVisibility",e["click [data-toggle-open]"]="toggleOpening",e["click [data-toggle-select]"]="handleSelect",e["mouseover [data-toggle-select]"]="handleHover",e["mouseout [data-toggle-select]"]="handleHoverOut",e["dblclick [data-name]"]="handleEdit",e["keydown [data-name]"]="handleEditKey",e["focusout [data-name]"]="handleEditEnd",e},t.prototype.template=function(e){var r=this,o=r.pfx,i=r.ppfx,a=r.config,s=r.clsNoEdit,l=r.module,u=r.opt,c=r.em,d=a.hidable,f=l.getComponents(e).length,h=f?"":this.clsNoChild,p="".concat(this.clsTitle," ").concat(h),v="".concat(this.clsTitleC),g="".concat(this.inputNameCls," ").concat(s," ").concat(i,"no-app"),_=u.level||0,S="".concat(_*10,"px"),y=e.getName(),C=e.getIcon(),T="".concat(o,"layer"),P=(c==null?void 0:c.getConfig()).icons,F=P,I=F.move,k=F.eye,M=F.eyeOff,V=F.chevron;return`
      <div class="`.concat(o,"layer-item ").concat(i,`one-bg" data-toggle-select>
        <div class="`).concat(o,`layer-item-left">
          `).concat(d?'<i class="'.concat(o,`layer-vis" data-toggle-visible>
                <i class="`).concat(o,'layer-vis-on">').concat(k,`</i>
                <i class="`).concat(o,'layer-vis-off">').concat(M,`</i>
              </i>`):"",`
          <div class="`).concat(v,`">
            <div class="`).concat(p,'" style="padding-left: ').concat(S,`">
              <div class="`).concat(o,'layer-title-inn" title="').concat(y,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(V,`</i>
                  `).concat(C?'<span class="'.concat(T,'__icon">').concat(C,"</span>"):"",`
                <span class="`).concat(g,'" data-name>').concat(y,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(o,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(f||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(W1,">").concat(I||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(t.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),t.prototype.initComponent=function(){var e=this,r=this,o=r.model,i=r.config,a=i.onInit,s=o.components();this.listenTo(s,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(l){return e.listenTo(o,l[0],l[1])}),this.$el.data("model",o),this.$el.data("collection",s),o.viewLayer=this,a.bind(this)({component:o,render:this.__render,listenTo:this.listenTo})},t.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},t.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},t.prototype.updateVisibility=function(){var e=this,r=e.pfx,o=e.model,i=e.module,a="".concat(r,"layer-hidden"),s=!i.isVisible(o),l=s?"addClass":"removeClass";this.$el[l](a),this.getVisibilityEl()[l]("".concat(r,"layer-off"))},t.prototype.updateMove=function(){var e=this,r=e.model,o=e.config,i=this.getItemContainer().find("[".concat(W1,"]"))[0];if(i){var a=r.get("draggable")&&o.sortable;i.style.display=a?"":"none"}},t.prototype.toggleVisibility=function(e){e==null||e.stopImmediatePropagation();var r=this,o=r.module,i=r.model;o.setVisible(i,!o.isVisible(i))},t.prototype.handleEdit=function(e){e==null||e.stopPropagation();var r=this,o=r.em,i=r.$el,a=r.clsNoEdit,s=r.clsEdit,l=this.getInputName();l[sj]="true",l.focus(),document.execCommand("selectAll",!1),o.setEditing(!0),i.find(".".concat(this.inputNameCls)).removeClass(a).addClass(s)},t.prototype.handleEditKey=function(e){e.stopPropagation(),((0,Gt.v$)(e)||(0,Gt.Ci)(e))&&this.handleEditEnd(e)},t.prototype.handleEditEnd=function(e){e==null||e.stopPropagation();var r=this,o=r.em,i=r.$el,a=r.clsNoEdit,s=r.clsEdit,l=r.model,u=this.getInputName(),c=u.textContent;u.scrollLeft=0,u[sj]="false",l.setName(c),o.setEditing(!1),i.find(".".concat(this.inputNameCls)).addClass(a).removeClass(s),this.updateName()},t.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},t.prototype.updateOpening=function(){var e=this,r=e.$el,o=e.model,i=e.pfx,a="open",s="".concat(i,"layer-open"),l=this.getCaret();this.module.isOpen(o)?(r.addClass(a),l.addClass(s)):(r.removeClass(a),l.removeClass(s))},t.prototype.toggleOpening=function(e){var r=this,o=r.model,i=r.module;e==null||e.stopImmediatePropagation(),o.get("components").length&&i.setOpen(o,!i.isOpen(o))},t.prototype.handleSelect=function(e){e==null||e.stopPropagation();var r=this,o=r.module,i=r.model;o.setLayerData(i,{selected:!0},{event:e})},t.prototype.handleHover=function(e){e==null||e.stopPropagation();var r=this,o=r.module,i=r.model;o.setLayerData(i,{hovered:!0})},t.prototype.handleHoverOut=function(e){e==null||e.stopPropagation();var r=this,o=r.module,i=r.model;o.setLayerData(i,{hovered:!1})},t.prototype.startSort=function(e){var r,o,i;e.stopPropagation();var a=this,s=a.em,l=a.sorter,u=a.model;if(!(e.button&&e.button!==0)&&l){var c=((o=(r=u.delegate)===null||r===void 0?void 0:r.move)===null||o===void 0?void 0:o.call(r,u))||u;l.eventHandlers=DD({legacyOnStartSort:VX(s),legacyOnMoveClb:NX(s),legacyOnEndMove:RX(s,[c])},l.eventHandlers);var d=((i=c.viewLayer)===null||i===void 0?void 0:i.el)||e.target;l.startSort([{element:d}])}},t.prototype.updateStatus=function(){yo.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},t.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},t.prototype.checkChildren=function(){var e=this,r=e.model,o=e.clsNoChild,i=e.module,a=i.getComponents(r).length,s=this.getItemContainer(),l=s.find(".".concat(this.clsTitle)),u=s.find("[data-count]");l[a?"removeClass":"addClass"](o),u.html("".concat(a||"")),!a&&i.setOpen(r,!1)},t.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},t.prototype.setRoot=function(e){var r,o=(0,oe.isString)(e)?(r=this.em.getWrapper())===null||r===void 0?void 0:r.find(e)[0]:e;o&&(this.stopListening(),this.model=o,this.initComponent(),this._rendered&&this.render())},t.prototype.updateLayerable=function(){var e=this.parentView,r=e||this;r.render()},t.prototype.__clearItems=function(){var e;(e=this.items)===null||e===void 0||e.remove()},t.prototype.remove=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Qt.Ss.prototype.remove.apply(this,e),delete this.model.viewLayer,this.__clearItems(),this},t.prototype.render=function(){var e=this,r=e.model,o=e.config,i=e.pfx,a=e.ppfx,s=e.opt,l=e.sorter;this.__clearItems();var u=s.opened,c=s.module,d=s.ItemView,f=!c.__isLayerable(r),h=this.$el.empty(),p=s.level+1;delete this.inputName,this.items=new jIe({ItemView:d,collection:r.get("components"),config:o,sorter:l,opened:u,parentView:this,parent:r,level:p,module:c});var v=this.items.render().$el;return!o.showWrapper&&p===1?h.append(v):(h.html(this.template(r)),h.find(".".concat(this.clsChildren)).append(v)),!c.isVisible(r)&&(this.className+=" ".concat(i,"hide")),f&&(this.className+=" ".concat(a,"hidden")),h.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},t.prototype.__render=function(){var e=this,r=e.model,o=e.config,i=e.el,a=o.onRender,s={component:r,el:i};a.bind(this)(s),this.em.trigger("layer:render",s)},t})(Qt.Ss);const ZIe=JIe;var qIe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),UD=function(){return UD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},UD.apply(this,arguments)},kI={mediaText:""},eMe=["open","status","locked","custom-name","components","classes"].map(function(n){return"".concat(Ur.I.update,":").concat(n)}).join(" "),tMe=function(n){return n===void 0&&(n={}),(n.display||"").trim().indexOf("none")===0},nMe=(function(n){qIe(t,n);function t(e){var r=n.call(this,e,"LayerManager",UIe())||this;return r.events=FD,(0,oe.bindAll)(r,"componentChanged","__onRootChange","__onComponent"),r.model=new Qh.A(r,{opened:{}}),r.config.stylePrefix=r.config.pStylePrefix,r}return t.prototype.onLoad=function(){var e=this,r=this,o=r.em,i=r.config,a=r.model;a.listenTo(o,"component:selected",this.componentChanged),a.on("change:root",this.__onRootChange),a.listenTo(o,eMe,this.__onComponent),this.componentChanged(),a.listenToOnce(o,"load",function(){e.setRoot(i.root),e.__appendTo()})},t.prototype.setRoot=function(e){var r=this.em.getWrapper(),o=(0,At.isComponent)(e)?e:r;e&&(0,oe.isString)(e)&&(0,At.hasWin)()&&(o=r.find(e)[0]||r);var i=this.__getLayerFromComponent(o);return this.model.set("root",i),i},t.prototype.getRoot=function(){return this.model.get("root")},t.prototype.getComponents=function(e){var r=this;return e.components().map(function(o){return r.__getLayerFromComponent(o)}).filter(function(o){return r.__isLayerable(o)})},t.prototype.setOpen=function(e,r){e.set("open",r)},t.prototype.isOpen=function(e){return!!e.get("open")},t.prototype.setVisible=function(e,r){var o="__prev-display",i=e.getStyle(kI),a=i.display;if(r){var s=e.get(o);delete i.display,s&&(i.display=s,e.unset(o))}else a&&e.set(o,a),i.display="none";e.setStyle(i,kI),this.updateLayer(e),this.em.trigger("component:toggled")},t.prototype.isVisible=function(e){return!tMe(e.getStyle(kI))},t.prototype.setLocked=function(e,r){e.set("locked",r)},t.prototype.isLocked=function(e){return!!e.get("locked")},t.prototype.setName=function(e,r){e.set("custom-name",r)},t.prototype.getName=function(e){return e.getName()},t.prototype.getLayerData=function(e){var r=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:r==="selected",hovered:r==="hovered",visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},t.prototype.setLayerData=function(e,r,o){var i;o===void 0&&(o={});var a=this,s=a.em,l=a.config,u=r.open,c=r.selected,d=r.hovered,f=r.visible,h=r.locked,p=r.name,v=UD({fromLayers:!0},o);if((0,At.isDef)(u)&&this.setOpen(e,u),(0,At.isDef)(c))if(c){s.setSelected(e,v);var g=l.scrollCanvas;g&&((i=e.views)===null||i===void 0||i.forEach(function(_){return _.scrollIntoView(g)}))}else s.removeSelected(e,v);(0,At.isDef)(d)&&l.showHover&&(d?s.setHovered(e,v):s.setHovered(null,v)),(0,At.isDef)(f)&&f!==this.isVisible(e)&&this.setVisible(e,f),(0,At.isDef)(h)&&this.setLocked(e,h),(0,At.isDef)(p)&&this.setName(e,p)},t.prototype.componentChanged=function(e,r){var o;if(r===void 0&&(r={}),!r.fromLayers){var i=this,a=i.em,s=i.config,l=s.scrollLayers,u=this.model.get("opened"),c=a.getSelected(),d=c==null?void 0:c.parent();for(var f in u)u[f].set("open",!1),delete u[f];for(;d;)d.set("open",!0),u[d.cid]=d,d=d.parent();if(c&&l){var h=(o=c.viewLayer)===null||o===void 0?void 0:o.el;h==null||h.scrollIntoView(l)}}},t.prototype.getAll=function(){return this.view},t.prototype.render=function(){var e,r,o=this,i=o.config,a=o.model,s=ZIe.extend(i.extend);return this.view=new s({el:(e=this.view)===null||e===void 0?void 0:e.el,ItemView:s,level:0,config:i,opened:a.get("opened"),model:this.getRoot(),module:this}),(r=this.view)===null||r===void 0?void 0:r.render().el},t.prototype.destroy=function(){var e;(e=this.view)===null||e===void 0||e.remove()},t.prototype.__onRootChange=function(){var e,r=this,o=r.em,i=r.events,a=this.getRoot();(e=this.view)===null||e===void 0||e.setRoot(a),o.trigger(i.root,a),this.__trgCustom()},t.prototype.__getLayerFromComponent=function(e){var r,o;return((o=(r=e.delegate)===null||r===void 0?void 0:r.layer)===null||o===void 0?void 0:o.call(r,e))||e},t.prototype.__onComponent=function(e){this.updateLayer(e)},t.prototype.__isLayerable=function(e){var r=e.tagName,o=this.config.hideTextnode,i=!o||!e.isInstanceOf("textnode")&&r!=="br";return i&&e.get("layerable")},t.prototype.__trgCustom=function(e){var r=this,o=r.__ctn,i=r.em,a=r.events;this.__ctn=o||(e==null?void 0:e.container),i.trigger(a.custom,{container:this.__ctn,root:this.getRoot()})},t.prototype.updateLayer=function(e,r){var o=this,i=o.em,a=o.events;i.trigger(a.component,e,r)},t})(Ll);const rMe=nMe;var oMe=function(){return{assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""}};const iMe=oMe;var aMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),HX=(function(n){aMe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.getDefaults=function(){return(0,oe.result)(this.prototype,"defaults")},t.prototype.defaults=function(){return{type:"",src:""}},t.prototype.getType=function(){return this.get("type")},t.prototype.getSrc=function(){return this.get("src")||""},t.prototype.getFilename=function(){return this.getSrc().split("/").pop().split("?").shift()},t.prototype.getExtension=function(){return this.getFilename().split(".").pop()},t})(Qt.Kx);const LD=HX;HX.prototype.idAttribute="src";var sMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),AB=function(){return AB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},AB.apply(this,arguments)},lMe=(function(n){sMe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return AB(AB({},LD.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},t})(LD);const uMe=lMe;var cMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),dMe=(function(n){cMe(t,n);function t(e){var r=n.call(this,e)||this;r.options=e,r.collection=e.collection;var o=e.config||{};r.config=o,r.pfx=o.stylePrefix||"",r.ppfx=o.pStylePrefix||"",r.em=o.em,r.className=r.pfx+"asset",r.listenTo(r.model,"destroy remove",r.remove),r.model.view=r;var i=r.init&&r.init.bind(r);return i&&i(e),r}return t.prototype.__getBhv=function(){var e=this.em,r=e==null?void 0:e.Assets;return(r==null?void 0:r.__getBehaviour())||{}},t.prototype.template=function(e,r){var o=this.pfx;return`
      <div class="`.concat(o,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(o,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(o,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},t.prototype.updateTarget=function(e){e&&e.set&&(e.set("attributes",(0,oe.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},t.prototype.getPreview=function(){return""},t.prototype.getInfo=function(){return""},t.prototype.render=function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this},t})(Qt.Ss);const fMe=dMe;var AMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),lj=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},QX=(function(n){AMe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.getPreview=function(){var e=this,r=e.pfx,o=e.ppfx,i=e.model,a=i.get("src");return xl(uj||(uj=lj([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),r,a,r,o)},t.prototype.getInfo=function(){var e=this,r=e.pfx,o=e.model,i=o.get("name"),a=o.get("width"),s=o.get("height"),l=o.get("unitDim"),u=a&&s?"".concat(a,"x").concat(s).concat(l):"";return i=i||o.getFilename(),xl(cj||(cj=lj([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),r,i,r,u)},t.prototype.init=function(e){var r=this.pfx;this.className+=" ".concat(r,"asset-image")},t.prototype.onClick=function(){var e=this,r=e.model,o=e.pfx,i=this.__getBhv().select,a=this.config.onClick,s=this.collection;s.trigger("deselectAll"),this.$el.addClass(o+"highlight"),(0,oe.isFunction)(i)?i(r,!1):(0,oe.isFunction)(a)?a(r):this.updateTarget(s.target)},t.prototype.onDblClick=function(){var e=this,r=e.em,o=e.model,i=this.__getBhv().select,a=this.config.onDblClick,s=this.collection,l=s.target,u=s.onSelect;(0,oe.isFunction)(i)?i(o,!0):(0,oe.isFunction)(a)?a(o):(this.updateTarget(l),r==null||r.Modal.close()),(0,oe.isFunction)(u)&&u(o)},t.prototype.onRemove=function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)},t})(fMe);const hMe=QX;QX.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var uj,cj,hB=function(){return hB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},hB.apply(this,arguments)},pMe={types:[],initialize:function(n,t){var e=this;t===void 0&&(t={});var r=t.em;this.em=r,this.opts=t,this.model=function(i,a){i===void 0&&(i={}),a===void 0&&(a={});var s,l,u;if(i&&i.type){var c=e.getBaseType();u=e.getType(i.type),s=u?u.model:c.model,l=u?u.view:c.view}else{var d=e.recognizeType(i);u=d.type,s=u.model,l=u.view,i=d.attributes}var f=new s(i,hB(hB({},a),{em:r}));return f.typeView=l,e.model.prototype=s.prototype,f};var o=this.init&&this.init.bind(this);o&&o()},recognizeType:function(n){for(var t=this.getTypes(),e=0;e<t.length;e++){var r=t[e],o=r.isType(n);if(o=typeof o=="boolean"&&o?{type:r.id}:o,o)return{type:r,attributes:o}}return{type:this.getBaseType(),attributes:n}},getBaseType:function(){var n=this.getTypes();return n[n.length-1]},getTypes:function(){return this.types},getType:function(n){for(var t=this.getTypes(),e=0;e<t.length;e++){var r=t[e];if(r.id===n)return r}},addType:function(n,t){var e=this.getType(n),r=this.getBaseType(),o=e?e.model:r.model,i=e?e.view:r.view,a=t.model,s=t.view,l=t.isType;a=a instanceof Qt.Kx||(0,oe.isFunction)(a)?a:o.extend(a||{}),s=s instanceof Qt.Ss||(0,oe.isFunction)(s)?s:i.extend(s||{}),this.extendViewApi&&!t.model&&!t.view&&(s=s.extend(t)),e?(e.model=a,e.view=s,e.isType=l||e.isType):(t.id=n,t.model=a,t.view=s,t.isType=l||function(u){if(u&&u.type==n)return!0},this.getTypes().unshift(t))}};const jX=pMe;var mMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),vMe=Qt.pM.extend(jX),$X=(function(n){mMe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(vMe);const TI=$X;$X.prototype.types=[{id:"image",model:uMe,view:hMe,isType:function(n){return typeof n=="string"?{type:"image",src:n}:n}}];var VD;(function(n){n.add="asset:add",n.remove="asset:remove",n.removeBefore="asset:remove:before",n.update="asset:update",n.open="asset:open",n.close="asset:close",n.uploadStart="asset:upload:start",n.uploadEnd="asset:upload:end",n.uploadError="asset:upload:error",n.uploadResponse="asset:upload:response",n.custom="asset:custom",n.all="asset"})(VD||(VD={}));const dj=VD;var gMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),KX=(function(n){gMe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.options=e,r.config=e.config,r.pfx=r.config.stylePrefix||"",r.ppfx=r.config.pStylePrefix||"",r.em=r.config.em;var o=r.collection;return r.listenTo(o,"reset",r.renderAssets),r.listenTo(o,"add",r.addToAsset),r.listenTo(o,"remove",r.removedAsset),r.listenTo(o,"deselectAll",r.deselectAll),r}return t.prototype.template=function(e){var r=e.pfx,o=e.ppfx,i=e.em,a="";return this.config.showUrlInput&&(a=`
          <form class="`.concat(r,`add-asset">
            <div class="`).concat(o,"field ").concat(r,`add-field">
              <input placeholder="`).concat(i==null?void 0:i.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(o,'btn-prim">').concat(i==null?void 0:i.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(r,`assets-cont">
      <div class="`).concat(r,`assets-header">
        `).concat(a,`
      </div>
      <div class="`).concat(r,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},t.prototype.handleSubmit=function(e){e.preventDefault();var r=this.getAddInput(),o=r&&r.value.trim(),i=this.config.handleAdd;if(o){r.value="";var a=this.getAssetsEl();a&&(a.scrollTop=0),i?i.bind(this)(o):this.options.globalCollection.add(o,{at:0})}},t.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},t.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},t.prototype.removedAsset=function(e){this.collection.length||this.toggleNoAssets()},t.prototype.addToAsset=function(e){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(e)},t.prototype.addAsset=function(e,r){r===void 0&&(r=null);var o=r,i=this.collection,a=this.config,s=new e.typeView({model:e,collection:i,config:a}).render().el;if(o)o.appendChild(s);else{var l=this.getAssetsEl();l&&l.insertBefore(s,l.firstChild)}return s},t.prototype.toggleNoAssets=function(e){e===void 0&&(e=!1);var r=this.$el.find(".".concat(this.pfx,"assets"));if(e)r.empty();else{var o=this.config.noAssets;o&&r.append(o)}},t.prototype.deselectAll=function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},t.prototype.renderAssets=function(){var e=this,r=document.createDocumentFragment(),o=this.$el.find(".".concat(this.pfx,"assets"));o.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(i){return e.addAsset(i,r)}),o.append(r)},t.prototype.render=function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},t})(Qt.Ss);const yMe=KX;KX.prototype.events={submit:"handleSubmit"};var bMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),wMe=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},_Me=(function(n){bMe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;r.options=e;var o=e.config||{};r.module=e.module,r.config=o,r.em=r.config.em,r.pfx=o.stylePrefix||"",r.ppfx=o.pStylePrefix||"",r.target=r.options.globalCollection||{},r.uploadId=r.pfx+"uploadFile",r.disabled=o.disableUpload!==void 0?o.disableUpload:!o.upload&&!o.embedAsBase64,r.multiUpload=o.multiUpload!==void 0?o.multiUpload:!0;var i=o.uploadFile;return i?r.uploadFile=i.bind(r):!o.upload&&o.embedAsBase64&&(r.uploadFile=t.embedAsBase64),r.delegateEvents(),r}return t.prototype.template=function(e){var r=e.pfx,o=e.title,i=e.uploadId,a=e.disabled,s=e.multiUpload;return xl(fj||(fj=wMe([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),r,o,i,a?"disabled":"",s?"multiple":"")},t.prototype.events=function(){return{"change [data-input]":"uploadFile"}},t.prototype.onUploadStart=function(){var e=this.module;e==null||e.__propEv(e.events.uploadStart)},t.prototype.onUploadEnd=function(e){var r=this,o=r.$el,i=r.module;i==null||i.__propEv(i.events.uploadEnd,e);var a=o.find("input");a&&a.val("")},t.prototype.onUploadError=function(e){var r=this.module;console.error(e),this.onUploadEnd(e),r==null||r.__propEv(r.events.uploadError,e)},t.prototype.onUploadResponse=function(e,r){var o=this,i=o.module,a=o.config,s=o.target,l;try{l=typeof e=="string"?JSON.parse(e):e}catch{l=e}i==null||i.__propEv(i.events.uploadResponse,l),a.autoAdd&&s&&s.add(l.data,{at:0}),this.onUploadEnd(e),r==null||r(l)},t.prototype.uploadFile=function(e,r,o){var i=this,a,s=e.dataTransfer?e.dataTransfer.files:(a=e.target)===null||a===void 0?void 0:a.files,l=this.config,u=l.beforeUpload,c=u&&u(s);if(c!==!1){var d=new FormData,f=l.params,h=l.customFetch,p=l.fetchOptions;for(var v in f)d.append(v,f[v]);if(this.multiUpload)for(var g=0;g<s.length;g++)d.append("".concat(l.uploadName).concat(l.multiUploadSuffix),s[g]);else s.length&&d.append(l.uploadName,s[0]);var _=l.upload,S=l.headers,y="X-Requested-With";if(typeof S[y]>"u"&&(S[y]="XMLHttpRequest"),_){this.onUploadStart();var C={method:"post",credentials:l.credentials||"include",headers:S,body:d},T=(p==null?void 0:p(C))||C,P=h?h(_,T):TX(_,T).then(function(F){return(F.status/200|0)==1?F.text():F.text().then(function(I){return Promise.reject(I)})});return P.then(function(F){return i.onUploadResponse(F,r)}).catch(function(F){return i.onUploadError(F)})}}},t.prototype.initDrop=function(){var e=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var r=this.uploadForm;"draggable"in r&&(this.uploadForm.ondragover=function(){return r.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return r.className="",!1},this.uploadForm.ondrop=function(o){r.className="",o.preventDefault(),e.uploadFile(o)})}},t.prototype.initDropzone=function(e){var r=this,o=0,i=this.config,a=e.model,s=e.el,l=a.Editor,u=a.Canvas.getBody(),c=this.ppfx,d="".concat(c,"dropzone-active"),f="".concat(c,"dropzone"),h=function(){s.className=s.className.replace(d,"").trim(),o=0},p=function(){return o||(s.className+=" ".concat(d),o=1),!1},v=function(){return h(),!1},g=function(_){if(h(),_.preventDefault(),_.stopPropagation(),r.uploadFile(_),i.openAssetsOnDrop&&l){var S=l.getSelected();l.runCommand("open-assets",{target:S,onSelect:function(){l.Modal.close(),l.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(f,'">').concat(i.dropzoneContent,"</div>")),h(),"draggable"in s&&[s,u].forEach(function(_){_.ondragover=p,_.ondragleave=v,_.ondrop=g})},t.prototype.render=function(){var e=this,r=e.$el,o=e.pfx,i=e.em;return r.html(this.template({title:i&&i.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:o})),this.initDrop(),r.attr("class",o+"file-uploader"),this},t.embedAsBase64=function(e,r){var o=this,i=e.dataTransfer?e.dataTransfer.files:e.target.files,a={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var s=[],l=/^(.+)\/(.+)$/,u=function(h){var p=new Promise(function(v,g){var _=new FileReader;_.addEventListener("load",function(S){var y,C=h.name,T=l.exec(h.type);if(T?y=T[1]:y=h.type,y==="image"){var P={src:_.result,name:C,type:y,height:0,width:0},F=new Image;F.addEventListener("error",function(I){g(I)}),F.addEventListener("load",function(){P.height=F.height,P.width=F.width,v(P)}),F.src=P.src}else v(y?{src:_.result,name:C,type:y}:_.result)}),_.addEventListener("error",function(S){g(S)}),_.addEventListener("abort",function(S){g("Aborted")}),_.readAsDataURL(h)});s.push(p)},c=0,d=i;c<d.length;c++){var f=d[c];u(f)}return Promise.all(s).then(function(h){a.data=h,o.onUploadResponse(a,r)},function(h){o.onUploadError(h)})},t})(Qt.Ss);const CMe=_Me;var fj,SMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Mg=function(){return Mg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Mg.apply(this,arguments)},Aj=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},W0="open-assets",xMe=(function(n){SMe(t,n);function t(e){var r=n.call(this,e,"AssetManager",new TI([],e),dj,iMe())||this;r.storageKey="assets",r.Asset=LD,r.Assets=TI,r.events=dj;var o=r,i=o.all,a=o.config;r.assetsVis=new TI([]);var s=a.pStylePrefix;return s&&(a.stylePrefix="".concat(s).concat(a.stylePrefix)),i.on("add",function(l){return r.getAllVisible().add(l)}),i.on("remove",function(l){return r.getAllVisible().remove(l)}),r.__onAllEvent=(0,oe.debounce)(function(){return r.__trgCustom()},0),r}return t.prototype.open=function(e){e===void 0&&(e={});var r=this.em.Commands;r.run(W0,Mg({types:["image"],select:function(){}},e))},t.prototype.close=function(){var e=this.em.Commands;e.stop(W0)},t.prototype.isOpen=function(){var e=this.em.Commands;return!!(e!=null&&e.isActive(W0))},t.prototype.add=function(e,r){return r===void 0&&(r={}),typeof r.at>"u"&&(r.at=0),this.all.add(e,r)},t.prototype.get=function(e){return this.all.where({src:e})[0]||null},t.prototype.getAll=function(){return this.all},t.prototype.getAllVisible=function(){return this.assetsVis},t.prototype.remove=function(e,r){return this.__remove(e,r)},t.prototype.store=function(){return this.getProjectData()},t.prototype.load=function(e){return this.loadProjectData(e)},t.prototype.getContainer=function(){var e,r=this.__getBehaviour();return r.container||((e=this.am)===null||e===void 0?void 0:e.el)},t.prototype.getAssetsEl=function(){var e;return(e=this.am)===null||e===void 0?void 0:e.el.querySelector("[data-el=assets]")},t.prototype.render=function(e){if(!this.getConfig().custom){var r=e||this.getAll().models;if(!this.am){var o=this.__viewParams();o.fu=this.FileUploader(),this.am=new yMe(Mg({},o)),this.am.render()}return this.assetsVis.reset(r),this.getContainer()}},t.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},t.prototype.addType=function(e,r){this.getAll().addType(e,r)},t.prototype.getType=function(e){return this.getAll().getType(e)},t.prototype.getTypes=function(){return this.getAll().getTypes()},t.prototype.AssetsView=function(){return this.am},t.prototype.FileUploader=function(){return this.fu||(this.fu=new CMe(this.__viewParams())),this.fu},t.prototype.onLoad=function(){var e=this;this.getAll().reset(this.config.assets);var r=this,o=r.em,i=r.events;o.Commands.__onRun(W0,function(){return e.__propEv(i.open)}),o.Commands.__onStop(W0,function(){return e.__propEv(i.close)})},t.prototype.postRender=function(e){var r;this.config.dropzone&&((r=this.fu)===null||r===void 0||r.initDropzone(e))},t.prototype.setTarget=function(e){this.assetsVis.target=e},t.prototype.onSelect=function(e){this.assetsVis.onSelect=e},t.prototype.onClick=function(e){this.config.onClick=e},t.prototype.onDblClick=function(e){this.config.onDblClick=e},t.prototype.__propEv=function(e){for(var r,o,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];(r=this.em).trigger.apply(r,Aj([e],i,!1)),(o=this.getAll()).trigger.apply(o,Aj([e],i,!1))},t.prototype.__trgCustom=function(){var e=this.__getBehaviour(),r=this.getConfig().custom;!e.container&&!r.open||this.em.trigger(this.events.custom,this.__customData())},t.prototype.__customData=function(){var e=this,r=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:r.types||[],container:r.container,close:function(){return e.close()},remove:function(o,i){return e.remove(o,i)},select:function(o,i){var a=e.add(o);(0,oe.isFunction)(r.select)&&r.select(a,i)},options:r.options||{}}},t.prototype.__behaviour=function(e){return e===void 0&&(e={}),this._bhv=Mg(Mg({},this._bhv||{}),e)},t.prototype.__getBehaviour=function(e){return this._bhv||{}},t.prototype.destroy=function(){var e,r;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(e=this.fu)===null||e===void 0||e.remove(),(r=this.am)===null||r===void 0||r.remove(),this._bhv={}},t})(pA);const EMe=xMe;var BMe=function(){return{default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]}};const kMe=BMe;var TMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),OMe=(function(n){TMe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},t.prototype.initialize=function(){var e=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var r=["width","height","widthMedia"];r.forEach(function(o){return e.checkUnit(o)})},t.prototype.checkUnit=function(e){var r=this.get(e)||"",o=(parseFloat(r)||0).toString()===r.toString();o&&this.set(e,"".concat(r,"px"))},t.prototype.getName=function(){return this.get("name")||this.get("id")},t.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},t})(Qt.Kx);const WX=OMe;var PMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),zX=(function(n){PMe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t})(Qt.pM);const hj=zX;zX.prototype.model=WX;var IMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),MMe=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},FMe=(function(n){IMe(t,n);function t(e){var r=n.call(this,e)||this;return r.config=e.config||{},r.em=r.config.em,r.ppfx=r.config.pStylePrefix||"",r.listenTo(r.em,"change:device",r.updateSelect),r}return t.prototype.template=function(e){var r=e.ppfx,o=e.label;return xl(pj||(pj=MMe([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),r,o,r,r,r,r,r,r,r)},t.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},t.prototype.startAdd=function(){},t.prototype.updateDevice=function(){var e=this.em;if(e){var r=this.devicesEl;e.set("device",r?r.val():"")}},t.prototype.updateSelect=function(){var e=this,r=e.em,o=e.devicesEl;if(r&&r.getDeviceModel&&o){var i=r.getDeviceModel();o.val(i?i.get("id"):"")}},t.prototype.getOptions=function(){var e=this,r=e.collection,o=e.em,i="";return r.forEach(function(a){var s=a.attributes,l=s.name,u=s.id,c=o&&o.t&&o.t("deviceManager.devices.".concat(u))||l;i+='<option value="'.concat(u||l,'">').concat(c,"</option>")}),i},t.prototype.render=function(){var e=this,r=e.em,o=e.ppfx,i=e.$el,a=e.el,s=r&&r.t&&r.t("deviceManager.device");return i.html(this.template({ppfx:o,label:s})),this.devicesEl=i.find(".".concat(o,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(r.get("device")),a.className="".concat(o,"devices-c"),this},t})(Qt.Ss);const DMe=FMe;var pj,UMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),zb=function(){return zb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},zb.apply(this,arguments)},LMe=(function(n){UMe(t,n);function t(e){var r,o=n.call(this,e,"DeviceManager",new hj,V7,kMe())||this;return o.Device=WX,o.Devices=hj,o.storageKey="",o.devices=o.all,(r=o.config.devices)===null||r===void 0||r.forEach(function(i){return o.add(i,{silent:!0})}),o.select(o.config.default||o.devices.at(0)),e.on("change:device",o._onSelect,o),o}return t.prototype._onSelect=function(e,r,o){var i=this,a=i.em,s=i.events,l=e.previous("device"),u=this.get(r),c=s.select;a.trigger(c,u,this.get(l)),this.__catchAllEvent(c,u,o)},t.prototype.add=function(e,r){r===void 0&&(r={});var o,i=r;if((0,oe.isString)(e)){var a=r;i=arguments[2]||{},o=zb(zb({},i),{id:e,name:i.name||e,width:a})}else o=e;return o.id||(o.id=o.name||this._createId()),this.devices.add(o,i)},t.prototype.get=function(e){var r=this.getAll().filter(function(o){return o.get("name")===e})[0];return r||this.devices.get(e)||null},t.prototype.remove=function(e,r){return r===void 0&&(r={}),this.__remove(e,r)},t.prototype.getDevices=function(){return this.devices.models},t.prototype.select=function(e,r){r===void 0&&(r={});var o=(0,oe.isString)(e)?this.get(e):e;return o&&this.em.set("device",o.get("id"),r),this},t.prototype.getSelected=function(){return this.get(this.em.get("device"))},t.prototype.getAll=function(){return this.devices},t.prototype.render=function(){var e,r=this.em;return(e=this.view)===null||e===void 0||e.remove(),this.view=new DMe({collection:this.devices,config:zb({em:r},this.config)}),this.view.render().el},t.prototype.destroy=function(){this.__destroy()},t})(pA);const VMe=LMe;var NMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),RMe=(function(n){NMe(t,n);function t(e,r){r===void 0&&(r={});var o=n.call(this,e,r)||this,i=r.em,a={};o.em=i,e.frames||(a.component=e.component,a.styles=e.styles,["component","styles"].map(function(u){return o.unset(u)}));var s=e.frames||[a],l=new R7(i.Canvas,s);return l.page=o,o.set("frames",l),!o.getId()&&o.set("id",i==null?void 0:i.Pages._createId()),i==null||i.UndoManager.add(l),o}return t.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},t.prototype.onRemove=function(){this.getFrames().reset()},t.prototype.getFrames=function(){return this.get("frames")},t.prototype.getId=function(){return this.id},t.prototype.getName=function(){return this.get("name")},t.prototype.setName=function(e){return this.set({name:e})},t.prototype.getAllFrames=function(){return this.getFrames().models||[]},t.prototype.getMainFrame=function(){return this.getFrames().at(0)},t.prototype.getMainComponent=function(){var e=this.getMainFrame();return e==null?void 0:e.getComponent()},t.prototype.toJSON=function(e){e===void 0&&(e={});var r=Qt.Kx.prototype.toJSON.call(this,e),o=(0,oe.result)(this,"defaults");return(0,oe.forEach)(r,function(i,a){a.indexOf("_")===0&&delete r[a]}),(0,oe.forEach)(o,function(i,a){r[a]===i&&delete r[a]}),r},t})(Qt.Kx);const ND=RMe;var HMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),pB=function(){return pB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},pB.apply(this,arguments)},QMe=(function(n){HMe(t,n);function t(e,r){var o=n.call(this,e)||this;return o.on("reset",o.onReset),o.on("remove",o.onRemove),o.model=function(i,a){return a===void 0&&(a={}),new ND(i,pB(pB({},a),{em:r}))},o}return t.prototype.onReset=function(e,r){var o=this,i;(i=r==null?void 0:r.previousModels)===null||i===void 0||i.map(function(a){return o.onRemove(a,o,r)})},t.prototype.onRemove=function(e,r,o){o===void 0&&(o={}),!(o.fromUndo||o.temporary)&&(e==null||e.onRemove())},t})(Qt.pM);const jMe=QMe;var $Me=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Fg=function(){return Fg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Fg.apply(this,arguments)},KMe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},WMe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},mj="change:selected",vj="main",zMe=(function(n){$Me(t,n);function t(e){var r=n.call(this,e,"PageManager",new jMe([],e),pD)||this;r.events=pD,r.storageKey="pages",(0,oe.bindAll)(r,"_onPageChange");var o=new Qh.A(r,{_undo:!0});return r.model=o,r.pages.on("reset",r.__onReset,r),r.pages.on("all",r.__onChange,r),o.on(mj,r._onPageChange),r}return Object.defineProperty(t.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),t.prototype.getAll=function(){return WMe([],this.all.models,!0)},t.prototype.__onChange=function(e,r,o,i){var a=this,s=a.em,l=a.events,u=i||o;s.trigger(l.all,{event:e,page:r,options:u})},t.prototype.__onReset=function(){var e=this.pages.at(0);e&&this.select(e)},t.prototype.onLoad=function(){var e,r=this,o=r.pages,i=r.config,a=r.em,s={silent:!0},l=((e=i.pages)===null||e===void 0?void 0:e.map(function(c){return new ND(c,{em:a,config:i})}))||[];o.add(l,s);var u=o.length?this._initPage():this.add({type:vj},s);u&&this.select(u,s)},t.prototype._onPageChange=function(e,r,o){var i=this,a=i.em,s=i.events,l=a.Layers,u=r.getMainComponent();l&&u&&l.setRoot(u),a.trigger(s.select,r,e.previous("selected")),this.__onChange(mj,r,o)},t.prototype.postLoad=function(){var e=this,r=e.em,o=e.model,i=e.pages,a=r.UndoManager;a.add(o),a.add(i),i.on("add remove reset change",function(s,l,u){var c=u||l;r.changesUp(u||l,{page:s,options:c})})},t.prototype.add=function(e,r){var o=this;r===void 0&&(r={});var i=this,a=i.em,s=i.events;e.id=e.id||this._createId();var l=function(){var u=o.pages.add(new ND(e,{em:o.em,config:o.config}),r);return r.select&&o.select(u),u};return!r.silent&&a.trigger(s.addBefore,e,l,r),r.abort?void 0:l()},t.prototype.remove=function(e,r){var o=this;r===void 0&&(r={});var i=this,a=i.em,s=i.events,l=(0,oe.isString)(e)?this.get(e):e,u=function(){return l&&o.pages.remove(l,r),l};return!r.silent&&a.trigger(s.removeBefore,l,u,r),!r.abort&&u()},t.prototype.move=function(e,r){r===void 0&&(r={});var o=this.pages,i=(0,oe.isString)(e)?this.get(e):e,a=r.at,s=a===void 0?0:a,l=KMe(r,["at"]);if(i){var u=o.indexOf(i),c=u===s;if(!(s<0||s>=o.length||c))return this.remove(i,Fg(Fg({},l),{temporary:!0})),o.add(i,Fg(Fg({},l),{at:s})),i}},t.prototype.get=function(e){return this.pages.filter(function(r){return r.get(r.idAttribute)===e})[0]},t.prototype.getMain=function(){var e=this.pages;return e.filter(function(r){return r.get("type")===vj})[0]||e.at(0)},t.prototype.getAllWrappers=function(){var e=this.getAll();return(0,oe.unique)((0,oe.flatten)(e.map(function(r){return r.getAllFrames().map(function(o){return o.getComponent()})})))},t.prototype.select=function(e,r){r===void 0&&(r={});var o=this,i=o.em,a=o.model,s=o.events,l=(0,oe.isString)(e)?this.get(e):e;return l&&(i.trigger(s.selectBefore,l,r),a.set("selected",l,r)),this},t.prototype.getSelected=function(){return this.model.get("selected")},t.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(r){return e[r]=0})},t.prototype.store=function(){return this.getProjectData()},t.prototype.load=function(e){var r=this,o=this.loadProjectData(e,{all:this.pages,reset:!0,onResult:function(i,a){i.forEach(function(s){return r.add(s,a)}),r.__onReset()}});return this.pages.forEach(function(i){return i.getFrames().initRefs()}),o},t.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},t.prototype._createId=function(){var e=this.getAll(),r=e.length+16,o=this.getAllMap(),i;do i=(0,At.createId)(r);while(o[i]);return i},t})(pA);const GMe=zMe;var OI={placeholder:"eg. Text here"};const YMe={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:OI,alt:OI,title:OI,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}};var XMe=function(){return{locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:YMe},messagesAdd:void 0}};const JMe=XMe;var RD;(function(n){n.add="i18n:add",n.update="i18n:update",n.locale="i18n:locale"})(RD||(RD={}));const ZMe=RD;var qMe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),eFe=(function(n){qMe(t,n);function t(e){var r=n.call(this,e,"I18n",JMe())||this;r.events=ZMe;var o=r.config.messagesAdd;return o&&r.addMessages(o),r.config.detectLocale&&(r.config.locale=r._localLang()),r}return t.prototype.setLocale=function(e){var r=this,o=r.em,i=r.config,a=r.events;return o.trigger(a.locale,{value:e,valuePrev:i.locale}),i.locale=e,this},t.prototype.getLocale=function(){return this.config.locale},t.prototype.getMessages=function(e,r){r===void 0&&(r={});var o=this.config.messages;return e&&!o[e]&&this._debug("'".concat(e,"' i18n lang not found"),r),e?o[e]:o},t.prototype.setMessages=function(e){var r=this,o=r.em,i=r.config,a=r.events;return i.messages=e,o.trigger(a.update,e),this},t.prototype.addMessages=function(e){var r=this,o=r.em,i=r.events,a=r.config,s=a.messages;return o.trigger(i.add,e),this.setMessages((0,At.deepMerge)(s,e)),this},t.prototype.t=function(e,r){r===void 0&&(r={});var o=this.config,i=r.params||{},a=r.l||this.getLocale(),s=r.lFlb||o.localeFallback,l=this._getMsg(e,a,r);return l||(l=this._getMsg(e,s,r)),!l&&this._debug("'".concat(e,"' i18n key not found in '").concat(a,"' lang"),r),l=l&&(0,oe.isString)(l)?this._addParams(l,i):l,l},t.prototype._localLang=function(){var e=(0,At.hasWin)()&&window.navigator||{},r=e.language||e.userLanguage;return r?r.split("-")[0]:"en"},t.prototype._addParams=function(e,r){var o=new RegExp("{([\\w\\d-]*)}","g");return e.replace(o,function(i,a){return r[a]||""}).trim()},t.prototype._getMsg=function(e,r,o){o===void 0&&(o={});var i=this.getMessages(r,o);if(i){var a=i[e];return!a&&e.indexOf(".")>0&&(a=e.split(".").reduce(function(s,l){if(!(0,oe.isUndefined)(s))return s[l]},i)),a}},t.prototype._debug=function(e,r){r===void 0&&(r={});var o=this,i=o.em,a=o.config;(r.debug||a.debug)&&i&&i.logWarning(e)},t.prototype.destroy=function(){},t})(Ll);const tFe=eFe;var Vp=function(){return Vp=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Vp.apply(this,arguments)},nFe=function(n,t){t===void 0&&(t={});var e=t.prefix||"",r=document.createElement("i");return r.className=e+"resizer-h "+e+"resizer-h-"+n,r.setAttribute("data-"+e+"handler",n),r},rFe=function(n,t){var e=window,r=n.getBoundingClientRect();return{left:r.left+e.pageXOffset,top:r.top+e.pageYOffset,width:r.width,height:r.height}},oFe=(function(){function n(t){t===void 0&&(t={}),this.moved=!1,this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=Vp({},this.defOpts),this.setOptions(t),(0,oe.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return n.prototype.getConfig=function(){return this.opts},n.prototype.setOptions=function(t,e){t===void 0&&(t={}),this.opts=Vp(Vp({},e?this.defOpts:this.opts),t),this.setup()},n.prototype.setup=function(){var t=this.opts,e=t.prefix||"",r=t.appendTo||document.body,o=this.container;for(o||(o=document.createElement("div"),o.className="".concat(e,"resizer-c"),r.appendChild(o),this.container=o);o.firstChild;)o.removeChild(o.firstChild);var i={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(l){return i[l]=t[l]?nFe(l,t):null});for(var a in i){var s=i[a];s&&o.appendChild(s)}this.handlers=i,this.mousePosFetcher=t.mousePosFetcher,this.updateTarget=t.updateTarget,this.posFetcher=t.posFetcher,this.onStart=t.onStart,this.onMove=t.onMove,this.onEnd=t.onEnd,this.onUpdateContainer=t.onUpdateContainer},n.prototype.toggleFrames=function(t){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");(0,oe.each)(e,function(r){return r.style.pointerEvents=t?"none":""})}},n.prototype.isHandler=function(t){var e=this.handlers;for(var r in e)if(e[r]===t)return!0;return!1},n.prototype.getFocusedEl=function(){return this.el},n.prototype.getParentEl=function(){var t;return(t=this.el)===null||t===void 0?void 0:t.parentElement},n.prototype.getDocumentEl=function(){return this.opts.docs||[this.el.ownerDocument,document]},n.prototype.getElementPos=function(t,e){e===void 0&&(e={});var r=this.posFetcher;return r?r(t,e):rFe(t)},n.prototype.focus=function(t){t&&t===this.el||(this.el=t,this.updateContainer({forceShow:!0}),(0,Gt.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},n.prototype.blur=function(){this.container.style.display="none",this.el&&((0,Gt.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},n.prototype.start=function(t){var e,r=this,o=r.el,i=r.opts,a=i===void 0?{}:i;if(this.moved=!1,!(t.button!==0||!o)){t.preventDefault(),t.stopPropagation(),(e=this.selectedHandler)===null||e===void 0||e.setPointerCapture(t.pointerId);var s=this.getParentEl(),l=this,u=a,c=this.mousePosFetcher,d="data-"+u.prefix+"handler",f=this.getElementPos(o,{avoidFrameZoom:!0,avoidFrameOffset:!0}),h=this.getElementPos(s),p=t.target;this.handlerAttr=p.getAttribute(d),this.clickedHandler=p,this.startDim={t:f.top,l:f.left,w:f.width,h:f.height},this.rectDim={t:f.top,l:f.left,w:f.width,h:f.height},this.startPos=c?c(t):{x:t.clientX,y:t.clientY},this.parentDim={t:h.top,l:h.left,w:h.width,h:h.height};var v=this.getDocumentEl();this.docs=v,(0,Gt.on)(v,"pointermove",this.move),(0,Gt.on)(v,"keydown",this.handleKeyDown),(0,Gt.on)(v,"pointerup",this.stop),(0,oe.isFunction)(this.onStart)&&this.onStart(t,{docs:v,config:u,el:o,resizer:l}),this.toggleFrames(!0),!u.updateOnMove&&this.move(t)}},n.prototype.move=function(t){var e,r;this.moved=!0;var o=this.el,i=this.opts,a=this.docs||this.getDocumentEl(),s=((e=this.mousePosFetcher)===null||e===void 0?void 0:e.call(this,t))||{x:t.clientX,y:t.clientY};this.currentPos=s,this.delta={x:s.x-this.startPos.x,y:s.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1,t),(r=this.onMove)===null||r===void 0||r.call(this,t,{docs:a,config:i,el:o,resizer:this})},n.prototype.stop=function(t){var e,r,o=this.el,i=this.opts,a=this.docs||this.getDocumentEl();(0,Gt.AU)(a,"pointermove",this.move),(0,Gt.AU)(a,"keydown",this.handleKeyDown),(0,Gt.AU)(a,"pointerup",this.stop),(this.moved||!i.updateOnMove)&&this.updateRect(!0,t),t.pointerId&&((e=this.selectedHandler)===null||e===void 0||e.releasePointerCapture(t.pointerId)),this.toggleFrames(),(r=this.onEnd)===null||r===void 0||r.call(this,t,{docs:a,config:i,el:o,resizer:this}),this.moved=!1,delete this.docs},n.prototype.updateRect=function(t,e){var r=this.el,o=this,i=this.opts,a=this.rectDim,s=this.updateTarget,l=this.getSelectedHandler(),u=i.unitHeight,c=i.unitWidth,d=i.keyWidth,f=i.keyHeight;if((0,oe.isFunction)(s))s(r,a,{store:t,selectedHandler:l,resizer:o,config:i,event:e});else{var h=r.style;h[d]=a.w+c,h[f]=a.h+u}this.updateContainer()},n.prototype.updateContainer=function(t){var e;t===void 0&&(t={});var r=this,o=r.opts,i=r.container,a=r.el,s=i.style;!o.avoidContainerUpdate&&a&&t.forceShow&&(s.display="block"),(e=this.onUpdateContainer)===null||e===void 0||e.call(this,{el:i,resizer:this,opts:Vp(Vp({},o),t)})},n.prototype.getSelectedHandler=function(){var t=this.handlers;if(this.selectedHandler){for(var e in t)if(t[e]===this.selectedHandler)return e}},n.prototype.handleKeyDown=function(t){t.keyCode===27&&(this.rectDim=this.startDim,this.stop(t))},n.prototype.handleMouseDown=function(t){var e=t.target;this.isHandler(e)?(this.selectedHandler=e,this.start(t)):e!==this.el&&(delete this.selectedHandler,this.blur())},n.prototype.calc=function(t){var e,r=this.opts||{},o=r.step,i=this.startDim,a=r.minDim,s=r.maxDim,l=t.delta.x,u=t.delta.y,c=this.parentDim.w,d=this.parentDim.h,f=r.unitWidth,h=r.unitHeight,p=r.skipUnitAdjustments,v=this.getParentRect(),g=f==="%"&&!p,_=h==="%"&&!p,S=g?i.w/100*c:i.w,y=_?i.h/100*d:i.h,C={t:i.t-v.top,l:i.l-v.left,w:S,h:y};if(t){var T=t.handlerAttr;~T.indexOf("r")&&(e=g?(0,At.normalizeFloat)((S+l*o)/c*100,.01):(0,At.normalizeFloat)(S+l*o,o),e=Math.max(a,e),s&&(e=Math.min(s,e)),C.w=e),~T.indexOf("b")&&(e=_?(0,At.normalizeFloat)((y+u*o)/d*100,.01):(0,At.normalizeFloat)(y+u*o,o),e=Math.max(a,e),s&&(e=Math.min(s,e)),C.h=e),~T.indexOf("l")&&(e=g?(0,At.normalizeFloat)((S-l*o)/c*100,.01):(0,At.normalizeFloat)(S-l*o,o),e=Math.max(a,e),s&&(e=Math.min(s,e)),C.w=e),~T.indexOf("t")&&(e=_?(0,At.normalizeFloat)((y-u*o)/d*100,.01):(0,At.normalizeFloat)(y-u*o,o),e=Math.max(a,e),s&&(e=Math.min(s,e)),C.h=e);var P=r.ratioDefault?!t.keys.shift:t.keys.shift;if(T.indexOf("c")<0&&P){var F=i.w/i.h;C.w/C.h>F?C.h=Math.round(C.w/F):C.w=Math.round(C.h*F)}~T.indexOf("l")&&(C.l+=i.w-C.w),~T.indexOf("t")&&(C.t+=i.h-C.h);for(var I in C){var k=I;C[k]=parseInt("".concat(C[k]),10)}return C}},n.prototype.getParentRect=function(){var t={left:0,top:0,width:0,height:0},e=this.el;if(!e)return t;var r=e.offsetParent;return r&&r.tagName!=="BODY"&&(t=this.getElementPos(r)),t},n})();const iFe=oFe;var Yl=function(){return Yl=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Yl.apply(this,arguments)};function aFe(n,t,e){for(var r={index:0,placement:"before"},o=0,i=0,a=0,s=0,l=0,u=0,c=0,d,f=0,h=n.length;f<h;f++){d=n[f];var p=d.top,v=d.left,g=d.height,_=d.width;if(a=v+_,c=p+g,l=v+_/2,u=p+g/2,!(i&&v>i||s&&u>=s||o&&a<o))if(r.index=f,!d.dir)e<c&&(s=c),t<l?(i=l,r.placement="before"):(o=l,r.placement="after");else if(e<u){r.placement="before";break}else r.placement="after"}return r}function gj(n){var t=n.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}function b2(n,t){return At.matches.call(n,t)}function sFe(n,t){var e=HD(n),r=HD(t),o=r.filter(function(l){return e.includes(l)}),i=o[0];if(!i)return n.model.index()-t.model.index();var a=r[r.indexOf(i)-1],s=e[e.indexOf(i)-1];return s.index()-a.index()}function HD(n){return n?[n].concat(HD(n.parent())):[]}function lFe(n,t){if(n)for(var e=n.parentNode;e&&e.nodeType===1;){if(b2(e,t))return e;e=e.parentNode}}function uFe(n,t){if((0,Gt.ir)(n))return!1;var e=n.style||{},r=(0,Xi.default)(n),o=(0,Xi.default)(t);if(e.overflow&&e.overflow!=="visible")return!1;var i=r.css("float");return i&&i!=="none"||o.css("display")==="flex"&&o.css("flex-direction")!=="column"||!cFe(e.position)?!1:dFe(n)||fFe(r)}function cFe(n){switch(n){case"static":case"relative":case"":return!0;default:return!1}}function dFe(n){var t=["TR","TBODY","THEAD","TFOOT"];return t.includes(n.tagName)}function fFe(n){var t=n.css("display"),e=["block","list-item","table","flex","grid"];return e.includes(t)}function AFe(n){var t={containerContext:{container:"",placeholderElement:"",containerSel:"*",itemSel:"*",pfx:"",document},positionOptions:{borderOffset:10,relative:!1,windowMargin:0,offsetTop:0,offsetLeft:0,scale:1,canvasRelative:!1},dragBehavior:{dragDirection:Km.A.Vertical,nested:!1,selectOnEnd:!0},eventHandlers:{}},e=Yl(Yl(Yl({},t),n),{containerContext:Yl(Yl({},t.containerContext),n.containerContext),positionOptions:Yl(Yl({},t.positionOptions),n.positionOptions),dragBehavior:Yl(Yl({},t.dragBehavior),n.dragBehavior),eventHandlers:Yl(Yl({},t.eventHandlers),n.eventHandlers)});return e}var GX=(function(){function n(t){this.timeout=null,this.threshold=t}return n.prototype.updateArgs=function(t){this.lastArgs=t},n.prototype.execute=function(t){var e=this;this.timeout||(this.timeout=setTimeout(function(){e.lastArgs&&t(e.lastArgs),e.timeout=null},this.threshold))},n.prototype.clearTimeout=function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),delete this.lastArgs},n})(),QD=function(){return QD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},QD.apply(this,arguments)},hFe=(function(){function n(t){this.top=t.top,this.left=t.left,this.height=t.height,this.width=t.width,this.offsets=t.offsets,this.dir=t.dir}return n.prototype.calculateDimensionDifference=function(t){var e=t.top-this.top,r=t.left-this.left;return{topDifference:e,leftDifference:r}},n.prototype.adjustDimensions=function(t){return this.top+=t.topDifference,this.left+=t.leftDifference,this},n.prototype.determinePlacement=function(t,e){var r=this.left+this.width/2,o=this.top+this.height/2;return this.dir?e<o?"before":"after":t<r?"before":"after"},n.prototype.equals=function(t){return t?this.top===t.top&&this.left===t.left&&this.height===t.height&&this.width===t.width&&this.dir===t.dir&&JSON.stringify(this.offsets)===JSON.stringify(t.offsets):!1},n.prototype.clone=function(){return new n({top:this.top,left:this.left,height:this.height,width:this.width,offsets:QD({},this.offsets),dir:this.dir})},n.prototype.getDropArea=function(t){var e=this.clone(),r=this.adjustDropDimension(this.width,this.left,t),o=r.newSize,i=r.newPosition;e.width=o,e.left=i;var a=this.adjustDropDimension(this.height,this.top,t),s=a.newSize,l=a.newPosition;return e.height=s,e.top=l,e},n.prototype.adjustDropDimension=function(t,e,r){var o=r.ratio,i=r.minUndroppableDimension,a=r.maxUndroppableDimension,s=t*(1-o)/2;s=Math.max(s,i),s=Math.min(s,a);var l=t-s*2,u=e+s;return{newSize:l,newPosition:u}},n.prototype.isWithinBounds=function(t,e){return t>=this.left&&t<=this.left+this.width&&e>=this.top&&e<=this.top+this.height},n})();const pFe=hFe;var mFe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),vFe=(function(n){mFe(t,n);function t(e){var r=n.call(this)||this;return r.sourceNodes=[],r.containerOffset={top:0,left:0},r.moveThreshold=20,r.treeClass=e.treeClass,r.em=e.em,r.containerContext=e.containerContext,r.positionOptions=e.positionOptions,r.dragDirection=e.dragDirection,r.eventHandlers=e.eventHandlers,(0,oe.bindAll)(r,"endDrag","cancelDrag","recalculateTargetOnScroll","startSort","onDragStart","onMove"),r.restLastMoveData(),r.rateLimiter=new GX(r.moveThreshold),r}return t.prototype.startSort=function(e){this.sourceNodes=e,this.bindDragEventHandlers()},t.prototype.bindDragEventHandlers=function(){(0,Gt.on)(this.containerContext.container,"dragstart",this.onDragStart),(0,Gt.on)(this.containerContext.container,"mousemove dragover",this.onMove),(0,Gt.on)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},t.prototype.recalculateTargetOnScroll=function(){var e=this.lastMoveData.mouseEvent;e&&this.onMove(e)},t.prototype.onMove=function(e){this.rateLimiter.updateArgs(e),this.rateLimiter.execute(this.handleMove.bind(this))},t.prototype.handleMove=function(e){var r,o,i,a,s,l,u;this.adjustForScroll();var c=this.lastMoveData.targetNode;(o=(r=this.eventHandlers).onMouseMove)===null||o===void 0||o.call(r,e),this.cacheContainerPosition();var d=this.getMousePositionRelativeToContainer(e.clientX,e.clientY),f=d.mouseXRelative,h=d.mouseYRelative,p=this.getMouseTargetElement(e),v=this.getFirstElementWithAModel(p),g=v?(i=(0,Xi.default)(v))===null||i===void 0?void 0:i.data("model"):void 0,_=g?this.getOrCreateHoveredNode(g):void 0,S=_?this.getIndexInParent(_,_.nodeDimensions,f,h):0,y=_?this.getValidParent(_,0,f,h):void 0,C=!(y!=null&&y.equals(c));if(C&&((s=(a=this.eventHandlers).onTargetChange)===null||s===void 0||s.call(a,c,y)),!y||!_){this.triggerLegacyOnMoveCallback(e,0),this.triggerMoveEvent(f,h),this.restLastMoveData();return}var T=this.getDropPosition(y,f,h),P=T.index,F=T.placement,I=T.placeholderDimensions,k=!I.equals(this.lastMoveData.placeholderDimensions)||F!==this.lastMoveData.placement;k&&((u=(l=this.eventHandlers).onPlaceholderPositionChange)===null||u===void 0||u.call(l,I,F)),this.lastMoveData={targetNode:y,hoveredNode:_,mouseEvent:e,index:P,hoveredIndex:S,placement:F,placeholderDimensions:I},this.triggerMoveEvent(f,h),this.triggerLegacyOnMoveCallback(e,P)},t.prototype.adjustForScroll=function(){var e,r,o=this.lastMoveData.targetNode;if(o!=null&&o.element){var i=this.getDim(o==null?void 0:o.element),a=(e=o.nodeDimensions)===null||e===void 0?void 0:e.calculateDimensionDifference(i);a&&o.adjustDimensions(a)}var s=this.lastMoveData.hoveredNode;if(s!=null&&s.element){var i=this.getDim(s==null?void 0:s.element),a=(r=s.nodeDimensions)===null||r===void 0?void 0:r.calculateDimensionDifference(i);a&&s.adjustDimensions(a)}},t.prototype.restLastMoveData=function(){this.lastMoveData={targetNode:void 0,index:void 0,placement:void 0,mouseEvent:void 0}},t.prototype.triggerLegacyOnMoveCallback=function(e,r){var o,i,a,s,l=(o=this.sourceNodes[0])===null||o===void 0?void 0:o.model;(a=(i=this.eventHandlers).legacyOnMoveClb)===null||a===void 0||a.call(i,{event:e,target:l,parent:(s=this.lastMoveData.targetNode)===null||s===void 0?void 0:s.model,index:r})},t.prototype.triggerMoveEvent=function(e,r){var o,i=this.lastMoveData,a=i.targetNode,s=i.placement,l=i.index,u=l?l+(s==="after"?-1:0):0;this.em.trigger("sorter:drag",{target:(a==null?void 0:a.element)||null,targetModel:(o=this.lastMoveData.targetNode)===null||o===void 0?void 0:o.model,sourceModel:this.sourceNodes[0].model,dims:(a==null?void 0:a.childrenDimensions)||[],pos:{index:u,indexEl:u,placement:s},x:e,y:r})},t.prototype.getDropPosition=function(e,r,o){var i,a=e.nodeDimensions,s=e.childrenDimensions,l=e.getChildren(),u=l&&l.length>0;a=a||this.getDim(e.element),e.nodeDimensions=a,s=s||this.getChildrenDim(e),e.childrenDimensions=s;var c=a.clone(),d=0,f="inside";return u&&(i=aFe(s,r,o),d=i.index,f=i.placement,c=s[d].clone(),d=d+(f=="after"?1:0)),{index:d,placement:f,placeholderDimensions:c}},t.prototype.getOrCreateHoveredNode=function(e){var r=this.lastMoveData.hoveredNode,o=new this.treeClass(e),i=o.equals(r),a=i?r:o;return a.nodeDimensions=i?r.nodeDimensions:this.getDim(o.element),a},t.prototype.getMouseTargetElement=function(e){var r=this.containerContext.customTarget,o=this.containerContext.document.elementFromPoint(e.clientX,e.clientY),i=r?r({event:e}):o;return i},t.prototype.onDragStart=function(e){this.eventHandlers.onDragStart&&this.eventHandlers.onDragStart(e)},t.prototype.endDrag=function(){this.dropDragged()},t.prototype.cancelDrag=function(){var e,r,o=this.lastMoveData.targetNode;(r=(e=this.eventHandlers).onTargetChange)===null||r===void 0||r.call(e,o,void 0),this.finalizeMove()},t.prototype.finalizeMove=function(){var e,r,o,i;this.cleanupEventListeners(),this.triggerOnDragEndEvent(),(r=(e=this.eventHandlers).onEnd)===null||r===void 0||r.call(e),(i=(o=this.eventHandlers).legacyOnEnd)===null||i===void 0||i.call(o),this.restLastMoveData(),this.rateLimiter.clearTimeout()},t.prototype.dropDragged=function(){var e,r,o=this.lastMoveData,i=o.targetNode,a=o.index;(r=(e=this.eventHandlers).onDrop)===null||r===void 0||r.call(e,i,this.sourceNodes,a),this.finalizeMove()},t.prototype.triggerOnDragEndEvent=function(){var e=this.lastMoveData.targetNode,r=this.sourceNodes[0];this.em.trigger("sorter:drag:end",{targetCollection:e?e.getChildren():null,modelToDrop:r==null?void 0:r.model,warns:[""],validResult:{result:!0,src:this.sourceNodes.map(function(o){return o.element}),srcModel:r==null?void 0:r.model,trg:e==null?void 0:e.element,trgModel:e==null?void 0:e.model,draggable:!0,droppable:!0},dst:e==null?void 0:e.element,srcEl:r==null?void 0:r.element})},t.prototype.getFirstElementWithAModel=function(e){for(var r=function(o){return(0,Xi.default)(o).data("model")!==void 0};e&&this.containerContext.container.contains(e);){if(r(e))return e;e=e.parentElement}return null},t.prototype.getValidParent=function(e,r,o,i){var a,s;if(e){var l=this.lastMoveData,u=l.targetNode,c=l.hoveredNode,d=l.hoveredIndex,f=l.mouseEvent,h=e.equals(c);e.nodeDimensions=h?c.nodeDimensions:this.getDim(e.element);var p=this.getIndexInParent(e,e.nodeDimensions,o,i),v=p===d,g=e.isWithinDropBounds(o,i),_=h&&v&&g===e.isWithinDropBounds((a=f==null?void 0:f.clientX)!==null&&a!==void 0?a:0,(s=f==null?void 0:f.clientY)!==null&&s!==void 0?s:0);if(_&&u)return u;if(!g)return this.handleParentTraversal(e,o,i);var S=this.sourceNodes.some(function(y){return e.canMove(y,r)});return this.triggerDragValidation(S,e),S?e:this.handleParentTraversal(e,o,i)}},t.prototype.handleParentTraversal=function(e,r,o){var i=e.getParent();if(i){var a=this.getIndexInParent(e,e.nodeDimensions,r,o);if(a!==void 0)return this.getValidParent(i,a,r,o)}},t.prototype.getIndexInParent=function(e,r,o,i){var a=e.getParent();if(a){var s=a==null?void 0:a.indexOfChild(e);return r.dir=this.getDirection(e.element,a.element),s=s+(r.determinePlacement(o,i)=="after"?1:0),s}},t.prototype.triggerDragValidation=function(e,r){var o=this.sourceNodes[0];return this.em.trigger("sorter:drag:validation",{valid:e,src:o==null?void 0:o.element,srcModel:o==null?void 0:o.model,trg:r.element,trgModel:r.model}),o},t.prototype.cleanupEventListeners=function(){var e=this.containerContext.container;(0,Gt.AU)(e,"dragstart",this.onDragStart),(0,Gt.AU)(e,"mousemove dragover",this.onMove),(0,Gt.AU)(this.containerContext.document,"mouseup dragend touchend",this.endDrag)},t.prototype.getDirection=function(e,r){var o;return this.dragDirection===Km.A.Vertical?o=!0:this.dragDirection===Km.A.Horizontal?o=!1:o=uFe(e,r),o},t.prototype.getChildrenDim=function(e){var r=this,o=[],i=e.element;if(!i)return[];var a=e.getChildren();return!a||a.length===0?[]:((0,oe.each)(a,function(s,l){var u=s.element;if(u&&!(!(0,Gt.ir)(u)&&!b2(u,r.containerContext.itemSel))){var c=r.getDim(u);c.dir=r.getDirection(u,i),o.push(c)}}),o)},t.prototype.getMousePositionRelativeToContainer=function(e,r){var o=r-this.containerOffset.top+this.containerContext.container.scrollTop,i=e-this.containerOffset.left+this.containerContext.container.scrollLeft;if(this.positionOptions.canvasRelative){var a=this.em.Canvas.getMouseRelativeCanvas({clientX:e,clientY:r},{noScroll:1});i=a.x,o=a.y}return{mouseXRelative:i,mouseYRelative:o}},t.prototype.cacheContainerPosition=function(){var e=this.containerContext.container,r=gj(e),o=this.positionOptions.windowMargin?Math.abs(r.top):r.top,i=this.positionOptions.windowMargin?Math.abs(r.left):r.left;this.containerOffset={top:o,left:i}},t.prototype.getDim=function(e){var r=this.em,o=this.positionOptions.relative,i=this.positionOptions.windowMargin,a=r==null?void 0:r.Canvas,s=a?a.getElementOffsets(e):{},l,u,c,d;if(this.positionOptions.canvasRelative&&this.em){var f=a.getElementPos(e,{noScroll:1});l=f.top,u=f.left,c=f.height,d=f.width}else{var h=gj(e);l=o?e.offsetTop:h.top-(i?-1:1)*this.containerOffset.top,u=o?e.offsetLeft:h.left-(i?-1:1)*this.containerOffset.left,c=e.offsetHeight,d=e.offsetWidth}return new pFe({top:l,left:u,height:c,width:d,offsets:s})},t})(Qt.Ss),gFe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),yFe=(function(n){gFe(t,n);function t(e){var r=n.call(this)||this;return r.pfx=e.pfx||"",r.allowNesting=e.allowNesting||!1,r.container=e.container,r.setElement(e.el),r.offset={top:e.offset.top||0,left:e.offset.left||0},r.moveLimiter=new GX(100),r}return t.prototype.show=function(){this.el.style.display="block"},t.prototype.hide=function(){this.moveLimiter.clearTimeout(),this.el.style.display="none"},t.prototype.move=function(e,r){var o=this,i={elementDimension:e,placement:r};this.moveLimiter.updateArgs(i),this.moveLimiter.execute(function(a){var s=a.elementDimension,l=a.placement;o._move(s,l)})},t.prototype._move=function(e,r){var o=0,i="px",a=0,s=0,l="",u="";this.setOrientationForDimension(e);var c=e.top,d=e.left,f=e.height,h=e.width,p=e.dir,v=e.offsets;if(r==="inside"){if(this.setOrientation("horizontal"),!this.allowNesting){this.hide();return}var g=5,_=(v==null?void 0:v.paddingTop)||g,S=(v==null?void 0:v.paddingLeft)||g,y=(v==null?void 0:v.borderTopWidth)||0,C=(v==null?void 0:v.borderLeftWidth)||0,T=(v==null?void 0:v.borderRightWidth)||0,P=C+T;a=c+_+y,s=d+S+C,l=Math.max(h-S*2-P,1)+"px",u="auto"}else p?(l=h+i,u="auto",a=r==="before"?c-o:c+f-o,s=d):(l="auto",u=f-o*2+i,a=c+o,s=r==="before"?d-o:d+h-o,this.setOrientation("vertical"));this.updateStyles(a,s,l,u),this.adjustOffset()},t.prototype.setOrientationForDimension=function(e){this.el.classList.remove("vertical"),this.el.classList.add("horizontal"),e&&!e.dir&&this.setOrientation("vertical")},t.prototype.setOrientation=function(e){this.el.classList.remove("horizontal"),this.el.classList.remove("vertical"),this.el.classList.add(e)},t.prototype.updateStyles=function(e,r,o,i){this.el.style.top=e+"px",this.el.style.left=r+"px",o&&(this.el.style.width=o),i&&(this.el.style.height=i)},t.prototype.adjustOffset=function(){this.$el.css("top","+="+this.offset.top+"px"),this.$el.css("left","+="+this.offset.left+"px")},t})(Qt.Ss),Dg=function(){return Dg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Dg.apply(this,arguments)},bFe=(function(){function n(t){var e=AFe(t);(0,oe.bindAll)(this,"startSort","cancelDrag","recalculateTargetOnScroll","rollback","updateOffset","handlePlaceholderMove","finalizeMove"),this.containerContext=e.containerContext,this.positionOptions=e.positionOptions,this.dragBehavior=e.dragBehavior,this.eventHandlers=Dg(Dg({},e.eventHandlers),{onPlaceholderPositionChange:this.handlePlaceholderMove,onEnd:this.finalizeMove}),this.em=t.em,this.treeClass=t.treeClass,this.updateOffset(),this.em.on(this.em.Canvas.events.refresh,this.updateOffset),this.placeholder=this.createPlaceholder(),this.dropLocationDeterminer=new vFe({em:this.em,treeClass:this.treeClass,containerContext:this.containerContext,positionOptions:this.positionOptions,dragDirection:this.dragBehavior.dragDirection,eventHandlers:this.eventHandlers})}return n.prototype.startSort=function(t){var e,r,o,i,a,s,l,u=this.getSourceNodes(t),c=u.sourceNodes,d=u.sourcesWithModel;this.sourceNodes=c,this.dropLocationDeterminer.startSort(c),this.bindDragEventHandlers(),(r=(e=this.eventHandlers).onStartSort)===null||r===void 0||r.call(e,this.sourceNodes,this.containerContext.container);var f=(o=this.sourceNodes[0])===null||o===void 0?void 0:o.model;(a=(i=this.eventHandlers).legacyOnStartSort)===null||a===void 0||a.call(i,{sorter:this,target:f,parent:f&&((s=f.parent)===null||s===void 0?void 0:s.call(f)),index:f&&((l=f.index)===null||l===void 0?void 0:l.call(f))}),this.em.trigger("sorter:drag:start",t[0],d[0])},n.prototype.validTarget=function(t,e,r){if(!t)return!1;var o=(0,Xi.default)(t).data("model");if(!o)return!1;var i=new this.treeClass(o),a=this.getSourceNodes(e).sourceNodes,s=a.some(function(l){return i.canMove(l,r)});return s},n.prototype.getSourceNodes=function(t){var e=this,r=t.filter(function(s){return!!s.dragSource||e.findValidSourceElement(s.element)}),o=r.map(function(s){var l,u;return{model:((l=s.dragSource)===null||l===void 0?void 0:l.model)||((u=(0,Xi.default)(s.element))===null||u===void 0?void 0:u.data("model")),content:s.dragSource}}),i=o.sort(function(s,l){return sFe(s.model,l.model)}),a=i.map(function(s){return new e.treeClass(s.model,s.content)});return{sourceNodes:a,sourcesWithModel:o}},n.prototype.recalculateTargetOnScroll=function(){this.dropLocationDeterminer.recalculateTargetOnScroll()},n.prototype.cancelDrag=function(){this.triggerNullOnEndMove(!0),this.dropLocationDeterminer.cancelDrag()},n.prototype.endDrag=function(){this.dropLocationDeterminer.endDrag()},n.prototype.handlePlaceholderMove=function(t,e){this.ensurePlaceholderElement(),this.updatePlaceholderPosition(t,e)},n.prototype.createPlaceholder=function(){return new yFe({container:this.containerContext.container,allowNesting:this.dragBehavior.nested,pfx:this.containerContext.pfx,el:this.containerContext.placeholderElement,offset:{top:this.positionOptions.offsetTop,left:this.positionOptions.offsetLeft}})},n.prototype.ensurePlaceholderElement=function(){var t=this.placeholder.el,e=this.containerContext.container;t.ownerDocument.contains(t)||e.append(this.placeholder.el)},n.prototype.updateOffset=function(){var t,e=((t=this.em)===null||t===void 0?void 0:t.get("canvasOffset"))||{};this.positionOptions.offsetTop=e.top,this.positionOptions.offsetLeft=e.left},n.prototype.findValidSourceElement=function(t){return t&&!b2(t,"".concat(this.containerContext.itemSel,", ").concat(this.containerContext.containerSel))&&(t=lFe(t,this.containerContext.itemSel)),t},n.prototype.bindDragEventHandlers=function(){(0,Gt.on)(this.containerContext.document,"keydown",this.rollback)},n.prototype.updatePlaceholderPosition=function(t,e){this.placeholder.move(t,e)},n.prototype.cleanupEventListeners=function(){(0,Gt.AU)(this.containerContext.document,"keydown",this.rollback)},n.prototype.finalizeMove=function(){this.cleanupEventListeners(),this.placeholder.hide(),delete this.sourceNodes},n.prototype.rollback=function(t){(0,Gt.AU)(this.containerContext.document,"keydown",this.rollback);var e="Escape";t.key===e&&this.cancelDrag()},n.prototype.triggerNullOnEndMove=function(t){var e,r,o,i,a,s=(e=this.sourceNodes)===null||e===void 0?void 0:e[0].model,l={target:s,parent:s&&((r=s.parent)===null||r===void 0?void 0:r.call(s)),index:s&&((o=s.index)===null||o===void 0?void 0:o.call(s))};(a=(i=this.eventHandlers).legacyOnEndMove)===null||a===void 0||a.call(i,null,this,Dg(Dg({},l),{cancelled:t}))},n})();const YX=bFe;var wFe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Ug=function(){return Ug=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ug.apply(this,arguments)},_Fe=Uu.F.Target,PI={id:"sorter-target",type:_Fe},CFe=(function(n){wFe(t,n);function t(e){var r=e.em,o=e.treeClass,i=e.containerContext,a=e.dragBehavior,s=e.positionOptions,l=s===void 0?{}:s,u=e.eventHandlers,c=u===void 0?{}:u,d=n.call(this,{em:r,treeClass:o,containerContext:i,positionOptions:l,dragBehavior:a,eventHandlers:Ug(Ug({},c),{onStartSort:function(f,h){var p;(p=c.onStartSort)===null||p===void 0||p.call(c,f,h),d.onStartSort()},onDrop:function(f,h,p){var v;(v=c.onDrop)===null||v===void 0||v.call(c,f,h,p),d.onDrop(f,h,p)},onTargetChange:function(f,h){var p;(p=c.onTargetChange)===null||p===void 0||p.call(c,f,h),d.onTargetChange(f,h)},onMouseMove:function(f){var h;(h=c.onMouseMove)===null||h===void 0||h.call(c,f),d.onMouseMove(f)}})})||this;return d.targetIsText=!1,d.onMouseMove=function(f){var h,p=d.targetIsText&&((h=d.sourceNodes)===null||h===void 0?void 0:h.some(function(v){return v.isTextable()}));p&&d.updateTextViewCursorPosition(f)},d.onDrop=function(f,h,p){var v=typeof p=="number"?p:-1;if(f&&h.length>0){var g=d.handleNodeAddition(f,h,v);g.length===0&&d.triggerNullOnEndMove(!1)}else d.triggerNullOnEndMove(!0);f==null||f.restNodeState(),d.placeholder.hide()},d.onTargetChange=function(f,h){var p;f==null||f.restNodeState();var v=d.em.Canvas;if(!h){d.placeholder.hide(),v.removeSpots(PI);return}h==null||h.setSelectedParentState(),d.targetIsText=h.isTextNode();var g=d.targetIsText&&((p=d.sourceNodes)===null||p===void 0?void 0:p.some(function(C){return C.isTextable()}));g?(h.setContentEditable(!0),d.placeholder.hide()):d.placeholder.show();var _=Uu.F.Select,S=Uu.F.Hover,y=Uu.F.Spacing;[_,S,y].forEach(function(C){return v.removeSpots({type:C})}),v.addSpot(Ug(Ug({},PI),{component:h.model}))},(0,oe.bindAll)(d,"handleScrollEvent"),d}return t.prototype.onStartSort=function(){this.em.clearSelection(),this.setAutoCanvasScroll(!0)},t.prototype.bindDragEventHandlers=function(){this.em.on("frame:scroll",this.handleScrollEvent),n.prototype.bindDragEventHandlers.call(this)},t.prototype.cleanupEventListeners=function(){this.em.off("frame:scroll",this.handleScrollEvent),n.prototype.cleanupEventListeners.call(this)},t.prototype.handleScrollEvent=function(){for(var e,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=(e=r==null?void 0:r[0])===null||e===void 0?void 0:e.frame,a=this.em.Canvas.getCanvasView().frame===i;a&&this.recalculateTargetOnScroll()},t.prototype.handleNodeAddition=function(e,r,o){var i=this;return r.reduce(function(a,s){if(!e.canMove(s,o))return a;if(i.isPositionChanged(e,s,o)){var l=i.moveNode(e,s,o),u=l.index,c=l.addedNode;a.push(c),o=u}return o++,a},[])},t.prototype.isPositionChanged=function(e,r,o){var i=r.getParent(),a=i?i.indexOfChild(r):-1;(i==null?void 0:i.model.cid)===e.model.cid&&a<o&&o--;var s=(i==null?void 0:i.model.cid)===e.model.cid,l=a===o,u=this.targetIsText&&r.isTextable();return!(s&&l&&!u)},t.prototype.moveNode=function(e,r,o){var i=r.getParent();if(i){var a=i.indexOfChild(r);i.removeChildAt(a,{temporary:!0}),i.model.cid===e.model.cid&&a<o&&o--}var s=e.addChildAt(r,o,{action:"move-component"});return s&&this.triggerEndMoveEvent(s),{addedNode:s,index:o}},t.prototype.triggerEndMoveEvent=function(e){var r,o,i,a,s,l;(o=(r=this.eventHandlers).legacyOnEndMove)===null||o===void 0||o.call(r,e.model,this,{target:e.model,parent:e.model&&((a=(i=e.model).parent)===null||a===void 0?void 0:a.call(i)),index:e.model&&((l=(s=e.model).index)===null||l===void 0?void 0:l.call(s))})},t.prototype.finalizeMove=function(){var e,r;(e=this.em)===null||e===void 0||e.Canvas.removeSpots(PI),(r=this.sourceNodes)===null||r===void 0||r.forEach(function(o){return o.restNodeState()}),this.setAutoCanvasScroll(!1),n.prototype.finalizeMove.call(this)},t.prototype.updateTextViewCursorPosition=function(e){var r=this.em;if(r){var o=r.Canvas,i=o.getDocument(),a=null,s=(0,Gt.G2)(e);if(i.caretPositionFromPoint){var l=i.caretPositionFromPoint(s.clientX,s.clientY);l&&(a=i.createRange(),a.setStart(l.offsetNode,l.offset))}else i.caretRangeFromPoint?a=i.caretRangeFromPoint(s.clientX,s.clientY):e.rangeParent&&(a=i.createRange(),a.setStart(e.rangeParent,e.rangeOffset));var u=o.getWindow().getSelection();o.getFrameEl().focus(),u==null||u.removeAllRanges(),a&&(u==null||u.addRange(a))}},t.prototype.setAutoCanvasScroll=function(e){var r=this.em,o=r==null?void 0:r.Canvas;o&&(e?o.startAutoscroll():o.stopAutoscroll())},t})(YX);const yj=CFe;var SFe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),mB=function(){return mB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},mB.apply(this,arguments)},xFe=(function(n){SFe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{values:{}}},t.prototype.initialize=function(){var e=this.collection;this.prop=e==null?void 0:e.prop},t.prototype.getId=function(){return this.cid},t.prototype.getIndex=function(){var e=this.collection;return e?e.indexOf(this):-1},t.prototype.getValues=function(e){e===void 0&&(e={});var r=this.get("values");return e.camelCase?Object.keys(r).reduce(function(o,i){return o[(0,At.camelCase)(i)]=r[i],o},{}):r},t.prototype.getLabel=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.getLayerLabel(this)},t.prototype.isSelected=function(){var e;return((e=this.prop)===null||e===void 0?void 0:e.getSelectedLayer())===this},t.prototype.select=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.selectLayer(this)},t.prototype.remove=function(){var e;return(e=this.prop)===null||e===void 0?void 0:e.removeLayer(this)},t.prototype.move=function(e){var r;return(r=this.prop)===null||r===void 0?void 0:r.moveLayer(this,e)},t.prototype.getStylePreview=function(e){var r;return e===void 0&&(e={}),(r=this.prop)===null||r===void 0?void 0:r.getStylePreview(this,e)},t.prototype.hasPreview=function(){var e;return!!(!((e=this.prop)===null||e===void 0)&&e.get("preview"))},t.prototype.upValues=function(e){return e===void 0&&(e={}),this.set("values",mB(mB({},this.getValues()),e))},t})(Qt.Kx);const db=xFe;var EFe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),XX=(function(n){EFe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialize=function(e,r){r===void 0&&(r={}),this.prop=r.prop},t})(Qt.pM);const ZS=XX;XX.prototype.model=db;var BFe=Tr(3178),kFe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),TFe=(function(n){kFe(t,n);function t(e){return n.call(this,e)||this}return t.prototype.getChildren=function(){return this.model instanceof ZS?this.model.models.map(function(e){return new t(e)}):null},t.prototype.getParent=function(){var e=this.model instanceof db?this.model.collection:null;return e?new t(e):null},t.prototype.addChildAt=function(e,r){if(this.model instanceof db)throw Error("Cannot add a layer model to another layer model");var o=this.model.add(e.model,{at:r});return new t(o)},t.prototype.removeChildAt=function(e){if(this.model instanceof db)throw Error("Cannot remove a layer model from another layer model");var r=this.model.at(e);r&&this.model.remove(r)},t.prototype.indexOfChild=function(e){return!(e.model instanceof db)||!(this.model instanceof ZS)?-1:this.model.indexOf(e.model)},t.prototype.canMove=function(e,r){return this.model instanceof ZS&&!!e.model},Object.defineProperty(t.prototype,"view",{get:function(){return this.model.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){var e;return(e=this.view)===null||e===void 0?void 0:e.el},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"model",{get:function(){return this._model},enumerable:!1,configurable:!0}),t})(BFe.$),OFe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),jD=function(){return jD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},jD.apply(this,arguments)},PFe=(function(n){OFe(t,n);function t(e){var r=e.em,o=e.containerContext,i=e.dragBehavior,a=e.positionOptions,s=a===void 0?{}:a,l=e.eventHandlers,u=l===void 0?{}:l,c=n.call(this,{em:r,treeClass:TFe,containerContext:o,positionOptions:s,dragBehavior:i,eventHandlers:jD({onStartSort:function(d,f){var h;(h=u.onStartSort)===null||h===void 0||h.call(u,d,f),c.onLayerStartSort(d)},onDrop:function(d,f,h){var p;(p=u.onDrop)===null||p===void 0||p.call(u,d,f,h),c.onLayerDrop(d,f,h)},onEnd:function(){c.placeholder.hide()}},u)})||this;return c.onLayerStartSort=function(d){c.em.clearSelection();var f=d[0];c.em.trigger("sorter:drag:start",f==null?void 0:f.element,f==null?void 0:f.model),c.placeholder.show()},c.onLayerDrop=function(d,f,h){if(d){h=typeof h=="number"?h:-1;for(var p=0;p<f.length;p++){var v=f[p];if(d.canMove(v,p)){var g=v.getParent(),_=-1;g&&(_=g.indexOfChild(v),g.removeChildAt(_)),h=_<h?h-1:h,d.addChildAt(v,h)}}c.placeholder.hide()}},c}return t})(YX);const IFe=PFe;var MFe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),$D=function(){return $D=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},$D.apply(this,arguments)},FFe=(function(n){MFe(t,n);function t(e){var r=n.call(this,e,"Utils")||this;return r.Sorter=yj,r.Resizer=iFe,r.Dragger=iX.A,r.ComponentSorter=yj,r.StyleManagerSorter=IFe,r.helpers=$D({},At),r}return t.prototype.destroy=function(){},t})(Ll);const DFe=FFe;var El,ou={},Ns={16:!1,18:!1,17:!1,91:!1},JX="all",zm={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},ZX={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},w2=function(n){return ZX[n]||n.toUpperCase().charCodeAt(0)},By=[];for(El=1;El<20;El++)ZX["f"+El]=111+El;function Gb(n,t){for(var e=n.length;e--;)if(n[e]===t)return e;return-1}function UFe(n,t){if(n.length!=t.length)return!1;for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}var LFe={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function VFe(n){for(El in Ns)Ns[El]=n[LFe[El]]}function NFe(n){var t,e,r,o,i,a;if(t=n.keyCode,Gb(By,t)==-1&&By.push(t),(t==93||t==224)&&(t=91),t in Ns){Ns[t]=!0;for(r in zm)zm[r]==t&&(qs[r]=!0);return}if(VFe(n),!!qs.filter.call(this,n)&&t in ou){for(a=_2(),o=0;o<ou[t].length;o++)if(e=ou[t][o],e.scope==a||e.scope=="all"){i=e.mods.length>0;for(r in Ns)(!Ns[r]&&Gb(e.mods,+r)>-1||Ns[r]&&Gb(e.mods,+r)==-1)&&(i=!1);(e.mods.length==0&&!Ns[16]&&!Ns[18]&&!Ns[17]&&!Ns[91]||i)&&e.method(n,e)===!1&&(n.preventDefault?n.preventDefault():n.returnValue=!1,n.stopPropagation&&n.stopPropagation(),n.cancelBubble&&(n.cancelBubble=!0))}}}function RFe(n){var t=n.keyCode,e,r=Gb(By,t);if(r>=0&&By.splice(r,1),(t==93||t==224)&&(t=91),t in Ns){Ns[t]=!1;for(e in zm)zm[e]==t&&(qs[e]=!1)}}function HFe(){for(El in Ns)Ns[El]=!1;for(El in zm)qs[El]=!1}function qs(n,t,e){var r,o;r=qX(n),e===void 0&&(e=t,t="all");for(var i=0;i<r.length;i++)o=[],n=r[i].split("+"),n.length>1&&(o=eJ(n),n=[n[n.length-1]]),n=n[0],n=w2(n),n in ou||(ou[n]=[]),ou[n].push({shortcut:r[i],scope:t,method:e,key:r[i],mods:o})}function QFe(n,t){var e,r,o=[],i,a,s;for(e=qX(n),a=0;a<e.length;a++){if(r=e[a].split("+"),r.length>1&&(o=eJ(r)),n=r[r.length-1],n=w2(n),t===void 0&&(t=_2()),!ou[n])return;for(i=0;i<ou[n].length;i++)s=ou[n][i],s.scope===t&&UFe(s.mods,o)&&(ou[n][i]={})}}function jFe(n){return typeof n=="string"&&(n=w2(n)),Gb(By,n)!=-1}function $Fe(){return By.slice(0)}function KFe(n){var t=(n.target||n.srcElement).tagName;return!(t=="INPUT"||t=="SELECT"||t=="TEXTAREA")}for(El in zm)qs[El]=!1;function WFe(n){JX=n||"all"}function _2(){return JX||"all"}function zFe(n){var t,e,r;for(t in ou)for(e=ou[t],r=0;r<e.length;)e[r].scope===n?e.splice(r,1):r++}function qX(n){var t;return n=n.replace(/\s/g,""),t=n.split(","),t[t.length-1]==""&&(t[t.length-2]+=","),t}function eJ(n){for(var t=n.slice(0,n.length-1),e=0;e<t.length;e++)t[e]=zm[t[e]];return t}function II(n,t,e){n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,function(){e(window.event)})}qs.setScope=WFe;qs.getScope=_2;qs.deleteScope=zFe;qs.filter=KFe;qs.isPressed=jFe;qs.getPressedKeyCodes=$Fe;qs.unbind=QFe;qs.handlers=ou;qs.init=function(n){II(n.document,"keydown",function(t){NFe(t)}),II(n.document,"keyup",RFe),II(n,"focus",HFe)};const fb=qs;var GFe=function(){return{defaults:{"core:undo":{keys:"+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}}};const YFe=GFe;var KD;(function(n){n.add="keymap:add",n.remove="keymap:remove",n.emit="keymap:emit",n.emitId="keymap:emit:"})(KD||(KD={}));var XFe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),bj=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))};(0,At.hasWin)()&&fb.init(window);var JFe=(function(n){XFe(t,n);function t(e){var r=n.call(this,e,"Keymaps",YFe())||this;return r.keymaster=fb,r.events=KD,r.keymaps={},r}return t.prototype.onLoad=function(){if(!this.em.isHeadless){var e=this.config.defaults;for(var r in e){var o=e[r];this.add(r,o.keys,o.handler,o.opts||{})}}},t.prototype.add=function(e,r,o,i){i===void 0&&(i={});var a=this,s=a.em,l=a.events,u=s.Commands,c=s.getEditor(),d=s.Canvas,f={id:e,keys:r,handler:o},h=this.keymaps[e];return h&&this.remove(e),this.keymaps[e]=f,fb(r,function(p,v){var g,_={event:p,h:v},S=(0,oe.isString)(o)?u.get(o):o,y=!s.isEditing()&&!c.Canvas.isInputFocused();if(y||i.force){i.prevent&&((g=d.getCanvasView())===null||g===void 0||g.preventDefault(p)),(0,oe.isFunction)(S)?S(c,0,_):u.runCommand(S,_);var C=[e,v.shortcut,p];s.trigger.apply(s,bj([l.emit],C,!1)),s.trigger.apply(s,bj(["".concat(l.emitId).concat(e)],C,!1))}},void 0),s.trigger(l.add,f),f},t.prototype.get=function(e){return this.keymaps[e]},t.prototype.getAll=function(){return this.keymaps},t.prototype.remove=function(e){var r=this,o=r.em,i=r.events,a=this.get(e);if(a)return delete this.keymaps[e],a.keys.split(", ").forEach(function(s){fb.unbind(s.trim())}),o==null||o.trigger(i.remove,a),a},t.prototype.removeAll=function(){var e=this;return Object.keys(this.keymaps).forEach(function(r){return e.remove(r)}),fb.handlers={},this},t.prototype.destroy=function(){this.removeAll(),this.keymaps={}},t})(Ll);const ZFe=JFe;var qFe=function(){return{stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}}};const eDe=qFe;var tDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),nDe=(function(n){tDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},t.prototype.open=function(){this.set("open",!0)},t.prototype.close=function(){this.set("open",!1)},t})(Qh.A);const rDe=nDe;var WD;(function(n){n.open="modal:open",n.close="modal:close",n.all="modal"})(WD||(WD={}));var oDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),vB=function(){return vB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},vB.apply(this,arguments)},iDe=(function(n){oDe(t,n);function t(e){var r=n.call(this,e)||this,o=r.model;return r.listenTo(o,"change:open",r.updateOpen),r.listenTo(o,"change:title",r.updateTitle),r.listenTo(o,"change:content",r.updateContent),r}return t.prototype.template=function(e){var r=e.pfx,o=e.ppfx,i=e.content,a=e.title;return'<div class="'.concat(r,"dialog ").concat(o,"one-bg ").concat(o,`two-color">
      <div class="`).concat(r,`header">
        <div class="`).concat(r,'title">').concat(a,`</div>
        <div class="`).concat(r,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(r,`content">
        <div id="`).concat(r,'c">').concat(i,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(r,'collector" style="display: none"></div>')},t.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},t.prototype.onClick=function(e){var r=this.config.backdrop;r&&e.target===this.el&&this.hide()},t.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},t.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},t.prototype.getTitle=function(e){return e===void 0&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},t.prototype.updateContent=function(){var e=this.getContent(),r=e.children(),o=this.getCollector(),i=this.model.get("content");r.length&&o.append(r),e.empty().append(i)},t.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},t.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},t.prototype.hide=function(){this.model.close()},t.prototype.show=function(){this.model.open()},t.prototype.updateAttr=function(e){var r=this,o=r.pfx,i=r.$el,a=r.el,s=[].slice.call(a.attributes).map(function(l){return l.name});i.removeAttr(s.join(" ")),i.attr(vB(vB({},e||{}),{class:"".concat(o,"container ").concat(e&&e.class||"").trim()}))},t.prototype.render=function(){var e=this.$el,r=this.model.toJSON();return r.pfx=this.pfx,r.ppfx=this.ppfx,e.html(this.template(r)),this.updateAttr(),this.updateOpen(),this},t})(Yu);const aDe=iDe;var sDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),lDe=(function(n){sDe(t,n);function t(e){var r=n.call(this,e,"Modal",eDe())||this;r.events=WD;var o=r.events;return r.model=new rDe(r),r.model.on("change:open",function(i,a){e.trigger(a?o.open:o.close)}),r.model.on("change",(0,oe.debounce)(function(){var i=r._evData(),a=r.config.custom;(0,oe.isFunction)(a)&&a(i),e.trigger(o.all,i)},0)),r}return t.prototype._evData=function(){var e=this,r=this.getTitle(),o=this.getContent(),i=this.model.attributes,a=i.open,s=i.attributes;return{open:a,attributes:s,title:(0,oe.isString)(r)?(0,Gt.GZ)(r):r,content:(0,oe.isString)(o)?(0,Gt.GZ)(o):o.get?o.get(0):o,close:function(){e.close()}}},t.prototype.postRender=function(e){var r=e.model.config.el||e.el,o=this.render();o&&(r==null||r.appendChild(o))},t.prototype.open=function(e){e===void 0&&(e={});var r=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",r),this.model.open(),this.modal&&this.modal.updateAttr(r),this},t.prototype.close=function(){return this.model.close(),this},t.prototype.onceClose=function(e){var r=this,o=r.em,i=r.events;return o.once(i.close,e),this},t.prototype.onceOpen=function(e){var r=this,o=r.em,i=r.events;return o.once(i.open,e),this},t.prototype.isOpen=function(){return!!this.model.get("open")},t.prototype.setTitle=function(e){return this.model.set("title",e),this},t.prototype.getTitle=function(){return this.model.get("title")},t.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},t.prototype.getContent=function(){return this.model.get("content")},t.prototype.getContentEl=function(){var e;return(e=this.modal)===null||e===void 0?void 0:e.getContent().get(0)},t.prototype.getModel=function(){return this.model},t.prototype.render=function(){var e;if(!this.config.custom){var r=aDe.extend(this.config.extend),o=this.modal&&this.modal.el;return this.modal=new r({el:o,model:this.model,config:this.config}),(e=this.modal)===null||e===void 0?void 0:e.render().el}},t.prototype.destroy=function(){var e;(e=this.modal)===null||e===void 0||e.remove()},t})(Ll);const uDe=lDe;var wj="sw-visibility",_j="export-template",Cj="open-sm",Sj="open-tm",xj="open-layers",Ej="open-blocks",MI="fullscreen",FI="preview",cDe=function(){return{stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:wj,className:"fa fa-square-o",command:"core:component-outline",context:wj,attributes:{title:"View components"}},{id:FI,className:"fa fa-eye",command:FI,context:FI,attributes:{title:"Preview"}},{id:MI,className:"fa fa-arrows-alt",command:MI,context:MI,attributes:{title:"Fullscreen"}},{id:_j,className:"fa fa-code",command:_j,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Cj,className:"fa fa-paint-brush",command:Cj,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:Sj,className:"fa fa-cog",command:Sj,togglable:!1,attributes:{title:"Settings"}},{id:xj,className:"fa fa-bars",command:xj,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:Ej,className:"fa fa-th-large",command:Ej,togglable:!1,attributes:{title:"Open Blocks"}}]}]}};const dDe=cDe;var fDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ADe=(function(n){fDe(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.get("buttons").length&&o.set("buttons",new rJ(o.module,o.get("buttons"))),o}return t.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(t.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),t})(Qh.A);const tJ=ADe;var hDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),nJ=(function(n){hDe(t,n);function t(e,r){return n.call(this,e,r,tJ)||this}return t.prototype.deactivateAllExceptOne=function(e,r){this.forEach(function(o,i){o!==e&&(o.set("active",!1),r&&o.get("buttons").length&&o.get("buttons").deactivateAllExceptOne(e,r))})},t.prototype.deactivateAll=function(e,r){var o=e||"";this.forEach(function(i){i.get("context")==o&&i!==r&&i.set("active",!1,{fromCollection:!0})})},t.prototype.disableAllButtons=function(e){var r=e||"";this.forEach(function(o,i){o.get("context")==r&&o.set("disable",!0)})},t.prototype.disableAllButtonsExceptOne=function(e,r){this.forEach(function(o,i){o!==e&&(o.set("disable",!0),r&&o.get("buttons").length&&o.get("buttons").disableAllButtonsExceptOne(e,r))})},t})(OT);const rJ=nJ;nJ.prototype.model=tJ;var pDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),mDe=(function(n){pDe(t,n);function t(e,r){var o=n.call(this,e,r)||this,i=o.get("buttons")||[];return o.buttons=new rJ(e,i),o}return t.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(t.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),t})(Qh.A);const oJ=mDe;var vDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),iJ=(function(n){vDe(t,n);function t(e,r){return n.call(this,e,r,oJ)||this}return t})(OT);const gDe=iJ;iJ.prototype.model=oJ;var yDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Lg=function(){return Lg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Lg.apply(this,arguments)},bDe=(function(n){yDe(t,n);function t(e){var r=n.call(this,e)||this,o=r,i=o.model,a=o.em,s=o.pfx,l=o.ppfx,u=i.className,c=i.attributes,d=c.command,f=c.listen;if(r.id=s+i.get("id"),r.activeCls="".concat(s,"active ").concat(l,"four-color"),r.disableCls="".concat(l,"disabled"),r.btnsVisCls="".concat(s,"visible"),r.className=s+"btn"+(u?" "+u:""),r.listenTo(i,"change",r.render),r.listenTo(i,"change:active updateActive",r.updateActive),r.listenTo(i,"checkActive",r.checkActive),r.listenTo(i,"change:bntsVis",r.updateBtnsVis),r.listenTo(i,"change:attributes",r.updateAttributes),r.listenTo(i,"change:className",r.updateClassName),r.listenTo(i,"change:disable",r.updateDisable),a&&(0,oe.isString)(d)&&f){var h={fromListen:!0};r.listenTo(a,"run:".concat(d),function(){return i.set("active",!0,h)}),r.listenTo(a,"stop:".concat(d),function(){return i.set("active",!1,h)})}return a&&a.get&&(r.commands=a.get("Commands")),r}return t.prototype.tagName=function(){return this.model.get("tagName")},t.prototype.events=function(){return{click:"clicked"}},t.prototype.updateClassName=function(){var e=this,r=e.model,o=e.pfx,i=r.className,a=r.get("attributes").class,s="".concat(a||""," ").concat(o,"btn ").concat(i||"");this.$el.attr("class",s.trim())},t.prototype.updateAttributes=function(){var e=this,r=e.em,o=e.model,i=e.$el,a=o.get("attributes")||{},s=r&&r.t&&r.t("panels.buttons.titles.".concat(o.id));i.attr(a),s&&i.attr({title:s}),this.updateClassName()},t.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},t.prototype.updateActive=function(e,r,o){var i;o===void 0&&(o={});var a=this,s=a.model,l=a.commands,u=a.$el,c=a.activeCls,d=o.fromCollection,f=o.fromListen,h=s.get("context"),p=s.get("options"),v=s.command,g={};v&&(l&&(0,oe.isString)(v)?g=l.get(v)||{}:(0,oe.isFunction)(v)?g=l.create({run:v}):v!==null&&(0,oe.isObject)(v)&&(g=l.create(v)),s.active?(!d&&((i=s.collection)===null||i===void 0||i.deactivateAll(h,s)),s.set("active",!0,{silent:!0}).trigger("checkActive"),!f&&l.runCommand(g,Lg(Lg({},p),{sender:s})),g.noStop&&s.set("active",!1)):(u.removeClass(c),!f&&l.stopCommand(g,Lg(Lg({},p),{sender:s,force:1}))))},t.prototype.updateDisable=function(){var e=this,r=e.disableCls,o=e.model,i=o.disable;this.$el[i?"addClass":"removeClass"](r)},t.prototype.checkActive=function(){var e=this,r=e.model,o=e.$el,i=e.activeCls;r.active?o.addClass(i):o.removeClass(i)},t.prototype.clicked=function(){var e=this.model;e.get("bntsVis")||e.disable||!e.command||this.toggleActive()},t.prototype.toggleActive=function(){var e=this,r=e.model,o=e.em,i=r.active,a=r.togglable;i&&!a||(r.active=!i,i?r.runDefaultCommand&&o.runDefault():r.stopDefaultCommand&&o.stopDefault())},t.prototype.render=function(){var e=this.model,r=e.get("label"),o=this.$el;return!e.get("el")&&o.empty(),this.updateAttributes(),r&&o.append(r),this.checkActive(),this.updateDisable(),this},t})(Yu);const wDe=bDe;var _De=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),CDe=(function(n){_De(t,n);function t(e){var r=n.call(this,{collection:e})||this;return r.listenTo(r.collection,"add",r.addTo),r.listenTo(r.collection,"reset remove",r.render),r.className=r.pfx+"buttons",r}return t.prototype.addTo=function(e){this.addToCollection(e)},t.prototype.addToCollection=function(e,r){var o=r||null,i=e.get("el"),a=new wDe({el:i,model:e}),s=a.render().el;return o?o.appendChild(s):this.$el.append(s),s},t.prototype.render=function(){var e=this,r=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(o){return e.addToCollection(o,r)}),this.$el.append(r),this.$el.attr("class",(0,oe.result)(this,"className")),this},t})(Yu);const SDe=CDe;var xDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),zD=function(){return zD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},zD.apply(this,arguments)},EDe=(function(n){xDe(t,n);function t(e){var r=n.call(this,{model:e,el:e.get("el")})||this;return r.className=r.pfx+"panel",r.id=r.pfx+e.get("id"),r.listenTo(e,"change:appendContent",r.appendContent),r.listenTo(e,"change:content",r.updateContent),r.listenTo(e,"change:visible",r.toggleVisible),e.view=r,r}return t.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},t.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},t.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},t.prototype.attributes=function(){return this.model.get("attributes")},t.prototype.initResize=function(){var e=this.em,r=e==null?void 0:e.Editor,o=this.model.get("resizable");if(r&&o){var i=o===!0?[!0,!0,!0,!0]:o,a=i.length,s=void 0,l=void 0,u=void 0,c=!1;if(a==2){var d=i;s=d[0],u=d[0],l=d[1],c=d[1]}else if(a==4){var d=i;s=d[0],l=d[1],u=d[2],c=d[3]}var f=new r.Utils.Resizer(zD({tc:s,cr:l,bc:u,cl:c,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:r.getConfig().stylePrefix,onEnd:function(){e.Canvas.refresh({all:!0})},posFetcher:function(h,p){var v=p.target,g=h.style,_=f.getConfig(),S=_.keyWidth,y=_.keyHeight,C=h.getBoundingClientRect(),T=v=="container",P=g[S],F=g[y],I=P&&!T?parseFloat(P):C.width,k=F&&!T?parseFloat(F):C.height;return{left:0,top:0,width:I,height:k}}},o&&typeof o!="boolean"?o:{}));f.blur=function(){},f.focus(this.el)}},t.prototype.render=function(){var e=this.model.buttons,r=this.$el,o=this.ppfx,i="".concat(this.className," ").concat(this.id," ").concat(o,"one-bg ").concat(o,"two-color");if(r.addClass(i),this.toggleVisible(),e.length){var a=new SDe(e);r.append(a.render().el)}return r.append(this.model.get("content")),this},t})(Yu);const BDe=EDe;var kDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),TDe=(function(n){kDe(t,n);function t(e){var r=n.call(this,{collection:e})||this;return r.listenTo(e,"add",r.addTo),r.listenTo(e,"reset",r.render),r.listenTo(e,"remove",r.onRemove),r.className=r.pfx+"panels",r}return t.prototype.onRemove=function(e){var r=e.view;r&&r.remove()},t.prototype.addTo=function(e){this.addToCollection(e)},t.prototype.addToCollection=function(e,r){var o=r||null,i=e.get("el"),a=new BDe(e),s=a.render().el,l=e.get("appendTo");if(!i)if(l){var u=document.querySelector(l);u==null||u.appendChild(s)}else o?o.appendChild(s):this.$el.append(s);return a.initResize(),s},t.prototype.render=function(){var e=this,r=this.$el,o=document.createDocumentFragment();return r.empty(),this.collection.each(function(i){return e.addToCollection(i,o)}),r.append(o),r.attr("class",this.className),this},t})(Yu);const ODe=TDe;var PDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),IDe=(function(n){PDe(t,n);function t(e){var r=n.call(this,e,"Panels",dDe())||this;return r.panels=new gDe(r,r.config.defaults),r}return t.prototype.getPanels=function(){return this.panels},t.prototype.getPanelsEl=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0?void 0:e.el},t.prototype.addPanel=function(e){return this.panels.add(e)},t.prototype.removePanel=function(e){return this.panels.remove(e)},t.prototype.getPanel=function(e){var r=this.panels.where({id:e});return r.length?r[0]:null},t.prototype.addButton=function(e,r){var o=this.getPanel(e);return o?o.buttons.add(r):null},t.prototype.removeButton=function(e,r){var o=this.getPanel(e);return o&&o.buttons.remove(r)},t.prototype.getButton=function(e,r){var o=this.getPanel(e);if(o){var i=o.buttons.where({id:r});return i.length?i[0]:null}return null},t.prototype.render=function(){var e;return(e=this.PanelsViewObj)===null||e===void 0||e.remove(),this.PanelsViewObj=new ODe(this.panels),this.PanelsViewObj.render().el},t.prototype.active=function(){this.getPanels().each(function(e){e.buttons.each(function(r){r.get("active")&&r.trigger("updateActive")})})},t.prototype.disableButtons=function(){this.getPanels().each(function(e){e.buttons.each(function(r){r.get("disable")&&r.trigger("change:disable")})})},t.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},t})(Ll);const MDe=IDe;var FDe=function(){return{stylePrefix:"cm-",optsCodeViewer:{}}};const DDe=FDe;var UDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),LDe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},VDe=(function(n){UDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.build=function(e,r){r===void 0&&(r={});var o=r.em,i=LDe(r,["em"]),a=i;if(r.cleanId&&o){var s=o.Css.getAll(),l=s.toJSON().map(function(c){var d=c.selectors,f=d&&d.length===1&&d.models[0];return f&&f.isId()&&f.get("name")}).filter(Boolean),u=a.attributes;a.attributes=function(c,d){d=typeof u=="function"?u(c,d):d;var f=d.id;return f&&f[0]==="i"&&!c.get("script")&&!c.get("script-export")&&!c.get("attributes").id&&l.indexOf(f)<0&&delete d.id,d}}return e.toHTML(a)},t})(Qt.Kx);const NDe=VDe;var RDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),HDe=(function(n){RDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.build=function(e){var r=this,o=e.toJSON();return this.beforeEach(o),(0,oe.each)(o,function(i,a){var s=o[a];if(s instanceof Qt.Kx)o[a]=r.build(s);else if(s instanceof Qt.pM){var l=s;o[a]=[],l.length&&l.forEach(function(u,c){o[a][c]=r.build(u)})}}),o},t.prototype.beforeEach=function(e){delete e.status},t})(Qt.Kx);const QDe=HDe;var jDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})();function $De(n){var t,e=((t=n.toString().match(/\{([\s\S]*)\}/m))===null||t===void 0?void 0:t[1])||"";return e.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var KDe=(function(n){jDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.mapModel=function(e){var r,o=this,i="",a=e.get("script-export")||e.get("script"),s=e.get("type"),l=e.get("components"),u=e.getId();if(a){var c=e.get("attributes");c=(0,oe.extend)({},c,{id:u}),e.set("attributes",c,{silent:!0});var d=e.getScriptString(a),f=e.get("script-props");if(e.get("scriptUpdated")&&!f)this.mapJs[s+"-"+u]={ids:[u],code:d};else{var h=void 0,p=this.mapJs[s];if(f&&(h=e.__getScriptProps()),p)p.ids.push(u),h&&(p.props[u]=h);else{var v={ids:[u],code:d};h&&(v.props=(r={},r[u]=h,r)),this.mapJs[s]=v}}}return l.forEach(function(g){i+=o.mapModel(g)}),i},t.prototype.build=function(e){this.mapJs={},this.mapModel(e);var r="";for(var o in this.mapJs){var i=this.mapJs[o];if(i.code)if(i.props){if($De(i.code))continue;r+=`
          var props = `.concat(JSON.stringify(i.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(i.code,`.bind(el))(props[el.id]);
          }`)}else{var a="#"+i.ids.join(", #");r+=`
          var items = document.querySelectorAll('`.concat(a,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(i.code,`
}.bind(items[i]))();
          }`)}}return r},t})(Qt.Kx);const WDe=KDe;var zDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),GD=function(){return GD=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},GD.apply(this,arguments)},Yb;(0,At.hasWin)()&&(Yb=Tr(4408),Tr(8253),Tr(7389),Tr(3640));var aJ=(function(n){zDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},t.prototype.init=function(e){return(0,oe.bindAll)(this,"onChange"),this.editor=Yb.fromTextArea(e,GD({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},t.prototype.onChange=function(){this.trigger("update",this)},t.prototype.getEditor=function(){return this.editor},t.prototype.getElement=function(){return this.element},t.prototype.setElement=function(e){return this.element=e,this},t.prototype.refresh=function(){return this.getEditor().refresh(),this},t.prototype.focus=function(){return this.getEditor().focus(),this},t.prototype.getContent=function(){var e=this.getEditor();return e&&e.getValue()},t.prototype.setContent=function(e,r){var o=this;r===void 0&&(r={});var i=this.editor;if(i){i.setValue(e);var a=this.get("autoFormat"),s=i.autoFormatRange&&(a===!0||Array.isArray(a)&&a.includes(this.get("codeName")));s&&(Yb.commands.selectAll(i),i.autoFormatRange(i.getCursor(!0),i.getCursor(!1)),Yb.commands.goDocStart(i)),!r.noRefresh&&setTimeout(function(){return o.refresh()})}},t})(Qt.Kx);const GDe=aJ;aJ.prototype.CodeMirror=Yb;var YDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),XDe=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},JDe=(function(n){YDe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.template=function(e){var r=e.pfx,o=e.codeName,i=e.label;return xl(Bj||(Bj=XDe([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),r,r,o,r,i,r)},t.prototype.initialize=function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},t.prototype.render=function(){var e,r,o=this,i=o.model,a=o.pfx,s=o.$el,l=i.toJSON(),u=i.get("input")||((r=(e=i).getElement)===null||r===void 0?void 0:r.call(e));return l.pfx=a,s.html(this.template(l)),s.attr("class","".concat(a,"editor-c")),s.find("#".concat(a,"code")).append(u),this},t})(Qt.Ss);const ZDe=JDe;var Bj,qDe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),gB=function(){return gB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},gB.apply(this,arguments)},eUe="CodeMirror",tUe=(function(n){qDe(t,n);function t(e){var r=n.call(this,e,"CodeManager",DDe())||this;r.EditorView=ZDe;var o=r.config,i=o.pStylePrefix;return i&&(o.stylePrefix=i+o.stylePrefix),r.generators={},r.viewers={},r.defGenerators={html:new NDe,css:new GOe,json:new QDe,js:new WDe},r.defViewers={CodeMirror:new GDe},r.loadDefaultGenerators().loadDefaultViewers(),r}return t.prototype.addGenerator=function(e,r){return this.generators[e]=r,this},t.prototype.getGenerator=function(e){return this.generators[e]},t.prototype.getGenerators=function(){return this.generators},t.prototype.addViewer=function(e,r){return this.viewers[e]=r,this},t.prototype.getViewer=function(e){return this.viewers[e]},t.prototype.getViewers=function(){return this.viewers},t.prototype.createViewer=function(e){e===void 0&&(e={});var r=(0,oe.isUndefined)(e.type)?eUe:e.type,o=this.getViewer(r)&&this.getViewer(r).clone(),i=document.createElement("div"),a=document.createElement("textarea");return i.appendChild(a),o.set(gB(gB({},this.config.optsCodeViewer),e)),o.init(a),o.setElement(i),o},t.prototype.updateViewer=function(e,r){e.setContent(r)},t.prototype.getCode=function(e,r,o){o===void 0&&(o={}),o.em=this.em;var i=this.getGenerator(r);return i?i.build(e,o):""},t.prototype.loadDefaultGenerators=function(){for(var e in this.defGenerators)this.addGenerator(e,this.defGenerators[e]);return this},t.prototype.loadDefaultViewers=function(){for(var e in this.defViewers)this.addViewer(e,this.defViewers[e]);return this},t.prototype.destroy=function(){},t})(Ll);const nUe=tUe;var rUe=Tr(4729),oUe=Tr.n(rUe),iUe=function(){return{maximumStackLength:500,trackSelection:!0}};const aUe=iUe;var Rs;(function(n){n.update="update",n.updateBefore="updateBefore",n.undo="undo",n.redo="redo",n.load="load",n.projectLoad="project:load",n.projectLoaded="project:loaded",n.projectGet="project:get",n.log="log",n.telemetryInit="telemetry:init",n.destroy="destroy",n.destroyed="destroyed"})(Rs||(Rs={}));var sUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Tf=function(){return Tf=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Tf.apply(this,arguments)},lUe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},z1=function(n){return n.avoidStore||n.noUndo||n.partial},kj=function(n){return Object.keys(n.changedAttributes())},G1=new WeakMap,uUe=(function(n){sUe(t,n);function t(e){var r=n.call(this,e,"UndoManager",aUe())||this;r.config._disable&&(r.config.maximumStackLength=0);var o=!0;return r.um=new(oUe())(Tf({track:!0,register:[]},r.config)),r.um.changeUndoType("change",{condition:function(i){var a=i.get("_undo");if(a){var s=i.get("_undoexc");if((0,oe.isArray)(s)&&kj(i).some(function(l){return s.indexOf(l)>=0}))return!1;if((0,oe.isBoolean)(a)||(0,oe.isArray)(a)&&kj(i).some(function(l){return a.indexOf(l)>=0}))return!0}return!1},on:function(i,a,s){var l=G1.get(i);l||(l=i.previousAttributes(),G1.set(i,l));var u=s||a||{};if(u.noUndo&&setTimeout(function(){G1.delete(i)}),!z1(u)){var c=i.toJSON({fromUndo:o}),d={object:i,before:l,after:c};return G1.delete(i),(0,oe.isEmpty)(c)?void 0:d}}}),r.um.changeUndoType("add",{on:function(i,a,s){if(s===void 0&&(s={}),!(z1(s)||!r.isRegistered(a)))return{object:a,before:void 0,after:i,options:Tf(Tf({},s),{fromUndo:o})}}}),r.um.changeUndoType("remove",{on:function(i,a,s){if(s===void 0&&(s={}),!(z1(s)||!r.isRegistered(a)))return{object:a,before:i,after:void 0,options:Tf(Tf({},s),{fromUndo:o})}}}),r.um.changeUndoType("reset",{undo:function(i,a){i.reset(a,{fromUndo:o})},redo:function(i,a,s){i.reset(s,{fromUndo:o})},on:function(i,a){if(a===void 0&&(a={}),!(z1(a)||!r.isRegistered(i)))return{object:i,before:a.previousModels,after:lUe([],i.models,!0),options:Tf(Tf({},a),{fromUndo:o})}}}),r.um.on("undo redo",function(){e.getSelectedAll().map(function(i){return i.trigger("rerender:layer")})}),[Rs.undo,Rs.redo].forEach(function(i){return r.um.on(i,function(){return e.trigger(i)})}),r}return t.prototype.postLoad=function(){var e=this,r=e.config,o=e.em;r.trackSelection&&o&&this.add(o.get("selected"))},t.prototype.add=function(e){return this.um.register(e),this},t.prototype.remove=function(e){return this.um.unregister(e),this},t.prototype.removeAll=function(){return this.um.unregisterAll(),this},t.prototype.start=function(){return this.um.startTracking(),this},t.prototype.stop=function(){return this.um.stopTracking(),this},t.prototype.undo=function(e){e===void 0&&(e=!0);var r=this,o=r.em,i=r.um;return!o.isEditing()&&i.undo(e),this},t.prototype.undoAll=function(){return this.um.undoAll(),this},t.prototype.redo=function(e){e===void 0&&(e=!0);var r=this,o=r.em,i=r.um;return!o.isEditing()&&i.redo(e),this},t.prototype.redoAll=function(){return this.um.redoAll(),this},t.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},t.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},t.prototype.isRegistered=function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},t.prototype.getStack=function(){return this.um.stack},t.prototype.getStackGroup=function(){var e=[],r=[];return this.getStack().forEach(function(o){var i=o.get("magicFusionIndex");r.indexOf(i)<0&&(r.push(i),e.push(o))}),e},t.prototype.skip=function(e){var r=!!this.um.isTracking();r&&this.stop(),e(),r&&this.start()},t.prototype.getGroupedStack=function(){var e={},r=this.getStack(),o=function(i,a){var s=i.attributes,l=s.type,u=s.after,c=s.before,d=s.object,f=s.options,h=f===void 0?{}:f;return{index:a,type:l,after:u,before:c,object:d,options:h}};return r.forEach(function(i,a){var s=i.get("magicFusionIndex"),l=o(i,a);e[s]?e[s].push(l):e[s]=[l]}),Object.keys(e).map(function(i){var a=e[i];return{index:a[a.length-1].index,actions:a,labels:(0,oe.unique)(a.reduce(function(s,l){var u,c=(u=l.options)===null||u===void 0?void 0:u.action;return c&&s.push(c),s},[]))}})},t.prototype.goToGroup=function(e){var r=this;if(e){var o=this.getPointer(),i=e.index-o;(0,oe.times)(Math.abs(i),function(){r[i<0?"undo":"redo"](!1)})}},t.prototype.getPointer=function(){return this.getStack().pointer},t.prototype.clear=function(){return this.um.clear(),this},t.prototype.getInstance=function(){return this.um},t.prototype.destroy=function(){this.clear().removeAll()},t})(Ll);const cUe=uUe;var dUe=function(){return{stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1}};const fUe=dUe;var Vg=function(){return Vg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Vg.apply(this,arguments)},yB;(function(n){n[n.ACTIVE=1]="ACTIVE",n[n.INACTIVE=0]="INACTIVE",n[n.DISABLED=-1]="DISABLED"})(yB||(yB={}));var DI="_rte",Zp={ACTIVE:1,INACTIVE:0,DISABLED:-1},Y1=function(n,t){t===void 0&&(t="A");var e=n.selection()||{},r=e.anchorNode,o=e.focusNode,i=r==null?void 0:r.parentNode,a=o==null?void 0:o.parentNode;return(i==null?void 0:i.nodeName)==t||(a==null?void 0:a.nodeName)==t},bB="data-selectme",z0={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(n){return n.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(n){return n.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(n){return n.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(n){return n.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(n){return n&&n.selection()&&Y1(n)?Zp.ACTIVE:Zp.INACTIVE},result:function(n){Y1(n)?n.exec("unlink"):n.insertHTML('<a href="" '.concat(bB,">").concat(n.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(n){return n!=null&&n.selection()&&Y1(n,"SPAN")?Zp.DISABLED:Zp.INACTIVE},result:function(n){!Y1(n,"SPAN")&&n.insertHTML("<span ".concat(bB,">").concat(n.selection(),"</span>"),{select:!0})}}},AUe=(function(){function n(t,e,r){r===void 0&&(r={});var o=this;if(this.em=t,this.settings=r,e[DI])return e[DI];e[DI]=this,this.setEl(e),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var i=(r.actions||[]).map(function(c){var d=c;return(0,oe.isString)(c)?d=Vg({},z0[c]):z0[c.name]&&(d=Vg(Vg({},z0[c.name]),c)),d}),a=i.length?i:Object.keys(z0).map(function(c){return z0[c]});r.classes=Vg({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},r.classes);var s=r.classes,l=r.actionbar;if(this.actionbar=l,this.classes=s,this.actions=a,!l){if(!this.isCustom(r.module)){var u=r.actionbarContainer;l=document.createElement("div"),l.className=s.actionbar,u==null||u.appendChild(l),this.actionbar=l}a.forEach(function(c){return o.addAction(c)})}return r.styleWithCSS&&this.exec("styleWithCSS"),this}return n.prototype.isCustom=function(t){var e=t||this.em.RichTextEditor;return!!(e!=null&&e.config.custom||e!=null&&e.customRte)},n.prototype.destroy=function(){},n.prototype.setEl=function(t){this.el=t,this.doc=t.ownerDocument},n.prototype.updateActiveActions=function(){var t=this,e=this.getActions();e.forEach(function(r){var o=r.update,i=r.btn,a=t.classes,s=a.active,l=a.inactive,u=a.disabled,c=r.state,d=r.name,f=t.doc,h=yB.INACTIVE;if(i&&(i.className=i.className.replace(s,"").trim(),i.className=i.className.replace(l,"").trim(),i.className=i.className.replace(u,"").trim()),c){var p=c(t,f);if(h=p,i)switch(p){case Zp.ACTIVE:i.className+=" ".concat(s);break;case Zp.INACTIVE:i.className+=" ".concat(l);break;case Zp.DISABLED:i.className+=" ".concat(u);break}}else f.queryCommandSupported(d)&&f.queryCommandState(d)&&(i&&(i.className+=" ".concat(s)),h=yB.ACTIVE);r.currentState=h,o==null||o(t,r)}),e.length&&this.em.RichTextEditor.__dbdTrgCustom()},n.prototype.enable=function(t){return this.enabled?this:this.__toggleEffects(!0,t)},n.prototype.disable=function(){return this.__toggleEffects(!1)},n.prototype.__toggleEffects=function(t,e){t===void 0&&(t=!1),e===void 0&&(e={});var r=t?Gt.on:Gt.AU,o=this,i=o.el,a=o.doc,s=this.actionbarEl();if(s&&(s.style.display=t?"":"none"),i.contentEditable="".concat(!!t),r(i,"mouseup keyup",this.updateActiveActions),r(a,"keydown",this.__onKeydown),r(a,"paste",this.__onPaste),this.enabled=t,t){var l=e.event;if(this.syncActions(),this.updateActiveActions(),l){var u=null;if(a.caretRangeFromPoint){var c=(0,Gt.G2)(l);u=a.caretRangeFromPoint(c.clientX,c.clientY)}else l.rangeParent&&(u=a.createRange(),u.setStart(l.rangeParent,l.rangeOffset));var d=a.getSelection();d==null||d.removeAllRanges(),u&&(d==null||d.addRange(u))}i.focus()}return this},n.prototype.__onKeydown=function(t){var e=this.em,r=e.RichTextEditor.getConfig().onKeydown;if(r)return r({ev:t,rte:this,editor:e.getEditor()});var o=this.doc,i=["insertOrderedList","insertUnorderedList"];t.key==="Enter"&&!i.some(function(a){return o.queryCommandState(a)})&&(o.execCommand("insertLineBreak"),t.preventDefault())},n.prototype.__onPaste=function(t){var e=this.em,r=e.RichTextEditor.getConfig().onPaste;if(r)return r({ev:t,rte:this,editor:e.getEditor()});var o=t.clipboardData,i=o.getData("text"),a=o.getData("text/html");if(i&&!a){t.preventDefault();var s=i.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,s)}},n.prototype.syncActions=function(){var t=this;this.getActions().forEach(function(e){if(t.actionbar&&(!e.state||e.state&&e.state(t,t.doc)>=0)){var r=e.event||"click",o=e.btn;o&&(o["on".concat(r)]=function(){e.result(t,e),t.updateActiveActions()})}})},n.prototype.addAction=function(t,e){e===void 0&&(e={});var r=e.sync,o=this.actionbarEl();if(o){var i=t.icon,a=t.attributes,s=a===void 0?{}:a,l=document.createElement("span");l.className=this.classes.button,t.btn=l;for(var u in s)l.setAttribute(u,s[u]);typeof i=="string"?l.innerHTML=i:l.appendChild(i),o.appendChild(l)}r&&(this.actions.push(t),this.syncActions())},n.prototype.getActions=function(){return this.actions},n.prototype.selection=function(){return this.doc.getSelection()},n.prototype.exec=function(t,e){this.doc.execCommand(t,!1,e)},n.prototype.actionbarEl=function(){return this.actionbar},n.prototype.insertHTML=function(t,e){var r=e===void 0?{}:e,o=r.select,i=this,a=i.em,s=i.doc,l=i.el,u=s.getSelection();if(u&&u.rangeCount){var c=(0,At.getComponentModel)(l)||a.getSelected(),d=s.createElement("div"),f=u.getRangeAt(0);f.deleteContents(),(0,oe.isString)(t)?d.innerHTML=t:t&&d.appendChild(t),Array.prototype.slice.call(d.childNodes).forEach(function(h){f.insertNode(h)}),u.removeAllRanges(),u.addRange(f),l.focus(),o&&c&&(c.once("rte:disable",function(){var h=c.find("[".concat(bB,"]"))[0];h&&(a.setSelected(h),h.removeAttributes(bB))}),c.trigger("disable"))}},n})();const hUe=AUe;var YD;(function(n){n.enable="rte:enable",n.disable="rte:disable",n.custom="rte:custom"})(YD||(YD={}));var pUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),wB=function(){return wB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},wB.apply(this,arguments)},UI=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},LI=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(e=0)),e;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},mUe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},VI="".concat(Hb.refresh," frame:scroll ").concat(Ur.I.update),vUe=(function(n){pUe(t,n);function t(e){var r=n.call(this,e,"RichTextEditor",fUe())||this;r.events=YD;var o=r.config,i=o.pStylePrefix;i&&(o.stylePrefix=i+o.stylePrefix),r.pfx=o.stylePrefix,r.actions=o.actions||[];var a=new Qt.Kx;return r.model=a,a.on("change:currentView",r.__trgCustom,r),r.__dbdTrgCustom=(0,oe.debounce)(function(){return r.__trgCustom()},0),r}return t.prototype.onLoad=function(){if((0,At.hasWin)()){var e=this.config,r=e.pStylePrefix,o=e.custom,i=(0,Gt.a_)("div",{class:(0,Gt.cx)("".concat(r,"rte-toolbar"),!o&&"".concat(r,"one-bg ").concat(r,"rte-toolbar-ui"))});this.toolbar=i,this.initRte((0,Gt.a_)("div")),(0,Gt.on)(i,"mousedown",function(a){return a.stopPropagation()})}},t.prototype.__trgCustom=function(){var e=this,r=e.model,o=e.em,i=e.events;o.trigger(i.custom,{enabled:!!r.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},t.prototype.destroy=function(){var e,r,o;(e=this.globalRte)===null||e===void 0||e.destroy(),(o=(r=this.customRte)===null||r===void 0?void 0:r.destroy)===null||o===void 0||o.call(r),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,Gt.YZ)(this.toolbar)},t.prototype.postRender=function(e){var r=e.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),r.getToolsEl().appendChild(this.toolbar)},t.prototype.initRte=function(e){var r=this.globalRte,o=this,i=o.em,a=o.pfx,s=o.actionbar,l=o.config,u=this.actions||mUe([],l.actions,!0),c={actionbar:"".concat(a,"actionbar"),button:"".concat(a,"action"),active:"".concat(a,"active"),inactive:"".concat(a,"inactive"),disabled:"".concat(a,"disabled")};return r?(r.em=i,r.setEl(e)):(r=new hUe(i,e,{classes:c,actions:u,actionbar:s,actionbarContainer:this.toolbar,module:this}),this.globalRte=r),r.actionbar&&(this.actionbar=r.actionbar),r.actions&&(this.actions=r.actions),r},t.prototype.add=function(e,r){var o;r===void 0&&(r={}),r.name=e,(o=this.globalRte)===null||o===void 0||o.addAction(r,{sync:!0})},t.prototype.get=function(e){var r,o;return(r=this.globalRte)===null||r===void 0||r.getActions().forEach(function(i){i.name==e&&(o=i)}),o},t.prototype.getAll=function(){var e;return((e=this.globalRte)===null||e===void 0?void 0:e.getActions())||[]},t.prototype.remove=function(e){var r,o=this.getAll(),i=this.get(e);if(i){var a=i.btn,s=o.indexOf(i);(r=a==null?void 0:a.parentNode)===null||r===void 0||r.removeChild(a),o.splice(s,1)}return i},t.prototype.run=function(e){var r=this.globalRte,o=(0,oe.isString)(e)?this.get(e):e;r&&o&&(o.result(r,o),r.updateActiveActions())},t.prototype.getToolbarEl=function(){return this.toolbar},t.prototype.updatePosition=function(){var e=this,r=e.em,o=e.toolbar,i="px",a=r.Canvas,s=o.style,l=a.getTargetToElementFixed(this.lastEl,o,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(u){var c=l[u];(0,At.isDef)(c)&&(s[u]=(0,oe.isString)(c)?c:(c||0)+i)})},t.prototype.enable=function(e,r,o){return UI(this,void 0,void 0,function(){var i,a,s,l,u,c;return LI(this,function(d){switch(d.label){case 0:return this.lastEl=e.el,i=this,a=i.customRte,s=i.em,l=i.events,u=e.getChildrenContainer(),this.toolbar.style.display="",[4,a?a.enable(u,r,o):this.initRte(u).enable(o)];case 1:return c=d.sent(),s&&(setTimeout(this.updatePosition.bind(this),0),s.off(VI,this.updatePosition,this),s.on(VI,this.updatePosition,this),s.trigger(l.enable,e,c)),this.model.set({currentView:e}),[2,c]}})})},t.prototype.getContent=function(e,r){return UI(this,void 0,void 0,function(){var o,i;return LI(this,function(a){switch(a.label){case 0:return o=this.customRte,i=e.getChildrenContainer(),o&&r&&(0,oe.isFunction)(o.getContent)?[4,o.getContent(i,r,{view:e})]:[3,2];case 1:return[2,a.sent()];case 2:return[2,i.innerHTML]}})})},t.prototype.hideToolbar=function(){var e=this.toolbar.style,r="-1000px";e.top=r,e.left=r,e.display="none"},t.prototype.disable=function(e,r){return UI(this,arguments,void 0,function(o,i,a){var s,l,u,c,d,f;return a===void 0&&(a={}),LI(this,function(h){switch(h.label){case 0:return s={},l=this,u=l.em,c=l.events,d=this.customRte,d?[4,d.disable(o.getChildrenContainer(),i,wB(wB({},a),{view:o}))]:[3,2];case 1:return f=h.sent(),f&&(s=f),[3,3];case 2:i&&i.disable(),h.label=3;case 3:return this.hideToolbar(),u&&(u.off(VI,this.updatePosition,this),!a.fromMove&&u.trigger(c.disable,o,i)),this.model.unset("currentView"),[2,s]}})})},t})(Ll);const gUe=vUe;var yUe=function(){return{sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]}};const bUe=yUe;var wUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Ds=function(){return Ds=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ds.apply(this,arguments)},_Ue=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},Tj=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},C2=(function(n){wUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.getDefaults=function(){return(0,oe.result)(this.prototype,"defaults")},t.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},t.prototype.initialize=function(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.em=r.em;var o=this.getId()||"",i=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(i||o).replace(/ /g,"-"));var a=this.get("property");!this.get("id")&&this.set("id",a),!i&&this.set("name",(0,At.capitalize)(a).replace(/-/g," ")),this.on("change",this.__upTargets),t.callInit(this,e,r)},t.prototype.__getParentProp=function(){var e,r;return(r=(e=this.collection)===null||e===void 0?void 0:e.opts)===null||r===void 0?void 0:r.parentProp},t.prototype.__upTargets=function(e,r){var o,i=this;r===void 0&&(r={});var a=this.em,s=a.Styles,l=this.getName(),u=r.__clear,c=u?"":this.__getFullValue(r),d=this.__getParentProp(),f=this.changedAttributes(),h=(0,oe.keys)(f).reduce(function(y,C){return y[C]=i.previous(C),y},{}),p=Tj(Tj([],(0,oe.keys)(this.__getClearProps()),!0),["__p"],!1),v=(0,oe.keys)(f),g=!r.__up&&!d&&(u||p.some(function(y){return v.indexOf(y)>=0})),_=this.get("onChange"),S={property:this,from:h,to:f,value:c,opts:r};s.__trgEv(s.events.propertyUpdate,S),_&&_(S),g&&this.__upTargetsStyle((o={},o[l]=c,o),r)},t.prototype.__upTargetsStyle=function(e,r){var o,i=(o=this.em)===null||o===void 0?void 0:o.get("StyleManager");i==null||i.addStyleTargets(Ds(Ds({},e),{__p:!!r.avoidStore}),r)},t.prototype._up=function(e,r){r===void 0&&(r={}),r.noTarget&&(r.__up=!0);var o=r.partial,i=_Ue(r,["partial"]);return e.__p=!!(i.avoidStore||o),this.set(e,Ds(Ds({},i),{avoidStore:e.__p}))},t.prototype.up=function(e,r){r===void 0&&(r={}),this.set(e,Ds(Ds({},r),{__up:!0}))},t.prototype.init=function(){},t.prototype.getId=function(){return this.get("id")},t.prototype.getType=function(){return this.get("type")},t.prototype.getName=function(){return this.get("property")},t.prototype.getLabel=function(e){var r;e===void 0&&(e={});var o=e.locale,i=o===void 0?!0:o,a=this.getId(),s=this.get("name")||this.get("label");return i&&((r=this.em)===null||r===void 0?void 0:r.t("styleManager.properties.".concat(a)))||s},t.prototype.getValue=function(e){e===void 0&&(e={});var r=e.noDefault,o=this.get("value");return!this.hasValue()&&!r?this.getDefaultValue():o},t.prototype.hasValue=function(e){e===void 0&&(e={});var r=e.noParent,o=r&&this.getParentTarget(),i=this.get("value");return!(0,oe.isUndefined)(i)&&i!==""&&!o},t.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},t.prototype.getStyle=function(e){var r;e===void 0&&(e={});var o=this.getName(),i=e.camelCase?(0,At.camelCase)(o):o;return r={},r[i]=this.__getFullValue(e),r},t.prototype.getDefaultValue=function(){var e=this.get("default");return"".concat((0,oe.isUndefined)(e)?this.get("defaults"):e)},t.prototype.upValue=function(e,r){r===void 0&&(r={});var o=e===null||e===""?this.__getClearProps():this.__parseValue(e,r);return this._up(o,r)},t.prototype.isVisible=function(){return!!this.get("visible")},t.prototype.clear=function(e){return e===void 0&&(e={}),this._up(this.__getClearProps(),Ds(Ds({},e),{__clear:!0})),this},t.prototype.canClear=function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})},t.prototype.getParent=function(){return this.__getParentProp()},t.prototype.isFull=function(){return!!this.get("full")},t.prototype.__parseValue=function(e,r){return this.parseValue(e,r)},t.prototype.__getClearProps=function(){return{value:"",important:!1}},t.prototype.setValue=function(e,r,o){r===void 0&&(r=!0),o===void 0&&(o={});var i=this.parseValue(e),a=!r;!a&&this.set({value:void 0},{avoidStore:a,silent:!0}),this.set(i,Ds({avoidStore:a},o))},t.prototype.setValueFromInput=function(e,r,o){o===void 0&&(o={}),this.setValue(e,r,Ds(Ds({},o),{fromInput:1}))},t.prototype.parseValue=function(e,r){r===void 0&&(r={});var o={value:e},i="!important",a=this.get("functionName")||"";if((0,oe.isString)(e)&&e.indexOf(i)!==-1&&(o.value=e.replace(i,"").trim(),o.important=!0),!a&&!r.complete)return o;var s=[],l="".concat(o.value).trim(),u=l.indexOf("(")+1,c=a||l.substring(0,u-1);if(c&&(o.functionName=c),!a||l.indexOf("".concat(a,"("))===0){var d=l.lastIndexOf(")");s.push(u),d>=0&&s.push(d),o.value=String.prototype.substring.apply(l,s)}if(r.numeric){var f=parseFloat(o.value);o.unit=o.value.replace(f,""),o.value=f}return o},t.prototype.__getFullValue=function(e){var r=e===void 0?{}:e,o=r.withDefault;return!this.hasValue()&&o?this.getDefaultValue():this.getFullValue()},t.prototype.getFullValue=function(e,r){r===void 0&&(r={});var o=this.get("functionName"),i=this.getDefaultValue(),a=(0,oe.isUndefined)(e)?this.get("value"):e,s=this.hasValue();if(a&&i&&a===i)return i;if(o&&s){var l=o==="url"?"'".concat(a.replace(/'|"/g,""),"'"):a;a="".concat(o,"(").concat(l,")")}return s&&this.get("important")&&!r.skipImportant&&(a="".concat(a," !important")),a||""},t.prototype.__setParentTarget=function(e){this.up({parentTarget:e})},t.prototype.getParentTarget=function(){return this.get("parentTarget")||null},t.prototype.__parseFn=function(e){e===void 0&&(e="");var r=e.indexOf("(")+1,o=e.lastIndexOf(")");return{name:e.substring(0,r-1).trim(),value:String.prototype.substring.apply(e,[r,o>=0?o:void 0]).trim()}},t.prototype.__checkVisibility=function(e){var r=e.target,o=e.component,i=e.sector,a=e.sectors,s=o||r;if(!s)return!1;var l=this.getId(),u=this.getName(),c=this.attributes,d=c.requires,f=c.requiresParent,h=c.toRequire,p=c.isVisible,v=s.get("unstylable"),g=s.get("stylable-require"),_=s.get("stylable");if((0,oe.isFunction)(p))return!!p({property:this,sector:i,target:r,component:o});if((0,oe.isArray)(_)&&(_=_.indexOf(u)>=0),(0,oe.isArray)(v)&&(_=v.indexOf(u)<0),h&&(_=!r||g&&(g.indexOf(l)>=0||g.indexOf(u)>=0)),a&&d){var S=(0,oe.keys)(d);a.forEach(function(P){P.getProperties().forEach(function(F){if((0,oe.includes)(S,F.id)){var I=d[F.id];_=_&&(0,oe.includes)(I,F.get("value"))}})})}if(f){var y=o&&o.parent(),C=y&&y.getEl();if(C){var T=(0,At.hasWin)()?window.getComputedStyle(C):{};(0,oe.each)(f,function(P,F){_=_&&T[F]&&(0,oe.includes)(P,T[F])})}else _=!1}return!!_},t})(Qt.Kx);const ko=C2;C2.callParentInit=function(n,t,e,r){r===void 0&&(r={}),n.prototype.initialize.apply(t,[e,Ds(Ds({},r),{skipInit:1})])};C2.callInit=function(n,t,e){e===void 0&&(e={}),!e.skipInit&&n.init(t,e)};var CUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Ng=function(){return Ng=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Ng.apply(this,arguments)},Oj=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},sJ=function(n){return n==="integer"||n==="number"},SUe=(function(n){CUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return Ng(Ng({},ko.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},t.prototype.initialize=function(e,r){e===void 0&&(e={}),r===void 0&&(r={}),ko.callParentInit(ko,this,e,r);var o=this.em,i=new x2(this.get("properties")||[],{em:o,parentProp:this});this.set("properties",i,{silent:!0}),this.listenTo(i,"change",this.__upProperties),ko.callInit(this,e,r)},Object.defineProperty(t.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),t.prototype.getProperties=function(){return Oj([],this.get("properties").models,!0)},t.prototype.getProperty=function(e){return this.properties.filter(function(r){return r.getId()===e||r.getName()===e})[0]},t.prototype.getPropertyAt=function(e){return this.get("properties").at(e)},t.prototype.isDetached=function(){return!!this.get("detached")},t.prototype.getValues=function(e){var r=e===void 0?{}:e,o=r.byName;return this.getProperties().reduce(function(i,a){var s=o?a.getName():a.getId();return i[s]="".concat(a.__getFullValue()),i},{})},t.prototype.getSeparator=function(){return this.getSplitSeparator()},t.prototype.getJoin=function(){return this.__getJoin()},t.prototype.getStyleFromProps=function(e){var r;e===void 0&&(e={});var o=this.getName(),i=this.__getJoin(),a=this.get("toStyle"),s=this.getValues(),l={};if(a)l=a(s,{join:i,name:o,property:this});else if(s=this.getValues({byName:!0}),this.isDetached())l=s;else{var u=this.getProperties().map(function(c){return c.__getFullValue({withDefault:1})}).filter(Boolean).join(i);l=(r={},r[o]=u,r)}return this.isDetached()?l[o]="":(l[o]=l[o]||"",l=Ng(Ng({},l),this.getProperties().reduce(function(c,d){return c[d.getName()]="",c},{}))),e.camelCase?Object.keys(l).reduce(function(c,d){return c[(0,At.camelCase)(d)]=l[d],c},{}):l},t.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},t.prototype.__upProperties=function(e,r){if(r===void 0&&(r={}),!(r.__up||r.__clearIn)){var o=this.__getParentProp();if(o)return o.__upProperties(this,r);this.__upTargetsStyleProps(r,e)}},t.prototype.__upTargetsStyleProps=function(e,r){var o;e===void 0&&(e={});var i=this.getStyleFromProps();if(this.isDetached()&&r){var a=r.getName();i=(o={},o[a]=i[a],o)}this.__upTargetsStyle(i,e)},t.prototype._up=function(e,r){return r===void 0&&(r={}),this.__setProperties(this.__getSplitValue(e.value),r),ko.prototype._up.call(this,e,r),this},t.prototype.getStyle=function(e){return this.getStyleFromProps(e)},t.prototype.__getFullValue=function(e){if(e===void 0&&(e={}),this.isDetached()||e.__clear)return"";var r=this.getStyleFromProps()[this.getName()]||"";return bD(r)},t.prototype.__getJoin=function(){var e=this.get("join");return(0,oe.isString)(e)?e:this.get("separator")},t.prototype.__styleHasProps=function(e){e===void 0&&(e={});var r=this.getName(),o=this.getProperties(),i=o.map(function(s){return s.getName()}),a=Oj([r],i,!0);return a.some(function(s){return!(0,oe.isUndefined)(e[s])&&e[s]!==""})},t.prototype.__splitValue=function(e,r){return bD(e).split(r).map(function(o){return o.trim()}).filter(Boolean)},t.prototype.__splitStyleName=function(e,r,o){var i=e[r];return this.__splitValue(i||"",o)},t.prototype.__getSplitValue=function(e,r){e===void 0&&(e="");var o=r===void 0?{}:r,i=o.byName,a=this.getProperties(),s=a.length===4&&a.every(function(c){return sJ(c.getType())}),l=this.__splitValue(e,this.getSplitSeparator()),u={};return a.forEach(function(c,d){var f=l[d],h=(0,oe.isUndefined)(f)?"":f;if(s){var p=l.length;h=l[d]||l[d%p+(p!=1&&p%2?1:0)]||h}var v=i?c.getName():c.getId();u[v]=h||""}),u},t.prototype.__getPropsFromStyle=function(e,r){if(e===void 0&&(e={}),r===void 0&&(r={}),!this.__styleHasProps(e))return null;var o=r.byName,i=this.getName(),a=this.getProperties(),s=this.getSplitSeparator(),l=this.get("fromStyle"),u=l?l(e,{property:this,name:i,separator:s}):{};if(!l){var c=e[i];u=this.__getSplitValue(c||"",{byName:o}),a.forEach(function(d){var f=e[d.getName()],h=o?d.getName():d.getId();!(0,oe.isUndefined)(f)&&f!==""&&(u[h]=f)})}return u},t.prototype.__setProperties=function(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.getProperties().forEach(function(i){var a=e[i.getId()];i.__getFullValue()!==a&&i.upValue(a,r)});var o=(0,oe.keys)(e).map(function(i){return e[i]}).join(" ");this.set("value",o,{silent:!0})},t.prototype.clear=function(){var e=this;return this.getProperties().map(function(r){return r.clear({__clearIn:!e.isDetached()})}),ko.prototype.clear.call(this),this},t.prototype.hasValue=function(e){return this.getProperties().some(function(r){return r.hasValue(e)})},t.prototype.getFullValue=function(){return this.__getFullValue()},t.prototype.__canClearProp=function(e){return this.isDetached()&&e.hasValue({noParent:!0})},t})(ko);const pg=SUe;var xUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),vl=function(){return vl=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},vl.apply(this,arguments)},EUe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},BUe=/,(?![^\(]*\))/,kUe=/\s(?![^(]*\))/,TUe=(function(n){xUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return vl(vl({},pg.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},t.prototype.initialize=function(e,r){e===void 0&&(e={}),r===void 0&&(r={}),pg.callParentInit(pg,this,e,r);var o=this.get("layers"),i=new ZS(o,{prop:this});i.property=this,i.properties=this.get("properties"),this.set("layers",i,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(i,"add remove",this.__upLayers),pg.callInit(this,e,r)},Object.defineProperty(t.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),t.prototype.getLayers=function(){return this.layers.models},t.prototype.hasLayers=function(){return this.getLayers().length>0},t.prototype.getLayer=function(e){return e===void 0&&(e=0),this.layers.at(e)||void 0},t.prototype.getSelectedLayer=function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:void 0},t.prototype.selectLayer=function(e){return this.set("selectedLayer",e,{__select:!0})},t.prototype.selectLayerAt=function(e){e===void 0&&(e=0);var r=this.getLayer(e);return r&&this.selectLayer(r)},t.prototype.moveLayer=function(e,r){r===void 0&&(r=0);var o=this.layers,i=e?e.getIndex():-1;i>=0&&(0,oe.isNumber)(r)&&r>=0&&r<o.length&&i!==r&&(this.removeLayer(e),o.add(e,{at:r}))},t.prototype.addLayer=function(e,r){e===void 0&&(e={}),r===void 0&&(r={});var o={};this.getProperties().forEach(function(a){var s=a.getId(),l=e[s];o[s]=(0,oe.isUndefined)(l)?a.getDefaultValue():l});var i=this.layers.push({values:o},r);return i},t.prototype.removeLayer=function(e){return this.layers.remove(e)},t.prototype.removeLayerAt=function(e){e===void 0&&(e=0);var r=this.getLayer(e);return r?this.removeLayer(r):null},t.prototype.getLayerLabel=function(e){var r="";if(e){var o=this.get("layerLabel"),i=e.getValues(),a=e.getIndex();if(o)r=o(e,{index:a,values:i,property:this});else{var s=[];this.getProperties().map(function(l){s.push(i[l.getId()])}),r=s.filter(Boolean).join(" ")}}return r},t.prototype.getStyleFromLayer=function(e,r){var o;r===void 0&&(r={});var i=this.__getJoin(),a=this.__getJoinLayers(),s=this.get("toStyle"),l=this.getName(),u=e.getValues(),c;if(s)c=s(u,{join:i,joinLayers:a,name:l,layer:e,property:this});else{var d=this.getProperties().map(function(f){var h=f.getName(),p=u[f.getId()],v=(0,oe.isUndefined)(p)?f.getDefaultValue():p;if(r.number&&sJ(f.getType())){var g=f.parseValue(p,r.number);v="".concat(g.value).concat(g.unit)}return{name:h,value:v}});c=this.isDetached()?d.reduce(function(f,h){return f[h.name]=h.value,f},{}):(o={},o[this.getName()]=d.map(function(f){return f.value}).join(i),o)}return r.camelCase?Object.keys(c).reduce(function(f,h){return f[(0,At.camelCase)(h)]=c[h],f},{}):c},t.prototype.getStylePreview=function(e,r){r===void 0&&(r={});var o={},i=this.get("preview");return i&&(o=this.getStyleFromLayer(e,r)),o},t.prototype.getLayerSeparator=function(){var e=this.get("layerSeparator");return(0,oe.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e},t.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},t.prototype.__upProperties=function(e,r){var o;r===void 0&&(r={});var i=this.getSelectedLayer();i&&(i.upValues((o={},o[e.getId()]=e.__getFullValue(),o)),!r.__up&&this.__upTargetsStyleProps(r))},t.prototype.__upLayers=function(e,r,o){this.__upTargetsStyleProps(o||r)},t.prototype.__upTargets=function(e,r){if(r===void 0&&(r={}),!r.__select)return ko.prototype.__upTargets.call(this,e,r)},t.prototype.__upTargetsStyleProps=function(e){e===void 0&&(e={}),this.__upTargetsStyle(this.getStyleFromLayers(e),e)},t.prototype.__upTargetsStyle=function(e,r){return ko.prototype.__upTargetsStyle.call(this,e,r)},t.prototype.__upSelected=function(e,r){var o=e===void 0?{}:e,i=o.noEvent;r===void 0&&(r={});var a=this.em.Styles,s=this.getSelectedLayer(),l=s==null?void 0:s.getValues();l&&this.getProperties().forEach(function(u){var c,d=(c=l[u.getId()])!==null&&c!==void 0?c:"";u.__getFullValue()!==d&&u.upValue(d,vl(vl({},r),{__up:!0}))}),!i&&a.__trgEv(a.events.layerSelect,{property:this})},t.prototype._up=function(e,r){r===void 0&&(r={});var o=e.__layers,i=o===void 0?[]:o,a=EUe(e,["__layers"]);return!this.isDetached()&&this.__setLayers(i),this.__upSelected({noEvent:!0},r),ko.prototype._up.call(this,a,r),this},t.prototype.__setLayers=function(e,r){e===void 0&&(e=[]),r===void 0&&(r={});var o=this.layers,i=e.map(function(a){return{values:a}});o.length===i.length?i.map(function(a,s){var l;return(l=o.at(s))===null||l===void 0?void 0:l.upValues(a.values)}):o.reset(i),this.set({isEmptyValue:!!r.isEmptyValue}),this.__upSelected({noEvent:!0})},t.prototype.__parseValue=function(e){var r=this,o=this.parseValue(e);return o.__layers=e.split(BUe).map(function(i){return i.trim()}).map(function(i){return r.__parseLayer(i)}).filter(Boolean),o},t.prototype.__parseLayer=function(e){var r=this.get("parseLayer"),o=e.split(kUe),i=this.getProperties();return r?r({value:e,values:o}):i.reduce(function(a,s,l){var u=o[l];return a[s.getId()]=(0,oe.isUndefined)(u)?s.getDefaultValue():u,a},{})},t.prototype.__getLayersFromStyle=function(e){var r=this;if(e===void 0&&(e={}),!this.__styleHasProps(e))return null;if(this.isEmptyValueStyle(e))return[];var o=this.getName(),i=this.getProperties(),a=this.getLayerSeparator(),s=this.attributes.fromStyle,l=s?s(e,{property:this,name:o,separatorLayers:a}):[];if(!s){var u=this.__splitStyleName(e,o,a).map(function(c){return c.split(r.getSplitSeparator())}).map(function(c){var d={};return i.forEach(function(f,h){var p=c[h];d[f.getId()]=(0,oe.isUndefined)(p)?f.getDefaultValue():p}),d});i.forEach(function(c){var d=c.getId();r.__splitStyleName(e,c.getName(),a).map(function(f){var h;return h={},h[d]=f||c.getDefaultValue(),h}).forEach(function(f,h){u[h]=u[h]?vl(vl({},u[h]),f):f})}),l=u}return(0,oe.isArray)(l)?l:[l]},t.prototype.getStyle=function(e){return e===void 0&&(e={}),this.getStyleFromLayers(e)},t.prototype.getStyleFromLayers=function(e){var r=this;e===void 0&&(e={});var o={},i=this.getName(),a=this.getLayers(),s=this.getProperties(),l=a.map(function(c){return r.getStyleFromLayer(c,e)});if(l.forEach(function(c){(0,oe.keys)(c).map(function(d){o[d]||(o[d]=[]),o[d].push(c[d])})}),(0,oe.keys)(o).map(function(c){o[c]=o[c].join(r.__getJoinLayers())}),this.isDetached())o[i]="",!a.length&&s.map(function(c){o[c.getName()]=""});else{var u=s.reduce(function(c,d){return c[d.getName()]="",c},{});o[i]=o[i]||"",o=vl(vl({},o),u)}return vl(vl({},o),e.__clear?{}:this.getEmptyValueStyle())},t.prototype.isEmptyValueStyle=function(e){e===void 0&&(e={});var r=this.getEmptyValueStyle({force:!0}),o=(0,oe.keys)(r);return!!o.length&&o.every(function(i){return r[i]===e[i]})},t.prototype.getEmptyValueStyle=function(e){e===void 0&&(e={});var r=this.attributes.emptyValue;if(r&&(!this.hasLayers()||e.force)){var o=this.getName(),i=this.getProperties(),a=(0,oe.isString)(r)?r:r({property:this});if((0,oe.isString)(a)){var s={};return this.isDetached()?i.map(function(l){s[l.getName()]=a}):s[o]=a,s}else return a}else return{}},t.prototype.__getJoinLayers=function(){var e=this.get("layerJoin"),r=this.get("layerSeparator");return e||((0,oe.isString)(r)?r:e)},t.prototype.__getFullValue=function(){if(this.get("detached"))return"";var e=this.getStyleFromLayers();return bD(e[this.getName()])},t.prototype.hasValue=function(e){e===void 0&&(e={});var r=e.noParent,o=r&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!o},t.prototype.clear=function(e){return e===void 0&&(e={}),this.layers.reset(),this.__upTargetsStyleProps(vl(vl({},e),{__clear:!0})),ko.prototype.clear.call(this),this},t.prototype.__canClearProp=function(){return!1},t.prototype.__getLayers=function(){return this.layers},t})(pg);const OUe=TUe;var PUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),_B=function(){return _B=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},_B.apply(this,arguments)},IUe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},MUe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},NI="data-clear-style",FUe=(function(n){PUe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this;(0,oe.bindAll)(r,"__change","__updateStyle");var o=e.config||{},i=o.em;r.config=o,r.em=i,r.pfx=o.stylePrefix||"",r.ppfx=o.pStylePrefix||"",r.__destroyFn=r.destroy?r.destroy.bind(r):function(){};var a=r.model;a.view=r,r.onValueChange=(0,oe.debounce)(r.onValueChange.bind(r),10),r.updateStatus=(0,oe.debounce)(r.updateStatus.bind(r),0),r.listenTo(a,"destroy remove",r.remove),r.listenTo(a,"change:visible",r.updateVisibility),r.listenTo(a,"change:name change:className change:full",r.render),r.listenTo(a,"change:value",r.onValueChange),r.listenTo(a,"change:parentTarget",r.updateStatus),r.listenTo(i,"change:device",r.onValueChange);var s=r.init&&r.init.bind(r);return s&&s(),r}return t.prototype.events=function(){var e;return e={change:"inputValueChanged"},e["click [".concat(NI,"]")]="clear",e},t.prototype.template=function(e){var r=this,o=r.pfx,i=r.ppfx;return`
      <div class="`.concat(o,`label" data-sm-label></div>
      <div class="`).concat(i,`fields" data-sm-fields></div>
    `)},t.prototype.templateLabel=function(e){var r=this,o=r.pfx,i=r.em,a=e.parent,s=e.attributes,l=s.icon,u=l===void 0?"":l,c=s.info,d=c===void 0?"":c,f=i==null?void 0:i.getConfig().icons,h=(f==null?void 0:f.close)||"";return`
      <span class="`.concat(o,"icon ").concat(u,'" title="').concat(d,`">
        `).concat(e.getLabel(),`
      </span>
      `).concat(a?"":'<div class="'.concat(o,'clear" style="display: none" ').concat(NI,">").concat(h,"</div>"),`
    `)},t.prototype.templateInput=function(e){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(e.getDefaultValue(),`"/>
      </div>
    `)},t.prototype.remove=function(){var e=this;return Qt.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(r){return e[r]=null}),this.__destroyFn(this._getClbOpts()),this},t.prototype.updateStatus=function(){var e,r=this,o=r.model,i=r.pfx,a=r.ppfx,s=r.config,l="".concat(a,"four-color"),u="".concat(a,"color-warn"),c=this.$el.children(".".concat(i,"label")),d=this.getClearEl(),f=d?d.style:{};c.removeClass("".concat(l," ").concat(u)),f.display="none",o.hasValue({noParent:!0})&&s.highlightChanged?(c.addClass(l),s.clearProperties&&(f.display="")):o.hasValue()&&s.highlightComputed&&c.addClass(u),(e=this.parent)===null||e===void 0||e.updateStatus()},t.prototype.clear=function(e){e&&e.stopPropagation(),this.model.clear()},t.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(NI,"]"))),this.clearEl},t.prototype.inputValueChanged=function(e){e&&e.stopPropagation(),!this.emit&&this.model.upValue(e.target.value)},t.prototype.onValueChange=function(e,r,o){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},t.prototype.setValue=function(e){var r=this.model,o=(0,oe.isUndefined)(e)||e===""?r.getDefaultValue():e;if(this.update)return this.__update(o);this.__setValueInput(o)},t.prototype.__setValueInput=function(e){var r=this.getInputEl();r&&(r.value=e)},t.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},t.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},t.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},t.prototype.__unset=function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())},t.prototype.__update=function(e){var r=this.update&&this.update.bind(this);r&&r(_B(_B({},this._getClbOpts()),{value:e}))},t.prototype.__change=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=this.emit&&this.emit.bind(this);o&&o.apply(void 0,MUe([this._getClbOpts()],e,!1))},t.prototype.__updateStyle=function(e,r){r===void 0&&(r={});var o=r.complete,i=r.partial;IUe(r,["complete","partial"]);var a=this.model,s=o!==!1&&i!==!0;(0,At.isObject)(e)?a.__upTargetsStyle(e,{avoidStore:!s}):a.upValue(e,{partial:!s})},t.prototype._getClbOpts=function(){var e=this,r=e.model,o=e.el,i=e.createdEl;return{el:o,createdEl:i,property:r,props:r.attributes,change:this.__change,updateStyle:this.__updateStyle}},t.prototype.render=function(){this.clearCached();var e=this,r=e.pfx,o=e.model,i=e.el,a=e.$el,s=o.getName(),l=o.getType(),u=o.get("className")||"",c="".concat(r,"property"),d=l==="number"?"".concat(r).concat(l," ").concat(r,"integer"):"".concat(r).concat(l);this.createdEl&&this.__destroyFn(this._getClbOpts()),a.empty().append(this.template(o)),a.find("[data-sm-label]").append(this.templateLabel(o));var f=this.create&&this.create.bind(this);this.createdEl=f&&f(this._getClbOpts()),a.find("[data-sm-fields]").append(this.createdEl||this.templateInput(o)),i.className="".concat(c," ").concat(d," ").concat(c,"__").concat(s," ").concat(u).trim(),i.className+=o.isFull()?" ".concat(c,"--full"):"";var h=this.onRender&&this.onRender.bind(this);return h&&h(),this.setValue(o.getValue()),this},t.prototype.onRender=function(){},t})(Qt.Ss);const Yf=FUe;var DUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),UUe=(function(n){DUe(t,n);function t(e){var r=n.call(this,e)||this;r.config=e.config||{},r.pfx=r.config.stylePrefix||"",r.properties=[],r.parent=e.parent;var o=r.collection;return r.listenTo(o,"add",r.addTo),r.listenTo(o,"reset",r.render),r}return t.prototype.addTo=function(e,r,o){this.add(e,null,o)},t.prototype.add=function(e,r,o){o===void 0&&(o={});var i=this,a=i.parent,s=i.config,l=r||this.el,u=new e.typeView({model:e,config:s});a&&(u.parent=a),u.render();var c=u.el;this.properties.push(u),(0,Gt.Sc)(l,c,o.at)},t.prototype.remove=function(){return Qt.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},t.prototype.clearItems=function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]},t.prototype.render=function(){var e=this,r=this,o=r.$el,i=r.pfx;this.clearItems();var a=document.createDocumentFragment();return this.collection.forEach(function(s){return e.add(s,a)}),o.empty(),o.append(a),o.attr("class","".concat(i,"properties")),this},t})(Qt.Ss);const S2=UUe;var LUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),CB=function(){return CB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},CB.apply(this,arguments)},VUe=(function(n){LUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.templateInput=function(){var e=this.pfx;return`
      <div class="`.concat(e,"field ").concat(e,`composite">
        <span id="`).concat(e,`input-holder"></span>
      </div>
    `)},t.prototype.remove=function(){var e;return(e=this.props)===null||e===void 0||e.remove(),Yf.prototype.remove.apply(this,arguments),this},t.prototype.onValueChange=function(){},t.prototype.onRender=function(){var e=this.pfx,r=this.model,o=r.get("properties");if(o.length&&!this.props){var i=r.isDetached(),a=new S2({config:CB(CB({},this.config),{highlightComputed:i,highlightChanged:i}),collection:o,parent:this});a.render(),this.$el.find("#".concat(e,"input-holder")).append(a.el),this.props=a}},t.prototype.clearCached=function(){Yf.prototype.clearCached.apply(this,arguments),delete this.props},t})(Yf);const Ab=VUe;var NUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),RUe=(function(n){NUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},t.prototype.template=function(){var e=this,r=e.pfx,o=e.ppfx,i=e.em,a=i==null?void 0:i.getConfig().icons,s=(a==null?void 0:a.close)||"",l=(a==null?void 0:a.move)||"";return`
      <div class="`.concat(r,`label-wrp">
        <div id="`).concat(r,'move" class="').concat(o,`no-touch-actions" data-move-layer>
          `).concat(l,`
        </div>
        <div id="`).concat(r,`label" data-label></div>
        <div id="`).concat(r,'preview-box" class="').concat(r,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(r,'preview" class="').concat(r,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(r,'close-layer" class="').concat(r,`btn-close" data-close-layer>
          `).concat(s,`
        </div>
      </div>
      <div id="`).concat(r,`inputs" data-properties></div>
    `)},t.prototype.initialize=function(e){e===void 0&&(e={});var r=this.model,o=e.config||{};this.em=o.em,this.config=o,this.sorter=e.sorter,this.pfx=o.stylePrefix||"",this.ppfx=o.pStylePrefix||"",this.propertyView=e.propertyView;var i=this.propertyView.model;this.listenTo(r,"destroy remove",this.remove),this.listenTo(r,"change:values",this.updateLabel),this.listenTo(i,"change:selectedLayer",this.updateVisibility),r.view=this,r.set({droppable:0,draggable:1}),this.$el.data("model",r)},t.prototype.initSorter=function(){var e;(e=this.sorter)===null||e===void 0||e.startSort([{element:this.el}])},t.prototype.removeItem=function(e){e&&e.stopPropagation(),this.model.remove()},t.prototype.select=function(){this.model.select()},t.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},t.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},t.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},t.prototype.updateLabel=function(){var e=this.model,r=e.getLabel();if(this.getLabelEl().innerHTML=r,e.hasPreview()){var o=this.getPreviewEl(),i=e.getStylePreview({number:{min:-3,max:3}}),a=(0,oe.keys)(i).map(function(s){return"".concat(s,":").concat(i[s])}).join(";");o.setAttribute("style",a)}},t.prototype.updateVisibility=function(){var e,r=this,o=r.pfx,i=r.model,a=r.propertyView,s=this.getPropertiesWrapper(),l=i.isSelected();s.style.display=l?"":"none",this.$el[l?"addClass":"removeClass"]("".concat(o,"active")),l&&s.appendChild((e=a.props)===null||e===void 0?void 0:e.el)},t.prototype.render=function(){var e=this,r=e.el,o=e.pfx,i=e.model;return r.innerHTML=this.template(),r.className="".concat(o,"layer"),i.hasPreview()&&(r.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},t})(Qt.Ss);const HUe=RUe;var QUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),jUe=(function(n){QUe(t,n);function t(e){var r=n.call(this,e)||this,o=r.collection,i=e.config||{},a=i.em,s=i.stylePrefix||"",l=i.pStylePrefix||"";r.config=i,r.pfx=s,r.ppfx=l,r.propertyView=e.propertyView,r.className="".concat(s,"layers ").concat(l,"field"),r.listenTo(o,"add",r.addTo),r.listenTo(o,"reset",r.reset),r.items=[];var u=r.createPlaceholder(i.pStylePrefix);r.$el.append(u);var c=a==null?void 0:a.Utils;return r.sorter=c?new c.StyleManagerSorter({em:a,containerContext:{container:r.el,containerSel:".".concat(s,"layers"),itemSel:".".concat(s,"layer"),pfx:i.pStylePrefix,document,placeholderElement:u},dragBehavior:{dragDirection:Km.A.Vertical,nested:!1}}):void 0,o.view=r,r.$el.data("model",o),r.$el.data("collection",o),r}return t.prototype.addTo=function(e){var r=this.collection.indexOf(e);this.addToCollection(e,null,r)},t.prototype.addToCollection=function(e,r,o){var i=r||null,a=this,s=a.propertyView,l=a.config,u=a.sorter,c=a.$el,d=new HUe({model:e,config:l,sorter:u,propertyView:s}),f=d.render().el;if(this.items.push(d),i)i.appendChild(f);else if(typeof o<"u"){var h="before";c.children().length===o&&(o--,h="after"),o<0?c.append(f):c.children().eq(o)[h](f)}else c.append(f);return f},t.prototype.reset=function(e,r){this.clearItems(),this.render()},t.prototype.remove=function(){return this.clearItems(),Qt.Ss.prototype.remove.apply(this,arguments),this},t.prototype.clearItems=function(){this.items.forEach(function(e){return e.remove()}),this.items=[]},t.prototype.render=function(){var e=this,r=this.$el,o=document.createDocumentFragment();return r.empty(),this.collection.forEach(function(i){return e.addToCollection(i,o)}),r.append(o),r.attr("class",this.className),this},t.prototype.createPlaceholder=function(e){var r=document.createElement("div"),o=document.createElement("div");return this.el.parentNode,r.className=e+"placeholder",r.style.display="none",r.style.pointerEvents="none",o.className=e+"placeholder-int",r.appendChild(o),r},t})(Qt.Ss);const $Ue=jUe;var KUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Rg=function(){return Rg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Rg.apply(this,arguments)},WUe=(function(n){KUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return Rg(Rg({},Ab.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},t.prototype.templateInput=function(){var e=this,r=e.pfx,o=e.em,i=o==null?void 0:o.getConfig().icons,a=(i==null?void 0:i.plus)||"+";return`
      <div class="`.concat(r,"field ").concat(r,`stack">
        <button type="button" id="`).concat(r,`add" data-add-layer>
          `).concat(a,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},t.prototype.init=function(){var e=this.model;this.listenTo(e.layers,"change reset",this.updateStatus),this.listenTo(e,"change:isEmptyValue",this.updateStatus)},t.prototype.addLayer=function(){this.model.addLayer({},{at:0})},t.prototype.setValue=function(){},t.prototype.remove=function(){var e;return(e=this.layersView)===null||e===void 0||e.remove(),Ab.prototype.remove.apply(this,arguments),this},t.prototype.clearCached=function(){Ab.prototype.clearCached.apply(this,arguments),delete this.layersView},t.prototype.onRender=function(){var e=this,r=e.model,o=e.el,i=e.config,a=r.get("properties");if(a.length&&!this.props){var s=new S2({config:Rg(Rg({},i),{highlightComputed:!1,highlightChanged:!1}),collection:a,parent:this});s.render();var l=new $Ue({collection:r.layers,config:i,propertyView:this});l.render();var u=o.querySelector("[data-layers-wrapper]");u.appendChild(l.el),this.props=s,this.layersView=l}},t})(Ab);const zUe=WUe;var GUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),SB=function(){return SB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},SB.apply(this,arguments)},YUe=(function(n){GUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return SB(SB({},Yf.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},t.prototype.templateInput=function(){var e,r=this,o=r.pfx,i=r.em,a=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,s=a==null?void 0:a.close;return`
      <div class="`.concat(o,"field ").concat(o,`file">
        <div id='`).concat(o,`input-holder'>
          <div class="`).concat(o,`btn-c">
            <button class="`).concat(o,'btn" id="').concat(o,`images" type="button" data-open-assets>
              `).concat(i.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(o,'preview-box" class="').concat(o,`preview-file" data-preview-box>
          <div id="`).concat(o,'preview-file" class="').concat(o,`preview-file-cnt" data-preview></div>
          <div id="`).concat(o,'close" class="').concat(o,'preview-file-close" data-clear-asset>').concat(s,`</div>
        </div>
      </div>
    `)},t.prototype.__setValueInput=function(e){var r=this,o=r.model,i=r.el,a=o.getDefaultValue(),s=i.querySelector("[data-preview-box]"),l=i.querySelector("[data-preview]");s.style.display=!e||e===a?"none":"",l.style.backgroundImage=e||o.getDefaultValue()},t.prototype.openAssetManager=function(){var e=this,r,o=(r=this.em)===null||r===void 0?void 0:r.Assets;o==null||o.open({select:function(i,a){var s=(0,oe.isString)(i)?i:i.get("src");e.model.upValue(s,{partial:!a}),a&&o.close()},types:["image"],accept:"image/*"})},t})(Yf);const XUe=YUe;var JUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),ZUe=(function(n){JUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.templateInput=function(e){return""},t.prototype.init=function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)},t.prototype.setValue=function(e){},t.prototype.onRender=function(){var e=this,r=e.ppfx,o=e.model,i=e.el;if(!this.inputInst){var a=o.input;a.ppfx=r,a.render();var s=i.querySelector(".".concat(r,"fields"));s.appendChild(a.el),this.input=a.inputEl.get(0),this.inputInst=a}},t.prototype.clearCached=function(){Yf.prototype.clearCached.apply(this,arguments),this.inputInst=null},t})(Yf);const Df=ZUe;var qUe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),eLe=(function(n){qUe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.setValue=function(e){var r;(r=this.inputInst)===null||r===void 0||r.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})},t.prototype.remove=function(){var e=this;Df.prototype.remove.apply(this,arguments);var r=this.inputInst;return r&&r.remove&&r.remove(),["inputInst","$color"].forEach(function(o){return e[o]=null}),this},t.prototype.__handleChange=function(e,r){this.model.upValue(e,{partial:r})},t.prototype.onRender=function(){var e;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var r=this,o=r.ppfx,i=r.model,a=r.em,s=r.el,l=new MX({target:a,model:i,ppfx:o,onChange:this.__handleChange}),u=l.render();s.querySelector(".".concat(o,"fields")).appendChild(u.el),this.input=(e=u.inputEl)===null||e===void 0?void 0:e.get(0),this.inputInst=u}},t})(Df);const tLe=eLe;var nLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),xB=function(){return xB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},xB.apply(this,arguments)},Pj=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},rLe=(function(n){nLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return xB(xB({},ko.getDefaults()),{options:[],full:0})},t.prototype.getOptions=function(){var e=this.attributes,r=e.options,o=e.list;return(r&&r.length?r:o)||[]},t.prototype.getOption=function(e){var r=this,o=(0,At.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(i){return r.getOptionId(i)===o})[0]||null},t.prototype.setOptions=function(e){return e===void 0&&(e=[]),this.set("options",e),this},t.prototype.addOption=function(e){if(e){var r=this.getOptions();this.setOptions(Pj(Pj([],r,!0),[e],!1))}return this},t.prototype.getOptionId=function(e){return(0,At.isDef)(e.id)?e.id:e.value},t.prototype.getOptionLabel=function(e,r){var o;r===void 0&&(r={});var i=r.locale,a=i===void 0?!0:i,s=((0,oe.isString)(e)?this.getOption(e):e)||{},l=this.getOptionId(s),u=s.label||s.name||l,c=r.property||this.getId();return a&&((o=this.em)===null||o===void 0?void 0:o.t("styleManager.options.".concat(c,".").concat(l)))||u},t.prototype.initialize=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];ko.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.__onOptionChange)},t.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},t})(ko);const XD=rLe;var oLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),iLe=(function(n){oLe(t,n);function t(e){var r=n.call(this,e)||this;return r.listenTo(r.model,"change:options",r.updateOptions),r}return t.prototype.templateInput=function(){var e=this,r=e.pfx,o=e.ppfx;return`
      <div class="`.concat(o,"field ").concat(o,`select">
        <span id="`).concat(r,`input-holder"></span>
        <div class="`).concat(o,`sel-arrow">
          <div class="`).concat(o,`d-s-arrow"></div>
        </div>
      </div>
    `)},t.prototype.updateOptions=function(){delete this.input,this.onRender()},t.prototype.onRender=function(){var e=this.pfx,r=this.model,o=r.getOptions();if(!this.input){var i=[];o.forEach(function(s){var l=r.getOptionId(s),u=r.getOptionLabel(l),c=s.style?s.style.replace(/"/g,"&quot;"):"",d=c?'style="'.concat(c,'"'):"",f=l.replace(/"/g,"&quot;");i.push('<option value="'.concat(f,'" ').concat(d,">").concat(u,"</option>"))});var a=this.el.querySelector("#".concat(e,"input-holder"));a.innerHTML="<select>".concat(i.join(""),"</select>"),this.input=a.firstChild}},t.prototype.__setValueInput=function(e){var r=this.model,o=this.getInputEl(),i=r.getOptions()[0],a=i?r.getOptionId(i):"";o&&(o.value=e||a)},t})(Yf);const lJ=iLe;var aLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),EB=function(){return EB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},EB.apply(this,arguments)},sLe=(function(n){aLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return EB(EB({},XD.getDefaults()),{full:1})},t})(XD);const lLe=sLe;var uLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),cLe=(function(n){uLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.templateInput=function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')},t.prototype.onRender=function(){var e=this,r=e.pfx,o=e.ppfx,i=this.model,a="".concat(o,"radio-item-label"),s=i.getName(),l=i.getOptions(),u="".concat(r,"radio ").concat(r,"radio-").concat(s),c=i.cid;if(!this.input){var d=[];l.forEach(function(h){var p=h.className?"".concat(h.className," ").concat(r,"icon ").concat(a):"",v=i.getOptionId(h),g="".concat(s,"-").concat(v,"-").concat(c),_=p?"":i.getOptionLabel(v),S=h.title?'title="'.concat(h.title,'"'):"",y=i.getValue()===v?"checked":"";d.push(`
          <div class="`.concat(o,`radio-item">
            <input type="radio" class="`).concat(u,'" id="').concat(g,'" name="').concat(s,"-").concat(c,'" value="').concat(v,'" ').concat(y,`/>
            <label class="`).concat(p||a,'" ').concat(S,' for="').concat(g,'">').concat(_,`</label>
          </div>
        `))});var f=this.el.querySelector(".".concat(o,"field"));f.innerHTML='<div class="'.concat(o,'radio-items">').concat(d.join(""),"</div>"),this.input=f.firstChild}},t.prototype.__setValueInput=function(e){var r,o=this.model,i=e||o.getDefaultValue(),a=(r=this.getInputEl())===null||r===void 0?void 0:r.querySelector('[value="'.concat(i,'"]'));a&&(a.checked=!0)},t})(lJ);const dLe=cLe;var fLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Np=function(){return Np=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Np.apply(this,arguments)},ALe=(function(n){fLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return Np(Np({},ko.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},t.prototype.getUnits=function(){return this.get("units")||[]},t.prototype.getUnit=function(){return this.get("unit")},t.prototype.getMin=function(){return this.get("min")},t.prototype.getMax=function(){return this.get("max")},t.prototype.getStep=function(){return this.get("step")},t.prototype.upUnit=function(e,r){return r===void 0&&(r={}),this._up({unit:e},r)},t.prototype.initialize=function(e,r){e===void 0&&(e={}),r===void 0&&(r={}),ko.callParentInit(ko,this,e,r);var o=this.get("unit"),i=this.getUnits();this.input=(0,At.hasWin)()?new DX({model:this}):void 0,i.length&&!o&&this.set("unit",i[0],{silent:!0}),ko.callInit(this,e,r)},t.prototype.__getClearProps=function(){return Np(Np({},ko.prototype.__getClearProps()),{unit:""})},t.prototype.parseValue=function(e,r){r===void 0&&(r={});var o=ko.prototype.parseValue.apply(this,arguments),i=this.input.validateInputValue(o.value,Np({deepCheck:1},r)),a=i.value,s=i.unit;return o.value=a,o.unit=s,o},t.prototype.getFullValue=function(){var e=this.get("value"),r=this.get("unit"),o=(0,oe.isUndefined)(e)?"":"".concat(e),i=!(0,oe.isUndefined)(r)&&o?r:"",a="".concat(o).concat(i);return ko.prototype.getFullValue.apply(this,[a])},t})(ko);const BB=ALe;var hLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),kB=function(){return kB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},kB.apply(this,arguments)},pLe=(function(n){hLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.defaults=function(){return kB(kB({},BB.getDefaults()),{showInput:1})},t})(BB);const mLe=pLe;var vLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),TB=function(){return TB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},TB.apply(this,arguments)},gLe=(function(n){vLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.events=function(){return TB(TB({},Df.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},t.prototype.templateInput=function(e){var r=this.ppfx;return`
      <div class="`.concat(r,"field ").concat(r,`field-range">
        <input type="range" min="`).concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),`"/>
      </div>
    `)},t.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},t.prototype.inputValueChanged=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value)},t.prototype.inputValueChangedSoft=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},t.prototype.setValue=function(e){var r=this.model,o=r.parseValue(e);this.getSliderEl().value=e===""?r.getDefaultValue():parseFloat(o.value),Df.prototype.setValue.apply(this,arguments)},t.prototype.onRender=function(){Df.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},t.prototype.clearCached=function(){Df.prototype.clearCached.apply(this,arguments),delete this.slider},t})(Df);const yLe=gLe;var bLe=Qt.pM.extend(jX),wLe=bLe.extend({extendViewApi:1,init:function(){var n=this,t=n.opts,e=n.em,r=t.module||(e==null?void 0:e.get("StyleManager"));r&&(r.__listenAdd(this,r.events.propertyAdd),r.__listenRemove(this,r.events.propertyRemove))},types:[{id:"stack",model:OUe,view:zUe,isType:function(n){if(n&&n.type=="stack")return n}},{id:"composite",model:pg,view:Ab,isType:function(n){if(n&&n.type=="composite")return n}},{id:"file",model:ko,view:XUe,isType:function(n){if(n&&n.type=="file")return n}},{id:"color",model:ko,view:tLe,isType:function(n){if(n&&n.type=="color")return n}},{id:"select",model:XD,view:lJ,isType:function(n){if(n&&n.type=="select")return n}},{id:"radio",model:lLe,view:dLe,isType:function(n){if(n&&n.type=="radio")return n}},{id:"slider",model:mLe,view:yLe,isType:function(n){if(n&&n.type=="slider")return n}},{id:"integer",model:BB,view:Df,isType:function(n){if(n&&n.type=="integer")return n}},{id:"number",model:BB,view:Df,isType:function(n){if(n&&n.type=="number")return n}},{id:"base",model:ko,view:Yf,isType:function(n){return n.type="base",n}}]});const x2=wLe;var ZA=function(){return ZA=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},ZA.apply(this,arguments)},_Le=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},Sp=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},Wi=function(n){return n.map(function(t){return{id:t}})},CLe=(function(){function n(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var t=", sans-serif",e=["flex-start","flex-end","center"],r=Sp(Sp([],e,!0),["baseline","stretch"],!1);this.optsBgSize=Wi(["auto","cover","contain"]),this.optsBgAttach=Wi(["scroll","fixed","local"]),this.optsBgRepeat=Wi(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Wi(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Wi(["visible","hidden","scroll","auto"]),this.optsDir=Wi(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Wi(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Wi(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Wi(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Wi(["none","left","right"]),this.optsPos=Wi(["static","relative","absolute","fixed"]),this.optsTextAlign=Wi(["left","center","right","justify"]),this.optsFlexAlign=Wi(r),this.optsJustCont=Wi(Sp(Sp([],e,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Wi(Sp(Sp([],e,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Wi(Sp(["auto"],r,!0)),this.optsTransitProp=Wi(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Wi(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Wi(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+t,"Arial Black, Gadget"+t,"Brush Script MT"+t,"Comic Sans MS, cursive"+t,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+t,"Impact, Charcoal"+t,"Lucida Sans Unicode, Lucida Grande"+t,"Tahoma, Geneva"+t,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+t,"Verdana, Geneva"+t].map(function(o){return{id:o,label:o.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return n.prototype.__sub=function(t){var e=this;return function(){return t.map(function(r){if((0,oe.isString)(r))return e.get(r);var o=r.extend,i=_Le(r,["extend"]);return ZA(ZA({},e.get(o)),i)})}},n.prototype.init=function(){var t=this,e=this,r=e.fixedValues,o=e.requireFlex,i=e.typeNumber;this.props={};var a=[["text-shadow-h",{type:i,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:r},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:o},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:i,default:"0",requiresParent:o}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:o},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:o},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(s,l){var u=l.values,c=u["box-shadow-h"],d=u["box-shadow-v"],f=u["box-shadow-blur"],h=u["box-shadow-spread"];return"".concat(c," ").concat(d," ").concat(f," ").concat(h)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(s,l){var u=l.values,c=u["text-shadow-h"],d=u["text-shadow-v"],f=u["text-shadow-blur"];return"".concat(c," ").concat(d," ").concat(f)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(s,l){var u=l.values,c=u["background-repeat-sub"]||"",d=u["background-position-sub"]||"",f=u["background-attachment-sub"]||"",h=u["background-size-sub"]||"";return[c,d,f,h].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(s,l){var u=l.property,c=l.name,d=s[c]||"",f=u.getLayerSeparator();return d?d.split(f).map(function(h){var p=u.__parseFn(h),v=p.name,g=p.value;return{"transform-type":v,"transform-value":g}}):[]},toStyle:function(s,l){var u,c=l.name;return u={},u[c]="".concat(s["transform-type"],"(").concat(s["transform-value"],")"),u},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(s){var l=s.property,u=s.to;if(u.value){var c=l.getOption(),d=ZA({},c.propValue||{}),f=l.getParent().getProperty("transform-value"),h=f.getUnit();(!h||(d==null?void 0:d.units.indexOf(h))<0)&&(d.unit=(d==null?void 0:d.units[0])||""),f.up(d)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return a.forEach(function(s){var l=s[0],u=s[1],c=s[2];t.add(l,u||{},{from:c})}),this},n.prototype.add=function(t,e,r){e===void 0&&(e={}),r===void 0&&(r={});var o=r.from||"",i=this.props[o||t]||{},a=ZA(ZA(ZA({},i),{property:t}),e);return a.properties&&(0,oe.isFunction)(a.properties)&&(a.properties=a.properties()),this.props[t]=a,a},n.prototype.get=function(t){return this.props[t]},n.prototype.build=function(t){var e=this,r=[],o=(0,oe.isString)(t)?[t]:t;return o.forEach(function(i){r.push(e.get(i)||{property:i})}),r},n})();const SLe=CLe;var xLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),OB=function(){return OB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},OB.apply(this,arguments)},ELe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},BLe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},kLe=(function(n){xLe(t,n);function t(e,r){r===void 0&&(r={});var o=n.call(this,e)||this,i=r.em;o.em=i;var a=e||{},s=o.buildProperties(a.buildProps),l=o.get("name")||"",u=[];!o.get("id")&&o.set("id",l.replace(/ /g,"_").toLowerCase()),s?u=o.extendProperties(s):u=o.get("properties").map(function(d){return(0,oe.isString)(d)?o.buildProperties(d)[0]:d}).filter(Boolean),u=u.map(function(d){return o.checkExtend(d)});var c=new x2(u,{em:i});return c.sector=o,o.set("properties",c),o}return t.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(t.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),t.prototype.getId=function(){return this.get("id")},t.prototype.getName=function(){var e,r=this.getId();return((e=this.em)===null||e===void 0?void 0:e.t("styleManager.sectors.".concat(r)))||this.get("name")},t.prototype.setName=function(e){return this.set("name",e)},t.prototype.isOpen=function(){return!!this.get("open")},t.prototype.setOpen=function(e){return this.set("open",e)},t.prototype.isVisible=function(){return!!this.get("visible")},t.prototype.getProperties=function(e){e===void 0&&(e={});var r=this.properties,o=r.models?BLe([],r.models,!0):r;return o.filter(function(i){var a=!0;if(e.withValue&&(a=i.hasValue({noParent:!0})),e.withParentValue){var s=i.hasValue({noParent:!0});a=!s&&i.hasValue()}return a})},t.prototype.getProperty=function(e){return this.getProperties().filter(function(r){return r.get("id")===e})[0]||void 0},t.prototype.addProperty=function(e,r){return this.properties.add(this.checkExtend(e),r)},t.prototype.extendProperties=function(e,r,o){o===void 0&&(o=!1);for(var i=e.length,a=r||this.get("properties"),s=this.get("extendBuilded"),l=[],u=0,c=a.length;u<c;u++){for(var d=a[u],f=0,h=0;h<i;h++){var p=e[h];if(d.property==p.property||d.id==p.property){var v=d.properties;v&&v.length&&(d.properties=this.extendProperties(p.properties||[],v,1)),e[h]=s?(0,oe.extend)(p,d):d,l[h]=e[h],f=1;continue}}f||(e.push(d),l.push(d))}return o?l.filter(function(g){return g}):e},t.prototype.checkExtend=function(e){var r=((0,oe.isString)(e)?{extend:e}:e)||{},o=r.extend,i=ELe(r,["extend"]);return o?OB(OB({},this.buildProperties([o])[0]||{}),i):e},t.prototype.buildProperties=function(e){var r,o=e||[];if(!o.length)return[];var i=(r=this.em)===null||r===void 0?void 0:r.Styles.builtIn;return i==null?void 0:i.build(o)},t})(Qt.Kx);const uJ=kLe;var TLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),PB=function(){return PB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},PB.apply(this,arguments)},OLe=(function(n){TLe(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.initialize=function(e,r){r===void 0&&(r={});var o=r.module,i=r.em;this.em=i,this.module=o,this.listenTo(this,"reset",this.onReset)},t.prototype.model=function(e,r){r===void 0&&(r={});var o=r.collection.em;return new uJ(e,PB(PB({},r),{em:o}))},t.prototype.onReset=function(e,r){r===void 0&&(r={});var o=r.previousModels||[];o.forEach(function(i){return i.get("properties").reset()})},t})(Qt.pM);const PLe=OLe;var IB;(function(n){n.sectorAdd="style:sector:add",n.sectorRemove="style:sector:remove",n.sectorUpdate="style:sector:update",n.propertyAdd="style:property:add",n.propertyRemove="style:property:remove",n.propertyUpdate="style:property:update",n.target="style:target",n.layerSelect="style:layer:select",n.custom="style:custom",n.all="style"})(IB||(IB={}));var ILe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),MLe=function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},FLe=(function(n){ILe(t,n);function t(e){var r=n.call(this,e)||this,o=e.config||{},i=r.model,a=o.em;return r.config=o,r.em=a,r.pfx=o.stylePrefix||"",r.listenTo(i,"destroy remove",r.remove),r.listenTo(i,"change:open",r.updateOpen),r.listenTo(i,"change:visible",r.updateVisibility),r}return t.prototype.template=function(e){var r,o=e.pfx,i=e.label,a=(r=this.em)===null||r===void 0?void 0:r.getConfig().icons,s=(a==null?void 0:a.caret)||"",l="".concat(o,"sector-");return xl(Ij||(Ij=MLe([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),l,l,s,l,i)},t.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},t.prototype.updateOpen=function(){var e=this,r=e.$el,o=e.model,i=e.pfx,a=o.isOpen();r[a?"addClass":"removeClass"]("".concat(i,"open")),this.getPropertiesEl().style.display=a?"":"none"},t.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},t.prototype.getPropertiesEl=function(){var e=this,r=e.$el,o=e.pfx;return r.find(".".concat(o,"properties")).get(0)},t.prototype.toggle=function(){var e=this.model;e.setOpen(!e.get("open"))},t.prototype.renderProperties=function(){var e=this,r=e.model,o=e.config,i=r.get("properties");if(i){var a=new S2({collection:i,config:o});this.$el.append(a.render().el)}},t.prototype.render=function(){var e=this,r=e.pfx,o=e.model,i=e.$el,a=o.getId(),s=o.getName();return i.html(this.template({pfx:r,label:s})),this.renderProperties(),i.attr("class","".concat(r,"sector ").concat(r,"sector__").concat(a," no-select")),this.updateOpen(),this},t})(Qt.Ss);const DLe=FLe;var Ij,ULe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),LLe=(function(n){ULe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this,e)||this,o=e.module,i=e.config,a=r.collection;return r.pfx=(i==null?void 0:i.stylePrefix)||"",r.ppfx=(i==null?void 0:i.pStylePrefix)||"",r.config=i,r.module=o,r.listenTo(a,"add",r.addTo),r.listenTo(a,"reset",r.render),r}return t.prototype.remove=function(){var e=this;return Qt.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(r){return e[r]={}}),this},t.prototype.addTo=function(e,r,o){o===void 0&&(o={}),this.addToCollection(e,null,o)},t.prototype.addToCollection=function(e,r,o){o===void 0&&(o={});var i=this,a=i.config,s=i.el,l=r||s,u=new DLe({model:e,config:a}).render().el;return(0,Gt.Sc)(l,u,o.at),u},t.prototype.render=function(){var e=this,r=this,o=r.$el,i=r.pfx,a=r.ppfx;o.empty();var s=document.createDocumentFragment();return this.collection.each(function(l){return e.addToCollection(l,s)}),o.append(s),o.addClass("".concat(i,"sectors ").concat(a,"one-bg ").concat(a,"two-color")),this},t})(Qt.Ss);const VLe=LLe;var NLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),qA=function(){return qA=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},qA.apply(this,arguments)},Mj=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},Fj=function(n){return n||n===0},RLe=(function(n){NLe(t,n);function t(e){var r=n.call(this,e,"StyleManager",new PLe([],{em:e}),IB,bUe())||this;r.events=IB,r.Sector=uJ,r.storageKey="",(0,oe.bindAll)(r,"__clearStateTarget");var o=r.events,i=r.config,a=i.pStylePrefix;a&&(i.stylePrefix=a+i.stylePrefix),r.builtIn=new SLe,r.properties=new x2([],{em:e,module:r}),r.sectors=r.all;var s=new Qt.Kx({targets:[]});r.model=s;var l=Ur.I.update,u="component:toggled ".concat(l,":classes change:state change:device frame:resized selector:type");r.upAll=(0,oe.debounce)(function(){return r.__upSel()},0),s.listenTo(e,u,r.upAll),s.listenTo(e,"component:toggled",r.__clearStateTarget);var c=(0,oe.debounce)(function(){r.__upProps(),r.__trgCustom()},0);s.listenTo(e,"styleable:change undo redo",c);var d=(0,oe.debounce)(function(){return r.__trgCustom()},0);return s.listenTo(e,"".concat(o.layerSelect," ").concat(o.target),d),s.on("change:lastTarget",function(){return e.trigger(o.target,r.getSelected())}),r}return t.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},t.prototype.__trgCustom=function(e){e===void 0&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},t.prototype.__trgEv=function(e){for(var r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];(r=this.em).trigger.apply(r,Mj([e],o,!1))},t.prototype.__clearStateTarget=function(){var e=this,r=this.em,o=this.__getStateTarget();o&&(r==null||r.skip(function(){r.Css.remove(o),e.model.set({stateTarget:null})}))},t.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},t.prototype.postRender=function(){this.__appendTo()},t.prototype.addSector=function(e,r,o){o===void 0&&(o={});var i=this.getSector(e);return i||(r.id=e,i=this.sectors.add(r,o)),i},t.prototype.getSector=function(e,r){r===void 0&&(r={});var o=this.sectors.where({id:e})[0];return!o&&r.warn&&this._logNoSector(e),o||null},t.prototype.getSectors=function(e){e===void 0&&(e={});var r=this.sectors,o=r&&r.models?e.array?Mj([],r.models,!0):r:[];return e.visible?o.filter(function(i){return i.isVisible()}):o},t.prototype.removeSector=function(e){return this.getSectors().remove(this.getSector(e,{warn:!0}))},t.prototype.addProperty=function(e,r,o){o===void 0&&(o={});var i=this.getSector(e,{warn:!0}),a;return i&&(a=i.addProperty(r,o)),a},t.prototype.getProperty=function(e,r){var o=this.getSector(e,{warn:!0}),i;return o&&(i=o.properties.filter(function(a){return a.get("property")===r||a.get("id")===r})[0]),i},t.prototype.getProperties=function(e){var r,o=this.getSector(e,{warn:!0});return o&&(r=o.properties),r},t.prototype.removeProperty=function(e,r){var o=this.getProperties(e);return o?o.remove(this.getProperty(e,r)):null},t.prototype.select=function(e,r){var o=this;r===void 0&&(r={});var i=this.em,a=(0,oe.isArray)(e)?e:[e],s=r.stylable,l=i.Css,u=[];a.filter(Boolean).forEach(function(v){var g=v;if((0,oe.isString)(v)){var _=l.getRule(v)||l.setRule(v);!(0,oe.isUndefined)(s)&&_.set({stylable:s}),g=_}u.push(g)});var c=r.component||u.filter(function(v){return(0,At.isComponent)(v)}).reverse()[0];u=u.map(function(v){return o.getModelToStyle(v)});var d=i.getState(),f=u.slice().reverse()[0],h=this.getParentRules(f,{state:d,component:c}),p=this.__getStateTarget();return i.skip(function(){var v;if(d&&(!((v=f==null?void 0:f.getState)===null||v===void 0)&&v.call(f))){var g=f.getStyle();p?p.setStyle(g):p=l.getAll().add({selectors:"gjs-selected",style:g,shallow:!0,important:!0})}else p&&(l.remove(p),p=void 0)}),this.model.set({targets:u,lastTarget:f,lastTargetParents:h,stateTarget:p,component:c}),this.__upProps(r),u},t.prototype.getSelected=function(){return this.model.get("lastTarget")},t.prototype.getSelectedAll=function(){return this.model.get("targets")},t.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},t.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},t.prototype.addStyleTargets=function(e,r){this.getSelectedAll().map(function(a){return a.addStyle(e,r)});var o=this.getSelected();o&&this.__emitCmpStyleUpdate(e);var i=this.__getStateTarget();o&&(i==null||i.setStyle(o.getStyle(),r))},t.prototype.getBuiltIn=function(e){return this.builtIn.get(e)},t.prototype.getBuiltInAll=function(){return this.builtIn.props},t.prototype.addBuiltIn=function(e,r){return this.builtIn.add(e,r)},t.prototype.getModelToStyle=function(e,r){r===void 0&&(r={});var o=this.em,i=r.skipAdd;if(o&&(e!=null&&e.toHTML)){var a=o.getConfig(),s=o.UndoManager,l=o.Css,u=o.Selectors,c=u?u.getConfig():{},d=a.devicePreviewMode?"":o.get("state"),f=e.get("classes"),h=f.getStyleable(),p=h.length,v=!c.componentFirst||r.useClasses,g={noCount:1},_={state:d,addOpts:g};s.skip(function(){var S;if(p&&v){var y=o.getCurrentMedia();S=l.get(h,d,y),!S&&!i&&(S=l.add(h,d,y,{},g))}else if(a.avoidInlineStyle){var C=e.getId();S=l.getIdRule(C,_),!S&&!i&&(S=l.setIdRule(C,{},_)),e.is("wrapper")&&S.set("wrapper",1,g)}S&&(e=S)})}return e},t.prototype.getParentRules=function(e,r){var o=r===void 0?{}:r,i=o.state,a=o.component,s=this.em,l=[];if(s&&e){var u=a,c=s.Css,d=s.CodeManager.getGenerator("css"),f=e.toHTML?e:e.getComponent(),h={array:!0},p=[],v=[],g=[],_=[],S=[],y=function(I){return I.length?c.getRules().filter(function(k){var M=k.getSelectors().map(function(V){return V.getFullName()});return M.length===0?!1:M.every(function(V){return I.indexOf(V)>=0})}):[]},C=function(I){return I?c.getRules().filter(function(k){return k.selectorsToString()===I}):[]};if(f)p=c.getRules("#".concat(f.getId())),v=C(f.get("tagName")),_=u?y(u.getSelectors().getFullName(h)):[],S=_.concat(v).concat(p);else{p=u?c.getRules("#".concat(u.getId())):[],v=C((u==null?void 0:u.get("tagName"))||"");var T=(u==null?void 0:u.getSelectors().getFullName(h))||[],P=T.filter(function(I){return e.getSelectors().getFullName(h).findIndex(function(k){return k===I})===-1});g=y(P.concat(e.getSelectors().getFullName(h))),S=v.concat(p).concat(g)}var F=S.filter(function(I){return(0,oe.isUndefined)(i)?1:I.get("state")===i}).sort(d.sortRules).reverse();l=F.slice(F.indexOf(e)+1)}return l},t.prototype.addType=function(e,r){this.properties.addType(e,r)},t.prototype.getType=function(e){return this.properties.getType(e)},t.prototype.getTypes=function(){return this.properties.getTypes()},t.prototype.createType=function(e,r){var o=r===void 0?{}:r,i=o.model,a=i===void 0?{}:i,s=o.view,l=s===void 0?{}:s,u=this.config,c=this.getType(e);if(c)return new c.view(qA({model:new c.model(a),config:u},l))},t.prototype.render=function(){var e=this,r=e.config,o=e.em,i=e.SectView,a=i&&i.el;return this.SectView=new VLe({el:a,em:o,config:r,module:this,collection:this.sectors}),this.SectView.render().el},t.prototype._logNoSector=function(e){var r=this.em;r&&r.logWarning("'".concat(e,"' sector not found"))},t.prototype.__emitCmpStyleUpdate=function(e,r){r===void 0&&(r={});var o=this.em;if(!e.__p){var i=this.getSelectedAll(),a=r.components||o.getSelectedAll(),s=Array.isArray(a)?a:[a],l=qA({},e);delete l.__p,s.forEach(function(u){return!i.includes(u)&&u.__onStyleChange(l)})}},t.prototype.__upProps=function(e){var r=this;e===void 0&&(e={});var o=this.getSelected();if(o){var i=this.sectors,a=this.model.get("component"),s=this.getSelectedParents(),l=o.getStyle(),u=s.map(function(c){return{target:c,style:c.getStyle()}});i.map(function(c){c.getProperties().map(function(d){r.__upProp(d,l,u,e)})}),i.forEach(function(c){var d=c.getProperties();d.forEach(function(h){var p=h.__checkVisibility({target:o,sector:c,component:a,sectors:i.models});h.set("visible",p)});var f=d.some(function(h){return h.isVisible()});c.set("visible",f)})}},t.prototype.__upProp=function(e,r,o,i){var a=this,s=e.getName(),l=r[s],u=Fj(l),c=e.getType()==="stack",d=e.getType()==="composite",f=qA(qA({},i),{__up:!0}),h=!d&&!c,p=e,v=e,g=c?p.__getLayersFromStyle(r):[],_=d?v.__getPropsFromStyle(r):{},S=u?l:null,y=null;if(c&&g===null||d&&_===null){var C=c?"__getLayersFromStyle":"__getPropsFromStyle",T=o.filter(function(M){return p[C](M.style)!==null})[0];if(T){S=T.style[s],y=T.target;var P=p[C](T.style);c?g=P:_=P}}else if(!u){S=null;var T=o.filter(function(V){return Fj(V.style[s])})[0];T&&(S=T.style[s],y=T.target)}if(e.__setParentTarget(y),h&&e.__getFullValue()!==S&&e.upValue(S,f),c&&p.__setLayers(g||[],{isEmptyValue:p.isEmptyValueStyle(r)}),d){var F=v.getProperties();if(v.isDetached()){var I=v.__getPropsFromStyle(r,{byName:!0})||{},k=o.map(function(M){return qA(qA({},M),{style:v.__getPropsFromStyle(M.style,{byName:!0})||{}})});F.map(function(M){return a.__upProp(M,I,k,i)})}else v.__setProperties(_||{},f),v.getProperties().map(function(M){return M.__setParentTarget(y)})}},t.prototype.destroy=function(){var e;[this.properties,this.sectors].forEach(function(r){r.reset(),r.stopListening()}),(e=this.SectView)===null||e===void 0||e.remove(),this.model.stopListening(),this.upAll.cancel()},t})(pA);const HLe=RLe;var QLe=function(){return{autoloadProviders:!1}};const jLe=QLe;var JD;(function(n){n.currentIndex="currentIndex",n.startIndex="startIndex",n.currentItem="currentItem",n.currentKey="currentKey",n.endIndex="endIndex",n.collectionId="collectionId",n.totalItems="totalItems",n.remainingItems="remainingItems"})(JD||(JD={}));var $Le=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),MB=function(){return MB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},MB.apply(this,arguments)},KLe=(function(n){$Le(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.em=r,o.model=function(i,a){return a===void 0&&(a={}),new lX(i,MB(MB({},a),{em:r}))},o}return t})(Qt.pM);const WLe=KLe;var zLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),Hg=function(){return Hg=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Hg.apply(this,arguments)},GLe=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},YLe=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(e=0)),e;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},XLe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},JLe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},ZLe=(function(n){zLe(t,n);function t(e){var r=n.call(this,e,"DataSources",new WLe([],e),Gf,jLe())||this;return r.storageKey="dataSources",r.events=Gf,r.dataComponentTypes=Ei,r.dataCollectionKeys=i_,r.dataCollectionStateTypes=JD,r.dataOperationTypes={any:a_,boolean:Yp,number:vd,string:ku},Object.assign(r,f2.Events),r}return t.prototype.destroy=function(){},t.prototype.add=function(e,r){r===void 0&&(r={});var o=this.all;return e.id=e.id||this._createId(),o.add(e,r)},t.prototype.get=function(e){return this.all.get(e)},t.prototype.getAll=function(){return JLe([],this.all.models,!0)},t.prototype.getValue=function(e,r,o){return(0,At.get)((o==null?void 0:o.context)||this.getContext(),e,r)},t.prototype.setValue=function(e,r){var o=this.fromPath(e);o[0];var i=o[1],a=o[2];if(i&&(a||a==="")){var s=Hg({},i.attributes);if((0,At.set)(s,a||"",r))return i.set(s),!0}return!1},t.prototype.getContext=function(){return this.all.reduce(function(e,r){return e[r.id]=r.records.reduce(function(o,i,a){var s=i,l=Hg({},s.attributes);return delete l.__p,o[s.id||a]=l,o},{}),e},{})},t.prototype.remove=function(e,r){return this.__remove(e,r)},t.prototype.fromPath=function(e){var r=[],o=(0,At.stringToPath)(e||""),i=o[0],a=o[1],s=o.slice(2),l=this.get(i),u=l==null?void 0:l.records.get(a);return l&&r.push(l),u&&(r.push(u),s.length&&r.push(s.join("."))),r},t.prototype.store=function(){var e,r=[];return this.all.forEach(function(o){var i=o.attributes,a=i.skipFromStorage;i.transformers;var s=i.records,l=i.schema,u=XLe(i,["skipFromStorage","transformers","records","schema"]);a||r.push(Hg(Hg({},u),{id:u.id,schema:(0,oe.isEmpty)(l)?void 0:l,records:u.provider?void 0:s}))}),e={},e[this.storageKey]=r,e},t.prototype.load=function(e){var r=this,o=this,i=o.config,a=o.all,s=o.events,l=o.em,u=this.loadProjectData(e);if(i.autoloadProviders){var c=a.filter(function(f){return f.hasProvider});if(c.length){var d=function(){return GLe(r,void 0,void 0,function(){var f;return YLe(this,function(h){switch(h.label){case 0:return l.trigger(s.providerLoadAllBefore),f=c.map(function(p){return p.loadProvider()}),[4,Promise.all(f)];case 1:return h.sent(),l.trigger(s.providerLoadAll),[2]}})})};d()}}return u},t.prototype.postLoad=function(){var e=this,r=e.em,o=e.all;r.listenTo(o,Qt.e2,function(i,a,s){var l=s||a;r.changesUp(l,{dataSource:i,options:l})}),this.em.UndoManager.add(o)},t})(pA);const cJ=ZLe;var qLe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),fa=function(){return fa=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},fa.apply(this,arguments)},RI=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},HI=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(e=0)),e;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},eVe=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(e[r[o]]=n[r[o]]);return e},tVe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))};Zxe().$=Xi.default;var nVe=[DFe,tFe,ZFe,cUe,aIe,VMe,HPe,HLe,wX,uDe,nUe,MDe,gUe,FIe,rMe,tke,YIe,gPe,cJ],rVe=[cJ,EMe,nPe,GMe,HOe,wX];qxe({$:Xi.default});var Dj={debug:console.log,info:console.info,warning:console.warn,error:console.error},oVe=(function(n){qLe(t,n);function t(e){e===void 0&&(e={});var r=n.call(this)||this;r.Model=Qt.Kx,r.Collection=Qt.pM,r.events=Rs,r.__skip=!1,r.defaultRunning=!1,r.loadTriggered=!1,r.destroyed=!1,r._isStoring=!1,r._config=e;var o=r.config;r.set("Config",e),r.set("modules",[]),r.set("toLoad",[]),r.set("storables",[]),r.set("selected",new nEe),r.set("dmode",o.dragMode);var i=o.el,a=o.log,s=a===!0?(0,oe.keys)(Dj):(0,oe.isArray)(a)?a:[];return(0,oe.bindAll)(r,"initBaseColorPicker"),i&&o.fromElement&&(o.components=i.innerHTML),r.attrsOrig=i?(0,oe.toArray)(i.attributes).reduce(function(l,u){return l[u.nodeName]=u.nodeValue,l},{}):"",o.components&&!o.pageManager&&(o.pageManager={pages:[{component:o.components}]}),nVe.forEach(function(l){return r.loadModule(l)}),rVe.forEach(function(l){return r.loadStorableModule(l)}),r.on("change:componentHovered",r.componentHovered,r),r.on("change:changesCount",r.updateChanges,r),r.on("change:readyLoad change:readyCanvas",r._checkReady,r),s.forEach(function(l){return r.listenLog(l)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(l){var u=l.from,c=l.to;r.listenTo(r,u,function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];r.trigger.apply(r,tVe([c],d,!1)),r.logWarning("The event '".concat(u,"' is deprecated, replace it with '").concat(c,"'"))})}),r}return t.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(t.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DataSources",{get:function(){return this.get("DataSources")},enumerable:!1,configurable:!0}),t.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},t.prototype.getContainer=function(){return this.config.el},t.prototype.listenLog=function(e){var r=this;this.listenTo(this,"log:".concat(e),function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(r.config.log){var a=Dj[e];a==null||a.apply(void 0,o)}})},Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){var e;return((e=this.config.grapesjs)===null||e===void 0?void 0:e.version)||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isHeadless",{get:function(){return!!this.config.headless},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isShallow",{get:function(){return!!this.get("isShallow")},enumerable:!1,configurable:!0}),t.prototype.initModules=function(){this.modules.forEach(function(e){return e.onInit()})},t.prototype.getConfig=function(e){var r=this.config;return(0,oe.isUndefined)(e)?r:r[e]},t.prototype.loadOnStart=function(){var e=this,r=this.config,o=r.projectData,i=r.headless,a={initial:!0},s=this.Storage;this.toLoad.reverse().forEach(function(c){return c.onLoad()});var l=function(){e.modules.forEach(function(c){return c.postLoad&&c.postLoad(e)}),e.set("readyLoad",1)};i?(o&&this.loadData(o,a),l()):this._storageTimeout=setTimeout(function(){return RI(e,void 0,void 0,function(){var c;return HI(this,function(d){switch(d.label){case 0:return o?(this.loadData(o,a),[3,5]):[3,1];case 1:if(!(s!=null&&s.canAutoload()))return[3,5];d.label=2;case 2:return d.trys.push([2,4,,5]),[4,this.load({},a)];case 3:return d.sent(),[3,5];case 4:return c=d.sent(),this.logError(c),[3,5];case 5:return l(),[2]}})})});var u=new t({noticeOnUnload:!1,storageManager:!1,undoManager:!1});u.set({isShallow:!0}),u.Pages.onLoad(),u.Canvas.postLoad(),this.set("shallow",u)},t.prototype.updateChanges=function(e,r,o){var i=this,a=this.Storage,s=this.getDirtyCount();o.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return i.trigger(Rs.update)})),this.config.noticeOnUnload&&(window.onbeforeunload=s?function(){return!0}:null),a.isAutosave()&&s>=a.getStepsBeforeSave()&&this.store().catch(function(l){return i.logError(l)})},t.prototype.loadModule=function(e){var r=new e(this);return this.set(r.name,r),r.onLoad&&this.toLoad.push(r),this.modules.push(r),r},t.prototype.loadStorableModule=function(e){var r=this.loadModule(e);return this.storables.push(r),r},t.prototype.init=function(e,r){r===void 0&&(r={}),this.destroyed&&(this.initialize(r),this.destroyed=!1),this.set("Editor",e)},t.prototype.getEditor=function(){return this.get("Editor")},t.prototype.handleUpdates=function(e,r){var o=this;e===void 0&&(e={}),!(this.__skip||!this.loadTriggered||e.temporary||e.noCount||e.avoidStore||e.partial)&&(this.trigger(this.events.updateBefore,r),this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var i=o.getDirtyCount()||0;e.unset;var a=eVe(e,["unset"]);o.set("changesCount",i+1,a)},0))},t.prototype.changesUp=function(e,r){this.handleUpdates(e,r)},t.prototype.componentHovered=function(e,r,o){var i=this.previous("componentHovered");i&&this.trigger("component:unhovered",i,o),r&&this.trigger("component:hovered",r,o)},t.prototype.getSelected=function(){return this.selected.lastComponent()},t.prototype.getSelectedAll=function(){return this.selected.allComponents()},t.prototype.setSelected=function(e,r){var o=this;r===void 0&&(r={});var i=r.event,a=i&&(i.ctrlKey||i.metaKey),s=(i||{}).shiftKey,l=((0,oe.isArray)(e)?e:[e]).map(function(f){var h,p;return((p=(h=f==null?void 0:f.delegate)===null||h===void 0?void 0:h.select)===null||p===void 0?void 0:p.call(h,f))||f}).filter(Boolean),u=this.getSelectedAll(),c=this.getConfig().multipleSelection,d=(0,oe.isArray)(e);(d||!e)&&this.removeSelected(u.filter(function(f){return!(0,oe.contains)(l,f)})),l.forEach(function(f){if(f&&(o.trigger(Ur.I.selectBefore,f,r),!f.get("selectable")||r.abort))if(r.useValid){for(var h=f.parent();h&&!h.get("selectable");)h=h.parent();f=h}else return;if(a&&c)return o.toggleSelected(f);if(s&&c){if(o.isEditing())return;o.clearSelection(o.Canvas.getWindow());var p=f.collection,v=f.index(),g,_;if(o.getSelectedAll().forEach(function(S){var y=S.collection,C=S.index();y===p&&(C<v?g=(0,oe.isUndefined)(g)?C:Math.max(g,C):C>v&&(_=(0,oe.isUndefined)(_)?C:Math.min(_,C)))}),!(0,oe.isUndefined)(g))for(;g!==v;)o.addSelected(p.at(g),r),g++;if(!(0,oe.isUndefined)(_))for(;_!==v;)o.addSelected(p.at(_),r),_--;return o.addSelected(f,r)}!d&&o.removeSelected(u.filter(function(S){return S!==f})),o.addSelected(f,r)})},t.prototype.addSelected=function(e,r){var o=this;r===void 0&&(r={});var i=(0,oe.isArray)(e)?e:[e];i.forEach(function(a){var s=o.selected;if(!(!a||!a.get("selectable")||a.parents().some(function(c){return s.hasComponent(c)}))){r.forceChange&&o.removeSelected(a,r);var l=s.allComponents().filter(function(c){return(0,oe.contains)(c.parents(),a)});if(l.forEach(function(c){return o.removeSelected(c,r)}),s.addComponent(a,r),o.trigger(Ur.I.select,a,r),o.Canvas.addSpot({type:Uu.F.Select,component:a}),r.activate){var u=a.getView();u!=null&&u.rendered?u.onActive(r.event):a.once(Ur.I.render,function(c){var d=c.view;return d.onActive(r.event)})}}})},t.prototype.removeSelected=function(e,r){var o=this;r===void 0&&(r={}),this.selected.removeComponent(e,r);var i=(0,oe.isArray)(e)?e:[e];i.forEach(function(a){return o.Canvas.removeSpots({type:Uu.F.Select,component:a})})},t.prototype.toggleSelected=function(e,r){var o=this;r===void 0&&(r={});var i=(0,oe.isArray)(e)?e:[e];i.forEach(function(a){o.selected.hasComponent(a)?o.removeSelected(a,r):o.addSelected(a,r)})},t.prototype.setHovered=function(e,r){var o=this;r===void 0&&(r={});var i=function(l,u){var c=o,d=c.config,f=c.Canvas,h=o.getHovered(),p=o.getSelectedAll(),v=Uu.F.Hover,g=Uu.F.Spacing;o.set("componentHovered",l||null,u),h&&(f.removeSpots({type:v,component:h}),f.removeSpots({type:g,component:h})),l&&(f.addSpot({type:v,component:l}),(!p.includes(l)||d.showOffsetsSelected)&&f.addSpot({type:g,component:l}))};if(!e)return i();var a="component:hover";if(r.forceChange&&i(),this.trigger("".concat(a,":before"),e,r),!e.get("hoverable"))if(r.useValid&&!r.abort){for(var s=e.parent();s&&!s.get("hoverable");)s=s.parent();e=s}else return;r.abort||(i(e,r),this.trigger(a,e,r))},t.prototype.getHovered=function(){return this.get("componentHovered")},t.prototype.setComponents=function(e,r){return r===void 0&&(r={}),this.Components.setComponents(e,r)},t.prototype.getComponents=function(){var e=this.Components,r=this.CodeManager;if(!(!e||!r)){var o=e.getComponents();return r.getCode(o,"json")}},t.prototype.setStyle=function(e,r){r===void 0&&(r={});var o=this.Css;return o.clear(r),o.getAll().add(e,r),this},t.prototype.addStyle=function(e,r){r===void 0&&(r={});var o=this.getStyle().add(e,r);return(0,oe.isArray)(o)?o:[o]},t.prototype.getStyle=function(){return this.Css.getAll()},t.prototype.setState=function(e){return this.set("state",e),this},t.prototype.getState=function(){return this.get("state")||""},t.prototype.getHtml=function(e){e===void 0&&(e={});var r=this.config,o=r.optsHtml,i=r.jsInHtml?this.getJs(e):"",a=e.component||this.Components.getComponent(),s=a?this.CodeManager.getCode(a,"html",fa(fa({},o),e)):"";return s+=i?"<script>".concat(i,"<\/script>"):"",s},t.prototype.getCss=function(e){e===void 0&&(e={});var r=this.config,o=r.optsCss,i=e.avoidProtected,a=(0,oe.isUndefined)(e.keepUnusedStyles)?r.keepUnusedStyles:e.keepUnusedStyles,s=this.Css,l=e.component||this.Components.getComponent(),u=i?"":r.protectedCss||"",c=l&&this.CodeManager.getCode(l,"css",fa(fa({cssc:s,keepUnusedStyles:a},o),e));return l?e.json?c:u+c:""},t.prototype.getJs=function(e){e===void 0&&(e={});var r=e.component||this.Components.getWrapper();return r?this.CodeManager.getCode(r,"js").trim():""},t.prototype.store=function(e){return RI(this,void 0,void 0,function(){var r,o=this;return HI(this,function(i){switch(i.label){case 0:return this._isStoring?[2]:(this._isStoring=!0,setTimeout(function(){o.clearDirtyCount()},1),r=this.storeData(),[4,this.Storage.store(r,e)]);case 1:return i.sent(),setTimeout(function(){o._isStoring=!1},1),[2,r]}})})},t.prototype.load=function(e){return RI(this,arguments,void 0,function(r,o){var i;return o===void 0&&(o={}),HI(this,function(a){switch(a.label){case 0:return[4,this.Storage.load(r)];case 1:return i=a.sent(),this.loadData(i,o),[4,(0,At.wait)()];case 2:return a.sent(),o.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,i]}})})},t.prototype.storeData=function(){var e={},r=this.getEditing();r&&r.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(i){e=fa(fa({},e),i.store(1))});var o=JSON.parse(JSON.stringify(e));return this.trigger(Rs.projectGet,{project:o}),o},t.prototype.loadData=function(e,r){e===void 0&&(e={}),r===void 0&&(r={});var o={project:e,options:r,initial:!!r.initial},i=!1;return(0,At.isEmptyObj)(e)||(this.storables.forEach(function(a){return a.clear()}),this.storables.forEach(function(a){return a.load(e)}),i=!0),this.trigger(Rs.projectLoad,fa(fa({},o),{loaded:i})),i&&this.trigger(Rs.projectLoaded,o),e},t.prototype.getDeviceModel=function(){var e=this.get("device");return this.Devices.get(e)},t.prototype.runDefault=function(e){e===void 0&&(e={});var r=this.Commands.get(this.config.defaultCommand);!r||this.defaultRunning||(r.stop(this,this,e),r.run(this,this,e),this.defaultRunning=!0)},t.prototype.stopDefault=function(e){e===void 0&&(e={});var r=this.Commands;if(r){var o=r.get(this.config.defaultCommand);!o||!this.defaultRunning||(o.stop(this,this,e),this.defaultRunning=!1)}},t.prototype.refreshCanvas=function(e){e===void 0&&(e={}),this.Canvas.refresh({spots:e.tools})},t.prototype.clearSelection=function(e){var r,o=e||window;(r=o.getSelection())===null||r===void 0||r.removeAllRanges()},t.prototype.getCurrentMedia=function(){var e=this.config,r=this.getDeviceModel(),o=e.mediaCondition,i=e.devicePreviewMode,a=r&&r.get("widthMedia");return r&&a&&!i?"(".concat(o,": ").concat(a,")"):""},t.prototype.getWrapper=function(){return this.Components.getWrapper()},t.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},t.prototype.getCurrentFrame=function(){return this.get("currentFrame")},t.prototype.getCurrentFrameModel=function(){var e;return(e=this.getCurrentFrame()||{})===null||e===void 0?void 0:e.model},t.prototype.getIcon=function(e){var r=this.config.icons||{};return r[e]||""},t.prototype.getDirtyCount=function(){return this.get("changesCount")},t.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},t.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},t.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},t.prototype.setDragMode=function(e){return this.set("dmode",e)},t.prototype.getDragMode=function(e){var r=(e==null?void 0:e.getDragMode())||this.get("dmode");return r||""},t.prototype.t=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=this.get("I18n");return o==null?void 0:o.t.apply(o,e)},t.prototype.inAbsoluteMode=function(e){return this.getDragMode(e)==="absolute"},t.prototype.destroyAll=function(){var e=this,r=this,o=r.config,i=r.view;this.trigger(Rs.destroy);var a=this.getEditor(),s=(o.grapesjs||{}).editors,l=s===void 0?[]:s,u=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),u==null||u.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(c){return c.destroy()}),i!=null&&i.remove&&i.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(c){return e[c]={}}),l.splice(l.indexOf(a),1),(0,At.hasWin)()&&(0,Xi.default)(o.el).empty().attr(this.attrsOrig),this.trigger(Rs.destroyed)},t.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||void 0},t.prototype.setEditing=function(e){return this.set("editing",e),this},t.prototype.isEditing=function(){return!!this.get("editing")},t.prototype.log=function(e,r){r===void 0&&(r={});var o=Rs.log,i=r.ns,a=r.level,s=a===void 0?"debug":a;if(this.trigger(o,e,r),s&&this.trigger("".concat(o,":").concat(s),e,r),i){var l="".concat(o,"-").concat(i);this.trigger(l,e,r),s&&this.trigger("".concat(l,":").concat(s),e,r)}},t.prototype.logInfo=function(e,r){this.log(e,fa(fa({},r),{level:"info"}))},t.prototype.logWarning=function(e,r){this.log(e,fa(fa({},r),{level:"warning"}))},t.prototype.logError=function(e,r){this.log(e,fa(fa({},r),{level:"error"}))},t.prototype.initBaseColorPicker=function(e,r){r===void 0&&(r={});var o=this.config,i=o.colorPicker,a=i===void 0?{}:i,s=o.el,l=o.stylePrefix;return(0,Xi.default)(e).spectrum(fa(fa({containerClassName:"".concat(l,"one-bg ").concat(l,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:""},r),a))},t.prototype.skip=function(e){this.__skip=!0;var r=this.UndoManager;r?r.skip(e):e(),this.__skip=!1},t.prototype.data=function(e,r,o){var i="_gjs-data";if(e[i]||(e[i]={}),(0,oe.isUndefined)(o))return e[i][r];e[i][r]=o},t})(Qt.Kx);const iVe=oVe;function aVe(){return window.location.hostname}var sVe=(function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}})(),lVe=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},uVe=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(e=0)),e;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},cVe=(function(n){sVe(t,n);function t(e){var r=n.call(this,{model:e})||this,o=e.Panels,i=e.UndoManager;return e.view=r,e.once("change:ready",function(){o.active(),o.disableButtons(),e.getConfig().telemetry&&r.sendTelemetryData().catch(function(){}),setTimeout(function(){e.trigger(Rs.load,e.Editor),e.loadTriggered=!0,i.clear(),e.clearDirtyCount()})}),r}return t.prototype.render=function(){var e=this,r=this,o=r.$el,i=r.model,a=i.Panels,s=i.Canvas,l=i.config,u=i.modules,c=l.stylePrefix,d=["".concat(c,"editor")];!l.customUI&&d.push("".concat(c,"one-bg ").concat(c,"two-color"));var f=(0,Xi.default)(l.el||"body ".concat(l.container));l.cssIcons&&(0,At.appendStyles)(l.cssIcons,{unique:!0,prepand:!0}),o.empty(),l.width&&f.css("width",l.width),l.height&&f.css("height",l.height),o.append(s.render()),o.append(a.render());var h=i.shallow,p=h.Canvas.render();return p.style.display="none",o.append(p),o.attr("class",d.join(" ")),f.addClass("".concat(c,"editor-cont")).empty().append(o),u.forEach(function(v){var g;return(g=v.postRender)===null||g===void 0?void 0:g.call(v,e)}),this},t.prototype.sendTelemetryData=function(){return lVe(this,void 0,void 0,function(){var e,r,o,i,a,s,l,u;return uVe(this,function(c){switch(c.label){case 0:return e=aVe(),e==="localhost"||e.includes("localhost")?[2]:(r="gjs_telemetry_sent_",o=this.model.version,i="".concat(r).concat(o),sessionStorage.getItem(i)?[2]:(a="https://app.grapesjs.com",[4,fetch("".concat(a,"/api/gjs/telemetry/collect"),{method:"POST",body:JSON.stringify({domain:e,version:o})})]));case 1:return s=c.sent(),s.ok?[3,3]:(l=Error.bind,u="Failed to send telemetry data ".concat,[4,s.text()]);case 2:throw new(l.apply(Error,[void 0,u.apply("Failed to send telemetry data ",[c.sent()])]));case 3:return sessionStorage.setItem(i,"true"),Object.keys(sessionStorage).forEach(function(d){d.startsWith(r)&&d!==i&&sessionStorage.removeItem(d)}),this.trigger(Rs.telemetryInit),[2]}})})},t})(Qt.Ss);const dVe=cVe;var Xb=function(){return Xb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Xb.apply(this,arguments)},Uj=function(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,t||[])).next())})},Lj=function(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(e=0)),e;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fVe=function(n,t,e){if(e||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||Array.prototype.slice.call(t))},AVe=(function(){function n(t,e){t===void 0&&(t={}),e===void 0&&(e={});var r;this.events=Rs,this.html=xl;var o=Jxe();this.config=Xb(Xb(Xb({},o),t),{pStylePrefix:(r=t.stylePrefix)!==null&&r!==void 0?r:o.stylePrefix}),this.em=new iVe(this.config),this.$=e.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(n.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"DataSources",{get:function(){return this.em.DataSources},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),n.prototype.getConfig=function(t){return this.em.getConfig(t)},n.prototype.getHtml=function(t){return this.em.getHtml(t)},n.prototype.getCss=function(t){return this.em.getCss(t)},n.prototype.getJs=function(t){return this.em.getJs(t)},n.prototype.getComponents=function(){return this.Components.getComponents()},n.prototype.getWrapper=function(){return this.Components.getWrapper()},n.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.em.setComponents(t,e),this},n.prototype.addComponents=function(t,e){return this.getWrapper().append(t,e)},n.prototype.getStyle=function(){return this.em.Css.getAll()},n.prototype.setStyle=function(t,e){return e===void 0&&(e={}),this.em.setStyle(t,e),this},n.prototype.addStyle=function(t,e){return e===void 0&&(e={}),this.em.addStyle(t,e)},n.prototype.getSelected=function(){return this.em.getSelected()},n.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},n.prototype.getSelectedToStyle=function(){var t=this.em.getSelected();if(t)return this.StyleManager.getModelToStyle(t)},n.prototype.select=function(t,e){return this.em.setSelected(t,e),this},n.prototype.selectAdd=function(t){return this.em.addSelected(t),this},n.prototype.selectRemove=function(t){return this.em.removeSelected(t),this},n.prototype.selectToggle=function(t){return this.em.toggleSelected(t),this},n.prototype.getEditing=function(){return this.em.getEditing()},n.prototype.setDevice=function(t){return this.em.set("device",t),this},n.prototype.getDevice=function(){return this.em.get("device")},n.prototype.runCommand=function(t,e){return e===void 0&&(e={}),this.Commands.run(t,e)},n.prototype.stopCommand=function(t,e){return e===void 0&&(e={}),this.Commands.stop(t,e)},n.prototype.store=function(t){return Uj(this,void 0,void 0,function(){return Lj(this,function(e){switch(e.label){case 0:return[4,this.em.store(t)];case 1:return[2,e.sent()]}})})},n.prototype.load=function(t){return Uj(this,arguments,void 0,function(e,r){return r===void 0&&(r={}),Lj(this,function(o){switch(o.label){case 0:return[4,this.em.load(e,r)];case 1:return[2,o.sent()]}})})},n.prototype.getProjectData=function(){return this.em.storeData()},n.prototype.loadProjectData=function(t,e){return e===void 0&&(e={}),this.em.loadData(t,e)},n.prototype.storeData=function(){return this.em.storeData()},n.prototype.loadData=function(t){return this.em.loadData(t)},n.prototype.getContainer=function(){return this.config.el},n.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},n.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},n.prototype.refresh=function(t){this.em.refreshCanvas(t)},n.prototype.setCustomRte=function(t){this.RichTextEditor.customRte=t},n.prototype.setCustomParserCss=function(t){return this.Parser.getConfig().parserCss=t,this},n.prototype.setDragMode=function(t){return this.em.setDragMode(t),this},n.prototype.log=function(t,e){return e===void 0&&(e={}),this.em.log(t,e),this},n.prototype.t=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return(t=this.em).t.apply(t,e)},n.prototype.on=function(t,e){return this.em.on(t,e),this},n.prototype.once=function(t,e){return this.em.once(t,e),this},n.prototype.off=function(t,e){return this.em.off(t,e),this},n.prototype.trigger=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this.em.trigger.apply(this.em,fVe([t],e,!0)),this},n.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},n.prototype.getEl=function(){var t;return(t=this.editorView)===null||t===void 0?void 0:t.el},n.prototype.getModel=function(){return this.em},n.prototype.render=function(){var t;return(t=this.editorView)===null||t===void 0||t.remove(),this.editorView=new dVe(this.em),this.editorView.render().el},n.prototype.onReady=function(t){this.em.get("ready")?t(this):this.em.on("load",t)},n})();const hVe=AVe;var pVe=function(n,t){var e=t.get(n);if(!e){var r=(0,At.getGlobal)()[n];e=(r==null?void 0:r.default)||r}return e},dJ=function(n,t){return(0,oe.isString)(n)?pVe(n,t):(n==null?void 0:n.default)||n},fJ=function(n,t){n.getModel().logWarning("Plugin ".concat(t," not found"),{context:"plugins",plugin:t})},mVe=(function(){function n(){this.plugins={}}return n.prototype.add=function(t,e){var r=this.get(t);return r||(this.plugins[t]=e,e)},n.prototype.get=function(t){return this.plugins[t]},n.prototype.getAll=function(){return this.plugins},n})();const vVe=mVe,gVe=(function(){var n=function(){for(var e,r=window.navigator.userAgent,o=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],i=0;i<o.length;i++){var a=o[i];if(e=a[1].exec(r),e)break}return!!e};if((0,At.hasWin)()&&n()){var t=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(e){return e||(e=""),t.apply(document.implementation,[e])}}});var FB=function(){return FB=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},FB.apply(this,arguments)};gVe();var ZD=new vVe,Vj=[],AJ=function(n,t){var e=dJ(n,ZD);return function(r){e?e(r,t||{}):fJ(r,n)}},hJ={$:Xi.default,editors:Vj,plugins:ZD,usePlugin:AJ,version:"0.22.14",init:function(n){n===void 0&&(n={});var t=n.headless,e=n.container;if(!e&&!t)throw new Error("'container' is required");var r=FB(FB({autorender:!0,plugins:[],pluginsOpts:{}},n),{grapesjs:this,el:t?void 0:(0,oe.isElement)(e)?e:document.querySelector(e)}),o=new hVe(r,{$:Xi.default}),i=o.getModel();return i.initModules(),r.plugins.forEach(function(a){var s=dJ(a,ZD),l=r.pluginsOpts[a]||{};s?s(o,l):fJ(o,a)}),i.loadOnStart(),r.autorender&&!t&&o.render(),Vj.push(o),o}};const yVe=hJ;var bVe=TT.Ay;TT.I0;TT.nu;var qS={exports:{}};/*! grapesjs-blocks-basic - 1.0.2 */var wVe=qS.exports,Nj;function _Ve(){return Nj||(Nj=1,(function(n,t){(function(e,r){n.exports=r()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:wVe,(()=>(()=>{var e={d:(s,l)=>{for(var u in l)e.o(l,u)&&!e.o(s,u)&&Object.defineProperty(s,u,{enumerable:!0,get:l[u]})},o:(s,l)=>Object.prototype.hasOwnProperty.call(s,l),r:s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{default:()=>a});var o=function(){return o=Object.assign||function(s){for(var l,u=1,c=arguments.length;u<c;u++)for(var d in l=arguments[u])Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d]);return s},o.apply(this,arguments)},i=function(){return i=Object.assign||function(s){for(var l,u=1,c=arguments.length;u<c;u++)for(var d in l=arguments[u])Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d]);return s},i.apply(this,arguments)};const a=function(s,l){l===void 0&&(l={}),(function(u,c){var d=u.BlockManager,f=c.category,h=c.blocks,p=c.stylePrefix,v=c.flexGrid,g=c.rowHeight,_=c.addBasicStyle,S="".concat(p,"row"),y="".concat(p,"cell"),C=v?`
    .`.concat(S,` {
      display: flex;
      justify-content: flex-start;
      align-items: stretch;
      flex-wrap: nowrap;
      padding: 10px;
    }
    @media (max-width: 768px) {
      .`).concat(S,` {
        flex-wrap: wrap;
      }
    }`):`
    .`.concat(S,` {
      display: table;
      padding: 10px;
      width: 100%;
    }
    @media (max-width: 768px) {
      .`).concat(p,"cell, .").concat(p,"cell30, .").concat(p,`cell70 {
        width: 100%;
        display: block;
      }
    }`),T=v?`
    .`.concat(y,` {
      min-height: `).concat(g,`px;
      flex-grow: 1;
      flex-basis: 100%;
    }`):`
    .`.concat(y,` {
      width: 8%;
      display: table-cell;
      height: `).concat(g,`px;
    }`),P=`
  .`.concat(p,`cell30 {
    width: 30%;
  }`),F=`
  .`.concat(p,`cell70 {
    width: 70%;
  }`),I=1,k={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:I},M=o(o({},k),{cr:1,bc:0,currentUnit:1,minDim:I,step:.2});v&&(M.keyWidth="flex-basis");var V={class:S,"data-gjs-droppable":".".concat(y),"data-gjs-resizable":k,"data-gjs-name":"Row"},U={class:y,"data-gjs-draggable":".".concat(S),"data-gjs-resizable":M,"data-gjs-name":"Cell"};v&&(U["data-gjs-unstylable"]=["width"],U["data-gjs-stylable-require"]=["flex-basis"]);var $=[".".concat(S),".".concat(y)];u.on("selector:add",(function(we){return $.indexOf(we.getFullName())>=0&&we.set("private",1)}));var Q=function(we){var Be=[];for(var We in we){var pe=we[We];pe=pe instanceof Array||pe instanceof Object?JSON.stringify(pe):pe,Be.push("".concat(We,"=").concat("'".concat(pe,"'")))}return Be.length?" ".concat(Be.join(" ")):""},J=function(we){return h.indexOf(we)>=0},R=Q(V),ne=Q(U),ue={category:f,select:!0};J("column1")&&d.add("column1",o(o({},ue),{label:c.labelColumn1,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(R,`>
        <div `).concat(ne,`></div>
      </div>
      `).concat(_?`<style>
          `.concat(C,`
          `).concat(T,`
        </style>`):"")})),J("column2")&&d.add("column2",o(o({},ue),{label:c.labelColumn2,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(R,`>
        <div `).concat(ne,`></div>
        <div `).concat(ne,`></div>
      </div>
      `).concat(_?`<style>
          `.concat(C,`
          `).concat(T,`
        </style>`):"")})),J("column3")&&d.add("column3",o(o({},ue),{label:c.labelColumn3,media:`<svg viewBox="0 0 23 24">
        <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(R,`>
        <div `).concat(ne,`></div>
        <div `).concat(ne,`></div>
        <div `).concat(ne,`></div>
      </div>
      `).concat(_?`<style>
          `.concat(C,`
          `).concat(T,`
        </style>`):"")})),J("column3-7")&&d.add("column3-7",o(o({},ue),{label:c.labelColumn37,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"/>
      </svg>`,content:"<div ".concat(R,`>
        <div `).concat(ne," style='").concat(v?"flex-basis":"width",`: 30%;'></div>
        <div `).concat(ne," style='").concat(v?"flex-basis":"width",`: 70%;'></div>
      </div>
      `).concat(_?`<style>
          `.concat(C,`
          `).concat(T,`
          `).concat(P,`
          `).concat(F,`
        </style>`):"")})),J("text")&&d.add("text",o(o({},ue),{activate:!0,label:c.labelText,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
      </svg>`,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}})),J("link")&&d.add("link",o(o({},ue),{label:c.labelLink,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
      </svg>`,content:{type:"link",content:"Link",style:{color:"#d983a6"}}})),J("image")&&d.add("image",o(o({},ue),{activate:!0,label:c.labelImage,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
      </svg>`,content:{style:{color:"black"},type:"image"}})),J("video")&&d.add("video",o(o({},ue),{label:c.labelVideo,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z" />
      </svg>`,content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}})),J("map")&&d.add("map",o(o({},ue),{label:c.labelMap,media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20.5,3L20.34,3.03L15,5.1L9,3L3.36,4.9C3.15,4.97 3,5.15 3,5.38V20.5A0.5,0.5 0 0,0 3.5,21L3.66,20.97L9,18.9L15,21L20.64,19.1C20.85,19.03 21,18.85 21,18.62V3.5A0.5,0.5 0 0,0 20.5,3M10,5.47L14,6.87V18.53L10,17.13V5.47M5,6.46L8,5.45V17.15L5,18.31V6.46M19,17.54L16,18.55V6.86L19,5.7V17.54Z" />
      </svg>`,content:{type:"map",style:{height:"350px"}}}))})(s,i({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:!1,stylePrefix:"gjs-",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map",rowHeight:75},l))};return r})()))})(qS)),qS.exports}var CVe=_Ve();const SVe=Qk(CVe);var ex={exports:{}};/*! grapesjs-plugin-forms - 2.0.6 */var xVe=ex.exports,Rj;function EVe(){return Rj||(Rj=1,(function(n,t){(function(e,r){n.exports=r()})(typeof globalThis<"u"?globalThis:typeof window<"u"?window:xVe,(()=>(()=>{var e={d:(g,_)=>{for(var S in _)e.o(_,S)&&!e.o(g,S)&&Object.defineProperty(g,S,{enumerable:!0,get:_[S]})},o:(g,_)=>Object.prototype.hasOwnProperty.call(g,_),r:g=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{default:()=>v});var o="form",i="input",a="textarea",s="select",l="checkbox",u="radio",c="button",d="label",f="option",h=function(){return h=Object.assign||function(g){for(var _,S=1,y=arguments.length;S<y;S++)for(var C in _=arguments[S])Object.prototype.hasOwnProperty.call(_,C)&&(g[C]=_[C]);return g},h.apply(this,arguments)},p=function(){return p=Object.assign||function(g){for(var _,S=1,y=arguments.length;S<y;S++)for(var C in _=arguments[S])Object.prototype.hasOwnProperty.call(_,C)&&(g[C]=_[C]);return g},p.apply(this,arguments)};const v=function(g,_){_===void 0&&(_={});var S=p({blocks:["form","input","textarea","select","button","label","checkbox","radio"],category:{id:"forms",label:"Forms"},block:function(){return{}}},_);(function(y){var C=y.Components,T={name:"name"},P={name:"placeholder"},F={type:"checkbox",name:"required"},I=function(M,V){return{type:f,content:V,attributes:{value:M}}},k=function(M){y.Commands.isActive("preview")||M.preventDefault()};C.addType(o,{isComponent:function(M){return M.tagName=="FORM"},model:{defaults:{tagName:"form",droppable:":not(form)",draggable:":not(form)",attributes:{method:"get"},traits:[{type:"select",name:"method",options:[{value:"get",name:"GET"},{value:"post",name:"POST"}]},{name:"action"}]}},view:{events:{submit:function(M){return M.preventDefault()}}}}),C.addType(i,{isComponent:function(M){return M.tagName=="INPUT"},model:{defaults:{tagName:"input",droppable:!1,highlightable:!1,attributes:{type:"text"},traits:[T,P,{type:"select",name:"type",options:[{value:"text"},{value:"email"},{value:"password"},{value:"number"}]},F]}},extendFnView:["updateAttributes"],view:{updateAttributes:function(){this.el.setAttribute("autocomplete","off")}}}),C.addType(a,{extend:i,isComponent:function(M){return M.tagName=="TEXTAREA"},model:{defaults:{tagName:"textarea",attributes:{},traits:[T,P,F]}}}),C.addType(f,{isComponent:function(M){return M.tagName=="OPTION"},model:{defaults:{tagName:"option",layerable:!1,droppable:!1,draggable:!1,highlightable:!1}}}),C.addType(s,{isComponent:function(M){return M.tagName=="SELECT"},model:{defaults:{tagName:"select",droppable:!1,highlightable:!1,components:[I("opt1","Option 1"),I("opt2","Option 2")],traits:[T,{name:"options",type:"select-options"},F]}},view:{events:{mousedown:k}}}),C.addType(l,{extend:i,isComponent:function(M){return M.tagName=="INPUT"&&M.type=="checkbox"},model:{defaults:{copyable:!1,attributes:{type:"checkbox"},traits:[{name:"id"},T,{name:"value"},F,{type:"checkbox",name:"checked"}]}},view:{events:{click:k},init:function(){this.listenTo(this.model,"change:attributes:checked",this.handleChecked)},handleChecked:function(){var M;this.el.checked=!!(!((M=this.model.get("attributes"))===null||M===void 0)&&M.checked)}}}),C.addType(u,{extend:l,isComponent:function(M){return M.tagName=="INPUT"&&M.type=="radio"},model:{defaults:{attributes:{type:"radio"}}}}),C.addType(c,{extend:i,isComponent:function(M){return M.tagName=="BUTTON"},model:{defaults:{tagName:"button",attributes:{type:"button"},text:"Send",traits:[{name:"text",changeProp:!0},{type:"select",name:"type",options:[{value:"button"},{value:"submit"},{value:"reset"}]}]},init:function(){var M=this.components(),V=M.length===1&&M.models[0],U=V&&V.is("textnode")&&V.get("content")||"",$=U||this.get("text");this.set("text",$),this.on("change:text",this.__onTextChange),$!==U&&this.__onTextChange()},__onTextChange:function(){this.components(this.get("text"))}},view:{events:{click:k}}}),C.addType(d,{extend:"text",isComponent:function(M){return M.tagName=="LABEL"},model:{defaults:{tagName:"label",components:"Label",traits:[{name:"for"}]}}})})(g),(function(y){y.TraitManager.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var C,T=this.model,P=this.target,F=T.get("value").trim().split(`
`),I=[],k=0;k<F.length;k++){var M=F[k].split("::");I.push({type:f,components:M[1]||M[0],attributes:{value:M[0]}})}P.components().reset(I),(C=P.view)===null||C===void 0||C.render()},getInputEl:function(){if(!this.$input){for(var C=[],T=this.target.components(),P=0;P<T.length;P++){var F=T.models[P],I=F.get("attributes"),k=(I==null?void 0:I.value)||"",M=F.components().models[0],V=M&&M.get("content")||"";C.push("".concat(k,"::").concat(V))}var U=document.createElement("textarea");U.value=C.join(`
`),this.$input=U}return this.$input}})})(g),(function(y,C){var T=C,P=y.BlockManager,F=function(I,k){var M;((M=T.blocks)===null||M===void 0?void 0:M.indexOf(I))>=0&&P.add(I,h(h(h({},k),{category:T.category,select:!0}),C.block(I)))};F(o,{label:"Form",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 5.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 8H3V6h18v2zM22 10.5c0-.3-.5-.5-1.3-.5H3.4c-.8 0-1.3.2-1.3.5v3c0 .3.5.5 1.3.5h17.4c.8 0 1.3-.2 1.3-.5v-3zM21 13H3v-2h18v2z"/><rect width="10" height="3" x="2" y="15" rx=".5"/></svg>',content:{type:o,components:[{components:[{type:d,components:"Name"},{type:i}]},{components:[{type:d,components:"Email"},{type:i,attributes:{type:"email"}}]},{components:[{type:d,components:"Gender"},{type:l,attributes:{value:"M"}},{type:d,components:"M"},{type:l,attributes:{value:"F"}},{type:d,components:"F"}]},{components:[{type:d,components:"Message"},{type:a}]},{components:[{type:c}]}]}}),F(i,{label:"Input",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 10h1v4H4z"/></svg>',content:{type:i}}),F(a,{label:"Textarea",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 7.5c0-.9-.5-1.5-1.3-1.5H3.4C2.5 6 2 6.6 2 7.5v9c0 .9.5 1.5 1.3 1.5h17.4c.8 0 1.3-.6 1.3-1.5v-9zM21 17H3V7h18v10z"/><path d="M4 8h1v4H4zM19 7h1v10h-1zM20 8h1v1h-1zM20 15h1v1h-1z"/></svg>',content:{type:a}}),F(s,{label:"Select",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M18.5 13l1.5-2h-3zM4 11.5h11v1H4z"/></svg>',content:{type:s}}),F(c,{label:"Button",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 9c0-.6-.5-1-1.3-1H3.4C2.5 8 2 8.4 2 9v6c0 .6.5 1 1.3 1h17.4c.8 0 1.3-.4 1.3-1V9zm-1 6H3V9h18v6z"/><path d="M4 11.5h16v1H4z"/></svg>',content:{type:c}}),F(d,{label:"Label",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 11.9c0-.6-.5-.9-1.3-.9H3.4c-.8 0-1.3.3-1.3.9V17c0 .5.5.9 1.3.9h17.4c.8 0 1.3-.4 1.3-.9V12zM21 17H3v-5h18v5z"/><rect width="14" height="5" x="2" y="5" rx=".5"/><path d="M4 13h1v3H4z"/></svg>',content:{type:d}}),F(l,{label:"Checkbox",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 17l-5-5 1.41-1.42L10 14.17l7.59-7.59L19 8m0-5H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2z"></path></svg>',content:{type:l}}),F(u,{label:"Radio",media:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-18C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 5c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5z"></path></svg>',content:{type:u}})})(g,S)};return r})()))})(ex)),ex.exports}var BVe=EVe();const kVe=Qk(BVe),Zy=N6("grapesjs",()=>{const n=Oe(null),t=Oe(null),e=Oe(null),r=Vt();function o(i){n.value=qm(bVe.init({height:"100vh",showOffsets:!0,noticeOnUnload:!1,storageManager:!1,container:i,fromElement:!0,plugins:["grapesjs-preset-webpage",SVe,kVe],pluginsOpts:{"grapesjs-preset-webpage":{},"grapesjs-plugin-forms":{}},canvas:{styles:["/src/styles/grapesjs-demo.css?v="+Date.now()]},canvasCss:`
        body {
          transform: scale(1.25);
          transform-origin: top left;
          width: 80%;
        }
      `})),n.value.on("change",()=>{t.value=n.value.getHtml(),e.value=n.value.getCss()}),n.value.on("component:selected",()=>{const l="fa fa-copy",u=n.value.getSelected(),c=u.get("toolbar");c.some(f=>{var h;return((h=f.attributes)==null?void 0:h.class)===l})||u.set({toolbar:[...c,{attributes:{class:l,title:"Copy to clipboard"},command:f=>{const h=f.getSelected(),p=h.get("classes").map(S=>S.get("name")),v=f.CssComposer.getAll().filter(S=>S.get("selectors").some(y=>p.includes(y.get("name")))).map(S=>S.toJSON()),g=S=>{const y=S.getId(),C=S.getStyle(),T=[{id:y,style:C}];return S.components().forEach(P=>{T.push(...g(P))}),T},_=JSON.stringify({components:h.toJSON(),inline_css:g(h),classes_css:v});localStorage.setItem("gjs-clipboard",_),r.ShowSuccess("Component copied to clipboard!")}}]})}),n.value.on("component:selected",()=>{const l="mdi mdi-content-paste",u=n.value.getSelected(),c=u.get("toolbar");c.some(f=>{var h;return((h=f.attributes)==null?void 0:h.class)===l})||u.set({toolbar:[...c,{attributes:{class:l,title:"Paste from clipboard"},command:f=>{const h=localStorage.getItem("gjs-clipboard");if(h)try{const{components:p,inline_css:v,classes_css:g}=JSON.parse(h??"");(f.getSelected()||f.getWrapper()).append(p);const S=y=>{const T=f.getWrapper().find(`#${y}`);return T&&T.length?T[0]:null};v.forEach(y=>{const C=y.id||y.attributes&&y.attributes.id,T=S(C);T&&T.setStyle(y.style)}),g.forEach(y=>{const C=y.selectors.map(F=>`.${F}`).join(", "),T=y.style||{},P=Object.entries(T).map(([F,I])=>`${F}: ${I}`).join("; ");f.Css.addRules(`${C} { ${P}; }`)}),r.ShowSuccess("Component pasted successfully!")}catch{r.ShowError("Error pasting component.")}else r.ShowError("No component in clipboard.")}}]})}),n.value.on("update",()=>{const u=n.value.getWrapper().find(".signature-slot");n.value.BlockManager.getAll().filter(d=>d!==void 0).forEach(d=>{const f=d.get("category");f&&f.id==="signature-details"&&n.value.BlockManager.remove(d.id)}),u.forEach((d,f)=>{const h=d.getAttributes()["data-signature-slot"],p=f+1;n.value.BlockManager.add(`signature-${p}-fullname`,{label:`Signature ${p} Full Name`,category:{id:"signature-details",label:"Signature Details",open:!1},media:`<svg viewBox="0 0 24 24">
                      <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
                    </svg>`,content:{tagName:"span",type:"text",attributes:{"data-signature-slot":h},content:`{signature_${p}_fullname}`,style:{},droppable:!0}}),n.value.BlockManager.add(`signature-${p}-firstname`,{label:`Signature ${p} First Name`,category:{id:"signature-details",label:"Signature Details",open:!1},media:`<svg viewBox="0 0 24 24">
                      <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
                    </svg>`,content:{tagName:"span",type:"text",attributes:{"data-signature-slot":h},content:`{signature_${p}_firstname}`,style:{},droppable:!0}}),n.value.BlockManager.add(`signature-${p}-lastname`,{label:`Signature ${p} Last Name`,category:{id:"signature-details",label:"Signature Details",open:!1},media:`<svg viewBox="0 0 24 24">
                      <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
                    </svg>`,content:{tagName:"span",type:"text",attributes:{"data-signature-slot":h},content:`{signature_${p}_lastname}`,style:{},droppable:!0}}),n.value.BlockManager.add(`signature-${p}-title`,{label:`Signature ${p} Title`,category:{id:"signature-details",label:"Signature Details",open:!1},media:`<svg viewBox="0 0 24 24">
                      <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
                    </svg>`,content:{tagName:"span",type:"text",attributes:{"data-signature-slot":h},content:`{signature_${p}_title}`,style:{},droppable:!0}}),n.value.BlockManager.add(`signature-${p}-email`,{label:`Signature ${p} Email`,category:{id:"signature-details",label:"Signature Details",open:!1},media:`<svg viewBox="0 0 24 24">
                      <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
                    </svg>`,content:{tagName:"span",type:"text",attributes:{"data-signature-slot":h},content:`{signature_${p}_email}`,style:{},droppable:!0}}),n.value.BlockManager.add(`signature-${p}-signed-date`,{label:`Signature ${p} Date`,category:{id:"signature-details",label:"Signature Details",open:!1},media:`<svg viewBox="0 0 24 24">
                      <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
                    </svg>`,attributes:{"data-signature-slot":h},content:{tagName:"span",type:"text",content:`{signature_${p}_date}`,style:{},droppable:!0}}),n.value.BlockManager.add(`signature-${p}-initials`,{label:`Signature ${p} Initials`,category:{id:"signature-details",label:"Signature Details",open:!1},media:`<svg viewBox="0 0 24 24">
                      <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
                    </svg>`,content:{tagName:"span",type:"text",attributes:{"data-signature-slot":h},content:`{signature_${p}_initials}`,style:{},droppable:!0}})})}),lt(yh,l=>{l.forEach(u=>{n.value.BlockManager.add(u.field_key,{label:u.field_label,category:{id:"custom-fields",label:"Custom Fields",open:!1},media:`<svg viewBox="0 0 24 24">
                      <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
                    </svg>`,content:{tagName:"span",type:"text",content:`{${u.field_key}}`,style:{},droppable:!0}})})},{immediate:!0});const a=n.value.StyleManager,s=a.getSectors().find(l=>l.get("name").toLowerCase().includes("decoration"));a.addProperty(s.get("id"),{type:"composite",property:"border-width",label:"Border Width",properties:[{type:"number",units:["px"],default:"0",property:"border-top-width",label:"Top"},{type:"number",units:["px"],default:"0",property:"border-right-width",label:"Right"},{type:"number",units:["px"],default:"0",property:"border-bottom-width",label:"Bottom"},{type:"number",units:["px"],default:"0",property:"border-left-width",label:"Left"}]}),a.addProperty(s.get("id"),{type:"select",property:"vertical-align",label:"Vertical Align",defaults:"middle",options:[{id:"top",label:"Top"},{id:"middle",label:"Middle"},{id:"bottom",label:"Bottom"},{id:"baseline",label:"Baseline"}]}),n.value.BlockManager.add("pdf-page",{label:"Page",category:"Basic",media:'<svg fill="#ffffff" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64px" height="64px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M86.45,23.27h-3.475V90.18c0,0.835-0.677,1.513-1.513,1.513H31.987v3.475c0,0.836,0.677,1.513,1.513,1.513l0.001,0v0h52.95 c0.836,0,1.513-0.677,1.513-1.513V24.782C87.963,23.946,87.286,23.27,86.45,23.27z"></path> <path d="M77.988,85.193V14.807c0-0.836-0.677-1.513-1.513-1.513h-3.475v66.911c0,0.836-0.677,1.513-1.513,1.513H22.011v3.475 c0,0.836,0.677,1.513,1.513,1.513c0,0,0,0,0,0h52.951C77.311,86.706,77.988,86.029,77.988,85.193z"></path> <path d="M68.013,75.218V4.832c0-0.836-0.677-1.513-1.513-1.513H13.55c-0.836,0-1.513,0.677-1.513,1.513v70.386 c0,0.836,0.677,1.513,1.513,1.513H66.5C67.336,76.731,68.013,76.054,68.013,75.218z"></path> </g> </g></svg>',content:()=>({tagName:"section",classes:["pdf-page",`pdf-page-${Date.now().toString(36)}`],copyable:!1,droppable:!0,components:[],style:{position:"relative"}})}),n.value.BlockManager.add("pdf-contract-page",{label:"Contract Page",category:"Basic",media:'<svg fill="#ffffff" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64px" height="64px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M86.45,23.27h-3.475V90.18c0,0.835-0.677,1.513-1.513,1.513H31.987v3.475c0,0.836,0.677,1.513,1.513,1.513l0.001,0v0h52.95 c0.836,0,1.513-0.677,1.513-1.513V24.782C87.963,23.946,87.286,23.27,86.45,23.27z"></path> <path d="M77.988,85.193V14.807c0-0.836-0.677-1.513-1.513-1.513h-3.475v66.911c0,0.836-0.677,1.513-1.513,1.513H22.011v3.475 c0,0.836,0.677,1.513,1.513,1.513c0,0,0,0,0,0h52.951C77.311,86.706,77.988,86.029,77.988,85.193z"></path> <path d="M68.013,75.218V4.832c0-0.836-0.677-1.513-1.513-1.513H13.55c-0.836,0-1.513,0.677-1.513,1.513v70.386 c0,0.836,0.677,1.513,1.513,1.513H66.5C67.336,76.731,68.013,76.054,68.013,75.218z"></path> </g> </g></svg>',content:()=>({copyable:!1,tagName:"section",classes:["pdf-page","contract-page",`pdf-page-${Date.now().toString(36)}`],droppable:!0,components:[],style:{position:"relative"}})}),n.value.BlockManager.add("pdf-title",{label:"Heading",category:"Basic",media:`<svg viewBox="0 0 24 24">
    <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
  </svg>`,content:{tagName:"h1",type:"text",content:"Insert your title here",style:{},droppable:!0}}),n.value.BlockManager.add("pdf-unordered-list",{label:"Unordered List",category:"Basic",media:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M4 10.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0-3.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4-7.5h12v2H8V6zm0 5h12v2H8v-2zm0 5h12v2H8v-2z"/></svg>',content:{tagName:"ul",components:[{tagName:"li",type:"text",content:"List item"}],droppable:!0}}),n.value.BlockManager.add("pdf-ordered-list",{label:"Ordered List",category:"Basic",media:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M4 7h2v2H4V7zm0 5h2v2H4v-2zm0 5h2v2H4v-2zm4-10h12v2H8V7zm0 5h12v2H8v-2zm0 5h12v2H8v-2z"/></svg>',content:{tagName:"ol",components:[{tagName:"li",type:"text",content:"List item"}],droppable:!0}}),n.value.BlockManager.add("pdf-link",{label:"Link",category:"Basic",media:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M3.9 12a5 5 0 0 1 5-5h4v2h-4a3 3 0 0 0 0 6h4v2h-4a5 5 0 0 1-5-5zm7-1h2v2h-2v-2zm6.1-4a5 5 0 0 1 0 10h-4v-2h4a3 3 0 0 0 0-6h-4V7h4z"/></svg>',content:{type:"link",content:"Insert your text here",style:{},droppable:!0}}),n.value.BlockManager.add("pdf-image",{label:"Image",category:"Basic",media:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M21 19V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zm-2 0H5V5h14zm-7-7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm-5 6l3-4 2.5 3.01L17 13l4 6H5z"/></svg>',content:{tagName:"img",type:"image",attributes:{src:"https://via.placeholder.com/150"},style:{width:"200px",height:"auto"}}}),n.value.BlockManager.add("pdf-container",{label:"Container",category:"Basic",media:'<svg viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2" fill="currentColor"/></svg>',content:{droppable:!0,tagName:"section",style:{}}}),n.value.BlockManager.add("pdf-table",{label:"Table",category:"Basic",media:'<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="#ffffff" viewBox="0 0 24 24"><path d="M3 3h18v18H3V3zm2 2v4h14V5H5zm0 6v4h14v-4H5zm0 6v2h14v-2H5z"/></svg>',content:{tagName:"table",classes:[],style:{width:"100%",borderCollapse:"collapse"},components:[{tagName:"thead",components:[{tagName:"tr",components:[{tagName:"th",droppable:!0,type:"table-cell",content:"Header 1",style:{}},{tagName:"th",droppable:!0,type:"table-cell",content:"Header 2",style:{}},{tagName:"th",droppable:!0,type:"table-cell",content:"Header 3",style:{}}]}]},{tagName:"tbody",components:[{tagName:"tr",components:[{tagName:"td",droppable:!0,type:"table-cell",content:"Row 1 Col 1",style:{}},{tagName:"td",droppable:!0,type:"table-cell",content:"Row 1 Col 2",style:{}},{tagName:"td",droppable:!0,type:"table-cell",content:"Row 1 Col 3",style:{}}]}]}]}}),n.value.BlockManager.add("client-first-name",{label:"Client First Name",category:{id:"client-details",label:"Client Details",open:!1},media:'<svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{client_first_name}</span>"}),n.value.BlockManager.add("client-last-name",{label:"Client Last Name",category:{id:"client-details",label:"Client Details",open:!1},media:'<svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{client_last_name}</span>"}),n.value.BlockManager.add("client-full-name",{label:"Client Full Name",category:{id:"client-details",label:"Client Details",open:!1},media:'<svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{client_full_name}</span>"}),n.value.BlockManager.add("client-email",{label:"Client Email",category:{id:"client-details",label:"Client Details",open:!1},media:'<svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{client_email}</span>"}),n.value.BlockManager.add("client-company-name",{label:"Client Company Name",category:{id:"client-details",label:"Client Details",open:!1},media:'<svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{client_company_name}</span>"}),n.value.BlockManager.add("client-signature",{label:"Proposal Signature",category:{id:"client-details",label:"Client Details",open:!1},media:'<svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{proposal_signature}</span>"}),n.value.BlockManager.add("client-signed-date",{label:"Proposal Signed Date",category:{id:"client-details",label:"Client Details",open:!1},media:'<svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{proposal_signed_date}</span>"}),n.value.BlockManager.add("client-initials",{label:"Client Initials",category:{id:"client-details",label:"Client Details",open:!1},media:'<svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{client_initials}</span>"}),n.value.BlockManager.add("author-company-name",{label:"Author Company Name",category:{id:"author-details",label:"Author Details",open:!1},media:'<svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{author_company_name}</span>"}),n.value.BlockManager.add("author-full-name",{label:"Author Full Name",category:{id:"author-details",label:"Author Details",open:!1},media:'<svg width="64px" height="64px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{author_full_name}</span>"}),n.value.BlockManager.add("proposal-title",{label:"Proposal Title",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{proposal_title}</span>"}),n.value.BlockManager.add("proposal-cover-letter",{label:"Cover Letter",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:{type:"text",classes:["cover-letter","demo-cover-letter"],content:"{proposal_cover_letter}",style:{}}}),n.value.BlockManager.add("proposal-expiry-date",{label:"Expiry Date",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{proposal_expiry_date}</span>"}),n.value.BlockManager.add("proposal-sent-date",{label:"Sent Date",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{proposal_sent_date}</span>"}),n.value.BlockManager.add("proposal-lease-term",{label:"Lease Term",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{proposal_lease_term}</span>"}),n.value.BlockManager.add("proposal-lease-type",{label:"Lease Type",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{proposal_lease_type}</span>"}),n.value.BlockManager.add("proposal-prints-inc-black",{label:"Black Prints Included",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{black_prints_included}</span>"}),n.value.BlockManager.add("proposal-prints-inc-color",{label:"Color Prints Included",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{color_prints_included}</span>"}),n.value.BlockManager.add("proposal-print-cost-black",{label:"Black Overage Cost",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{black_overage_cost}</span>"}),n.value.BlockManager.add("proposal-print-cost-color",{label:"Color Overage Cost",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{color_overage_cost}</span>"}),n.value.BlockManager.add("proposal-monthly-payment",{label:"Monthly Payment",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{monthly_payment}</span>"}),n.value.BlockManager.add("proposal-onetime-payment",{label:"One-time Payment",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:"<span>{one_time_payment}</span>"}),n.value.BlockManager.add("summary-table",{label:"Summary Table",category:{id:"proposal-details",label:"Proposal Details",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:{type:"text",classes:["demo-summary-table"],content:"{summary_table}",copyable:!1,droppable:!1,components:[],style:{position:"relative"}}}),n.value.BlockManager.add("product-page",{label:"Product Page",category:{id:"product-details",label:"Product Details",open:!1},media:'<svg fill="#ffffff" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64px" height="64px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M86.45,23.27h-3.475V90.18c0,0.835-0.677,1.513-1.513,1.513H31.987v3.475c0,0.836,0.677,1.513,1.513,1.513l0.001,0v0h52.95 c0.836,0,1.513-0.677,1.513-1.513V24.782C87.963,23.946,87.286,23.27,86.45,23.27z"></path> <path d="M77.988,85.193V14.807c0-0.836-0.677-1.513-1.513-1.513h-3.475v66.911c0,0.836-0.677,1.513-1.513,1.513H22.011v3.475 c0,0.836,0.677,1.513,1.513,1.513c0,0,0,0,0,0h52.951C77.311,86.706,77.988,86.029,77.988,85.193z"></path> <path d="M68.013,75.218V4.832c0-0.836-0.677-1.513-1.513-1.513H13.55c-0.836,0-1.513,0.677-1.513,1.513v70.386 c0,0.836,0.677,1.513,1.513,1.513H66.5C67.336,76.731,68.013,76.054,68.013,75.218z"></path> </g> </g></svg>',content:()=>n.value.getWrapper().find(".demo-product-page").length>0?(r.ShowError('You only need one "Product Page" component and it already exists!'),null):{tagName:"section",classes:["pdf-page","demo-product-page",`pdf-page-${Date.now().toString(36)}`],copyable:!1,droppable:!1,components:[{tagName:"div",classes:["product-page-content"],droppable:!0,components:[],style:{height:"100%",width:"100%"}},{tagName:"span",attributes:{"data-demo-end-marker":"1"},removable:!1,draggable:!1,selectable:!1,copyable:!1,style:{display:"none"}}],style:{position:"relative"}}}),n.value.BlockManager.add("product-title",{label:"Product Title",category:{id:"product-details",label:"Product Details",open:!1},media:`<svg viewBox="0 0 24 24">
    <path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" />
  </svg>`,content:{type:"text",classes:["product-title"],content:"{product_title}",droppable:!1,components:[],style:{position:"relative"}}}),n.value.BlockManager.add("product-image",{label:"Product Image",category:{id:"product-details",label:"Product Details",open:!1},media:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M21 19V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2zm-2 0H5V5h14zm-7-7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm-5 6l3-4 2.5 3.01L17 13l4 6H5z"/></svg>',content:{type:"text",classes:["product-image"],droppable:!1,components:[],content:"{product_image}"}}),n.value.BlockManager.add("product-specs",{label:"Product Specs",category:{id:"product-details",label:"Product Details",open:!1},media:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" /></svg>',content:{type:"text",classes:["product-specs"],content:"{product_specs}",droppable:!1,style:{width:"100%","min-height":"200px"},components:[]}}),n.value.BlockManager.add("product-description",{label:"Product Description",category:{id:"product-details",label:"Product Details",open:!1},media:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" /></svg>',content:{type:"text",classes:["product-description"],content:"{product_description}",droppable:!1,components:[],style:{position:"relative"}}});for(let l=1;l<11;l++)n.value.BlockManager.add(`line-item-name-${l}`,{label:`Product Name (Line Item ${l})`,category:{id:"line-items",label:"Line Items",open:!1},media:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" /></svg>',content:"<span>{item_"+l+"_name}</span>"}),n.value.BlockManager.add(`line-item-qty-${l}`,{label:`Product Qty. (Line Item ${l})`,category:{id:"line-items",label:"Line Items",open:!1},media:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" /></svg>',content:"<span>{item_"+l+"_qty}</span>"}),n.value.BlockManager.add(`line-item-subtotal-${l}`,{label:`Product Subtotal. (Line Item ${l})`,category:{id:"line-items",label:"Line Items",open:!1},media:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" /></svg>',content:"<span>{item_"+l+"_subtotal}</span>"}),n.value.BlockManager.add(`line-item-product-id-${l}`,{label:`Product ID (Line Item ${l})`,category:{id:"line-items",label:"Line Items",open:!1},media:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z" /></svg>',content:"<span>{item_"+l+"_product_id}</span>"});n.value.BlockManager.add("accept-button",{label:"Accept Proposal Button",category:{id:"signatures",label:"Signatures",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:{type:"text",classes:["demo-summary-button"],content:"{summary_accept_button}",droppable:!1,components:[],style:{position:"relative"}}}),n.value.BlockManager.add("customer-signature",{label:"Signature (External)",category:{id:"signatures",label:"Signatures",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:()=>{const c=n.value.getWrapper().find(".signature-slot").length+1;return{type:"signature-slot",classes:["signature-slot"],attributes:{title:"Signature","data-signature-slot":`sig-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,"data-signature-index":c,"data-signer-type":"customer"},content:`{signature_${c}}`,editable:!1,draggable:!0,droppable:!1,removable:!0,copyable:!1,components:[],style:{position:"relative",display:"inline-block"}}}}),n.value.BlockManager.add("company-signature",{label:"Signatures (Internal)",category:{id:"signatures",label:"Signatures",open:!1},media:'<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M8 13H14M8 17H16M13 3H5V21H19V9M13 3H14L19 8V9M13 3V7C13 8 14 9 15 9H19" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </g></svg>',content:()=>{const c=n.value.getWrapper().find(".signature-slot").length+1;return{type:"signature-slot",classes:["signature-slot"],attributes:{title:"Signature","data-signature-slot":`sig-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,"data-signer-type":"partner","data-signature-index":c},content:`{signature_${c}}`,editable:!1,draggable:!0,droppable:!1,removable:!0,copyable:!1,components:[],style:{position:"relative",display:"inline-block"}}}}),n.value.DomComponents.addType("table-cell",{extend:"text",isComponent:l=>l.tagName==="TD"||l.tagName==="TH",model:{defaults:{editable:!0,droppable:!0,traits:[{type:"number",name:"colspan",label:"Colspan",min:1,value:1},{type:"number",name:"rowspan",label:"Rowspan",min:1,value:1}],style:{}}}}),n.value.DomComponents.addType("signature-slot",{extend:"text",isComponent:l=>{if(l.classList&&l.classList.contains("signature-slot"))return{type:"signature-slot"}},model:{defaults:{editable:!1,draggable:!0,droppable:!1,removable:!0,copyable:!1}}})}return{gjs_instance:n,html_content:t,css_content:e,Instantiate:o}}),TVe={id:"gjs-editor"},MT=rn({__name:"GjsEditor",props:["initial_html","initial_css"],emits:["update:html","update:css"],setup(n,{emit:t}){const e=Zy(),r=t,o=n,{gjs_instance:i,html_content:a,css_content:s}=Lt(e);return Kn(()=>{e.Instantiate("#gjs-editor"),o.initial_html&&i.value.setComponents(o.initial_html),o.initial_css&&i.value.setStyle(o.initial_css)}),lt(s,l=>{r("update:css",l)}),lt(a,l=>{r("update:html",l)}),(l,u)=>(le(),et("div",TVe))}}),OVe=rn({__name:"[provider_id]",emits:["update"],setup(n,{emit:t}){const e=Oe(!1),r=P_(),o=Oe(null),i=tv(),a=Zy(),s=Vt(),{getAccessTokenSilently:l}=Er(),{html_content:u,css_content:c}=Lt(a),{is_data_loaded:d,hide_layout:f}=Lt(s);async function h(){e.value=!0;const p=new FormData,v=await l();p.append("provider_id",o.value.id),p.append("paperwork_css",c.value),p.append("paperwork_html",u.value),sn(v).post("/providers/update-paperwork",p).then(()=>{s.ShowSuccess("Your Paperwork has been updated.")}).finally(()=>{s.FetchProviders(v),e.value=!1})}return lt(d,p=>{p&&(o.value=gh.value.find(v=>v.id==r.params.provider_id),o.value?(a.gjs_instance.setComponents(o.value.paperwork_html),a.gjs_instance.setStyle(o.value.paperwork_css)):(s.ShowError("This Paperwork doesn't exist. Redirecting to Providers page..."),setTimeout(()=>i.push("/providers"),3e3)))}),lu(()=>f.value=!1),(p,v)=>{const g=MT,_=kT,S=du;return le(),Re(S,null,cA({title:N(()=>[Je(" Edit Paperwork "+at(O(o)?`for ${O(o).name}`:""),1)]),content:N(()=>[x(g),O(f)?(le(),Re(_,{key:0,loading:O(e),onOnsave:h},null,8,["loading"])):xt("",!0)]),_:2},[O(f)?void 0:{name:"footer",fn:N(()=>[x($e,{style:Ue(O(hn)),"prepend-icon":"mdi-overscan",text:"Distraction-Free Mode",onClick:v[0]||(v[0]=y=>f.value=!O(f))},null,8,["style"]),x(En),x($e,{color:"primary",text:"Save Changes",onClick:h,loading:O(e),class:"d-flex ml-auto",style:Ue(O(hn)),"prepend-icon":"mdi-floppy"},null,8,["loading","style"])]),key:"0"}]),1024)}}}),PVe=Object.freeze(Object.defineProperty({__proto__:null,default:OVe},Symbol.toStringTag,{value:"Module"})),IVe=rn({__name:"FeatureSettings",props:["is_modal"],setup(n){const t=Vt(),{partner_form:e,partner_loading:r}=Lt(t);return(o,i)=>{const a=pi;return le(),Re(Ao,{"model-value":"0",class:"mt-4"},{default:N(()=>[x(a,{class:"border",icon:"mdi-printer-outline",title:"Feature Settings"},cA({default:N(()=>[x(Fn,null,{default:N(()=>[x(Sl,{"true-value":1,"false-value":0,color:"primary",label:"Enable/Disable Big Deals",modelValue:O(e).big_deals_feature,"onUpdate:modelValue":i[0]||(i[0]=s=>O(e).big_deals_feature=s)},null,8,["modelValue"])]),_:1})]),_:2},[n.is_modal?void 0:{name:"footer",fn:N(()=>[x($e,{width:"150",type:"submit",text:"Save",color:"primary",class:"ma-auto d-block",onClick:i[1]||(i[1]=s=>o.$emit("submit")),style:Ue(O(hn)),loading:O(r)},null,8,["style","loading"])]),key:"0"}]),1024)]),_:1})}}}),pJ=rn({__name:"BrandSettings",props:["is_modal"],setup(n){const t=Vt(),{partner_form:e,manufacturers:r,partner_loading:o}=Lt(t),i=ae(()=>s=>{var l,u;return((u=(l=e.value)==null?void 0:l.supported_brands)==null?void 0:u.includes(s.id))??!1}),a=async(s,l)=>{if(s&&!i.value(l))e.value.supported_brands.push(l.id);else if(i.value(l)){const u=e.value.supported_brands.findIndex(c=>c===l.id);e.value.supported_brands.splice(u,1)}};return(s,l)=>{const u=pi;return le(),Re(Ao,{"model-value":"0",class:"mt-4"},{default:N(()=>[x(u,{class:"border",icon:"mdi-printer-outline",title:"Supported Brands"},cA({default:N(()=>[x(Fn,null,{default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"6"},{default:N(()=>[(le(!0),et(ut,null,Wr(O(r).slice(0,Math.ceil(O(r).length/2)),c=>(le(),Re(cs,{key:c.id,"model-value":O(i)(c),"onUpdate:modelValue":d=>a(d,c),label:c.name},null,8,["model-value","onUpdate:modelValue","label"]))),128))]),_:1}),x(wt,{cols:"6"},{default:N(()=>[(le(!0),et(ut,null,Wr(O(r).slice(Math.ceil(O(r).length/2)),c=>(le(),Re(cs,{key:c.id,"model-value":O(i)(c),"onUpdate:modelValue":d=>a(d,c),label:c.name},null,8,["model-value","onUpdate:modelValue","label"]))),128))]),_:1})]),_:1})]),_:1})]),_:2},[n.is_modal?void 0:{name:"footer",fn:N(()=>[x($e,{width:"150",type:"submit",text:"Save",color:"primary",class:"ma-auto d-block",onClick:l[0]||(l[0]=c=>s.$emit("submit")),style:Ue(O(hn)),loading:O(o)},null,8,["style","loading"])]),key:"0"}]),1024)]),_:1})}}}),mJ=rn({__name:"MailSettings",props:["is_modal","is_loading"],setup(n){const t=Vt(),e=Oe(!1),{partner_form:r,partner_loading:o}=Lt(t);return(i,a)=>{const s=pi;return le(),Re(Ao,{"model-value":"0",class:"mt-4"},{default:N(()=>[x(s,{class:"border",icon:"mdi-email-multiple-outline",title:"SMTP Settings"},cA({default:N(()=>[x(Fn,null,{default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:O(r).smtp_host,"onUpdate:modelValue":a[0]||(a[0]=l=>O(r).smtp_host=l),label:"SMTP Host",required:""},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:O(r).smtp_port,"onUpdate:modelValue":a[1]||(a[1]=l=>O(r).smtp_port=l),label:"SMTP Port",required:""},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:O(r).smtp_username,"onUpdate:modelValue":a[2]||(a[2]=l=>O(r).smtp_username=l),label:"SMTP Username",required:""},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:O(r).smtp_password,"onUpdate:modelValue":a[5]||(a[5]=l=>O(r).smtp_password=l),label:"SMTP Password",type:O(e)?"text":"password",required:""},{"append-inner":N(()=>[O(e)?(le(),Re(en,{key:0,onClick:a[3]||(a[3]=l=>e.value=!O(e)),icon:"mdi-eye-circle-outline"})):(le(),Re(en,{key:1,onClick:a[4]||(a[4]=l=>e.value=!O(e)),icon:"mdi-eye-closed"}))]),_:1},8,["modelValue","type"])]),_:1})]),_:1})]),_:1})]),_:2},[n.is_modal?void 0:{name:"footer",fn:N(()=>[x($e,{width:"150",type:"submit",text:"Save",color:"primary",class:"ma-auto d-block",onClick:a[6]||(a[6]=l=>i.$emit("submit")),style:Ue(O(hn)),loading:O(o)},null,8,["style","loading"])]),key:"0"}]),1024)]),_:1})}}}),MVe=it({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Cn()},"VColorPickerCanvas"),FVe=Vc({name:"VColorPickerCanvas",props:MVe(),emits:{"update:color":n=>!0,"update:position":n=>!0},setup(n,t){let{emit:e}=t;const r=It(!1),o=Oe(),i=It(parseFloat(n.width)),a=It(parseFloat(n.height)),s=Oe({x:0,y:0}),l=ae({get:()=>s.value,set(g){var y,C;if(!o.value)return;const{x:_,y:S}=g;s.value=g,e("update:color",{h:((y=n.color)==null?void 0:y.h)??0,s:To(_,0,i.value)/i.value,v:1-To(S,0,a.value)/a.value,a:((C=n.color)==null?void 0:C.a)??1})}}),u=ae(()=>{const{x:g,y:_}=l.value,S=parseInt(n.dotSize,10)/2;return{width:$t(n.dotSize),height:$t(n.dotSize),transform:`translate(${$t(g-S)}, ${$t(_-S)})`}}),{resizeRef:c}=Id(g=>{var y;if(!((y=c.el)!=null&&y.offsetParent))return;const{width:_,height:S}=g[0].contentRect;i.value=_,a.value=S});function d(g,_,S){const{left:y,top:C,width:T,height:P}=S;l.value={x:To(g-y,0,T),y:To(_-C,0,P)}}function f(g){g.type==="mousedown"&&g.preventDefault(),!n.disabled&&(h(g),window.addEventListener("mousemove",h),window.addEventListener("mouseup",p),window.addEventListener("touchmove",h),window.addEventListener("touchend",p))}function h(g){if(n.disabled||!o.value)return;r.value=!0;const _=Pse(g);d(_.clientX,_.clientY,o.value.getBoundingClientRect())}function p(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",h),window.removeEventListener("touchend",p)}function v(){var C;if(!o.value)return;const g=o.value,_=g.getContext("2d");if(!_)return;const S=_.createLinearGradient(0,0,g.width,0);S.addColorStop(0,"hsla(0, 0%, 100%, 1)"),S.addColorStop(1,`hsla(${((C=n.color)==null?void 0:C.h)??0}, 100%, 50%, 1)`),_.fillStyle=S,_.fillRect(0,0,g.width,g.height);const y=_.createLinearGradient(0,0,0,g.height);y.addColorStop(0,"hsla(0, 0%, 0%, 0)"),y.addColorStop(1,"hsla(0, 0%, 0%, 1)"),_.fillStyle=y,_.fillRect(0,0,g.width,g.height)}return lt(()=>{var g;return(g=n.color)==null?void 0:g.h},v,{immediate:!0}),lt(()=>[i.value,a.value],(g,_)=>{v(),s.value={x:l.value.x*g[0]/_[0],y:l.value.y*g[1]/_[1]}},{flush:"post"}),lt(()=>n.color,()=>{if(r.value){r.value=!1;return}s.value=n.color?{x:n.color.s*i.value,y:(1-n.color.v)*a.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Kn(()=>v()),Kt(()=>H("div",{ref:c,class:pt(["v-color-picker-canvas",n.class]),style:Ue(n.style),onMousedown:f,onTouchstartPassive:f},[H("canvas",{ref:o,width:i.value,height:a.value},null),n.color&&H("div",{class:pt(["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":n.disabled}]),style:Ue(u.value)},null)])),{}}});function DVe(n,t){if(t){const{a:e,...r}=n;return r}return n}function UVe(n,t){if(t==null||typeof t=="string"){const e=n.a!==1;if(t!=null&&t.startsWith("rgb(")){const{r:o,g:i,b:a,a:s}=Pd(n);return`rgb(${o} ${i} ${a}`+(e?` / ${s})`:")")}else if(t!=null&&t.startsWith("hsl(")){const{h:o,s:i,l:a,a:s}=aF(n);return`hsl(${o} ${Math.round(i*100)} ${Math.round(a*100)}`+(e?` / ${s})`:")")}const r=YK(n);return n.a===1?r.slice(0,7):r}if(typeof t=="object"){let e;return $p(t,["r","g","b"])?e=Pd(n):$p(t,["h","s","l"])?e=aF(n):$p(t,["h","s","v"])&&(e=n),DVe(e,!$p(t,["a"])&&n.a===1)}return n}const Qg={h:0,s:0,v:0,a:1},qD={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:n=>Math.round(n.r),getColor:(n,t)=>({...n,r:Number(t)}),localeKey:"redInput"},{label:"G",max:255,step:1,getValue:n=>Math.round(n.g),getColor:(n,t)=>({...n,g:Number(t)}),localeKey:"greenInput"},{label:"B",max:255,step:1,getValue:n=>Math.round(n.b),getColor:(n,t)=>({...n,b:Number(t)}),localeKey:"blueInput"},{label:"A",max:1,step:.01,getValue:n=>{let{a:t}=n;return t!=null?Math.round(t*100)/100:1},getColor:(n,t)=>({...n,a:Number(t)}),localeKey:"alphaInput"}],to:Pd,from:U_};var T5;const LVe={...qD,inputs:(T5=qD.inputs)==null?void 0:T5.slice(0,3)},eU={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:n=>Math.round(n.h),getColor:(n,t)=>({...n,h:Number(t)}),localeKey:"hueInput"},{label:"S",max:1,step:.01,getValue:n=>Math.round(n.s*100)/100,getColor:(n,t)=>({...n,s:Number(t)}),localeKey:"saturationInput"},{label:"L",max:1,step:.01,getValue:n=>Math.round(n.l*100)/100,getColor:(n,t)=>({...n,l:Number(t)}),localeKey:"lightnessInput"},{label:"A",max:1,step:.01,getValue:n=>{let{a:t}=n;return t!=null?Math.round(t*100)/100:1},getColor:(n,t)=>({...n,a:Number(t)}),localeKey:"alphaInput"}],to:aF,from:IL},VVe={...eU,inputs:eU.inputs.slice(0,3)},vJ={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:n=>n,getColor:(n,t)=>t,localeKey:"hexaInput"}],to:YK,from:rle},NVe={...vJ,inputs:[{label:"HEX",getValue:n=>n.slice(0,7),getColor:(n,t)=>t,localeKey:"hexInput"}]},wm={rgb:LVe,rgba:qD,hsl:VVe,hsla:eU,hex:NVe,hexa:vJ},RVe=n=>{let{label:t,...e}=n;return H("div",{class:"v-color-picker-edit__input"},[H("input",Ih(Dh(e)),null),H("span",null,[t])])},HVe=it({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:n=>Object.keys(wm).includes(n)},modes:{type:Array,default:()=>Object.keys(wm),validator:n=>Array.isArray(n)&&n.every(t=>Object.keys(wm).includes(t))},...Cn()},"VColorPickerEdit"),QVe=Vc({name:"VColorPickerEdit",props:HVe(),emits:{"update:color":n=>!0,"update:mode":n=>!0},setup(n,t){let{emit:e}=t;const{t:r}=Ri(),o=ae(()=>n.modes.map(a=>({...wm[a],name:a}))),i=ae(()=>{var l;const a=o.value.find(u=>u.name===n.mode);if(!a)return[];const s=n.color?a.to(n.color):null;return(l=a.inputs)==null?void 0:l.map(u=>{let{getValue:c,getColor:d,localeKey:f,...h}=u;return{...a.inputProps,...h,ariaLabel:r(`$vuetify.colorPicker.ariaLabel.${f}`),disabled:n.disabled,value:s&&c(s),onChange:p=>{const v=p.target;v&&e("update:color",a.from(d(s??a.to(Qg),v.value)))}}})});return Kt(()=>{var a;return H("div",{class:pt(["v-color-picker-edit",n.class]),style:Ue(n.style)},[(a=i.value)==null?void 0:a.map(s=>x(RVe,s,null)),o.value.length>1&&x($e,{icon:"$unfold",size:"x-small",variant:"plain","aria-label":r("$vuetify.colorPicker.ariaLabel.changeFormat"),onClick:()=>{const s=o.value.findIndex(l=>l.name===n.mode);e("update:mode",o.value[(s+1)%o.value.length].name)}},null)])}),{}}}),E2=Symbol.for("vuetify:v-slider");function jVe(n,t,e){const r=e==="vertical",o=t.getBoundingClientRect(),i="touches"in n?n.touches[0]:n;return r?i.clientY-(o.top+o.height/2):i.clientX-(o.left+o.width/2)}function $Ve(n,t){return"touches"in n&&n.touches.length?n.touches[0][t]:"changedTouches"in n&&n.changedTouches.length?n.changedTouches[0][t]:n[t]}const KVe=it({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:n=>typeof n=="boolean"||n==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:n=>typeof n=="boolean"||n==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:n=>["vertical","horizontal"].includes(n)},reverse:Boolean,noKeyboard:Boolean,...Hi(),...tl({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),WVe=n=>{const t=ae(()=>parseFloat(n.min)),e=ae(()=>parseFloat(n.max)),r=ae(()=>Number(n.step)>0?parseFloat(n.step):0),o=ae(()=>Math.max(wH(r.value),wH(t.value)));function i(a){if(a=parseFloat(a),r.value<=0)return a;const s=To(a,t.value,e.value),l=t.value%r.value;let u=Math.round((s-l)/r.value)*r.value+l;return s>u&&u+r.value>e.value&&(u=e.value),parseFloat(Math.min(u,e.value).toFixed(o.value))}return{min:t,max:e,step:r,decimals:o,roundValue:i}},zVe=n=>{let{props:t,steps:e,onSliderStart:r,onSliderMove:o,onSliderEnd:i,getActiveThumb:a}=n;const s=Yk(t),{isRtl:l}=Ji(),u=ze(()=>t.reverse),c=ae(()=>t.direction==="vertical"),d=ae(()=>c.value!==u.value),{min:f,max:h,step:p,decimals:v,roundValue:g}=e,_=ae(()=>parseInt(t.thumbSize,10)),S=ae(()=>parseInt(t.tickSize,10)),y=ae(()=>parseInt(t.trackSize,10)),C=ae(()=>(h.value-f.value)/p.value),T=ae(()=>t.error||s.isDisabled.value?void 0:t.thumbColor??t.color),P=ae(()=>t.error||s.isDisabled.value?void 0:t.thumbColor),F=ae(()=>t.error||s.isDisabled.value?void 0:t.trackColor??t.color),I=ae(()=>t.error||s.isDisabled.value?void 0:t.trackFillColor??t.color),k=It(!1),M=It(0),V=Oe(),U=Oe();function $(se){var Ie;const Te=(Ie=V.value)==null?void 0:Ie.$el;if(!Te)return;const je=t.direction==="vertical",nt=je?"top":"left",tt=je?"height":"width",ot=je?"clientY":"clientX",{[nt]:ye,[tt]:be}=Te.getBoundingClientRect(),me=$Ve(se,ot);let Ve=To((me-ye-M.value)/be)||0;return(je?d.value:d.value!==l.value)&&(Ve=1-Ve),g(f.value+Ve*(h.value-f.value))}const Q=se=>{const Te=$(se);Te!=null&&i({value:Te}),k.value=!1,M.value=0},J=se=>{const Te=$(se);U.value=a(se),U.value&&(k.value=!0,U.value.contains(se.target)?M.value=jVe(se,U.value,t.direction):(M.value=0,Te!=null&&o({value:Te})),Te!=null&&r({value:Te}),tr(()=>{var je;return(je=U.value)==null?void 0:je.focus()}))},R={passive:!0,capture:!0};function ne(se){const Te=$(se);Te!=null&&o({value:Te})}function ue(se){se.stopPropagation(),se.preventDefault(),Q(se),window.removeEventListener("mousemove",ne,R),window.removeEventListener("mouseup",ue)}function we(se){var Te;Q(se),window.removeEventListener("touchmove",ne,R),(Te=se.target)==null||Te.removeEventListener("touchend",we)}function Be(se){var Te;J(se),window.addEventListener("touchmove",ne,R),(Te=se.target)==null||Te.addEventListener("touchend",we,{passive:!1})}function We(se){se.button===0&&(se.preventDefault(),J(se),window.addEventListener("mousemove",ne,R),window.addEventListener("mouseup",ue,{passive:!1}))}Go(()=>{window.removeEventListener("touchmove",ne),window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",ue)});const pe=se=>{const Te=(se-f.value)/(h.value-f.value)*100;return To(isNaN(Te)?0:Te,0,100)},_e=ze(()=>t.showTicks),Ce=ae(()=>_e.value?t.ticks?Array.isArray(t.ticks)?t.ticks.map(se=>({value:se,position:pe(se),label:se.toString()})):Object.keys(t.ticks).map(se=>({value:parseFloat(se),position:pe(parseFloat(se)),label:t.ticks[se]})):C.value!==1/0?Uf(C.value+1).map(se=>{const Te=f.value+se*p.value;return{value:Te,position:pe(Te)}}):[]:[]),ve=ae(()=>Ce.value.some(se=>{let{label:Te}=se;return!!Te})),Qe={activeThumbRef:U,color:ze(()=>t.color),decimals:v,disabled:s.isDisabled,direction:ze(()=>t.direction),elevation:ze(()=>t.elevation),hasLabels:ve,isReversed:u,indexFromEnd:d,min:f,max:h,mousePressed:k,noKeyboard:ze(()=>t.noKeyboard),numTicks:C,onSliderMousedown:We,onSliderTouchstart:Be,parsedTicks:Ce,parseMouseMove:$,position:pe,readonly:s.isReadonly,rounded:ze(()=>t.rounded),roundValue:g,showTicks:_e,startOffset:M,step:p,thumbSize:_,thumbColor:T,thumbLabelColor:P,thumbLabel:ze(()=>t.thumbLabel),ticks:ze(()=>t.ticks),tickSize:S,trackColor:F,trackContainerRef:V,trackFillColor:I,trackSize:y,vertical:c};return no(E2,Qe),Qe},GVe=it({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,noKeyboard:Boolean,...Cn()},"VSliderThumb"),YVe=Dt()({name:"VSliderThumb",directives:{vRipple:su},props:GVe(),emits:{"update:modelValue":n=>!0},setup(n,t){let{slots:e,emit:r}=t;const o=Hn(E2),{isRtl:i,rtlClasses:a}=Ji();if(!o)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{min:s,max:l,thumbColor:u,thumbLabelColor:c,step:d,disabled:f,thumbSize:h,thumbLabel:p,direction:v,isReversed:g,vertical:_,readonly:S,elevation:y,mousePressed:C,decimals:T,indexFromEnd:P}=o,F=ae(()=>f.value?void 0:y.value),{elevationClasses:I}=Ul(F),{textColorClasses:k,textColorStyles:M}=Il(u),{backgroundColorClasses:V,backgroundColorStyles:U}=Po(c),{pageup:$,pagedown:Q,end:J,home:R,left:ne,right:ue,down:we,up:Be}=tF,We=[$,Q,J,R,ne,ue,we,Be],pe=ae(()=>d.value?[1,2,3]:[1,5,10]);function _e(ve,Qe){if(n.noKeyboard||f.value||!We.includes(ve.key))return;ve.preventDefault();const se=d.value||.1,Te=(l.value-s.value)/se;if([ne,ue,we,Be].includes(ve.key)){const nt=(_.value?[i.value?ne:ue,g.value?we:Be]:P.value!==i.value?[ne,Be]:[ue,Be]).includes(ve.key)?1:-1,tt=ve.shiftKey?2:ve.ctrlKey?1:0;nt===-1&&Qe===l.value&&!tt&&!Number.isInteger(Te)?Qe=Qe-Te%1*se:Qe=Qe+nt*se*pe.value[tt]}else if(ve.key===R)Qe=s.value;else if(ve.key===J)Qe=l.value;else{const je=ve.key===Q?1:-1;Qe=Qe-je*se*(Te>100?Te/10:10)}return Math.max(n.min,Math.min(n.max,Qe))}function Ce(ve){const Qe=_e(ve,n.modelValue);Qe!=null&&r("update:modelValue",Qe)}return Kt(()=>{const ve=$t(P.value?100-n.position:n.position,"%");return H("div",{class:pt(["v-slider-thumb",{"v-slider-thumb--focused":n.focused,"v-slider-thumb--pressed":n.focused&&C.value},n.class,a.value]),style:Ue([{"--v-slider-thumb-position":ve,"--v-slider-thumb-size":$t(h.value)},n.style]),role:"slider",tabindex:f.value?-1:0,"aria-label":n.name,"aria-valuemin":s.value,"aria-valuemax":l.value,"aria-valuenow":n.modelValue,"aria-readonly":!!S.value,"aria-orientation":v.value,onKeydown:S.value?void 0:Ce},[H("div",{class:pt(["v-slider-thumb__surface",k.value,I.value]),style:Ue(M.value)},null),Qn(H("div",{class:pt(["v-slider-thumb__ripple",k.value]),style:Ue(M.value)},null),[[su,n.ripple,null,{circle:!0,center:!0}]]),x(nz,{origin:"bottom center"},{default:()=>{var Qe;return[Qn(H("div",{class:"v-slider-thumb__label-container"},[H("div",{class:pt(["v-slider-thumb__label",V.value]),style:Ue(U.value)},[H("div",null,[((Qe=e["thumb-label"])==null?void 0:Qe.call(e,{modelValue:n.modelValue}))??n.modelValue.toFixed(d.value?T.value:1)]),H("div",{class:"v-slider-thumb__label-wedge"},null)])]),[[Ju,p.value&&n.focused||p.value==="always"]])]}})])}),{}}}),XVe=it({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Cn()},"VSliderTrack"),JVe=Dt()({name:"VSliderTrack",props:XVe(),emits:{},setup(n,t){let{slots:e}=t;const r=Hn(E2);if(!r)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:o,parsedTicks:i,rounded:a,showTicks:s,tickSize:l,trackColor:u,trackFillColor:c,trackSize:d,vertical:f,min:h,max:p,indexFromEnd:v}=r,{roundedClasses:g}=Zi(a),{backgroundColorClasses:_,backgroundColorStyles:S}=Po(c),{backgroundColorClasses:y,backgroundColorStyles:C}=Po(u),T=ae(()=>`inset-${f.value?"block":"inline"}-${v.value?"end":"start"}`),P=ae(()=>f.value?"height":"width"),F=ae(()=>({[T.value]:"0%",[P.value]:"100%"})),I=ae(()=>n.stop-n.start),k=ae(()=>({[T.value]:$t(n.start,"%"),[P.value]:$t(I.value,"%")})),M=ae(()=>s.value?(f.value?i.value.slice().reverse():i.value).map((U,$)=>{var J;const Q=U.value!==h.value&&U.value!==p.value?$t(U.position,"%"):void 0;return H("div",{key:U.value,class:pt(["v-slider-track__tick",{"v-slider-track__tick--filled":U.position>=n.start&&U.position<=n.stop,"v-slider-track__tick--first":U.value===h.value,"v-slider-track__tick--last":U.value===p.value}]),style:{[T.value]:Q}},[(U.label||e["tick-label"])&&H("div",{class:"v-slider-track__tick-label"},[((J=e["tick-label"])==null?void 0:J.call(e,{tick:U,index:$}))??U.label])])}):[]);return Kt(()=>H("div",{class:pt(["v-slider-track",g.value,n.class]),style:Ue([{"--v-slider-track-size":$t(d.value),"--v-slider-tick-size":$t(l.value)},n.style])},[H("div",{class:pt(["v-slider-track__background",y.value,{"v-slider-track__background--opacity":!!o.value||!c.value}]),style:{...F.value,...C.value}},null),H("div",{class:pt(["v-slider-track__fill",_.value]),style:{...k.value,...S.value}},null),s.value&&H("div",{class:pt(["v-slider-track__ticks",{"v-slider-track__ticks--always-show":s.value==="always"}])},[M.value])])),{}}}),ZVe=it({...nV(),...KVe(),...Yh(),modelValue:{type:[Number,String],default:0}},"VSlider"),Hj=Dt()({name:"VSlider",inheritAttrs:!1,props:ZVe(),emits:{"update:focused":n=>!0,"update:modelValue":n=>!0,start:n=>!0,end:n=>!0},setup(n,t){let{slots:e,emit:r,attrs:o}=t;const i=Oe(),a=Oe(),{rtlClasses:s}=Ji(),l=WVe(n),u=Mn(n,"modelValue",void 0,M=>l.roundValue(M??l.min.value)),{min:c,max:d,mousePressed:f,roundValue:h,onSliderMousedown:p,onSliderTouchstart:v,trackContainerRef:g,position:_,hasLabels:S,disabled:y,readonly:C,noKeyboard:T}=zVe({props:n,steps:l,onSliderStart:()=>{!y.value&&!C.value&&r("start",u.value)},onSliderEnd:M=>{let{value:V}=M;const U=h(V);!y.value&&!C.value&&(u.value=U),r("end",U)},onSliderMove:M=>{let{value:V}=M;!y.value&&!C.value&&(u.value=h(V))},getActiveThumb:()=>{var M;return(M=i.value)==null?void 0:M.$el}}),{isFocused:P,focus:F,blur:I}=av(n),k=ae(()=>_(u.value));return Kt(()=>{const M=Ml.filterProps(n),[V,U]=Gh(o),$=!!(n.label||e.label||e.prepend);return x(Ml,bt({ref:a,class:["v-slider",{"v-slider--has-labels":!!e["tick-label"]||S.value,"v-slider--focused":P.value,"v-slider--pressed":f.value,"v-slider--disabled":y.value},s.value,n.class],style:n.style},M,V,{focused:P.value}),{...e,prepend:$?Q=>{var J,R;return H(ut,null,[((J=e.label)==null?void 0:J.call(e,Q))??(n.label?x(fA,{id:Q.id.value,class:"v-slider__label",text:n.label},null):void 0),(R=e.prepend)==null?void 0:R.call(e,Q)])}:void 0,default:Q=>{let{id:J,messagesId:R}=Q;return H("div",{class:"v-slider__container",onMousedown:C.value?void 0:p,onTouchstartPassive:C.value?void 0:v},[H("input",{id:J.value,name:n.name||J.value,disabled:y.value,readonly:C.value,tabindex:"-1",value:u.value},null),x(JVe,{ref:g,start:0,stop:k.value},{"tick-label":e["tick-label"]}),x(YVe,bt({ref:i,"aria-describedby":R.value,focused:P.value,noKeyboard:T.value,min:c.value,max:d.value,modelValue:u.value,"onUpdate:modelValue":ne=>u.value=ne,position:k.value,elevation:n.elevation,onFocus:F,onBlur:I,ripple:n.ripple,name:n.name},U),{"thumb-label":e["thumb-label"]})])}})}),nl({focus:()=>{var M;return(M=i.value)==null?void 0:M.$el.focus()}},a)}}),gJ=it({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,hideEyeDropper:Boolean,eyeDropperIcon:{type:Tn,default:"$eyeDropper"},...Cn()},"VColorPickerPreview"),qVe=Vc({name:"VColorPickerPreview",props:gJ(),emits:{"update:color":n=>!0},setup(n,t){let{emit:e}=t;const{t:r}=Ri(),o=new AbortController;lu(()=>o.abort());async function i(){if(!vH||n.disabled)return;const a=new window.EyeDropper;try{const s=await a.open({signal:o.signal}),l=U_(ru(s.sRGBHex));e("update:color",{...n.color??Qg,...l})}catch{}}return Kt(()=>{var a,s;return H("div",{class:pt(["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":n.hideAlpha},n.class]),style:Ue(n.style)},[vH&&!n.hideEyeDropper&&H("div",{class:"v-color-picker-preview__eye-dropper",key:"eyeDropper"},[x($e,{"aria-label":r("$vuetify.colorPicker.ariaLabel.eyedropper"),density:"comfortable",disabled:n.disabled,icon:n.eyeDropperIcon,variant:"plain",onClick:i},null)]),H("div",{class:"v-color-picker-preview__dot"},[H("div",{style:{background:WK(n.color??Qg)}},null)]),H("div",{class:"v-color-picker-preview__sliders"},[x(Hj,{class:"v-color-picker-preview__track v-color-picker-preview__hue","aria-label":r("$vuetify.colorPicker.ariaLabel.hueSlider"),modelValue:(a=n.color)==null?void 0:a.h,"onUpdate:modelValue":l=>e("update:color",{...n.color??Qg,h:l}),step:1,min:0,max:360,disabled:n.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!n.hideAlpha&&x(Hj,{class:"v-color-picker-preview__track v-color-picker-preview__alpha","aria-label":r("$vuetify.colorPicker.ariaLabel.alphaSlider"),modelValue:((s=n.color)==null?void 0:s.a)??1,"onUpdate:modelValue":l=>e("update:color",{...n.color??Qg,a:l}),step:.01,min:0,max:1,disabled:n.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}}),e2e={base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"},t2e={base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"},n2e={base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"},r2e={base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"},o2e={base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"},i2e={base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"},a2e={base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"},s2e={base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"},l2e={base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"},u2e={base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"},c2e={base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"},d2e={base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"},f2e={base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"},A2e={base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"},h2e={base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"},p2e={base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"},m2e={base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"},v2e={base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"},g2e={base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"},y2e={black:"#000000",white:"#ffffff",transparent:"#ffffff00"},b2e={red:e2e,pink:t2e,purple:n2e,deepPurple:r2e,indigo:o2e,blue:i2e,lightBlue:a2e,cyan:s2e,teal:l2e,green:u2e,lightGreen:c2e,lime:d2e,yellow:f2e,amber:A2e,orange:h2e,deepOrange:p2e,brown:m2e,blueGrey:v2e,grey:g2e,shades:y2e},w2e=it({swatches:{type:Array,default:()=>_2e(b2e)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Cn()},"VColorPickerSwatches");function _2e(n){return Object.keys(n).map(t=>{const e=n[t];return e.base?[e.base,e.darken4,e.darken3,e.darken2,e.darken1,e.lighten1,e.lighten2,e.lighten3,e.lighten4,e.lighten5]:[e.black,e.white,e.transparent]})}const C2e=Vc({name:"VColorPickerSwatches",props:w2e(),emits:{"update:color":n=>!0},setup(n,t){let{emit:e}=t;function r(o){n.disabled||!o||e("update:color",o)}return Kt(()=>H("div",{class:pt(["v-color-picker-swatches",n.class]),style:Ue([{maxHeight:$t(n.maxHeight)},n.style])},[H("div",null,[n.swatches.map(o=>H("div",{class:"v-color-picker-swatches__swatch"},[o.map(i=>{const a=ru(i),s=U_(a),l=KK(a);return H("div",{class:pt(["v-color-picker-swatches__color",{"v-color-picker-swatches__color--disabled":n.disabled}]),onClick:()=>r(s)},[H("div",{style:{background:l}},[n.color&&Ua(n.color,s)?x(en,{size:"x-small",icon:"$success",color:sle(i,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}}),S2e=L_("v-picker-title"),B2=it({bgColor:String,divided:Boolean,landscape:Boolean,title:String,hideHeader:Boolean,hideTitle:Boolean,...yG()},"VPicker"),DB=Dt()({name:"VPicker",props:B2(),setup(n,t){let{slots:e}=t;const{backgroundColorClasses:r,backgroundColorStyles:o}=Po(()=>n.color);return Kt(()=>{const i=eE.filterProps(n),a=!n.hideTitle&&!!(n.title||e.title);return x(eE,bt(i,{color:n.bgColor,class:["v-picker",{"v-picker--divided":n.divided,"v-picker--landscape":n.landscape,"v-picker--with-actions":!!e.actions},n.class],style:n.style}),{default:()=>{var s;return[!n.hideHeader&&H("div",{key:"header",class:pt(["v-picker__header-wrapper",r.value]),style:Ue([o.value])},[a&&x(S2e,{key:"picker-title"},{default:()=>{var l;return[((l=e.title)==null?void 0:l.call(e))??n.title]}}),e.header&&H("div",{class:"v-picker__header"},[e.header()])]),H("div",{class:"v-picker__body"},[(s=e.default)==null?void 0:s.call(e)]),e.actions&&x(Lr,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[H("div",{class:"v-picker__actions"},[e.actions()])]})]}})}),{}}}),x2e=it({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:n=>Object.keys(wm).includes(n)},modes:{type:Array,default:()=>Object.keys(wm),validator:n=>Array.isArray(n)&&n.every(t=>Object.keys(wm).includes(t))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...B2({hideHeader:!0}),...Od(gJ(),["hideEyeDropper","eyeDropperIcon"])},"VColorPicker"),E2e=Vc({name:"VColorPicker",props:x2e(),emits:{"update:modelValue":n=>!0,"update:mode":n=>!0},setup(n,t){let{slots:e}=t;const r=Mn(n,"mode"),o=Oe(null),i=Mn(n,"modelValue",void 0,c=>{if(c==null||c==="")return null;let d;try{d=U_(ru(c))}catch{return null}return d},c=>c?UVe(c,n.modelValue):null),a=ae(()=>i.value?{...i.value,h:o.value??i.value.h}:null),{rtlClasses:s}=Ji();let l=!0;lt(i,c=>{if(!l){l=!0;return}c&&(o.value=c.h)},{immediate:!0});const u=c=>{l=!1,o.value=c.h,i.value=c};return zh(()=>{n.modes.includes(r.value)||(r.value=n.modes[0])}),Pl({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),Kt(()=>{const c=DB.filterProps(n);return x(DB,bt(c,{class:["v-color-picker",s.value,n.class],style:[{"--v-color-picker-color-hsv":WK({...a.value??Qg,a:1})},n.style]}),{...e,default:()=>H(ut,null,[!n.hideCanvas&&x(FVe,{key:"canvas",color:a.value,"onUpdate:color":u,disabled:n.disabled,dotSize:n.dotSize,width:n.width,height:n.canvasHeight},null),(!n.hideSliders||!n.hideInputs)&&H("div",{key:"controls",class:"v-color-picker__controls"},[!n.hideSliders&&x(qVe,{key:"preview",color:a.value,"onUpdate:color":u,hideAlpha:!r.value.endsWith("a"),disabled:n.disabled,hideEyeDropper:n.hideEyeDropper,eyeDropperIcon:n.eyeDropperIcon},null),!n.hideInputs&&x(QVe,{key:"edit",modes:n.modes,mode:r.value,"onUpdate:mode":d=>r.value=d,color:a.value,"onUpdate:color":u,disabled:n.disabled},null)]),n.showSwatches&&x(C2e,{key:"swatches",color:a.value,"onUpdate:color":u,maxHeight:n.swatchesMaxHeight,swatches:n.swatches,disabled:n.disabled},null)])})}),{}}});function B2e(){function n(e){var o,i;return[...((o=e.dataTransfer)==null?void 0:o.items)??[]].filter(a=>a.kind==="file").map(a=>a.webkitGetAsEntry()).filter(Boolean).length>0||[...((i=e.dataTransfer)==null?void 0:i.files)??[]].length>0}async function t(e){var i,a;const r=[],o=[...((i=e.dataTransfer)==null?void 0:i.items)??[]].filter(s=>s.kind==="file").map(s=>s.webkitGetAsEntry()).filter(Boolean);if(o.length)for(const s of o){const l=await yJ(s,bJ(".",s));r.push(...l.map(u=>u.file))}else r.push(...((a=e.dataTransfer)==null?void 0:a.files)??[]);return r}return{handleDrop:t,hasFilesOrFolders:n}}function yJ(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new Promise((e,r)=>{n.isFile?n.file(i=>e([{file:i,path:t}]),r):n.isDirectory&&n.createReader().readEntries(async i=>{const a=[];for(const s of i)a.push(...await yJ(s,bJ(t,s)));e(a)})})}function bJ(n,t){return t.isDirectory?`${n}/${t.name}`:n}const k2e=it({filterByType:String},"file-accept");function T2e(n){const t=ae(()=>n.filterByType?O2e(n.filterByType):null);function e(r){if(t.value){const o=r.filter(t.value);return{accepted:o,rejected:r.filter(i=>!o.includes(i))}}return{accepted:r,rejected:[]}}return{filterAccepted:e}}function O2e(n){const t=n.split(",").map(i=>i.trim().toLowerCase()),e=t.filter(i=>i.startsWith(".")),r=t.filter(i=>i.endsWith("/*")),o=t.filter(i=>!e.includes(i)&&!r.includes(i));return i=>{var l,u;const a=((l=i.name.split(".").at(-1))==null?void 0:l.toLowerCase())??"",s=((u=i.type.split("/").at(0))==null?void 0:u.toLowerCase())??"";return o.includes(i.type)||e.includes(`.${a}`)||r.includes(`${s}/*`)}}const P2e=it({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:n=>typeof n=="boolean"||[1e3,1024].includes(Number(n))},truncateLength:{type:[Number,String],default:22},...Ir(Yh({prependIcon:"$file"}),["direction"]),modelValue:{type:[Array,Object],default:n=>n.multiple?[]:null,validator:n=>ao(n).every(t=>t!=null&&typeof t=="object")},...k2e(),...Gk({clearable:!0})},"VFileInput"),FT=Dt()({name:"VFileInput",inheritAttrs:!1,props:P2e(),emits:{"click:control":n=>!0,"mousedown:control":n=>!0,"update:focused":n=>!0,"update:modelValue":n=>!0,rejected:n=>!0},setup(n,t){let{attrs:e,emit:r,slots:o}=t;const{t:i}=Ri(),{filterAccepted:a}=T2e(n),s=Mn(n,"modelValue",n.modelValue,we=>ao(we),we=>!n.multiple&&Array.isArray(we)?we[0]:we),{isFocused:l,focus:u,blur:c}=av(n),d=ae(()=>typeof n.showSize!="boolean"?n.showSize:void 0),f=ae(()=>(s.value??[]).reduce((we,Be)=>{let{size:We=0}=Be;return we+We},0)),h=ae(()=>SH(f.value,d.value)),p=ae(()=>(s.value??[]).map(we=>{const{name:Be="",size:We=0}=we,pe=$(Be);return n.showSize?`${pe} (${SH(We,d.value)})`:pe})),v=ae(()=>{var Be;const we=((Be=s.value)==null?void 0:Be.length)??0;return n.showSize?i(n.counterSizeString,we,h.value):i(n.counterString,we)}),g=Oe(),_=Oe(),S=Oe(),y=ze(()=>l.value||n.active),C=ae(()=>["plain","underlined"].includes(n.variant)),T=It(!1),{handleDrop:P,hasFilesOrFolders:F}=B2e();function I(){var we;S.value!==document.activeElement&&((we=S.value)==null||we.focus()),l.value||u()}function k(we){var Be;(Be=S.value)==null||Be.click()}function M(we){r("mousedown:control",we)}function V(we){var Be;(Be=S.value)==null||Be.click(),r("click:control",we)}function U(we){we.stopPropagation(),I(),tr(()=>{s.value=[],D_(n["onClick:clear"],we)})}function $(we){if(we.length<Number(n.truncateLength))return we;const Be=Math.floor((Number(n.truncateLength)-1)/2);return`${we.slice(0,Be)}${we.slice(we.length-Be)}`}function Q(we){we.preventDefault(),we.stopImmediatePropagation(),T.value=!0}function J(we){we.preventDefault(),T.value=!1}async function R(we){if(we.preventDefault(),we.stopImmediatePropagation(),T.value=!1,!S.value||!F(we))return;const Be=await P(we);ue(Be)}function ne(we){if(!(!we.target||we.repack))if(n.filterByType)ue([...we.target.files]);else{const Be=we.target;s.value=[...Be.files??[]]}}function ue(we){const Be=new DataTransfer,{accepted:We,rejected:pe}=a(we);pe.length&&r("rejected",pe);for(const Ce of We)Be.items.add(Ce);S.value.files=Be.files,s.value=[...Be.files];const _e=new Event("change",{bubbles:!0});_e.repack=!0,S.value.dispatchEvent(_e)}return lt(s,we=>{(!Array.isArray(we)||!we.length)&&S.value&&(S.value.value="")}),Kt(()=>{const we=!!(o.counter||n.counter),Be=!!(we||o.details),[We,pe]=Gh(e),{modelValue:_e,...Ce}=Ml.filterProps(n),ve={...hy.filterProps(n),"onClick:clear":U},Qe=e.webkitdirectory!==void 0&&e.webkitdirectory!==!1,se=e.accept?String(e.accept):void 0,Te=Qe?void 0:n.filterByType??se;return x(Ml,bt({ref:g,modelValue:n.multiple?s.value:s.value[0],class:["v-file-input",{"v-file-input--chips":!!n.chips,"v-file-input--dragging":T.value,"v-file-input--hide":n.hideInput,"v-input--plain-underlined":C.value},n.class],style:n.style,"onClick:prepend":k},We,Ce,{centerAffix:!C.value,focused:l.value}),{...o,default:je=>{let{id:nt,isDisabled:tt,isDirty:ot,isReadonly:ye,isValid:be,hasDetails:me}=je;return x(hy,bt({ref:_,prependIcon:n.prependIcon,onMousedown:M,onClick:V,"onClick:prependInner":n["onClick:prependInner"],"onClick:appendInner":n["onClick:appendInner"]},ve,{id:nt.value,active:y.value||ot.value,dirty:ot.value||n.dirty,disabled:tt.value,focused:l.value,details:me.value,error:be.value===!1,onDragover:Q,onDrop:R}),{...o,default:Ve=>{var ee;let{props:{class:Ie,...K},controlRef:te}=Ve;return H(ut,null,[H("input",bt({ref:Ae=>S.value=te.value=Ae,type:"file",accept:Te,readonly:ye.value,disabled:tt.value,multiple:n.multiple,name:n.name,onClick:Ae=>{Ae.stopPropagation(),ye.value&&Ae.preventDefault(),I()},onChange:ne,onDragleave:J,onFocus:I,onBlur:c},K,pe),null),H("div",{class:pt(Ie)},[!!((ee=s.value)!=null&&ee.length)&&!n.hideInput&&(o.selection?o.selection({fileNames:p.value,totalBytes:f.value,totalBytesReadable:h.value}):n.chips?p.value.map(Ae=>x(Fl,{key:Ae,size:"small",text:Ae},null)):p.value.join(", "))])])}})},details:Be?je=>{var nt,tt;return H(ut,null,[(nt=o.details)==null?void 0:nt.call(o,je),we&&H(ut,null,[H("span",null,null),x(tV,{active:!!((tt=s.value)!=null&&tt.length),value:v.value,disabled:n.disabled},o.counter)])])}:void 0})}),nl({},g,_,S)}}),I2e={class:"d-flex align-center mb-10 border pa-5 border-opacity-25 rounded"},M2e={class:"logo-container border mr-5"},wJ=rn({__name:"BusinessSettings",props:["is_modal"],setup(n){const t=Vt(),e=Oe(!1),r=ae(()=>{const s="https://placehold.co/100x100/EEE/31343C?font=oswald&text=logo";return!i.value||i.value.logo==null||!i.value.logo.length?s:i.value.logo}),o=s=>{if(!s)return;const l=new FileReader;l.readAsDataURL(s),l.onload=()=>{i.value.logo=l.result},l.onerror=u=>{console.log("Error: ",u)}},{partner_form:i,partner_loading:a}=Lt(t);return(s,l)=>{const u=pi;return le(),Re(Ao,{"model-value":"0",class:"mt-5"},{default:N(()=>[x(u,{class:"border",icon:"mdi-domain",title:"Company Details"},cA({default:N(()=>[x(Fn,null,{default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{required:"",class:"mt-2",variant:"outlined",label:"Company Name",modelValue:O(i).name,"onUpdate:modelValue":l[0]||(l[0]=c=>O(i).name=c)},null,8,["modelValue"]),H("div",I2e,[H("div",M2e,[O(i)?(le(),Re(Gu,{key:0,width:"120",height:"120",class:"rounded",src:O(r)},null,8,["src"])):xt("",!0),O(i).logo?(le(),Re(en,{key:1,icon:"mdi-close-circle",onClick:l[1]||(l[1]=c=>O(i).logo=""),class:"icon-remove"})):xt("",!0)]),H("div",null,[l[9]||(l[9]=H("p",null,"Company Logo",-1)),l[10]||(l[10]=H("p",null,"The proposed size is 512 512 no bigger than 2MB",-1)),x(FT,{"hide-details":"",class:"mt-5",density:"compact",variant:"outlined",label:"Click to upload","onUpdate:modelValue":o})])])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{required:"",class:"mt-2",variant:"outlined",label:"Website URL (optional)",modelValue:O(i).website,"onUpdate:modelValue":l[2]||(l[2]=c=>O(i).website=c)},null,8,["modelValue"]),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{required:"",class:"mt-2",variant:"outlined",label:"Phone Number (optional)",modelValue:O(i).phone_number,"onUpdate:modelValue":l[3]||(l[3]=c=>O(i).phone_number=c)},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(jy,{"offset-y":"",modelValue:O(e),"onUpdate:modelValue":l[6]||(l[6]=c=>Ht(e)?e.value=c:null),class:"position-relative","close-on-content-click":!1,transition:"scale-transition"},{activator:N(({props:c})=>[x(_t,bt(c,{required:"",class:"mt-2",variant:"outlined",label:"Brand Color",modelValue:O(i).brand_color,"onUpdate:modelValue":l[4]||(l[4]=d=>O(i).brand_color=d)}),{"prepend-inner":N(()=>[x(cr,{width:"30",height:"30",style:Ue({backgroundColor:O(i).brand_color})},null,8,["style"])]),_:1},16,["modelValue"])]),default:N(()=>[x(E2e,{modelValue:O(i).brand_color,"onUpdate:modelValue":l[5]||(l[5]=c=>O(i).brand_color=c),"hide-inputs":"",mode:"hexa"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),x(_t,{"hide-details":"",variant:"outlined",class:"mt-5",modelValue:O(i).products_price_url,"onUpdate:modelValue":l[7]||(l[7]=c=>O(i).products_price_url=c),label:"Products Pricing Sheet Link",required:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:2},[n.is_modal?void 0:{name:"footer",fn:N(()=>[x($e,{width:"150",type:"submit",text:"Save",color:"primary",class:"ma-auto d-block",onClick:l[8]||(l[8]=c=>s.$emit("submit")),style:Ue(O(hn)),loading:O(a)},null,8,["style","loading"])]),key:"0"}]),1024)]),_:1})}}}),F2e={class:"d-flex align-center mb-4"},D2e=rn({__name:"partners",setup(n){const t=Vt(),e=Oe(""),r=Oe(!1),o=[{title:"ID",value:"id"},{title:"Name",value:"name"},{title:"Action",value:"action"}],{getAccessTokenSilently:i}=Er(),a=ae(()=>{if(!e.value)return l.value;const p=e.value.toLowerCase();return l.value.filter(v=>v.name.toLowerCase().includes(p))}),{partner_form:s,partners:l,partner_modal:u}=Lt(t),c=p=>{s.value={...p},u.value=!0},d=async()=>{r.value=!0;const p=await i();t.FetchPartners(p).finally(()=>{r.value=!1})},f=()=>{u.value=!0,s.value={id:null,name:"",website:"",logo:"",phone_number:"",brand_color:"#004cc1",smtp_host:"",smtp_port:"",smtp_username:"",smtp_password:"",products_price_url:"",supported_brands:[],big_deals_feature:0,is_active:1}},h=async()=>{r.value=!0;const p=await i();t.SubmitPartnerForm(p,Ys.value).then(()=>{u.value=!1,d()}).finally(()=>{r.value=!1})};return Kn(async()=>{d()}),(p,v)=>{const g=cv,_=wJ,S=mJ,y=pJ,C=IVe,T=qi,P=du;return le(),Re(P,null,{title:N(()=>[...v[3]||(v[3]=[Je("Partners",-1)])]),content:N(()=>[H("div",F2e,[x(g,{modelValue:O(e),"onUpdate:modelValue":v[0]||(v[0]=F=>Ht(e)?e.value=F:null)},null,8,["modelValue"]),x(En),x($e,{class:"mr-2",text:"Refresh",color:"primary",onClick:d,loading:O(r),style:Ue(O(hn)),"prepend-icon":"mdi-refresh"},null,8,["loading","style"]),x($e,{color:"primary",text:"Add a Partner",style:Ue(O(hn)),"prepend-icon":"mdi-plus-circle",onClick:f},null,8,["style"])]),x(hi,{headers:o,loading:O(r),class:"elevation-1 border",style:Ue(O(zr)),items:O(a)},{item:N(({item:F})=>[H("tr",null,[H("td",null,at(F.id),1),H("td",null,at(F.name),1),H("td",null,[x($e,{text:"Edit",size:"small",color:"primary",variant:"outlined",onClick:I=>c(F),"prepend-icon":"mdi-pencil",style:Ue(O(On))},null,8,["onClick","style"])])])]),_:1},8,["loading","style","items"]),x(T,{max_width:"800",color:"transparent",modelValue:O(u),"onUpdate:modelValue":v[1]||(v[1]=F=>Ht(u)?u.value=F:null),onClose:v[2]||(v[2]=F=>u.value=!1),title:`${O(s).id?"Edit":"Add"} a Partner`},{footer:N(()=>[x($e,{width:"150",type:"submit",text:"Submit",color:"primary",loading:O(r),class:"ma-auto d-block",style:Ue(O(hn)),onClick:h},null,8,["loading","style"])]),default:N(()=>[x(_,{is_modal:!0}),x(S,{is_modal:!0}),x(y,{is_modal:!0}),x(C,{is_modal:!0})]),_:1},8,["modelValue","title"])]),_:1})}}}),U2e=Object.freeze(Object.defineProperty({__proto__:null,default:D2e},Symbol.toStringTag,{value:"Module"})),L2e=["title"],V2e={class:"clip-text-1-lines"},N2e={key:0},R2e={key:1},H2e={class:"align-center"},Q2e={class:"d-flex align-center ml-2 mt-2"},j2e=["src"],$2e={key:1,class:"text-center"},K2e=rn({__name:"pricing",setup(n){const t=Oe("tab-1"),e=Oe(!1),r=Oe(!1),o=Vt(),i=Oe(null),a=Oe(!1),s=Oe(null),l=Oe(null),u=[{title:"ID",value:"id"},{title:"File Name",value:"name"},{title:"Synced?",value:"is_synced"},{title:"Upload Date",value:"created_at"},{title:"Manage",value:"manage"}],{getAccessTokenSilently:c}=Er(),d=Oe(`

  You are a data parser expert. Your task is to extract and return ONLY the numeric value
  closest to an average printer price from the input text.

  Strict Matching Rules:
  1. You will be given a Product Name and/or Model which you will then find in the given Product Data.
  2. Extract only numeric values from the input (e.g., 1199, 899.99).
  3. Your output must be a number only  no currency symbols, text, formatting, or comments.
  4. Return only the highest numeric value that closely resembles a real-world product price in USD.
  5. The output must be raw, valid for direct use with floatval() in PHP.
  6. Always choose the most realistic product price, which is usually the highest valid value.
  7. Ignore unrealistic numbers (e.g., 1753884731)  prices are typically within a reasonable consumer product range.
  8. Only return values that appear to be actual product prices, not just any number.
  10. Price usually have at most two decimal places but sometimes they dont.
  11. If you're asked to find an accessory, they usually cost lower than a product/printer.

  OUTPUT FORMAT:
  - Only the numeric value. Example: 1499.99
  - No quotes, no dollar signs, no explanation.
  - If you don't find anything that resembles a price, return 0.
`),f=async g=>{if(!g)return!1;g.name.toLowerCase().endsWith(".xlsx")||g.type==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?i.value=g:o.ShowError("Invalid file type. Only Excel (.xlsx) files are supported.")},h=async()=>{const g=await c(),_=i.value;if(a.value=!0,!_)return;const S=new FormData;S.append("file",_),S.append("user_id",Ys.value),S.append("partner_id",vr.value),sn(g).post("/files/upload",S,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{o.ShowSuccess("Upload successful."),o.FetchFiles(g)}).finally(()=>{e.value=!1,a.value=!1,i.value=null})},p=async g=>{if(await o.OpenDialog("Confirm action",`Are you sure you want to delete "${g.name}"?`)){const S=await c();sn(S).post("/files/destroy/"+g.id).then(()=>{o.ShowSuccess("File deleted."),o.FetchFiles(S)})}},v=async g=>{const _=new FormData,S=await c();s.value=g.id,_.append("file_id",g.id),_.append("partner_id",vr.value),_.append("spreadsheet_id",ide.value),_.append("system_prompt",d.value),sn(S).post("/pricing/perform-sync",_).then(y=>{console.log(y.data),o.FetchFiles(S),o.ShowSuccess("Price has been synced!")}).finally(()=>{s.value=null})};return Kn(async()=>{const g=await c();o.FetchFiles(g)}),(g,_)=>{const S=qi,y=du;return le(),Re(y,null,{title:N(()=>[..._[9]||(_[9]=[Je("Inventory",-1)])]),content:N(()=>[x(Xy,{modelValue:O(t),"onUpdate:modelValue":_[0]||(_[0]=C=>Ht(t)?t.value=C:null),class:"mb-4"},{default:N(()=>[x(xi,{value:"tab-1","prepend-icon":"mdi-file-document-multiple-outline"},{default:N(()=>[..._[10]||(_[10]=[Je("Your files",-1)])]),_:1}),x(xi,{value:"tab-2","prepend-icon":"mdi-microsoft-excel"},{default:N(()=>[..._[11]||(_[11]=[Je("Your Pricing Sheet",-1)])]),_:1})]),_:1},8,["modelValue"]),x(r_,{modelValue:O(t),"onUpdate:modelValue":_[3]||(_[3]=C=>Ht(t)?t.value=C:null)},{default:N(()=>[x(js,{value:"tab-1"},{default:N(()=>[x(hi,{class:"border",density:"comfortable",items:O(rde),headers:u,style:Ue(O(zr)),loading:O(a)},{item:N(({item:C})=>[H("tr",null,[H("td",null,at(C.id),1),H("td",{title:C.name,style:{width:"250px"}},[H("span",V2e,at(C.name),1)],8,L2e),H("td",null,[C.is_synced==1?(le(),et("span",N2e,[x($e,{size:"small",color:"green",variant:"text",density:"compact","prepend-icon":"mdi-check-circle"},{default:N(()=>[Je(" Synced at "+at(C.synced_at),1)]),_:2},1024)])):(le(),et("span",R2e,[x($e,{size:"small",variant:"text",color:"default",density:"compact",text:"Not Synced Yet","prepend-icon":"mdi-close",loading:O(s)==C.id},null,8,["loading"])]))]),H("td",null,at(C.created_at),1),H("td",H2e,[x($e,{size:"small",text:"Sync",variant:"outlined",onClick:T=>v(C),loading:O(s)==C.id,"prepend-icon":"mdi-sync-circle",style:Ue(O(On)),color:"primary"},null,8,["onClick","loading","style"]),Qn(x($e,{size:"small",class:"ml-2",variant:"outlined",text:"Delete",color:"red","prepend-icon":"mdi-trash-can-outline",style:Ue(O(On)),onClick:T=>p(C)},null,8,["style","onClick"]),[[Oo,"Delete"]]),Qn(x($e,{href:`/storage/uploads/partner-id-${O(vr)}/${C.name}`,class:"ml-2",size:"small",variant:"outlined",text:"Download",style:Ue(O(On)),"prepend-icon":"mdi-download"},null,8,["href","style"]),[[Oo,"Download"]])])])]),"footer.prepend":N(()=>[H("div",Q2e,[x($e,{style:Ue(O(On)),size:"small",onClick:_[1]||(_[1]=C=>e.value=!0),variant:"tonal","prepend-icon":"mdi-tray-arrow-up"},{default:N(()=>[..._[12]||(_[12]=[Je("Upload Files",-1)])]),_:1},8,["style"]),O(Xx)?(le(),et(ut,{key:0},[_[14]||(_[14]=H("div",{class:"ma-1"},null,-1)),x($e,{style:Ue(O(On)),size:"small",onClick:_[2]||(_[2]=C=>r.value=!0),variant:"tonal","prepend-icon":"mdi-robot-excited-outline"},{default:N(()=>[..._[13]||(_[13]=[Je("Edit AI Prompt",-1)])]),_:1},8,["style"])],64)):xt("",!0)]),x(En)]),_:1},8,["items","style","loading"])]),_:1}),x(js,{value:"tab-2"},{default:N(()=>[O(vF)?(le(),et("iframe",{key:0,src:O(vF)},null,8,j2e)):(le(),et("div",$2e,[..._[15]||(_[15]=[H("p",{class:"text-h5"},"No pricing information available.",-1)])]))]),_:1})]),_:1},8,["modelValue"]),x(S,{modelValue:O(e),"onUpdate:modelValue":_[5]||(_[5]=C=>Ht(e)?e.value=C:null),color:"transparent",title:"Upload Pricing Sheet",max_width:"600"},{footer:N(()=>[x(En),x($e,{text:"Upload",color:"primary",onClick:h,loading:O(a),disabled:!O(i),style:Ue(O(hn)),"prepend-icon":"mdi-tray-arrow-up"},null,8,["loading","disabled","style"])]),default:N(()=>[x(Fn,null,{default:N(()=>[x(FT,{"hide-details":"",accept:".xlsx","prepend-icon":"",variant:"outlined",modelValue:O(l),"onUpdate:modelValue":[_[4]||(_[4]=C=>Ht(l)?l.value=C:null),f],density:"comfortable",label:"Excel file (XLSX)",class:"border-opacity-100","prepend-inner-icon":"mdi-microsoft-excel"},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"]),x(S,{modelValue:O(r),"onUpdate:modelValue":_[8]||(_[8]=C=>Ht(r)?r.value=C:null),color:"transparent",title:"Modify System Prompt",max_width:"1024"},{footer:N(()=>[x(En),x($e,{variant:"tonal",text:"Done Editing",style:Ue(O(hn)),onClick:_[7]||(_[7]=C=>r.value=!1),"prepend-icon":"mdi-check-circle"},null,8,["style"]),x(En)]),default:N(()=>[x(Fn,null,{default:N(()=>[x(pT,{style:{height:"100%"},label:"AI System Prompt",modelValue:O(d),"onUpdate:modelValue":_[6]||(_[6]=C=>Ht(d)?d.value=C:null)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})}}}),W2e=ps(K2e,[["__scopeId","data-v-464727b5"]]),z2e=Object.freeze(Object.defineProperty({__proto__:null,default:W2e},Symbol.toStringTag,{value:"Module"})),G2e={key:0},Y2e={key:1},k2={__name:"MyModalFrontend",props:{modelValue:Boolean,title:String,fullscreen:Boolean,max_width:[String,Number],max_height:[String,Number],color:String,footer_color:String,bg_color:String,hide_close_btn:{type:Boolean,default:!1}},emits:["update:modelValue","close","onmount"],setup(n,{emit:t}){const e=n,r=t,o=Oe(e.modelValue),i=()=>{o.value=!1};return Kn(()=>{o.value=e.modelValue,r("onmount")}),lt(()=>e.modelValue,a=>{o.value=a}),lt(o,a=>{r("update:modelValue",a),a||r("close")}),(a,s)=>(le(),Re(Xn,{justify:"center"},{default:N(()=>[x(Wk,{persistent:"",modelValue:O(o),"onUpdate:modelValue":s[0]||(s[0]=l=>Ht(o)?o.value=l:null),"max-width":n.max_width,scrim:"rgba(0,0,0,0.9)",fullscreen:n.fullscreen,"max-height":n.max_height,transition:"dialog-bottom-transition"},{default:N(()=>[x(cr,{class:"frontend-modal global-radius outfit-font d-flex flex-column"},{default:N(()=>[x(Mw,{dark:"",color:n.color?n.color:"primary",class:"flex-shrink-0",style:{position:"sticky",top:"0","z-index":"1"}},{default:N(()=>[a.$slots.toolbar?Ar(a.$slots,"toolbar",{key:0}):(le(),et(ut,{key:1},[x(Xk,null,{default:N(()=>[a.$slots.title?(le(),et("span",G2e,[Ar(a.$slots,"title")])):(le(),et("span",Y2e,at(n.title),1))]),_:3}),Ar(a.$slots,"append-toolbar-icon"),n.hide_close_btn?xt("",!0):(le(),Re($e,{key:0,icon:"mdi-close",dark:"",onClick:i}))],64))]),_:3},8,["color"]),x(Fn,{class:"pa-4 overflow-y-auto",style:Ue(`flex: 1 1 auto;background:${n.bg_color??"transparent"}`)},{default:N(()=>[Ar(a.$slots,"default"),Ar(a.$slots,"content")]),_:3},8,["style"]),a.$slots.footer?(le(),Re(Y_,{key:0,class:"border-t rounded-0 pt-3 pb-3 flex-shrink-0",color:n.footer_color,style:{position:"sticky",bottom:"0","z-index":"1"}},{default:N(()=>[Ar(a.$slots,"footer")]),_:3},8,["color"])):xt("",!0)]),_:3})]),_:3},8,["modelValue","max-width","fullscreen","max-height"])]),_:3}))}},X2e=it({...Jk({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),J2e=Dt()({name:"VRadio",props:X2e(),setup(n,t){let{slots:e}=t;return Kt(()=>{const r=Fm.filterProps(n);return x(Fm,bt(r,{class:["v-radio",n.class],style:n.style,type:"radio"}),e)}),{}}}),Z2e=it({height:{type:[Number,String],default:"auto"},...Ir(Yh(),["direction"]),...Ir(iV(),["multiple"]),trueIcon:{type:Tn,default:"$radioOn"},falseIcon:{type:Tn,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),q2e=Dt()({name:"VRadioGroup",inheritAttrs:!1,props:Z2e(),emits:{"update:modelValue":n=>!0},setup(n,t){let{attrs:e,slots:r}=t;const o=el(),i=ae(()=>n.id||`radio-group-${o}`),a=Mn(n,"modelValue"),s=Oe();return Kt(()=>{const[l,u]=Gh(e),c=Ml.filterProps(n),d=Fm.filterProps(n),f=r.label?r.label({label:n.label,props:{for:i.value}}):n.label;return x(Ml,bt({ref:s,class:["v-radio-group",n.class],style:n.style},l,c,{modelValue:a.value,"onUpdate:modelValue":h=>a.value=h,id:i.value}),{...r,default:h=>{let{id:p,messagesId:v,isDisabled:g,isReadonly:_}=h;return H(ut,null,[f&&x(fA,{id:p.value},{default:()=>[f]}),x(sfe,bt(d,{id:p.value,"aria-describedby":v.value,defaultsTarget:"VRadio",trueIcon:n.trueIcon,falseIcon:n.falseIcon,type:n.type,disabled:g.value,readonly:_.value,"aria-labelledby":f?p.value:void 0,multiple:!1},u,{modelValue:a.value,"onUpdate:modelValue":S=>a.value=S}),r)])}})}),nl({},s)}}),eNe={class:"d-flex"},tNe={style:{width:"300px"}},nNe={key:0},rNe={key:1},oNe={key:0,class:"mdi mdi-check-circle"},iNe={key:1,class:"mdi mdi-draw"},aNe={class:"text-capitalize"},sNe=rn({__name:"PickSignerModal",setup(n){const t=Vt(),{view_proposal:e}=Lt(t),{view_prop_config:r}=Lt(t),o=()=>{r.value.pick_signer_modal=!1,r.value.signature_modal=!0};return(i,a)=>{const s=k2;return le(),Re(s,{onClose:a[1]||(a[1]=l=>O(r).pick_signer_modal=!1),color:O(Pc),modelValue:O(r).pick_signer_modal,"onUpdate:modelValue":a[2]||(a[2]=l=>O(r).pick_signer_modal=l),max_width:"500"},{title:N(()=>[x(en,null,{default:N(()=>[...a[3]||(a[3]=[Je("mdi-file-sign",-1)])]),_:1}),a[4]||(a[4]=H("span",{class:"ml-2"},"Who is signing this document?",-1))]),footer:N(()=>[x(En),x($e,{rounded:"pill",text:"Continue","prepend-icon":"mdi-play",color:O(Pc),disabled:!O(r).selected_signer,onClick:o},null,8,["color","disabled"]),x(En)]),default:N(()=>[x(q2e,{modelValue:O(r).selected_signer,"onUpdate:modelValue":a[0]||(a[0]=l=>O(r).selected_signer=l)},{default:N(()=>[(le(!0),et(ut,null,Wr(O(e).signatures,l=>(le(),et("div",null,[x(J2e,{value:l,readonly:l.status==="signed"},{label:N(()=>{var u,c;return[H("div",eNe,[H("div",tNe,[l.signer_type=="partner"?(le(),et("span",nNe,at(l.firstname||l.lastname?`${l.firstname} ${l.lastname}`:"")+" "+at(!l.firstname&&!l.lastname&&((u=O(e).author)!=null&&u.company)?O(e).author.company:(c=O(e).author)!=null&&c.company?`(${O(e).author.company})`:""),1)):(le(),et("span",rNe,at(l.firstname||l.lastname?`${l.firstname} ${l.lastname}`:"")+" "+at(!l.firstname&&!l.lastname&&O(e).company_name?O(e).company_name:O(e).company_name?`(${O(e).company_name})`:""),1))]),H("div",{style:Ue({color:l.status==="signed"?"green":"red"})},[x($e,{readonly:"",variant:"tonal",size:"small",rounded:"pill",width:"90"},{default:N(()=>[l.status==="signed"?(le(),et("span",oNe)):(le(),et("span",iNe)),H("span",aNe,at(l.status),1)]),_:2},1024)],4)])]}),_:2},1032,["value","readonly"])]))),256))]),_:1},8,["modelValue"])]),_:1},8,["color","modelValue"])}}});/*!
 * Signature Pad v5.1.3 | https://github.com/szimek/signature_pad
 * (c) 2025 Szymon Nowak | Released under the MIT license
 */var UB=class{constructor(n,t,e,r){fo(this,"x");fo(this,"y");fo(this,"pressure");fo(this,"time");if(isNaN(n)||isNaN(t))throw new Error(`Point is invalid: (${n}, ${t})`);this.x=+n,this.y=+t,this.pressure=e||0,this.time=r||Date.now()}distanceTo(n){return Math.sqrt(Math.pow(this.x-n.x,2)+Math.pow(this.y-n.y,2))}equals(n){return this.x===n.x&&this.y===n.y&&this.pressure===n.pressure&&this.time===n.time}velocityFrom(n){return this.time!==n.time?this.distanceTo(n)/(this.time-n.time):0}},lNe=class _J{constructor(t,e,r,o,i,a){this.startPoint=t,this.control2=e,this.control1=r,this.endPoint=o,this.startWidth=i,this.endWidth=a}static fromPoints(t,e){const r=this.calculateControlPoints(t[0],t[1],t[2]).c2,o=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new _J(t[1],r,o,t[2],e.start,e.end)}static calculateControlPoints(t,e,r){const o=t.x-e.x,i=t.y-e.y,a=e.x-r.x,s=e.y-r.y,l={x:(t.x+e.x)/2,y:(t.y+e.y)/2},u={x:(e.x+r.x)/2,y:(e.y+r.y)/2},c=Math.sqrt(o*o+i*i),d=Math.sqrt(a*a+s*s),f=l.x-u.x,h=l.y-u.y,p=c+d==0?0:d/(c+d),v={x:u.x+f*p,y:u.y+h*p},g=e.x-v.x,_=e.y-v.y;return{c1:new UB(l.x+g,l.y+_),c2:new UB(u.x+g,u.y+_)}}length(){let e=0,r,o;for(let i=0;i<=10;i+=1){const a=i/10,s=this.point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){const u=s-r,c=l-o;e+=Math.sqrt(u*u+c*c)}r=s,o=l}return e}point(t,e,r,o,i){return e*(1-t)*(1-t)*(1-t)+3*r*(1-t)*(1-t)*t+3*o*(1-t)*t*t+i*t*t*t}},uNe=class{constructor(){fo(this,"_et");try{this._et=new EventTarget}catch{this._et=document}}addEventListener(n,t,e){this._et.addEventListener(n,t,e)}dispatchEvent(n){return this._et.dispatchEvent(n)}removeEventListener(n,t,e){this._et.removeEventListener(n,t,e)}};function cNe(n,t=250){let e=0,r=null,o,i,a;const s=()=>{e=Date.now(),r=null,o=n.apply(i,a),r||(i=null,a=[])};return function(...u){const c=Date.now(),d=t-(c-e);return i=this,a=u,d<=0||d>t?(r&&(clearTimeout(r),r=null),e=c,o=n.apply(i,a),r||(i=null,a=[])):r||(r=window.setTimeout(s,d)),o}}var T2=class tU extends uNe{constructor(e,r={}){super();fo(this,"dotSize");fo(this,"minWidth");fo(this,"maxWidth");fo(this,"penColor");fo(this,"minDistance");fo(this,"velocityFilterWeight");fo(this,"compositeOperation");fo(this,"backgroundColor");fo(this,"throttle");fo(this,"canvasContextOptions");fo(this,"_ctx");fo(this,"_drawingStroke",!1);fo(this,"_isEmpty",!0);fo(this,"_dataUrl");fo(this,"_dataUrlOptions");fo(this,"_lastPoints",[]);fo(this,"_data",[]);fo(this,"_lastVelocity",0);fo(this,"_lastWidth",0);fo(this,"_strokeMoveUpdate");fo(this,"_strokePointerId");this.canvas=e,this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle=r.throttle??16,this.minDistance=r.minDistance??5,this.dotSize=r.dotSize||0,this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=r.compositeOperation||"source-over",this.canvasContextOptions=r.canvasContextOptions??{},this._strokeMoveUpdate=this.throttle?cNe(tU.prototype._strokeUpdate,this.throttle):tU.prototype._strokeUpdate,this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handlePointerDown=this._handlePointerDown.bind(this),this._handlePointerMove=this._handlePointerMove.bind(this),this._handlePointerUp=this._handlePointerUp.bind(this),this._handlePointerCancel=this._handlePointerCancel.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this),this._ctx=e.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}clear(){const{_ctx:e,canvas:r}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,r.width,r.height),e.fillRect(0,0,r.width,r.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0,this._dataUrl=void 0,this._dataUrlOptions=void 0,this._strokePointerId=void 0}redraw(){const e=this._data,r=this._dataUrl,o=this._dataUrlOptions;this.clear(),r&&this.fromDataURL(r,o),this.fromData(e,{clear:!1})}fromDataURL(e,r={}){return new Promise((o,i)=>{const a=new Image,s=r.ratio||window.devicePixelRatio||1,l=r.width||this.canvas.width/s,u=r.height||this.canvas.height/s,c=r.xOffset||0,d=r.yOffset||0;this._reset(this._getPointGroupOptions()),a.onload=()=>{this._ctx.drawImage(a,c,d,l,u),o()},a.onerror=f=>{i(f)},a.crossOrigin="anonymous",a.src=e,this._isEmpty=!1,this._dataUrl=e,this._dataUrlOptions={...r}})}toDataURL(e="image/png",r){switch(e){case"image/svg+xml":return typeof r!="object"&&(r=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(r))}`;default:return typeof r!="number"&&(r=void 0),this.canvas.toDataURL(e,r)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none",this.canvas.style.webkitUserSelect="none";const e=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!e?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.style.webkitUserSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){const e=window.document===this.canvas.ownerDocument?window:this.canvas.ownerDocument.defaultView??this.canvas.ownerDocument;return{addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}_removeMoveUpEventListeners(){const{removeEventListener:e}=this._getListenerFunctions();e("pointermove",this._handlePointerMove),e("pointerup",this._handlePointerUp),e("pointercancel",this._handlePointerCancel),e("mousemove",this._handleMouseMove),e("mouseup",this._handleMouseUp),e("touchmove",this._handleTouchMove),e("touchend",this._handleTouchEnd),e("touchcancel",this._handleTouchCancel)}isEmpty(){return this._isEmpty}fromData(e,{clear:r=!0}={}){r&&this.clear(),this._fromData(e,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(e)}toData(){return this._data}_isLeftButtonPressed(e,r){return r?e.buttons===1:(e.buttons&1)===1}_pointerEventToSignatureEvent(e){return{event:e,type:e.type,x:e.clientX,y:e.clientY,pressure:"pressure"in e?e.pressure:0}}_touchEventToSignatureEvent(e){const r=e.changedTouches[0];return{event:e,type:e.type,x:r.clientX,y:r.clientY,pressure:r.force}}_handleMouseDown(e){!this._isLeftButtonPressed(e,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(e))}_handleMouseMove(e){if(!this._isLeftButtonPressed(e,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(e),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(e))}_handleMouseUp(e){this._isLeftButtonPressed(e)||this._strokeEnd(this._pointerEventToSignatureEvent(e))}_handleTouchStart(e){e.targetTouches.length!==1||this._drawingStroke||(e.cancelable&&e.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(e)))}_handleTouchMove(e){if(e.targetTouches.length===1){if(e.cancelable&&e.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(e),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(e))}}_handleTouchEnd(e){e.targetTouches.length===0&&(e.cancelable&&e.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(e)))}_handlePointerCancel(e){this._allowPointerId(e)&&(e.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(e),!1))}_handleTouchCancel(e){e.cancelable&&e.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(e),!1)}_getPointerId(e){return e.persistentDeviceId||e.pointerId}_allowPointerId(e,r=!1){return typeof this._strokePointerId>"u"?r:this._getPointerId(e)===this._strokePointerId}_handlePointerDown(e){this._drawingStroke||!this._isLeftButtonPressed(e)||!this._allowPointerId(e,!0)||(this._strokePointerId=this._getPointerId(e),e.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(e)))}_handlePointerMove(e){if(this._allowPointerId(e)){if(!this._isLeftButtonPressed(e,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(e),!1);return}e.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(e))}}_handlePointerUp(e){this._isLeftButtonPressed(e)||!this._allowPointerId(e)||(e.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(e)))}_getPointGroupOptions(e){return{penColor:e&&"penColor"in e?e.penColor:this.penColor,dotSize:e&&"dotSize"in e?e.dotSize:this.dotSize,minWidth:e&&"minWidth"in e?e.minWidth:this.minWidth,maxWidth:e&&"maxWidth"in e?e.maxWidth:this.maxWidth,velocityFilterWeight:e&&"velocityFilterWeight"in e?e.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:e&&"compositeOperation"in e?e.compositeOperation:this.compositeOperation}}_strokeBegin(e){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:e,cancelable:!0})))return;const{addEventListener:o}=this._getListenerFunctions();switch(e.event.type){case"mousedown":o("mousemove",this._handleMouseMove,{passive:!1}),o("mouseup",this._handleMouseUp,{passive:!1});break;case"touchstart":o("touchmove",this._handleTouchMove,{passive:!1}),o("touchend",this._handleTouchEnd,{passive:!1}),o("touchcancel",this._handleTouchCancel,{passive:!1});break;case"pointerdown":o("pointermove",this._handlePointerMove,{passive:!1}),o("pointerup",this._handlePointerUp,{passive:!1}),o("pointercancel",this._handlePointerCancel,{passive:!1});break}this._drawingStroke=!0;const i=this._getPointGroupOptions(),a={...i,points:[]};this._data.push(a),this._reset(i),this._strokeUpdate(e)}_strokeUpdate(e){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(e);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:e}));const r=this._createPoint(e.x,e.y,e.pressure),o=this._data[this._data.length-1],i=o.points,a=i.length>0&&i[i.length-1],s=a?r.distanceTo(a)<=this.minDistance:!1,l=this._getPointGroupOptions(o);if(!a||!(a&&s)){const u=this._addPoint(r,l);a?u&&this._drawCurve(u,l):this._drawDot(r,l),i.push({time:r.time,x:r.x,y:r.y,pressure:r.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:e}))}_strokeEnd(e,r=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(r&&this._strokeUpdate(e),this._drawingStroke=!1,this._strokePointerId=void 0,this.dispatchEvent(new CustomEvent("endStroke",{detail:e})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown,{passive:!1})}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown,{passive:!1})}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart,{passive:!1})}_reset(e){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(e.minWidth+e.maxWidth)/2,this._ctx.fillStyle=e.penColor,this._ctx.globalCompositeOperation=e.compositeOperation}_createPoint(e,r,o){const i=this.canvas.getBoundingClientRect();return new UB(e-i.left,r-i.top,o,new Date().getTime())}_addPoint(e,r){const{_lastPoints:o}=this;if(o.push(e),o.length>2){o.length===3&&o.unshift(o[0]);const i=this._calculateCurveWidths(o[1],o[2],r),a=lNe.fromPoints(o,i);return o.shift(),a}return null}_calculateCurveWidths(e,r,o){const i=o.velocityFilterWeight*r.velocityFrom(e)+(1-o.velocityFilterWeight)*this._lastVelocity,a=this._strokeWidth(i,o),s={end:a,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=a,s}_strokeWidth(e,r){return Math.max(r.maxWidth/(e+1),r.minWidth)}_drawCurveSegment(e,r,o){const i=this._ctx;i.moveTo(e,r),i.arc(e,r,o,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(e,r){const o=this._ctx,i=e.endWidth-e.startWidth,a=Math.ceil(e.length())*2;o.beginPath(),o.fillStyle=r.penColor;for(let s=0;s<a;s+=1){const l=s/a,u=l*l,c=u*l,d=1-l,f=d*d,h=f*d;let p=h*e.startPoint.x;p+=3*f*l*e.control1.x,p+=3*d*u*e.control2.x,p+=c*e.endPoint.x;let v=h*e.startPoint.y;v+=3*f*l*e.control1.y,v+=3*d*u*e.control2.y,v+=c*e.endPoint.y;const g=Math.min(e.startWidth+c*i,r.maxWidth);this._drawCurveSegment(p,v,g)}o.closePath(),o.fill()}_drawDot(e,r){const o=this._ctx,i=r.dotSize>0?r.dotSize:(r.minWidth+r.maxWidth)/2;o.beginPath(),this._drawCurveSegment(e.x,e.y,i),o.closePath(),o.fillStyle=r.penColor,o.fill()}_fromData(e,r,o){for(const i of e){const{points:a}=i,s=this._getPointGroupOptions(i);if(a.length>1)for(let l=0;l<a.length;l+=1){const u=a[l],c=new UB(u.x,u.y,u.pressure,u.time);l===0&&this._reset(s);const d=this._addPoint(c,s);d&&r(d,s)}else this._reset(s),o(a[0],s)}}toSVG({includeBackgroundColor:e=!1,includeDataUrl:r=!1}={}){var d,f,h,p,v;const o=this._data,i=Math.max(window.devicePixelRatio||1,1),a=0,s=0,l=this.canvas.width/i,u=this.canvas.height/i,c=document.createElementNS("http://www.w3.org/2000/svg","svg");if(c.setAttribute("xmlns","http://www.w3.org/2000/svg"),c.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),c.setAttribute("viewBox",`${a} ${s} ${l} ${u}`),c.setAttribute("width",l.toString()),c.setAttribute("height",u.toString()),e&&this.backgroundColor){const g=document.createElement("rect");g.setAttribute("width","100%"),g.setAttribute("height","100%"),g.setAttribute("fill",this.backgroundColor),c.appendChild(g)}if(r&&this._dataUrl){const g=((d=this._dataUrlOptions)==null?void 0:d.ratio)||window.devicePixelRatio||1,_=((f=this._dataUrlOptions)==null?void 0:f.width)||this.canvas.width/g,S=((h=this._dataUrlOptions)==null?void 0:h.height)||this.canvas.height/g,y=((p=this._dataUrlOptions)==null?void 0:p.xOffset)||0,C=((v=this._dataUrlOptions)==null?void 0:v.yOffset)||0,T=document.createElement("image");T.setAttribute("x",y.toString()),T.setAttribute("y",C.toString()),T.setAttribute("width",_.toString()),T.setAttribute("height",S.toString()),T.setAttribute("preserveAspectRatio","none"),T.setAttribute("href",this._dataUrl),c.appendChild(T)}return this._fromData(o,(g,{penColor:_})=>{const S=document.createElement("path");if(!isNaN(g.control1.x)&&!isNaN(g.control1.y)&&!isNaN(g.control2.x)&&!isNaN(g.control2.y)){const y=`M ${g.startPoint.x.toFixed(3)},${g.startPoint.y.toFixed(3)} C ${g.control1.x.toFixed(3)},${g.control1.y.toFixed(3)} ${g.control2.x.toFixed(3)},${g.control2.y.toFixed(3)} ${g.endPoint.x.toFixed(3)},${g.endPoint.y.toFixed(3)}`;S.setAttribute("d",y),S.setAttribute("stroke-width",(g.endWidth*2.25).toFixed(3)),S.setAttribute("stroke",_),S.setAttribute("fill","none"),S.setAttribute("stroke-linecap","round"),c.appendChild(S)}},(g,{penColor:_,dotSize:S,minWidth:y,maxWidth:C})=>{const T=document.createElement("circle"),P=S>0?S:(y+C)/2;T.setAttribute("r",P.toString()),T.setAttribute("cx",g.x.toString()),T.setAttribute("cy",g.y.toString()),T.setAttribute("fill",_),c.appendChild(T)}),c.outerHTML}};const dNe={class:"d-flex justify-space-between align-center"},fNe=rn({__name:"SignatureModal",setup(n){const t=Vt(),e=Oe(""),r=Oe(null),o=Oe(!1),i=Oe(!1),{ShowError:a,ShowSuccess:s}=t,l=ae(()=>`${c.value.selected_signer.firstname} ${c.value.selected_signer.lastname}`),{view_proposal:u}=Lt(t),{view_prop_config:c}=Lt(t),d=()=>{c.value.signature_modal=!1},f=()=>{var y,C,T;if(!o.value)return a("Please tick the checkbox to proceed.");if(r.value.isEmpty())return a("Please draw your signature");if(!c.value.selected_signer.firstname||!c.value.selected_signer.lastname)return a("Please provide your name.");if(!e.value)return a("Please provide your initials.");c.value.selected_signer.initials_blob=_(),c.value.selected_signer.signature_blob=r.value.toDataURL(),c.value.selected_signer.signed_date=$k().format("YYYY-MM-DD HH:mm:ss"),i.value=!0;const S=new FormData;S.append("author",JSON.stringify((y=u.value)==null?void 0:y.author)),S.append("signature",JSON.stringify(c.value.selected_signer)),S.append("partner_id",String((C=u.value)==null?void 0:C.partner_id)),S.append("proposal_id",String((T=u.value)==null?void 0:T.id)),sn("").post("/proposals/sign-agreement",S).then(P=>{console.log(P.data),s("Thank you for signing the agreement! <br> We'll get back to you as soon as possible."),d()}).finally(()=>{i.value=!1,setTimeout(()=>{location.reload()},1e3)})},h=()=>{r.value.clear()},p=()=>{const S=()=>{const y=document.querySelector(".canvas-wrapper"),C=document.getElementById("canvas");y&&C&&(C.width=y.clientWidth)};Kn(()=>{S(),window.addEventListener("resize",S)}),lu(()=>{window.removeEventListener("resize",S)})},v=S=>S?S.trim().split(/\s+/).map(y=>y[0].toUpperCase()).join(""):"",g=async S=>{const y=document.getElementById("initials");if(!y)return;const C=y.getContext("2d");await document.fonts.load("400 48px Caveat"),C.clearRect(0,0,y.width,y.height),C.font="400 48px 'Caveat'",C.fillStyle="#000",C.textAlign="center",C.textBaseline="middle",C.fillText(S,y.width/2,y.height/2)},_=()=>{const S=document.getElementById("initials");return S?S.toDataURL("image/png"):null};return lt(()=>l.value,async S=>{S.length&&(e.value=v(S),await g(v(S)))},{immediate:!0}),lt(()=>e.value,async S=>{S&&await g(S)},{immediate:!0}),Kn(()=>{r.value=new T2(document.querySelector("#canvas")),g(e.value)}),p(),(S,y)=>{const C=k2;return le(),Re(C,{onClose:d,color:O(Pc),modelValue:O(c).signature_modal,"onUpdate:modelValue":y[5]||(y[5]=T=>O(c).signature_modal=T),max_width:"600"},{title:N(()=>[x(en,null,{default:N(()=>[...y[6]||(y[6]=[Je("mdi-file-sign",-1)])]),_:1}),y[7]||(y[7]=H("span",{class:"ml-2"},"Agreement Signature",-1))]),footer:N(()=>[x(En),x($e,{color:O(Pc),rounded:"pill",loading:O(i),text:"Agree & Sign Agreement",disabled:!O(o),onClick:f,"prepend-icon":"mdi-checkbox-marked-outline"},null,8,["color","loading","disabled"]),x(En)]),default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"6"},{default:N(()=>[x(_t,{modelValue:O(c).selected_signer.firstname,"onUpdate:modelValue":y[0]||(y[0]=T=>O(c).selected_signer.firstname=T),label:"First Name",variant:"outlined"},null,8,["modelValue"])]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(_t,{modelValue:O(c).selected_signer.lastname,"onUpdate:modelValue":y[1]||(y[1]=T=>O(c).selected_signer.lastname=T),label:"Last Name",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),x(_t,{modelValue:O(c).selected_signer.email,"onUpdate:modelValue":y[2]||(y[2]=T=>O(c).selected_signer.email=T),label:"Email",variant:"outlined"},null,8,["modelValue"]),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{modelValue:O(e),"onUpdate:modelValue":y[3]||(y[3]=T=>Ht(e)?e.value=T:null),disabled:!O(c).selected_signer.firstname,label:"Your Initials",variant:"outlined"},null,8,["modelValue","disabled"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[...y[8]||(y[8]=[H("canvas",{class:"border border-opacity-25 w-100",id:"initials",height:"60"},null,-1)])]),_:1})]),_:1}),H("div",dNe,[x(fA,null,{default:N(()=>[...y[9]||(y[9]=[Je("Draw your signature below:",-1)])]),_:1}),x($e,{color:O(Pc),onClick:h,class:"mb-1","prepend-icon":"mdi-restart",size:"small"},{default:N(()=>[...y[10]||(y[10]=[Je("Reset",-1)])]),_:1},8,["color"])]),y[11]||(y[11]=H("div",{class:"canvas-wrapper w-100"},[H("canvas",{class:"bg-grey-lighten-4 border rounded-lg",id:"canvas"})],-1)),x(cs,{class:"mt-5 mb-5",modelValue:O(o),"onUpdate:modelValue":y[4]||(y[4]=T=>Ht(o)?o.value=T:null),label:`\r
        I confirm that I have reviewed and accept this agreement,\r
        and acknowledge that I am legally bound by its terms and conditions.\r
      `},null,8,["modelValue"])]),_:1},8,["color","modelValue"])}}}),ANe=ps(fNe,[["__scopeId","data-v-5a8171ce"]]),hNe={class:"d-flex justify-space-between align-center"},pNe=rn({__name:"AcceptModal",setup(n){const t=Vt(),e=Oe(""),r=Oe(null),o=Oe(!1),i=Oe(!1),{SetState:a,ShowError:s,ShowSuccess:l}=t,{view_proposal:u}=Lt(t),{view_prop_config:c}=Lt(t),d=()=>{a({view_prop_config:{...c.value,accept_modal:!1}})},f=()=>{var y,C,T,P,F;if(!o.value)return s("Please tick the checkbox to proceed.");if(r.value.isEmpty())return s("Please draw your signature");if(!((y=u.value)!=null&&y.accepted_by))return s("Please provide your name.");if(!e.value)return s("Please provide your initials.");i.value=!0,u.value.accepted_initials=_();const S=new FormData;S.append("proposal_id",(C=u.value)==null?void 0:C.id),S.append("accepted_by",(T=u.value)==null?void 0:T.accepted_by),S.append("accepted_date",(P=u.value)==null?void 0:P.accepted_date),S.append("accepted_initials",(F=u.value)==null?void 0:F.accepted_initials),S.append("accepted_signature",r.value.toDataURL()),sn("").post("/proposals/accept",S).then(I=>{console.log(I.data),l("Thank you for accepting the proposal! <br> We'll get back to you shortly."),d()}).finally(()=>{i.value=!1,setTimeout(()=>{location.reload()},1e3)})},h=()=>{r.value.clear()},p=()=>{const S=()=>{const y=document.querySelector(".canvas-wrapper"),C=document.getElementById("canvas");y&&C&&(C.width=y.clientWidth)};Kn(()=>{S(),window.addEventListener("resize",S)}),lu(()=>{window.removeEventListener("resize",S)})},v=S=>S?S.trim().split(/\s+/).map(y=>y[0].toUpperCase()).join(""):"",g=async S=>{const y=document.getElementById("initials");if(!y)return;const C=y.getContext("2d");await document.fonts.load("400 48px Caveat"),C.clearRect(0,0,y.width,y.height),C.font="400 48px 'Caveat'",C.fillStyle="#000",C.textAlign="center",C.textBaseline="middle",C.fillText(S,y.width/2,y.height/2)},_=()=>{const S=document.getElementById("initials");return S?S.toDataURL("image/png"):null};return lt(()=>u.value.accepted_by,async S=>{S.length&&(e.value=v(S),await g(v(S)))},{immediate:!0}),lt(()=>e.value,async S=>{S&&await g(S)},{immediate:!0}),Kn(()=>{r.value=new T2(document.querySelector("#canvas"));const S={...u.value};S.accepted_date=$k().format("MMMM D, YYYY"),S.accepted_by=u.value.first_name+" "+u.value.last_name,a({view_proposal:S}),g(e.value)}),p(),(S,y)=>{const C=k2;return le(),Re(C,{onClose:d,color:O(Pc),modelValue:O(c).accept_modal,"onUpdate:modelValue":y[3]||(y[3]=T=>O(c).accept_modal=T),max_width:"600"},{title:N(()=>[x(en,null,{default:N(()=>[...y[4]||(y[4]=[Je("mdi-file-sign",-1)])]),_:1}),y[5]||(y[5]=H("span",{class:"ml-2"},"Accept Proposal",-1))]),footer:N(()=>[x(En),x($e,{color:O(Pc),rounded:"pill",loading:O(i),text:"Accept Proposal",disabled:!O(o),onClick:f,"prepend-icon":"mdi-checkbox-marked-outline"},null,8,["color","loading","disabled"]),x(En)]),default:N(()=>[x(_t,{modelValue:O(u).accepted_by,"onUpdate:modelValue":y[0]||(y[0]=T=>O(u).accepted_by=T),label:"Your Full Name",variant:"outlined"},null,8,["modelValue"]),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{modelValue:O(e),"onUpdate:modelValue":y[1]||(y[1]=T=>Ht(e)?e.value=T:null),disabled:!O(u).accepted_by,label:"Your Initials",variant:"outlined"},null,8,["modelValue","disabled"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[...y[6]||(y[6]=[H("canvas",{class:"border border-opacity-25 w-100",id:"initials",height:"60"},null,-1)])]),_:1})]),_:1}),H("div",hNe,[x(fA,null,{default:N(()=>[...y[7]||(y[7]=[Je("Draw your signature below:",-1)])]),_:1}),x($e,{color:O(Pc),onClick:h,class:"mb-1","prepend-icon":"mdi-restart",size:"small"},{default:N(()=>[...y[8]||(y[8]=[Je("Reset",-1)])]),_:1},8,["color"])]),y[9]||(y[9]=H("div",{class:"canvas-wrapper w-100"},[H("canvas",{class:"bg-grey-lighten-4 border rounded-lg",id:"canvas"})],-1)),x(cs,{class:"mt-5 mb-5",modelValue:O(o),"onUpdate:modelValue":y[2]||(y[2]=T=>Ht(o)?o.value=T:null),label:`\r
        I confirm that I have reviewed and accept this proposal,\r
        and would like to proceed to final paperwork,\r
        subject to credit approval.\r
      `},null,8,["modelValue"])]),_:1},8,["color","modelValue"])}}}),mNe=ps(pNe,[["__scopeId","data-v-6e1fa362"]]),vNe=rn({__name:"MetricObserver",setup(n){const t=Vt(),e=Oe([]),r=Oe([]),o=Oe(null),{view_proposal:i,profile:a}=Lt(t),s=()=>{var u,c;const l=new FormData;if(l.append("metric_id",(c=(u=i.value)==null?void 0:u.metric)==null?void 0:c.id),l.append("page_data",JSON.stringify(e.value)),!e.value.length)return!1;sn(null).post("/proposals/save-metrics",l).then(d=>{console.log("Metric Observer: ",d.data)})};return lt(()=>i.value,l=>{setTimeout(()=>{r.value=Array.from(document.getElementsByClassName("pdf-page")),e.value=r.value.map(c=>{var f;const d=(f=l==null?void 0:l.metric.page_data)==null?void 0:f.find(h=>h.title===c.getAttribute("title"));return{title:c.getAttribute("title"),views:(d==null?void 0:d.views)??0,seconds:(d==null?void 0:d.seconds)??0,_start:0}});const u=new IntersectionObserver(c=>{c.forEach(d=>{const f=r.value.indexOf(d.target),h=e.value[f];h&&(d.isIntersecting?(h.views++,h._start=Date.now()):h._start&&(h.seconds+=Math.round((Date.now()-h._start)/1e3),h._start=0))})},{threshold:.1});r.value.forEach(c=>u.observe(c))},300)}),Kn(()=>{a.value?t.LogSuccess("User logged in. Metric Observer skipped"):(console.log("Metric Observer Running..."),o.value=setInterval(()=>{s()},5e3))}),lu(()=>{t.LogError("Metric Observer Stopped."),clearInterval(o.value)}),(l,u)=>null}}),gNe={__name:"Overlay",setup(n){const t=Vt(),{global_loading:e}=Lt(t);return(r,o)=>(le(),Re(Md,{persistent:"","z-index":1e3,modelValue:O(e),"onUpdate:modelValue":o[0]||(o[0]=i=>Ht(e)?e.value=i:null),class:"d-flex align-center justify-center"},{default:N(()=>[x(Ry,{color:"primary",indeterminate:"",size:"100",width:"6"})]),_:1},8,["modelValue"]))}},yNe={__name:"FooterBtns",emits:["accept","decline"],setup(n,{emit:t}){const e=Vt(),r=t,o=ae(()=>{var d;return((d=s.value)==null?void 0:d.status)==="accepted"}),i=ae(()=>{var d;return((d=s.value)==null?void 0:d.status)==="declined"}),a=ae(()=>{var d;return(d=s.value)==null?void 0:d.signatures.filter(f=>f.status==="pending"&&f.signer_type==="customer")}),{view_proposal:s,global_loading:l,view_prop_config:u}=Lt(e),c=()=>{a.value.length===1?(u.value.selected_signer=a.value[0],u.value.signature_modal=!0):u.value.pick_signer_modal=!0};return(d,f)=>{var h;return le(),et(ut,null,[((h=O(s))==null?void 0:h.show_contract_pages)===1&&O(a).length>0?(le(),Re($e,{key:0,text:"Sign",width:"150",color:"green",rounded:"pill","prepend-icon":"mdi-file-sign",onClick:c})):xt("",!0),O(o)?(le(),Re($e,{key:1,rounded:"pill",color:"primary",href:`/proposals/download/${O(s).hash_code}`,class:"ml-2",target:"_blank","prepend-icon":"mdi-download"},{default:N(()=>[...f[2]||(f[2]=[Je("Download",-1)])]),_:1},8,["href"])):O(i)?(le(),Re($e,{key:2,rounded:"pill",color:"red",readonly:"",variant:"tonal","prepend-icon":"mdi-close-octagon-outline"},{default:N(()=>[...f[3]||(f[3]=[Je("Proposal Declined",-1)])]),_:1})):(le(),Re(cF,{key:3,density:"comfortable",rounded:"pill",class:"ml-2 footer-btns text-white",style:Ue(`background:${O(Pc)}`)},{default:N(()=>[x($e,{"prepend-icon":"mdi-file-sign",loading:O(l),color:"transparent",onClick:f[0]||(f[0]=p=>d.$emit("accept"))},{default:N(()=>[...f[4]||(f[4]=[Je(" Accept ",-1)])]),_:1},8,["loading"]),x(jy,{"offset-y":""},{activator:N(({props:p})=>[x($e,bt(p,{icon:"",style:{background:"none"}}),{default:N(()=>[x(en,{class:"text-white"},{default:N(()=>[...f[5]||(f[5]=[Je("mdi-chevron-down",-1)])]),_:1})]),_:1},16)]),default:N(()=>[x(Dm,null,{default:N(()=>[x(Cr,{"prepend-icon":"mdi-close-circle",onClick:f[1]||(f[1]=p=>r("decline"))},{default:N(()=>[x(wh,null,{default:N(()=>[...f[6]||(f[6]=[Je("Decline",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["style"]))],64)}}},bNe={key:0,class:"zoom-buttons"},wNe={class:"zoom-level-text mt-2"},Qj=.5,jj=1.75,$j=.1,_Ne=rn({__name:"ZoomButtons",setup(n){const t=Oe(1.1),e=ae(()=>{if(typeof navigator>"u")return!1;const d=navigator.userAgent;return/Chrome|Edg|Brave|OPR/.test(d)&&!/Firefox/.test(d)}),r=Oe(null),{is_mobile:o}=Lt(Vt()),{pdfpage_default_zoom:i}=Lt(Vt()),{is_view_proposal_loaded:a}=Lt(Vt()),s=()=>{const d=document.querySelector("#view-proposal");if(!d)return;if(e.value){d.style.zoom=`${t.value}`,d.style.transition="zoom 0.2s ease";const h=d.parentElement;h&&(h.style.paddingBottom="");return}r.value===null&&(r.value=d.offsetHeight),d.style.transform=`scale(${t.value})`,d.style.transformOrigin="top center",d.style.transition="transform 0.2s ease";const f=d.parentElement;if(f&&r.value!=null){const h=Math.max(0,(t.value-1)*r.value);f.style.paddingBottom=`${h}px`}},l=()=>{t.value=Math.min(t.value+$j,jj),s()},u=()=>{t.value=Math.max(t.value-$j,Qj),s()},c=()=>{window.innerWidth===1024?(t.value=1,s()):window.innerWidth>=1025&&(t.value=1.1,s())};return Kn(()=>window.addEventListener("resize",c)),lu(()=>window.removeEventListener("resize",c)),lt(()=>a.value,()=>{t.value=o.value?1:i.value,s()},{immediate:!0}),(d,f)=>O(o)?xt("",!0):(le(),et("div",bNe,[x($e,{size:"small",onClick:l,icon:"mdi-magnify-plus-outline",disabled:O(t)>=jj},null,8,["disabled"]),x($e,{size:"small",onClick:u,class:"mt-2",icon:"mdi-magnify-minus-outline",disabled:O(t)<=Qj},null,8,["disabled"]),H("div",wNe,at(Math.round(O(t)*100))+"% ",1)]))}}),CNe=ps(_Ne,[["__scopeId","data-v-6d29833c"]]),SNe=["src"],xNe=rn({__name:"AuthorLogoFrontend",setup(n){const t=Vt(),{frontend_theme:e}=Lt(t);return(r,o)=>(le(),et("img",{class:"mr-2 ml-2 pa-2 rounded-lg",height:"60",src:O(e)==="light"?"/assets/img/1800.svg":"/assets/img/1800-white.png",alt:"1800 Office Solutions Logo"},null,8,SNe))}}),ENe={actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, heading","card-avatar":"image, list-item-avatar",chip:"chip","date-picker":"list-item, heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",divider:"divider",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",ossein:"ossein",paragraph:"text@3",sentences:"text@2",subtitle:"text",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"chip, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"text@6","table-tfoot":"text@2, avatar@2",text:"text"};function BNe(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return H("div",{class:pt(["v-skeleton-loader__bone",`v-skeleton-loader__${n}`])},[t])}function Kj(n){const[t,e]=n.split("@");return Array.from({length:e}).map(()=>DT(t))}function DT(n){let t=[];if(!n)return t;const e=ENe[n];if(n!==e){if(n.includes(","))return Wj(n);if(n.includes("@"))return Kj(n);e.includes(",")?t=Wj(e):e.includes("@")?t=Kj(e):e&&t.push(DT(e))}return[BNe(n,t)]}function Wj(n){return n.replace(/\s/g,"").split(",").map(DT)}const kNe=it({boilerplate:Boolean,color:String,loading:Boolean,loadingText:{type:String,default:"$vuetify.loading"},type:{type:[String,Array],default:"ossein"},...As(),...tl(),...Zr()},"VSkeletonLoader"),TNe=Dt()({name:"VSkeletonLoader",inheritAttrs:!1,props:kNe(),setup(n,t){let{attrs:e,slots:r}=t;const{backgroundColorClasses:o,backgroundColorStyles:i}=Po(()=>n.color),{dimensionStyles:a}=hs(n),{elevationClasses:s}=Ul(n),{themeClasses:l}=Co(n),{t:u}=Ri(),c=ae(()=>DT(ao(n.type).join(",")));return Kt(()=>{var h;const d=!r.default||n.loading,f=n.boilerplate||!d?{}:{ariaLive:"polite",ariaLabel:u(n.loadingText),role:"alert"};return d?H("div",bt({class:["v-skeleton-loader",{"v-skeleton-loader--boilerplate":n.boilerplate},l.value,o.value,s.value],style:[i.value,a.value]},f,e),[c.value]):H(ut,null,[(h=r.default)==null?void 0:h.call(r)])}),{}}}),ONe={__name:"Filler",props:{height:null,width:null,type:{type:String,default:"text"}},setup(n){const t=Vt(),{global_loading:e}=Lt(t);return(r,o)=>(le(),Re(TNe,{type:n.type,class:"ma-0",height:n.height,width:n.width,color:"transparent",loading:O(e)},{default:N(()=>[Ar(r.$slots,"default")]),_:3},8,["type","height","width","loading"]))}},PNe={class:"d-none d-md-inline"},INe=["innerHTML"],MNe={key:1,id:"view-proposal"},FNe={key:0,class:"text-center"},DNe={key:0},UNe={style:{"font-size":"20px"}},LNe=rn({__name:"[hash]",setup(n){const t=Oe(!0),e=Vt(),r=P_(),o=Oe([]),i=Oe(!1),a=ae(()=>o.value.reduce((I,k)=>{let M=I.find(V=>k.title.startsWith(V.title)&&k.title!==V.title);return M?M.children.push(k):(M={title:k.title,page:k,children:[]},I.push(M)),I},[])),s=ae(()=>{var I;return["accepted","completed"].includes(String((I=l.value)==null?void 0:I.status))}),{view_proposal:l,global_loading:u,frontend_theme:c,view_prop_config:d,pdfpage_default_zoom:f,is_view_proposal_loaded:h}=Lt(e),p=async()=>{u.value=!0,o.value=[],await C().finally(()=>{u.value=!1,i.value=!0,window.AcceptProposal=g,window.OpenSignatureModal=F,window.ToggleLeaseOptions=T,S(),y()}),h.value=!0},v=I=>{const k=document.querySelector(`#${I.id}`);k&&k.scrollIntoView({behavior:"smooth"})},g=()=>{d.value.accept_modal=!0},_=()=>{var I;if(confirm("Are you sure you want to decline this proposal?")){u.value=!0;const k=sn(null),M=new FormData;M.append("proposal_id",String(((I=l.value)==null?void 0:I.id)??"")),k.post("/proposals/decline",M).then(()=>{u.value=!1,location.reload()})}},S=()=>{var k,M,V;const I=document.createElement("style");(k=document.getElementById("contract-page-hide-style"))==null||k.remove(),I.id="contract-page-hide-style",I.innerHTML=(M=l.value)==null?void 0:M.template_css,d3(l.value)||(I.innerHTML+=".contract-page{display: none !important}"),(V=l.value)==null||V.contract_pages.forEach(U=>{U.display==!1?I.innerHTML+=`#${U.id}{display: none !important}`:tD(l.value)&&U.hide_if_signed&&(I.innerHTML+=`#${U.id}{display: none !important}`)}),document.head.appendChild(I)},y=()=>{document.querySelectorAll(".pdf-page").forEach((k,M)=>{const V=k.getAttribute("title");if(V){if(k.classList.contains("contract-page")&&!d3(l.value))return;P(k.id)&&o.value.push({title:V,index:M,id:k.id})}})},C=async()=>{u.value=!0;let{hash:I}=r.params;const k=new FormData;return k.append("hash_code",I),h.value=!1,sn("").post("/proposals/finder",k).then(M=>{console.log(M.data),l.value=M.data,h.value=!0})},T=()=>{const I=document.querySelectorAll(".lease-term-options"),k=document.querySelector("#term-indicator");I&&I.forEach(M=>{M.classList.toggle("d-none"),M.classList.contains("d-none")?(k==null||k.classList.remove("mdi-chevron-up"),k==null||k.classList.add("mdi-chevron-down")):(k==null||k.classList.remove("mdi-chevron-down"),k==null||k.classList.add("mdi-chevron-up"))})},P=I=>{var M;const k=(M=l.value)==null?void 0:M.contract_pages.find(V=>V.id===I);return k?k.display==!1?!1:!(tD(l.value)&&k.hide_if_signed):!1},F=I=>{var k;d.value.selected_signer=(k=l.value)==null?void 0:k.signatures.find(M=>M.signature_slot==I),d.value.signature_modal=!0};return Kn(async()=>await p()),(I,k)=>{const M=ONe,V=xNe,U=CNe,$=yNe,Q=gNe,J=vNe,R=mNe,ne=ANe,ue=sNe,we=$W;return le(),Re(NL,{class:"outfit-font",theme:O(c),style:Ue({"--partner-brand-color":O(Pc)})},{default:N(()=>[x(kz,{class:"d-flex flex-column fill-height"},{default:N(()=>{var Be,We,pe;return[x(Ez,{class:"view-prop-header border-b",elevation:"0",prominent:""},{default:N(()=>[x(Bz,{class:"ml-3",variant:"text",onClick:k[0]||(k[0]=_e=>t.value=!O(t))}),x(En),x(M,{width:"150",type:"text"},{default:N(()=>{var _e;return[H("span",PNe,[x(en,{class:"mr-1"},{default:N(()=>[...k[4]||(k[4]=[Je("mdi-playlist-edit",-1)])]),_:1}),Je(" "+at((_e=O(l))==null?void 0:_e.title)+" ",1),O(s)?(le(),Re($e,{key:0,class:"ml-2",rounded:"pill",size:"small",color:"success",readonly:"",variant:"tonal","prepend-icon":"mdi-check-circle"},{default:N(()=>[...k[5]||(k[5]=[Je("Accepted",-1)])]),_:1})):xt("",!0)])]}),_:1}),x(En),O(c)==="light"?Qn((le(),Re($e,{key:0,onClick:k[1]||(k[1]=_e=>c.value="dark"),icon:"mdi-lightbulb-on-outline"},null,512)),[[Oo,"Switch to Dark Theme"]]):Qn((le(),Re($e,{key:1,onClick:k[2]||(k[2]=_e=>c.value="light"),icon:"mdi-brightness-4"},null,512)),[[Oo,"Switch to Light Theme"]]),x(V)]),_:1}),x(Qz,{class:"view-prop-sidebar",width:"350",modelValue:O(t),"onUpdate:modelValue":k[3]||(k[3]=_e=>Ht(t)?t.value=_e:null),location:"left",prominent:""},{default:N(()=>[x(M,{class:"ml-5",width:"300",type:"text,image"}),x(Dm,null,{default:N(()=>[(le(!0),et(ut,null,Wr(O(a),(_e,Ce)=>(le(),et(ut,{key:Ce},[_e.children.length?(le(),Re(Dw,{key:0,value:_e.title},{activator:N(({props:ve})=>[x(Cr,bt({ref_for:!0},ve),{prepend:N(()=>[x(en,{onClick:Mu(Qe=>v(_e.page),["stop"])},{default:N(()=>[...k[6]||(k[6]=[Je("mdi-file-document-outline",-1)])]),_:1},8,["onClick"])]),default:N(()=>[x(wh,{onClick:Mu(Qe=>v(_e.page),["stop"])},{default:N(()=>[Je(at(_e.title),1)]),_:2},1032,["onClick"])]),_:2},1040)]),default:N(()=>[(le(!0),et(ut,null,Wr(_e.children,(ve,Qe)=>(le(),Re(Cr,{key:Qe,title:ve.title,onClick:se=>v(ve)},null,8,["title","onClick"]))),128))]),_:2},1032,["value"])):(le(),Re(Cr,{key:1,title:_e.title,onClick:ve=>v(_e.page),"prepend-icon":"mdi-file-document-outline"},null,8,["title","onClick"]))],64))),128))]),_:1})]),_:1},8,["modelValue"]),x(RL,{class:"view-prop-main",style:Ue(`background:${O(c)=="light"?"#c3ccdc":"unset"}`)},{default:N(()=>[O(l)?(le(),et("div",{key:0,id:"view-proposal",innerHTML:O(l).template_html},null,8,INe)):(le(),et("div",MNe,[H("div",{class:"pdf-page",style:Ue(`padding: 100px;zoom: ${O(f)}`)},[x(M,{class:"mb-5",width:"100%",type:"text,image"}),x(M,{class:"mb-5",width:"100%",type:"text,image"}),x(M,{class:"mb-5",width:"100%",type:"text,image"}),!O(u)&&O(i)?(le(),et("h1",FNe,[H("span",null,[x(en,null,{default:N(()=>[...k[7]||(k[7]=[Je("mdi-emoticon-sad-outline",-1)])]),_:1})]),k[8]||(k[8]=H("br",null,null,-1)),k[9]||(k[9]=H("span",null,"This proposal may have been expired or deleted.",-1))])):xt("",!0)],4)])),x(U)]),_:1},8,["style"]),x(Y_,{app:"",class:"view-prop-footer border-t"},{default:N(()=>[x(M,{width:"150",type:"text"},{default:N(()=>[O(Qm)(O(l))>0?(le(),et("div",DNe,[k[11]||(k[11]=H("small",{class:"d-none d-md-block"},"Monthly Payment",-1)),H("div",UNe,[H("b",null,"$"+at(O(Qm)(O(l)).toFixed(2)),1),k[10]||(k[10]=Je(" / month ",-1))])])):xt("",!0)]),_:1}),x(En),x($,{onAccept:g,onDecline:_})]),_:1}),x(Q),x(J),(Be=O(d))!=null&&Be.accept_modal?(le(),Re(R,{key:0})):xt("",!0),(We=O(d))!=null&&We.signature_modal?(le(),Re(ne,{key:1})):xt("",!0),(pe=O(d))!=null&&pe.pick_signer_modal?(le(),Re(ue,{key:2})):xt("",!0)]}),_:1}),x(we)]),_:1},8,["theme","style"])}}}),VNe=Object.freeze(Object.defineProperty({__proto__:null,default:LNe},Symbol.toStringTag,{value:"Module"})),NNe={key:0,class:"text-center"},RNe=rn({__name:"MetricsModal",props:["proposal_id"],setup(n){const t=Vt(),e=n,{modals:r,proposals:o}=Lt(t),i=[{sortable:!0,title:"Page Title",value:"title"},{sortable:!0,title:"Views",value:"views"},{sortable:!0,title:"Time Spent",value:"seconds"}],a=ae(()=>l.value?`Metrics for Proposal ID #${l.value.id}`:"Metrics"),s=ae(()=>OY(e.proposal_id)),l=ae(()=>o.value.find(c=>c.id===e.proposal_id)),u=c=>{const d=Xt.duration(c,"seconds");return c<60?`${c} seconds`:c<3600?`${d.minutes()} minute${d.minutes()!==1?"s":""} ${d.seconds()} second${d.seconds()!==1?"s":""}`:`${d.hours()} hour${d.hours()!==1?"s":""} ${d.minutes()} minute${d.minutes()!==1?"s":""}`};return(c,d)=>{const f=qi;return le(),Re(f,{max_width:"700",color:"transparent",modelValue:O(r).metrics_modal,"onUpdate:modelValue":d[1]||(d[1]=h=>O(r).metrics_modal=h),title:O(a)},{footer:N(()=>[x(En),x($e,{style:Ue(O(hn)),onClick:d[0]||(d[0]=h=>O(r).metrics_modal=!1)},{default:N(()=>[...d[4]||(d[4]=[Je("Done",-1)])]),_:1},8,["style"])]),default:N(()=>{var h,p;return[(h=O(s))!=null&&h.page_data.length?(le(),Re(hi,{key:1,style:Ue(O(zr)),items:(p=O(s))==null?void 0:p.page_data,headers:i},{"item.views":N(({item:v})=>[x(Fl,null,{default:N(()=>[Je(at(v.views),1)]),_:2},1024)]),"item.seconds":N(({item:v})=>[Je(at(u(v.seconds)),1)]),_:1},8,["style","items"])):(le(),et("div",NNe,[H("div",null,[x(en,{size:"150"},{default:N(()=>[...d[2]||(d[2]=[Je("mdi-emoticon-sad-outline",-1)])]),_:1}),d[3]||(d[3]=H("div",null,"There's not enough data so far.",-1))])]))]}),_:1},8,["modelValue","title"])}}}),HNe={class:"d-flex align-center mb-4"},QNe=["onClick"],UT=rn({__name:"ProposalsTable",props:["selected_proposals"],setup(n){const t=tv(),e=Vt(),r=Oe(""),o=Oe(!1),i=[{title:"Category",sortable:!0,value:"category"},{title:"Title",sortable:!0,value:"title"},{title:"Customer",sortable:!0,value:"customer"},{title:"Company",sortable:!0,value:"company"},{title:"Status",sortable:!0,value:"status"},{title:"Views",sortable:!0,value:"views_count"},{title:"Actions",sortable:!0,value:"actions"}],a=Oe(null),{getAccessTokenSilently:s}=Er(),l=ae(()=>{if(!r.value)return u.selected_proposals;const v=r.value.toLowerCase();return u.selected_proposals.filter(g=>{var _;return g.title.toLowerCase().includes(v)||g.first_name.toLowerCase().includes(v)||g.last_name.toLowerCase().includes(v)||g.company_name.toLowerCase().includes(v)||((_=g.id)==null?void 0:_.toString().includes(v))})}),u=n,c=async v=>{if(await e.InputDialog("Confirm Action",'Type "DELETE" to confirm your action.')=="DELETE"){o.value=!0;const _=await s(),S=sn(_),y=new FormData;y.append("proposal_id",v==null?void 0:v.id),y.append("hash_code",v.hash_code),S.post("/proposals/destroy",y).then(C=>{console.log(C.data)}).finally(()=>{o.value=!1,e.FetchProposals(_)})}},d=v=>{t.push("/proposals/edit/"+v.id)},f=v=>{const{status:g}=v;if(g==="draft")return"grey";if(g==="open")return"blue";if(g==="sent")return"#8BC34A";if(g==="accepted")return"green";if(g==="rejected")return"red"},h=async()=>{o.value=!0;const v=await s();e.FetchMetrics(v),e.FetchProposals(v),o.value=!1},p=v=>{a.value=v,e.modals.metrics_modal=!0};return(v,g)=>{const _=cv,S=RNe,y=du;return le(),Re(y,null,{title:N(()=>[...g[1]||(g[1]=[Je("Proposals",-1)])]),content:N(()=>[H("div",HNe,[x(_,{modelValue:O(r),"onUpdate:modelValue":g[0]||(g[0]=C=>Ht(r)?r.value=C:null)},null,8,["modelValue"]),x(En),x($e,{class:"mr-2",text:"Refresh",color:"primary",onClick:h,loading:O(o),style:Ue(O(hn)),"prepend-icon":"mdi-refresh"},null,8,["loading","style"]),x($e,{"prepend-icon":"mdi-plus-circle",text:"Create a Proposal",href:"/proposals/create",style:Ue(O(hn)),color:"primary"},null,8,["style"])]),x(hi,{headers:i,class:"elevation-1 border",loading:O(o),style:Ue(`
          ${O(zr)};
          ${O(On)}
        `),items:O(l)},{item:N(({item:C})=>{var T;return[H("tr",null,[H("td",null,at(C.category=="copier-lease"?"Copier Quote":"IT Service"),1),H("td",null,[H("a",{class:"edit-link",href:"javascript:;",onClick:P=>d(C)},at(C.title),9,QNe)]),H("td",null,at(C.first_name)+" "+at(C.last_name),1),H("td",null,at(C.company_name),1),H("td",null,[x(Fl,{class:"text-capitalize",text:C.status,color:f(C)},null,8,["text","color"])]),H("td",null,[Qn(x(Fl,{onClick:P=>p(C.id),text:(T=O(OY)(C.id))==null?void 0:T.total_views},null,8,["onClick","text"]),[[Oo,"Click to see all Metrics"]])]),H("td",null,[x($e,{text:"Edit",size:"small",class:"mr-1",variant:"outlined",color:"primary",onClick:P=>d(C),style:Ue(O(On)),"prepend-icon":"mdi-pencil"},null,8,["onClick","style"]),x($e,{text:"View",size:"small",class:"mr-1",variant:"outlined",color:"primary",target:"_blank",style:Ue(O(On)),href:O(sde)(C),"prepend-icon":"mdi-eye"},null,8,["style","href"]),x($e,{text:"PDF",size:"small",class:"mr-1",color:"orange",target:"_blank",variant:"outlined",style:Ue(O(On)),"prepend-icon":"mdi-file-sign",href:`/proposals/download/${C.hash_code}`},null,8,["style","href"]),x($e,{"prepend-icon":"mdi-delete",loading:O(o),style:Ue(O(On)),variant:"outlined",text:"Delete",class:"mr-1",color:"red",size:"small",onClick:P=>c(C)},null,8,["loading","style","onClick"])])])]}),_:1},8,["loading","style","items"]),x(S,{proposal_id:O(a)},null,8,["proposal_id"])]),_:1})}}}),jNe={__name:"index",setup(n){return(t,e)=>{const r=UT;return le(),Re(r,{selected_proposals:O(nde)},null,8,["selected_proposals"])}}},$Ne=Object.freeze(Object.defineProperty({__proto__:null,default:jNe},Symbol.toStringTag,{value:"Module"})),KNe={__name:"accepted",setup(n){const t=Vt(),{proposals:e}=Lt(t),r=ae(()=>e.value.filter(o=>o.partner_id===vr.value&&o.status==="accepted"));return(o,i)=>(le(),Re(UT,{selected_proposals:O(r)},null,8,["selected_proposals"]))}},WNe=Object.freeze(Object.defineProperty({__proto__:null,default:KNe},Symbol.toStringTag,{value:"Module"})),zNe={key:0},GNe={style:{"font-size":"16px"}},YNe={__name:"FooterTotal",setup(n){const t=Vt(),{proposal:e}=Lt(t);return(r,o)=>O(Qm)(O(e))>0?(le(),et("div",zNe,[o[0]||(o[0]=H("small",{class:"d-none d-md-block"},"Monthly Payment",-1)),H("div",GNe," $"+at(O(Qm)(O(e)).toFixed(2))+" / month ",1)])):xt("",!0)}},XNe={key:0},JNe={key:1},ZNe=rn({__name:"ProposalTemplateEditor",emits:["update"],setup(n,{emit:t}){const e=Oe(!1),r=Zy(),o=Vt(),i=t,{modals:a,proposal:s}=Lt(o),{gjs_instance:l,css_content:u,html_content:c}=Lt(r),d=()=>{nu.value||(s.value.template_css=u.value,s.value.template_html=c.value),Oc("proposal_template",!1)},f=async()=>{if(nu.value)return o.ShowError(`You can't restore Template for proposals with '${s.value.status}' status.`);const h=Tw.value.find(v=>v.id==s.value.template_id);await o.OpenDialog("Confirm action","This will replace your current proposal template with the original template content. Continue?")&&h?(console.log("Resetting to original template",h),s.value.template_css=h.css_content,s.value.template_html=h.html_content,l.value.setStyle(h.css_content),l.value.setComponents(h.html_content),o.ShowSuccess("Template reset to default."),Oc("proposal_template",!1),s.value.id&&i("update")):o.ShowError("Original template not found.")};return mo(()=>{s.value.template_html&&l.value&&(l.value.setComponents(s.value.template_html),l.value.setStyle(s.value.template_css))}),(h,p)=>{const v=MT,g=kT,_=qi;return le(),Re(_,{card_padding:0,density:"compact",title:"Template Editor",fullscreen:O(e),"model-value":O(a).proposal_template,onClose:d},{title:N(()=>[O(nu)?(le(),et("span",XNe,"Template Editor (READ-ONLY)")):(le(),et("span",JNe,"Template Editor"))]),"append-toolbar-icon":N(()=>[x($e,{dark:"",onClick:f,disabled:O(nu)},{default:N(()=>[...p[1]||(p[1]=[Je("Restore Template",-1)])]),_:1},8,["disabled"]),Qn(x($e,{icon:"mdi-fullscreen",dark:"",onClick:p[0]||(p[0]=S=>e.value=!O(e))},null,512),[[Oo,"Fullscreen"]]),Qn(x($e,{icon:"mdi-floppy",disabled:O(nu),dark:"",onClick:d},null,8,["disabled"]),[[Oo,"Save & Close"]])]),default:N(()=>[x(v),x(g,{hide_save:!0,hide_dist_btn:!0})]),_:1},8,["fullscreen","model-value"])}}}),qNe={key:0},eRe={key:1},tRe=rn({__name:"PaperworkEditor",emits:["update","restore"],setup(n,{emit:t}){const e=Oe(!1),r=Oe(!1),o=Zy(),i=Vt(),a=t,{modals:s,proposal:l}=Lt(i),{gjs_instance:u,css_content:c,html_content:d}=Lt(o),f=async()=>{nu.value||(l.value.paperwork_css=c.value,l.value.paperwork_html=d.value),Oc("paperwork_editor",!1)},h=async()=>{if(nu.value)return i.ShowError(`You can't restore Paperwork for proposals with '${l.value.status}' status.`);const p=await i.OpenDialog("Confirm action","This will replace your Proposal's paperwork with the original paperwork content. Continue?"),v=l.value.lease_factor_provider;if(p){const g=gh.value.find(_=>_.id==v.id);g?(l.value.paperwork_css=g.paperwork_css,l.value.paperwork_html=g.paperwork_html,u.value.setStyle(g.paperwork_css),u.value.setComponents(g.paperwork_html),i.ShowSuccess("Paperwork reset to default."),Oc("paperwork_editor",!1),a("restore")):i.ShowError("Paperwork source not found.")}};return mo(()=>{l.value.paperwork_html&&u.value&&(u.value.setComponents(l.value.paperwork_html),u.value.setStyle(l.value.paperwork_css))}),(p,v)=>{const g=MT,_=kT,S=qi;return le(),Re(S,{card_padding:0,density:"compact",modelValue:O(s).paperwork_editor,"onUpdate:modelValue":v[1]||(v[1]=y=>O(s).paperwork_editor=y),title:"Paperwork Editor",fullscreen:O(r),onClose:f},{title:N(()=>[O(nu)?(le(),et("span",qNe,"Paperwork Editor (READ-ONLY)")):(le(),et("span",eRe,"Paperwork Editor"))]),"append-toolbar-icon":N(()=>[x($e,{disabled:O(nu),dark:"",onClick:h},{default:N(()=>[...v[2]||(v[2]=[Je("Restore Paperwork",-1)])]),_:1},8,["disabled"]),Qn(x($e,{icon:"mdi-fullscreen",dark:"",onClick:v[0]||(v[0]=y=>r.value=!O(r))},null,512),[[Oo,"Fullscreen"]]),Qn(x($e,{icon:"mdi-floppy",disabled:O(nu),loading:O(e),dark:"",onClick:f},null,8,["disabled","loading"]),[[Oo,"Save & Close"]])]),default:N(()=>[x(g),x(_,{hide_save:!0,hide_dist_btn:!0})]),_:1},8,["modelValue","fullscreen"])}}}),nRe={class:"my-5"},rRe={__name:"ProposalCategoryModal",setup(n){const t=Vt(),{SetState:e,ShowSuccess:r}=t,{proposal:o}=Lt(t),{modals:i}=Lt(t),a=s=>o.value.category===s;return(s,l)=>{const u=qi;return le(),Re(u,{max_width:"500px",color:"transparent",hide_close_btn:!0,modelValue:O(i).proposal_category,"onUpdate:modelValue":l[1]||(l[1]=c=>O(i).proposal_category=c),onClose:l[2]||(l[2]=c=>O(Oc)("preview_proposal",!1))},{title:N(()=>[...l[3]||(l[3]=[H("div",{class:"text-center pr-5"}," Select Proposal Type ",-1)])]),content:N(()=>[x(Xn,null,{default:N(()=>[(le(!0),et(ut,null,Wr(O(Nwe),c=>(le(),Re(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(cr,{style:Ue(O(On)),variant:"tonal",onClick:d=>O(o).category=c.value,color:a(c.value)?"info":"",class:"d-flex flex-column align-center"},{default:N(()=>[x(en,{size:"120"},{default:N(()=>[Je(at(c.icon),1)]),_:2},1024),H("p",nRe,at(c.title),1)]),_:2},1032,["style","onClick","color"])]),_:2},1024))),256))]),_:1})]),footer:N(()=>[x(En),x($e,{color:"primary",text:"Continue","append-icon":"mdi-play",style:Ue(O(hn)),onClick:l[0]||(l[0]=c=>O(Oc)("proposal_category",!1))},null,8,["style"]),x(En)]),_:1},8,["modelValue"])}}},oRe={class:"w-100 d-flex align-center"},iRe={__name:"SendProposalModal",setup(n){const t=Vt(),e=Oe([]),r=Oe(!1),o=Oe(!1),i=Oe(""),{SetState:a,ShowSuccess:s}=t,{getAccessTokenSilently:l}=Er(),{email_form:u,proposal:c}=Lt(t),{modals:d,llm_fetching:f,profile:h}=Lt(t),p=async()=>{const S=await l();a({llm_fetching:!0}),a_e(S).then(y=>{const C={...u.value};C.body=y,C.body+=bF.value,a({email_form:C})}).finally(()=>{a({llm_fetching:!1}),f.value=!1})},v=async()=>{const S=await l();a({llm_fetching:!0}),UY(S).then(y=>{const C={...u.value};C.subject=y,a({email_form:C})}).finally(()=>{a({llm_fetching:!1}),f.value=!1})},g=()=>{const S={...u.value};S.to=c.value.email,S.from=h.value.email,S.subject=c.value.title,S.body=bF.value,a({email_form:S})},_=async()=>{r.value=!0;const S=await l(),y=new FormData;y.append("proposal",JSON.stringify(c.value)),y.append("attach_pdf",o.value?1:0),y.append("email_form",JSON.stringify(u.value)),e.value.length&&e.value.forEach((C,T)=>{y.append(`files[${T}]`,C)}),sn(S).post("/proposals/send",y).then(C=>{console.log("SendProposal: ",C.data),s("Proposal has been sent!"),Oc("send_proposal",!1)}).finally(()=>{r.value=!1})};return Kn(()=>{g()}),lt(()=>d.value.send_proposal,S=>{S&&g()}),(S,y)=>{const C=Ky,T=qi;return le(),Re(T,{max_width:"700",color:"transparent",title:"Send Proposal",modelValue:O(d).send_proposal,"onUpdate:modelValue":y[8]||(y[8]=P=>O(d).send_proposal=P),onClose:y[9]||(y[9]=P=>O(Oc)("send_proposal",!1))},{content:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{"hide-details":"",density:"comfortable",label:"To (recipient)",modelValue:O(u).to,"onUpdate:modelValue":y[0]||(y[0]=P=>O(u).to=P),variant:"outlined"},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{"hide-details":"",density:"comfortable",label:"From (sender)",modelValue:O(u).from,"onUpdate:modelValue":y[1]||(y[1]=P=>O(u).from=P),variant:"outlined"},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(Wy,{solo:"",chips:"",multiple:"",clearable:"","hide-details":"",density:"comfortable",label:"CC (optional)",variant:"outlined",modelValue:O(u).cc,"onUpdate:modelValue":y[2]||(y[2]=P=>O(u).cc=P),placeholder:"Press enter to add"},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{"hide-details":"",density:"comfortable",label:"Subject",modelValue:O(u).subject,"onUpdate:modelValue":y[3]||(y[3]=P=>O(u).subject=P),variant:"outlined"},{"append-inner":N(()=>[x($e,{size:"x-small",color:"primary",text:"Generate",variant:"outlined",onClick:v,loading:O(f)},null,8,["loading"])]),_:1},8,["modelValue"])]),_:1})]),_:1}),x(C,{modelValue:O(u).body,"onUpdate:modelValue":y[5]||(y[5]=P=>O(u).body=P),insert:O(i)},{header:N(()=>[x($e,{size:"x-small",color:"primary",text:"Generate",variant:"outlined",onClick:p,loading:O(f)},null,8,["loading"])]),label:N(()=>[H("div",oRe,[y[10]||(y[10]=H("span",{class:"ml-3"},"Email Body",-1)),x(En),x(mr,{"hide-details":"","max-width":"300",density:"compact",variant:"outlined",label:"Shortcodes",items:O(TY),modelValue:O(i),"onUpdate:modelValue":y[4]||(y[4]=P=>Ht(i)?i.value=P:null)},null,8,["items","modelValue"])])]),_:1},8,["modelValue","insert"]),x(FT,{multiple:"",class:"mt-5","prepend-icon":"",variant:"outlined",modelValue:O(e),"onUpdate:modelValue":y[6]||(y[6]=P=>Ht(e)?e.value=P:null),"append-inner-icon":"mdi-tray-arrow-up",label:"Attach files to Email (optional)"},null,8,["modelValue"])]),footer:N(()=>[x(cs,{modelValue:O(o),"onUpdate:modelValue":y[7]||(y[7]=P=>Ht(o)?o.value=P:null),label:"Attach PDF to Email"},null,8,["modelValue"]),x(En),x($e,{width:"150",text:"Send Proposal",color:"primary",loading:O(r),onClick:_,style:Ue(O(hn)),class:"ma-auto d-block"},null,8,["loading","style"])]),_:1},8,["modelValue"])}}};var tx={exports:{}},QI={exports:{}},jI={};/**
* @vue/compiler-core v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ky=Symbol(""),ny=Symbol(""),LT=Symbol(""),d_=Symbol(""),O2=Symbol(""),jh=Symbol(""),P2=Symbol(""),I2=Symbol(""),VT=Symbol(""),NT=Symbol(""),qy=Symbol(""),RT=Symbol(""),M2=Symbol(""),HT=Symbol(""),QT=Symbol(""),jT=Symbol(""),$T=Symbol(""),KT=Symbol(""),WT=Symbol(""),F2=Symbol(""),D2=Symbol(""),iC=Symbol(""),f_=Symbol(""),zT=Symbol(""),GT=Symbol(""),Ty=Symbol(""),e0=Symbol(""),YT=Symbol(""),LB=Symbol(""),CJ=Symbol(""),VB=Symbol(""),A_=Symbol(""),SJ=Symbol(""),xJ=Symbol(""),XT=Symbol(""),EJ=Symbol(""),BJ=Symbol(""),JT=Symbol(""),U2=Symbol(""),Gm={[ky]:"Fragment",[ny]:"Teleport",[LT]:"Suspense",[d_]:"KeepAlive",[O2]:"BaseTransition",[jh]:"openBlock",[P2]:"createBlock",[I2]:"createElementBlock",[VT]:"createVNode",[NT]:"createElementVNode",[qy]:"createCommentVNode",[RT]:"createTextVNode",[M2]:"createStaticVNode",[HT]:"resolveComponent",[QT]:"resolveDynamicComponent",[jT]:"resolveDirective",[$T]:"resolveFilter",[KT]:"withDirectives",[WT]:"renderList",[F2]:"renderSlot",[D2]:"createSlots",[iC]:"toDisplayString",[f_]:"mergeProps",[zT]:"normalizeClass",[GT]:"normalizeStyle",[Ty]:"normalizeProps",[e0]:"guardReactiveProps",[YT]:"toHandlers",[LB]:"camelize",[CJ]:"capitalize",[VB]:"toHandlerKey",[A_]:"setBlockTracking",[SJ]:"pushScopeId",[xJ]:"popScopeId",[XT]:"withCtx",[EJ]:"unref",[BJ]:"isRef",[JT]:"withMemo",[U2]:"isMemoSame"};function kJ(n){Object.getOwnPropertySymbols(n).forEach(t=>{Gm[t]=n[t]})}const aRe={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},sRe={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},lRe={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},uRe={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},ea={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function TJ(n,t=""){return{type:0,source:t,children:n,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:ea}}function Oy(n,t,e,r,o,i,a,s=!1,l=!1,u=!1,c=ea){return n&&(s?(n.helper(jh),n.helper(Jm(n.inSSR,u))):n.helper(Xm(n.inSSR,u)),a&&n.helper(KT)),{type:13,tag:t,props:e,children:r,patchFlag:o,dynamicProps:i,directives:a,isBlock:s,disableTracking:l,isComponent:u,loc:c}}function Th(n,t=ea){return{type:17,loc:t,elements:n}}function iu(n,t=ea){return{type:15,loc:t,properties:n}}function Bi(n,t){return{type:16,loc:ea,key:Yn(n)?er(n,!0):n,value:t}}function er(n,t=!1,e=ea,r=0){return{type:4,loc:e,content:n,isStatic:t,constType:t?3:r}}function cRe(n,t){return{type:5,loc:t,content:Yn(n)?er(n,!1,t):n}}function Wu(n,t=ea){return{type:8,loc:t,children:n}}function Mi(n,t=[],e=ea){return{type:14,loc:e,callee:n,arguments:t}}function Ym(n,t=void 0,e=!1,r=!1,o=ea){return{type:18,params:n,returns:t,newline:e,isSlot:r,loc:o}}function NB(n,t,e,r=!0){return{type:19,test:n,consequent:t,alternate:e,newline:r,loc:ea}}function OJ(n,t,e=!1,r=!1){return{type:20,index:n,value:t,needPauseTracking:e,inVOnce:r,needArraySpread:!1,loc:ea}}function PJ(n){return{type:21,body:n,loc:ea}}function dRe(n){return{type:22,elements:n,loc:ea}}function fRe(n,t,e){return{type:23,test:n,consequent:t,alternate:e,loc:ea}}function ARe(n,t){return{type:24,left:n,right:t,loc:ea}}function hRe(n){return{type:25,expressions:n,loc:ea}}function pRe(n){return{type:26,returns:n,loc:ea}}function Xm(n,t){return n||t?VT:NT}function Jm(n,t){return n||t?P2:I2}function ZT(n,{helper:t,removeHelper:e,inSSR:r}){n.isBlock||(n.isBlock=!0,e(Xm(r,n.isComponent)),t(jh),t(Jm(r,n.isComponent)))}const zj=new Uint8Array([123,123]),Gj=new Uint8Array([125,125]);function Yj(n){return n>=97&&n<=122||n>=65&&n<=90}function Zl(n){return n===32||n===10||n===9||n===12||n===13}function VA(n){return n===47||n===62||Zl(n)}function RB(n){const t=new Uint8Array(n.length);for(let e=0;e<n.length;e++)t[e]=n.charCodeAt(e);return t}const Wa={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};let mRe=class{constructor(t,e){this.stack=t,this.cbs=e,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=zj,this.delimiterClose=Gj,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=zj,this.delimiterClose=Gj}getPos(t){let e=1,r=t+1;const o=this.newlines.length;let i=-1;if(o>100){let a=-1,s=o;for(;a+1<s;){const l=a+s>>>1;this.newlines[l]<t?a=l:s=l}i=a}else for(let a=o-1;a>=0;a--)if(t>this.newlines[a]){i=a;break}return i>=0&&(e=i+2,r=t-this.newlines[i]),{column:r,line:e,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const e=this.index+1-this.delimiterOpen.length;e>this.sectionStart&&this.cbs.ontext(this.sectionStart,e),this.state=3,this.sectionStart=e}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const e=this.sequenceIndex===this.currentSequence.length;if(!(e?VA(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!e){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||Zl(t)){const e=this.index-this.currentSequence.length;if(this.sectionStart<e){const r=this.index;this.index=e,this.cbs.ontext(this.sectionStart,e),this.index=r}this.sectionStart=e+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Wa.TitleEnd||this.currentSequence===Wa.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===Wa.Cdata[this.sequenceIndex]?++this.sequenceIndex===Wa.Cdata.length&&(this.state=28,this.currentSequence=Wa.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);if(e===10&&this.newlines.push(this.index),e===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Wa.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,e){this.enterRCDATA(t,e),this.state=31}enterRCDATA(t,e){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=e}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Yj(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){VA(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(VA(t)){const e=this.buffer.slice(this.sectionStart,this.index);e!=="template"&&this.enterRCDATA(RB("</"+e),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){Zl(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Yj(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||Zl(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Zl(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Zl(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||VA(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||VA(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||VA(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||VA(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||VA(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):Zl(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):Zl(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,e){(t===e||this.fastForwardTo(e))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(e===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){Zl(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=Wa.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===Wa.ScriptEnd[3]?this.startSpecial(Wa.ScriptEnd,4):t===Wa.StyleEnd[3]?this.startSpecial(Wa.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===Wa.TitleEnd[3]?this.startSpecial(Wa.TitleEnd,4):t===Wa.TextareaEnd[3]?this.startSpecial(Wa.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);switch(e===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(e);break}case 2:{this.stateInterpolationOpen(e);break}case 3:{this.stateInterpolation(e);break}case 4:{this.stateInterpolationClose(e);break}case 31:{this.stateSpecialStartSequence(e);break}case 32:{this.stateInRCDATA(e);break}case 26:{this.stateCDATASequence(e);break}case 19:{this.stateInAttrValueDoubleQuotes(e);break}case 12:{this.stateInAttrName(e);break}case 13:{this.stateInDirName(e);break}case 14:{this.stateInDirArg(e);break}case 15:{this.stateInDynamicDirArg(e);break}case 16:{this.stateInDirModifier(e);break}case 28:{this.stateInCommentLike(e);break}case 27:{this.stateInSpecialComment(e);break}case 11:{this.stateBeforeAttrName(e);break}case 6:{this.stateInTagName(e);break}case 34:{this.stateInSFCRootTagName(e);break}case 9:{this.stateInClosingTagName(e);break}case 5:{this.stateBeforeTagName(e);break}case 17:{this.stateAfterAttrName(e);break}case 20:{this.stateInAttrValueSingleQuotes(e);break}case 18:{this.stateBeforeAttrValue(e);break}case 8:{this.stateBeforeClosingTagName(e);break}case 10:{this.stateAfterClosingTagName(e);break}case 29:{this.stateBeforeSpecialS(e);break}case 30:{this.stateBeforeSpecialT(e);break}case 21:{this.stateInAttrValueNoQuotes(e);break}case 7:{this.stateInSelfClosingTag(e);break}case 23:{this.stateInDeclaration(e);break}case 22:{this.stateBeforeDeclaration(e);break}case 25:{this.stateBeforeComment(e);break}case 24:{this.stateInProcessingInstruction(e);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===Wa.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,e){}};const vRe={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},gRe={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:n=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${n}.sync\` should be changed to \`v-model:${n}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function nU(n,{compatConfig:t}){const e=t&&t[n];return n==="MODE"?e||3:e}function _m(n,t){const e=nU("MODE",t),r=nU(n,t);return e===3?r===!0:r!==!1}function Py(n,t,e,...r){return _m(n,t)}function yRe(n,t,e,...r){if(nU(n,t)==="suppress-warning")return;const{message:i,link:a}=gRe[n],s=`(deprecation ${n}) ${typeof i=="function"?i(...r):i}${a?`
  Details: ${a}`:""}`,l=new SyntaxError(s);l.code=n,e&&(l.loc=e),t.onWarn(l)}function L2(n){throw n}function IJ(n){}function wo(n,t,e,r){const o=`https://vuejs.org/error-reference/#compiler-${n}`,i=new SyntaxError(String(o));return i.code=n,i.loc=t,i}const bRe={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_V_MODEL_ON_CONST:45,45:"X_V_MODEL_ON_CONST",X_INVALID_EXPRESSION:46,46:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:47,47:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:48,48:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:49,49:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:50,50:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:51,51:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:52,52:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:53,53:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:54,54:"__EXTEND_POINT__"},wRe={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",53:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"v-model cannot be used on a const binding because it is not writable.",46:"Error parsing JavaScript expression: ",47:"<KeepAlive> expects exactly one child component.",52:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",48:'"prefixIdentifiers" option is not supported in this build of compiler.',49:"ES module mode is not supported in this build of compiler.",50:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',51:'"scopeId" option is only supported in module mode.',54:""};function _Re(n,t,e=!1,r=[],o=Object.create(null)){}function CRe(n,t,e){return!1}function SRe(n,t){if(n&&(n.type==="ObjectProperty"||n.type==="ArrayPattern")){let e=t.length;for(;e--;){const r=t[e];if(r.type==="AssignmentExpression")return!0;if(r.type!=="ObjectProperty"&&!r.type.endsWith("Pattern"))break}}return!1}function xRe(n){let t=n.length;for(;t--;){const e=n[t];if(e.type==="NewExpression")return!0;if(e.type!=="MemberExpression")break}return!1}function ERe(n,t){for(const e of n.params)for(const r of _d(e))t(r)}function MJ(n,t){const e=n.type==="SwitchCase"?n.consequent:n.body;for(const r of e)if(r.type==="VariableDeclaration"){if(r.declare)continue;for(const o of r.declarations)for(const i of _d(o.id))t(i)}else if(r.type==="FunctionDeclaration"||r.type==="ClassDeclaration"){if(r.declare||!r.id)continue;t(r.id)}else BRe(r)?kRe(r,!0,t):r.type==="SwitchStatement"&&TRe(r,!0,t)}function BRe(n){return n.type==="ForOfStatement"||n.type==="ForInStatement"||n.type==="ForStatement"}function kRe(n,t,e){const r=n.type==="ForStatement"?n.init:n.left;if(r&&r.type==="VariableDeclaration"&&(r.kind==="var"?t:!t))for(const o of r.declarations)for(const i of _d(o.id))e(i)}function TRe(n,t,e){for(const r of n.cases){for(const o of r.consequent)if(o.type==="VariableDeclaration"&&(o.kind==="var"?t:!t))for(const i of o.declarations)for(const a of _d(i.id))e(a);MJ(r,e)}}function _d(n,t=[]){switch(n.type){case"Identifier":t.push(n);break;case"MemberExpression":let e=n;for(;e.type==="MemberExpression";)e=e.object;t.push(e);break;case"ObjectPattern":for(const r of n.properties)r.type==="RestElement"?_d(r.argument,t):_d(r.value,t);break;case"ArrayPattern":n.elements.forEach(r=>{r&&_d(r,t)});break;case"RestElement":_d(n.argument,t);break;case"AssignmentPattern":_d(n.left,t);break}return t}const ORe=n=>/Function(?:Expression|Declaration)$|Method$/.test(n.type),FJ=n=>n&&(n.type==="ObjectProperty"||n.type==="ObjectMethod")&&!n.computed,PRe=(n,t)=>FJ(t)&&t.key===n,DJ=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function UJ(n){return DJ.includes(n.type)?UJ(n.expression):n}const Ws=n=>n.type===4&&n.isStatic;function V2(n){switch(n){case"Teleport":case"teleport":return ny;case"Suspense":case"suspense":return LT;case"KeepAlive":case"keep-alive":return d_;case"BaseTransition":case"base-transition":return O2}}const IRe=/^$|^\d|[^\$\w\xA0-\uFFFF]/,aC=n=>!IRe.test(n),N2=/[A-Za-z_$\xA0-\uFFFF]/,MRe=/[\.\?\w$\xA0-\uFFFF]/,FRe=/\s+[.[]\s*|\s*[.[]\s+/g,LJ=n=>n.type===4?n.content:n.loc.source,VJ=n=>{const t=LJ(n).trim().replace(FRe,s=>s.trim());let e=0,r=[],o=0,i=0,a=null;for(let s=0;s<t.length;s++){const l=t.charAt(s);switch(e){case 0:if(l==="[")r.push(e),e=1,o++;else if(l==="(")r.push(e),e=2,i++;else if(!(s===0?N2:MRe).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(r.push(e),e=3,a=l):l==="["?o++:l==="]"&&(--o||(e=r.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")r.push(e),e=3,a=l;else if(l==="(")i++;else if(l===")"){if(s===t.length-1)return!1;--i||(e=r.pop())}break;case 3:l===a&&(e=r.pop(),a=null);break}}return!o&&!i},DRe=pa,R2=VJ,URe=/^\s*(?:async\s*)?(?:\([^)]*?\)|[\w$_]+)\s*(?::[^=]+)?=>|^\s*(?:async\s+)?function(?:\s+[\w$]+)?\s*\(/,NJ=n=>URe.test(LJ(n)),LRe=pa,RJ=NJ;function VRe(n,t,e=t.length){return HJ({offset:n.offset,line:n.line,column:n.column},t,e)}function HJ(n,t,e=t.length){let r=0,o=-1;for(let i=0;i<e;i++)t.charCodeAt(i)===10&&(r++,o=i);return n.offset+=e,n.line+=r,n.column=o===-1?n.column+e:e-o,n}function NRe(n,t){if(!n)throw new Error(t||"unexpected compiler condition")}function $s(n,t,e=!1){for(let r=0;r<n.props.length;r++){const o=n.props[r];if(o.type===7&&(e||o.exp)&&(Yn(t)?o.name===t:t.test(o.name)))return o}}function sC(n,t,e=!1,r=!1){for(let o=0;o<n.props.length;o++){const i=n.props[o];if(i.type===6){if(e)continue;if(i.name===t&&(i.value||r))return i}else if(i.name==="bind"&&(i.exp||r)&&Ah(i.arg,t))return i}}function Ah(n,t){return!!(n&&Ws(n)&&n.content===t)}function QJ(n){return n.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function nx(n){return n.type===5||n.type===2}function rU(n){return n.type===7&&n.name==="pre"}function H2(n){return n.type===7&&n.name==="slot"}function Iy(n){return n.type===1&&n.tagType===3}function h_(n){return n.type===1&&n.tagType===2}const RRe=new Set([Ty,e0]);function jJ(n,t=[]){if(n&&!Yn(n)&&n.type===14){const e=n.callee;if(!Yn(e)&&RRe.has(e))return jJ(n.arguments[0],t.concat(n))}return[n,t]}function p_(n,t,e){let r,o=n.type===13?n.props:n.arguments[2],i=[],a;if(o&&!Yn(o)&&o.type===14){const s=jJ(o);o=s[0],i=s[1],a=i[i.length-1]}if(o==null||Yn(o))r=iu([t]);else if(o.type===14){const s=o.arguments[0];!Yn(s)&&s.type===15?Xj(t,s)||s.properties.unshift(t):o.callee===YT?r=Mi(e.helper(f_),[iu([t]),o]):o.arguments.unshift(iu([t])),!r&&(r=o)}else o.type===15?(Xj(t,o)||o.properties.unshift(t),r=o):(r=Mi(e.helper(f_),[iu([t]),o]),a&&a.callee===e0&&(a=i[i.length-2]));n.type===13?a?a.arguments[0]=r:n.props=r:a?a.arguments[0]=r:n.arguments[2]=r}function Xj(n,t){let e=!1;if(n.key.type===4){const r=n.key.content;e=t.properties.some(o=>o.key.type===4&&o.key.content===r)}return e}function My(n,t){return`_${t}_${n.replace(/[^\w]/g,(e,r)=>e==="-"?"_":n.charCodeAt(r).toString())}`}function yc(n,t){if(!n||Object.keys(t).length===0)return!1;switch(n.type){case 1:for(let e=0;e<n.props.length;e++){const r=n.props[e];if(r.type===7&&(yc(r.arg,t)||yc(r.exp,t)))return!0}return n.children.some(e=>yc(e,t));case 11:return yc(n.source,t)?!0:n.children.some(e=>yc(e,t));case 9:return n.branches.some(e=>yc(e,t));case 10:return yc(n.condition,t)?!0:n.children.some(e=>yc(e,t));case 4:return!n.isStatic&&aC(n.content)&&!!t[n.content];case 8:return n.children.some(e=>Qr(e)&&yc(e,t));case 5:case 12:return yc(n.content,t);case 2:case 3:case 20:return!1;default:return!1}}function $J(n){return n.type===14&&n.callee===JT?n.arguments[1].returns:n}const KJ=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/;function Q2(n){for(let t=0;t<n.length;t++)if(!Zl(n.charCodeAt(t)))return!1;return!0}function qT(n){return n.type===2&&Q2(n.content)||n.type===12&&qT(n.content)}function j2(n){return n.type===3||qT(n)}const WJ={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Hp,isPreTag:Hp,isIgnoreNewlineTag:Hp,isCustomElement:Hp,onError:L2,onWarn:IJ,comments:!1,prefixIdentifiers:!1};let Kr=WJ,m_=null,Xf="",Za=null,wr=null,pl="",Sf=-1,Op=-1,$2=0,eh=!1,oU=null;const No=[],di=new mRe(No,{onerr:bf,ontext(n,t){X1(Ba(n,t),n,t)},ontextentity(n,t,e){X1(n,t,e)},oninterpolation(n,t){if(eh)return X1(Ba(n,t),n,t);let e=n+di.delimiterOpen.length,r=t-di.delimiterClose.length;for(;Zl(Xf.charCodeAt(e));)e++;for(;Zl(Xf.charCodeAt(r-1));)r--;let o=Ba(e,r);o.includes("&")&&(o=Kr.decodeEntities(o,!1)),iU({type:5,content:ox(o,!1,_i(e,r)),loc:_i(n,t)})},onopentagname(n,t){const e=Ba(n,t);Za={type:1,tag:e,ns:Kr.getNamespace(e,No[0],Kr.ns),tagType:0,props:[],children:[],loc:_i(n-1,t),codegenNode:void 0}},onopentagend(n){Zj(n)},onclosetag(n,t){const e=Ba(n,t);if(!Kr.isVoidTag(e)){let r=!1;for(let o=0;o<No.length;o++)if(No[o].tag.toLowerCase()===e.toLowerCase()){r=!0,o>0&&bf(24,No[0].loc.start.offset);for(let a=0;a<=o;a++){const s=No.shift();rx(s,t,a<o)}break}r||bf(23,zJ(n,60))}},onselfclosingtag(n){const t=Za.tag;Za.isSelfClosing=!0,Zj(n),No[0]&&No[0].tag===t&&rx(No.shift(),n)},onattribname(n,t){wr={type:6,name:Ba(n,t),nameLoc:_i(n,t),value:void 0,loc:_i(n)}},ondirname(n,t){const e=Ba(n,t),r=e==="."||e===":"?"bind":e==="@"?"on":e==="#"?"slot":e.slice(2);if(!eh&&r===""&&bf(26,n),eh||r==="")wr={type:6,name:e,nameLoc:_i(n,t),value:void 0,loc:_i(n)};else if(wr={type:7,name:r,rawName:e,exp:void 0,arg:void 0,modifiers:e==="."?[er("prop")]:[],loc:_i(n)},r==="pre"){eh=di.inVPre=!0,oU=Za;const o=Za.props;for(let i=0;i<o.length;i++)o[i].type===7&&(o[i]=XRe(o[i]))}},ondirarg(n,t){if(n===t)return;const e=Ba(n,t);if(eh&&!rU(wr))wr.name+=e,qp(wr.nameLoc,t);else{const r=e[0]!=="[";wr.arg=ox(r?e:e.slice(1,-1),r,_i(n,t),r?3:0)}},ondirmodifier(n,t){const e=Ba(n,t);if(eh&&!rU(wr))wr.name+="."+e,qp(wr.nameLoc,t);else if(wr.name==="slot"){const r=wr.arg;r&&(r.content+="."+e,qp(r.loc,t))}else{const r=er(e,!0,_i(n,t));wr.modifiers.push(r)}},onattribdata(n,t){pl+=Ba(n,t),Sf<0&&(Sf=n),Op=t},onattribentity(n,t,e){pl+=n,Sf<0&&(Sf=t),Op=e},onattribnameend(n){const t=wr.loc.start.offset,e=Ba(t,n);wr.type===7&&(wr.rawName=e),Za.props.some(r=>(r.type===7?r.rawName:r.name)===e)&&bf(2,t)},onattribend(n,t){if(Za&&wr){if(qp(wr.loc,t),n!==0)if(pl.includes("&")&&(pl=Kr.decodeEntities(pl,!0)),wr.type===6)wr.name==="class"&&(pl=YJ(pl).trim()),n===1&&!pl&&bf(13,t),wr.value={type:2,content:pl,loc:n===1?_i(Sf,Op):_i(Sf-1,Op+1)},di.inSFCRoot&&Za.tag==="template"&&wr.name==="lang"&&pl&&pl!=="html"&&di.enterRCDATA(RB("</template"),0);else{let e=0;wr.exp=ox(pl,!1,_i(Sf,Op),0,e),wr.name==="for"&&(wr.forParseResult=QRe(wr.exp));let r=-1;wr.name==="bind"&&(r=wr.modifiers.findIndex(o=>o.content==="sync"))>-1&&Py("COMPILER_V_BIND_SYNC",Kr,wr.loc,wr.arg.loc.source)&&(wr.name="model",wr.modifiers.splice(r,1))}(wr.type!==7||wr.name!=="pre")&&Za.props.push(wr)}pl="",Sf=Op=-1},oncomment(n,t){Kr.comments&&iU({type:3,content:Ba(n,t),loc:_i(n-4,t+3)})},onend(){const n=Xf.length;for(let t=0;t<No.length;t++)rx(No[t],n-1),bf(24,No[t].loc.start.offset)},oncdata(n,t){No[0].ns!==0?X1(Ba(n,t),n,t):bf(1,n-9)},onprocessinginstruction(n){(No[0]?No[0].ns:Kr.ns)===0&&bf(21,n-1)}}),Jj=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,HRe=/^\(|\)$/g;function QRe(n){const t=n.loc,e=n.content,r=e.match(KJ);if(!r)return;const[,o,i]=r,a=(d,f,h=!1)=>{const p=t.start.offset+f,v=p+d.length;return ox(d,!1,_i(p,v),0,h?1:0)},s={source:a(i.trim(),e.indexOf(i,o.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=o.trim().replace(HRe,"").trim();const u=o.indexOf(l),c=l.match(Jj);if(c){l=l.replace(Jj,"").trim();const d=c[1].trim();let f;if(d&&(f=e.indexOf(d,u+l.length),s.key=a(d,f,!0)),c[2]){const h=c[2].trim();h&&(s.index=a(h,e.indexOf(h,s.key?f+d.length:u+l.length),!0))}}return l&&(s.value=a(l,u,!0)),s}function Ba(n,t){return Xf.slice(n,t)}function Zj(n){di.inSFCRoot&&(Za.innerLoc=_i(n+1,n+1)),iU(Za);const{tag:t,ns:e}=Za;e===0&&Kr.isPreTag(t)&&$2++,Kr.isVoidTag(t)?rx(Za,n):(No.unshift(Za),(e===1||e===2)&&(di.inXML=!0)),Za=null}function X1(n,t,e){{const i=No[0]&&No[0].tag;i!=="script"&&i!=="style"&&n.includes("&")&&(n=Kr.decodeEntities(n,!1))}const r=No[0]||m_,o=r.children[r.children.length-1];o&&o.type===2?(o.content+=n,qp(o.loc,e)):r.children.push({type:2,content:n,loc:_i(t,e)})}function rx(n,t,e=!1){e?qp(n.loc,zJ(t,60)):qp(n.loc,jRe(t,62)+1),di.inSFCRoot&&(n.children.length?n.innerLoc.end=hr({},n.children[n.children.length-1].loc.end):n.innerLoc.end=hr({},n.innerLoc.start),n.innerLoc.source=Ba(n.innerLoc.start.offset,n.innerLoc.end.offset));const{tag:r,ns:o,children:i}=n;if(eh||(r==="slot"?n.tagType=2:qj(n)?n.tagType=3:KRe(n)&&(n.tagType=1)),di.inRCDATA||(n.children=GJ(i)),o===0&&Kr.isIgnoreNewlineTag(r)){const a=i[0];a&&a.type===2&&(a.content=a.content.replace(/^\r?\n/,""))}o===0&&Kr.isPreTag(r)&&$2--,oU===n&&(eh=di.inVPre=!1,oU=null),di.inXML&&(No[0]?No[0].ns:Kr.ns)===0&&(di.inXML=!1);{const a=n.props;if(!di.inSFCRoot&&_m("COMPILER_NATIVE_TEMPLATE",Kr)&&n.tag==="template"&&!qj(n)){const l=No[0]||m_,u=l.children.indexOf(n);l.children.splice(u,1,...n.children)}const s=a.find(l=>l.type===6&&l.name==="inline-template");s&&Py("COMPILER_INLINE_TEMPLATE",Kr,s.loc)&&n.children.length&&(s.value={type:2,content:Ba(n.children[0].loc.start.offset,n.children[n.children.length-1].loc.end.offset),loc:s.loc})}}function jRe(n,t){let e=n;for(;Xf.charCodeAt(e)!==t&&e<Xf.length-1;)e++;return e}function zJ(n,t){let e=n;for(;Xf.charCodeAt(e)!==t&&e>=0;)e--;return e}const $Re=new Set(["if","else","else-if","for","slot"]);function qj({tag:n,props:t}){if(n==="template"){for(let e=0;e<t.length;e++)if(t[e].type===7&&$Re.has(t[e].name))return!0}return!1}function KRe({tag:n,props:t}){if(Kr.isCustomElement(n))return!1;if(n==="component"||WRe(n.charCodeAt(0))||V2(n)||Kr.isBuiltInComponent&&Kr.isBuiltInComponent(n)||Kr.isNativeTag&&!Kr.isNativeTag(n))return!0;for(let e=0;e<t.length;e++){const r=t[e];if(r.type===6){if(r.name==="is"&&r.value){if(r.value.content.startsWith("vue:"))return!0;if(Py("COMPILER_IS_ON_ELEMENT",Kr,r.loc))return!0}}else if(r.name==="bind"&&Ah(r.arg,"is")&&Py("COMPILER_IS_ON_ELEMENT",Kr,r.loc))return!0}return!1}function WRe(n){return n>64&&n<91}const zRe=/\r\n/g;function GJ(n){const t=Kr.whitespace!=="preserve";let e=!1;for(let r=0;r<n.length;r++){const o=n[r];if(o.type===2)if($2)o.content=o.content.replace(zRe,`
`);else if(Q2(o.content)){const i=n[r-1]&&n[r-1].type,a=n[r+1]&&n[r+1].type;!i||!a||t&&(i===3&&(a===3||a===1)||i===1&&(a===3||a===1&&GRe(o.content)))?(e=!0,n[r]=null):o.content=" "}else t&&(o.content=YJ(o.content))}return e?n.filter(Boolean):n}function GRe(n){for(let t=0;t<n.length;t++){const e=n.charCodeAt(t);if(e===10||e===13)return!0}return!1}function YJ(n){let t="",e=!1;for(let r=0;r<n.length;r++)Zl(n.charCodeAt(r))?e||(t+=" ",e=!0):(t+=n[r],e=!1);return t}function iU(n){(No[0]||m_).children.push(n)}function _i(n,t){return{start:di.getPos(n),end:t==null?t:di.getPos(t),source:t==null?t:Ba(n,t)}}function YRe(n){return _i(n.start.offset,n.end.offset)}function qp(n,t){n.end=di.getPos(t),n.source=Ba(n.start.offset,t)}function XRe(n){const t={type:6,name:n.rawName,nameLoc:_i(n.loc.start.offset,n.loc.start.offset+n.rawName.length),value:void 0,loc:n.loc};if(n.exp){const e=n.exp.loc;e.end.offset<n.loc.end.offset&&(e.start.offset--,e.start.column--,e.end.offset++,e.end.column++),t.value={type:2,content:n.exp.content,loc:e}}return t}function ox(n,t=!1,e,r=0,o=0){return er(n,t,e,r)}function bf(n,t,e){Kr.onError(wo(n,_i(t,t)))}function JRe(){di.reset(),Za=null,wr=null,pl="",Sf=-1,Op=-1,No.length=0}function K2(n,t){if(JRe(),Xf=n,Kr=hr({},WJ),t){let o;for(o in t)t[o]!=null&&(Kr[o]=t[o])}di.mode=Kr.parseMode==="html"?1:Kr.parseMode==="sfc"?2:0,di.inXML=Kr.ns===1||Kr.ns===2;const e=t&&t.delimiters;e&&(di.delimiterOpen=RB(e[0]),di.delimiterClose=RB(e[1]));const r=m_=TJ([],n);return di.parse(Xf),r.loc=_i(0,n.length),r.children=GJ(r.children),m_=null,r}function ZRe(n,t){ix(n,void 0,t,!!XJ(n))}function XJ(n){const t=n.children.filter(e=>e.type!==3);return t.length===1&&t[0].type===1&&!h_(t[0])?t[0]:null}function ix(n,t,e,r=!1,o=!1){const{children:i}=n,a=[];for(let c=0;c<i.length;c++){const d=i[c];if(d.type===1&&d.tagType===0){const f=r?0:kl(d,e);if(f>0){if(f>=2){d.codegenNode.patchFlag=-1,a.push(d);continue}}else{const h=d.codegenNode;if(h.type===13){const p=h.patchFlag;if((p===void 0||p===512||p===1)&&ZJ(d,e)>=2){const v=qJ(d);v&&(h.props=e.hoist(v))}h.dynamicProps&&(h.dynamicProps=e.hoist(h.dynamicProps))}}}else if(d.type===12&&(r?0:kl(d,e))>=2){d.codegenNode.type===14&&d.codegenNode.arguments.length>0&&d.codegenNode.arguments.push("-1"),a.push(d);continue}if(d.type===1){const f=d.tagType===1;f&&e.scopes.vSlot++,ix(d,n,e,!1,o),f&&e.scopes.vSlot--}else if(d.type===11)ix(d,n,e,d.children.length===1,!0);else if(d.type===9)for(let f=0;f<d.branches.length;f++)ix(d.branches[f],n,e,d.branches[f].children.length===1,o)}let s=!1;if(a.length===i.length&&n.type===1){if(n.tagType===0&&n.codegenNode&&n.codegenNode.type===13&&dn(n.codegenNode.children))n.codegenNode.children=l(Th(n.codegenNode.children)),s=!0;else if(n.tagType===1&&n.codegenNode&&n.codegenNode.type===13&&n.codegenNode.children&&!dn(n.codegenNode.children)&&n.codegenNode.children.type===15){const c=u(n.codegenNode,"default");c&&(c.returns=l(Th(c.returns)),s=!0)}else if(n.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!dn(t.codegenNode.children)&&t.codegenNode.children.type===15){const c=$s(n,"slot",!0),d=c&&c.arg&&u(t.codegenNode,c.arg);d&&(d.returns=l(Th(d.returns)),s=!0)}}if(!s)for(const c of a)c.codegenNode=e.cache(c.codegenNode);function l(c){const d=e.cache(c);return d.needArraySpread=!0,d}function u(c,d){if(c.children&&!dn(c.children)&&c.children.type===15){const f=c.children.properties.find(h=>h.key===d||h.key.content===d);return f&&f.value}}a.length&&e.transformHoist&&e.transformHoist(i,e,n)}function kl(n,t){const{constantCache:e}=t;switch(n.type){case 1:if(n.tagType!==0)return 0;const r=e.get(n);if(r!==void 0)return r;const o=n.codegenNode;if(o.type!==13||o.isBlock&&n.tag!=="svg"&&n.tag!=="foreignObject"&&n.tag!=="math")return 0;if(o.patchFlag===void 0){let a=3;const s=ZJ(n,t);if(s===0)return e.set(n,0),0;s<a&&(a=s);for(let l=0;l<n.children.length;l++){const u=kl(n.children[l],t);if(u===0)return e.set(n,0),0;u<a&&(a=u)}if(a>1)for(let l=0;l<n.props.length;l++){const u=n.props[l];if(u.type===7&&u.name==="bind"&&u.exp){const c=kl(u.exp,t);if(c===0)return e.set(n,0),0;c<a&&(a=c)}}if(o.isBlock){for(let l=0;l<n.props.length;l++)if(n.props[l].type===7)return e.set(n,0),0;t.removeHelper(jh),t.removeHelper(Jm(t.inSSR,o.isComponent)),o.isBlock=!1,t.helper(Xm(t.inSSR,o.isComponent))}return e.set(n,a),a}else return e.set(n,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return kl(n.content,t);case 4:return n.constType;case 8:let i=3;for(let a=0;a<n.children.length;a++){const s=n.children[a];if(Yn(s)||Gs(s))continue;const l=kl(s,t);if(l===0)return 0;l<i&&(i=l)}return i;case 20:return 2;default:return 0}}const qRe=new Set([zT,GT,Ty,e0]);function JJ(n,t){if(n.type===14&&!Yn(n.callee)&&qRe.has(n.callee)){const e=n.arguments[0];if(e.type===4)return kl(e,t);if(e.type===14)return JJ(e,t)}return 0}function ZJ(n,t){let e=3;const r=qJ(n);if(r&&r.type===15){const{properties:o}=r;for(let i=0;i<o.length;i++){const{key:a,value:s}=o[i],l=kl(a,t);if(l===0)return l;l<e&&(e=l);let u;if(s.type===4?u=kl(s,t):s.type===14?u=JJ(s,t):u=0,u===0)return u;u<e&&(e=u)}}return e}function qJ(n){const t=n.codegenNode;if(t.type===13)return t.props}function eZ(n,{filename:t="",prefixIdentifiers:e=!1,hoistStatic:r=!1,hmr:o=!1,cacheHandlers:i=!1,nodeTransforms:a=[],directiveTransforms:s={},transformHoist:l=null,isBuiltInComponent:u=pa,isCustomElement:c=pa,expressionPlugins:d=[],scopeId:f=null,slotted:h=!0,ssr:p=!1,inSSR:v=!1,ssrCssVars:g="",bindingMetadata:_=yr,inline:S=!1,isTS:y=!1,onError:C=L2,onWarn:T=IJ,compatConfig:P}){const F=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),I={filename:t,selfName:F&&Dl(to(F[1])),prefixIdentifiers:e,hoistStatic:r,hmr:o,cacheHandlers:i,nodeTransforms:a,directiveTransforms:s,transformHoist:l,isBuiltInComponent:u,isCustomElement:c,expressionPlugins:d,scopeId:f,slotted:h,ssr:p,inSSR:v,ssrCssVars:g,bindingMetadata:_,inline:S,isTS:y,onError:C,onWarn:T,compatConfig:P,root:n,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:n,childIndex:0,inVOnce:!1,helper(k){const M=I.helpers.get(k)||0;return I.helpers.set(k,M+1),k},removeHelper(k){const M=I.helpers.get(k);if(M){const V=M-1;V?I.helpers.set(k,V):I.helpers.delete(k)}},helperString(k){return`_${Gm[I.helper(k)]}`},replaceNode(k){I.parent.children[I.childIndex]=I.currentNode=k},removeNode(k){const M=I.parent.children,V=k?M.indexOf(k):I.currentNode?I.childIndex:-1;!k||k===I.currentNode?(I.currentNode=null,I.onNodeRemoved()):I.childIndex>V&&(I.childIndex--,I.onNodeRemoved()),I.parent.children.splice(V,1)},onNodeRemoved:pa,addIdentifiers(k){},removeIdentifiers(k){},hoist(k){Yn(k)&&(k=er(k)),I.hoists.push(k);const M=er(`_hoisted_${I.hoists.length}`,!1,k.loc,2);return M.hoisted=k,M},cache(k,M=!1,V=!1){const U=OJ(I.cached.length,k,M,V);return I.cached.push(U),U}};return I.filters=new Set,I}function tZ(n,t){const e=eZ(n,t);lC(n,e),t.hoistStatic&&ZRe(n,e),t.ssr||eHe(n,e),n.helpers=new Set([...e.helpers.keys()]),n.components=[...e.components],n.directives=[...e.directives],n.imports=e.imports,n.hoists=e.hoists,n.temps=e.temps,n.cached=e.cached,n.transformed=!0,n.filters=[...e.filters]}function eHe(n,t){const{helper:e}=t,{children:r}=n;if(r.length===1){const o=XJ(n);if(o&&o.codegenNode){const i=o.codegenNode;i.type===13&&ZT(i,t),n.codegenNode=i}else n.codegenNode=r[0]}else if(r.length>1){let o=64;n.codegenNode=Oy(t,e(ky),void 0,n.children,o,void 0,void 0,!0,void 0,!1)}}function tHe(n,t){let e=0;const r=()=>{e--};for(;e<n.children.length;e++){const o=n.children[e];Yn(o)||(t.grandParent=t.parent,t.parent=n,t.childIndex=e,t.onNodeRemoved=r,lC(o,t))}}function lC(n,t){t.currentNode=n;const{nodeTransforms:e}=t,r=[];for(let i=0;i<e.length;i++){const a=e[i](n,t);if(a&&(dn(a)?r.push(...a):r.push(a)),t.currentNode)n=t.currentNode;else return}switch(n.type){case 3:t.ssr||t.helper(qy);break;case 5:t.ssr||t.helper(iC);break;case 9:for(let i=0;i<n.branches.length;i++)lC(n.branches[i],t);break;case 10:case 11:case 1:case 0:tHe(n,t);break}t.currentNode=n;let o=r.length;for(;o--;)r[o]()}function W2(n,t){const e=Yn(n)?r=>r===n:r=>n.test(r);return(r,o)=>{if(r.type===1){const{props:i}=r;if(r.tagType===3&&i.some(H2))return;const a=[];for(let s=0;s<i.length;s++){const l=i[s];if(l.type===7&&e(l.name)){i.splice(s,1),s--;const u=t(r,l,o);u&&a.push(u)}}return a}}}const eO="/*@__PURE__*/",nZ=n=>`${Gm[n]}: _${Gm[n]}`;function nHe(n,{mode:t="function",prefixIdentifiers:e=t==="module",sourceMap:r=!1,filename:o="template.vue.html",scopeId:i=null,optimizeImports:a=!1,runtimeGlobalName:s="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:c=!1,isTS:d=!1,inSSR:f=!1}){const h={mode:t,prefixIdentifiers:e,sourceMap:r,filename:o,scopeId:i,optimizeImports:a,runtimeGlobalName:s,runtimeModuleName:l,ssrRuntimeModuleName:u,ssr:c,isTS:d,inSSR:f,source:n.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(v){return`_${Gm[v]}`},push(v,g=-2,_){h.code+=v},indent(){p(++h.indentLevel)},deindent(v=!1){v?--h.indentLevel:p(--h.indentLevel)},newline(){p(h.indentLevel)}};function p(v){h.push(`
`+"  ".repeat(v),0)}return h}function rZ(n,t={}){const e=nHe(n,t);t.onContextCreated&&t.onContextCreated(e);const{mode:r,push:o,prefixIdentifiers:i,indent:a,deindent:s,newline:l,scopeId:u,ssr:c}=e,d=Array.from(n.helpers),f=d.length>0,h=!i&&r!=="module";rHe(n,e);const v=c?"ssrRender":"render",_=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(o(`function ${v}(${_}) {`),a(),h&&(o("with (_ctx) {"),a(),f&&(o(`const { ${d.map(nZ).join(", ")} } = _Vue
`,-1),l())),n.components.length&&($I(n.components,"component",e),(n.directives.length||n.temps>0)&&l()),n.directives.length&&($I(n.directives,"directive",e),n.temps>0&&l()),n.filters&&n.filters.length&&(l(),$I(n.filters,"filter",e),l()),n.temps>0){o("let ");for(let S=0;S<n.temps;S++)o(`${S>0?", ":""}_temp${S}`)}return(n.components.length||n.directives.length||n.temps)&&(o(`
`,0),l()),c||o("return "),n.codegenNode?us(n.codegenNode,e):o("null"),h&&(s(),o("}")),s(),o("}"),{ast:n,code:e.code,preamble:"",map:e.map?e.map.toJSON():void 0}}function rHe(n,t){const{ssr:e,prefixIdentifiers:r,push:o,newline:i,runtimeModuleName:a,runtimeGlobalName:s,ssrRuntimeModuleName:l}=t,u=s,c=Array.from(n.helpers);if(c.length>0&&(o(`const _Vue = ${u}
`,-1),n.hoists.length)){const d=[VT,NT,qy,RT,M2].filter(f=>c.includes(f)).map(nZ).join(", ");o(`const { ${d} } = _Vue
`,-1)}oHe(n.hoists,t),i(),o("return ")}function $I(n,t,{helper:e,push:r,newline:o,isTS:i}){const a=e(t==="filter"?$T:t==="component"?HT:jT);for(let s=0;s<n.length;s++){let l=n[s];const u=l.endsWith("__self");u&&(l=l.slice(0,-6)),r(`const ${My(l,t)} = ${a}(${JSON.stringify(l)}${u?", true":""})${i?"!":""}`),s<n.length-1&&o()}}function oHe(n,t){if(!n.length)return;t.pure=!0;const{push:e,newline:r}=t;r();for(let o=0;o<n.length;o++){const i=n[o];i&&(e(`const _hoisted_${o+1} = `),us(i,t),r())}t.pure=!1}function z2(n,t){const e=n.length>3||!1;t.push("["),e&&t.indent(),uC(n,t,e),e&&t.deindent(),t.push("]")}function uC(n,t,e=!1,r=!0){const{push:o,newline:i}=t;for(let a=0;a<n.length;a++){const s=n[a];Yn(s)?o(s,-3):dn(s)?z2(s,t):us(s,t),a<n.length-1&&(e?(r&&o(","),i()):r&&o(", "))}}function us(n,t){if(Yn(n)){t.push(n,-3);return}if(Gs(n)){t.push(t.helper(n));return}switch(n.type){case 1:case 9:case 11:us(n.codegenNode,t);break;case 2:iHe(n,t);break;case 4:oZ(n,t);break;case 5:aHe(n,t);break;case 12:us(n.codegenNode,t);break;case 8:iZ(n,t);break;case 3:lHe(n,t);break;case 13:uHe(n,t);break;case 14:dHe(n,t);break;case 15:fHe(n,t);break;case 17:AHe(n,t);break;case 18:hHe(n,t);break;case 19:pHe(n,t);break;case 20:mHe(n,t);break;case 21:uC(n.body,t,!0,!1);break}}function iHe(n,t){t.push(JSON.stringify(n.content),-3,n)}function oZ(n,t){const{content:e,isStatic:r}=n;t.push(r?JSON.stringify(e):e,-3,n)}function aHe(n,t){const{push:e,helper:r,pure:o}=t;o&&e(eO),e(`${r(iC)}(`),us(n.content,t),e(")")}function iZ(n,t){for(let e=0;e<n.children.length;e++){const r=n.children[e];Yn(r)?t.push(r,-3):us(r,t)}}function sHe(n,t){const{push:e}=t;if(n.type===8)e("["),iZ(n,t),e("]");else if(n.isStatic){const r=aC(n.content)?n.content:JSON.stringify(n.content);e(r,-2,n)}else e(`[${n.content}]`,-3,n)}function lHe(n,t){const{push:e,helper:r,pure:o}=t;o&&e(eO),e(`${r(qy)}(${JSON.stringify(n.content)})`,-3,n)}function uHe(n,t){const{push:e,helper:r,pure:o}=t,{tag:i,props:a,children:s,patchFlag:l,dynamicProps:u,directives:c,isBlock:d,disableTracking:f,isComponent:h}=n;let p;l&&(p=String(l)),c&&e(r(KT)+"("),d&&e(`(${r(jh)}(${f?"true":""}), `),o&&e(eO);const v=d?Jm(t.inSSR,h):Xm(t.inSSR,h);e(r(v)+"(",-2,n),uC(cHe([i,a,s,p,u]),t),e(")"),d&&e(")"),c&&(e(", "),us(c,t),e(")"))}function cHe(n){let t=n.length;for(;t--&&n[t]==null;);return n.slice(0,t+1).map(e=>e||"null")}function dHe(n,t){const{push:e,helper:r,pure:o}=t,i=Yn(n.callee)?n.callee:r(n.callee);o&&e(eO),e(i+"(",-2,n),uC(n.arguments,t),e(")")}function fHe(n,t){const{push:e,indent:r,deindent:o,newline:i}=t,{properties:a}=n;if(!a.length){e("{}",-2,n);return}const s=a.length>1||!1;e(s?"{":"{ "),s&&r();for(let l=0;l<a.length;l++){const{key:u,value:c}=a[l];sHe(u,t),e(": "),us(c,t),l<a.length-1&&(e(","),i())}s&&o(),e(s?"}":" }")}function AHe(n,t){z2(n.elements,t)}function hHe(n,t){const{push:e,indent:r,deindent:o}=t,{params:i,returns:a,body:s,newline:l,isSlot:u}=n;u&&e(`_${Gm[XT]}(`),e("(",-2,n),dn(i)?uC(i,t):i&&us(i,t),e(") => "),(l||s)&&(e("{"),r()),a?(l&&e("return "),dn(a)?z2(a,t):us(a,t)):s&&us(s,t),(l||s)&&(o(),e("}")),u&&(n.isNonScopedSlot&&e(", undefined, true"),e(")"))}function pHe(n,t){const{test:e,consequent:r,alternate:o,newline:i}=n,{push:a,indent:s,deindent:l,newline:u}=t;if(e.type===4){const d=!aC(e.content);d&&a("("),oZ(e,t),d&&a(")")}else a("("),us(e,t),a(")");i&&s(),t.indentLevel++,i||a(" "),a("? "),us(r,t),t.indentLevel--,i&&u(),i||a(" "),a(": ");const c=o.type===19;c||t.indentLevel++,us(o,t),c||t.indentLevel--,i&&l(!0)}function mHe(n,t){const{push:e,helper:r,indent:o,deindent:i,newline:a}=t,{needPauseTracking:s,needArraySpread:l}=n;l&&e("[...("),e(`_cache[${n.index}] || (`),s&&(o(),e(`${r(A_)}(-1`),n.inVOnce&&e(", true"),e("),"),a(),e("(")),e(`_cache[${n.index}] = `),us(n.value,t),s&&(e(`).cacheIndex = ${n.index},`),a(),e(`${r(A_)}(1),`),a(),e(`_cache[${n.index}]`),i()),e(")"),l&&e(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const vHe=(n,t)=>{if(n.type===5)n.content=ax(n.content,t);else if(n.type===1){const e=$s(n,"memo");for(let r=0;r<n.props.length;r++){const o=n.props[r];if(o.type===7&&o.name!=="for"){const i=o.exp,a=o.arg;i&&i.type===4&&!(o.name==="on"&&a)&&!(e&&a&&a.type===4&&a.content==="key")&&(o.exp=ax(i,t,o.name==="slot")),a&&a.type===4&&!a.isStatic&&(o.arg=ax(a,t))}}}};function ax(n,t,e=!1,r=!1,o=Object.create(t.identifiers)){return n}function aZ(n){return Yn(n)?n:n.type===4?n.content:n.children.map(aZ).join("")}const gHe=W2(/^(?:if|else|else-if)$/,(n,t,e)=>sZ(n,t,e,(r,o,i)=>{const a=e.parent.children;let s=a.indexOf(r),l=0;for(;s-->=0;){const u=a[s];u&&u.type===9&&(l+=u.branches.length)}return()=>{if(i)r.codegenNode=t$(o,l,e);else{const u=yHe(r.codegenNode);u.alternate=t$(o,l+r.branches.length-1,e)}}}));function sZ(n,t,e,r){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const o=t.exp?t.exp.loc:n.loc;e.onError(wo(28,t.loc)),t.exp=er("true",!1,o)}if(t.name==="if"){const o=e$(n,t),i={type:9,loc:YRe(n.loc),branches:[o]};if(e.replaceNode(i),r)return r(i,o,!0)}else{const o=e.parent.children;let i=o.indexOf(n);for(;i-->=-1;){const a=o[i];if(a&&j2(a)){e.removeNode(a);continue}if(a&&a.type===9){(t.name==="else-if"||t.name==="else")&&a.branches[a.branches.length-1].condition===void 0&&e.onError(wo(30,n.loc)),e.removeNode();const s=e$(n,t);a.branches.push(s);const l=r&&r(a,s,!1);lC(s,e),l&&l(),e.currentNode=null}else e.onError(wo(30,n.loc));break}}}function e$(n,t){const e=n.tagType===3;return{type:10,loc:n.loc,condition:t.name==="else"?void 0:t.exp,children:e&&!$s(n,"for")?n.children:[n],userKey:sC(n,"key"),isTemplateIf:e}}function t$(n,t,e){return n.condition?NB(n.condition,n$(n,t,e),Mi(e.helper(qy),['""',"true"])):n$(n,t,e)}function n$(n,t,e){const{helper:r}=e,o=Bi("key",er(`${t}`,!1,ea,2)),{children:i}=n,a=i[0];if(i.length!==1||a.type!==1)if(i.length===1&&a.type===11){const l=a.codegenNode;return p_(l,o,e),l}else return Oy(e,r(ky),iu([o]),i,64,void 0,void 0,!0,!1,!1,n.loc);else{const l=a.codegenNode,u=$J(l);return u.type===13&&ZT(u,e),p_(u,o,e),l}}function yHe(n){for(;;)if(n.type===19)if(n.alternate.type===19)n=n.alternate;else return n;else n.type===20&&(n=n.value)}const bHe=W2("for",(n,t,e)=>{const{helper:r,removeHelper:o}=e;return lZ(n,t,e,i=>{const a=Mi(r(WT),[i.source]),s=Iy(n),l=$s(n,"memo"),u=sC(n,"key",!1,!0);u&&u.type;let c=u&&(u.type===6?u.value?er(u.value.content,!0):void 0:u.exp);const d=u&&c?Bi("key",c):null,f=i.source.type===4&&i.source.constType>0,h=f?64:u?128:256;return i.codegenNode=Oy(e,r(ky),void 0,a,h,void 0,void 0,!0,!f,!1,n.loc),()=>{let p;const{children:v}=i,g=v.length!==1||v[0].type!==1,_=h_(n)?n:s&&n.children.length===1&&h_(n.children[0])?n.children[0]:null;if(_?(p=_.codegenNode,s&&d&&p_(p,d,e)):g?p=Oy(e,r(ky),d?iu([d]):void 0,n.children,64,void 0,void 0,!0,void 0,!1):(p=v[0].codegenNode,s&&d&&p_(p,d,e),p.isBlock!==!f&&(p.isBlock?(o(jh),o(Jm(e.inSSR,p.isComponent))):o(Xm(e.inSSR,p.isComponent))),p.isBlock=!f,p.isBlock?(r(jh),r(Jm(e.inSSR,p.isComponent))):r(Xm(e.inSSR,p.isComponent))),l){const S=Ym(HB(i.parseResult,[er("_cached")]));S.body=PJ([Wu(["const _memo = (",l.exp,")"]),Wu(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${e.helperString(U2)}(_cached, _memo)) return _cached`]),Wu(["const _item = ",p]),er("_item.memo = _memo"),er("return _item")]),a.arguments.push(S,er("_cache"),er(String(e.cached.length))),e.cached.push(null)}else a.arguments.push(Ym(HB(i.parseResult),p,!0))}})});function lZ(n,t,e,r){if(!t.exp){e.onError(wo(31,t.loc));return}const o=t.forParseResult;if(!o){e.onError(wo(32,t.loc));return}G2(o);const{addIdentifiers:i,removeIdentifiers:a,scopes:s}=e,{source:l,value:u,key:c,index:d}=o,f={type:11,loc:t.loc,source:l,valueAlias:u,keyAlias:c,objectIndexAlias:d,parseResult:o,children:Iy(n)?n.children:[n]};e.replaceNode(f),s.vFor++;const h=r&&r(f);return()=>{s.vFor--,h&&h()}}function G2(n,t){n.finalized||(n.finalized=!0)}function HB({value:n,key:t,index:e},r=[]){return wHe([n,t,e,...r])}function wHe(n){let t=n.length;for(;t--&&!n[t];);return n.slice(0,t+1).map((e,r)=>e||er("_".repeat(r+1),!1))}const r$=er("undefined",!1),uZ=(n,t)=>{if(n.type===1&&(n.tagType===1||n.tagType===3)){const e=$s(n,"slot");if(e)return e.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},_He=(n,t)=>{let e;if(Iy(n)&&n.props.some(H2)&&(e=$s(n,"for"))){const r=e.forParseResult;if(r){G2(r);const{value:o,key:i,index:a}=r,{addIdentifiers:s,removeIdentifiers:l}=t;return o&&s(o),i&&s(i),a&&s(a),()=>{o&&l(o),i&&l(i),a&&l(a)}}}},CHe=(n,t,e,r)=>Ym(n,e,!1,!0,e.length?e[0].loc:r);function cZ(n,t,e=CHe){t.helper(XT);const{children:r,loc:o}=n,i=[],a=[];let s=t.scopes.vSlot>0||t.scopes.vFor>0;const l=$s(n,"slot",!0);if(l){const{arg:g,exp:_}=l;g&&!Ws(g)&&(s=!0),i.push(Bi(g||er("default",!0),e(_,void 0,r,o)))}let u=!1,c=!1;const d=[],f=new Set;let h=0;for(let g=0;g<r.length;g++){const _=r[g];let S;if(!Iy(_)||!(S=$s(_,"slot",!0))){_.type!==3&&d.push(_);continue}if(l){t.onError(wo(37,S.loc));break}u=!0;const{children:y,loc:C}=_,{arg:T=er("default",!0),exp:P,loc:F}=S;let I;Ws(T)?I=T?T.content:"default":s=!0;const k=$s(_,"for"),M=e(P,k,y,C);let V,U;if(V=$s(_,"if"))s=!0,a.push(NB(V.exp,J1(T,M,h++),r$));else if(U=$s(_,/^else(?:-if)?$/,!0)){let $=g,Q;for(;$--&&(Q=r[$],!!j2(Q)););if(Q&&Iy(Q)&&$s(Q,/^(?:else-)?if$/)){let J=a[a.length-1];for(;J.alternate.type===19;)J=J.alternate;J.alternate=U.exp?NB(U.exp,J1(T,M,h++),r$):J1(T,M,h++)}else t.onError(wo(30,U.loc))}else if(k){s=!0;const $=k.forParseResult;$?(G2($),a.push(Mi(t.helper(WT),[$.source,Ym(HB($),J1(T,M),!0)]))):t.onError(wo(32,k.loc))}else{if(I){if(f.has(I)){t.onError(wo(38,F));continue}f.add(I),I==="default"&&(c=!0)}i.push(Bi(T,M))}}if(!l){const g=(_,S)=>{const y=e(_,void 0,S,o);return t.compatConfig&&(y.isNonScopedSlot=!0),Bi("default",y)};u?d.length&&!d.every(qT)&&(c?t.onError(wo(39,d[0].loc)):i.push(g(void 0,d))):i.push(g(void 0,r))}const p=s?2:sx(n.children)?3:1;let v=iu(i.concat(Bi("_",er(p+"",!1))),o);return a.length&&(v=Mi(t.helper(D2),[v,Th(a)])),{slots:v,hasDynamicSlots:s}}function J1(n,t,e){const r=[Bi("name",n),Bi("fn",t)];return e!=null&&r.push(Bi("key",er(String(e),!0))),iu(r)}function sx(n){for(let t=0;t<n.length;t++){const e=n[t];switch(e.type){case 1:if(e.tagType===2||sx(e.children))return!0;break;case 9:if(sx(e.branches))return!0;break;case 10:case 11:if(sx(e.children))return!0;break}}return!1}const dZ=new WeakMap,fZ=(n,t)=>function(){if(n=t.currentNode,!(n.type===1&&(n.tagType===0||n.tagType===1)))return;const{tag:r,props:o}=n,i=n.tagType===1;let a=i?AZ(n,t):`"${r}"`;const s=Qr(a)&&a.callee===QT;let l,u,c=0,d,f,h,p=s||a===ny||a===LT||!i&&(r==="svg"||r==="foreignObject"||r==="math");if(o.length>0){const v=Y2(n,t,void 0,i,s);l=v.props,c=v.patchFlag,f=v.dynamicPropNames;const g=v.directives;h=g&&g.length?Th(g.map(_=>hZ(_,t))):void 0,v.shouldUseBlock&&(p=!0)}if(n.children.length>0)if(a===d_&&(p=!0,c|=1024),i&&a!==ny&&a!==d_){const{slots:g,hasDynamicSlots:_}=cZ(n,t);u=g,_&&(c|=1024)}else if(n.children.length===1&&a!==ny){const g=n.children[0],_=g.type,S=_===5||_===8;S&&kl(g,t)===0&&(c|=1),S||_===2?u=g:u=n.children}else u=n.children;f&&f.length&&(d=xHe(f)),n.codegenNode=Oy(t,a,l,u,c===0?void 0:c,d,h,!!p,!1,i,n.loc)};function AZ(n,t,e=!1){let{tag:r}=n;const o=aU(r),i=sC(n,"is",!1,!0);if(i)if(o||_m("COMPILER_IS_ON_ELEMENT",t)){let s;if(i.type===6?s=i.value&&er(i.value.content,!0):(s=i.exp,s||(s=er("is",!1,i.arg.loc))),s)return Mi(t.helper(QT),[s])}else i.type===6&&i.value.content.startsWith("vue:")&&(r=i.value.content.slice(4));const a=V2(r)||t.isBuiltInComponent(r);return a?(e||t.helper(a),a):(t.helper(HT),t.components.add(r),My(r,"component"))}function Y2(n,t,e=n.props,r,o,i=!1){const{tag:a,loc:s,children:l}=n;let u=[];const c=[],d=[],f=l.length>0;let h=!1,p=0,v=!1,g=!1,_=!1,S=!1,y=!1,C=!1;const T=[],P=M=>{u.length&&(c.push(iu(o$(u),s)),u=[]),M&&c.push(M)},F=()=>{t.scopes.vFor>0&&u.push(Bi(er("ref_for",!0),er("true")))},I=({key:M,value:V})=>{if(Ws(M)){const U=M.content,$=Kh(U);if($&&(!r||o)&&U.toLowerCase()!=="onclick"&&U!=="onUpdate:modelValue"&&!Ed(U)&&(S=!0),$&&Ed(U)&&(C=!0),$&&V.type===14&&(V=V.arguments[0]),V.type===20||(V.type===4||V.type===8)&&kl(V,t)>0)return;U==="ref"?v=!0:U==="class"?g=!0:U==="style"?_=!0:U!=="key"&&!T.includes(U)&&T.push(U),r&&(U==="class"||U==="style")&&!T.includes(U)&&T.push(U)}else y=!0};for(let M=0;M<e.length;M++){const V=e[M];if(V.type===6){const{loc:U,name:$,nameLoc:Q,value:J}=V;let R=!0;if($==="ref"&&(v=!0,F()),$==="is"&&(aU(a)||J&&J.content.startsWith("vue:")||_m("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(Bi(er($,!0,Q),er(J?J.content:"",R,J?J.loc:U)))}else{const{name:U,arg:$,exp:Q,loc:J,modifiers:R}=V,ne=U==="bind",ue=U==="on";if(U==="slot"){r||t.onError(wo(40,J));continue}if(U==="once"||U==="memo"||U==="is"||ne&&Ah($,"is")&&(aU(a)||_m("COMPILER_IS_ON_ELEMENT",t))||ue&&i)continue;if((ne&&Ah($,"key")||ue&&f&&Ah($,"vue:before-update"))&&(h=!0),ne&&Ah($,"ref")&&F(),!$&&(ne||ue)){if(y=!0,Q)if(ne){if(P(),_m("COMPILER_V_BIND_OBJECT_ORDER",t)){c.unshift(Q);continue}F(),P(),c.push(Q)}else P({type:14,loc:J,callee:t.helper(YT),arguments:r?[Q]:[Q,"true"]});else t.onError(wo(ne?34:35,J));continue}ne&&R.some(Be=>Be.content==="prop")&&(p|=32);const we=t.directiveTransforms[U];if(we){const{props:Be,needRuntime:We}=we(V,n,t);!i&&Be.forEach(I),ue&&$&&!Ws($)?P(iu(Be,s)):u.push(...Be),We&&(d.push(V),Gs(We)&&dZ.set(V,We))}else I5(U)||(d.push(V),f&&(h=!0))}}let k;if(c.length?(P(),c.length>1?k=Mi(t.helper(f_),c,s):k=c[0]):u.length&&(k=iu(o$(u),s)),y?p|=16:(g&&!r&&(p|=2),_&&!r&&(p|=4),T.length&&(p|=8),S&&(p|=32)),!h&&(p===0||p===32)&&(v||C||d.length>0)&&(p|=512),!t.inSSR&&k)switch(k.type){case 15:let M=-1,V=-1,U=!1;for(let J=0;J<k.properties.length;J++){const R=k.properties[J].key;Ws(R)?R.content==="class"?M=J:R.content==="style"&&(V=J):R.isHandlerKey||(U=!0)}const $=k.properties[M],Q=k.properties[V];U?k=Mi(t.helper(Ty),[k]):($&&!Ws($.value)&&($.value=Mi(t.helper(zT),[$.value])),Q&&(_||Q.value.type===4&&Q.value.content.trim()[0]==="["||Q.value.type===17)&&(Q.value=Mi(t.helper(GT),[Q.value])));break;case 14:break;default:k=Mi(t.helper(Ty),[Mi(t.helper(e0),[k])]);break}return{props:k,directives:d,patchFlag:p,dynamicPropNames:T,shouldUseBlock:h}}function o$(n){const t=new Map,e=[];for(let r=0;r<n.length;r++){const o=n[r];if(o.key.type===8||!o.key.isStatic){e.push(o);continue}const i=o.key.content,a=t.get(i);a?(i==="style"||i==="class"||Kh(i))&&SHe(a,o):(t.set(i,o),e.push(o))}return e}function SHe(n,t){n.value.type===17?n.value.elements.push(t.value):n.value=Th([n.value,t.value],n.loc)}function hZ(n,t){const e=[],r=dZ.get(n);r?e.push(t.helperString(r)):(t.helper(jT),t.directives.add(n.name),e.push(My(n.name,"directive")));const{loc:o}=n;if(n.exp&&e.push(n.exp),n.arg&&(n.exp||e.push("void 0"),e.push(n.arg)),Object.keys(n.modifiers).length){n.arg||(n.exp||e.push("void 0"),e.push("void 0"));const i=er("true",!1,o);e.push(iu(n.modifiers.map(a=>Bi(a,i)),o))}return Th(e,n.loc)}function xHe(n){let t="[";for(let e=0,r=n.length;e<r;e++)t+=JSON.stringify(n[e]),e<r-1&&(t+=", ");return t+"]"}function aU(n){return n==="component"||n==="Component"}const EHe=(n,t)=>{if(h_(n)){const{children:e,loc:r}=n,{slotName:o,slotProps:i}=pZ(n,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",o,"{}","undefined","true"];let s=2;i&&(a[2]=i,s=3),e.length&&(a[3]=Ym([],e,!1,!1,r),s=4),t.scopeId&&!t.slotted&&(s=5),a.splice(s),n.codegenNode=Mi(t.helper(F2),a,r)}};function pZ(n,t){let e='"default"',r;const o=[];for(let i=0;i<n.props.length;i++){const a=n.props[i];if(a.type===6)a.value&&(a.name==="name"?e=JSON.stringify(a.value.content):(a.name=to(a.name),o.push(a)));else if(a.name==="bind"&&Ah(a.arg,"name")){if(a.exp)e=a.exp;else if(a.arg&&a.arg.type===4){const s=to(a.arg.content);e=a.exp=er(s,!1,a.arg.loc)}}else a.name==="bind"&&a.arg&&Ws(a.arg)&&(a.arg.content=to(a.arg.content)),o.push(a)}if(o.length>0){const{props:i,directives:a}=Y2(n,t,o,!1,!1);r=i,a.length&&t.onError(wo(36,a[0].loc))}return{slotName:e,slotProps:r}}const X2=(n,t,e,r)=>{const{loc:o,modifiers:i,arg:a}=n;!n.exp&&!i.length&&e.onError(wo(35,o));let s;if(a.type===4)if(a.isStatic){let d=a.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const f=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?rm(to(d)):`on:${d}`;s=er(f,!0,a.loc)}else s=Wu([`${e.helperString(VB)}(`,a,")"]);else s=a,s.children.unshift(`${e.helperString(VB)}(`),s.children.push(")");let l=n.exp;l&&!l.content.trim()&&(l=void 0);let u=e.cacheHandlers&&!l&&!e.inVOnce;if(l){const d=R2(l),f=!(d||RJ(l)),h=l.content.includes(";");(f||u&&d)&&(l=Wu([`${f?"$event":"(...args)"} => ${h?"{":"("}`,l,h?"}":")"]))}let c={props:[Bi(s,l||er("() => {}",!1,o))]};return r&&(c=r(c)),u&&(c.props[0].value=e.cache(c.props[0].value)),c.props.forEach(d=>d.key.isHandlerKey=!0),c},mZ=(n,t,e)=>{const{modifiers:r,loc:o}=n,i=n.arg;let{exp:a}=n;return a&&a.type===4&&!a.content.trim()&&(a=void 0),i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=i.content?`${i.content} || ""`:'""'),r.some(s=>s.content==="camel")&&(i.type===4?i.isStatic?i.content=to(i.content):i.content=`${e.helperString(LB)}(${i.content})`:(i.children.unshift(`${e.helperString(LB)}(`),i.children.push(")"))),e.inSSR||(r.some(s=>s.content==="prop")&&i$(i,"."),r.some(s=>s.content==="attr")&&i$(i,"^")),{props:[Bi(i,a)]}},i$=(n,t)=>{n.type===4?n.isStatic?n.content=t+n.content:n.content=`\`${t}\${${n.content}}\``:(n.children.unshift(`'${t}' + (`),n.children.push(")"))},BHe=(n,t)=>{if(n.type===0||n.type===1||n.type===11||n.type===10)return()=>{const e=n.children;let r,o=!1;for(let i=0;i<e.length;i++){const a=e[i];if(nx(a)){o=!0;for(let s=i+1;s<e.length;s++){const l=e[s];if(nx(l))r||(r=e[i]=Wu([a],a.loc)),r.children.push(" + ",l),e.splice(s,1),s--;else{r=void 0;break}}}}if(!(!o||e.length===1&&(n.type===0||n.type===1&&n.tagType===0&&!n.props.find(i=>i.type===7&&!t.directiveTransforms[i.name])&&n.tag!=="template")))for(let i=0;i<e.length;i++){const a=e[i];if(nx(a)||a.type===8){const s=[];(a.type!==2||a.content!==" ")&&s.push(a),!t.ssr&&kl(a,t)===0&&s.push("1"),e[i]={type:12,content:a,loc:a.loc,codegenNode:Mi(t.helper(RT),s)}}}}},a$=new WeakSet,kHe=(n,t)=>{if(n.type===1&&$s(n,"once",!0))return a$.has(n)||t.inVOnce||t.inSSR?void 0:(a$.add(n),t.inVOnce=!0,t.helper(A_),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0,!0))})},J2=(n,t,e)=>{const{exp:r,arg:o}=n;if(!r)return e.onError(wo(41,n.loc)),G0();const i=r.loc.source.trim(),a=r.type===4?r.content:i,s=e.bindingMetadata[i];if(s==="props"||s==="props-aliased")return e.onError(wo(44,r.loc)),G0();if(s==="literal-const"||s==="setup-const")return e.onError(wo(45,r.loc)),G0();if(!a.trim()||!R2(r))return e.onError(wo(42,r.loc)),G0();const l=o||er("modelValue",!0),u=o?Ws(o)?`onUpdate:${to(o.content)}`:Wu(['"onUpdate:" + ',o]):"onUpdate:modelValue";let c;const d=e.isTS?"($event: any)":"$event";c=Wu([`${d} => ((`,r,") = $event)"]);const f=[Bi(l,n.exp),Bi(u,c)];if(n.modifiers.length&&t.tagType===1){const h=n.modifiers.map(v=>v.content).map(v=>(aC(v)?v:JSON.stringify(v))+": true").join(", "),p=o?Ws(o)?`${o.content}Modifiers`:Wu([o,' + "Modifiers"']):"modelModifiers";f.push(Bi(p,er(`{ ${h} }`,!1,n.loc,2)))}return G0(f)};function G0(n=[]){return{props:n}}const THe=/[\w).+\-_$\]]/,OHe=(n,t)=>{_m("COMPILER_FILTERS",t)&&(n.type===5?QB(n.content,t):n.type===1&&n.props.forEach(e=>{e.type===7&&e.name!=="for"&&e.exp&&QB(e.exp,t)}))};function QB(n,t){if(n.type===4)s$(n,t);else for(let e=0;e<n.children.length;e++){const r=n.children[e];typeof r=="object"&&(r.type===4?s$(r,t):r.type===8?QB(n,t):r.type===5&&QB(r.content,t))}}function s$(n,t){const e=n.content;let r=!1,o=!1,i=!1,a=!1,s=0,l=0,u=0,c=0,d,f,h,p,v=[];for(h=0;h<e.length;h++)if(f=d,d=e.charCodeAt(h),r)d===39&&f!==92&&(r=!1);else if(o)d===34&&f!==92&&(o=!1);else if(i)d===96&&f!==92&&(i=!1);else if(a)d===47&&f!==92&&(a=!1);else if(d===124&&e.charCodeAt(h+1)!==124&&e.charCodeAt(h-1)!==124&&!s&&!l&&!u)p===void 0?(c=h+1,p=e.slice(0,h).trim()):g();else{switch(d){case 34:o=!0;break;case 39:r=!0;break;case 96:i=!0;break;case 40:u++;break;case 41:u--;break;case 91:l++;break;case 93:l--;break;case 123:s++;break;case 125:s--;break}if(d===47){let _=h-1,S;for(;_>=0&&(S=e.charAt(_),S===" ");_--);(!S||!THe.test(S))&&(a=!0)}}p===void 0?p=e.slice(0,h).trim():c!==0&&g();function g(){v.push(e.slice(c,h).trim()),c=h+1}if(v.length){for(h=0;h<v.length;h++)p=PHe(p,v[h],t);n.content=p,n.ast=void 0}}function PHe(n,t,e){e.helper($T);const r=t.indexOf("(");if(r<0)return e.filters.add(t),`${My(t,"filter")}(${n})`;{const o=t.slice(0,r),i=t.slice(r+1);return e.filters.add(o),`${My(o,"filter")}(${n}${i!==")"?","+i:i}`}}const l$=new WeakSet,IHe=(n,t)=>{if(n.type===1){const e=$s(n,"memo");return!e||l$.has(n)||t.inSSR?void 0:(l$.add(n),()=>{const r=n.codegenNode||t.currentNode.codegenNode;r&&r.type===13&&(n.tagType!==1&&ZT(r,t),n.codegenNode=Mi(t.helper(JT),[e.exp,Ym(void 0,r),"_cache",String(t.cached.length)]),t.cached.push(null))})}},vZ=(n,t)=>{if(n.type===1){for(const e of n.props)if(e.type===7&&e.name==="bind"&&(!e.exp||e.exp.type===4&&!e.exp.content.trim())&&e.arg){const r=e.arg;if(r.type!==4||!r.isStatic)t.onError(wo(53,r.loc)),e.exp=er("",!0,r.loc);else{const o=to(r.content);(N2.test(o[0])||o[0]==="-")&&(e.exp=er(o,!1,r.loc))}}}};function gZ(n){return[[vZ,kHe,gHe,IHe,bHe,OHe,EHe,fZ,uZ,BHe],{on:X2,bind:mZ,model:J2}]}function yZ(n,t={}){const e=t.onError||L2,r=t.mode==="module";t.prefixIdentifiers===!0?e(wo(48)):r&&e(wo(49));const o=!1;t.cacheHandlers&&e(wo(50)),t.scopeId&&!r&&e(wo(51));const i=hr({},t,{prefixIdentifiers:o}),a=Yn(n)?K2(n,i):n,[s,l]=gZ();return tZ(a,hr({},i,{nodeTransforms:[...s,...t.nodeTransforms||[]],directiveTransforms:hr({},l,t.directiveTransforms||{})})),rZ(a,i)}const MHe={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},bZ=()=>({props:[]});/**
* @vue/compiler-dom v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Z2=Symbol(""),q2=Symbol(""),eN=Symbol(""),tN=Symbol(""),jB=Symbol(""),nN=Symbol(""),rN=Symbol(""),oN=Symbol(""),iN=Symbol(""),aN=Symbol("");kJ({[Z2]:"vModelRadio",[q2]:"vModelCheckbox",[eN]:"vModelText",[tN]:"vModelSelect",[jB]:"vModelDynamic",[nN]:"withModifiers",[rN]:"withKeys",[oN]:"vShow",[iN]:"Transition",[aN]:"TransitionGroup"});let Jv;function FHe(n,t=!1){return Jv||(Jv=document.createElement("div")),t?(Jv.innerHTML=`<div foo="${n.replace(/"/g,"&quot;")}">`,Jv.children[0].getAttribute("foo")):(Jv.innerHTML=n,Jv.textContent)}const sN={parseMode:"html",isVoidTag:L5,isNativeTag:n=>F5(n)||D5(n)||U5(n),isPreTag:n=>n==="pre",isIgnoreNewlineTag:n=>n==="pre"||n==="textarea",decodeEntities:FHe,isBuiltInComponent:n=>{if(n==="Transition"||n==="transition")return iN;if(n==="TransitionGroup"||n==="transition-group")return aN},getNamespace(n,t,e){let r=t?t.ns:e;if(t&&r===2)if(t.tag==="annotation-xml"){if(n==="svg")return 1;t.props.some(o=>o.type===6&&o.name==="encoding"&&o.value!=null&&(o.value.content==="text/html"||o.value.content==="application/xhtml+xml"))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&n!=="mglyph"&&n!=="malignmark"&&(r=0);else t&&r===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(r=0);if(r===0){if(n==="svg")return 1;if(n==="math")return 2}return r}},wZ=n=>{n.type===1&&n.props.forEach((t,e)=>{t.type===6&&t.name==="style"&&t.value&&(n.props[e]={type:7,name:"bind",arg:er("style",!0,t.loc),exp:DHe(t.value.content,t.loc),modifiers:[],loc:t.loc})})},DHe=(n,t)=>{const e=NU(n);return er(JSON.stringify(e),!1,t,3)};function Jf(n,t){return wo(n,t)}const UHe={X_V_HTML_NO_EXPRESSION:54,54:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:55,55:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:56,56:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:57,57:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:58,58:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:59,59:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:60,60:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:61,61:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:62,62:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:63,63:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:64,64:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:65,65:"__EXTEND_POINT__"},LHe={54:"v-html is missing expression.",55:"v-html will override element children.",56:"v-text is missing expression.",57:"v-text will override element children.",58:"v-model can only be used on <input>, <textarea> and <select> elements.",59:"v-model argument is not supported on plain elements.",60:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",61:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",62:"v-show is missing expression.",63:"<Transition> expects exactly one child element or component.",64:"Tags with side effect (<script> and <style>) are ignored in client component templates."},VHe=(n,t,e)=>{const{exp:r,loc:o}=n;return r||e.onError(Jf(54,o)),t.children.length&&(e.onError(Jf(55,o)),t.children.length=0),{props:[Bi(er("innerHTML",!0,o),r||er("",!0))]}},NHe=(n,t,e)=>{const{exp:r,loc:o}=n;return r||e.onError(Jf(56,o)),t.children.length&&(e.onError(Jf(57,o)),t.children.length=0),{props:[Bi(er("textContent",!0),r?kl(r,e)>0?r:Mi(e.helperString(iC),[r],o):er("",!0))]}},RHe=(n,t,e)=>{const r=J2(n,t,e);if(!r.props.length||t.tagType===1)return r;n.arg&&e.onError(Jf(59,n.arg.loc));const{tag:o}=t,i=e.isCustomElement(o);if(o==="input"||o==="textarea"||o==="select"||i){let a=eN,s=!1;if(o==="input"||i){const l=sC(t,"type");if(l){if(l.type===7)a=jB;else if(l.value)switch(l.value.content){case"radio":a=Z2;break;case"checkbox":a=q2;break;case"file":s=!0,e.onError(Jf(60,n.loc));break}}else QJ(t)&&(a=jB)}else o==="select"&&(a=tN);s||(r.needRuntime=e.helper(a))}else e.onError(Jf(58,n.loc));return r.props=r.props.filter(a=>!(a.key.type===4&&a.key.content==="modelValue")),r},HHe=ba("passive,once,capture"),QHe=ba("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),jHe=ba("left,right"),_Z=ba("onkeyup,onkeydown,onkeypress"),$He=(n,t,e,r)=>{const o=[],i=[],a=[];for(let s=0;s<t.length;s++){const l=t[s].content;l==="native"&&Py("COMPILER_V_ON_NATIVE",e)||HHe(l)?a.push(l):jHe(l)?Ws(n)?_Z(n.content.toLowerCase())?o.push(l):i.push(l):(o.push(l),i.push(l)):QHe(l)?i.push(l):o.push(l)}return{keyModifiers:o,nonKeyModifiers:i,eventOptionModifiers:a}},u$=(n,t)=>Ws(n)&&n.content.toLowerCase()==="onclick"?er(t,!0):n.type!==4?Wu(["(",n,`) === "onClick" ? "${t}" : (`,n,")"]):n,KHe=(n,t,e)=>X2(n,t,e,r=>{const{modifiers:o}=n;if(!o.length)return r;let{key:i,value:a}=r.props[0];const{keyModifiers:s,nonKeyModifiers:l,eventOptionModifiers:u}=$He(i,o,e,n.loc);if(l.includes("right")&&(i=u$(i,"onContextmenu")),l.includes("middle")&&(i=u$(i,"onMouseup")),l.length&&(a=Mi(e.helper(nN),[a,JSON.stringify(l)])),s.length&&(!Ws(i)||_Z(i.content.toLowerCase()))&&(a=Mi(e.helper(rN),[a,JSON.stringify(s)])),u.length){const c=u.map(Dl).join("");i=Ws(i)?er(`${i.content}${c}`,!0):Wu(["(",i,`) + "${c}"`])}return{props:[Bi(i,a)]}}),WHe=(n,t,e)=>{const{exp:r,loc:o}=n;return r||e.onError(Jf(62,o)),{props:[],needRuntime:e.helper(oN)}},zHe=(n,t)=>{n.type===1&&n.tagType===0&&(n.tag==="script"||n.tag==="style")&&t.removeNode()},CZ=[wZ],SZ={cloak:bZ,html:VHe,text:NHe,model:RHe,on:KHe,show:WHe};function GHe(n,t={}){return yZ(n,hr({},sN,t,{nodeTransforms:[zHe,...CZ,...t.nodeTransforms||[]],directiveTransforms:hr({},SZ,t.directiveTransforms||{}),transformHoist:null}))}function YHe(n,t={}){return K2(n,hr({},sN,t))}const XHe=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:O2,BindingTypes:MHe,CAMELIZE:LB,CAPITALIZE:CJ,CREATE_BLOCK:P2,CREATE_COMMENT:qy,CREATE_ELEMENT_BLOCK:I2,CREATE_ELEMENT_VNODE:NT,CREATE_SLOTS:D2,CREATE_STATIC:M2,CREATE_TEXT:RT,CREATE_VNODE:VT,CompilerDeprecationTypes:vRe,ConstantTypes:uRe,DOMDirectiveTransforms:SZ,DOMErrorCodes:UHe,DOMErrorMessages:LHe,DOMNodeTransforms:CZ,ElementTypes:lRe,ErrorCodes:bRe,FRAGMENT:ky,GUARD_REACTIVE_PROPS:e0,IS_MEMO_SAME:U2,IS_REF:BJ,KEEP_ALIVE:d_,MERGE_PROPS:f_,NORMALIZE_CLASS:zT,NORMALIZE_PROPS:Ty,NORMALIZE_STYLE:GT,Namespaces:aRe,NodeTypes:sRe,OPEN_BLOCK:jh,POP_SCOPE_ID:xJ,PUSH_SCOPE_ID:SJ,RENDER_LIST:WT,RENDER_SLOT:F2,RESOLVE_COMPONENT:HT,RESOLVE_DIRECTIVE:jT,RESOLVE_DYNAMIC_COMPONENT:QT,RESOLVE_FILTER:$T,SET_BLOCK_TRACKING:A_,SUSPENSE:LT,TELEPORT:ny,TO_DISPLAY_STRING:iC,TO_HANDLERS:YT,TO_HANDLER_KEY:VB,TRANSITION:iN,TRANSITION_GROUP:aN,TS_NODE_TYPES:DJ,UNREF:EJ,V_MODEL_CHECKBOX:q2,V_MODEL_DYNAMIC:jB,V_MODEL_RADIO:Z2,V_MODEL_SELECT:tN,V_MODEL_TEXT:eN,V_ON_WITH_KEYS:rN,V_ON_WITH_MODIFIERS:nN,V_SHOW:oN,WITH_CTX:XT,WITH_DIRECTIVES:KT,WITH_MEMO:JT,advancePositionWithClone:VRe,advancePositionWithMutation:HJ,assert:NRe,baseCompile:yZ,baseParse:K2,buildDirectiveArgs:hZ,buildProps:Y2,buildSlots:cZ,checkCompatEnabled:Py,compile:GHe,convertToBlock:ZT,createArrayExpression:Th,createAssignmentExpression:ARe,createBlockStatement:PJ,createCacheExpression:OJ,createCallExpression:Mi,createCompilerError:wo,createCompoundExpression:Wu,createConditionalExpression:NB,createDOMCompilerError:Jf,createForLoopParams:HB,createFunctionExpression:Ym,createIfStatement:fRe,createInterpolation:cRe,createObjectExpression:iu,createObjectProperty:Bi,createReturnStatement:pRe,createRoot:TJ,createSequenceExpression:hRe,createSimpleExpression:er,createStructuralDirectiveTransform:W2,createTemplateLiteral:dRe,createTransformContext:eZ,createVNodeCall:Oy,errorMessages:wRe,extractIdentifiers:_d,findDir:$s,findProp:sC,forAliasRE:KJ,generate:rZ,generateCodeFrame:M5,getBaseTransformPreset:gZ,getConstantType:kl,getMemoedVNodeCall:$J,getVNodeBlockHelper:Jm,getVNodeHelper:Xm,hasDynamicKeyVBind:QJ,hasScopeRef:yc,helperNameMap:Gm,injectProp:p_,isAllWhitespace:Q2,isCommentOrWhitespace:j2,isCoreComponent:V2,isFnExpression:RJ,isFnExpressionBrowser:NJ,isFnExpressionNode:LRe,isFunctionType:ORe,isInDestructureAssignment:SRe,isInNewExpression:xRe,isMemberExpression:R2,isMemberExpressionBrowser:VJ,isMemberExpressionNode:DRe,isReferencedIdentifier:CRe,isSimpleIdentifier:aC,isSlotOutlet:h_,isStaticArgOf:Ah,isStaticExp:Ws,isStaticProperty:FJ,isStaticPropertyKey:PRe,isTemplateNode:Iy,isText:nx,isVPre:rU,isVSlot:H2,isWhitespaceText:qT,locStub:ea,noopDirectiveTransform:bZ,parse:YHe,parserOptions:sN,processExpression:ax,processFor:lZ,processIf:sZ,processSlotOutlet:pZ,registerRuntimeHelpers:kJ,resolveComponentType:AZ,stringifyExpression:aZ,toValidAssetId:My,trackSlotScopes:uZ,trackVForSlotScopes:_He,transform:tZ,transformBind:mZ,transformElement:fZ,transformExpression:vHe,transformModel:J2,transformOn:X2,transformStyle:wZ,transformVBindShorthand:vZ,traverseNode:lC,unwrapTSNode:UJ,validFirstIdentCharRE:N2,walkBlockDeclarations:MJ,walkFunctionParams:ERe,walkIdentifiers:_Re,warnDeprecation:yRe},Symbol.toStringTag,{value:"Module"})),JHe=jk(XHe),ZHe=jk(yoe),qHe=jk(hte);/**
* vue v3.5.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var c$;function e4e(){return c$||(c$=1,(function(n){Object.defineProperty(n,"__esModule",{value:!0});var t=JHe,e=ZHe,r=qHe;function o(l){var u=Object.create(null);if(l)for(var c in l)u[c]=l[c];return u.default=l,Object.freeze(u)}var i=o(e);const a=Object.create(null);function s(l,u){if(!r.isString(l))if(l.nodeType)l=l.innerHTML;else return r.NOOP;const c=r.genCacheKey(l,u),d=a[c];if(d)return d;if(l[0]==="#"){const v=document.querySelector(l);l=v?v.innerHTML:""}const f=r.extend({hoistStatic:!0,onError:void 0,onWarn:r.NOOP},u);!f.isCustomElement&&typeof customElements<"u"&&(f.isCustomElement=v=>!!customElements.get(v));const{code:h}=t.compile(l,f),p=new Function("Vue",h)(i);return p._rc=!0,a[c]=p}e.registerRuntimeCompiler(s),n.compile=s,Object.keys(e).forEach(function(l){l!=="default"&&!Object.prototype.hasOwnProperty.call(n,l)&&(n[l]=e[l])})})(jI)),jI}var d$;function t4e(){return d$||(d$=1,QI.exports=e4e()),QI.exports}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function f$(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),e.push.apply(e,r)}return e}function Rd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?f$(Object(e),!0).forEach(function(r){n4e(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):f$(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function lx(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lx=function(t){return typeof t}:lx=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lx(n)}function n4e(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Xu(){return Xu=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Xu.apply(this,arguments)}function r4e(n,t){if(n==null)return{};var e={},r=Object.keys(n),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(e[o]=n[o]);return e}function o4e(n,t){if(n==null)return{};var e=r4e(n,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(e[r]=n[r])}return e}function i4e(n){return a4e(n)||s4e(n)||l4e(n)||u4e()}function a4e(n){if(Array.isArray(n))return sU(n)}function s4e(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function l4e(n,t){if(n){if(typeof n=="string")return sU(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return sU(n,t)}}function sU(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function u4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c4e="1.14.0";function Zf(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var mA=Zf(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),cC=Zf(/Edge/i),A$=Zf(/firefox/i),Jb=Zf(/safari/i)&&!Zf(/chrome/i)&&!Zf(/android/i),xZ=Zf(/iP(ad|od|hone)/i),d4e=Zf(/chrome/i)&&Zf(/android/i),EZ={capture:!1,passive:!1};function Sr(n,t,e){n.addEventListener(t,e,!mA&&EZ)}function pr(n,t,e){n.removeEventListener(t,e,!mA&&EZ)}function $B(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function f4e(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Cc(n,t,e,r){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&$B(n,t):$B(n,t))||r&&n===e)return n;if(n===e)break}while(n=f4e(n))}return null}var h$=/\s+/g;function Wo(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var r=(" "+n.className+" ").replace(h$," ").replace(" "+t+" "," ");n.className=(r+(e?" "+t:"")).replace(h$," ")}}function _n(n,t,e){var r=n&&n.style;if(r){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=e+(typeof e=="string"?"":"px")}}function Cm(n,t){var e="";if(typeof n=="string")e=n;else do{var r=_n(n,"transform");r&&r!=="none"&&(e=r+" "+e)}while(!t&&(n=n.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(e)}function BZ(n,t,e){if(n){var r=n.getElementsByTagName(t),o=0,i=r.length;if(e)for(;o<i;o++)e(r[o],o);return r}return[]}function Bd(){var n=document.scrollingElement;return n||document.documentElement}function Ho(n,t,e,r,o){if(!(!n.getBoundingClientRect&&n!==window)){var i,a,s,l,u,c,d;if(n!==window&&n.parentNode&&n!==Bd()?(i=n.getBoundingClientRect(),a=i.top,s=i.left,l=i.bottom,u=i.right,c=i.height,d=i.width):(a=0,s=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||e)&&n!==window&&(o=o||n.parentNode,!mA))do if(o&&o.getBoundingClientRect&&(_n(o,"transform")!=="none"||e&&_n(o,"position")!=="static")){var f=o.getBoundingClientRect();a-=f.top+parseInt(_n(o,"border-top-width")),s-=f.left+parseInt(_n(o,"border-left-width")),l=a+i.height,u=s+i.width;break}while(o=o.parentNode);if(r&&n!==window){var h=Cm(o||n),p=h&&h.a,v=h&&h.d;h&&(a/=v,s/=p,d/=p,c/=v,l=a+c,u=s+d)}return{top:a,left:s,bottom:l,right:u,width:d,height:c}}}function p$(n,t,e){for(var r=hh(n,!0),o=Ho(n)[t];r;){var i=Ho(r)[e],a=void 0;if(a=o>=i,!a)return r;if(r===Bd())break;r=hh(r,!1)}return!1}function Fy(n,t,e,r){for(var o=0,i=0,a=n.children;i<a.length;){if(a[i].style.display!=="none"&&a[i]!==jn.ghost&&(r||a[i]!==jn.dragged)&&Cc(a[i],e.draggable,n,!1)){if(o===t)return a[i];o++}i++}return null}function lN(n,t){for(var e=n.lastElementChild;e&&(e===jn.ghost||_n(e,"display")==="none"||t&&!$B(e,t));)e=e.previousElementSibling;return e||null}function si(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==jn.clone&&(!t||$B(n,t))&&e++;return e}function m$(n){var t=0,e=0,r=Bd();if(n)do{var o=Cm(n),i=o.a,a=o.d;t+=n.scrollLeft*i,e+=n.scrollTop*a}while(n!==r&&(n=n.parentNode));return[t,e]}function A4e(n,t){for(var e in n)if(n.hasOwnProperty(e)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===n[e][r])return Number(e)}return-1}function hh(n,t){if(!n||!n.getBoundingClientRect)return Bd();var e=n,r=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var o=_n(e);if(e.clientWidth<e.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return Bd();if(r||t)return e;r=!0}}while(e=e.parentNode);return Bd()}function h4e(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function KI(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var Zb;function kZ(n,t){return function(){if(!Zb){var e=arguments,r=this;e.length===1?n.call(r,e[0]):n.apply(r,e),Zb=setTimeout(function(){Zb=void 0},t)}}}function p4e(){clearTimeout(Zb),Zb=void 0}function TZ(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}function uN(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}function v$(n,t){_n(n,"position","absolute"),_n(n,"top",t.top),_n(n,"left",t.left),_n(n,"width",t.width),_n(n,"height",t.height)}function WI(n){_n(n,"position",""),_n(n,"top",""),_n(n,"left",""),_n(n,"width",""),_n(n,"height","")}var is="Sortable"+new Date().getTime();function m4e(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(_n(o,"display")==="none"||o===jn.ghost)){n.push({target:o,rect:Ho(o)});var i=Rd({},n[n.length-1].rect);if(o.thisAnimationDuration){var a=Cm(o,!0);a&&(i.top-=a.f,i.left-=a.e)}o.fromRect=i}})}},addAnimationState:function(r){n.push(r)},removeAnimationState:function(r){n.splice(A4e(n,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var i=!1,a=0;n.forEach(function(s){var l=0,u=s.target,c=u.fromRect,d=Ho(u),f=u.prevFromRect,h=u.prevToRect,p=s.rect,v=Cm(u,!0);v&&(d.top-=v.f,d.left-=v.e),u.toRect=d,u.thisAnimationDuration&&KI(f,d)&&!KI(c,d)&&(p.top-d.top)/(p.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=g4e(p,f,h,o.options)),KI(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=o.options.animation),o.animate(u,p,d,l)),l&&(i=!0,a=Math.max(a,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(t),i?t=setTimeout(function(){typeof r=="function"&&r()},a):typeof r=="function"&&r(),n=[]},animate:function(r,o,i,a){if(a){_n(r,"transition",""),_n(r,"transform","");var s=Cm(this.el),l=s&&s.a,u=s&&s.d,c=(o.left-i.left)/(l||1),d=(o.top-i.top)/(u||1);r.animatingX=!!c,r.animatingY=!!d,_n(r,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=v4e(r),_n(r,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),_n(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){_n(r,"transition",""),_n(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},a)}}}}function v4e(n){return n.offsetWidth}function g4e(n,t,e,r){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*r.animation}var Zv=[],zI={initializeByDefault:!0},dC={mount:function(t){for(var e in zI)zI.hasOwnProperty(e)&&!(e in t)&&(t[e]=zI[e]);Zv.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Zv.push(t)},pluginEvent:function(t,e,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var i=t+"Global";Zv.forEach(function(a){e[a.pluginName]&&(e[a.pluginName][i]&&e[a.pluginName][i](Rd({sortable:e},r)),e.options[a.pluginName]&&e[a.pluginName][t]&&e[a.pluginName][t](Rd({sortable:e},r)))})},initializePlugins:function(t,e,r,o){Zv.forEach(function(s){var l=s.pluginName;if(!(!t.options[l]&&!s.initializeByDefault)){var u=new s(t,e,t.options);u.sortable=t,u.options=t.options,t[l]=u,Xu(r,u.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var a=this.modifyOption(t,i,t.options[i]);typeof a<"u"&&(t.options[i]=a)}},getEventProperties:function(t,e){var r={};return Zv.forEach(function(o){typeof o.eventProperties=="function"&&Xu(r,o.eventProperties.call(e[o.pluginName],t))}),r},modifyOption:function(t,e,r){var o;return Zv.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[e]=="function"&&(o=i.optionListeners[e].call(t[i.pluginName],r))}),o}};function hb(n){var t=n.sortable,e=n.rootEl,r=n.name,o=n.targetEl,i=n.cloneEl,a=n.toEl,s=n.fromEl,l=n.oldIndex,u=n.newIndex,c=n.oldDraggableIndex,d=n.newDraggableIndex,f=n.originalEvent,h=n.putSortable,p=n.extraEventProperties;if(t=t||e&&e[is],!!t){var v,g=t.options,_="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!mA&&!cC?v=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(r,!0,!0)),v.to=a||e,v.from=s||e,v.item=o||e,v.clone=i,v.oldIndex=l,v.newIndex=u,v.oldDraggableIndex=c,v.newDraggableIndex=d,v.originalEvent=f,v.pullMode=h?h.lastPutMode:void 0;var S=Rd(Rd({},p),dC.getEventProperties(r,t));for(var y in S)v[y]=S[y];e&&e.dispatchEvent(v),g[_]&&g[_].call(t,v)}}var y4e=["evt"],Al=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,i=o4e(r,y4e);dC.pluginEvent.bind(jn)(t,e,Rd({dragEl:nn,parentEl:ri,ghostEl:ir,rootEl:Vo,nextEl:Pp,lastDownEl:ux,cloneEl:oi,cloneHidden:ah,dragStarted:pb,putSortable:Ea,activeSortable:jn.active,originalEvent:o,oldIndex:jg,oldDraggableIndex:qb,newIndex:Xl,newDraggableIndex:th,hideGhostForTarget:MZ,unhideGhostForTarget:FZ,cloneNowHidden:function(){ah=!0},cloneNowShown:function(){ah=!1},dispatchSortableEvent:function(s){Fs({sortable:e,name:s,originalEvent:o})}},i))};function Fs(n){hb(Rd({putSortable:Ea,cloneEl:oi,targetEl:nn,rootEl:Vo,oldIndex:jg,oldDraggableIndex:qb,newIndex:Xl,newDraggableIndex:th},n))}var nn,ri,ir,Vo,Pp,ux,oi,ah,jg,Xl,qb,th,Z1,Ea,mg=!1,KB=!1,WB=[],xp,vc,GI,YI,g$,y$,pb,qv,ew,tw=!1,q1=!1,cx,za,XI=[],lU=!1,zB=[],tO=typeof document<"u",eS=xZ,b$=cC||mA?"cssFloat":"float",b4e=tO&&!d4e&&!xZ&&"draggable"in document.createElement("div"),OZ=(function(){if(tO){if(mA)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}})(),PZ=function(t,e){var r=_n(t),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=Fy(t,0,e),a=Fy(t,1,e),s=i&&_n(i),l=a&&_n(a),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Ho(i).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ho(a).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return i&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=o&&r[b$]==="none"||a&&r[b$]==="none"&&u+c>o)?"vertical":"horizontal"},w4e=function(t,e,r){var o=r?t.left:t.top,i=r?t.right:t.bottom,a=r?t.width:t.height,s=r?e.left:e.top,l=r?e.right:e.bottom,u=r?e.width:e.height;return o===s||i===l||o+a/2===s+u/2},_4e=function(t,e){var r;return WB.some(function(o){var i=o[is].options.emptyInsertThreshold;if(!(!i||lN(o))){var a=Ho(o),s=t>=a.left-i&&t<=a.right+i,l=e>=a.top-i&&e<=a.bottom+i;if(s&&l)return r=o}}),r},IZ=function(t){function e(i,a){return function(s,l,u,c){var d=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(i==null&&(a||d))return!0;if(i==null||i===!1)return!1;if(a&&i==="clone")return i;if(typeof i=="function")return e(i(s,l,u,c),a)(s,l,u,c);var f=(a?s:l).options.group.name;return i===!0||typeof i=="string"&&i===f||i.join&&i.indexOf(f)>-1}}var r={},o=t.group;(!o||lx(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=e(o.pull,!0),r.checkPut=e(o.put),r.revertClone=o.revertClone,t.group=r},MZ=function(){!OZ&&ir&&_n(ir,"display","none")},FZ=function(){!OZ&&ir&&_n(ir,"display","")};tO&&document.addEventListener("click",function(n){if(KB)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),KB=!1,!1},!0);var Ep=function(t){if(nn){t=t.touches?t.touches[0]:t;var e=_4e(t.clientX,t.clientY);if(e){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);r.target=r.rootEl=e,r.preventDefault=void 0,r.stopPropagation=void 0,e[is]._onDragOver(r)}}},C4e=function(t){nn&&nn.parentNode[is]._isOutsideThisEl(t.target)};function jn(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=Xu({},t),n[is]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return PZ(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:jn.supportPointer!==!1&&"PointerEvent"in window&&!Jb,emptyInsertThreshold:5};dC.initializePlugins(this,n,e);for(var r in e)!(r in t)&&(t[r]=e[r]);IZ(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:b4e,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Sr(n,"pointerdown",this._onTapStart):(Sr(n,"mousedown",this._onTapStart),Sr(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Sr(n,"dragover",this),Sr(n,"dragenter",this)),WB.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Xu(this,m4e())}jn.prototype={constructor:jn,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(qv=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,nn):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,r=this.el,o=this.options,i=o.preventOnFilter,a=t.type,s=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(s||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=o.filter;if(P4e(r),!nn&&!(/mousedown|pointerdown/.test(a)&&t.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Jb&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Cc(l,o.draggable,r,!1),!(l&&l.animated)&&ux!==l)){if(jg=si(l),qb=si(l,o.draggable),typeof c=="function"){if(c.call(this,t,l,this)){Fs({sortable:e,rootEl:u,name:"filter",targetEl:l,toEl:r,fromEl:r}),Al("filter",e,{evt:t}),i&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Cc(u,d.trim(),r,!1),d)return Fs({sortable:e,rootEl:d,name:"filter",targetEl:l,fromEl:r,toEl:r}),Al("filter",e,{evt:t}),!0}),c)){i&&t.cancelable&&t.preventDefault();return}o.handle&&!Cc(u,o.handle,r,!1)||this._prepareDragStart(t,s,l)}}},_prepareDragStart:function(t,e,r){var o=this,i=o.el,a=o.options,s=i.ownerDocument,l;if(r&&!nn&&r.parentNode===i){var u=Ho(r);if(Vo=i,nn=r,ri=nn.parentNode,Pp=nn.nextSibling,ux=r,Z1=a.group,jn.dragged=nn,xp={target:nn,clientX:(e||t).clientX,clientY:(e||t).clientY},g$=xp.clientX-u.left,y$=xp.clientY-u.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,nn.style["will-change"]="all",l=function(){if(Al("delayEnded",o,{evt:t}),jn.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!A$&&o.nativeDraggable&&(nn.draggable=!0),o._triggerDragStart(t,e),Fs({sortable:o,name:"choose",originalEvent:t}),Wo(nn,a.chosenClass,!0)},a.ignore.split(",").forEach(function(c){BZ(nn,c.trim(),JI)}),Sr(s,"dragover",Ep),Sr(s,"mousemove",Ep),Sr(s,"touchmove",Ep),Sr(s,"mouseup",o._onDrop),Sr(s,"touchend",o._onDrop),Sr(s,"touchcancel",o._onDrop),A$&&this.nativeDraggable&&(this.options.touchStartThreshold=4,nn.draggable=!0),Al("delayStart",this,{evt:t}),a.delay&&(!a.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(cC||mA))){if(jn.eventCanceled){this._onDrop();return}Sr(s,"mouseup",o._disableDelayedDrag),Sr(s,"touchend",o._disableDelayedDrag),Sr(s,"touchcancel",o._disableDelayedDrag),Sr(s,"mousemove",o._delayedDragTouchMoveHandler),Sr(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&Sr(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){nn&&JI(nn),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;pr(t,"mouseup",this._disableDelayedDrag),pr(t,"touchend",this._disableDelayedDrag),pr(t,"touchcancel",this._disableDelayedDrag),pr(t,"mousemove",this._delayedDragTouchMoveHandler),pr(t,"touchmove",this._delayedDragTouchMoveHandler),pr(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?Sr(document,"pointermove",this._onTouchMove):e?Sr(document,"touchmove",this._onTouchMove):Sr(document,"mousemove",this._onTouchMove):(Sr(nn,"dragend",this),Sr(Vo,"dragstart",this._onDragStart));try{document.selection?dx(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(mg=!1,Vo&&nn){Al("dragStarted",this,{evt:e}),this.nativeDraggable&&Sr(document,"dragover",C4e);var r=this.options;!t&&Wo(nn,r.dragClass,!1),Wo(nn,r.ghostClass,!0),jn.active=this,t&&this._appendGhost(),Fs({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(vc){this._lastX=vc.clientX,this._lastY=vc.clientY,MZ();for(var t=document.elementFromPoint(vc.clientX,vc.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(vc.clientX,vc.clientY),t!==e);)e=t;if(nn.parentNode[is]._isOutsideThisEl(t),e)do{if(e[is]){var r=void 0;if(r=e[is]._onDragOver({clientX:vc.clientX,clientY:vc.clientY,target:t,rootEl:e}),r&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);FZ()}},_onTouchMove:function(t){if(xp){var e=this.options,r=e.fallbackTolerance,o=e.fallbackOffset,i=t.touches?t.touches[0]:t,a=ir&&Cm(ir,!0),s=ir&&a&&a.a,l=ir&&a&&a.d,u=eS&&za&&m$(za),c=(i.clientX-xp.clientX+o.x)/(s||1)+(u?u[0]-XI[0]:0)/(s||1),d=(i.clientY-xp.clientY+o.y)/(l||1)+(u?u[1]-XI[1]:0)/(l||1);if(!jn.active&&!mg){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(ir){a?(a.e+=c-(GI||0),a.f+=d-(YI||0)):a={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");_n(ir,"webkitTransform",f),_n(ir,"mozTransform",f),_n(ir,"msTransform",f),_n(ir,"transform",f),GI=c,YI=d,vc=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!ir){var t=this.options.fallbackOnBody?document.body:Vo,e=Ho(nn,!0,eS,!0,t),r=this.options;if(eS){for(za=t;_n(za,"position")==="static"&&_n(za,"transform")==="none"&&za!==document;)za=za.parentNode;za!==document.body&&za!==document.documentElement?(za===document&&(za=Bd()),e.top+=za.scrollTop,e.left+=za.scrollLeft):za=Bd(),XI=m$(za)}ir=nn.cloneNode(!0),Wo(ir,r.ghostClass,!1),Wo(ir,r.fallbackClass,!0),Wo(ir,r.dragClass,!0),_n(ir,"transition",""),_n(ir,"transform",""),_n(ir,"box-sizing","border-box"),_n(ir,"margin",0),_n(ir,"top",e.top),_n(ir,"left",e.left),_n(ir,"width",e.width),_n(ir,"height",e.height),_n(ir,"opacity","0.8"),_n(ir,"position",eS?"absolute":"fixed"),_n(ir,"zIndex","100000"),_n(ir,"pointerEvents","none"),jn.ghost=ir,t.appendChild(ir),_n(ir,"transform-origin",g$/parseInt(ir.style.width)*100+"% "+y$/parseInt(ir.style.height)*100+"%")}},_onDragStart:function(t,e){var r=this,o=t.dataTransfer,i=r.options;if(Al("dragStart",this,{evt:t}),jn.eventCanceled){this._onDrop();return}Al("setupClone",this),jn.eventCanceled||(oi=uN(nn),oi.draggable=!1,oi.style["will-change"]="",this._hideClone(),Wo(oi,this.options.chosenClass,!1),jn.clone=oi),r.cloneId=dx(function(){Al("clone",r),!jn.eventCanceled&&(r.options.removeCloneOnHide||Vo.insertBefore(oi,nn),r._hideClone(),Fs({sortable:r,name:"clone"}))}),!e&&Wo(nn,i.dragClass,!0),e?(KB=!0,r._loopId=setInterval(r._emulateDragOver,50)):(pr(document,"mouseup",r._onDrop),pr(document,"touchend",r._onDrop),pr(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(r,o,nn)),Sr(document,"drop",r),_n(nn,"transform","translateZ(0)")),mg=!0,r._dragStartId=dx(r._dragStarted.bind(r,e,t)),Sr(document,"selectstart",r),pb=!0,Jb&&_n(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,r=t.target,o,i,a,s=this.options,l=s.group,u=jn.active,c=Z1===l,d=s.sort,f=Ea||u,h,p=this,v=!1;if(lU)return;function g(ue,we){Al(ue,p,Rd({evt:t,isOwner:c,axis:h?"vertical":"horizontal",revert:a,dragRect:o,targetRect:i,canSort:d,fromSortable:f,target:r,completed:S,onMove:function(We,pe){return tS(Vo,e,nn,o,We,Ho(We),t,pe)},changed:y},we))}function _(){g("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function S(ue){return g("dragOverCompleted",{insertion:ue}),ue&&(c?u._hideClone():u._showClone(p),p!==f&&(Wo(nn,Ea?Ea.options.ghostClass:u.options.ghostClass,!1),Wo(nn,s.ghostClass,!0)),Ea!==p&&p!==jn.active?Ea=p:p===jn.active&&Ea&&(Ea=null),f===p&&(p._ignoreWhileAnimating=r),p.animateAll(function(){g("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===nn&&!nn.animated||r===e&&!r.animated)&&(qv=null),!s.dragoverBubble&&!t.rootEl&&r!==document&&(nn.parentNode[is]._isOutsideThisEl(t.target),!ue&&Ep(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function y(){Xl=si(nn),th=si(nn,s.draggable),Fs({sortable:p,name:"change",toEl:e,newIndex:Xl,newDraggableIndex:th,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Cc(r,s.draggable,e,!0),g("dragOver"),jn.eventCanceled)return v;if(nn.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||p._ignoreWhileAnimating===r)return S(!1);if(KB=!1,u&&!s.disabled&&(c?d||(a=ri!==Vo):Ea===this||(this.lastPutMode=Z1.checkPull(this,u,nn,t))&&l.checkPut(this,u,nn,t))){if(h=this._getDirection(t,r)==="vertical",o=Ho(nn),g("dragOverValid"),jn.eventCanceled)return v;if(a)return ri=Vo,_(),this._hideClone(),g("revert"),jn.eventCanceled||(Pp?Vo.insertBefore(nn,Pp):Vo.appendChild(nn)),S(!0);var C=lN(e,s.draggable);if(!C||B4e(t,h,this)&&!C.animated){if(C===nn)return S(!1);if(C&&e===t.target&&(r=C),r&&(i=Ho(r)),tS(Vo,e,nn,o,r,i,t,!!r)!==!1)return _(),e.appendChild(nn),ri=e,y(),S(!0)}else if(C&&E4e(t,h,this)){var T=Fy(e,0,s,!0);if(T===nn)return S(!1);if(r=T,i=Ho(r),tS(Vo,e,nn,o,r,i,t,!1)!==!1)return _(),e.insertBefore(nn,T),ri=e,y(),S(!0)}else if(r.parentNode===e){i=Ho(r);var P=0,F,I=nn.parentNode!==e,k=!w4e(nn.animated&&nn.toRect||o,r.animated&&r.toRect||i,h),M=h?"top":"left",V=p$(r,"top","top")||p$(nn,"top","top"),U=V?V.scrollTop:void 0;qv!==r&&(F=i[M],tw=!1,q1=!k&&s.invertSwap||I),P=k4e(t,r,i,h,k?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,q1,qv===r);var $;if(P!==0){var Q=si(nn);do Q-=P,$=ri.children[Q];while($&&(_n($,"display")==="none"||$===ir))}if(P===0||$===r)return S(!1);qv=r,ew=P;var J=r.nextElementSibling,R=!1;R=P===1;var ne=tS(Vo,e,nn,o,r,i,t,R);if(ne!==!1)return(ne===1||ne===-1)&&(R=ne===1),lU=!0,setTimeout(x4e,30),_(),R&&!J?e.appendChild(nn):r.parentNode.insertBefore(nn,R?J:r),V&&TZ(V,0,U-V.scrollTop),ri=nn.parentNode,F!==void 0&&!q1&&(cx=Math.abs(F-Ho(r)[M])),y(),S(!0)}if(e.contains(nn))return S(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){pr(document,"mousemove",this._onTouchMove),pr(document,"touchmove",this._onTouchMove),pr(document,"pointermove",this._onTouchMove),pr(document,"dragover",Ep),pr(document,"mousemove",Ep),pr(document,"touchmove",Ep)},_offUpEvents:function(){var t=this.el.ownerDocument;pr(t,"mouseup",this._onDrop),pr(t,"touchend",this._onDrop),pr(t,"pointerup",this._onDrop),pr(t,"touchcancel",this._onDrop),pr(document,"selectstart",this)},_onDrop:function(t){var e=this.el,r=this.options;if(Xl=si(nn),th=si(nn,r.draggable),Al("drop",this,{evt:t}),ri=nn&&nn.parentNode,Xl=si(nn),th=si(nn,r.draggable),jn.eventCanceled){this._nulling();return}mg=!1,q1=!1,tw=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),uU(this.cloneId),uU(this._dragStartId),this.nativeDraggable&&(pr(document,"drop",this),pr(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Jb&&_n(document.body,"user-select",""),_n(nn,"transform",""),t&&(pb&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),ir&&ir.parentNode&&ir.parentNode.removeChild(ir),(Vo===ri||Ea&&Ea.lastPutMode!=="clone")&&oi&&oi.parentNode&&oi.parentNode.removeChild(oi),nn&&(this.nativeDraggable&&pr(nn,"dragend",this),JI(nn),nn.style["will-change"]="",pb&&!mg&&Wo(nn,Ea?Ea.options.ghostClass:this.options.ghostClass,!1),Wo(nn,this.options.chosenClass,!1),Fs({sortable:this,name:"unchoose",toEl:ri,newIndex:null,newDraggableIndex:null,originalEvent:t}),Vo!==ri?(Xl>=0&&(Fs({rootEl:ri,name:"add",toEl:ri,fromEl:Vo,originalEvent:t}),Fs({sortable:this,name:"remove",toEl:ri,originalEvent:t}),Fs({rootEl:ri,name:"sort",toEl:ri,fromEl:Vo,originalEvent:t}),Fs({sortable:this,name:"sort",toEl:ri,originalEvent:t})),Ea&&Ea.save()):Xl!==jg&&Xl>=0&&(Fs({sortable:this,name:"update",toEl:ri,originalEvent:t}),Fs({sortable:this,name:"sort",toEl:ri,originalEvent:t})),jn.active&&((Xl==null||Xl===-1)&&(Xl=jg,th=qb),Fs({sortable:this,name:"end",toEl:ri,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Al("nulling",this),Vo=nn=ri=ir=Pp=oi=ux=ah=xp=vc=pb=Xl=th=jg=qb=qv=ew=Ea=Z1=jn.dragged=jn.ghost=jn.clone=jn.active=null,zB.forEach(function(t){t.checked=!0}),zB.length=GI=YI=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":nn&&(this._onDragOver(t),S4e(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,r=this.el.children,o=0,i=r.length,a=this.options;o<i;o++)e=r[o],Cc(e,a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||O4e(e));return t},sort:function(t,e){var r={},o=this.el;this.toArray().forEach(function(i,a){var s=o.children[a];Cc(s,this.options.draggable,o,!1)&&(r[i]=s)},this),e&&this.captureAnimationState(),t.forEach(function(i){r[i]&&(o.removeChild(r[i]),o.appendChild(r[i]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return Cc(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var r=this.options;if(e===void 0)return r[t];var o=dC.modifyOption(this,t,e);typeof o<"u"?r[t]=o:r[t]=e,t==="group"&&IZ(r)},destroy:function(){Al("destroy",this);var t=this.el;t[is]=null,pr(t,"mousedown",this._onTapStart),pr(t,"touchstart",this._onTapStart),pr(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(pr(t,"dragover",this),pr(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),WB.splice(WB.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ah){if(Al("hideClone",this),jn.eventCanceled)return;_n(oi,"display","none"),this.options.removeCloneOnHide&&oi.parentNode&&oi.parentNode.removeChild(oi),ah=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ah){if(Al("showClone",this),jn.eventCanceled)return;nn.parentNode==Vo&&!this.options.group.revertClone?Vo.insertBefore(oi,nn):Pp?Vo.insertBefore(oi,Pp):Vo.appendChild(oi),this.options.group.revertClone&&this.animate(nn,oi),_n(oi,"display",""),ah=!1}}};function S4e(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function tS(n,t,e,r,o,i,a,s){var l,u=n[is],c=u.options.onMove,d;return window.CustomEvent&&!mA&&!cC?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=n,l.dragged=e,l.draggedRect=r,l.related=o||t,l.relatedRect=i||Ho(t),l.willInsertAfter=s,l.originalEvent=a,n.dispatchEvent(l),c&&(d=c.call(u,l,a)),d}function JI(n){n.draggable=!1}function x4e(){lU=!1}function E4e(n,t,e){var r=Ho(Fy(e.el,0,e.options,!0)),o=10;return t?n.clientX<r.left-o||n.clientY<r.top&&n.clientX<r.right:n.clientY<r.top-o||n.clientY<r.bottom&&n.clientX<r.left}function B4e(n,t,e){var r=Ho(lN(e.el,e.options.draggable)),o=10;return t?n.clientX>r.right+o||n.clientX<=r.right&&n.clientY>r.bottom&&n.clientX>=r.left:n.clientX>r.right&&n.clientY>r.top||n.clientX<=r.right&&n.clientY>r.bottom+o}function k4e(n,t,e,r,o,i,a,s){var l=r?n.clientY:n.clientX,u=r?e.height:e.width,c=r?e.top:e.left,d=r?e.bottom:e.right,f=!1;if(!a){if(s&&cx<u*o){if(!tw&&(ew===1?l>c+u*i/2:l<d-u*i/2)&&(tw=!0),tw)f=!0;else if(ew===1?l<c+cx:l>d-cx)return-ew}else if(l>c+u*(1-o)/2&&l<d-u*(1-o)/2)return T4e(t)}return f=f||a,f&&(l<c+u*i/2||l>d-u*i/2)?l>c+u/2?1:-1:0}function T4e(n){return si(nn)<si(n)?1:-1}function O4e(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,r=0;e--;)r+=t.charCodeAt(e);return r.toString(36)}function P4e(n){zB.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var r=t[e];r.checked&&zB.push(r)}}function dx(n){return setTimeout(n,0)}function uU(n){return clearTimeout(n)}tO&&Sr(document,"touchmove",function(n){(jn.active||mg)&&n.cancelable&&n.preventDefault()});jn.utils={on:Sr,off:pr,css:_n,find:BZ,is:function(t,e){return!!Cc(t,e,t,!1)},extend:h4e,throttle:kZ,closest:Cc,toggleClass:Wo,clone:uN,index:si,nextTick:dx,cancelNextTick:uU,detectDirection:PZ,getChild:Fy};jn.get=function(n){return n[is]};jn.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(jn.utils=Rd(Rd({},jn.utils),r.utils)),dC.mount(r)})};jn.create=function(n,t){return new jn(n,t)};jn.version=c4e;var Pi=[],mb,cU,dU=!1,ZI,qI,GB,vb;function I4e(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(e){var r=e.originalEvent;this.sortable.nativeDraggable?Sr(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Sr(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Sr(document,"touchmove",this._handleFallbackAutoScroll):Sr(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var r=e.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?pr(document,"dragover",this._handleAutoScroll):(pr(document,"pointermove",this._handleFallbackAutoScroll),pr(document,"touchmove",this._handleFallbackAutoScroll),pr(document,"mousemove",this._handleFallbackAutoScroll)),w$(),fx(),p4e()},nulling:function(){GB=cU=mb=dU=vb=ZI=qI=null,Pi.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,r){var o=this,i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=document.elementFromPoint(i,a);if(GB=e,r||this.options.forceAutoScrollFallback||cC||mA||Jb){eM(e,this.options,s,r);var l=hh(s,!0);dU&&(!vb||i!==ZI||a!==qI)&&(vb&&w$(),vb=setInterval(function(){var u=hh(document.elementFromPoint(i,a),!0);u!==l&&(l=u,fx()),eM(e,o.options,u,r)},10),ZI=i,qI=a)}else{if(!this.options.bubbleScroll||hh(s,!0)===Bd()){fx();return}eM(e,this.options,hh(s,!1),!1)}}},Xu(n,{pluginName:"scroll",initializeByDefault:!0})}function fx(){Pi.forEach(function(n){clearInterval(n.pid)}),Pi=[]}function w$(){clearInterval(vb)}var eM=kZ(function(n,t,e,r){if(t.scroll){var o=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,a=t.scrollSensitivity,s=t.scrollSpeed,l=Bd(),u=!1,c;cU!==e&&(cU=e,fx(),mb=t.scroll,c=t.scrollFn,mb===!0&&(mb=hh(e,!0)));var d=0,f=mb;do{var h=f,p=Ho(h),v=p.top,g=p.bottom,_=p.left,S=p.right,y=p.width,C=p.height,T=void 0,P=void 0,F=h.scrollWidth,I=h.scrollHeight,k=_n(h),M=h.scrollLeft,V=h.scrollTop;h===l?(T=y<F&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),P=C<I&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(T=y<F&&(k.overflowX==="auto"||k.overflowX==="scroll"),P=C<I&&(k.overflowY==="auto"||k.overflowY==="scroll"));var U=T&&(Math.abs(S-o)<=a&&M+y<F)-(Math.abs(_-o)<=a&&!!M),$=P&&(Math.abs(g-i)<=a&&V+C<I)-(Math.abs(v-i)<=a&&!!V);if(!Pi[d])for(var Q=0;Q<=d;Q++)Pi[Q]||(Pi[Q]={});(Pi[d].vx!=U||Pi[d].vy!=$||Pi[d].el!==h)&&(Pi[d].el=h,Pi[d].vx=U,Pi[d].vy=$,clearInterval(Pi[d].pid),(U!=0||$!=0)&&(u=!0,Pi[d].pid=setInterval((function(){r&&this.layer===0&&jn.active._onTouchMove(GB);var J=Pi[this.layer].vy?Pi[this.layer].vy*s:0,R=Pi[this.layer].vx?Pi[this.layer].vx*s:0;typeof c=="function"&&c.call(jn.dragged.parentNode[is],R,J,n,GB,Pi[this.layer].el)!=="continue"||TZ(Pi[this.layer].el,R,J)}).bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==l&&(f=hh(f,!1)));dU=u}},30),DZ=function(t){var e=t.originalEvent,r=t.putSortable,o=t.dragEl,i=t.activeSortable,a=t.dispatchSortableEvent,s=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(e){var u=r||i;s();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(a("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function cN(){}cN.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=Fy(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(e,o):this.sortable.el.appendChild(e),this.sortable.animateAll(),r&&r.animateAll()},drop:DZ};Xu(cN,{pluginName:"revertOnSpill"});function dN(){}dN.prototype={onSpill:function(t){var e=t.dragEl,r=t.putSortable,o=r||this.sortable;o.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),o.animateAll()},drop:DZ};Xu(dN,{pluginName:"removeOnSpill"});var Su;function M4e(){function n(){this.defaults={swapClass:"sortable-swap-highlight"}}return n.prototype={dragStart:function(e){var r=e.dragEl;Su=r},dragOverValid:function(e){var r=e.completed,o=e.target,i=e.onMove,a=e.activeSortable,s=e.changed,l=e.cancel;if(a.options.swap){var u=this.sortable.el,c=this.options;if(o&&o!==u){var d=Su;i(o)!==!1?(Wo(o,c.swapClass,!0),Su=o):Su=null,d&&d!==Su&&Wo(d,c.swapClass,!1)}s(),r(!0),l()}},drop:function(e){var r=e.activeSortable,o=e.putSortable,i=e.dragEl,a=o||this.sortable,s=this.options;Su&&Wo(Su,s.swapClass,!1),Su&&(s.swap||o&&o.options.swap)&&i!==Su&&(a.captureAnimationState(),a!==r&&r.captureAnimationState(),F4e(i,Su),a.animateAll(),a!==r&&r.animateAll())},nulling:function(){Su=null}},Xu(n,{pluginName:"swap",eventProperties:function(){return{swapItem:Su}}})}function F4e(n,t){var e=n.parentNode,r=t.parentNode,o,i;!e||!r||e.isEqualNode(t)||r.isEqualNode(n)||(o=si(n),i=si(t),e.isEqualNode(r)&&o<i&&i++,e.insertBefore(t,e.children[o]),r.insertBefore(n,r.children[i]))}var qn=[],Wl=[],Y0,gc,X0=!1,hl=!1,eg=!1,vo,J0,nS;function D4e(){function n(t){for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this));t.options.supportPointer?Sr(document,"pointerup",this._deselectMultiDrag):(Sr(document,"mouseup",this._deselectMultiDrag),Sr(document,"touchend",this._deselectMultiDrag)),Sr(document,"keydown",this._checkKeyDown),Sr(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(o,i){var a="";qn.length&&gc===t?qn.forEach(function(s,l){a+=(l?", ":"")+s.textContent}):a=i.textContent,o.setData("Text",a)}}}return n.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var r=e.dragEl;vo=r},delayEnded:function(){this.isMultiDrag=~qn.indexOf(vo)},setupClone:function(e){var r=e.sortable,o=e.cancel;if(this.isMultiDrag){for(var i=0;i<qn.length;i++)Wl.push(uN(qn[i])),Wl[i].sortableIndex=qn[i].sortableIndex,Wl[i].draggable=!1,Wl[i].style["will-change"]="",Wo(Wl[i],this.options.selectedClass,!1),qn[i]===vo&&Wo(Wl[i],this.options.chosenClass,!1);r._hideClone(),o()}},clone:function(e){var r=e.sortable,o=e.rootEl,i=e.dispatchSortableEvent,a=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||qn.length&&gc===r&&(_$(!0,o),i("clone"),a()))},showClone:function(e){var r=e.cloneNowShown,o=e.rootEl,i=e.cancel;this.isMultiDrag&&(_$(!1,o),Wl.forEach(function(a){_n(a,"display","")}),r(),nS=!1,i())},hideClone:function(e){var r=this;e.sortable;var o=e.cloneNowHidden,i=e.cancel;this.isMultiDrag&&(Wl.forEach(function(a){_n(a,"display","none"),r.options.removeCloneOnHide&&a.parentNode&&a.parentNode.removeChild(a)}),o(),nS=!0,i())},dragStartGlobal:function(e){e.sortable,!this.isMultiDrag&&gc&&gc.multiDrag._deselectMultiDrag(),qn.forEach(function(r){r.sortableIndex=si(r)}),qn=qn.sort(function(r,o){return r.sortableIndex-o.sortableIndex}),eg=!0},dragStarted:function(e){var r=this,o=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(o.captureAnimationState(),this.options.animation)){qn.forEach(function(a){a!==vo&&_n(a,"position","absolute")});var i=Ho(vo,!1,!0,!0);qn.forEach(function(a){a!==vo&&v$(a,i)}),hl=!0,X0=!0}o.animateAll(function(){hl=!1,X0=!1,r.options.animation&&qn.forEach(function(a){WI(a)}),r.options.sort&&rS()})}},dragOver:function(e){var r=e.target,o=e.completed,i=e.cancel;hl&&~qn.indexOf(r)&&(o(!1),i())},revert:function(e){var r=e.fromSortable,o=e.rootEl,i=e.sortable,a=e.dragRect;qn.length>1&&(qn.forEach(function(s){i.addAnimationState({target:s,rect:hl?Ho(s):a}),WI(s),s.fromRect=a,r.removeAnimationState(s)}),hl=!1,U4e(!this.options.removeCloneOnHide,o))},dragOverCompleted:function(e){var r=e.sortable,o=e.isOwner,i=e.insertion,a=e.activeSortable,s=e.parentEl,l=e.putSortable,u=this.options;if(i){if(o&&a._hideClone(),X0=!1,u.animation&&qn.length>1&&(hl||!o&&!a.options.sort&&!l)){var c=Ho(vo,!1,!0,!0);qn.forEach(function(f){f!==vo&&(v$(f,c),s.appendChild(f))}),hl=!0}if(!o)if(hl||rS(),qn.length>1){var d=nS;a._showClone(r),a.options.animation&&!nS&&d&&Wl.forEach(function(f){a.addAnimationState({target:f,rect:J0}),f.fromRect=J0,f.thisAnimationDuration=null})}else a._showClone(r)}},dragOverAnimationCapture:function(e){var r=e.dragRect,o=e.isOwner,i=e.activeSortable;if(qn.forEach(function(s){s.thisAnimationDuration=null}),i.options.animation&&!o&&i.multiDrag.isMultiDrag){J0=Xu({},r);var a=Cm(vo,!0);J0.top-=a.f,J0.left-=a.e}},dragOverAnimationComplete:function(){hl&&(hl=!1,rS())},drop:function(e){var r=e.originalEvent,o=e.rootEl,i=e.parentEl,a=e.sortable,s=e.dispatchSortableEvent,l=e.oldIndex,u=e.putSortable,c=u||this.sortable;if(r){var d=this.options,f=i.children;if(!eg)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Wo(vo,d.selectedClass,!~qn.indexOf(vo)),~qn.indexOf(vo))qn.splice(qn.indexOf(vo),1),Y0=null,hb({sortable:a,rootEl:o,name:"deselect",targetEl:vo});else{if(qn.push(vo),hb({sortable:a,rootEl:o,name:"select",targetEl:vo}),r.shiftKey&&Y0&&a.el.contains(Y0)){var h=si(Y0),p=si(vo);if(~h&&~p&&h!==p){var v,g;for(p>h?(g=h,v=p):(g=p,v=h+1);g<v;g++)~qn.indexOf(f[g])||(Wo(f[g],d.selectedClass,!0),qn.push(f[g]),hb({sortable:a,rootEl:o,name:"select",targetEl:f[g]}))}}else Y0=vo;gc=c}if(eg&&this.isMultiDrag){if(hl=!1,(i[is].options.sort||i!==o)&&qn.length>1){var _=Ho(vo),S=si(vo,":not(."+this.options.selectedClass+")");if(!X0&&d.animation&&(vo.thisAnimationDuration=null),c.captureAnimationState(),!X0&&(d.animation&&(vo.fromRect=_,qn.forEach(function(C){if(C.thisAnimationDuration=null,C!==vo){var T=hl?Ho(C):_;C.fromRect=T,c.addAnimationState({target:C,rect:T})}})),rS(),qn.forEach(function(C){f[S]?i.insertBefore(C,f[S]):i.appendChild(C),S++}),l===si(vo))){var y=!1;qn.forEach(function(C){if(C.sortableIndex!==si(C)){y=!0;return}}),y&&s("update")}qn.forEach(function(C){WI(C)}),c.animateAll()}gc=c}(o===i||u&&u.lastPutMode!=="clone")&&Wl.forEach(function(C){C.parentNode&&C.parentNode.removeChild(C)})}},nullingGlobal:function(){this.isMultiDrag=eg=!1,Wl.length=0},destroyGlobal:function(){this._deselectMultiDrag(),pr(document,"pointerup",this._deselectMultiDrag),pr(document,"mouseup",this._deselectMultiDrag),pr(document,"touchend",this._deselectMultiDrag),pr(document,"keydown",this._checkKeyDown),pr(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(typeof eg<"u"&&eg)&&gc===this.sortable&&!(e&&Cc(e.target,this.options.draggable,this.sortable.el,!1))&&!(e&&e.button!==0))for(;qn.length;){var r=qn[0];Wo(r,this.options.selectedClass,!1),qn.shift(),hb({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Xu(n,{pluginName:"multiDrag",utils:{select:function(e){var r=e.parentNode[is];!r||!r.options.multiDrag||~qn.indexOf(e)||(gc&&gc!==r&&(gc.multiDrag._deselectMultiDrag(),gc=r),Wo(e,r.options.selectedClass,!0),qn.push(e))},deselect:function(e){var r=e.parentNode[is],o=qn.indexOf(e);!r||!r.options.multiDrag||!~o||(Wo(e,r.options.selectedClass,!1),qn.splice(o,1))}},eventProperties:function(){var e=this,r=[],o=[];return qn.forEach(function(i){r.push({multiDragElement:i,index:i.sortableIndex});var a;hl&&i!==vo?a=-1:hl?a=si(i,":not(."+e.options.selectedClass+")"):a=si(i),o.push({multiDragElement:i,index:a})}),{items:i4e(qn),clones:[].concat(Wl),oldIndicies:r,newIndicies:o}},optionListeners:{multiDragKey:function(e){return e=e.toLowerCase(),e==="ctrl"?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function U4e(n,t){qn.forEach(function(e,r){var o=t.children[e.sortableIndex+(n?Number(r):0)];o?t.insertBefore(e,o):t.appendChild(e)})}function _$(n,t){Wl.forEach(function(e,r){var o=t.children[e.sortableIndex+(n?Number(r):0)];o?t.insertBefore(e,o):t.appendChild(e)})}function rS(){qn.forEach(function(n){n!==vo&&n.parentNode&&n.parentNode.removeChild(n)})}jn.mount(new I4e);jn.mount(dN,cN);const L4e=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:D4e,Sortable:jn,Swap:M4e,default:jn},Symbol.toStringTag,{value:"Module"})),V4e=jk(L4e);var N4e=tx.exports,C$;function R4e(){return C$||(C$=1,(function(n,t){(function(r,o){n.exports=o(t4e(),V4e)})(typeof self<"u"?self:N4e,function(e,r){return(function(o){var i={};function a(s){if(i[s])return i[s].exports;var l=i[s]={i:s,l:!1,exports:{}};return o[s].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=o,a.c=i,a.d=function(s,l,u){a.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:u})},a.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},a.t=function(s,l){if(l&1&&(s=a(s)),l&8||l&4&&typeof s=="object"&&s&&s.__esModule)return s;var u=Object.create(null);if(a.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:s}),l&2&&typeof s!="string")for(var c in s)a.d(u,c,(function(d){return s[d]}).bind(null,c));return u},a.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return a.d(l,"a",l),l},a.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},a.p="",a(a.s="fb15")})({"00ee":(function(o,i,a){var s=a("b622"),l=s("toStringTag"),u={};u[l]="z",o.exports=String(u)==="[object z]"}),"0366":(function(o,i,a){var s=a("1c0b");o.exports=function(l,u,c){if(s(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,f){return l.call(u,d,f)};case 3:return function(d,f,h){return l.call(u,d,f,h)}}return function(){return l.apply(u,arguments)}}}),"057f":(function(o,i,a){var s=a("fc6a"),l=a("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(f){try{return l(f)}catch{return c.slice()}};o.exports.f=function(h){return c&&u.call(h)=="[object Window]"?d(h):l(s(h))}}),"06cf":(function(o,i,a){var s=a("83ab"),l=a("d1e7"),u=a("5c6c"),c=a("fc6a"),d=a("c04e"),f=a("5135"),h=a("0cfb"),p=Object.getOwnPropertyDescriptor;i.f=s?p:function(g,_){if(g=c(g),_=d(_,!0),h)try{return p(g,_)}catch{}if(f(g,_))return u(!l.f.call(g,_),g[_])}}),"0cfb":(function(o,i,a){var s=a("83ab"),l=a("d039"),u=a("cc12");o.exports=!s&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})}),"13d5":(function(o,i,a){var s=a("23e7"),l=a("d58f").left,u=a("a640"),c=a("ae40"),d=u("reduce"),f=c("reduce",{1:0});s({target:"Array",proto:!0,forced:!d||!f},{reduce:function(p){return l(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})}),"14c3":(function(o,i,a){var s=a("c6b6"),l=a("9263");o.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var f=d.call(u,c);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(s(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}}),"159b":(function(o,i,a){var s=a("da84"),l=a("fdbc"),u=a("17c2"),c=a("9112");for(var d in l){var f=s[d],h=f&&f.prototype;if(h&&h.forEach!==u)try{c(h,"forEach",u)}catch{h.forEach=u}}}),"17c2":(function(o,i,a){var s=a("b727").forEach,l=a("a640"),u=a("ae40"),c=l("forEach"),d=u("forEach");o.exports=!c||!d?function(h){return s(this,h,arguments.length>1?arguments[1]:void 0)}:[].forEach}),"1be4":(function(o,i,a){var s=a("d066");o.exports=s("document","documentElement")}),"1c0b":(function(o,i){o.exports=function(a){if(typeof a!="function")throw TypeError(String(a)+" is not a function");return a}}),"1c7e":(function(o,i,a){var s=a("b622"),l=s("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}o.exports=function(f,h){if(!h&&!u)return!1;var p=!1;try{var v={};v[l]=function(){return{next:function(){return{done:p=!0}}}},f(v)}catch{}return p}}),"1d80":(function(o,i){o.exports=function(a){if(a==null)throw TypeError("Can't call method on "+a);return a}}),"1dde":(function(o,i,a){var s=a("d039"),l=a("b622"),u=a("2d00"),c=l("species");o.exports=function(d){return u>=51||!s(function(){var f=[],h=f.constructor={};return h[c]=function(){return{foo:1}},f[d](Boolean).foo!==1})}}),"23cb":(function(o,i,a){var s=a("a691"),l=Math.max,u=Math.min;o.exports=function(c,d){var f=s(c);return f<0?l(f+d,0):u(f,d)}}),"23e7":(function(o,i,a){var s=a("da84"),l=a("06cf").f,u=a("9112"),c=a("6eeb"),d=a("ce4e"),f=a("e893"),h=a("94ca");o.exports=function(p,v){var g=p.target,_=p.global,S=p.stat,y,C,T,P,F,I;if(_?C=s:S?C=s[g]||d(g,{}):C=(s[g]||{}).prototype,C)for(T in v){if(F=v[T],p.noTargetGet?(I=l(C,T),P=I&&I.value):P=C[T],y=h(_?T:g+(S?".":"#")+T,p.forced),!y&&P!==void 0){if(typeof F==typeof P)continue;f(F,P)}(p.sham||P&&P.sham)&&u(F,"sham",!0),c(C,T,F,p)}}}),"241c":(function(o,i,a){var s=a("ca84"),l=a("7839"),u=l.concat("length","prototype");i.f=Object.getOwnPropertyNames||function(d){return s(d,u)}}),"25f0":(function(o,i,a){var s=a("6eeb"),l=a("825a"),u=a("d039"),c=a("ad6d"),d="toString",f=RegExp.prototype,h=f[d],p=u(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),v=h.name!=d;(p||v)&&s(RegExp.prototype,d,function(){var _=l(this),S=String(_.source),y=_.flags,C=String(y===void 0&&_ instanceof RegExp&&!("flags"in f)?c.call(_):y);return"/"+S+"/"+C},{unsafe:!0})}),"2ca0":(function(o,i,a){var s=a("23e7"),l=a("06cf").f,u=a("50c4"),c=a("5a34"),d=a("1d80"),f=a("ab13"),h=a("c430"),p="".startsWith,v=Math.min,g=f("startsWith"),_=!h&&!g&&!!(function(){var S=l(String.prototype,"startsWith");return S&&!S.writable})();s({target:"String",proto:!0,forced:!_&&!g},{startsWith:function(y){var C=String(d(this));c(y);var T=u(v(arguments.length>1?arguments[1]:void 0,C.length)),P=String(y);return p?p.call(C,P,T):C.slice(T,T+P.length)===P}})}),"2d00":(function(o,i,a){var s=a("da84"),l=a("342f"),u=s.process,c=u&&u.versions,d=c&&c.v8,f,h;d?(f=d.split("."),h=f[0]+f[1]):l&&(f=l.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=l.match(/Chrome\/(\d+)/),f&&(h=f[1]))),o.exports=h&&+h}),"342f":(function(o,i,a){var s=a("d066");o.exports=s("navigator","userAgent")||""}),"35a1":(function(o,i,a){var s=a("f5df"),l=a("3f8c"),u=a("b622"),c=u("iterator");o.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[s(d)]}}),"37e8":(function(o,i,a){var s=a("83ab"),l=a("9bf2"),u=a("825a"),c=a("df75");o.exports=s?Object.defineProperties:function(f,h){u(f);for(var p=c(h),v=p.length,g=0,_;v>g;)l.f(f,_=p[g++],h[_]);return f}}),"3bbe":(function(o,i,a){var s=a("861d");o.exports=function(l){if(!s(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}}),"3ca3":(function(o,i,a){var s=a("6547").charAt,l=a("69f3"),u=a("7dd0"),c="String Iterator",d=l.set,f=l.getterFor(c);u(String,"String",function(h){d(this,{type:c,string:String(h),index:0})},function(){var p=f(this),v=p.string,g=p.index,_;return g>=v.length?{value:void 0,done:!0}:(_=s(v,g),p.index+=_.length,{value:_,done:!1})})}),"3f8c":(function(o,i){o.exports={}}),4160:(function(o,i,a){var s=a("23e7"),l=a("17c2");s({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})}),"428f":(function(o,i,a){var s=a("da84");o.exports=s}),"44ad":(function(o,i,a){var s=a("d039"),l=a("c6b6"),u="".split;o.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object}),"44d2":(function(o,i,a){var s=a("b622"),l=a("7c73"),u=a("9bf2"),c=s("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),o.exports=function(f){d[c][f]=!0}}),"44e7":(function(o,i,a){var s=a("861d"),l=a("c6b6"),u=a("b622"),c=u("match");o.exports=function(d){var f;return s(d)&&((f=d[c])!==void 0?!!f:l(d)=="RegExp")}}),4930:(function(o,i,a){var s=a("d039");o.exports=!!Object.getOwnPropertySymbols&&!s(function(){return!String(Symbol())})}),"4d64":(function(o,i,a){var s=a("fc6a"),l=a("50c4"),u=a("23cb"),c=function(d){return function(f,h,p){var v=s(f),g=l(v.length),_=u(p,g),S;if(d&&h!=h){for(;g>_;)if(S=v[_++],S!=S)return!0}else for(;g>_;_++)if((d||_ in v)&&v[_]===h)return d||_||0;return!d&&-1}};o.exports={includes:c(!0),indexOf:c(!1)}}),"4de4":(function(o,i,a){var s=a("23e7"),l=a("b727").filter,u=a("1dde"),c=a("ae40"),d=u("filter"),f=c("filter");s({target:"Array",proto:!0,forced:!d||!f},{filter:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})}),"4df4":(function(o,i,a){var s=a("0366"),l=a("7b0b"),u=a("9bdd"),c=a("e95a"),d=a("50c4"),f=a("8418"),h=a("35a1");o.exports=function(v){var g=l(v),_=typeof this=="function"?this:Array,S=arguments.length,y=S>1?arguments[1]:void 0,C=y!==void 0,T=h(g),P=0,F,I,k,M,V,U;if(C&&(y=s(y,S>2?arguments[2]:void 0,2)),T!=null&&!(_==Array&&c(T)))for(M=T.call(g),V=M.next,I=new _;!(k=V.call(M)).done;P++)U=C?u(M,y,[k.value,P],!0):k.value,f(I,P,U);else for(F=d(g.length),I=new _(F);F>P;P++)U=C?y(g[P],P):g[P],f(I,P,U);return I.length=P,I}}),"4fad":(function(o,i,a){var s=a("23e7"),l=a("6f53").entries;s({target:"Object",stat:!0},{entries:function(c){return l(c)}})}),"50c4":(function(o,i,a){var s=a("a691"),l=Math.min;o.exports=function(u){return u>0?l(s(u),9007199254740991):0}}),5135:(function(o,i){var a={}.hasOwnProperty;o.exports=function(s,l){return a.call(s,l)}}),5319:(function(o,i,a){var s=a("d784"),l=a("825a"),u=a("7b0b"),c=a("50c4"),d=a("a691"),f=a("1d80"),h=a("8aa5"),p=a("14c3"),v=Math.max,g=Math.min,_=Math.floor,S=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g,C=function(T){return T===void 0?T:String(T)};s("replace",2,function(T,P,F,I){var k=I.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,M=I.REPLACE_KEEPS_$0,V=k?"$":"$0";return[function(Q,J){var R=f(this),ne=Q==null?void 0:Q[T];return ne!==void 0?ne.call(Q,R,J):P.call(String(R),Q,J)},function($,Q){if(!k&&M||typeof Q=="string"&&Q.indexOf(V)===-1){var J=F(P,$,this,Q);if(J.done)return J.value}var R=l($),ne=String(this),ue=typeof Q=="function";ue||(Q=String(Q));var we=R.global;if(we){var Be=R.unicode;R.lastIndex=0}for(var We=[];;){var pe=p(R,ne);if(pe===null||(We.push(pe),!we))break;var _e=String(pe[0]);_e===""&&(R.lastIndex=h(ne,c(R.lastIndex),Be))}for(var Ce="",ve=0,Qe=0;Qe<We.length;Qe++){pe=We[Qe];for(var se=String(pe[0]),Te=v(g(d(pe.index),ne.length),0),je=[],nt=1;nt<pe.length;nt++)je.push(C(pe[nt]));var tt=pe.groups;if(ue){var ot=[se].concat(je,Te,ne);tt!==void 0&&ot.push(tt);var ye=String(Q.apply(void 0,ot))}else ye=U(se,ne,Te,je,tt,Q);Te>=ve&&(Ce+=ne.slice(ve,Te)+ye,ve=Te+se.length)}return Ce+ne.slice(ve)}];function U($,Q,J,R,ne,ue){var we=J+$.length,Be=R.length,We=y;return ne!==void 0&&(ne=u(ne),We=S),P.call(ue,We,function(pe,_e){var Ce;switch(_e.charAt(0)){case"$":return"$";case"&":return $;case"`":return Q.slice(0,J);case"'":return Q.slice(we);case"<":Ce=ne[_e.slice(1,-1)];break;default:var ve=+_e;if(ve===0)return pe;if(ve>Be){var Qe=_(ve/10);return Qe===0?pe:Qe<=Be?R[Qe-1]===void 0?_e.charAt(1):R[Qe-1]+_e.charAt(1):pe}Ce=R[ve-1]}return Ce===void 0?"":Ce})}})}),5692:(function(o,i,a){var s=a("c430"),l=a("c6cd");(o.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:s?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})}),"56ef":(function(o,i,a){var s=a("d066"),l=a("241c"),u=a("7418"),c=a("825a");o.exports=s("Reflect","ownKeys")||function(f){var h=l.f(c(f)),p=u.f;return p?h.concat(p(f)):h}}),"5a34":(function(o,i,a){var s=a("44e7");o.exports=function(l){if(s(l))throw TypeError("The method doesn't accept regular expressions");return l}}),"5c6c":(function(o,i){o.exports=function(a,s){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:s}}}),"5db7":(function(o,i,a){var s=a("23e7"),l=a("a2bf"),u=a("7b0b"),c=a("50c4"),d=a("1c0b"),f=a("65f0");s({target:"Array",proto:!0},{flatMap:function(p){var v=u(this),g=c(v.length),_;return d(p),_=f(v,0),_.length=l(_,v,v,g,0,1,p,arguments.length>1?arguments[1]:void 0),_}})}),6547:(function(o,i,a){var s=a("a691"),l=a("1d80"),u=function(c){return function(d,f){var h=String(l(d)),p=s(f),v=h.length,g,_;return p<0||p>=v?c?"":void 0:(g=h.charCodeAt(p),g<55296||g>56319||p+1===v||(_=h.charCodeAt(p+1))<56320||_>57343?c?h.charAt(p):g:c?h.slice(p,p+2):(g-55296<<10)+(_-56320)+65536)}};o.exports={codeAt:u(!1),charAt:u(!0)}}),"65f0":(function(o,i,a){var s=a("861d"),l=a("e8b5"),u=a("b622"),c=u("species");o.exports=function(d,f){var h;return l(d)&&(h=d.constructor,typeof h=="function"&&(h===Array||l(h.prototype))?h=void 0:s(h)&&(h=h[c],h===null&&(h=void 0))),new(h===void 0?Array:h)(f===0?0:f)}}),"69f3":(function(o,i,a){var s=a("7f9a"),l=a("da84"),u=a("861d"),c=a("9112"),d=a("5135"),f=a("f772"),h=a("d012"),p=l.WeakMap,v,g,_,S=function(k){return _(k)?g(k):v(k,{})},y=function(k){return function(M){var V;if(!u(M)||(V=g(M)).type!==k)throw TypeError("Incompatible receiver, "+k+" required");return V}};if(s){var C=new p,T=C.get,P=C.has,F=C.set;v=function(k,M){return F.call(C,k,M),M},g=function(k){return T.call(C,k)||{}},_=function(k){return P.call(C,k)}}else{var I=f("state");h[I]=!0,v=function(k,M){return c(k,I,M),M},g=function(k){return d(k,I)?k[I]:{}},_=function(k){return d(k,I)}}o.exports={set:v,get:g,has:_,enforce:S,getterFor:y}}),"6eeb":(function(o,i,a){var s=a("da84"),l=a("9112"),u=a("5135"),c=a("ce4e"),d=a("8925"),f=a("69f3"),h=f.get,p=f.enforce,v=String(String).split("String");(o.exports=function(g,_,S,y){var C=y?!!y.unsafe:!1,T=y?!!y.enumerable:!1,P=y?!!y.noTargetGet:!1;if(typeof S=="function"&&(typeof _=="string"&&!u(S,"name")&&l(S,"name",_),p(S).source=v.join(typeof _=="string"?_:"")),g===s){T?g[_]=S:c(_,S);return}else C?!P&&g[_]&&(T=!0):delete g[_];T?g[_]=S:l(g,_,S)})(Function.prototype,"toString",function(){return typeof this=="function"&&h(this).source||d(this)})}),"6f53":(function(o,i,a){var s=a("83ab"),l=a("df75"),u=a("fc6a"),c=a("d1e7").f,d=function(f){return function(h){for(var p=u(h),v=l(p),g=v.length,_=0,S=[],y;g>_;)y=v[_++],(!s||c.call(p,y))&&S.push(f?[y,p[y]]:p[y]);return S}};o.exports={entries:d(!0),values:d(!1)}}),"73d9":(function(o,i,a){var s=a("44d2");s("flatMap")}),7418:(function(o,i){i.f=Object.getOwnPropertySymbols}),"746f":(function(o,i,a){var s=a("428f"),l=a("5135"),u=a("e538"),c=a("9bf2").f;o.exports=function(d){var f=s.Symbol||(s.Symbol={});l(f,d)||c(f,d,{value:u.f(d)})}}),7839:(function(o,i){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"7b0b":(function(o,i,a){var s=a("1d80");o.exports=function(l){return Object(s(l))}}),"7c73":(function(o,i,a){var s=a("825a"),l=a("37e8"),u=a("7839"),c=a("d012"),d=a("1be4"),f=a("cc12"),h=a("f772"),p=">",v="<",g="prototype",_="script",S=h("IE_PROTO"),y=function(){},C=function(k){return v+_+p+k+v+"/"+_+p},T=function(k){k.write(C("")),k.close();var M=k.parentWindow.Object;return k=null,M},P=function(){var k=f("iframe"),M="java"+_+":",V;return k.style.display="none",d.appendChild(k),k.src=String(M),V=k.contentWindow.document,V.open(),V.write(C("document.F=Object")),V.close(),V.F},F,I=function(){try{F=document.domain&&new ActiveXObject("htmlfile")}catch{}I=F?T(F):P();for(var k=u.length;k--;)delete I[g][u[k]];return I()};c[S]=!0,o.exports=Object.create||function(M,V){var U;return M!==null?(y[g]=s(M),U=new y,y[g]=null,U[S]=M):U=I(),V===void 0?U:l(U,V)}}),"7dd0":(function(o,i,a){var s=a("23e7"),l=a("9ed3"),u=a("e163"),c=a("d2bb"),d=a("d44e"),f=a("9112"),h=a("6eeb"),p=a("b622"),v=a("c430"),g=a("3f8c"),_=a("ae93"),S=_.IteratorPrototype,y=_.BUGGY_SAFARI_ITERATORS,C=p("iterator"),T="keys",P="values",F="entries",I=function(){return this};o.exports=function(k,M,V,U,$,Q,J){l(V,M,U);var R=function(Qe){if(Qe===$&&We)return We;if(!y&&Qe in we)return we[Qe];switch(Qe){case T:return function(){return new V(this,Qe)};case P:return function(){return new V(this,Qe)};case F:return function(){return new V(this,Qe)}}return function(){return new V(this)}},ne=M+" Iterator",ue=!1,we=k.prototype,Be=we[C]||we["@@iterator"]||$&&we[$],We=!y&&Be||R($),pe=M=="Array"&&we.entries||Be,_e,Ce,ve;if(pe&&(_e=u(pe.call(new k)),S!==Object.prototype&&_e.next&&(!v&&u(_e)!==S&&(c?c(_e,S):typeof _e[C]!="function"&&f(_e,C,I)),d(_e,ne,!0,!0),v&&(g[ne]=I))),$==P&&Be&&Be.name!==P&&(ue=!0,We=function(){return Be.call(this)}),(!v||J)&&we[C]!==We&&f(we,C,We),g[M]=We,$)if(Ce={values:R(P),keys:Q?We:R(T),entries:R(F)},J)for(ve in Ce)(y||ue||!(ve in we))&&h(we,ve,Ce[ve]);else s({target:M,proto:!0,forced:y||ue},Ce);return Ce}}),"7f9a":(function(o,i,a){var s=a("da84"),l=a("8925"),u=s.WeakMap;o.exports=typeof u=="function"&&/native code/.test(l(u))}),"825a":(function(o,i,a){var s=a("861d");o.exports=function(l){if(!s(l))throw TypeError(String(l)+" is not an object");return l}}),"83ab":(function(o,i,a){var s=a("d039");o.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),8418:(function(o,i,a){var s=a("c04e"),l=a("9bf2"),u=a("5c6c");o.exports=function(c,d,f){var h=s(d);h in c?l.f(c,h,u(0,f)):c[h]=f}}),"861d":(function(o,i){o.exports=function(a){return typeof a=="object"?a!==null:typeof a=="function"}}),8875:(function(o,i,a){var s,l,u;(function(c,d){l=[],s=d,u=typeof s=="function"?s.apply(i,l):s,u!==void 0&&(o.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(F){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,h=/@([^@]*):(\d+):(\d+)\s*$/ig,p=f.exec(F.stack)||h.exec(F.stack),v=p&&p[1]||!1,g=p&&p[2]||!1,_=document.location.href.replace(document.location.hash,""),S,y,C,T=document.getElementsByTagName("script");v===_&&(S=document.documentElement.outerHTML,y=new RegExp("(?:[^\\n]+?\\n){0,"+(g-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),C=S.replace(y,"$1").trim());for(var P=0;P<T.length;P++)if(T[P].readyState==="interactive"||T[P].src===v||v===_&&T[P].innerHTML&&T[P].innerHTML.trim()===C)return T[P];return null}}return c})}),8925:(function(o,i,a){var s=a("c6cd"),l=Function.toString;typeof s.inspectSource!="function"&&(s.inspectSource=function(u){return l.call(u)}),o.exports=s.inspectSource}),"8aa5":(function(o,i,a){var s=a("6547").charAt;o.exports=function(l,u,c){return u+(c?s(l,u).length:1)}}),"8bbf":(function(o,i){o.exports=e}),"90e3":(function(o,i){var a=0,s=Math.random();o.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++a+s).toString(36)}}),9112:(function(o,i,a){var s=a("83ab"),l=a("9bf2"),u=a("5c6c");o.exports=s?function(c,d,f){return l.f(c,d,u(1,f))}:function(c,d,f){return c[d]=f,c}}),9263:(function(o,i,a){var s=a("ad6d"),l=a("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,f=(function(){var g=/a/,_=/b*/g;return u.call(g,"a"),u.call(_,"a"),g.lastIndex!==0||_.lastIndex!==0})(),h=l.UNSUPPORTED_Y||l.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,v=f||p||h;v&&(d=function(_){var S=this,y,C,T,P,F=h&&S.sticky,I=s.call(S),k=S.source,M=0,V=_;return F&&(I=I.replace("y",""),I.indexOf("g")===-1&&(I+="g"),V=String(_).slice(S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&_[S.lastIndex-1]!==`
`)&&(k="(?: "+k+")",V=" "+V,M++),C=new RegExp("^(?:"+k+")",I)),p&&(C=new RegExp("^"+k+"$(?!\\s)",I)),f&&(y=S.lastIndex),T=u.call(F?C:S,V),F?T?(T.input=T.input.slice(M),T[0]=T[0].slice(M),T.index=S.lastIndex,S.lastIndex+=T[0].length):S.lastIndex=0:f&&T&&(S.lastIndex=S.global?T.index+T[0].length:y),p&&T&&T.length>1&&c.call(T[0],C,function(){for(P=1;P<arguments.length-2;P++)arguments[P]===void 0&&(T[P]=void 0)}),T}),o.exports=d}),"94ca":(function(o,i,a){var s=a("d039"),l=/#|\.prototype\./,u=function(p,v){var g=d[c(p)];return g==h?!0:g==f?!1:typeof v=="function"?s(v):!!v},c=u.normalize=function(p){return String(p).replace(l,".").toLowerCase()},d=u.data={},f=u.NATIVE="N",h=u.POLYFILL="P";o.exports=u}),"99af":(function(o,i,a){var s=a("23e7"),l=a("d039"),u=a("e8b5"),c=a("861d"),d=a("7b0b"),f=a("50c4"),h=a("8418"),p=a("65f0"),v=a("1dde"),g=a("b622"),_=a("2d00"),S=g("isConcatSpreadable"),y=9007199254740991,C="Maximum allowed index exceeded",T=_>=51||!l(function(){var k=[];return k[S]=!1,k.concat()[0]!==k}),P=v("concat"),F=function(k){if(!c(k))return!1;var M=k[S];return M!==void 0?!!M:u(k)},I=!T||!P;s({target:"Array",proto:!0,forced:I},{concat:function(M){var V=d(this),U=p(V,0),$=0,Q,J,R,ne,ue;for(Q=-1,R=arguments.length;Q<R;Q++)if(ue=Q===-1?V:arguments[Q],F(ue)){if(ne=f(ue.length),$+ne>y)throw TypeError(C);for(J=0;J<ne;J++,$++)J in ue&&h(U,$,ue[J])}else{if($>=y)throw TypeError(C);h(U,$++,ue)}return U.length=$,U}})}),"9bdd":(function(o,i,a){var s=a("825a");o.exports=function(l,u,c,d){try{return d?u(s(c)[0],c[1]):u(c)}catch(h){var f=l.return;throw f!==void 0&&s(f.call(l)),h}}}),"9bf2":(function(o,i,a){var s=a("83ab"),l=a("0cfb"),u=a("825a"),c=a("c04e"),d=Object.defineProperty;i.f=s?d:function(h,p,v){if(u(h),p=c(p,!0),u(v),l)try{return d(h,p,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported");return"value"in v&&(h[p]=v.value),h}}),"9ed3":(function(o,i,a){var s=a("ae93").IteratorPrototype,l=a("7c73"),u=a("5c6c"),c=a("d44e"),d=a("3f8c"),f=function(){return this};o.exports=function(h,p,v){var g=p+" Iterator";return h.prototype=l(s,{next:u(1,v)}),c(h,g,!1,!0),d[g]=f,h}}),"9f7f":(function(o,i,a){var s=a("d039");function l(u,c){return RegExp(u,c)}i.UNSUPPORTED_Y=s(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),i.BROKEN_CARET=s(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})}),a2bf:(function(o,i,a){var s=a("e8b5"),l=a("50c4"),u=a("0366"),c=function(d,f,h,p,v,g,_,S){for(var y=v,C=0,T=_?u(_,S,3):!1,P;C<p;){if(C in h){if(P=T?T(h[C],C,f):h[C],g>0&&s(P))y=c(d,f,P,l(P.length),y,g-1)-1;else{if(y>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[y]=P}y++}C++}return y};o.exports=c}),a352:(function(o,i){o.exports=r}),a434:(function(o,i,a){var s=a("23e7"),l=a("23cb"),u=a("a691"),c=a("50c4"),d=a("7b0b"),f=a("65f0"),h=a("8418"),p=a("1dde"),v=a("ae40"),g=p("splice"),_=v("splice",{ACCESSORS:!0,0:0,1:2}),S=Math.max,y=Math.min,C=9007199254740991,T="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!g||!_},{splice:function(F,I){var k=d(this),M=c(k.length),V=l(F,M),U=arguments.length,$,Q,J,R,ne,ue;if(U===0?$=Q=0:U===1?($=0,Q=M-V):($=U-2,Q=y(S(u(I),0),M-V)),M+$-Q>C)throw TypeError(T);for(J=f(k,Q),R=0;R<Q;R++)ne=V+R,ne in k&&h(J,R,k[ne]);if(J.length=Q,$<Q){for(R=V;R<M-Q;R++)ne=R+Q,ue=R+$,ne in k?k[ue]=k[ne]:delete k[ue];for(R=M;R>M-Q+$;R--)delete k[R-1]}else if($>Q)for(R=M-Q;R>V;R--)ne=R+Q-1,ue=R+$-1,ne in k?k[ue]=k[ne]:delete k[ue];for(R=0;R<$;R++)k[R+V]=arguments[R+2];return k.length=M-Q+$,J}})}),a4d3:(function(o,i,a){var s=a("23e7"),l=a("da84"),u=a("d066"),c=a("c430"),d=a("83ab"),f=a("4930"),h=a("fdbf"),p=a("d039"),v=a("5135"),g=a("e8b5"),_=a("861d"),S=a("825a"),y=a("7b0b"),C=a("fc6a"),T=a("c04e"),P=a("5c6c"),F=a("7c73"),I=a("df75"),k=a("241c"),M=a("057f"),V=a("7418"),U=a("06cf"),$=a("9bf2"),Q=a("d1e7"),J=a("9112"),R=a("6eeb"),ne=a("5692"),ue=a("f772"),we=a("d012"),Be=a("90e3"),We=a("b622"),pe=a("e538"),_e=a("746f"),Ce=a("d44e"),ve=a("69f3"),Qe=a("b727").forEach,se=ue("hidden"),Te="Symbol",je="prototype",nt=We("toPrimitive"),tt=ve.set,ot=ve.getterFor(Te),ye=Object[je],be=l.Symbol,me=u("JSON","stringify"),Ve=U.f,Ie=$.f,K=M.f,te=Q.f,ee=ne("symbols"),Ae=ne("op-symbols"),xe=ne("string-to-symbol-registry"),he=ne("symbol-to-string-registry"),Pe=ne("wks"),Ee=l.QObject,st=!Ee||!Ee[je]||!Ee[je].findChild,kt=d&&p(function(){return F(Ie({},"a",{get:function(){return Ie(this,"a",{value:7}).a}})).a!=7})?function(St,Tt,Wt){var qt=Ve(ye,Tt);qt&&delete ye[Tt],Ie(St,Tt,Wt),qt&&St!==ye&&Ie(ye,Tt,qt)}:Ie,Rt=function(St,Tt){var Wt=ee[St]=F(be[je]);return tt(Wt,{type:Te,tag:St,description:Tt}),d||(Wt.description=Tt),Wt},Y=h?function(St){return typeof St=="symbol"}:function(St){return Object(St)instanceof be},ie=function(Tt,Wt,qt){Tt===ye&&ie(Ae,Wt,qt),S(Tt);var mn=T(Wt,!0);return S(qt),v(ee,mn)?(qt.enumerable?(v(Tt,se)&&Tt[se][mn]&&(Tt[se][mn]=!1),qt=F(qt,{enumerable:P(0,!1)})):(v(Tt,se)||Ie(Tt,se,P(1,{})),Tt[se][mn]=!0),kt(Tt,mn,qt)):Ie(Tt,mn,qt)},G=function(Tt,Wt){S(Tt);var qt=C(Wt),mn=I(qt).concat(ft(qt));return Qe(mn,function(dr){(!d||De.call(qt,dr))&&ie(Tt,dr,qt[dr])}),Tt},He=function(Tt,Wt){return Wt===void 0?F(Tt):G(F(Tt),Wt)},De=function(Tt){var Wt=T(Tt,!0),qt=te.call(this,Wt);return this===ye&&v(ee,Wt)&&!v(Ae,Wt)?!1:qt||!v(this,Wt)||!v(ee,Wt)||v(this,se)&&this[se][Wt]?qt:!0},rt=function(Tt,Wt){var qt=C(Tt),mn=T(Wt,!0);if(!(qt===ye&&v(ee,mn)&&!v(Ae,mn))){var dr=Ve(qt,mn);return dr&&v(ee,mn)&&!(v(qt,se)&&qt[se][mn])&&(dr.enumerable=!0),dr}},mt=function(Tt){var Wt=K(C(Tt)),qt=[];return Qe(Wt,function(mn){!v(ee,mn)&&!v(we,mn)&&qt.push(mn)}),qt},ft=function(Tt){var Wt=Tt===ye,qt=K(Wt?Ae:C(Tt)),mn=[];return Qe(qt,function(dr){v(ee,dr)&&(!Wt||v(ye,dr))&&mn.push(ee[dr])}),mn};if(f||(be=function(){if(this instanceof be)throw TypeError("Symbol is not a constructor");var Tt=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),Wt=Be(Tt),qt=function(mn){this===ye&&qt.call(Ae,mn),v(this,se)&&v(this[se],Wt)&&(this[se][Wt]=!1),kt(this,Wt,P(1,mn))};return d&&st&&kt(ye,Wt,{configurable:!0,set:qt}),Rt(Wt,Tt)},R(be[je],"toString",function(){return ot(this).tag}),R(be,"withoutSetter",function(St){return Rt(Be(St),St)}),Q.f=De,$.f=ie,U.f=rt,k.f=M.f=mt,V.f=ft,pe.f=function(St){return Rt(We(St),St)},d&&(Ie(be[je],"description",{configurable:!0,get:function(){return ot(this).description}}),c||R(ye,"propertyIsEnumerable",De,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:be}),Qe(I(Pe),function(St){_e(St)}),s({target:Te,stat:!0,forced:!f},{for:function(St){var Tt=String(St);if(v(xe,Tt))return xe[Tt];var Wt=be(Tt);return xe[Tt]=Wt,he[Wt]=Tt,Wt},keyFor:function(Tt){if(!Y(Tt))throw TypeError(Tt+" is not a symbol");if(v(he,Tt))return he[Tt]},useSetter:function(){st=!0},useSimple:function(){st=!1}}),s({target:"Object",stat:!0,forced:!f,sham:!d},{create:He,defineProperty:ie,defineProperties:G,getOwnPropertyDescriptor:rt}),s({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:mt,getOwnPropertySymbols:ft}),s({target:"Object",stat:!0,forced:p(function(){V.f(1)})},{getOwnPropertySymbols:function(Tt){return V.f(y(Tt))}}),me){var gt=!f||p(function(){var St=be();return me([St])!="[null]"||me({a:St})!="{}"||me(Object(St))!="{}"});s({target:"JSON",stat:!0,forced:gt},{stringify:function(Tt,Wt,qt){for(var mn=[Tt],dr=1,fe;arguments.length>dr;)mn.push(arguments[dr++]);if(fe=Wt,!(!_(Wt)&&Tt===void 0||Y(Tt)))return g(Wt)||(Wt=function(Se,Ge){if(typeof fe=="function"&&(Ge=fe.call(this,Se,Ge)),!Y(Ge))return Ge}),mn[1]=Wt,me.apply(null,mn)}})}be[je][nt]||J(be[je],nt,be[je].valueOf),Ce(be,Te),we[se]=!0}),a630:(function(o,i,a){var s=a("23e7"),l=a("4df4"),u=a("1c7e"),c=!u(function(d){Array.from(d)});s({target:"Array",stat:!0,forced:c},{from:l})}),a640:(function(o,i,a){var s=a("d039");o.exports=function(l,u){var c=[][l];return!!c&&s(function(){c.call(null,u||function(){throw 1},1)})}}),a691:(function(o,i){var a=Math.ceil,s=Math.floor;o.exports=function(l){return isNaN(l=+l)?0:(l>0?s:a)(l)}}),ab13:(function(o,i,a){var s=a("b622"),l=s("match");o.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}}),ac1f:(function(o,i,a){var s=a("23e7"),l=a("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})}),ad6d:(function(o,i,a){var s=a("825a");o.exports=function(){var l=s(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}}),ae40:(function(o,i,a){var s=a("83ab"),l=a("d039"),u=a("5135"),c=Object.defineProperty,d={},f=function(h){throw h};o.exports=function(h,p){if(u(d,h))return d[h];p||(p={});var v=[][h],g=u(p,"ACCESSORS")?p.ACCESSORS:!1,_=u(p,0)?p[0]:f,S=u(p,1)?p[1]:void 0;return d[h]=!!v&&!l(function(){if(g&&!s)return!0;var y={length:-1};g?c(y,1,{enumerable:!0,get:f}):y[1]=1,v.call(y,_,S)})}}),ae93:(function(o,i,a){var s=a("e163"),l=a("9112"),u=a("5135"),c=a("b622"),d=a("c430"),f=c("iterator"),h=!1,p=function(){return this},v,g,_;[].keys&&(_=[].keys(),"next"in _?(g=s(s(_)),g!==Object.prototype&&(v=g)):h=!0),v==null&&(v={}),!d&&!u(v,f)&&l(v,f,p),o.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:h}}),b041:(function(o,i,a){var s=a("00ee"),l=a("f5df");o.exports=s?{}.toString:function(){return"[object "+l(this)+"]"}}),b0c0:(function(o,i,a){var s=a("83ab"),l=a("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,f="name";s&&!(f in u)&&l(u,f,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})}),b622:(function(o,i,a){var s=a("da84"),l=a("5692"),u=a("5135"),c=a("90e3"),d=a("4930"),f=a("fdbf"),h=l("wks"),p=s.Symbol,v=f?p:p&&p.withoutSetter||c;o.exports=function(g){return u(h,g)||(d&&u(p,g)?h[g]=p[g]:h[g]=v("Symbol."+g)),h[g]}}),b64b:(function(o,i,a){var s=a("23e7"),l=a("7b0b"),u=a("df75"),c=a("d039"),d=c(function(){u(1)});s({target:"Object",stat:!0,forced:d},{keys:function(h){return u(l(h))}})}),b727:(function(o,i,a){var s=a("0366"),l=a("44ad"),u=a("7b0b"),c=a("50c4"),d=a("65f0"),f=[].push,h=function(p){var v=p==1,g=p==2,_=p==3,S=p==4,y=p==6,C=p==5||y;return function(T,P,F,I){for(var k=u(T),M=l(k),V=s(P,F,3),U=c(M.length),$=0,Q=I||d,J=v?Q(T,U):g?Q(T,0):void 0,R,ne;U>$;$++)if((C||$ in M)&&(R=M[$],ne=V(R,$,k),p)){if(v)J[$]=ne;else if(ne)switch(p){case 3:return!0;case 5:return R;case 6:return $;case 2:f.call(J,R)}else if(S)return!1}return y?-1:_||S?S:J}};o.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}}),c04e:(function(o,i,a){var s=a("861d");o.exports=function(l,u){if(!s(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!s(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!s(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!s(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}}),c430:(function(o,i){o.exports=!1}),c6b6:(function(o,i){var a={}.toString;o.exports=function(s){return a.call(s).slice(8,-1)}}),c6cd:(function(o,i,a){var s=a("da84"),l=a("ce4e"),u="__core-js_shared__",c=s[u]||l(u,{});o.exports=c}),c740:(function(o,i,a){var s=a("23e7"),l=a("b727").findIndex,u=a("44d2"),c=a("ae40"),d="findIndex",f=!0,h=c(d);d in[]&&Array(1)[d](function(){f=!1}),s({target:"Array",proto:!0,forced:f||!h},{findIndex:function(v){return l(this,v,arguments.length>1?arguments[1]:void 0)}}),u(d)}),c8ba:(function(o,i){var a;a=(function(){return this})();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}o.exports=a}),c975:(function(o,i,a){var s=a("23e7"),l=a("4d64").indexOf,u=a("a640"),c=a("ae40"),d=[].indexOf,f=!!d&&1/[1].indexOf(1,-0)<0,h=u("indexOf"),p=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:f||!h||!p},{indexOf:function(g){return f?d.apply(this,arguments)||0:l(this,g,arguments.length>1?arguments[1]:void 0)}})}),ca84:(function(o,i,a){var s=a("5135"),l=a("fc6a"),u=a("4d64").indexOf,c=a("d012");o.exports=function(d,f){var h=l(d),p=0,v=[],g;for(g in h)!s(c,g)&&s(h,g)&&v.push(g);for(;f.length>p;)s(h,g=f[p++])&&(~u(v,g)||v.push(g));return v}}),caad:(function(o,i,a){var s=a("23e7"),l=a("4d64").includes,u=a("44d2"),c=a("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!d},{includes:function(h){return l(this,h,arguments.length>1?arguments[1]:void 0)}}),u("includes")}),cc12:(function(o,i,a){var s=a("da84"),l=a("861d"),u=s.document,c=l(u)&&l(u.createElement);o.exports=function(d){return c?u.createElement(d):{}}}),ce4e:(function(o,i,a){var s=a("da84"),l=a("9112");o.exports=function(u,c){try{l(s,u,c)}catch{s[u]=c}return c}}),d012:(function(o,i){o.exports={}}),d039:(function(o,i){o.exports=function(a){try{return!!a()}catch{return!0}}}),d066:(function(o,i,a){var s=a("428f"),l=a("da84"),u=function(c){return typeof c=="function"?c:void 0};o.exports=function(c,d){return arguments.length<2?u(s[c])||u(l[c]):s[c]&&s[c][d]||l[c]&&l[c][d]}}),d1e7:(function(o,i,a){var s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!s.call({1:2},1);i.f=u?function(d){var f=l(this,d);return!!f&&f.enumerable}:s}),d28b:(function(o,i,a){var s=a("746f");s("iterator")}),d2bb:(function(o,i,a){var s=a("825a"),l=a("3bbe");o.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(h,p){return s(h),l(p),u?d.call(h,p):h.__proto__=p,h}})():void 0)}),d3b7:(function(o,i,a){var s=a("00ee"),l=a("6eeb"),u=a("b041");s||l(Object.prototype,"toString",u,{unsafe:!0})}),d44e:(function(o,i,a){var s=a("9bf2").f,l=a("5135"),u=a("b622"),c=u("toStringTag");o.exports=function(d,f,h){d&&!l(d=h?d:d.prototype,c)&&s(d,c,{configurable:!0,value:f})}}),d58f:(function(o,i,a){var s=a("1c0b"),l=a("7b0b"),u=a("44ad"),c=a("50c4"),d=function(f){return function(h,p,v,g){s(p);var _=l(h),S=u(_),y=c(_.length),C=f?y-1:0,T=f?-1:1;if(v<2)for(;;){if(C in S){g=S[C],C+=T;break}if(C+=T,f?C<0:y<=C)throw TypeError("Reduce of empty array with no initial value")}for(;f?C>=0:y>C;C+=T)C in S&&(g=p(g,S[C],C,_));return g}};o.exports={left:d(!1),right:d(!0)}}),d784:(function(o,i,a){a("ac1f");var s=a("6eeb"),l=a("d039"),u=a("b622"),c=a("9263"),d=a("9112"),f=u("species"),h=!l(function(){var S=/./;return S.exec=function(){var y=[];return y.groups={a:"7"},y},"".replace(S,"$<a>")!=="7"}),p=(function(){return"a".replace(/./,"$0")==="$0"})(),v=u("replace"),g=(function(){return/./[v]?/./[v]("a","$0")==="":!1})(),_=!l(function(){var S=/(?:)/,y=S.exec;S.exec=function(){return y.apply(this,arguments)};var C="ab".split(S);return C.length!==2||C[0]!=="a"||C[1]!=="b"});o.exports=function(S,y,C,T){var P=u(S),F=!l(function(){var $={};return $[P]=function(){return 7},""[S]($)!=7}),I=F&&!l(function(){var $=!1,Q=/a/;return S==="split"&&(Q={},Q.constructor={},Q.constructor[f]=function(){return Q},Q.flags="",Q[P]=/./[P]),Q.exec=function(){return $=!0,null},Q[P](""),!$});if(!F||!I||S==="replace"&&!(h&&p&&!g)||S==="split"&&!_){var k=/./[P],M=C(P,""[S],function($,Q,J,R,ne){return Q.exec===c?F&&!ne?{done:!0,value:k.call(Q,J,R)}:{done:!0,value:$.call(J,Q,R)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:g}),V=M[0],U=M[1];s(String.prototype,S,V),s(RegExp.prototype,P,y==2?function($,Q){return U.call($,this,Q)}:function($){return U.call($,this)})}T&&d(RegExp.prototype[P],"sham",!0)}}),d81d:(function(o,i,a){var s=a("23e7"),l=a("b727").map,u=a("1dde"),c=a("ae40"),d=u("map"),f=c("map");s({target:"Array",proto:!0,forced:!d||!f},{map:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}})}),da84:(function(o,i,a){(function(s){var l=function(u){return u&&u.Math==Math&&u};o.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof s=="object"&&s)||Function("return this")()}).call(this,a("c8ba"))}),dbb4:(function(o,i,a){var s=a("23e7"),l=a("83ab"),u=a("56ef"),c=a("fc6a"),d=a("06cf"),f=a("8418");s({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(p){for(var v=c(p),g=d.f,_=u(v),S={},y=0,C,T;_.length>y;)T=g(v,C=_[y++]),T!==void 0&&f(S,C,T);return S}})}),dbf1:(function(o,i,a){(function(s){a.d(i,"a",function(){return u});function l(){return typeof window<"u"?window.console:s.console}var u=l()}).call(this,a("c8ba"))}),ddb0:(function(o,i,a){var s=a("da84"),l=a("fdbc"),u=a("e260"),c=a("9112"),d=a("b622"),f=d("iterator"),h=d("toStringTag"),p=u.values;for(var v in l){var g=s[v],_=g&&g.prototype;if(_){if(_[f]!==p)try{c(_,f,p)}catch{_[f]=p}if(_[h]||c(_,h,v),l[v]){for(var S in u)if(_[S]!==u[S])try{c(_,S,u[S])}catch{_[S]=u[S]}}}}}),df75:(function(o,i,a){var s=a("ca84"),l=a("7839");o.exports=Object.keys||function(c){return s(c,l)}}),e01a:(function(o,i,a){var s=a("23e7"),l=a("83ab"),u=a("da84"),c=a("5135"),d=a("861d"),f=a("9bf2").f,h=a("e893"),p=u.Symbol;if(l&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var v={},g=function(){var P=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),F=this instanceof g?new p(P):P===void 0?p():p(P);return P===""&&(v[F]=!0),F};h(g,p);var _=g.prototype=p.prototype;_.constructor=g;var S=_.toString,y=String(p("test"))=="Symbol(test)",C=/^Symbol\((.*)\)[^)]+$/;f(_,"description",{configurable:!0,get:function(){var P=d(this)?this.valueOf():this,F=S.call(P);if(c(v,P))return"";var I=y?F.slice(7,-1):F.replace(C,"$1");return I===""?void 0:I}}),s({global:!0,forced:!0},{Symbol:g})}}),e163:(function(o,i,a){var s=a("5135"),l=a("7b0b"),u=a("f772"),c=a("e177"),d=u("IE_PROTO"),f=Object.prototype;o.exports=c?Object.getPrototypeOf:function(h){return h=l(h),s(h,d)?h[d]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?f:null}}),e177:(function(o,i,a){var s=a("d039");o.exports=!s(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})}),e260:(function(o,i,a){var s=a("fc6a"),l=a("44d2"),u=a("3f8c"),c=a("69f3"),d=a("7dd0"),f="Array Iterator",h=c.set,p=c.getterFor(f);o.exports=d(Array,"Array",function(v,g){h(this,{type:f,target:s(v),index:0,kind:g})},function(){var v=p(this),g=v.target,_=v.kind,S=v.index++;return!g||S>=g.length?(v.target=void 0,{value:void 0,done:!0}):_=="keys"?{value:S,done:!1}:_=="values"?{value:g[S],done:!1}:{value:[S,g[S]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")}),e439:(function(o,i,a){var s=a("23e7"),l=a("d039"),u=a("fc6a"),c=a("06cf").f,d=a("83ab"),f=l(function(){c(1)}),h=!d||f;s({target:"Object",stat:!0,forced:h,sham:!d},{getOwnPropertyDescriptor:function(v,g){return c(u(v),g)}})}),e538:(function(o,i,a){var s=a("b622");i.f=s}),e893:(function(o,i,a){var s=a("5135"),l=a("56ef"),u=a("06cf"),c=a("9bf2");o.exports=function(d,f){for(var h=l(f),p=c.f,v=u.f,g=0;g<h.length;g++){var _=h[g];s(d,_)||p(d,_,v(f,_))}}}),e8b5:(function(o,i,a){var s=a("c6b6");o.exports=Array.isArray||function(u){return s(u)=="Array"}}),e95a:(function(o,i,a){var s=a("b622"),l=a("3f8c"),u=s("iterator"),c=Array.prototype;o.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}}),f5df:(function(o,i,a){var s=a("00ee"),l=a("c6b6"),u=a("b622"),c=u("toStringTag"),d=l((function(){return arguments})())=="Arguments",f=function(h,p){try{return h[p]}catch{}};o.exports=s?l:function(h){var p,v,g;return h===void 0?"Undefined":h===null?"Null":typeof(v=f(p=Object(h),c))=="string"?v:d?l(p):(g=l(p))=="Object"&&typeof p.callee=="function"?"Arguments":g}}),f772:(function(o,i,a){var s=a("5692"),l=a("90e3"),u=s("keys");o.exports=function(c){return u[c]||(u[c]=l(c))}}),fb15:(function(o,i,a){if(a.r(i),typeof window<"u"){var s=window.document.currentScript;{var l=a("8875");s=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(a.p=u[1])}a("99af"),a("4de4"),a("4160"),a("c975"),a("d81d"),a("a434"),a("159b"),a("a4d3"),a("e439"),a("dbb4"),a("b64b");function c(Y,ie,G){return ie in Y?Object.defineProperty(Y,ie,{value:G,enumerable:!0,configurable:!0,writable:!0}):Y[ie]=G,Y}function d(Y,ie){var G=Object.keys(Y);if(Object.getOwnPropertySymbols){var He=Object.getOwnPropertySymbols(Y);ie&&(He=He.filter(function(De){return Object.getOwnPropertyDescriptor(Y,De).enumerable})),G.push.apply(G,He)}return G}function f(Y){for(var ie=1;ie<arguments.length;ie++){var G=arguments[ie]!=null?arguments[ie]:{};ie%2?d(Object(G),!0).forEach(function(He){c(Y,He,G[He])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(G)):d(Object(G)).forEach(function(He){Object.defineProperty(Y,He,Object.getOwnPropertyDescriptor(G,He))})}return Y}function h(Y){if(Array.isArray(Y))return Y}a("e01a"),a("d28b"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function p(Y,ie){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Y)))){var G=[],He=!0,De=!1,rt=void 0;try{for(var mt=Y[Symbol.iterator](),ft;!(He=(ft=mt.next()).done)&&(G.push(ft.value),!(ie&&G.length===ie));He=!0);}catch(gt){De=!0,rt=gt}finally{try{!He&&mt.return!=null&&mt.return()}finally{if(De)throw rt}}return G}}a("a630"),a("fb6a"),a("b0c0"),a("25f0");function v(Y,ie){(ie==null||ie>Y.length)&&(ie=Y.length);for(var G=0,He=new Array(ie);G<ie;G++)He[G]=Y[G];return He}function g(Y,ie){if(Y){if(typeof Y=="string")return v(Y,ie);var G=Object.prototype.toString.call(Y).slice(8,-1);if(G==="Object"&&Y.constructor&&(G=Y.constructor.name),G==="Map"||G==="Set")return Array.from(Y);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return v(Y,ie)}}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(Y,ie){return h(Y)||p(Y,ie)||g(Y,ie)||_()}function y(Y){if(Array.isArray(Y))return v(Y)}function C(Y){if(typeof Symbol<"u"&&Symbol.iterator in Object(Y))return Array.from(Y)}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(Y){return y(Y)||C(Y)||g(Y)||T()}var F=a("a352"),I=a.n(F);function k(Y){Y.parentElement!==null&&Y.parentElement.removeChild(Y)}function M(Y,ie,G){var He=G===0?Y.children[0]:Y.children[G-1].nextSibling;Y.insertBefore(ie,He)}var V=a("dbf1");a("13d5"),a("4fad"),a("ac1f"),a("5319");function U(Y){var ie=Object.create(null);return function(He){var De=ie[He];return De||(ie[He]=Y(He))}}var $=/-(\w)/g,Q=U(function(Y){return Y.replace($,function(ie,G){return G.toUpperCase()})});a("5db7"),a("73d9");var J=["Start","Add","Remove","Update","End"],R=["Choose","Unchoose","Sort","Filter","Clone"],ne=["Move"],ue=[ne,J,R].flatMap(function(Y){return Y}).map(function(Y){return"on".concat(Y)}),we={manage:ne,manageAndEmit:J,emit:R};function Be(Y){return ue.indexOf(Y)!==-1}a("caad"),a("2ca0");var We=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function pe(Y){return We.includes(Y)}function _e(Y){return["transition-group","TransitionGroup"].includes(Y)}function Ce(Y){return["id","class","role","style"].includes(Y)||Y.startsWith("data-")||Y.startsWith("aria-")||Y.startsWith("on")}function ve(Y){return Y.reduce(function(ie,G){var He=S(G,2),De=He[0],rt=He[1];return ie[De]=rt,ie},{})}function Qe(Y){var ie=Y.$attrs,G=Y.componentData,He=G===void 0?{}:G,De=ve(Object.entries(ie).filter(function(rt){var mt=S(rt,2),ft=mt[0];return mt[1],Ce(ft)}));return f(f({},De),He)}function se(Y){var ie=Y.$attrs,G=Y.callBackBuilder,He=ve(Te(ie));Object.entries(G).forEach(function(rt){var mt=S(rt,2),ft=mt[0],gt=mt[1];we[ft].forEach(function(St){He["on".concat(St)]=gt(St)})});var De="[data-draggable]".concat(He.draggable||"");return f(f({},He),{},{draggable:De})}function Te(Y){return Object.entries(Y).filter(function(ie){var G=S(ie,2),He=G[0];return G[1],!Ce(He)}).map(function(ie){var G=S(ie,2),He=G[0],De=G[1];return[Q(He),De]}).filter(function(ie){var G=S(ie,2),He=G[0];return G[1],!Be(He)})}a("c740");function je(Y,ie){if(!(Y instanceof ie))throw new TypeError("Cannot call a class as a function")}function nt(Y,ie){for(var G=0;G<ie.length;G++){var He=ie[G];He.enumerable=He.enumerable||!1,He.configurable=!0,"value"in He&&(He.writable=!0),Object.defineProperty(Y,He.key,He)}}function tt(Y,ie,G){return ie&&nt(Y.prototype,ie),Y}var ot=function(ie){var G=ie.el;return G},ye=function(ie,G){return ie.__draggable_context=G},be=function(ie){return ie.__draggable_context},me=(function(){function Y(ie){var G=ie.nodes,He=G.header,De=G.default,rt=G.footer,mt=ie.root,ft=ie.realList;je(this,Y),this.defaultNodes=De,this.children=[].concat(P(He),P(De),P(rt)),this.externalComponent=mt.externalComponent,this.rootTransition=mt.transition,this.tag=mt.tag,this.realList=ft}return tt(Y,[{key:"render",value:function(G,He){var De=this.tag,rt=this.children,mt=this._isRootComponent,ft=mt?{default:function(){return rt}}:rt;return G(De,He,ft)}},{key:"updated",value:function(){var G=this.defaultNodes,He=this.realList;G.forEach(function(De,rt){ye(ot(De),{element:He[rt],index:rt})})}},{key:"getUnderlyingVm",value:function(G){return be(G)}},{key:"getVmIndexFromDomIndex",value:function(G,He){var De=this.defaultNodes,rt=De.length,mt=He.children,ft=mt.item(G);if(ft===null)return rt;var gt=be(ft);if(gt)return gt.index;if(rt===0)return 0;var St=ot(De[0]),Tt=P(mt).findIndex(function(Wt){return Wt===St});return G<Tt?0:rt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),Y})(),Ve=a("8bbf");function Ie(Y,ie){var G=Y[ie];return G?G():[]}function K(Y){var ie=Y.$slots,G=Y.realList,He=Y.getKey,De=G||[],rt=["header","footer"].map(function(Wt){return Ie(ie,Wt)}),mt=S(rt,2),ft=mt[0],gt=mt[1],St=ie.item;if(!St)throw new Error("draggable element must have an item slot");var Tt=De.flatMap(function(Wt,qt){return St({element:Wt,index:qt}).map(function(mn){return mn.key=He(Wt),mn.props=f(f({},mn.props||{}),{},{"data-draggable":!0}),mn})});if(Tt.length!==De.length)throw new Error("Item slot must have only one child");return{header:ft,footer:gt,default:Tt}}function te(Y){var ie=_e(Y),G=!pe(Y)&&!ie;return{transition:ie,externalComponent:G,tag:G?Object(Ve.resolveComponent)(Y):ie?Ve.TransitionGroup:Y}}function ee(Y){var ie=Y.$slots,G=Y.tag,He=Y.realList,De=Y.getKey,rt=K({$slots:ie,realList:He,getKey:De}),mt=te(G);return new me({nodes:rt,root:mt,realList:He})}function Ae(Y,ie){var G=this;Object(Ve.nextTick)(function(){return G.$emit(Y.toLowerCase(),ie)})}function xe(Y){var ie=this;return function(G,He){if(ie.realList!==null)return ie["onDrag".concat(Y)](G,He)}}function he(Y){var ie=this,G=xe.call(this,Y);return function(He,De){G.call(ie,He,De),Ae.call(ie,Y,He)}}var Pe=null,Ee={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(ie){return ie}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},st=["update:modelValue","change"].concat(P([].concat(P(we.manageAndEmit),P(we.emit)).map(function(Y){return Y.toLowerCase()}))),kt=Object(Ve.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ee,emits:st,data:function(){return{error:!1}},render:function(){try{this.error=!1;var ie=this.$slots,G=this.$attrs,He=this.tag,De=this.componentData,rt=this.realList,mt=this.getKey,ft=ee({$slots:ie,tag:He,realList:rt,getKey:mt});this.componentStructure=ft;var gt=Qe({$attrs:G,componentData:De});return ft.render(Ve.h,gt)}catch(St){return this.error=!0,Object(Ve.h)("pre",{style:{color:"red"}},St.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&V.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var ie=this;if(!this.error){var G=this.$attrs,He=this.$el,De=this.componentStructure;De.updated();var rt=se({$attrs:G,callBackBuilder:{manageAndEmit:function(gt){return he.call(ie,gt)},emit:function(gt){return Ae.bind(ie,gt)},manage:function(gt){return xe.call(ie,gt)}}}),mt=He.nodeType===1?He:He.parentElement;this._sortable=new I.a(mt,rt),this.targetDomElement=mt,mt.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var ie=this.list;return ie||this.modelValue},getKey:function(){var ie=this.itemKey;return typeof ie=="function"?ie:function(G){return G[ie]}}},watch:{$attrs:{handler:function(ie){var G=this._sortable;G&&Te(ie).forEach(function(He){var De=S(He,2),rt=De[0],mt=De[1];G.option(rt,mt)})},deep:!0}},methods:{getUnderlyingVm:function(ie){return this.componentStructure.getUnderlyingVm(ie)||null},getUnderlyingPotencialDraggableComponent:function(ie){return ie.__draggable_component__},emitChanges:function(ie){var G=this;Object(Ve.nextTick)(function(){return G.$emit("change",ie)})},alterList:function(ie){if(this.list){ie(this.list);return}var G=P(this.modelValue);ie(G),this.$emit("update:modelValue",G)},spliceList:function(){var ie=arguments,G=function(De){return De.splice.apply(De,P(ie))};this.alterList(G)},updatePosition:function(ie,G){var He=function(rt){return rt.splice(G,0,rt.splice(ie,1)[0])};this.alterList(He)},getRelatedContextFromMoveEvent:function(ie){var G=ie.to,He=ie.related,De=this.getUnderlyingPotencialDraggableComponent(G);if(!De)return{component:De};var rt=De.realList,mt={list:rt,component:De};if(G!==He&&rt){var ft=De.getUnderlyingVm(He)||{};return f(f({},ft),mt)}return mt},getVmIndexFromDomIndex:function(ie){return this.componentStructure.getVmIndexFromDomIndex(ie,this.targetDomElement)},onDragStart:function(ie){this.context=this.getUnderlyingVm(ie.item),ie.item._underlying_vm_=this.clone(this.context.element),Pe=ie.item},onDragAdd:function(ie){var G=ie.item._underlying_vm_;if(G!==void 0){k(ie.item);var He=this.getVmIndexFromDomIndex(ie.newIndex);this.spliceList(He,0,G);var De={element:G,newIndex:He};this.emitChanges({added:De})}},onDragRemove:function(ie){if(M(this.$el,ie.item,ie.oldIndex),ie.pullMode==="clone"){k(ie.clone);return}var G=this.context,He=G.index,De=G.element;this.spliceList(He,1);var rt={element:De,oldIndex:He};this.emitChanges({removed:rt})},onDragUpdate:function(ie){k(ie.item),M(ie.from,ie.item,ie.oldIndex);var G=this.context.index,He=this.getVmIndexFromDomIndex(ie.newIndex);this.updatePosition(G,He);var De={element:this.context.element,oldIndex:G,newIndex:He};this.emitChanges({moved:De})},computeFutureIndex:function(ie,G){if(!ie.element)return 0;var He=P(G.to.children).filter(function(ft){return ft.style.display!=="none"}),De=He.indexOf(G.related),rt=ie.component.getVmIndexFromDomIndex(De),mt=He.indexOf(Pe)!==-1;return mt||!G.willInsertAfter?rt:rt+1},onDragMove:function(ie,G){var He=this.move,De=this.realList;if(!He||!De)return!0;var rt=this.getRelatedContextFromMoveEvent(ie),mt=this.computeFutureIndex(rt,ie),ft=f(f({},this.context),{},{futureIndex:mt}),gt=f(f({},ie),{},{relatedContext:rt,draggedContext:ft});return He(gt,G)},onDragEnd:function(){Pe=null}}}),Rt=kt;i.default=Rt}),fb6a:(function(o,i,a){var s=a("23e7"),l=a("861d"),u=a("e8b5"),c=a("23cb"),d=a("50c4"),f=a("fc6a"),h=a("8418"),p=a("b622"),v=a("1dde"),g=a("ae40"),_=v("slice"),S=g("slice",{ACCESSORS:!0,0:0,1:2}),y=p("species"),C=[].slice,T=Math.max;s({target:"Array",proto:!0,forced:!_||!S},{slice:function(F,I){var k=f(this),M=d(k.length),V=c(F,M),U=c(I===void 0?M:I,M),$,Q,J;if(u(k)&&($=k.constructor,typeof $=="function"&&($===Array||u($.prototype))?$=void 0:l($)&&($=$[y],$===null&&($=void 0)),$===Array||$===void 0))return C.call(k,V,U);for(Q=new($===void 0?Array:$)(T(U-V,0)),J=0;V<U;V++,J++)V in k&&h(Q,J,k[V]);return Q.length=J,Q}})}),fc6a:(function(o,i,a){var s=a("44ad"),l=a("1d80");o.exports=function(u){return s(l(u))}}),fdbc:(function(o,i){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),fdbf:(function(o,i,a){var s=a("4930");o.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"})}).default})})(tx)),tx.exports}var H4e=R4e();const UZ=Qk(H4e),Q4e={key:0,class:"mt-4 border-t pa-3"},j4e={__name:"NoProductsYet",setup(n){const t=Vt(),{proposal:e}=Lt(t);return(r,o)=>!O(e).cart_items.length&&!O(e).it_service_items.length?(le(),et("div",Q4e,[...o[0]||(o[0]=[H("div",{class:"text-center"},[H("h1",{class:"font-weight-light"},"You haven't added any Products yet.")],-1)])])):xt("",!0)}},$4e={class:"ml-3 mr-3"},K4e=rn({__name:"ITServiceItem",props:["cart_index","line_item","is_standalone","line_item_index"],setup(n){const t=Vt(),{proposal:e}=Lt(t),r=n,o=()=>{e.value.it_service_items[r.cart_index].items.splice(r.line_item_index,1),e.value.it_service_items[r.cart_index].items.length<=0&&_E(r.cart_index)};return(i,a)=>{const s=pi;return le(),Re(Ao,{"model-value":n.is_standalone==!0?0:1,class:"mb-4 animate-moveFromRight"},{default:N(()=>[x(s,{class:"border",icon:"mdi-semantic-web"},{title:N(()=>[H("span",$4e,at(n.line_item.name),1),x(En),n.is_standalone?(le(),Re(Fl,{key:0,size:"x-small",class:"mr-5"},{default:N(()=>[...a[4]||(a[4]=[Je("STANDALONE",-1)])]),_:1})):xt("",!0)]),footer:N(()=>[x(En),x($e,{color:"red",width:"120",size:"small",text:"Remove",variant:"outlined",onClick:o,style:Ue(O(On)),"prepend-icon":"mdi-close-circle",class:"d-flex ma-auto mt-2 mb-1 mr-1"},null,8,["style"]),x(En)]),default:N(()=>[x(cr,null,{default:N(()=>[x(Fn,null,{default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{variant:"outlined",label:"Unit Price",modelValue:n.line_item.unit_price,"onUpdate:modelValue":a[0]||(a[0]=l=>n.line_item.unit_price=l),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{variant:"outlined",label:"Quantity",modelValue:n.line_item.quantity,"onUpdate:modelValue":a[1]||(a[1]=l=>n.line_item.quantity=l),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{variant:"outlined",label:"Margin (%)",modelValue:n.line_item.price_margin,"onUpdate:modelValue":a[2]||(a[2]=l=>n.line_item.price_margin=l),modelModifiers:{number:!0},type:"number","hide-details":""},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(mr,{disabled:!n.is_standalone,variant:"outlined",label:"Term",modelValue:n.line_item.charge_type,"onUpdate:modelValue":a[3]||(a[3]=l=>n.line_item.charge_type=l),items:O(lv),"hide-details":""},null,8,["disabled","modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}}),W4e={class:"ml-3 mr-3"},z4e=rn({__name:"ITServiceEditor",props:["cart_item","cart_index"],setup(n){return(t,e)=>{const r=K4e,o=pi;return n.cart_item.tier?(le(),Re(Ao,{key:0,"model-value":0,class:"mb-4 animate-moveFromRight"},{default:N(()=>[x(o,{class:"border",icon:"mdi-semantic-web"},{title:N(()=>[H("span",W4e,at(n.cart_item.tier.name),1),x(En),x(Fl,{size:"x-small",class:"mr-5"},{default:N(()=>[...e[3]||(e[3]=[Je("TIERED PACKAGE",-1)])]),_:1})]),footer:N(()=>[x(En),x($e,{color:"red",width:"120",size:"small",text:"Remove",variant:"outlined","prepend-icon":"mdi-close-circle",onClick:e[1]||(e[1]=i=>O(_E)(t.index)),style:Ue(O(On)),class:"d-flex ma-auto mt-2 mb-1 mr-1"},null,8,["style"]),x($e,{size:"small",color:"primary",text:"Duplicate",variant:"outlined","prepend-icon":"mdi-close-circle",onClick:e[2]||(e[2]=i=>O(Kwe)(n.cart_item)),style:Ue(O(On)),class:"d-flex ma-auto mt-2 mb-1 ml-1"},null,8,["style"]),x(En)]),default:N(()=>[x(cr,null,{default:N(()=>[x(Fn,null,{default:N(()=>[x(mr,{label:"Term","max-width":"250",variant:"outlined",items:O(lv),modelValue:n.cart_item.tier.charge_type,"onUpdate:modelValue":e[0]||(e[0]=i=>n.cart_item.tier.charge_type=i)},null,8,["items","modelValue"]),(le(!0),et(ut,null,Wr(n.cart_item.items,(i,a)=>(le(),Re(r,{cart_index:n.cart_index,line_item:i,is_standalone:!1,line_item_index:a},null,8,["cart_index","line_item","line_item_index"]))),256))]),_:1})]),_:1})]),_:1})]),_:1})):(le(!0),et(ut,{key:1},Wr(n.cart_item.items,(i,a)=>(le(),Re(r,{cart_index:n.cart_index,line_item:i,is_standalone:!0,line_item_index:a},null,8,["cart_index","line_item","line_item_index"]))),256))}}}),G4e={class:"d-block ma-auto",style:{width:"fit-content"}},Y4e={class:"stacked-images"},X4e=["src"],J4e=["src"],Z4e=["src"],q4e=rn({__name:"ImageStacks",props:{product:{},attachments:{}},setup(n){const t=Vt(),{is_mobile:e}=Lt(t),r=ae(()=>n.attachments.length>0),o=ae(()=>qP(n.product).length>0&&!qP(n.product).includes("_placeholder_.png")),i=(a,s)=>{let l="";return JSON.parse(gm(a.dataset_id).rules).forEach(c=>{if(c.type==="custom_css"){let d=0;c.items.forEach(f=>{typeof n.attachments.find(p=>p.dataset_id===f&&p.dataset_attached)<"u"&&d++}),d===c.items.length&&c.items.length>0&&(l=c.css)}}),`z-index:${s};`+l};return(a,s)=>(le(),Re(cr,{class:"border",style:Ue(O(On))},{default:N(()=>[x(Fn,null,{default:N(()=>[H("div",G4e,[H("div",Y4e,[O(r)&&O(o)?(le(),et("img",{key:0,class:"base-image",src:O(qP)(n.product),alt:""},null,8,X4e)):(le(),et("img",{key:1,class:"featured-image",src:O(RV)(n.product),alt:""},null,8,J4e)),(le(!0),et(ut,null,Wr(n.attachments,(l,u)=>(le(),et(ut,{key:u},[O(gm)(l.dataset_id).filename.length?(le(),et("img",{key:0,style:Ue(i(l,u)),src:O(wwe)(l),alt:"",class:"img-stack animate-fade-in"},null,12,Z4e)):xt("",!0)],64))),128))])])]),_:1})]),_:1},8,["style"]))}}),eQe=ps(q4e,[["__scopeId","data-v-0e8d77bd"]]),tQe={class:"d-flex"},nQe={class:"d-flex align-center"},rQe={key:0},oQe=["src"],iQe={class:"ml-4"},aQe={class:"text-capitalize"},sQe={class:"text-capitalize"},fN=rn({__name:"CustomProductSelector",props:{headers:{type:Array,required:!0},cart_index:{type:Number,required:!1,comment:"Used only for accessories toggling"},products_list:{type:Array,required:!0},is_accessory:{type:Boolean,required:!1}},emits:["single-pick","multi-pick"],setup(n,{emit:t}){const e=Vt(),r=Oe({search:"",manufacturer:""}),o=n,i=ae(()=>r.value.search||r.value.manufacturer),{getAccessTokenSilently:a}=Er(),s=Oe([]),l=ae(()=>{let g=o.products_list,_=r.value.search.toLowerCase();return r.value.search&&(g=g.filter(S=>{var y,C,T,P,F,I,k;return((y=S.name)==null?void 0:y.toLowerCase().includes(_))||((C=S.manufacturer)==null?void 0:C.toLowerCase().includes(_))||((T=S.item_type)==null?void 0:T.toLowerCase().includes(_))||((P=S.sku_no)==null?void 0:P.toLowerCase().includes(_))||((F=S.oem_no)==null?void 0:F.toLowerCase().includes(_))||((I=S.price)==null?void 0:I.toString().includes(_))||((k=S.margin)==null?void 0:k.toString().includes(_))})),r.value.manufacturer&&(g=g.filter(S=>S.manufacturer.toLowerCase()==r.value.manufacturer.toLowerCase())),g}),u=t,c=g=>s.value.includes(g.id),d=(g,_)=>{if(g&&!s.value.includes(_.id))s.value.push(_.id);else{const S=s.value.findIndex(y=>y===_.id);S!==-1&&s.value.splice(S,1)}},f=()=>{r.value={search:"",manufacturer:""}},h=g=>g.image||"/assets/img/no-image.png",p=g=>{u("single-pick",g)},v=()=>{const g=[];s.value.forEach(_=>{g.push(o.products_list.find(S=>S.id==_))}),u("multi-pick",g)};return Kn(async()=>{const g=await a();await e.FetchMyProducts(g)}),(g,_)=>(le(),et(ut,null,[x(Xn,null,{default:N(()=>[x(wt,{cols:"3"},{default:N(()=>[x(_t,{label:"Search...",density:"compact",variant:"outlined",modelValue:O(r).search,"onUpdate:modelValue":_[0]||(_[0]=S=>O(r).search=S)},null,8,["modelValue"])]),_:1}),x(wt,{cols:"3"},{default:N(()=>[n.is_accessory?xt("",!0):(le(),Re(mr,{key:0,density:"compact",variant:"outlined",label:"Manufacturer",items:O(Gx),modelValue:O(r).manufacturer,"onUpdate:modelValue":_[1]||(_[1]=S=>O(r).manufacturer=S)},null,8,["items","modelValue"]))]),_:1}),x(wt,{cols:"6"},{default:N(()=>[H("div",tQe,[x(En),O(i)?(le(),Re($e,{key:0,class:"mr-3",text:"Reset Filters",onClick:f,style:Ue(O(hn))},null,8,["style"])):xt("",!0),O(s).length?(le(),Re($e,{key:1,style:Ue(O(hn)),text:"Add Selected Products",onClick:v,"prepend-icon":"mdi-plus-circle"},null,8,["style"])):xt("",!0)])]),_:1})]),_:1}),x(hi,{headers:n.headers,class:"mb-5 border",items:O(l),style:Ue(O(zr)),"onUpdate:page":_[2]||(_[2]=S=>s.value=[]),"onUpdate:sortBy":_[3]||(_[3]=S=>s.value=[])},{item:N(({item:S})=>[H("tr",null,[H("td",{class:pt(`${n.is_accessory?"":"pl-0"} text-capitalize`)},[H("div",nQe,[n.is_accessory?(le(),et("div",rQe,at(S.name),1)):(le(),Re(cs,{key:1,"model-value":c(S),"onUpdate:modelValue":y=>d(y,S),"hide-details":""},{label:N(()=>[H("img",{width:"40",height:"40",alt:"product-image",class:"rounded border",src:h(S),style:{background:"rgba(132,132,132,0.64)"}},null,8,oQe),H("div",iQe,at(S.name),1)]),_:2},1032,["model-value","onUpdate:modelValue"]))])],2),H("td",aQe,at(S.manufacturer),1),H("td",null,at(S.item_type=="toner"?S.toner_yield:S.sku_no),1),H("td",null,at(S.oem_no),1),H("td",null,at(S.price),1),H("td",null,at(S.margin),1),H("td",sQe,[n.is_accessory&&n.cart_index!=null?(le(),et(ut,{key:0},[S.item_type=="toner"?(le(),Re($e,{key:0,width:"100",size:"small",variant:"outlined",onClick:y=>O(qwe)(S,n.cart_index),color:O($S)(S,n.cart_index)?"red":"info",text:O($S)(S,n.cart_index)?"Remove":"Add","prepend-icon":O($S)(S,n.cart_index)?"mdi-pencil-circle":"mdi-trash-can"},null,8,["onClick","color","text","prepend-icon"])):(le(),Re($e,{key:1,width:"100",size:"small",variant:"outlined",onClick:y=>O(PY)(S,n.cart_index),color:O(ym)(S,n.cart_index)?"red":"info",text:O(ym)(S,n.cart_index)?"Remove":"Add","prepend-icon":O(ym)(S,n.cart_index)?"mdi-pencil-circle":"mdi-trash-can"},null,8,["onClick","color","text","prepend-icon"]))],64)):(le(),Re($e,{key:1,text:"Add",color:"info",size:"small",variant:"outlined",style:Ue(O(hn)),onClick:y=>p(S),"prepend-icon":"mdi-pencil-circle"},null,8,["style","onClick"]))])])]),_:1},8,["headers","items","style"])],64))}}),LZ={__name:"TableButton",props:["style","label","icon","color","width","size","variant","disabled"],setup(n){return(t,e)=>(le(),Re($e,{text:n.label,style:Ue(n.style),"prepend-icon":n.icon,width:n.width??null,size:n.size??"small",onClick:e[0]||(e[0]=r=>t.$emit("onclick")),color:n.color??"primary",disabled:n.disabled??!1,variant:n.variant??"elevated"},null,8,["text","style","prepend-icon","width","size","color","disabled","variant"]))}},lQe=["id"],uQe={class:"d-flex align-center"},cQe={class:"mr-2 pa-1"},dQe={key:0,class:"text-center my-5"},fQe=rn({__name:"CompatibleAccessories",props:{accessories:{},cart_index:{}},setup(n){const t=Vt(),e=Oe("catalog"),r=[{title:"Name",sortable:!0,value:"accessory_name"},{title:"OEM No.",sortable:!1,value:"oem_no"},{title:"Part No.",sortable:!1,value:"accessory_part_no"},{title:"Manage",sortable:!1,value:"accessory_manage"}],{ShowError:o,ShowSuccess:i}=t,a=ae(()=>u.value.filter(p=>p.item_type==="accessory")),s=ae(()=>u.value.filter(p=>p.item_type==="toner")),{proposal:l,my_products:u}=Lt(t),c=Oe("custom-accessories"),d=async p=>{let v=!1,g=JSON.parse(gm(p.dataset_id).rules);if(g.length<1)return h(p.dataset_id,!0),i("Accessory added");for(const _ of g){if(_.type=="incompatible_with"){console.log("incompatible_with");let S=[];if(_.items.forEach(y=>{var C;(C=f(y))!=null&&C.dataset_attached&&S.push({...f(y)})}),S.length>0){let y="Please remove the ff. incompatible Accessories. <br>";S.forEach(C=>{y+=`- ${bd(C.accessory_id).name}<br>`;let T=document.querySelector(`#dataset-id-${C.dataset_id}`);T&&(T.classList.add("blink-yellow"),setTimeout(()=>{T.classList.remove("blink-yellow")},3e3))}),t.ShowError(y),v=!1,h(p.dataset_id,!1);break}else v=!0}else if(_.type=="require_one"){console.log("require_one");let S=!1,y="<br><br>";if(_.items.forEach(C=>{var F;const T=gm(C),P=bd(T.accessory_id);y+="- "+P.name+"<br>",(F=f(C))!=null&&F.dataset_attached&&(S=!0)}),S)v=!0;else{h(p.dataset_id,!1),_.items.forEach(C=>{let T=document.querySelector(`#dataset-id-${C}`);T&&(T.classList.add("blink-yellow"),setTimeout(()=>{T.classList.remove("blink-yellow")},3e3))}),v=!1,h(p.dataset_id,!1),o(`This Accessory requires one of the ff.
${y}`);break}}else if(_.type=="require_all"){let S=!0;if(_.items.forEach(y=>{var C;((C=f(y))==null?void 0:C.dataset_attached)==!1&&(S=!1)}),S)v=!0;else{let y="<br><br>";_.items.forEach(C=>{const T=gm(C),P=bd(T.accessory_id);y+="- "+P.name+"<br>";let F=document.querySelector(`#dataset-id-${C}`);F&&(F.classList.add("blink-yellow"),setTimeout(()=>{F.classList.remove("blink-yellow")},3e3))}),v=!1,h(p.dataset_id,!1),o(`This Accessory requires all of the ff.
${y}`);break}}else _.type=="custom_css"&&(console.log("custom_css"),v=!0);h(p.dataset_id,v)}},f=p=>n.accessories.find(v=>+v.dataset_id==+p),h=(p,v)=>{const g=n.accessories.findIndex(_=>_.dataset_id===p);g>-1&&(l.value.cart_items[n.cart_index].accessories[g].dataset_attached=v)};return(p,v)=>{const g=LZ,_=dV,S=fN,y=pi;return le(),Re(Ao,{elevation:"0",class:"mt-4","model-value":"1"},{default:N(()=>[x(y,{class:"border",title:"Accessories",icon:"mdi-tune-variant"},{default:N(()=>[x(cr,null,{default:N(()=>[x(Xy,{class:"mb-4","align-tabs":"center",modelValue:O(e),"onUpdate:modelValue":v[0]||(v[0]=C=>Ht(e)?e.value=C:null)},{default:N(()=>[x(xi,{value:"catalog","prepend-icon":"mdi-printer-outline"},{default:N(()=>[...v[3]||(v[3]=[Je("Compatible Accessories",-1)])]),_:1}),x(xi,{value:"custom","prepend-icon":"mdi-format-list-checkbox"},{default:N(()=>[...v[4]||(v[4]=[Je("Custom Accessories",-1)])]),_:1})]),_:1},8,["modelValue"]),x(BT,{modelValue:O(e),"onUpdate:modelValue":v[2]||(v[2]=C=>Ht(e)?e.value=C:null)},{default:N(()=>[x(Bh,{value:"catalog"},{default:N(()=>[x(Fn,null,{default:N(()=>[x(hi,{style:Ue(O(zr)),items:n.accessories,headers:r},{item:N(({item:C})=>[H("tr",{id:`dataset-id-${C.dataset_id}`},[H("td",null,[H("div",uQe,[H("div",cQe,[x(Gu,{width:"30",height:"30",src:O(bwe)(C)},null,8,["src"])]),H("div",null,at(O(bd)(C.accessory_id).name),1)])]),H("td",null,at(O(bd)(C.accessory_id).oem_no||"-"),1),H("td",null,at(O(bd)(C.accessory_id).part_number),1),H("td",null,[C.dataset_attached?(le(),Re(g,{key:1,style:Ue(O(On)),variant:"outlined",width:"100",label:"Remove",icon:"mdi-close-circle",onOnclick:T=>O(IY)(C,n.accessories),color:"red"},null,8,["style","onOnclick"])):(le(),Re(g,{key:0,style:Ue(O(On)),variant:"outlined",width:"100",label:"Add",icon:"mdi-plus-circle",onOnclick:T=>d(C),color:"primary"},null,8,["style","onOnclick"]))])],8,lQe)]),_:1},8,["style","items"])]),_:1})]),_:1}),x(Bh,{value:"custom"},{default:N(()=>[x(Fn,null,{default:N(()=>[x(_,{modelValue:O(c),"onUpdate:modelValue":v[1]||(v[1]=C=>Ht(c)?c.value=C:null),right_text:"Toners",right_value:"custom-toners",left_text:"Accessories",left_value:"custom-accessories"},null,8,["modelValue"]),O(c)=="custom-accessories"?(le(),Re(S,{key:0,is_accessory:!0,cart_index:n.cart_index,products_list:O(a)},null,8,["cart_index","products_list"])):(le(),et(ut,{key:1},[O(l).is_global_print_cost==1?(le(),et("div",dQe,[...v[5]||(v[5]=[Je(' You need to switch to "per copier" print cost before you can add toners. ',-1),H("br",null,null,-1),Je(" go to 'Lease/Purchase Details' > 'Features' > 'Prints Included Type' ",-1)])])):(le(),Re(S,{key:1,is_accessory:!0,cart_index:n.cart_index,products_list:O(s)},null,8,["cart_index","products_list"]))],64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}}),AQe=rn({__name:"CustomProductImage",props:{item:{type:Object,required:!0}},setup(n){const t=Vt(),e=async()=>{const r=await t.InputDialog("Add an image","Paste an image URL below:","");r&&(n.item.product.image=r)};return(r,o)=>(le(),Re(cr,{class:"pa-10 border"},{default:N(()=>[x(Gu,{class:"ma-auto d-block rounded",style:{"max-width":"400px","max-height":"400px",width:"100%",height:"100%"},src:n.item.product.image||"/assets/img/no-image.png"},null,8,["src"]),n.item.product.image?xt("",!0):(le(),Re(Kk,{key:0},{default:N(()=>[x($e,{size:"small",color:"primary",onClick:e,variant:"outlined",text:"Add an Image",class:"d-flex ma-auto","prepend-icon":"mdi-image-plus"})]),_:1}))]),_:1}))}}),hQe=L_("v-alert-title"),pQe=it({iconSize:[Number,String],iconSizes:{type:Array,default:()=>[["x-small",10],["small",16],["default",24],["large",28],["x-large",32]]}},"iconSize");function mQe(n,t){return{iconSize:ae(()=>{const r=new Map(n.iconSizes),o=n.iconSize??t()??"default";return r.has(o)?r.get(o):o})}}const vQe=["success","info","warning","error"],gQe=it({border:{type:[Boolean,String],validator:n=>typeof n=="boolean"||["top","end","bottom","start"].includes(n)},borderColor:String,closable:Boolean,closeIcon:{type:Tn,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:n=>vQe.includes(n)},...Cn(),...Va(),...As(),...tl(),...pQe(),...ov(),...K_(),...Hi(),...Br(),...Zr(),...Rc({variant:"flat"})},"VAlert"),fU=Dt()({name:"VAlert",props:gQe(),emits:{"click:close":n=>!0,"update:modelValue":n=>!0},setup(n,t){let{emit:e,slots:r}=t;const o=Mn(n,"modelValue"),i=ze(()=>{if(n.icon!==!1)return n.type?n.icon??`$${n.type}`:n.icon}),{iconSize:a}=mQe(n,()=>n.prominent?44:void 0),{themeClasses:s}=Co(n),{colorClasses:l,colorStyles:u,variantClasses:c}=rv(()=>({color:n.color??n.type,variant:n.variant})),{densityClasses:d}=qu(n),{dimensionStyles:f}=hs(n),{elevationClasses:h}=Ul(n),{locationStyles:p}=Hy(n),{positionClasses:v}=W_(n),{roundedClasses:g}=Zi(n),{textColorClasses:_,textColorStyles:S}=Il(()=>n.borderColor),{t:y}=Ri(),C=ze(()=>({"aria-label":y(n.closeLabel),onClick(T){o.value=!1,e("click:close",T)}}));return()=>{const T=!!(r.prepend||i.value),P=!!(r.title||n.title),F=!!(r.close||n.closable),I={density:n.density,icon:i.value,size:n.iconSize||n.prominent?a.value:void 0};return o.value&&x(n.tag,{class:pt(["v-alert",n.border&&{"v-alert--border":!!n.border,[`v-alert--border-${n.border===!0?"start":n.border}`]:!0},{"v-alert--prominent":n.prominent},s.value,l.value,d.value,h.value,v.value,g.value,c.value,n.class]),style:Ue([u.value,f.value,p.value,n.style]),role:"alert"},{default:()=>{var k,M;return[nv(!1,"v-alert"),n.border&&H("div",{key:"border",class:pt(["v-alert__border",_.value]),style:Ue(S.value)},null),T&&H("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?x(Lr,{key:"prepend-defaults",disabled:!i.value,defaults:{VIcon:{...I}}},r.prepend):x(en,bt({key:"prepend-icon"},I),null)]),H("div",{class:"v-alert__content"},[P&&x(hQe,{key:"title"},{default:()=>{var V;return[((V=r.title)==null?void 0:V.call(r))??n.title]}}),((k=r.text)==null?void 0:k.call(r))??n.text,(M=r.default)==null?void 0:M.call(r)]),r.append&&H("div",{key:"append",class:"v-alert__append"},[r.append()]),F&&H("div",{key:"close",class:"v-alert__close"},[r.close?x(Lr,{key:"close-defaults",defaults:{VBtn:{icon:n.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var V;return[(V=r.close)==null?void 0:V.call(r,{props:C.value})]}}):x($e,bt({key:"close-btn",icon:n.closeIcon,size:"x-small",variant:"text"},C.value),null)])]}})}}}),yQe={key:0,class:"mb-10"},bQe={__name:"PrintCostEditor",props:["item","index"],setup(n){const t=Vt(),{proposal:e}=Lt(t);return(r,o)=>{const i=pi;return le(),Re(Ao,{elevation:"0",class:"mt-4","model-value":"1"},{default:N(()=>[x(i,{class:"border",title:"Prints Included & Cost",icon:"mdi-printer-pos-cog-outline"},{default:N(()=>[x(Fn,null,{default:N(()=>[x(Dd,{class:"my-10"},{default:N(()=>[...o[6]||(o[6]=[Je("Included Prints",-1)])]),_:1}),O(e).is_global_print_cost==1?(le(),et("div",yQe,[x(fU,{variant:"tonal",type:"info",title:"You're using 'Global' Printing Costs"},{default:N(()=>[...o[7]||(o[7]=[Je(" To modify the Global prints included and cost, go to Lease Details section or in Cost Breakdown ",-1)])]),_:1})])):xt("",!0),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{variant:"outlined",density:"comfortable",label:"BLACK Prints Included",disabled:O(e).is_global_print_cost==1,modelValue:n.item.print_cost.black_prints_included,"onUpdate:modelValue":o[0]||(o[0]=a=>n.item.print_cost.black_prints_included=a),modelModifiers:{number:!0}},{"prepend-inner":N(()=>[x(en,{class:"black-indicator"},{default:N(()=>[...o[8]||(o[8]=[Je("mdi-invert-colors",-1)])]),_:1})]),_:1},8,["disabled","modelValue"]),x(_t,{variant:"outlined",density:"comfortable",label:"COLOR Prints Included",disabled:O(e).is_global_print_cost==1,modelValue:n.item.print_cost.color_prints_included,"onUpdate:modelValue":o[1]||(o[1]=a=>n.item.print_cost.color_prints_included=a),modelModifiers:{number:!0}},{"prepend-inner":N(()=>[x(en,{class:"color-indicator"},{default:N(()=>[...o[9]||(o[9]=[Je("mdi-invert-colors",-1)])]),_:1})]),_:1},8,["disabled","modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{variant:"outlined",density:"comfortable",label:"BLACK Cost Per Print (CPP)","prepend-inner-icon":"mdi-currency-usd",disabled:O(e).is_global_print_cost==1,modelValue:n.item.print_cost.black_prints_cost,"onUpdate:modelValue":o[2]||(o[2]=a=>n.item.print_cost.black_prints_cost=a),modelModifiers:{number:!0}},null,8,["disabled","modelValue"]),x(_t,{variant:"outlined",density:"comfortable",label:"COLOR Cost Per Print (CPP)","prepend-inner-icon":"mdi-currency-usd",disabled:O(e).is_global_print_cost==1,modelValue:n.item.print_cost.color_prints_cost,"onUpdate:modelValue":o[3]||(o[3]=a=>n.item.print_cost.color_prints_cost=a),modelModifiers:{number:!0}},null,8,["disabled","modelValue"])]),_:1})]),_:1}),x(Dd,{class:"my-10"},{default:N(()=>[...o[10]||(o[10]=[Je("Overage Prints",-1)])]),_:1}),x(_t,{variant:"outlined",density:"comfortable",label:"BLACK Overage Cost","prepend-inner-icon":"mdi-currency-usd",disabled:O(e).is_global_print_cost==1,modelValue:n.item.print_cost.black_overage_cost,"onUpdate:modelValue":o[4]||(o[4]=a=>n.item.print_cost.black_overage_cost=a),modelModifiers:{number:!0}},null,8,["disabled","modelValue"]),x(_t,{variant:"outlined",density:"comfortable",label:"COLOR Overage Cost","prepend-inner-icon":"mdi-currency-usd",disabled:O(e).is_global_print_cost==1,modelValue:n.item.print_cost.color_overage_cost,"onUpdate:modelValue":o[5]||(o[5]=a=>n.item.print_cost.color_overage_cost=a),modelModifiers:{number:!0}},null,8,["disabled","modelValue"])]),_:1})]),_:1})]),_:1})}}},wQe=["id"],_Qe=rn({__name:"CatalogAccessorySelector",props:{cart_index:{type:Number,required:!0}},emits:["single-pick","multi-pick"],setup(n,{emit:t}){const e=Vt(),r=Oe(""),o=[{title:"Name",sortable:!0,value:"accessory_name"},{title:"Part Number",sortable:!0,value:"accessory_part_no"},{title:"Manage",sortable:!1,value:"accessory_manage"}],{accessories:i}=Lt(e),a=ae(()=>r.value?i.value.filter(s=>s.name.toLowerCase().includes(r.value.toLowerCase())):i.value);return(s,l)=>(le(),Re(cr,{class:"border"},{default:N(()=>[x(Fn,{class:"border-b d-flex justify-space-between"},{default:N(()=>[x(_t,{"hide-details":"",density:"compact",variant:"outlined",placeholder:"Search",modelValue:O(r),"onUpdate:modelValue":l[0]||(l[0]=u=>Ht(r)?r.value=u:null),style:{"max-width":"250px"},"prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"]),x(En)]),_:1}),x(hi,{headers:o,id:"all-accessories-table",style:Ue(O(zr)),items:O(a)},{item:N(({item:u})=>[H("tr",{id:`dataset-id-${u.dataset_id}`},[H("td",null,at(u.name),1),H("td",null,at(u.part_number),1),H("td",null,[x($e,{width:"100",size:"small",variant:"outlined",onClick:c=>O(PY)(u,n.cart_index),color:O(ym)(u,n.cart_index)?"red":"info",text:O(ym)(u,n.cart_index)?"Remove":"Add","prepend-icon":O(ym)(u,n.cart_index)?"mdi-pencil-circle":"mdi-trash-can"},null,8,["onClick","color","text","prepend-icon"])])],8,wQe)]),_:1},8,["style","items"])]),_:1}))}}),CQe={key:0,class:"text-center my-5"},SQe={__name:"CustomAccessorySelector",props:{cart_index:{type:Number,required:!0}},setup(n){const t=Vt(),e=Oe("catalog"),r=ae(()=>l.value.filter(c=>c.item_type==="toner")),o=ae(()=>l.value.filter(c=>c.item_type==="accessory")),i=[{title:"Product",value:"name",sortable:!0},{title:"Brand",value:"manufacturer",sortable:!0},{title:"SKU",value:"sku_no",sortable:!0},{title:"OEM #",value:"oem_no",sortable:!0},{title:"Price",value:"price",sortable:!0},{title:"Margin",value:"margin",sortable:!0},{title:"Manage",value:"manage",sortable:!1}],a=[{title:"Product",value:"name",sortable:!0},{title:"Brand",value:"manufacturer",sortable:!0},{title:"Yield",value:"yield",sortable:!0},{title:"OEM #",value:"oem_no",sortable:!0},{title:"Price",value:"price",sortable:!0},{title:"Margin",value:"margin",sortable:!0},{title:"Manage",value:"manage",sortable:!1}],{proposal:s,my_products:l}=Lt(t),u=Oe("custom-accessories");return(c,d)=>{const f=_Qe,h=dV,p=fN,v=pi;return le(),Re(Ao,{class:"mt-4"},{default:N(()=>[x(v,{class:"border",icon:"mdi-puzzle-plus-outline",title:"Accessories"},{default:N(()=>[x(Fn,null,{default:N(()=>[x(Xy,{class:"mb-4","align-tabs":"center",modelValue:O(e),"onUpdate:modelValue":d[0]||(d[0]=g=>Ht(e)?e.value=g:null)},{default:N(()=>[x(xi,{value:"catalog","prepend-icon":"mdi-printer-outline"},{default:N(()=>[...d[3]||(d[3]=[Je("Catalog Accessories",-1)])]),_:1}),x(xi,{value:"custom","prepend-icon":"mdi-format-list-checkbox"},{default:N(()=>[...d[4]||(d[4]=[Je("Custom Accessories",-1)])]),_:1})]),_:1},8,["modelValue"]),x(BT,{modelValue:O(e),"onUpdate:modelValue":d[2]||(d[2]=g=>Ht(e)?e.value=g:null)},{default:N(()=>[x(Bh,{value:"catalog"},{default:N(()=>[O(e)==="catalog"?(le(),Re(f,{key:0,cart_index:n.cart_index},null,8,["cart_index"])):xt("",!0)]),_:1}),x(Bh,{value:"custom"},{default:N(()=>[x(h,{modelValue:O(u),"onUpdate:modelValue":d[1]||(d[1]=g=>Ht(u)?u.value=g:null),right_text:"Toners",right_value:"custom-toners",left_text:"Accessories",left_value:"custom-accessories"},null,8,["modelValue"]),O(u)=="custom-accessories"?(le(),Re(p,{key:0,is_accessory:!0,cart_index:n.cart_index,headers:i,products_list:O(o)},null,8,["cart_index","products_list"])):(le(),et(ut,{key:1},[O(s).is_global_print_cost==1?(le(),et("div",CQe,[...d[5]||(d[5]=[Je(' You need to switch to "per copier" print cost before you can add toners. ',-1),H("br",null,null,-1),Je(" go to 'Lease/Purchase Details' > 'Features' > 'Prints Included Type' ",-1)])])):(le(),Re(p,{key:1,is_accessory:!0,headers:a,cart_index:n.cart_index,products_list:O(r)},null,8,["cart_index","products_list"]))],64))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}},xQe={__name:"TableInput",props:{modelValue:{type:[Number,String],default:0},type:{type:String,default:"text"},minimum:{type:Number,default:0},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},icon:{type:String,default:null}},emits:["update:modelValue"],setup(n,{emit:t}){const e=n,r=t,o=ae(()=>e.type==="text"),i=ae({get:()=>e.modelValue,set:a=>{const s=o.value?a:Number(a);r("update:modelValue",s)}});return(a,s)=>(le(),Re(_t,{type:n.type,"hide-details":"",elevation:"0",density:"compact",variant:"outlined",readonly:n.readonly,modelValue:O(i),"onUpdate:modelValue":s[0]||(s[0]=l=>Ht(i)?i.value=l:null),"prepend-inner-icon":n.icon,class:pt(`table-input ${n.type}`),min:O(o)?void 0:n.minimum,disabled:O(o)?void 0:n.disabled},cA({"prepend-inner":N(()=>[Ar(a.$slots,"prepend-inner",{},void 0,!0)]),"append-inner":N(()=>[Ar(a.$slots,"append-inner",{},void 0,!0)]),_:2},[a.$slots.label?{name:"label",fn:N(()=>[Ar(a.$slots,"label",{},void 0,!0)]),key:"0"}:void 0]),1032,["type","readonly","modelValue","prepend-inner-icon","class","min","disabled"]))}},dv=ps(xQe,[["__scopeId","data-v-72171c8f"]]),EQe={key:0},BQe={key:1},kQe=rn({__name:"ProductDetails",props:["item"],setup(n){const t=[{title:"Name",value:"name"},{title:"Qty.",value:"qty"},{title:"Price",value:"price"},{title:"Margin",value:"margin"}];return(e,r)=>{const o=dv,i=pi;return le(),Re(Ao,{elevation:"0","model-value":"0"},{default:N(()=>[x(i,{class:"border",style:Ue(O(zr)),title:"Product Details",icon:"mdi-pencil-circle"},{default:N(()=>[x(hi,{style:Ue(O(zr)),"hide-default-footer":"","hide-no-data":"",items:[],headers:t},{"body.append":N(()=>[H("tr",null,[H("td",null,[n.item.type=="custom"?(le(),et("span",EQe,at(n.item.product.name),1)):(le(),et("span",BQe,at(O(Jw)(n.item.product.id).name),1))]),H("td",null,[x(o,{style:{width:"100px"},type:"number",modelValue:n.item.product.qty,"onUpdate:modelValue":r[0]||(r[0]=a=>n.item.product.qty=a)},null,8,["modelValue"])]),H("td",null,[x(o,{style:{width:"100px"},type:"number",modelValue:n.item.product.price,"onUpdate:modelValue":r[1]||(r[1]=a=>n.item.product.price=a)},null,8,["modelValue"])]),H("td",null,[x(o,{style:{width:"100px"},type:"number",modelValue:n.item.product.price_margin,"onUpdate:modelValue":r[2]||(r[2]=a=>n.item.product.price_margin=a)},null,8,["modelValue"])])])]),_:1},8,["style"])]),_:1},8,["style"])]),_:1})}}}),TQe={key:0},OQe={key:1},PQe=rn({__name:"ProductEditor",props:["item","index"],setup(n){const t=Vt(),e=ae(()=>r.value?"margin-bottom: 0px;padding-bottom:1px":"margin-bottom: 10px;padding-bottom:1px"),r=ae(()=>i.value.cart_items.length==n.index+1),{modals:o,proposal:i}=Lt(t);return(a,s)=>{const l=kQe,u=SQe,c=bQe,d=AQe,f=fQe,h=eQe,p=pi;return le(),Re(Ao,{"model-value":0,class:"mb-4 animate-moveFromRight",style:Ue(O(e))},{default:N(()=>[x(p,{class:"border",icon:"mdi-printer-pos-edit-outline"},{title:N(()=>{var v;return[n.item.type=="custom"?(le(),et("span",TQe," "+at(n.item.product.name),1)):(le(),et("span",OQe," "+at((v=O(Jw)(n.item.product.id))==null?void 0:v.name),1))]}),footer:N(()=>[x(En),x($e,{color:"red",width:"120",size:"small",text:"Remove",variant:"outlined",onClick:s[0]||(s[0]=v=>O(xY)(n.index)),"prepend-icon":"mdi-close-circle",style:Ue(O(On)),class:"d-flex ma-auto mt-2 mb-1 mr-1"},null,8,["style"]),x($e,{size:"small",color:"primary",text:"Duplicate",variant:"outlined",onClick:s[1]||(s[1]=v=>O(Cwe)(n.item)),"prepend-icon":"mdi-close-circle",style:Ue(O(On)),class:"d-flex ma-auto mt-2 mb-1 ml-1"},null,8,["style"]),x(En)]),default:N(()=>[n.item.type=="custom"?(le(),Re(cr,{key:0},{default:N(()=>[x(Fn,null,{default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"7",md:"7",sm:"12"},{default:N(()=>[x(l,{item:n.item,index:n.index},null,8,["item","index"]),x(u,{cart_index:n.index},null,8,["cart_index"]),x(c,{item:n.item},null,8,["item"])]),_:1}),x(wt,{cols:"12",lg:"5",md:"5",sm:"12"},{default:N(()=>[x(d,{item:n.item},null,8,["item"])]),_:1})]),_:1})]),_:1})]),_:1})):(le(),Re(cr,{key:1},{default:N(()=>[x(Fn,null,{default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"7",md:"7",sm:"12"},{default:N(()=>[x(l,{item:n.item,index:n.index},null,8,["item","index"]),x(f,{accessories:n.item.accessories,cart_index:n.index},null,8,["accessories","cart_index"]),x(c,{item:n.item},null,8,["item"])]),_:1}),x(wt,{cols:"12",lg:"5",md:"5",sm:"12"},{default:N(()=>[x(h,{product:O(Jw)(n.item.product.id),attachments:O(Xw)(n.item)},null,8,["product","attachments"])]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1},8,["style"])}}}),IQe={class:"d-flex justify-space-between mb-5"},MQe={__name:"FilterInputsForm",setup(n){const t=Vt(),{proposal_filters:e,paper_sizes:r}=Lt(t),o=()=>{e.value={manufacturer_id:null,filter_color:null,connectivity:[],print_volume_min:null,print_volume_max:null,print_speed_color:null,print_speed_black:null,paper_sizes:[],search_filter:""}};return(i,a)=>(le(),et(ut,null,[H("div",IQe,[H("div",null,[x(en,null,{default:N(()=>[...a[9]||(a[9]=[Je("mdi-information-outline",-1)])]),_:1}),a[10]||(a[10]=Je(" Use the Filters below to narrow down your search ",-1))]),H("div",null,[x($e,{onClick:o,"prepend-icon":"mdi-restore",density:"compact",variant:"text"},{default:N(()=>[...a[11]||(a[11]=[Je("Reset Filters",-1)])]),_:1})])]),x(_t,{"prepend-inner-icon":"mdi-magnify",modelValue:O(e).search_filter,"onUpdate:modelValue":a[0]||(a[0]=s=>O(e).search_filter=s),class:"position-relative",variant:"outlined",placeholder:"Search for products...",density:"comfortable"},null,8,["modelValue"]),x(mr,{modelValue:O(e).manufacturer_id,"onUpdate:modelValue":a[1]||(a[1]=s=>O(e).manufacturer_id=s),modelModifiers:{number:!0},items:O(YL),label:"Select a Brand",density:"comfortable",variant:"outlined","item-title":"name","item-value":"id"},null,8,["modelValue","items"]),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(mr,{label:"Color",variant:"outlined",modelValue:O(e).filter_color,"onUpdate:modelValue":a[2]||(a[2]=s=>O(e).filter_color=s),items:O(t_e),density:"comfortable"},null,8,["modelValue","items"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(mr,{modelValue:O(e).paper_sizes,"onUpdate:modelValue":a[3]||(a[3]=s=>O(e).paper_sizes=s),items:O(r),"item-title":"name","item-value":"name",density:"comfortable",label:"Paper Sizes",variant:"outlined",multiple:"",chips:""},null,8,["modelValue","items"])]),_:1})]),_:1}),x(mr,{modelValue:O(e).connectivity,"onUpdate:modelValue":a[4]||(a[4]=s=>O(e).connectivity=s),items:O(MY),"item-title":"name","item-value":"name",density:"comfortable",label:"Connectivity",variant:"outlined",multiple:"",chips:""},null,8,["modelValue","items"]),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{modelValue:O(e).print_volume_min,"onUpdate:modelValue":a[5]||(a[5]=s=>O(e).print_volume_min=s),modelModifiers:{number:!0},label:"Recommended Monthly Prints (Min)",density:"comfortable",variant:"outlined"},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{modelValue:O(e).print_volume_max,"onUpdate:modelValue":a[6]||(a[6]=s=>O(e).print_volume_max=s),modelModifiers:{number:!0},label:"Recommended Monthly Prints (Max)",density:"comfortable",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),x(_t,{modelValue:O(e).print_speed_color,"onUpdate:modelValue":a[7]||(a[7]=s=>O(e).print_speed_color=s),label:"Print Speed (Color)",variant:"outlined",density:"comfortable"},null,8,["modelValue"]),x(_t,{modelValue:O(e).print_speed_black,"onUpdate:modelValue":a[8]||(a[8]=s=>O(e).print_speed_black=s),label:"Print Speed (B&W)",variant:"outlined",density:"comfortable"},null,8,["modelValue"])],64))}},FQe={class:"mb-5 text-center"},DQe={class:"border overflow-y-auto pr-1"},UQe={class:"pl-3 d-flex justify-space-between align-center"},LQe=["src"],VQe={class:"ml-2"},NQe=rn({__name:"FilterResultsTable",props:["filtered_products"],setup(n){const t=Vt(),{proposal_filter_loading:e}=Lt(t),r=o=>{nD({id:o.id,qty:1,item_type:"copier",product_name:"",product_desc:"",product_price:Swe(o.id),product_margin:20,black_prints_cost:u3("Black",o.id),color_prints_cost:u3("Color",o.id),accessories:_we(o),product_image:"",product_brand:"",product_oem_no:"",product_sku_no:""})};return(o,i)=>(le(),et(ut,null,[H("p",FQe,"A total of ("+at(n.filtered_products.length)+") Results",1),H("div",DQe,[x(hi,{density:"compact",items:n.filtered_products,style:Ue(O(zr)),class:"filter-product-table",loading:O(e),headers:[{title:"Product",value:"name",sortable:!0}]},{loading:N(()=>[...i[0]||(i[0]=[H("h3",{class:"font-weight-light py-15"},"Let me find something great for you...",-1)])]),item:N(({item:a})=>[H("td",UQe,[H("img",{width:"40",height:"40",src:O(RV)(a),alt:""},null,8,LQe),H("div",VQe,at(a.name),1),x(En),x($e,{size:"small",text:"Add",class:"mr-2",color:"primary",style:Ue(O(hn)),onClick:s=>r(a),"prepend-icon":"mdi-plus-circle"},null,8,["style","onClick"])])]),_:1},8,["items","style","loading"])])],64))}}),RQe={class:"mb-5 text-center"},HQe={class:"text-center mt-5"},QQe={class:"mt-5 animate-moveFromTop"},jQe=rn({__name:"FilterLlmForm",setup(n){const t=Vt(),{getAccessTokenSilently:e}=Er(),{proposal_filter_loading:r,paper_sizes:o}=Lt(t),{proposal_ai_filter:i,products:a}=Lt(t),s=async()=>{var y;let l=((y=Pm.value)==null?void 0:y.supported_brands)??[],u=a.value.filter(C=>l==null?void 0:l.includes(C.manufacturer_id)),c=await e();i.value.response_summary="";const d=[],f=await Jwe(c);f.length&&(String(f).split(",").forEach(C=>{o.value.includes(C)&&d.push(C)}),d.length&&(u=u.filter(C=>C.paper_size.some(T=>d.includes(T))))),r.value=!0,i.value.product_results=[],i.value.response_summary="";const h=await Wwe(c),p=YL.value.some(C=>C.id==h);Number(h)!=0&&p&&(u=u.filter(C=>+C.manufacturer_id==+Number(h)),console.log("User specified a Brand ID: ",h));const v=await zwe(c);v.length&&(u=u.filter(C=>v.some(T=>C.connectivity.includes(T.name))),console.log("User specified Connectivity Features:",v));const g=await Gwe(c);["Color","B&W"].includes(g)&&(u=u.filter(C=>C.copier_color.toLowerCase()==g.toLowerCase()),console.log("User specified Color Preference: ",g));const _=await Ywe(c);_>0&&(u=u.filter(C=>Number(C.avg_monthly_prints)>=_),console.log(`User needs ${_} pages/month`));const S=await Xwe(c);S>0&&(u=u.filter(C=>C.copier_color.toLowerCase()==="b&w"?Number(C.speed_black)>=S:Number(C.speed_color)>=S&&Number(C.ppm_bw)>=S),console.log(`User needs ${S} ppm`)),u.length||t.ShowError("AI could not find any product based on your search."),i.value.product_results=u,i.value.response_summary=await Zwe(c),r.value=!1};return(l,u)=>(le(),et(ut,null,[H("p",RQe,[x(en,{style:{position:"relative",bottom:"2px"}},{default:N(()=>[...u[1]||(u[1]=[Je("mdi-robot-outline",-1)])]),_:1}),u[2]||(u[2]=H("span",{class:"ml-2"},"Let OSCAR help you find the right copier for you.",-1))]),x(cr,{elevation:"0",class:"border"},{default:N(()=>[x(Fn,{class:"pt-0"},{default:N(()=>[x(pT,{variant:"plain",style:{"max-height":"250px"},disabled:O(r),modelValue:O(i).user_prompt,"onUpdate:modelValue":u[0]||(u[0]=c=>O(i).user_prompt=c),placeholder:"Describe what you're looking for. e.g. 11x17, color, 60ppm, HP, supports wifi"},null,8,["disabled","modelValue"])]),_:1}),x(fA,{style:{"font-size":"12px"},class:"pa-2 border-t d-flex justify-center align-center"},{default:N(()=>[x(en,{class:"mr-2"},{default:N(()=>[...u[3]||(u[3]=[Je("mdi-information-outline",-1)])]),_:1}),u[4]||(u[4]=Je(" OSCAR is powered by OpenAl's artificial intelligence model, ChatGPT. ",-1))]),_:1})]),_:1}),H("div",HQe,[x($e,{text:"AI Search",style:Ue(O(hn)),onClick:s,"prepend-icon":"mdi-magnify",loading:O(r),disabled:!O(i).user_prompt},null,8,["style","loading","disabled"])]),H("p",QQe,at(O(i).response_summary),1)],64))}}),$Qe={class:"mt-5 ma-auto d-flex align-center mb-10",style:{width:"fit-content"}},KQe={class:"pl-1"},WQe=rn({__name:"ProductSelectorWrapper",setup(n){const t=Vt(),e=Oe(!1),r=Oe("tab1"),{getAccessTokenSilently:o}=Er(),i=ae(()=>u.value.filter(k=>k.item_type=="product")),a=Oe([]),s=Oe([]),{proposal:l,my_products:u,proposal_active_filter:c,products:d,accessories:f}=Lt(t);Lt(t);const h=[{title:"Product",value:"name",sortable:!0},{title:"Brand",value:"manufacturer",sortable:!0},{title:"SKU",value:"sku_no",sortable:!0},{title:"OEM #",value:"oem_no",sortable:!0},{title:"Price",value:"price",sortable:!0},{title:"Margin",value:"margin",sortable:!0},{title:"Manage",value:"manage",sortable:!1}],p=Oe([{title:"Product",value:"name",sortable:!0},{title:"Type",value:"type",sortable:!0},{title:"OEM No.",value:"oem_no",sortable:!0},{title:"Price",value:"price",sortable:!0}]),v=ae(()=>{const k=[];return s.value.forEach((M,V)=>{k.push({index:V,name:P(M),type:F(M),oem_no:M.oem_no,price:M.price})}),k}),g=Oe(""),_=Oe(!1),S=async()=>{const k=new FormData;e.value=!0;const M=await o();k.append("bd_number",g.value),k.append("partner_id",vr.value),sn(M).post("/bigdeals/search-deal",k).then(V=>{console.log(V.data),l.value.title=V.data.deal_title||"",l.value.company_name=V.data.client_name||"",s.value=V.data.products}).finally(()=>{e.value=!1})},y=(k=null,M=!1)=>{let V=0,U=0;return(k??s.value).forEach(Q=>{const J=d.value.find(ne=>ne.oem_no==Q.oem_no),R=f.value.find(ne=>ne.oem_no==Q.oem_no);J?(nD({id:J.id,qty:1,item_type:"custom",product_name:J.name,product_desc:J.description,product_price:wF(String(Q.price)),product_margin:0,product_image:RV(J),product_brand:ywe(J.manufacturer_id),product_oem_no:J.oem_no,product_sku_no:"",black_prints_cost:0,color_prints_cost:0,accessories:[]}),V++):R&&(l.value.cost_addons.push({name:R.name,type:"accessory",price:Number(Q.price),qty:1,price_margin:0,charge_type:"monthly"}),U++)}),_.value=M,t.ShowSuccess(`
    ${V>0?`<br>(${V}) Products added`:""}
    ${V>0&&U>0?"<br>":""}
    ${U>0?`(${U}) Accessories added`:""}
  `)},C=k=>{nD({id:k.id,qty:1,item_type:"custom",product_name:k.name,product_desc:k.description,product_price:k.price,product_margin:k.margin,product_image:k.image,product_brand:k.manufacturer,product_oem_no:k.oem_no,product_sku_no:k.sku_no,black_prints_cost:0,color_prints_cost:0,accessories:[]})},T=k=>{k.forEach(M=>{C(M)}),t.ShowSuccess(`(${k.length}) Products added`)},P=k=>{const M=d.value.find(U=>U.oem_no==k.oem_no),V=f.value.find(U=>U.oem_no==k.oem_no);return M?M.name??"Unknown":V?V.name??"Unknown":"Unknown"},F=k=>{const M=d.value.find(U=>U.oem_no==k.oem_no),V=f.value.find(U=>U.oem_no==k.oem_no);return M?"Product":V?"Accessory":"Uncategorized"},I=()=>{const k=[];a.value.forEach(M=>{k.push(v.value.find(V=>V.index==M))}),y(k,!0),a.value=[]};return(k,M)=>{const V=jQe,U=NQe,$=MQe,Q=fN,J=Zk;return le(),Re(cr,{elevation:"0"},{default:N(()=>[x(Fn,{class:"pb-0 pt-0"},{default:N(()=>[x(Xy,{class:"mt-4","align-tabs":"center",modelValue:O(r),"onUpdate:modelValue":M[0]||(M[0]=R=>Ht(r)?r.value=R:null)},{default:N(()=>[x(xi,{"prepend-icon":"mdi-printer-outline",value:"tab1"},{default:N(()=>[...M[8]||(M[8]=[Je("Catalog Products",-1)])]),_:1}),x(xi,{"prepend-icon":"mdi-format-list-checkbox",value:"tab2"},{default:N(()=>[...M[9]||(M[9]=[Je("Custom Products",-1)])]),_:1}),O(g4)?(le(),Re(xi,{key:0,"prepend-icon":"mdi-invoice-list-outline",value:"tab3"},{default:N(()=>[...M[10]||(M[10]=[Je("Big Deal Search",-1)])]),_:1})):xt("",!0)]),_:1},8,["modelValue"]),x(BT,{modelValue:O(r),"onUpdate:modelValue":M[7]||(M[7]=R=>Ht(r)?r.value=R:null)},{default:N(()=>[x(Bh,{value:"tab1"},{default:N(()=>[H("div",$Qe,[M[11]||(M[11]=H("span",{class:"mr-2"},"Ask OSCAR",-1)),x(Sl,{modelValue:O(c),"onUpdate:modelValue":M[1]||(M[1]=R=>Ht(c)?c.value=R:null),"false-value":1,"true-value":2,"base-color":"info",color:"info","hide-details":""},null,8,["modelValue"]),M[12]||(M[12]=H("span",{class:"ml-2",style:{width:"90px"}},"Filters",-1))]),O(c)==1?(le(),Re(Xn,{key:0,class:"animate-moveFromLeft"},{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(V)]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(U,{filtered_products:O($we)},null,8,["filtered_products"])]),_:1})]),_:1})):xt("",!0),O(c)==2?(le(),Re(Xn,{key:1,class:"animate-moveFromLeft"},{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x($)]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(U,{filtered_products:O(jwe)},null,8,["filtered_products"])]),_:1})]),_:1})):xt("",!0)]),_:1}),x(Bh,{value:"tab2"},{default:N(()=>[x(J,{class:"mt-5",columns:"8",offset:"2"},{default:N(()=>[x(Q,{headers:h,products_list:O(i),onMultiPick:T,onSinglePick:C},null,8,["products_list"])]),_:1})]),_:1}),O(g4)?(le(),Re(Bh,{key:0,value:"tab3"},{default:N(()=>[x(J,{class:"mt-5",columns:"8",offset:"2"},{default:N(()=>[H("div",null,[x(_t,{"hide-details":"",class:"mt-1",variant:"outlined",modelValue:O(g),"onUpdate:modelValue":M[2]||(M[2]=R=>Ht(g)?g.value=R:null),label:"Enter a BD Number:",readonly:O(s).length>0,"append-inner-icon":O(g)?"mdi-close":"","onClick:appendInner":M[3]||(M[3]=R=>(s.value=[],g.value=""))},{append:N(()=>[x($e,{height:"60",size:"large",text:"Search",loading:O(e),onClick:S,disabled:!O(g),style:Ue(O(hn)),"prepend-icon":"mdi-file-search-outline"},null,8,["loading","disabled","style"])]),_:1},8,["modelValue","readonly","append-inner-icon"]),x(hi,{"onUpdate:page":M[6]||(M[6]=R=>a.value=[]),style:Ue(O(zr)),items:O(v),class:"mt-5 mb-5 border",headers:O(p)},{item:N(({item:R})=>[H("tr",null,[H("td",KQe,[x(wz,{"hide-details":"",label:R.name,"true-value":R.index,modelValue:O(a),"onUpdate:modelValue":M[4]||(M[4]=ne=>Ht(a)?a.value=ne:null)},null,8,["label","true-value","modelValue"])]),H("td",null,at(R.type),1),H("td",null,at(R.oem_no),1),H("td",null,at(R.price),1)])]),"footer.prepend":N(()=>[O(a).length?(le(),Re($e,{key:0,class:"ml-2",color:"primary",onClick:I,style:Ue(O(hn)),"prepend-icon":"mdi-application-import",text:`Import Selected (${O(a).length})`},null,8,["style","text"])):xt("",!0),O(s).length?(le(),Re($e,{key:1,class:"ml-2",loading:O(e),style:Ue(O(hn)),onClick:M[5]||(M[5]=R=>y(null)),"prepend-icon":"mdi-application-import",text:`Import all (${O(s).length})`},null,8,["loading","style","text"])):xt("",!0),x(En)]),_:1},8,["style","items","headers"])])]),_:1})]),_:1})):xt("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})}}}),zQe={props:["offset","columns"]};function GQe(n,t,e,r,o,i){return le(),Re(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:e.columns,md:e.columns,sm:"12","offset-lg":e.offset,"offset-md":e.offset},{default:N(()=>[Ar(n.$slots,"default")]),_:3},8,["lg","md","offset-lg","offset-md"])]),_:3})}const YQe=ps(zQe,[["render",GQe]]),XQe={class:"text-center"},JQe={key:0,class:"mt-5 d-flex align-center"},ZQe={key:1,class:"mt-5 d-flex align-center"},qQe=rn({__name:"ITServiceSelector",setup(n){const t=Vt(),{proposal:e}=Lt(t),r=Oe(null),o=Oe(null),i=Oe("tiered"),a=()=>{const l=Pw.value.filter(u=>u.tier_id==r.value.id);if(l.length<=0)return r.value=null,t.ShowError("No items found for this Tier List");e.value.it_service_items.push({tier:{...r.value},items:l}),r.value=null},s=()=>{e.value.it_service_items.push({tier:null,items:[{...o.value}]}),o.value=null};return(l,u)=>{const c=YQe;return le(),Re(Fn,null,{default:N(()=>[x(c,{columns:"6",offset:"3"},{default:N(()=>[H("div",XQe,[x(Xue,{divided:"",rounded:"xl",color:"info",elevation:"3",density:"compact",modelValue:O(i),"onUpdate:modelValue":u[0]||(u[0]=d=>Ht(i)?i.value=d:null),class:"w-64 ma-auto"},{default:N(()=>[x($e,{style:Ue(O(i)=="tiered"?O(y4):""),value:"tiered",class:"flex-1"},{default:N(()=>[...u[3]||(u[3]=[Je("Tiered Services",-1)])]),_:1},8,["style"]),x($e,{style:Ue(O(i)=="items"?O(y4):""),value:"items",class:"flex-1"},{default:N(()=>[...u[4]||(u[4]=[Je("IT Service Items",-1)])]),_:1},8,["style"])]),_:1},8,["modelValue"])]),O(i)==="tiered"?(le(),et("div",JQe,[x(mr,{"hide-details":"","return-object":"","item-title":"name",variant:"outlined",modelValue:O(r),"onUpdate:modelValue":u[1]||(u[1]=d=>Ht(r)?r.value=d:null),density:"comfortable",label:"Tiered Services",items:O(Ow)},null,8,["modelValue","items"]),x($e,{height:"48",class:"ml-2",color:"info",size:"large",text:"Select",style:Ue(O(hn)),disabled:!O(r),onClick:a},null,8,["style","disabled"])])):(le(),et("div",ZQe,[x(mr,{"hide-details":"","return-object":"","item-title":"name",variant:"outlined",modelValue:O(o),"onUpdate:modelValue":u[2]||(u[2]=d=>Ht(o)?o.value=d:null),density:"comfortable",label:"IT Services Items",items:O(Pw)},null,8,["modelValue","items"]),x($e,{class:"ml-2",height:"48",size:"large",color:"info",text:"Select",style:Ue(O(hn)),disabled:!O(o),onClick:s},null,8,["style","disabled"])]))]),_:1})]),_:1})}}}),e3e={};function t3e(n,t){return le(),et(ut,null,[x(en,{class:"drag-handle"},{default:N(()=>[...t[0]||(t[0]=[Je("mdi-drag-vertical",-1)])]),_:1}),Ar(n.$slots,"default",{},void 0,!0)],64)}const nO=ps(e3e,[["render",t3e],["__scopeId","data-v-10bc21ca"]]),n3e=rn({__name:"Products",setup(n){const t=Vt(),{proposal:e,modals:r,is_reordering:o,panels:i}=Lt(t);return lt(o,a=>{if(a){const s={...i.value};s.products=1,t.SetState({panels:s})}}),(a,s)=>{const l=nO,u=qQe,c=WQe,d=PQe,f=z4e,h=j4e,p=pi;return le(),Re(Ao,{style:Ue(O(On)),"model-value":O(i).products,"onUpdate:modelValue":s[0]||(s[0]=v=>O(t).SetPanel("products",v)),class:"mb-4"},{default:N(()=>[x(p,{class:"border",style:Ue(O(On)),icon:"mdi-cart-variant"},{icon:N(()=>[x(l)]),title:N(()=>[s[1]||(s[1]=Je("  Products ",-1)),x(Fl,{size:"small",class:"ml-3 mr-3",color:"info",variant:"elevated"},{default:N(()=>[Je(at(O(e).cart_items.length),1)]),_:1})]),default:N(()=>[O(Iw)?(le(),Re(u,{key:0})):xt("",!0),O(Mm)?(le(),Re(c,{key:1})):xt("",!0),x(Fn,null,{default:N(()=>[O(Mm)?(le(!0),et(ut,{key:0},Wr(O(e).cart_items,(v,g)=>(le(),Re(d,{index:g,item:v},null,8,["index","item"]))),256)):xt("",!0),O(Iw)?(le(!0),et(ut,{key:1},Wr(O(e).it_service_items,(v,g)=>(le(),Re(f,{index:g,cart_item:v,cart_index:g},null,8,["index","cart_item","cart_index"]))),256)):xt("",!0)]),_:1}),x(h)]),_:1},8,["style"])]),_:1},8,["style","model-value"])}}}),r3e={class:"d-flex justify-space-between align-center"},o3e=rn({__name:"AdminSignatureModal",setup(n){const t=Vt(),e=Oe(""),r=Oe(null),o=Oe(!1),i=Oe(!1),a=ae(()=>`${c.value.firstname} ${c.value.lastname}`),{ShowError:s,ShowSuccess:l}=t,{modals:u,admin_signature:c}=Lt(t),d=()=>{u.value.admin_signature=!1},f=()=>{if(!o.value)return s("Please tick the checkbox to proceed.");if(r.value.isEmpty())return s("Please draw your signature");if(!c.value.firstname||!c.value.lastname)return s("Please provide your name.");if(!e.value)return s("Please provide your initials.");c.value.initials_blob=_(),c.value.signature_blob=r.value.toDataURL(),c.value.signed_date=$k().format("YYYY-MM-DD HH:mm:ss"),i.value=!0;const S=new FormData;S.append("signature",JSON.stringify(c.value)),sn("").post("/proposals/sign-agreement",S).then(y=>{console.log(y.data),l("Thank you for signing the agreement! <br> We'll get back to you as soon as possible."),d()}).finally(()=>{i.value=!1,setTimeout(()=>{location.reload()},1e3)})},h=()=>{r.value.clear()},p=()=>{const S=()=>{const y=document.querySelector(".canvas-wrapper"),C=document.getElementById("canvas");y&&C&&(C.width=y.clientWidth)};Kn(()=>{S(),window.addEventListener("resize",S)}),lu(()=>{window.removeEventListener("resize",S)})},v=S=>S?S.trim().split(/\s+/).map(y=>y[0].toUpperCase()).join(""):"",g=async S=>{const y=document.getElementById("initials");if(!y)return;const C=y.getContext("2d");await document.fonts.load("400 48px Caveat"),C.clearRect(0,0,y.width,y.height),C.font="400 48px 'Caveat'",C.fillStyle="#000",C.textAlign="center",C.textBaseline="middle",C.fillText(S,y.width/2,y.height/2)},_=()=>{const S=document.getElementById("initials");return S?S.toDataURL("image/png"):null};return lt(()=>a.value,async S=>{S.length&&(e.value=v(S),await g(v(S)))},{immediate:!0}),lt(()=>e.value,async S=>{S&&await g(S)},{immediate:!0}),Kn(()=>{r.value=new T2(document.querySelector("#canvas")),g(e.value)}),p(),(S,y)=>{const C=qi;return le(),Re(C,{onClose:d,color:"transparent",modelValue:O(u).admin_signature,"onUpdate:modelValue":y[5]||(y[5]=T=>O(u).admin_signature=T),max_width:"600"},{title:N(()=>[x(en,null,{default:N(()=>[...y[6]||(y[6]=[Je("mdi-file-sign",-1)])]),_:1}),y[7]||(y[7]=H("span",{class:"ml-2"},"Agreement Signature",-1))]),footer:N(()=>[x(En),x($e,{rounded:"pill",loading:O(i),style:Ue(O(hn)),text:"Agree & Sign Agreement",disabled:!O(o),onClick:f,"prepend-icon":"mdi-checkbox-marked-outline"},null,8,["loading","style","disabled"]),x(En)]),default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"6"},{default:N(()=>[x(_t,{modelValue:O(c).firstname,"onUpdate:modelValue":y[0]||(y[0]=T=>O(c).firstname=T),label:"First Name",variant:"outlined"},null,8,["modelValue"])]),_:1}),x(wt,{cols:"6"},{default:N(()=>[x(_t,{modelValue:O(c).lastname,"onUpdate:modelValue":y[1]||(y[1]=T=>O(c).lastname=T),label:"Last Name",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),x(_t,{modelValue:O(c).email,"onUpdate:modelValue":y[2]||(y[2]=T=>O(c).email=T),label:"Email",variant:"outlined"},null,8,["modelValue"]),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{modelValue:O(e),"onUpdate:modelValue":y[3]||(y[3]=T=>Ht(e)?e.value=T:null),disabled:!O(c).firstname,label:"Your Initials",variant:"outlined"},null,8,["modelValue","disabled"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[...y[8]||(y[8]=[H("canvas",{class:"border border-opacity-25 w-100",id:"initials",height:"60"},null,-1)])]),_:1})]),_:1}),H("div",r3e,[x(fA,null,{default:N(()=>[...y[9]||(y[9]=[Je("Draw your signature below:",-1)])]),_:1}),x($e,{color:O(Pc),onClick:h,class:"mb-1","prepend-icon":"mdi-restart",size:"small"},{default:N(()=>[...y[10]||(y[10]=[Je("Reset",-1)])]),_:1},8,["color"])]),y[11]||(y[11]=H("div",{class:"canvas-wrapper w-100"},[H("canvas",{class:"bg-grey-lighten-4 border rounded-lg",id:"canvas"})],-1)),x(cs,{class:"mt-5 mb-5",modelValue:O(o),"onUpdate:modelValue":y[4]||(y[4]=T=>Ht(o)?o.value=T:null),label:`\r
        I confirm that I have reviewed and accept this agreement,\r
        and acknowledge that I am legally bound by its terms and conditions.\r
      `},null,8,["modelValue"])]),_:1},8,["modelValue"])}}}),i3e=ps(o3e,[["__scopeId","data-v-6a192bf2"]]),a3e={props:["text","location"]},s3e=["innerHTML"];function l3e(n,t,e,r,o,i){return le(),Re(qx,{location:e.location??"bottom center"},{activator:N(({props:a})=>[H("div",Ih(Dh(a)),[Ar(n.$slots,"default")],16)]),default:N(()=>[n.$slots.text?Ar(n.$slots,"text",{key:0}):(le(),et("div",{key:1,innerHTML:e.text},null,8,s3e))]),_:3},8,["location"])}const u3e=ps(a3e,[["render",l3e]]),c3e={key:0},d3e={key:0,class:"mb-10"},f3e={key:0,class:"d-flex items-center justify-space-between"},A3e={class:"ml-1"},h3e={style:{width:"300px"}},p3e={key:1},m3e={class:"monthly-pricing-table mt-5"},v3e={class:"text-left border py-2 px-4 text-center",colspan:"3"},g3e={key:0},y3e={key:1},b3e={class:"text-left border py-2 px-4"},w3e=["onClick"],_3e=["onClick"],C3e=["onClick"],S3e={key:1},x3e={key:0,class:"mb-10"},E3e={class:"font-weight-light text-center"},B3e={key:0},k3e={key:1},T3e={key:0,class:"align-center text-center"},O3e={key:1,class:"text-center text-success"},P3e=rn({__name:"LeaseDetails",setup(n){const t=Vt(),e=Oe(null),r=Oe([{title:"Fair Market Value Lease",value:"fmv"},{title:"$1 Buyout Lease",value:"buyout"},{title:"Equipment Finance Agreement",value:"efa"}]),o=ae(()=>d.value.contract_pages.filter(F=>F.category!="contract")),i=[{title:"Us (Our Company)",value:"partner"},{title:"Customer",value:"customer"}],a=ae(()=>d.value.contract_pages.filter(F=>F.category=="contract")),s=ae(()=>{const F=a.value,I={};return F.forEach(k=>{const M=F.find(U=>U.title!==k.title&&k.title.startsWith(U.title)),V=(M==null?void 0:M.title)||k.title;I[V]||(I[V]=[]),I[V].push({...k,isParent:!M})}),Object.entries(I).map(([k,M])=>({group:k,pages:M.sort((V,U)=>V.isParent?-1:U.isParent?1:0)}))}),l=ae(()=>p.value.filter(F=>F.status=="signed")),{modals:u,panels:c,proposal:d,is_reordering:f,admin_signature:h,proposal_signatures:p}=Lt(t),v=F=>F.pages.every(I=>I.display),g=(F,I)=>{I.pages.forEach(k=>{const M=d.value.contract_pages.find(V=>V.id==k.id);M&&(M.display=F)})},_=(F,I)=>{const{lease_factor_provider:k,lease_term_offered:M,lease_type:V}=d.value;return k&&V===F&&M===I},S=(F,I)=>{d.value.lease_type=F,d.value.lease_term_offered=I},y=F=>F.status=="signed",C=F=>{u.value.admin_signature=!0,h.value=F},T=F=>{F.firstname=d.value.first_name,F.lastname=d.value.last_name,F.email=d.value.email},P=(F,I)=>{const k=F.name.trim().split(/\s+/),M=k[0]||"",V=k.length>1?k[k.length-1]:"";I.firstname=M,I.lastname=V,I.email=F.email};return lt(f,F=>{if(F){const I={...c.value};I.lease_details=1,t.SetState({panels:I})}}),lt(()=>d.value.acquisition_type,F=>{d.value.cart_items.forEach(I=>{F==="purchase"?(I.product.charge_type="one-time",I.print_cost.charge_type="one-time",d.value.global_print_cost.charge_type="one-time",d.value.cost_addons.forEach(k=>{k.charge_type=="monthly"&&(k.charge_type="one-time")})):F==="lease"&&(I.product.charge_type="monthly",I.print_cost.charge_type="monthly",d.value.global_print_cost.charge_type="monthly",d.value.cost_addons.forEach(k=>{k.charge_type=="one-time"&&(k.charge_type="monthly")}))})}),lt(()=>d.value.show_contract_pages,F=>{d.value.contract_pages.forEach(I=>{I.category=="contract"&&(I.display=F==1)})}),lt(()=>e.value,F=>{if(F){const I=gh.value.find(k=>k.id==F);d.value.lease_factor_provider=XW(I)}}),lt(()=>d.value.lease_factor_provider,F=>{F&&(e.value=F.id)},{immediate:!0}),(F,I)=>{const k=nO,M=pi,V=u3e,U=Zk,$=i3e;return O(Mm)?(le(),et("div",c3e,[x(Ao,{style:Ue(O(On)),"model-value":O(c).lease_details,"onUpdate:modelValue":I[14]||(I[14]=Q=>O(t).SetPanel("lease_details",Q)),class:"mb-4"},{default:N(()=>[x(M,{class:"border",style:Ue(O(On)),icon:"mdi-briefcase-edit-outline",title:"Lease/Purchase Details"},{icon:N(()=>[x(k)]),default:N(()=>[x(cr,null,{default:N(()=>[x(Fn,null,{default:N(()=>[x(Ao,null,{default:N(()=>[x(M,{class:"border",title:"Features",icon:"mdi-pencil"},{default:N(()=>[x(cr,null,{default:N(()=>[x(Fn,null,{default:N(()=>[O(Vf)?(le(),et("div",d3e,[x(fU,{variant:"tonal",type:"info",title:"Proposal type is 'Purchase'"},{default:N(()=>[...I[15]||(I[15]=[Je(" Some inputs are disabled as they do not apply to Purchase proposals. ",-1)])]),_:1})])):xt("",!0),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(mr,{variant:"outlined",label:"Proposal Acquisition Type",modelValue:O(d).acquisition_type,"onUpdate:modelValue":I[0]||(I[0]=Q=>O(d).acquisition_type=Q),modelModifiers:{number:!0},items:[{title:"Lease",value:"lease"},{title:"Purchase",value:"purchase"}]},null,8,["modelValue"]),x(mr,{variant:"outlined",label:"Prints Included Type",modelValue:O(d).is_global_print_cost,"onUpdate:modelValue":I[1]||(I[1]=Q=>O(d).is_global_print_cost=Q),modelModifiers:{number:!0},items:[{title:"Global (shared across all copiers)",value:1},{title:"Per Copier (separate allowance for each machine)",value:0}]},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(Fn,{class:"border pa-5"},{default:N(()=>[x(Sl,{color:"info","hide-details":"",modelValue:O(d).show_term_options,"onUpdate:modelValue":I[2]||(I[2]=Q=>O(d).show_term_options=Q),modelModifiers:{number:!0},"true-value":1,"false-value":0,disabled:O(Vf)},{label:N(()=>[I[16]||(I[16]=Je(" Term Options ",-1)),Qn(x(en,{size:"x-small",class:"ml-1 mt-1",icon:"mdi-information-outline"},null,512),[[Oo,"Show Term Options in Cost Summary"]])]),_:1},8,["modelValue","disabled"]),x(Sl,{color:"info","hide-details":"",modelValue:O(d).show_prints_cost,"onUpdate:modelValue":I[3]||(I[3]=Q=>O(d).show_prints_cost=Q),modelModifiers:{number:!0},"true-value":1,"false-value":0},{label:N(()=>[I[17]||(I[17]=Je(" Prints Included & Rates ",-1)),Qn(x(en,{size:"x-small",class:"ml-1 mt-1",icon:"mdi-information-outline"},null,512),[[Oo,"Show Prints Included & Rates in Cost Summary"]])]),_:1},8,["modelValue"]),x(Sl,{color:"info","hide-details":"",modelValue:O(d).show_contract_pages,"onUpdate:modelValue":I[4]||(I[4]=Q=>O(d).show_contract_pages=Q),modelModifiers:{number:!0},"true-value":1,"false-value":0},{label:N(()=>[I[18]||(I[18]=Je(" Show All Contract Pages ",-1)),Qn(x(en,{size:"x-small",class:"ml-1 mt-1",icon:"mdi-information-outline"},null,512),[[Oo,"Show Contract Pages regardless of proposal status."]])]),_:1},8,["modelValue"])]),_:1})]),_:1}),O(o).length?(le(),Re(wt,{key:0,cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(cr,{class:"border"},{default:N(()=>[I[20]||(I[20]=H("h3",{class:"border-b pa-2 text-center"},"Proposal Pages",-1)),x(Fn,{class:"pl-5 pr-5"},{default:N(()=>[(le(!0),et(ut,null,Wr(O(o),(Q,J)=>(le(),et(ut,{key:J},[Q.title!="{product_title}"?(le(),et("div",f3e,[x(Sl,{color:"info","hide-details":"",density:"compact",modelValue:Q.display,"onUpdate:modelValue":R=>Q.display=R},{label:N(()=>[H("span",{class:pt(`ml-1 ${Q.hide_if_signed?"text-disabled":""}`)},[Q.title=="{product_title}"?(le(),et(ut,{key:0},[Je(" Product Shortcode ")],64)):(le(),et(ut,{key:1},[Je(at(Q.title),1)],64)),Q.hide_if_signed?(le(),Re(en,{key:2},{default:N(()=>[...I[19]||(I[19]=[Je("mdi-eye-off-outline",-1)])]),_:1})):xt("",!0)],2)]),_:2},1032,["modelValue","onUpdate:modelValue"]),x(jy,{"close-on-content-click":!1},{activator:N(({props:R})=>[x($e,bt({class:"mt-1",size:"small",variant:"text"},{ref_for:!0},R,{icon:"mdi-chevron-down"}),null,16)]),default:N(()=>[x(Dm,null,{default:N(()=>[x(Cr,null,{default:N(()=>[x(Sl,{color:"info","hide-details":"",label:"Hide if Proposal is Accepted",modelValue:Q.hide_if_signed,"onUpdate:modelValue":R=>Q.hide_if_signed=R},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)])):xt("",!0)],64))),128))]),_:1})]),_:1})]),_:1})):xt("",!0),O(a).length?(le(),Re(wt,{key:1,cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(cr,{class:"border"},{default:N(()=>[I[21]||(I[21]=H("h3",{class:"border-b pa-2 text-center"},"Contract Pages",-1)),x(Fn,{class:"pl-5 pr-5"},{default:N(()=>[(le(!0),et(ut,null,Wr(O(s),(Q,J)=>(le(),et("div",{key:J,class:"d-flex items-center justify-space-between"},[x(Sl,{color:"info","hide-details":"",density:"compact",label:Q.group,"model-value":v(Q),disabled:O(d).show_contract_pages===0,"onUpdate:modelValue":R=>g(R,Q)},{label:N(()=>[H("span",A3e,at(Q.group),1)]),_:2},1032,["label","model-value","disabled","onUpdate:modelValue"])]))),128))]),_:1})]),_:1})]),_:1})):xt("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),x(Ao,{class:"mt-4"},{default:N(()=>[x(M,{class:"border",title:"Lease Details",icon:"mdi-pencil"},{default:N(()=>[x(cr,null,{default:N(()=>[x(Fn,null,{default:N(()=>[x(Xn,{class:"align-center"},{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[I[26]||(I[26]=H("br",null,null,-1)),x(mr,{class:"mt-5",variant:"outlined",label:"Lease Type",items:O(r),disabled:O(Vf),modelValue:O(d).lease_type,"onUpdate:modelValue":I[5]||(I[5]=Q=>O(d).lease_type=Q)},null,8,["items","disabled","modelValue"]),x(mr,{class:"mt-5","item-value":"id","item-title":"name",variant:"outlined",items:O(gh),disabled:O(Vf),label:"Financing Provider",modelValue:O(e),"onUpdate:modelValue":I[6]||(I[6]=Q=>Ht(e)?e.value=Q:null)},{"append-inner":N(()=>[x(V,null,{text:N(()=>[H("table",h3e,[H("tbody",null,[I[23]||(I[23]=H("tr",null,[H("th",{class:"text-left",style:{width:"100px"}},"Lease Term"),H("th",{class:"text-left",colspan:"3"},"Lease Factors (by type)")],-1)),I[24]||(I[24]=H("tr",null,[H("td"),H("td",null,"FMV"),H("td",null,"Buyout"),H("td",null,"EFA")],-1)),O(d).lease_factor_provider?(le(!0),et(ut,{key:0},Wr(O(d).lease_factor_provider.lease_factors,Q=>(le(),et("tr",null,[H("td",null,at(Q.term)+" Months",1),H("td",null,at(Q.fmv),1),H("td",null,at(Q.buyout),1),H("td",null,at(Q.efa),1)]))),256)):(le(),et("tr",p3e,[...I[22]||(I[22]=[H("td",{class:"text-center",colspan:"4"},[H("div",{class:"my-10"},"Select a Financing Provider first!")],-1)])]))])])]),default:N(()=>[x(en,null,{default:N(()=>[...I[25]||(I[25]=[Je("mdi-information",-1)])]),_:1})]),_:1})]),_:1},8,["items","disabled","modelValue"]),x(mr,{class:"mt-5",variant:"outlined",label:"Lease Term",items:O(eD),disabled:!O(d).lease_factor_provider,modelValue:O(d).lease_term_offered,"onUpdate:modelValue":I[7]||(I[7]=Q=>O(d).lease_term_offered=Q),modelModifiers:{number:!0}},null,8,["items","disabled","modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[H("table",m3e,[H("tbody",null,[H("tr",null,[I[27]||(I[27]=H("th",{class:"text-left border py-2 px-4 text-left"},"Lease Term",-1)),H("th",v3e,[O(d).lease_factor_provider?(le(),et("span",g3e," Monthly Cost Options ("+at(O(d).lease_factor_provider.name)+") ",1)):(le(),et("span",y3e," Select a Lease Term and Lease Factor first. "))])]),I[29]||(I[29]=H("tr",null,[H("td",{class:"text-left border py-2 px-4"}),H("td",{class:"text-left border py-2 px-4"},"FMV"),H("td",{class:"text-left border py-2 px-4"},"Buyout"),H("td",{class:"text-left border py-2 px-4"},"EFA")],-1)),O(d).lease_factor_provider?(le(!0),et(ut,{key:0},Wr(O(d).lease_factor_provider.lease_factors,Q=>(le(),et("tr",null,[H("td",b3e,at(Q.term)+" Months",1),H("td",{class:pt([{"is-active":_("fmv",Q.term)},"text-left border py-2 px-4"]),onClick:J=>S("fmv",Q.term)}," $"+at(O(eI)(O(d),Q.term,"fmv"))+"/month ",11,w3e),H("td",{class:pt([{"is-active":_("buyout",Q.term)},"text-left border py-2 px-4"]),onClick:J=>S("buyout",Q.term)}," $"+at(O(eI)(O(d),Q.term,"buyout"))+"/month ",11,_3e),H("td",{class:pt([{"is-active":_("efa",Q.term)},"text-left border py-2 px-4"]),onClick:J=>S("efa",Q.term)}," $"+at(O(eI)(O(d),Q.term,"efa"))+"/month ",11,C3e)]))),256)):(le(),et("tr",S3e,[...I[28]||(I[28]=[H("td",{colspan:"4",class:"border"},[H("h1",{class:"my-15 text-center font-weight-light"},"Select a Lease Term and Lease Factor first.")],-1)])]))])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),x(Ao,{class:"mt-4"},{default:N(()=>[x(M,{class:"border",title:"Global Included Prints and Overage Rates",icon:"mdi-pencil"},{default:N(()=>[x(cr,null,{default:N(()=>[x(Fn,null,{default:N(()=>[O(d).is_global_print_cost==0?(le(),et("div",x3e,[x(fU,{variant:"tonal",type:"info",title:"You're using 'Per Copier' Printing Costs"},{default:N(()=>[...I[30]||(I[30]=[Je(" To modify the prints included and cost, go to each Product > Print Costs section or in Cost Breakdown ",-1)])]),_:1})])):xt("",!0),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[x(_t,{variant:"outlined",label:"BLACK Prints Included",disabled:O(d).is_global_print_cost==0,modelValue:O(d).global_print_cost.black_prints_included,"onUpdate:modelValue":I[8]||(I[8]=Q=>O(d).global_print_cost.black_prints_included=Q),modelModifiers:{number:!0}},{"prepend-inner":N(()=>[x(en,{class:"black-indicator"},{default:N(()=>[...I[31]||(I[31]=[Je("mdi-invert-colors",-1)])]),_:1})]),_:1},8,["disabled","modelValue"]),x(_t,{variant:"outlined",label:"COLOR Prints Included",disabled:O(d).is_global_print_cost==0,modelValue:O(d).global_print_cost.color_prints_included,"onUpdate:modelValue":I[9]||(I[9]=Q=>O(d).global_print_cost.color_prints_included=Q),modelModifiers:{number:!0}},{"prepend-inner":N(()=>[x(en,{class:"color-indicator"},{default:N(()=>[...I[32]||(I[32]=[Je("mdi-invert-colors",-1)])]),_:1})]),_:1},8,["disabled","modelValue"])]),_:1}),x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[x(_t,{variant:"outlined",label:"BLACK Cost Per Print (CPP)","prepend-inner-icon":"mdi-currency-usd",disabled:O(d).is_global_print_cost==0,modelValue:O(d).global_print_cost.black_prints_cost,"onUpdate:modelValue":I[10]||(I[10]=Q=>O(d).global_print_cost.black_prints_cost=Q),modelModifiers:{number:!0}},null,8,["disabled","modelValue"]),x(_t,{variant:"outlined",label:"COLOR Cost Per Print (CPP)","prepend-inner-icon":"mdi-currency-usd",disabled:O(d).is_global_print_cost==0,modelValue:O(d).global_print_cost.color_prints_cost,"onUpdate:modelValue":I[11]||(I[11]=Q=>O(d).global_print_cost.color_prints_cost=Q),modelModifiers:{number:!0}},null,8,["disabled","modelValue"])]),_:1}),x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[x(_t,{disabled:O(d).is_global_print_cost==0,"prepend-inner-icon":"mdi-currency-usd",variant:"outlined",label:"BLACK Overage Cost (Global)",modelValue:O(d).global_print_cost.black_overage_cost,"onUpdate:modelValue":I[12]||(I[12]=Q=>O(d).global_print_cost.black_overage_cost=Q),modelModifiers:{number:!0}},null,8,["disabled","modelValue"]),x(_t,{disabled:O(d).is_global_print_cost==0,"prepend-inner-icon":"mdi-currency-usd",variant:"outlined",label:"COLOR Overage Cost (Global)",modelValue:O(d).global_print_cost.color_overage_cost,"onUpdate:modelValue":I[13]||(I[13]=Q=>O(d).global_print_cost.color_overage_cost=Q),modelModifiers:{number:!0}},null,8,["disabled","modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),O(p).length?(le(),Re(Ao,{key:0,class:"mt-4"},{default:N(()=>[x(M,{class:"border",title:`Signatures (${O(l).length} of ${O(p).length} Collected)`,icon:"mdi-draw-pen"},{default:N(()=>[x(cr,null,{default:N(()=>[x(Fn,null,{default:N(()=>[x(U,{columns:"8",offset:"2"},{default:N(()=>[H("h3",E3e,"We found ("+at(O(p).length)+") signatures from your paperwork/template.",1),x(Ao,{class:"mt-5"},{default:N(()=>[(le(!0),et(ut,null,Wr(O(p),Q=>(le(),Re(M,null,{title:N(()=>[Q.signer_type=="partner"?(le(),et("span",B3e,at(O(Im)),1)):(le(),et("span",k3e,at(O(d).company_name?O(d).company_name:"Customer"),1))]),icon:N(()=>[y(Q)?(le(),Re($e,{key:0,width:"100",size:"small",rounded:"pill",class:"mr-2",variant:"tonal",color:"success",readonly:"","prepend-icon":"mdi-check-circle"},{default:N(()=>[...I[33]||(I[33]=[Je("Signed",-1)])]),_:1})):(le(),Re($e,{key:1,width:"100",size:"small",rounded:"pill",class:"mr-2",variant:"tonal",color:"red",readonly:"","prepend-icon":"mdi-timer-sand-complete"},{default:N(()=>[...I[34]||(I[34]=[Je("Pending",-1)])]),_:1}))]),default:N(()=>[x(Fn,{class:"border"},{default:N(()=>[x(_t,{readonly:y(Q),variant:"outlined",label:"First name",modelValue:Q.firstname,"onUpdate:modelValue":J=>Q.firstname=J},null,8,["readonly","modelValue","onUpdate:modelValue"]),x(_t,{readonly:y(Q),variant:"outlined",label:"Last name",modelValue:Q.lastname,"onUpdate:modelValue":J=>Q.lastname=J},null,8,["readonly","modelValue","onUpdate:modelValue"]),x(_t,{readonly:y(Q),variant:"outlined",label:"Email",modelValue:Q.email,"onUpdate:modelValue":J=>Q.email=J},null,8,["readonly","modelValue","onUpdate:modelValue"]),x(_t,{readonly:y(Q),variant:"outlined",label:"Title (Optional)",modelValue:Q.title,"onUpdate:modelValue":J=>Q.title=J},null,8,["readonly","modelValue","onUpdate:modelValue"]),x(mr,{readonly:y(Q),variant:"outlined",label:"Signed by",modelValue:Q.signer_type,"onUpdate:modelValue":J=>Q.signer_type=J,items:i},null,8,["readonly","modelValue","onUpdate:modelValue"]),!y(Q)&&Q.signer_type=="partner"?(le(),et("div",T3e,[Q.firstname&&Q.lastname?(le(),Re($e,{key:0,color:"primary",text:"Add signature",style:Ue(O(hn)),"prepend-icon":"mdi-draw-pen",onClick:J=>C(Q)},null,8,["style","onClick"])):(le(),Re(mr,{key:1,"hide-details":"","item-title":"name",variant:"outlined",class:"ma-auto mt-5",density:"comfortable",style:{"max-width":"250px"},label:"Choose a signer","return-object":!0,items:O(zW),"onUpdate:modelValue":J=>P(J,Q)},null,8,["items","onUpdate:modelValue"]))])):xt("",!0),!y(Q)&&Q.signer_type=="customer"?(le(),et("div",O3e,[!Q.firstname&&!Q.lastname?(le(),Re($e,{key:0,color:"primary",style:Ue(O(hn)),"prepend-icon":"mdi-draw-pen",text:"Same contact as Proposal?",onClick:J=>T(Q)},null,8,["style","onClick"])):xt("",!0)])):xt("",!0)]),_:2},1024)]),_:2},1024))),256))]),_:1})]),_:1}),O(u).admin_signature?(le(),Re($,{key:0})):xt("",!0)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})):xt("",!0)]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["style","model-value"])])):xt("",!0)}}}),I3e=ps(P3e,[["__scopeId","data-v-73895a24"]]),M3e={class:"text-right pt-1 pb-1"},F3e={class:"text-info"},D3e={class:"text-right pt-1 pb-1"},U3e={class:"text-info"},L3e={__name:"ITServiceGrandTotal",setup(n){const{proposal:t}=Lt(Vt());return(e,r)=>(le(),et(ut,null,[H("tr",null,[r[1]||(r[1]=H("td",{colspan:"7"},"Upfront Total (One-Time)",-1)),H("td",M3e,[H("h3",F3e,"$"+at(O(n_e)()),1),r[0]||(r[0]=H("small",{class:"font-weight-light"},[H("i",null,"One-time")],-1))])]),H("tr",null,[r[3]||(r[3]=H("td",{colspan:"7"},"Grand Total (Recurring)",-1)),H("td",D3e,[H("h3",U3e,"$"+at(O(r_e)()),1),r[2]||(r[2]=H("small",{class:"font-weight-light"},[H("i",null,"Per month")],-1))])])],64))}},V3e={style:{"white-space":"nowrap","font-size":"16px","font-weight":"500"}},t0={__name:"TablePrice",props:["icon"],setup(n){return(t,e)=>(le(),et("p",V3e,[n.icon?(le(),Re(en,{key:0,class:"mr-3",size:"small"},{default:N(()=>[Je(at(n.icon),1)]),_:1})):xt("",!0),e[0]||(e[0]=Je(" $",-1)),Ar(t.$slots,"default")]))}},n0={__name:"TableSelect",props:{modelValue:{type:[String,Number],default:""},variant:{type:String,default:"solo-filled"},items:{type:Array,required:!0},classnames:{type:String,default:""}},emits:["update:modelValue"],setup(n,{emit:t}){const e=n,r=t,o=ae({get:()=>e.modelValue,set:i=>r("update:modelValue",i)});return(i,a)=>(le(),Re(Wy,{"hide-details":"",elevation:"0",items:n.items,density:"compact","item-title":"title",variant:n.variant,"item-value":"value","return-object":!1,classnames:n.classnames,modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value=s)},{"prepend-inner":N(()=>[Ar(i.$slots,"inner")]),_:3},8,["items","variant","classnames","modelValue"]))}},N3e={class:"d-flex align-center"},R3e={class:"ml-1"},rO={__name:"TableItemName",props:["icon"],setup(n){return(t,e)=>(le(),et("div",N3e,[n.icon?(le(),Re($e,{key:0,size:"small",icon:n.icon,elevation:"0",variant:"text",density:"comfortable",onClick:e[0]||(e[0]=r=>t.$emit("onclick"))},null,8,["icon"])):xt("",!0),H("div",R3e,[Ar(t.$slots,"default")])]))}},H3e={class:"pa-1"},Q3e={class:"pa-1",style:{width:"100px"}},j3e={class:"pa-1",style:{width:"100px"}},$3e={class:"pa-1",style:{width:"100px"}},K3e={class:"pa-1"},W3e={key:0,style:{"max-width":"120px"},class:"text-right"},z3e=rn({__name:"ITServiceLineItemSingle",props:["cart_item","line_item","is_standalone"],setup(n){return(t,e)=>{const r=rO,o=dv,i=n0,a=t0;return le(),et("tr",null,[H("td",H3e,[n.is_standalone?(le(),Re(r,{key:0,onClick:e[0]||(e[0]=s=>t.$emit("remove")),icon:"mdi-close"},{default:N(()=>[Je(at(n.line_item.name),1)]),_:1})):(le(),Re(r,{key:1,icon:"mdi-circle-small"},{default:N(()=>[Je(at(n.line_item.name),1)]),_:1}))]),H("td",null,[n.is_standalone?(le(),et(ut,{key:0},[Je("IT Service Item (Standalone)")],64)):(le(),et(ut,{key:1},[Je("IT Service Item")],64))]),H("td",Q3e,[x(o,{type:"number",modelValue:n.line_item.quantity,"onUpdate:modelValue":e[1]||(e[1]=s=>n.line_item.quantity=s),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",j3e,[x(o,{type:"number",modelValue:n.line_item.unit_price,"onUpdate:modelValue":e[2]||(e[2]=s=>n.line_item.unit_price=s),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",$3e,[x(o,{type:"number",modelValue:n.line_item.price_margin,"onUpdate:modelValue":e[3]||(e[3]=s=>n.line_item.price_margin=s),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",K3e,[x(o,{readonly:!0,icon:"mdi-currency-usd","model-value":O(po)(n.line_item.unit_price*n.line_item.quantity,n.line_item.price_margin)},null,8,["model-value"])]),H("td",{class:"pa-0",style:Ue(O(jm))},[x(i,{disabled:!n.is_standalone,variant:"text",items:O(lv),modelValue:n.line_item.charge_type,"onUpdate:modelValue":e[4]||(e[4]=s=>n.line_item.charge_type=s)},null,8,["disabled","items","modelValue"])],4),n.is_standalone?(le(),et("td",W3e,[x(a,null,{default:N(()=>[Je(at(O(FY)(n.cart_item).toFixed(2)),1)]),_:1})])):xt("",!0)])}}}),G3e={class:"pa-1"},Y3e=["rowspan"],X3e=rn({__name:"ITServicesLineItem",props:["cart_item","cart_index"],setup(n){const t=Vt(),{proposal:e}=Lt(t),r=n;return lt(()=>{var o;return(o=r.cart_item.tier)==null?void 0:o.charge_type},o=>{e.value.it_service_items.forEach(i=>{i.tier&&(i.tier.charge_type=o),i.items.forEach(a=>{a.charge_type=o})})}),(o,i)=>{const a=rO,s=n0,l=t0,u=z3e;return n.cart_item.tier?(le(),et(ut,{key:0},[H("tr",null,[H("td",G3e,[x(a,{onOnclick:i[0]||(i[0]=c=>O(_E)(n.cart_index)),icon:"mdi-close"},{default:N(()=>[Je(at(n.cart_item.tier.name),1)]),_:1})]),i[3]||(i[3]=H("td",null,"IT Service Tier (Package)",-1)),i[4]||(i[4]=H("td",{style:{width:"100px"}}," -- ",-1)),i[5]||(i[5]=H("td",null," -- ",-1)),i[6]||(i[6]=H("td",{style:{width:"100px"}}," -- ",-1)),i[7]||(i[7]=H("td",null," -- ",-1)),H("td",{class:"pa-0",style:Ue(O(jm))},[x(s,{modelValue:n.cart_item.tier.charge_type,"onUpdate:modelValue":i[1]||(i[1]=c=>n.cart_item.tier.charge_type=c),variant:"text",items:O(lv)},null,8,["modelValue","items"])],4),Qn((le(),et("td",{style:Ue([{"max-width":"120px"},O(jm)]),class:"text-right",rowspan:n.cart_item.items.length+1},[x(l,null,{default:N(()=>[Je(at(O(FY)(n.cart_item)),1)]),_:1})],12,Y3e)),[[Oo,"Includes product and accessories only"]])]),(le(!0),et(ut,null,Wr(n.cart_item.items,c=>(le(),Re(u,{is_standalone:!1,line_item:c,cart_item:n.cart_item},null,8,["line_item","cart_item"]))),256))],64)):(le(!0),et(ut,{key:1},Wr(n.cart_item.items,c=>(le(),Re(u,{is_standalone:!0,line_item:c,cart_item:n.cart_item,onRemove:i[2]||(i[2]=d=>O(_E)(n.cart_index))},null,8,["line_item","cart_item"]))),256))}}}),J3e={class:"text-right pt-1 pb-1"},Z3e={class:"text-info"},q3e={class:"text-right pt-1 pb-1"},eje={class:"text-info"},tje={__name:"GrandTotalRow",setup(n){const{proposal:t}=Lt(Vt());return(e,r)=>(le(),et(ut,null,[H("tr",null,[r[1]||(r[1]=H("td",{colspan:"8"},"Upfront Total (One-Time)",-1)),H("td",J3e,[H("h3",Z3e,"$"+at(Number(O(Fwe)(O(t))).toFixed(2)),1),r[0]||(r[0]=H("small",{class:"font-weight-light"},[H("i",null,"One-time")],-1))])]),H("tr",null,[r[3]||(r[3]=H("td",{colspan:"8"},"Monthly Total (Recurring)",-1)),H("td",q3e,[H("h3",eje,"$"+at(Number(O(Qm)(O(t))).toFixed(2)),1),r[2]||(r[2]=H("small",{class:"font-weight-light"},[H("i",null,"Per month")],-1))])])],64))}},nje={class:"pa-1",colspan:"9"},rje=rn({__name:"CustomAddonRow",setup(n){const t=Vt(),{proposal:e}=Lt(t),r=()=>{e.value.cost_addons.push({name:"New Custom Item",type:"custom",price:0,qty:1,price_margin:0,charge_type:"monthly"})};return(o,i)=>(le(),et("tr",null,[H("td",nje,[x($e,{size:"small",variant:"text",onClick:r,text:"Add a Custom Item...","prepend-icon":"mdi-plus-circle"})])]))}}),oje={class:"pa-1"},ije={class:"text-capitalize"},aje={class:"pa-1"},sje={class:"pa-1"},lje={class:"pa-1"},uje={class:"pa-1"},cje={class:"text-right"},dje=rn({__name:"CostAddonsRow",setup(n){const{proposal:t}=Lt(Vt()),e=ae(()=>{const i=[];return Yw.value.forEach(a=>{const s={...a};Vf.value&&a.value==="monthly"||!Vf.value&&a.value==="fixed-monthly"?s.props.disabled=!0:s.props.disabled=!1,i.push(s)}),i}),r=Oe(null);function o(i,a){const l=(1-a.price*a.qty/i)*100;r.value&&clearTimeout(r.value),r.value=setTimeout(()=>{a.price_margin=Math.round(l*100)/100},500)}return(i,a)=>{const s=dv,l=n0,u=t0;return O(t).cost_addons.length?(le(!0),et(ut,{key:0},Wr(O(t).cost_addons,(c,d)=>(le(),et("tr",null,[H("td",oje,[x(s,{type:"text",class:"w-100",variant:"text",modelValue:c.name,"onUpdate:modelValue":f=>c.name=f},{"prepend-inner":N(()=>[x($e,{size:"small",elevation:"0",variant:"text",icon:"mdi-close",density:"comfortable",onClick:f=>O(kwe)(d)},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),a[0]||(a[0]=H("td",null,"-",-1)),H("td",ije,at(c.type),1),H("td",aje,[x(s,{type:"number",modelValue:c.qty,"onUpdate:modelValue":f=>c.qty=f,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",sje,[x(s,{icon:"mdi-currency-usd",type:"number",modelValue:c.price,"onUpdate:modelValue":f=>c.price=f,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",lje,[x(s,{type:"number",modelValue:c.price_margin,"onUpdate:modelValue":f=>c.price_margin=f,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",uje,[x(s,{type:"number",icon:"mdi-currency-usd","onUpdate:modelValue":f=>o(f,c),"model-value":O(po)(c.price*c.qty,c.price_margin).toFixed(2)},null,8,["onUpdate:modelValue","model-value"])]),H("td",{class:"pa-0",style:Ue(O(jm))},[x(l,{variant:"text",modelValue:c.charge_type,"onUpdate:modelValue":f=>c.charge_type=f,items:O(e)},null,8,["modelValue","onUpdate:modelValue","items"])],4),H("td",cje,[x(u,null,{default:N(()=>[Je(at(O(HV)(O(t),c).toFixed(2)),1)]),_:2},1024)])]))),256)):xt("",!0)}}}),fje={class:"pa-1"},Aje={class:"pa-1"},hje={class:"pa-1"},pje={class:"pa-1"},mje={class:"pa-1"},vje={class:"text-right"},gje={class:"pa-1"},yje={class:"pa-1"},bje={class:"pa-1"},wje={class:"pa-1"},_je={class:"pa-1"},Cje={class:"text-right"},Sje={__name:"GlobalPrintRows",setup(n){const{proposal:t}=Lt(Vt()),e=ae(()=>{if(Zw.value)return[{title:"Monthly (Lease)",value:"monthly",tooltip:"Monthly payment amount based on lease factor.",props:{disabled:!1}},{title:"Monthly (Flat Rate)",value:"fixed-monthly",tooltip:"Monthly payment amount as it is",props:{disabled:!1}}];if(Vf.value)return[{title:"Monthly (Flat Rate)",value:"fixed-monthly",tooltip:"Monthly payment amount as it is",props:{disabled:!1}},{title:"One-Time Charge",value:"one-time",tooltip:"One-time upfront charge.",props:{disabled:!1}}]});return(r,o)=>{const i=rO,a=dv,s=n0,l=t0;return O(t).is_global_print_cost==1?(le(),et(ut,{key:0},[H("tr",null,[H("td",fje,[x(i,{icon:"mdi-water-outline"},{default:N(()=>[...o[7]||(o[7]=[Je(" Global Prints Included (Black) ",-1)])]),_:1})]),o[8]||(o[8]=H("td",null,"-",-1)),o[9]||(o[9]=H("td",null,"Print Cost",-1)),H("td",Aje,[x(a,{type:"number",modelValue:O(t).global_print_cost.black_prints_included,"onUpdate:modelValue":o[0]||(o[0]=u=>O(t).global_print_cost.black_prints_included=u),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",hje,[x(a,{type:"number",icon:"mdi-currency-usd",modelValue:O(t).global_print_cost.black_prints_cost,"onUpdate:modelValue":o[1]||(o[1]=u=>O(t).global_print_cost.black_prints_cost=u),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",pje,[x(a,{type:"number",modelValue:O(t).global_print_cost.black_prints_margin,"onUpdate:modelValue":o[2]||(o[2]=u=>O(t).global_print_cost.black_prints_margin=u),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",mje,[x(a,{type:"number",readonly:!0,icon:"mdi-currency-usd","model-value":O(gE)(O(t))},null,8,["model-value"])]),H("td",{class:"pa-0",rowspan:"2",style:Ue(O(jm))},[x(s,{variant:"text",items:O(e),modelValue:O(t).global_print_cost.charge_type,"onUpdate:modelValue":o[3]||(o[3]=u=>O(t).global_print_cost.charge_type=u)},null,8,["items","modelValue"])],4),H("td",vje,[x(l,null,{default:N(()=>[Je(at(O(gE)(O(t))),1)]),_:1})])]),H("tr",null,[H("td",gje,[x(i,{icon:"mdi-water-outline"},{default:N(()=>[...o[10]||(o[10]=[Je(" Global Prints Included (Color) ",-1)])]),_:1})]),o[11]||(o[11]=H("td",null,"-",-1)),o[12]||(o[12]=H("td",null,"Print Cost",-1)),H("td",yje,[x(a,{type:"number",modelValue:O(t).global_print_cost.color_prints_included,"onUpdate:modelValue":o[4]||(o[4]=u=>O(t).global_print_cost.color_prints_included=u),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",bje,[x(a,{type:"number",icon:"mdi-currency-usd",modelValue:O(t).global_print_cost.color_prints_cost,"onUpdate:modelValue":o[5]||(o[5]=u=>O(t).global_print_cost.color_prints_cost=u),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",wje,[x(a,{type:"number",modelValue:O(t).global_print_cost.color_prints_margin,"onUpdate:modelValue":o[6]||(o[6]=u=>O(t).global_print_cost.color_prints_margin=u),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",_je,[x(a,{type:"number",readonly:!0,icon:"mdi-currency-usd","model-value":O(yE)(O(t))},null,8,["model-value"])]),H("td",Cje,[x(l,null,{default:N(()=>[Je(at(O(yE)(O(t))),1)]),_:1})])])],64)):xt("",!0)}}},xje={class:"pa-1"},Eje={class:"pa-1"},Bje={class:"pa-1"},kje={class:"pa-1"},Tje=["rowspan"],Oje={class:"text-right"},Pje={class:"pa-1"},Ije={class:"pa-1"},Mje={class:"pa-1"},Fje={class:"pa-1"},Dje={class:"text-right"},Uje={key:0},Lje={key:1},Vje={class:"icon-toggler-td text-grey-darken-1"},Nje={class:"d-flex align-center clip-text-1-lines"},Rje={class:"d-flex"},Hje={class:"d-flex"},Qje={class:"pa-1",colspan:"1"},jje={class:"pa-1"},$je={class:"pa-1"},Kje={class:"pa-1"},Wje=rn({__name:"PerCopierPrintRows",props:["cart_item"],setup(n){const t=Oe(null),{proposal:e}=Lt(Vt()),r=ae(()=>{if(Zw.value)return Yw.value.filter(a=>(a.props.disabled=!1,a.value!=="one-time"));if(Vf.value)return Yw.value.filter(a=>(a.props.disabled=!1,a.value!=="monthly"))}),o=ae(()=>{let a=0,s=0;return n.cart_item.toner_accessories.forEach(l=>{a+=parseFloat(l.toner_cpp),!s&&l.toner_type=="color"&&(s=parseFloat(l.toner_color_svc_pl_rate))}),(a+s).toFixed(6)}),i=a=>{const s=a.toner_yield*a.toner_yield_factor;a.toner_cpp=po(a.price,a.price_margin)/s};return lt(()=>n.cart_item.print_cost.charge_type,a=>{e.value.cart_items.forEach(s=>{s.print_cost.charge_type=a})}),(a,s)=>{const l=dv,u=n0,c=t0,d=qi;return O(e).is_global_print_cost!=1?(le(),et(ut,{key:0},[H("tr",null,[H("td",null,[x(en,null,{default:N(()=>[...s[9]||(s[9]=[Je("mdi-circle-small",-1)])]),_:1}),s[10]||(s[10]=Je(" Prints Included (Black) ",-1))]),s[11]||(s[11]=H("td",null,"-",-1)),s[12]||(s[12]=H("td",null,"Print Cost",-1)),H("td",xje,[x(l,{type:"number",modelValue:n.cart_item.print_cost.black_prints_included,"onUpdate:modelValue":s[0]||(s[0]=f=>n.cart_item.print_cost.black_prints_included=f),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",Eje,[x(l,{type:"number",icon:"mdi-currency-usd",disabled:n.cart_item.toner_accessories.length,modelValue:n.cart_item.print_cost.black_prints_cost,"onUpdate:modelValue":s[1]||(s[1]=f=>n.cart_item.print_cost.black_prints_cost=f),modelModifiers:{number:!0}},null,8,["disabled","modelValue"])]),H("td",Bje,[x(l,{type:"number",disabled:n.cart_item.toner_accessories.length,modelValue:n.cart_item.print_cost.black_prints_margin,"onUpdate:modelValue":s[2]||(s[2]=f=>n.cart_item.print_cost.black_prints_margin=f),modelModifiers:{number:!0}},null,8,["disabled","modelValue"])]),H("td",kje,[x(l,{type:"number",readonly:!0,icon:"mdi-currency-usd","model-value":O(bE)(O(e),n.cart_item)},null,8,["model-value"])]),H("td",{class:"pa-0",style:Ue(O(jm)),rowspan:2+n.cart_item.toner_accessories.length},[x(u,{variant:"text",modelValue:n.cart_item.print_cost.charge_type,"onUpdate:modelValue":s[3]||(s[3]=f=>n.cart_item.print_cost.charge_type=f),items:O(r)},null,8,["modelValue","items"])],12,Tje),H("td",Oje,[x(c,null,{default:N(()=>[Je(at(O(bE)(O(e),n.cart_item)),1)]),_:1})])]),H("tr",null,[H("td",null,[x(en,null,{default:N(()=>[...s[13]||(s[13]=[Je("mdi-circle-small",-1)])]),_:1}),s[14]||(s[14]=Je(" Prints Included (Color) ",-1))]),s[15]||(s[15]=H("td",null,"-",-1)),s[16]||(s[16]=H("td",null,"Print Cost",-1)),H("td",Pje,[x(l,{type:"number",modelValue:n.cart_item.print_cost.color_prints_included,"onUpdate:modelValue":s[4]||(s[4]=f=>n.cart_item.print_cost.color_prints_included=f),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",Ije,[x(l,{type:"number",icon:"mdi-currency-usd",disabled:n.cart_item.toner_accessories.length,modelValue:n.cart_item.print_cost.color_prints_cost,"onUpdate:modelValue":s[5]||(s[5]=f=>n.cart_item.print_cost.color_prints_cost=f),modelModifiers:{number:!0}},null,8,["disabled","modelValue"])]),H("td",Mje,[x(l,{type:"number",disabled:n.cart_item.toner_accessories.length,modelValue:n.cart_item.print_cost.color_prints_margin,"onUpdate:modelValue":s[6]||(s[6]=f=>n.cart_item.print_cost.color_prints_margin=f),modelModifiers:{number:!0}},null,8,["disabled","modelValue"])]),H("td",Fje,[x(l,{type:"number",readonly:!0,icon:"mdi-currency-usd","model-value":O(wE)(O(e),n.cart_item)},null,8,["model-value"])]),H("td",Dje,[x(c,null,{default:N(()=>[Je(at(O(wE)(O(e),n.cart_item)),1)]),_:1})])]),(le(!0),et(ut,null,Wr(n.cart_item.toner_accessories,(f,h)=>(le(),et(ut,null,[O(t)==h?(le(),Re(d,{key:0,max_width:"700",title:"Toner Variables",modelValue:!0,onClose:s[8]||(s[8]=p=>t.value=null)},{footer:N(()=>[f.toner_type.toLowerCase()=="mono"?(le(),et("span",Uje," Mono CPP: "+at((parseFloat(f.toner_cpp)+parseFloat(f.toner_mono_svc_pl_rate)).toFixed(6)),1)):(le(),et("span",Lje," Color CPP: "+at(O(o)),1)),x(En),x($e,{style:Ue(O(hn)),onClick:s[7]||(s[7]=p=>t.value=null)},{default:N(()=>[...s[17]||(s[17]=[Je("Done",-1)])]),_:1},8,["style"])]),default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:f.name,"onUpdate:modelValue":p=>f.name=p,label:"Toner Name"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:f.price,"onUpdate:modelValue":[p=>f.price=p,p=>i(f)],modelModifiers:{number:!0},min:0,label:"Price",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:f.price_margin,"onUpdate:modelValue":[p=>f.price_margin=p,p=>i(f)],modelModifiers:{number:!0},min:0,label:"Price Margin",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:f.toner_cpp,"onUpdate:modelValue":p=>f.toner_cpp=p,modelModifiers:{number:!0},min:0,label:"Toner Cost Per Print",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:f.toner_yield,"onUpdate:modelValue":[p=>f.toner_yield=p,p=>i(f)],modelModifiers:{number:!0},min:0,label:"Toner Yield",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:f.toner_yield_factor,"onUpdate:modelValue":[p=>f.toner_yield_factor=p,p=>i(f)],modelModifiers:{number:!0},min:.1,label:"Toner Yield Factor",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:f.toner_mono_svc_pl_rate,"onUpdate:modelValue":[p=>f.toner_mono_svc_pl_rate=p,p=>i(f)],modelModifiers:{number:!0},min:0,label:"Mono Service Parts/Labor Rate",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),x(wt,{cols:"6"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",modelValue:f.toner_color_svc_pl_rate,"onUpdate:modelValue":[p=>f.toner_color_svc_pl_rate=p,p=>i(f)],modelModifiers:{number:!0},min:0,label:"Color Service Parts/Labor Rate",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):xt("",!0),H("tr",null,[H("td",Vje,[H("div",Nje,[H("span",Rje,[x(en,{class:"default-icon"},{default:N(()=>[...s[18]||(s[18]=[Je("mdi-circle-small",-1)])]),_:1}),x(en,{onClick:p=>n.cart_item.toner_accessories.splice(h,1),class:"remove-icon",color:"red"},{default:N(()=>[...s[19]||(s[19]=[Je("mdi-close",-1)])]),_:1},8,["onClick"])]),H("span",Hje,at(f.name),1),Qn(x($e,{onClick:p=>t.value=h,size:"small",variant:"plain",icon:"mdi-cog"},null,8,["onClick"]),[[Oo,"Edit Toner Variables"]])])]),s[20]||(s[20]=H("td",null,"-",-1)),s[21]||(s[21]=H("td",null,"Toner",-1)),H("td",Qje,[x(l,{disabled:"",type:"number","model-value":"0"})]),H("td",jje,[x(l,{type:"number",modelValue:f.price,"onUpdate:modelValue":[p=>f.price=p,p=>i(f)],modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",$je,[x(l,{type:"number",modelValue:f.price_margin,"onUpdate:modelValue":[p=>f.price_margin=p,p=>i(f)],modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",Kje,[x(l,{readonly:"",type:"number",modelValue:O(po)(f.price,f.price_margin)},null,8,["modelValue"])]),s[22]||(s[22]=H("td",null,null,-1))])],64))),256))],64)):xt("",!0)}}}),zje={class:"icon-toggler-td text-grey-darken-1"},Gje=["title"],Yje={class:"d-flex"},Xje={class:"d-flex"},Jje={class:"pa-1"},Zje={class:"pa-1"},qje={class:"pa-1"},e$e={class:"pa-1"},t$e={class:"icon-toggler-td text-grey-darken-1"},n$e=["title"],r$e={class:"d-flex"},o$e={class:"d-flex"},i$e={class:"text-capitalize"},a$e={class:"pa-1"},s$e={class:"pa-1"},l$e={class:"pa-1"},u$e={class:"pa-1"},c$e=rn({__name:"AccessoriesRows",props:["cart_item"],setup(n){const t=Oe(null),e=a=>{IY(a,Xw(n.cart_item))},r=a=>{n.cart_item.custom_accessories.splice(a,1)},o=(a,s)=>{const u=(1-s.accessory_price*s.qty/a)*100;t.value&&clearTimeout(t.value),t.value=setTimeout(()=>{s.price_margin=Math.round(u*100)/100},500)},i=(a,s)=>{const u=(1-s.price*s.qty/a)*100;t.value&&clearTimeout(t.value),t.value=setTimeout(()=>{s.price_margin=Math.round(u*100)/100},500)};return(a,s)=>{const l=dv;return le(),et(ut,null,[(le(!0),et(ut,null,Wr(O(Xw)(n.cart_item),u=>(le(),et("tr",null,[H("td",zje,[H("div",{class:"d-flex align-center clip-text-1-lines",title:O(bd)(u.accessory_id).name},[H("span",Yje,[x(en,{class:"default-icon"},{default:N(()=>[...s[0]||(s[0]=[Je("mdi-circle-small",-1)])]),_:1}),x(en,{onClick:c=>e(u),class:"remove-icon",color:"red"},{default:N(()=>[...s[1]||(s[1]=[Je("mdi-close",-1)])]),_:1},8,["onClick"])]),H("span",Xje,at(O(bd)(u.accessory_id).name),1)],8,Gje)]),H("td",null,at(O(Bwe)(u.accessory_id)),1),s[2]||(s[2]=H("td",null,"Accessory",-1)),H("td",Jje,[x(l,{type:"number",modelValue:u.qty,"onUpdate:modelValue":c=>u.qty=c,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",Zje,[x(l,{type:"number",icon:"mdi-currency-usd",modelValue:u.accessory_price,"onUpdate:modelValue":c=>u.accessory_price=c,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",qje,[x(l,{type:"number",modelValue:u.price_margin,"onUpdate:modelValue":c=>u.price_margin=c,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",e$e,[x(l,{type:"number",icon:"mdi-currency-usd","onUpdate:modelValue":c=>o(c,u),"model-value":O(po)(u.accessory_price*u.qty,u.price_margin)},null,8,["onUpdate:modelValue","model-value"])])]))),256)),(le(!0),et(ut,null,Wr(n.cart_item.custom_accessories,(u,c)=>(le(),et("tr",null,[H("td",t$e,[H("span",{class:"d-flex align-center clip-text-1-lines",title:u.name},[H("span",r$e,[x(en,{class:"default-icon"},{default:N(()=>[...s[3]||(s[3]=[Je("mdi-circle-small",-1)])]),_:1}),x(en,{onClick:d=>r(c),class:"remove-icon",color:"red"},{default:N(()=>[...s[4]||(s[4]=[Je("mdi-close",-1)])]),_:1},8,["onClick"])]),H("span",o$e,at(u.name),1)],8,n$e)]),s[5]||(s[5]=H("td",null,"-",-1)),H("td",i$e,at(u.type),1),H("td",a$e,[x(l,{type:"number",modelValue:u.qty,"onUpdate:modelValue":d=>u.qty=d,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",s$e,[x(l,{type:"number",icon:"mdi-currency-usd",modelValue:u.price,"onUpdate:modelValue":d=>u.price=d,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",l$e,[x(l,{type:"number",modelValue:u.price_margin,"onUpdate:modelValue":d=>u.price_margin=d,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",u$e,[x(l,{type:"number",icon:"mdi-currency-usd","onUpdate:modelValue":d=>i(d,u),"model-value":O(po)(u.price*u.qty,u.price_margin)},null,8,["onUpdate:modelValue","model-value"])])]))),256))],64)}}}),d$e={class:"pa-1"},f$e={key:0},A$e={key:1},h$e={class:"pa-1",style:{width:"150px"}},p$e={class:"pa-1",style:{width:"150px"}},m$e={class:"pa-1",style:{width:"100px"}},v$e={class:"pa-1",style:{width:"150px"}},g$e=["rowspan"],y$e=["rowspan"],b$e=rn({__name:"CopierLineItem",props:["cart_item","index"],setup(n){const{proposal:t}=Lt(Vt()),e=a=>Xw(a).length+a.custom_accessories.length+1,r=ae(()=>Yw.value.filter(a=>!(a.value==="fixed-monthly"||a.value==="one-time"&&Zw.value))),o=Oe(null);function i(a,s){const u=(1-s.product.price*s.product.qty/a)*100;o.value&&clearTimeout(o.value),o.value=setTimeout(()=>{s.product.price_margin=Math.round(u*100)/100},500)}return(a,s)=>{const l=rO,u=dv,c=n0,d=t0;return le(),et("tr",null,[H("td",d$e,[x(l,{onOnclick:s[0]||(s[0]=f=>O(xY)(n.index)),icon:"mdi-close"},{default:N(()=>[n.cart_item.type=="custom"?(le(),et("span",f$e,at(n.cart_item.product.name),1)):(le(),et("span",A$e,at(O(Jw)(n.cart_item.product.id).name),1))]),_:1})]),H("td",null,at(O(Ewe)(n.cart_item.product.id)),1),s[6]||(s[6]=H("td",null,"Product",-1)),H("td",h$e,[x(u,{type:"number",modelValue:n.cart_item.product.qty,"onUpdate:modelValue":s[1]||(s[1]=f=>n.cart_item.product.qty=f),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",p$e,[x(u,{type:"number",modelValue:n.cart_item.product.price,"onUpdate:modelValue":s[2]||(s[2]=f=>n.cart_item.product.price=f),modelModifiers:{number:!0},icon:"mdi-currency-usd"},null,8,["modelValue"])]),H("td",m$e,[x(u,{type:"number",modelValue:n.cart_item.product.price_margin,"onUpdate:modelValue":s[3]||(s[3]=f=>n.cart_item.product.price_margin=f),modelModifiers:{number:!0}},null,8,["modelValue"])]),H("td",v$e,[x(u,{type:"number",icon:"mdi-currency-usd","onUpdate:modelValue":s[4]||(s[4]=f=>i(f,n.cart_item)),"model-value":O(po)(n.cart_item.product.price*n.cart_item.product.qty,n.cart_item.product.price_margin)},null,8,["model-value"])]),H("td",{class:"pa-0",rowspan:e(n.cart_item),style:Ue(O(jm))},[x(c,{variant:"text",disabled:!0,items:O(r),modelValue:n.cart_item.product.charge_type,"onUpdate:modelValue":s[5]||(s[5]=f=>n.cart_item.product.charge_type=f)},null,8,["items","modelValue"])],12,g$e),Qn((le(),et("td",{rowspan:e(n.cart_item),class:"text-right"},[n.cart_item.product.charge_type=="monthly"?(le(),Re(d,{key:0},{default:N(()=>[Je(at(O(Pwe)(O(t),n.cart_item)),1)]),_:1})):(le(),Re(d,{key:1},{default:N(()=>[Je(at(O(BY)(n.cart_item)),1)]),_:1}))],8,y$e)),[[Oo,"Includes product and accessories only"]])])}}}),w$e={key:0},_$e=["colspan"],C$e={__name:"PlaceholderRow",setup(n){const{proposal:t}=Lt(Vt());return(e,r)=>O(t).cart_items.length?xt("",!0):(le(),et("tr",w$e,[H("td",{colspan:O(Iw)?8:9,class:"text-center py-5"},[...r[0]||(r[0]=[H("h1",{class:"font-weight-light"},"You haven't added any Products yet.",-1)])],8,_$e)]))}},S$e="/png/cost-breakdown.png",x$e={class:"d-flex align-center"},E$e=rn({__name:"CostBreakdown",setup(n){const t=Vt(),e=Oe(null),{getAccessTokenSilently:r}=Er(),{proposal:o,is_reordering:i,panels:a}=Lt(t),s=u=>{o.value.cost_addons.push({name:u.name,type:u.type,price:Number(u.price),qty:Number(u.qty),price_margin:Number(u.price_margin),charge_type:u.charge_type}),e.value=null},l=async()=>{t.FetchAddons(await r())};return lt(i,u=>{u&&(a.value.cost_breakdown=1)}),(u,c)=>{const d=nO,f=C$e,h=b$e,p=c$e,v=Wje,g=Sje,_=dje,S=rje,y=tje,C=X3e,T=L3e,P=pi;return le(),Re(Ao,{style:Ue(O(On)),"model-value":O(a).cost_breakdown,"onUpdate:modelValue":c[2]||(c[2]=F=>O(t).SetPanel("cost_breakdown",F)),class:"mb-4"},{default:N(()=>[x(P,{class:"border",style:Ue(O(On)),title:"Cost Breakdown"},{icon:N(()=>[H("div",x$e,[x(d,null,{default:N(()=>[...c[3]||(c[3]=[H("img",{src:S$e,width:"25",height:"25"},null,-1)])]),_:1})])]),default:N(()=>[x(cr,null,{default:N(()=>[x(Fn,null,{default:N(()=>[O(Mm)?(le(),Re(Xn,{key:0},{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[O(o).lease_term_offered?(le(),Re(mr,{key:0,"hide-details":"",class:"mb-2","return-object":"",color:"primary",density:"compact","item-title":"name",variant:"outlined",items:O(gF),modelValue:O(e),"onUpdate:modelValue":[c[0]||(c[0]=F=>Ht(e)?e.value=F:null),s],label:"Insert Addons","item-value":"charge_type","onClick:prependInner":l,"prepend-inner-icon":"mdi-package-variant-closed-plus"},null,8,["items","modelValue"])):xt("",!0)]),_:1}),x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[O(Zw)?(le(),Re(mr,{key:0,variant:"outlined",density:"compact",label:"Lease Term",items:O(eD),disabled:!O(o).lease_factor_provider,modelValue:O(o).lease_term_offered,"onUpdate:modelValue":c[1]||(c[1]=F=>O(o).lease_term_offered=F),modelModifiers:{number:!0}},null,8,["items","disabled","modelValue"])):xt("",!0)]),_:1}),x(wt,{cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[O(Zw)?(le(),Re(_t,{key:0,variant:"outlined",density:"compact",label:"Lease Factor (Read-only)",items:O(eD),readonly:!0,"model-value":O(Vd)(O(o))},null,8,["items","model-value"])):xt("",!0)]),_:1})]),_:1})]),_:1})]),_:1})):xt("",!0),O(Mm)?(le(),Re(hi,{key:1,items:[],"hide-no-data":"",class:"border","hide-default-footer":"",density:"comfortable",style:Ue(O(zr)),headers:O(Hwe)},{"body.append":N(()=>[x(f),(le(!0),et(ut,null,Wr(O(o).cart_items,(F,I)=>(le(),et(ut,null,[x(h,{cart_item:F,index:I},null,8,["cart_item","index"]),x(p,{cart_item:F},null,8,["cart_item"]),x(v,{cart_item:F},null,8,["cart_item"])],64))),256)),x(g),x(_),x(S),x(y)]),_:1},8,["style","headers"])):xt("",!0),O(Iw)?(le(),Re(hi,{key:2,items:[],"hide-no-data":"",class:"border","hide-default-footer":"",density:"comfortable",style:Ue(O(zr)),headers:O(Qwe)},{"body.append":N(()=>[O(o).it_service_items.length?xt("",!0):(le(),Re(f,{key:0})),(le(!0),et(ut,null,Wr(O(o).it_service_items,(F,I)=>(le(),Re(C,{cart_index:I,cart_item:F},null,8,["cart_index","cart_item"]))),256)),x(T)]),_:1},8,["style","headers"])):xt("",!0)]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["style","model-value"])}}}),VZ=it({active:{type:[String,Array],default:void 0},controlHeight:[Number,String],controlVariant:{type:String,default:"docked"},noMonthPicker:Boolean,disabled:{type:[Boolean,String,Array],default:null},nextIcon:{type:Tn,default:"$next"},prevIcon:{type:Tn,default:"$prev"},modeIcon:{type:Tn,default:"$subgroup"},text:String,monthText:String,yearText:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),S$=Dt()({name:"VDatePickerControls",props:VZ(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:prev-year":()=>!0,"click:next-year":()=>!0},setup(n,t){let{emit:e,slots:r}=t;const{t:o}=Ri(),i=ae(()=>Array.isArray(n.disabled)?n.disabled.includes("text"):!!n.disabled),a=ae(()=>Array.isArray(n.disabled)?n.disabled.includes("mode"):!!n.disabled),s=ae(()=>Array.isArray(n.disabled)?n.disabled.includes("prev-month"):!!n.disabled),l=ae(()=>Array.isArray(n.disabled)?n.disabled.includes("next-month"):!!n.disabled),u=ae(()=>Array.isArray(n.disabled)?n.disabled.includes("prev-year"):!!n.disabled),c=ae(()=>Array.isArray(n.disabled)?n.disabled.includes("next-year"):!!n.disabled);function d(){e("click:prev")}function f(){e("click:next")}function h(){e("click:prev-year")}function p(){e("click:next-year")}function v(){e("click:year")}function g(){e("click:month")}return Kt(()=>{const _={VBtn:{density:"comfortable",variant:"text"}},S=x($e,{"data-testid":"prev-month",disabled:s.value,icon:n.prevIcon,"aria-label":o("$vuetify.datePicker.ariaLabel.previousMonth"),onClick:d},null),y=x($e,{"data-testid":"next-month",disabled:l.value,icon:n.nextIcon,"aria-label":o("$vuetify.datePicker.ariaLabel.nextMonth"),onClick:f},null),C=x($e,{"data-testid":"prev-year",disabled:u.value,icon:n.prevIcon,"aria-label":o("$vuetify.datePicker.ariaLabel.previousYear"),onClick:h},null),T=x($e,{"data-testid":"next-year",disabled:c.value,icon:n.nextIcon,"aria-label":o("$vuetify.datePicker.ariaLabel.nextYear"),onClick:p},null),P=x($e,{class:"v-date-picker-controls__only-month-btn","data-testid":"month-btn",density:"default",disabled:i.value,text:n.monthText,appendIcon:n.modeIcon,rounded:!0,"aria-label":o("$vuetify.datePicker.ariaLabel.selectMonth"),onClick:g},null),F=x($e,{class:"v-date-picker-controls__only-year-btn","data-testid":"year-btn",density:"default",disabled:a.value,text:n.yearText,appendIcon:n.modeIcon,rounded:!0,"aria-label":o("$vuetify.datePicker.ariaLabel.selectYear"),onClick:v},null),I=x($e,{class:"v-date-picker-controls__year-btn","data-testid":"year-btn",density:"default",disabled:a.value,text:n.text,appendIcon:n.modeIcon,rounded:!0,"aria-label":o("$vuetify.datePicker.ariaLabel.selectYear"),onClick:v},null),k=H(ut,null,[x($e,{class:"v-date-picker-controls__month-btn","data-testid":"month-btn",height:"36",disabled:i.value,text:n.text,rounded:!0,"aria-label":o("$vuetify.datePicker.ariaLabel.selectMonth"),onClick:g},null),x($e,{class:"v-date-picker-controls__mode-btn","data-testid":"year-btn",disabled:a.value,icon:n.modeIcon,"aria-label":o("$vuetify.datePicker.ariaLabel.selectYear"),onClick:v},null)]),M={viewMode:n.viewMode,disabled:Array.isArray(n.disabled)?n.disabled:[],monthYearText:n.text??"",monthText:n.monthText??"",yearText:n.yearText??"",openMonths:g,openYears:v,prevMonth:d,nextMonth:f,prevYear:h,nextYear:p},V=H(ut,null,[n.noMonthPicker?I:k,x(En,null,null),H("div",{class:"v-date-picker-controls__month"},[S,y])]),U=H(ut,null,[H("div",{class:"v-date-picker-controls__month"},[S,P,y]),x(En,null,null),H("div",{class:"v-date-picker-controls__year"},[C,F,T])]);return x(Lr,{defaults:_},{default:()=>{var $;return[H("div",{class:pt(["v-date-picker-controls",`v-date-picker-controls--variant-${n.controlVariant}`]),style:{"--v-date-picker-controls-height":$t(n.controlHeight)}},[(($=r.default)==null?void 0:$.call(r,M))??H(ut,null,[n.controlVariant==="modal"&&V,n.controlVariant==="docked"&&U])])]}})}),{}}}),B$e=it({appendIcon:Tn,color:String,header:String,transition:String,onClick:ma()},"VDatePickerHeader"),x$=Dt()({name:"VDatePickerHeader",props:B$e(),emits:{click:()=>!0,"click:append":()=>!0},setup(n,t){let{emit:e,slots:r}=t;const{backgroundColorClasses:o,backgroundColorStyles:i}=Po(()=>n.color);function a(){e("click")}function s(){e("click:append")}return Kt(()=>{const l=!!(r.default||n.header),u=!!(r.append||n.appendIcon);return H("div",{class:pt(["v-date-picker-header",{"v-date-picker-header--clickable":!!n.onClick},o.value]),style:Ue(i.value),onClick:a},[r.prepend&&H("div",{key:"prepend",class:"v-date-picker-header__prepend"},[r.prepend()]),l&&x(Du,{key:"content",name:n.transition},{default:()=>{var c;return[H("div",{key:n.header,class:"v-date-picker-header__content"},[((c=r.default)==null?void 0:c.call(r))??n.header])]}}),u&&H("div",{class:"v-date-picker-header__append"},[r.append?x(Lr,{key:"append-defaults",disabled:!n.appendIcon,defaults:{VBtn:{icon:n.appendIcon,variant:"text"}}},{default:()=>{var c;return[(c=r.append)==null?void 0:c.call(r)]}}):x($e,{key:"append-btn",icon:n.appendIcon,variant:"text",onClick:s},null)])])}),{}}}),k$e=it({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Tn,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Cn(),...ov({location:"top end"}),...Hi(),...Br(),...Zr(),...Qy({transition:"scale-rotate-transition"}),...As()},"VBadge"),T$e=Dt()({name:"VBadge",inheritAttrs:!1,props:k$e(),setup(n,t){const{backgroundColorClasses:e,backgroundColorStyles:r}=Po(()=>n.color),{roundedClasses:o}=Zi(n),{t:i}=Ri(),{textColorClasses:a,textColorStyles:s}=Il(()=>n.textColor),{themeClasses:l}=iW(),{locationStyles:u}=Hy(n,!0,d=>(n.floating?n.dot?2:4:n.dot?8:12)+(["top","bottom"].includes(d)?Number(n.offsetY??0):["left","right"].includes(d)?Number(n.offsetX??0):0)),{dimensionStyles:c}=hs(n);return Kt(()=>{const d=Number(n.content),f=!n.max||isNaN(d)?n.content:d<=Number(n.max)?d:`${n.max}+`,[h,p]=nF(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return x(n.tag,bt({class:["v-badge",{"v-badge--bordered":n.bordered,"v-badge--dot":n.dot,"v-badge--floating":n.floating,"v-badge--inline":n.inline},n.class]},p,{style:n.style}),{default:()=>{var v,g;return[H("div",{class:"v-badge__wrapper"},[(g=(v=t.slots).default)==null?void 0:g.call(v),x(Du,{transition:n.transition},{default:()=>{var _,S;return[Qn(H("span",bt({class:["v-badge__badge",l.value,e.value,o.value,a.value],style:[r.value,s.value,c.value,n.inline?{}:u.value],"aria-atomic":"true","aria-label":i(n.label,d),"aria-live":"polite",role:"status"},h),[n.dot?void 0:t.slots.badge?(S=(_=t.slots).badge)==null?void 0:S.call(_):n.icon?x(en,{icon:n.icon},null):f]),[[Ju,n.modelValue]])]}})])]}})}),{}}}),O$e=it({allowedDates:[Array,Function],disabled:{type:Boolean,default:null},displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:{type:[Number,String],default:void 0},firstDayOfYear:{type:[Number,String],default:void 0},weekdayFormat:String},"calendar");function P$e(n){const t=Vy(),e=Mn(n,"modelValue",[],v=>ao(v).map(g=>t.date(g))),r=ae(()=>n.displayValue?t.date(n.displayValue):e.value.length>0?t.date(e.value[0]):n.min?t.date(n.min):Array.isArray(n.allowedDates)?t.date(n.allowedDates[0]):t.date()),o=Mn(n,"year",void 0,v=>{const g=v!=null?Number(v):t.getYear(r.value);return t.startOfYear(t.setYear(t.date(),g))},v=>t.getYear(v)),i=Mn(n,"month",void 0,v=>{const g=v!=null?Number(v):t.getMonth(r.value),_=t.setYear(t.startOfMonth(t.date()),t.getYear(o.value));return t.setMonth(_,g)},v=>t.getMonth(v)),a=ae(()=>{const v=t.toJsDate(t.startOfWeek(t.date(),n.firstDayOfWeek)).getDay();return t.getWeekdays(n.firstDayOfWeek,n.weekdayFormat).filter((g,_)=>n.weekdays.includes((_+v)%7))}),s=ae(()=>{const v=t.getWeekArray(i.value,n.firstDayOfWeek),g=v.flat(),_=42;if(n.weeksInMonth==="static"&&g.length<_){const S=g[g.length-1];let y=[];for(let C=1;C<=_-g.length;C++)y.push(t.addDays(S,C)),C%7===0&&(v.push(y),y=[])}return v});function l(v,g){return v.filter(_=>n.weekdays.includes(t.toJsDate(_).getDay())).map((_,S)=>{const y=t.toISO(_),C=!t.isSameMonth(_,i.value),T=t.isSameDay(_,t.startOfMonth(i.value)),P=t.isSameDay(_,t.endOfMonth(i.value)),F=t.isSameDay(_,i.value),I=n.weekdays.length;return{date:_,formatted:t.format(_,"keyboardDate"),isAdjacent:C,isDisabled:p(_),isEnd:P,isHidden:C&&!n.showAdjacentMonths,isSame:F,isSelected:e.value.some(k=>t.isSameDay(_,k)),isStart:T,isToday:t.isSameDay(_,g),isWeekEnd:S%I===I-1,isWeekStart:S%I===0,isoDate:y,localized:t.format(_,"dayOfMonth"),month:t.getMonth(_),year:t.getYear(_)}})}const u=ae(()=>{const v=t.startOfWeek(r.value,n.firstDayOfWeek),g=[];for(let S=0;S<=6;S++)g.push(t.addDays(v,S));const _=t.date();return l(g,_)}),c=ae(()=>{const v=s.value.flat(),g=t.date();return l(v,g)}),d=ae(()=>s.value.map(v=>v.length?t.getWeek(v[0],n.firstDayOfWeek,n.firstDayOfYear):null)),{minDate:f,maxDate:h}=NZ(n);function p(v){if(n.disabled)return!0;const g=t.date(v);return f.value&&t.isBefore(t.endOfDay(g),f.value)||h.value&&t.isAfter(g,h.value)?!0:Array.isArray(n.allowedDates)&&n.allowedDates.length>0?!n.allowedDates.some(_=>t.isSameDay(t.date(_),g)):typeof n.allowedDates=="function"?!n.allowedDates(g):!1}return{displayValue:r,daysInMonth:c,daysInWeek:u,genDays:l,model:e,weeksInMonth:s,weekdayLabels:a,weekNumbers:d}}function NZ(n){const t=Vy(),e=ae(()=>{if(!n.min)return null;const a=t.date(n.min);return t.isValid(a)?a:null}),r=ae(()=>{if(!n.max)return null;const a=t.date(n.max);return t.isValid(a)?a:null});function o(a){return e.value&&t.isBefore(a,e.value)?e.value:r.value&&t.isAfter(a,r.value)?r.value:a}function i(a){return(!e.value||t.isAfter(a,e.value))&&(!r.value||t.isBefore(a,r.value))}return{minDate:e,maxDate:r,clampDate:o,isInAllowedRange:i}}const RZ=it({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},events:{type:[Array,Function,Object],default:()=>null},eventColor:{type:[Array,Function,Object,String],default:()=>null},...Ir(O$e(),["displayValue"])},"VDatePickerMonth"),E$=Dt()({name:"VDatePickerMonth",props:RZ(),emits:{"update:modelValue":n=>!0,"update:month":n=>!0,"update:year":n=>!0},setup(n,t){let{emit:e,slots:r}=t;const o=Oe(),{t:i}=Ri(),{daysInMonth:a,model:s,weekNumbers:l,weekdayLabels:u}=P$e(n),c=Vy(),d=It(),f=It(),h=It(!1),p=ze(()=>h.value?n.reverseTransition:n.transition);n.multiple==="range"&&s.value.length>0&&(d.value=s.value[0],s.value.length>1&&(f.value=s.value[s.value.length-1]));const v=ae(()=>{const P=["number","string"].includes(typeof n.multiple)?Number(n.multiple):1/0;return s.value.length>=P});lt(a,(P,F)=>{F&&(h.value=c.isBefore(P[0].date,F[0].date))});function g(P){const F=c.startOfDay(P);if(s.value.length===0?d.value=void 0:s.value.length===1&&(d.value=s.value[0],f.value=void 0),!d.value)d.value=F,s.value=[d.value];else if(f.value)d.value=P,f.value=void 0,s.value=[d.value];else{if(c.isSameDay(F,d.value)){d.value=void 0,s.value=[];return}else c.isBefore(F,d.value)?(f.value=c.endOfDay(d.value),d.value=F):f.value=c.endOfDay(F);s.value=xue(c,d.value,f.value)}}function _(P){const F=c.format(P.date,"fullDateWithWeekday"),I=P.isToday?"currentDate":"selectDate";return i(`$vuetify.datePicker.ariaLabel.${I}`,F)}function S(P){const F=s.value.findIndex(I=>c.isSameDay(I,P));if(F===-1)s.value=[...s.value,P];else{const I=[...s.value];I.splice(F,1),s.value=I}}function y(P){n.multiple==="range"?g(P):n.multiple?S(P):s.value=[P]}function C(P){const{events:F,eventColor:I}=n;let k,M=[];if(Array.isArray(F)?k=F.includes(P):F instanceof Function?k=F(P)||!1:F?k=F[P]||!1:k=!1,k)k!==!0?M=ao(k):typeof I=="string"?M=[I]:typeof I=="function"?M=ao(I(P)):Array.isArray(I)?M=I:typeof I=="object"&&I!==null&&(M=ao(I[P]));else return[];return M.length?M.filter(Boolean).map(V=>typeof V=="string"?V:"surface-variant"):["surface-variant"]}function T(P){const F=C(P);return F.length?H("div",{class:"v-date-picker-month__events"},[F.map(I=>x(T$e,{dot:!0,color:I},null))]):null}Kt(()=>H("div",{class:"v-date-picker-month",style:{"--v-date-picker-days-in-week":n.weekdays.length}},[n.showWeek&&H("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!n.hideWeekdays&&H("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[Je("")]),l.value.map(P=>H("div",{class:pt(["v-date-picker-month__day","v-date-picker-month__day--adjacent"])},[P]))]),x(Du,{name:p.value},{default:()=>{var P;return[H("div",{ref:o,key:(P=a.value[0].date)==null?void 0:P.toString(),class:"v-date-picker-month__days"},[!n.hideWeekdays&&u.value.map(F=>H("div",{class:pt(["v-date-picker-month__day","v-date-picker-month__weekday"])},[F])),a.value.map((F,I)=>{var M;const k={props:{class:"v-date-picker-month__day-btn",color:F.isSelected||F.isToday?n.color:void 0,disabled:F.isDisabled,icon:!0,ripple:!1,variant:F.isSelected?"flat":F.isToday?"outlined":"text","aria-label":_(F),"aria-current":F.isToday?"date":void 0,onClick:()=>y(F.date)},item:F,i:I};return v.value&&!F.isSelected&&(F.isDisabled=!0),H("div",{class:pt(["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":F.isAdjacent,"v-date-picker-month__day--hide-adjacent":F.isHidden,"v-date-picker-month__day--selected":F.isSelected,"v-date-picker-month__day--week-end":F.isWeekEnd,"v-date-picker-month__day--week-start":F.isWeekStart}]),"data-v-date":F.isDisabled?void 0:F.isoDate},[(n.showAdjacentMonths||!F.isAdjacent)&&(((M=r.day)==null?void 0:M.call(r,k))??x($e,k.props,{default:()=>[F.localized,T(F.isoDate)]}))])})])]}})]))}}),HZ=it({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number,allowedMonths:[Array,Function]},"VDatePickerMonths"),B$=Dt()({name:"VDatePickerMonths",props:HZ(),emits:{"update:modelValue":n=>!0},setup(n,t){let{emit:e,slots:r}=t;const o=Vy(),i=Mn(n,"modelValue"),a=ae(()=>{let l=o.startOfYear(o.date());return n.year&&(l=o.setYear(l,n.year)),Uf(12).map(u=>{const c=o.format(l,"monthShort"),d=o.format(l,"month"),f=!!(!s(u)||n.min&&o.isAfter(o.startOfMonth(o.date(n.min)),l)||n.max&&o.isAfter(l,o.startOfMonth(o.date(n.max))));return l=o.getNextMonth(l),{isDisabled:f,text:c,label:d,value:u}})});mo(()=>{i.value=i.value??o.getMonth(o.date())});function s(l){return Array.isArray(n.allowedMonths)&&n.allowedMonths.length?n.allowedMonths.includes(l):typeof n.allowedMonths=="function"?n.allowedMonths(l):!0}return Kt(()=>H("div",{class:"v-date-picker-months",style:{height:$t(n.height)}},[H("div",{class:"v-date-picker-months__content"},[a.value.map((l,u)=>{var f;const c={active:i.value===u,ariaLabel:l.label,color:i.value===u?n.color:void 0,disabled:l.isDisabled,rounded:!0,text:l.text,variant:i.value===l.value?"flat":"text",onClick:()=>d(u)};function d(h){if(i.value===h){e("update:modelValue",i.value);return}i.value=h}return((f=r.month)==null?void 0:f.call(r,{month:l,i:u,props:c}))??x($e,bt({key:"month"},c),null)})])])),{}}}),QZ=it({color:String,height:[String,Number],min:null,max:null,modelValue:Number,allowedYears:[Array,Function]},"VDatePickerYears"),k$=Dt()({name:"VDatePickerYears",props:QZ(),directives:{vIntersect:Vh},emits:{"update:modelValue":n=>!0},setup(n,t){let{emit:e,slots:r}=t;const o=Vy(),i=Mn(n,"modelValue"),a=It(!1),s=ae(()=>{const d=o.getYear(o.date());let f=d-100,h=d+52;n.min&&(f=o.getYear(o.date(n.min))),n.max&&(h=o.getYear(o.date(n.max)));let p=o.startOfYear(o.date());return p=o.setYear(p,f),Uf(h-f+1,f).map(v=>{const g=o.format(p,"year");return p=o.setYear(p,o.getYear(p)+1),{text:g,value:v,isDisabled:!c(v)}})});mo(()=>{i.value=i.value??o.getYear(o.date())});const l=Lx();function u(){var d;(d=l.el)==null||d.scrollIntoView({block:"center"})}function c(d){return Array.isArray(n.allowedYears)&&n.allowedYears.length?n.allowedYears.includes(d):typeof n.allowedYears=="function"?n.allowedYears(d):!0}return Kt(()=>Qn(H("div",{class:"v-date-picker-years",style:{height:$t(n.height)}},[H("div",{class:"v-date-picker-years__content",onFocus:()=>{var d;return(d=l.el)==null?void 0:d.focus()},onFocusin:()=>a.value=!0,onFocusout:()=>a.value=!1,tabindex:a.value?-1:0},[s.value.map((d,f)=>{var p;const h={ref:i.value===d.value?l:void 0,active:i.value===d.value,color:i.value===d.value?n.color:void 0,rounded:!0,text:d.text,disabled:d.isDisabled,variant:i.value===d.value?"flat":"text",onClick:()=>{if(i.value===d.value){e("update:modelValue",i.value);return}i.value=d.value}};return((p=r.year)==null?void 0:p.call(r,{year:d,i:f,props:h}))??x($e,bt({key:"month"},h),null)})])]),[[Vh,{handler:u},null,{once:!0}]])),{}}}),I$e=it({header:{type:String,default:"$vuetify.datePicker.header"},headerColor:String,headerDateFormat:{type:String,default:"normalDateWithWeekday"},landscapeHeaderWidth:[Number,String],...Ir(VZ(),["active","monthText","yearText"]),...RZ({weeksInMonth:"static"}),...Ir(HZ(),["modelValue"]),...Ir(QZ(),["modelValue"]),...B2({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),T$=Dt()({name:"VDatePicker",props:I$e(),emits:{"update:modelValue":n=>!0,"update:month":n=>!0,"update:year":n=>!0,"update:viewMode":n=>!0},setup(n,t){let{emit:e,slots:r}=t;const o=Vy(),{t:i}=Ri(),{rtlClasses:a}=Ji(),s=Mn(n,"modelValue",void 0,Ce=>ao(Ce).map(ve=>o.date(ve)),Ce=>n.multiple?Ce:Ce[0]),l=Mn(n,"viewMode"),{minDate:u,maxDate:c,clampDate:d}=NZ(n),f=ae(()=>{var Qe;const Ce=o.date(),ve=(Qe=s.value)!=null&&Qe[0]?o.date(s.value[0]):d(Ce);return ve&&o.isValid(ve)?ve:Ce}),h=ze(()=>n.headerColor??n.color),p=Mn(n,"month"),v=ae({get:()=>Number(p.value??o.getMonth(o.startOfMonth(f.value))),set:Ce=>p.value=Ce}),g=Mn(n,"year"),_=ae({get:()=>Number(g.value??o.getYear(o.startOfYear(o.setMonth(f.value,v.value)))),set:Ce=>g.value=Ce}),S=It(!1),y=ae(()=>{if(n.multiple&&s.value.length>1)return i("$vuetify.datePicker.itemsSelected",s.value.length);const Ce=s.value[0]&&o.isValid(s.value[0])?o.format(o.date(s.value[0]),n.headerDateFormat):i(n.header);return n.landscape&&Ce.split(" ").length===3?Ce.replace(" ",`
`):Ce}),C=ze(()=>{let Ce=o.date();return Ce=o.setDate(Ce,1),Ce=o.setMonth(Ce,v.value),Ce=o.setYear(Ce,_.value),Ce}),T=ze(()=>o.format(C.value,"monthAndYear")),P=ze(()=>o.format(C.value,"monthShort")),F=ze(()=>o.format(C.value,"year")),I=ze(()=>`date-picker-header${S.value?"-reverse":""}-transition`),k=ae(()=>{if(n.disabled)return!0;const Ce=[];if(l.value!=="month")Ce.push("prev-month","next-month","prev-year","next-year");else{let ve=o.date();if(ve=o.startOfMonth(ve),ve=o.setMonth(ve,v.value),ve=o.setYear(ve,_.value),u.value){const Qe=o.addDays(o.startOfMonth(ve),-1),se=o.addDays(o.startOfYear(ve),-1);o.isAfter(u.value,Qe)&&Ce.push("prev-month"),o.isAfter(u.value,se)&&Ce.push("prev-year")}if(c.value){const Qe=o.addDays(o.endOfMonth(ve),1),se=o.addDays(o.endOfYear(ve),1);o.isAfter(Qe,c.value)&&Ce.push("next-month"),o.isAfter(se,c.value)&&Ce.push("next-year")}}return Ce}),M=ae(()=>n.allowedYears||$),V=ae(()=>n.allowedMonths||Q);function U(Ce,ve){const Qe=n.allowedDates;if(typeof Qe!="function")return!0;const se=1+fW(o,Ce,ve);for(let Te=0;Te<se;Te++)if(Qe(o.addDays(Ce,Te)))return!0;return!1}function $(Ce){if(typeof n.allowedDates=="function"){const ve=o.parseISO(`${Ce}-01-01`);return U(ve,o.endOfYear(ve))}if(Array.isArray(n.allowedDates)&&n.allowedDates.length){for(const ve of n.allowedDates)if(o.getYear(o.date(ve))===Ce)return!0;return!1}return!0}function Q(Ce){if(typeof n.allowedDates=="function"){const ve=String(Ce+1).padStart(2,"0"),Qe=o.parseISO(`${_.value}-${ve}-01`);return U(Qe,o.endOfMonth(Qe))}if(Array.isArray(n.allowedDates)&&n.allowedDates.length){for(const ve of n.allowedDates)if(o.getYear(o.date(ve))===_.value&&o.getMonth(o.date(ve))===Ce)return!0;return!1}return!0}function J(){v.value<11?v.value++:(_.value++,v.value=0,_e()),pe()}function R(){v.value>0?v.value--:(_.value--,v.value=11,_e()),pe()}function ne(){if(_.value++,c.value){const Ce=String(v.value+1).padStart(2,"0"),ve=o.parseISO(`${_.value}-${Ce}-01`);o.isAfter(ve,c.value)&&(v.value=o.getMonth(c.value))}_e()}function ue(){if(_.value--,u.value){const Ce=String(v.value+1).padStart(2,"0"),ve=o.endOfMonth(o.parseISO(`${_.value}-${Ce}-01`));o.isAfter(u.value,ve)&&(v.value=o.getMonth(u.value))}_e()}function we(){l.value="month"}function Be(){l.value=l.value==="months"?"month":"months"}function We(){l.value=l.value==="year"?"month":"year"}function pe(){l.value==="months"&&Be()}function _e(){l.value==="year"&&We()}return lt(s,(Ce,ve)=>{const Qe=ao(ve),se=ao(Ce);if(!se.length)return;const Te=o.date(Qe[Qe.length-1]),je=o.date(se[se.length-1]);if(o.isSameDay(Te,je))return;const nt=o.getMonth(je),tt=o.getYear(je);nt!==v.value&&(v.value=nt,pe()),tt!==_.value&&(_.value=tt,_e()),S.value=o.isBefore(Te,je)}),Kt(()=>{const Ce=DB.filterProps(n),ve=Ir(S$.filterProps(n),["viewMode"]),Qe=x$.filterProps(n),se=E$.filterProps(n),Te=Ir(B$.filterProps(n),["modelValue"]),je=Ir(k$.filterProps(n),["modelValue"]),nt={color:h.value,header:y.value,transition:I.value};return x(DB,bt(Ce,{color:h.value,class:["v-date-picker",`v-date-picker--${l.value}`,{"v-date-picker--show-week":n.showWeek},a.value,n.class],style:[{"--v-date-picker-landscape-header-width":$t(n.landscapeHeaderWidth)},n.style]}),{title:()=>{var tt;return((tt=r.title)==null?void 0:tt.call(r))??H("div",{class:"v-date-picker__title"},[i(n.title)])},header:()=>r.header?x(Lr,{defaults:{VDatePickerHeader:{...nt}}},{default:()=>{var tt;return[(tt=r.header)==null?void 0:tt.call(r,nt)]}}):x(x$,bt({key:"header"},Qe,nt,{onClick:l.value!=="month"?we:void 0}),{prepend:r.prepend,append:r.append}),default:()=>H(ut,null,[x(S$,bt(ve,{disabled:k.value,viewMode:l.value,text:T.value,monthText:P.value,yearText:F.value,"onClick:next":J,"onClick:prev":R,"onClick:nextYear":ne,"onClick:prevYear":ue,"onClick:month":Be,"onClick:year":We}),{default:r.controls}),x(_F,{hideOnLeave:!0},{default:()=>[l.value==="months"?x(B$,bt({key:"date-picker-months"},Te,{modelValue:v.value,"onUpdate:modelValue":[tt=>v.value=tt,pe],min:u.value,max:c.value,year:_.value,allowedMonths:V.value}),{month:r.month}):l.value==="year"?x(k$,bt({key:"date-picker-years"},je,{modelValue:_.value,"onUpdate:modelValue":[tt=>_.value=tt,_e],min:u.value,max:c.value,allowedYears:M.value}),{year:r.year}):x(E$,bt({key:"date-picker-month"},se,{modelValue:s.value,"onUpdate:modelValue":tt=>s.value=tt,month:v.value,"onUpdate:month":[tt=>v.value=tt,pe],year:_.value,"onUpdate:year":[tt=>_.value=tt,_e],min:u.value,max:c.value}),{day:r.day})]})]),actions:r.actions})}),{}}}),M$e={class:"w-100 d-flex align-center"},F$e=rn({__name:"ProposalDetails",setup(n){const t=Vt(),e=Oe(!1),r=Oe(""),o=ae(()=>u.value.filter(C=>C.partner_id==vr.value)),{getAccessTokenSilently:i}=Er(),a=Oe(null),{panels:s,proposal:l,templates:u,llm_fetching:c,is_reordering:d,prop_custom_fields:f}=Lt(t);lt(d,C=>{C&&(s.value.proposal_details=1)}),lt(()=>l.value.template_id,C=>{const T=o.value.find(P=>P.id==C);l.value.template_html=T==null?void 0:T.html_content,l.value.template_css=T==null?void 0:T.css_content});const h=(C,T)=>{T.field_value=Xt(C).format("YYYY-MM-DD")},p=()=>{a.value=null},v=async()=>{const C=await i();i_e(C).then(T=>{l.value.cover_letter=T})},g=async()=>{const C=await i();UY(C).then(T=>{l.value.title=T})},_=C=>{l.value.expiry_date=Xt(C).format("YYYY-MM-DD")},S=C=>{if(!C)return`${Xt().add("1","day").format("MMMM D, YYYY")} (in 1 day)`;const T=Xt(C),P=T.diff(Xt(),"days");return`${T.format("MMMM D, YYYY")} (in ${P+1} days)`},y=C=>yh.value.find(T=>T.id===C)??{};return(C,T)=>{const P=nO,F=Ky,I=pi;return le(),Re(Ao,{style:Ue(O(On)),"model-value":O(s).proposal_details,"onUpdate:modelValue":T[11]||(T[11]=k=>O(t).SetPanel("proposal_details",k)),class:"mb-4"},{default:N(()=>[x(I,{class:"border",style:Ue(O(On)),icon:"mdi-briefcase-edit-outline",title:"Proposal Details"},{icon:N(()=>[x(P)]),default:N(()=>[x(cr,null,{default:N(()=>[x(Fn,null,{default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"3",md:"3",sm:"12"},{default:N(()=>[x(_t,{"hide-details":"",variant:"outlined",density:"comfortable",label:"Proposal Title",modelValue:O(l).title,"onUpdate:modelValue":T[0]||(T[0]=k=>O(l).title=k),loading:O(c)},{"append-inner":N(()=>[x($e,{size:"x-small",color:"primary",text:"Generate",variant:"outlined",loading:O(c),onClick:g},null,8,["loading"])]),_:1},8,["modelValue","loading"])]),_:1}),x(wt,{cols:"12",lg:"3",md:"3",sm:"12"},{default:N(()=>[x(mr,{"prepend-inner-icon":"mdi-account-edit",items:O(zW),modelValue:O(l).user_id,"onUpdate:modelValue":T[1]||(T[1]=k=>O(l).user_id=k),"item-title":"name","item-value":"user_id",density:"comfortable",label:"Assigned To",variant:"outlined","hide-details":""},null,8,["items","modelValue"])]),_:1}),x(wt,{cols:"12",lg:"3",md:"3",sm:"12"},{default:N(()=>[x(jy,{"offset-y":"","min-width":"auto",modelValue:O(e),"onUpdate:modelValue":T[3]||(T[3]=k=>Ht(e)?e.value=k:null),transition:"scale-transition","close-on-content-click":!1},{activator:N(({props:k})=>[x(_t,bt({readonly:"","hide-details":""},k,{variant:"outlined",density:"comfortable",label:"Expiration Date","prepend-inner-icon":"mdi-calendar","model-value":S(O(l).expiry_date)}),null,16,["model-value"])]),default:N(()=>[x(T$,{"hide-header":"",color:"primary",modelValue:O(l).expiry_date,"onUpdate:modelValue":[T[2]||(T[2]=k=>O(l).expiry_date=k),_]},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"3",md:"3",sm:"12"},{default:N(()=>[x(mr,{"hide-details":"","item-value":"id",label:"Template","item-title":"name",variant:"outlined",items:O(o),density:"comfortable","return-object":!1,modelValue:O(l).template_id,"onUpdate:modelValue":T[4]||(T[4]=k=>O(l).template_id=k),modelModifiers:{number:!0}},null,8,["items","modelValue"])]),_:1})]),_:1}),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"3",md:"3",sm:"12"},{default:N(()=>[x(_t,{modelValue:O(l).company_name,"onUpdate:modelValue":T[5]||(T[5]=k=>O(l).company_name=k),density:"comfortable",label:"Company Name",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"3",md:"3",sm:"12"},{default:N(()=>[x(_t,{modelValue:O(l).first_name,"onUpdate:modelValue":T[6]||(T[6]=k=>O(l).first_name=k),density:"comfortable",label:"First Name",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"3",md:"3",sm:"12"},{default:N(()=>[x(_t,{modelValue:O(l).last_name,"onUpdate:modelValue":T[7]||(T[7]=k=>O(l).last_name=k),density:"comfortable",label:"Last Name",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"3",md:"3",sm:"12"},{default:N(()=>[x(_t,{modelValue:O(l).email,"onUpdate:modelValue":T[8]||(T[8]=k=>O(l).email=k),density:"comfortable",label:"Email",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),x(F,{modelValue:O(l).cover_letter,"onUpdate:modelValue":T[10]||(T[10]=k=>O(l).cover_letter=k),insert:O(r)},{header:N(()=>[x($e,{size:"small",class:"ml-5",color:"primary",text:"Generate",variant:"outlined",loading:O(c),onClick:v},null,8,["loading"])]),label:N(()=>[H("div",M$e,[T[12]||(T[12]=H("span",{class:"ml-3"},"Cover Letter",-1)),x(En),x(mr,{"hide-details":"","max-width":"300",density:"compact",variant:"outlined",label:"Shortcodes",items:O(TY),modelValue:O(r),"onUpdate:modelValue":T[9]||(T[9]=k=>Ht(r)?r.value=k:null)},null,8,["items","modelValue"])])]),_:1},8,["modelValue","insert"]),x(Dd,{class:"my-10"},{default:N(()=>[...T[13]||(T[13]=[Je("Custom Fields",-1)])]),_:1}),x(Xn,{class:"mb-4"},{default:N(()=>[(le(!0),et(ut,null,Wr(O(f),(k,M)=>(le(),Re(wt,{key:M,cols:"12",lg:"4",md:"4",sm:"12"},{default:N(()=>[y(k==null?void 0:k.field_id).field_type=="select"?(le(),Re(mr,{key:0,"hide-details":"",variant:"outlined",density:"comfortable",modelValue:k.field_value,"onUpdate:modelValue":V=>k.field_value=V,label:y(k==null?void 0:k.field_id).field_label,items:y(k==null?void 0:k.field_id).field_options},null,8,["modelValue","onUpdate:modelValue","label","items"])):y(k==null?void 0:k.field_id).field_type=="number"?(le(),Re(_t,{key:1,"hide-details":"",type:"number",variant:"outlined",density:"comfortable",modelValue:k.field_value,"onUpdate:modelValue":V=>k.field_value=V,label:y(k==null?void 0:k.field_id).field_label},null,8,["modelValue","onUpdate:modelValue","label"])):y(k==null?void 0:k.field_id).field_type=="date"?(le(),et(ut,{key:2},[x(_t,{"hide-details":"",variant:"outlined",density:"comfortable",modelValue:k.field_value,"onUpdate:modelValue":V=>k.field_value=V,onClick:V=>a.value=M,label:y(k==null?void 0:k.field_id).field_label},null,8,["modelValue","onUpdate:modelValue","onClick","label"]),O(a)==M?Qn((le(),Re(T$,{key:0,"hide-details":"",type:"number",variant:"outlined",density:"comfortable","onUpdate:modelValue":V=>h(V,k)},null,8,["onUpdate:modelValue"])),[[mF,p]]):xt("",!0)],64)):y(k==null?void 0:k.field_id).field_type=="textarea"?(le(),Re(pT,{key:3,"hide-details":"",variant:"outlined",density:"comfortable",modelValue:k.field_value,"onUpdate:modelValue":V=>k.field_value=V,label:y(k==null?void 0:k.field_id).field_label},null,8,["modelValue","onUpdate:modelValue","label"])):(le(),Re(_t,{key:4,"hide-details":"",variant:"outlined",density:"comfortable",modelValue:k.field_value,"onUpdate:modelValue":V=>k.field_value=V,label:y(k==null?void 0:k.field_id).field_label},null,8,["modelValue","onUpdate:modelValue","label"]))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["style","model-value"])}}}),D$e={class:"draggable-component"},jZ=rn({__name:"create",setup(n){const t=P_(),e=tv(),r=Vt(),o=Oe([]),i=Oe(!1),a=ae(()=>_.value.id!==void 0&&_.value.id!==null),{getAccessTokenSilently:s}=Er(),l=Oe([{name:"Products",component:n3e},{name:"LeaseDetails",component:I3e},{name:"ProposalDetails",component:F$e},{name:"CostBreakdown",component:E$e}]),{ShowSuccess:u,ShowError:c,SetState:d}=r,f=ae(()=>nu.value&&tI.value?"Proposal Completed (Read-only)":a.value?"Update Proposal":"Save Proposal"),h=Zy(),{gjs_instance:p}=Lt(h),{modals:v,profile:g,proposal:_,is_data_loaded:S,global_loading:y,component_order:C,prop_custom_fields:T,proposal_signatures:P}=Lt(r),F=()=>{const J={company_name:"Company Name",first_name:"First Name",last_name:"Last Name",email:"Email",title:"Title",template_id:"Template"};if(o.value=[],Object.entries(J).forEach(([R,ne])=>{const ue=R,we=_.value[ue];(we===""||we===null||we===void 0||Array.isArray(we)&&we.length===0)&&o.value.push(ne)}),o.value.length>0){const R=o.value.map(ne=>`- ${ne} is required.<br>`).join(" ");return c(`The following fields are required: <br><br>${R}`),!1}return _.value.template_id?Mm.value&&!_.value.cart_items.length?(c("Please add at least one product to the proposal."),!1):Iw.value&&!_.value.it_service_items.length?(c("Please add at least one IT Service Item to the proposal."),!1):!0:(c("Please choose a template."),!1)},I=async()=>{const R={...t.params}.id,ne=await s();if(R){y.value=!0;const we=(await sn(ne).get(`/proposals/find-proposal/${R}`)).data??null;if(!we)return r.ShowError("Proposal not found!"),e.push("/proposals");we.lease_term_offered=Number(we.lease_term_offered),we.template_id=Number(we.template_id);const Be=await sn(ne).get(`/proposals/find-signatures/${R}`);P.value=Be.data??[],y.value=!1,_.value={...we},k()}else M()},k=()=>{if(r.SetPropCustomFields([]),_.value.id){r.SetPropCustomFields(ade.value);const J=[...T.value];yh.value.forEach(R=>{J.find(ne=>ne.field_id==R.id)||(J.push({id:null,proposal_id:null,field_id:R.id,field_value:"",created_at:yd.value,updated_at:yd.value}),r.SetPropCustomFields(J))})}else{const J=[];yh.value.forEach(R=>{T.value.find(ne=>ne.field_id==R.id)||(J.push({id:null,proposal_id:null,field_id:R.id,field_value:"",created_at:yd.value,updated_at:yd.value}),r.SetPropCustomFields(J))})}},M=async()=>{var Be;if(_.value.id=null,_.value.user_id=((Be=g.value)==null?void 0:Be.sub)||"",_.value.partner_id=vr.value,_.value.expiry_date=Xt().add("15","days").format("YYYY-MM-DD"),_.value.created_at=yd.value,_.value.updated_at=yd.value,gh.value.length<=0&&await r.OpenDialog("Confirm action","You have not added any Finance Provider. Do you want to create one now?"))return e.push("/providers");let J=gh.value.find(We=>We.is_default==1)||gh.value[0];if(J){const We=XW(J);_.value.lease_factor_provider=We,_.value.lease_term_offered=We.lease_factors[0].term??12,_.value.lease_type="fmv"}else r.ShowError("Finance Provider not found. You must add one to continue. Redirecting in 3 seconds..."),setTimeout(()=>e.push("/providers"),3e3);const R=Sd("global_overage_cost_black"),ne=Sd("global_overage_cost_color"),ue=Sd("cost_per_print_black"),we=Sd("cost_per_print_color");R&&(_.value.global_print_cost.black_overage_cost=Number(R)),ne&&(_.value.global_print_cost.color_overage_cost=Number(ne)),ue&&(_.value.global_print_cost.black_prints_cost=Number(ue)),we&&(_.value.global_print_cost.color_prints_cost=Number(we)),k()},V=()=>{const J=p.value.DomComponents.getWrapper().find("section.pdf-page"),R=new Map;J.forEach(ne=>{const ue=ne.getClasses().includes("contract-page");R.set(ne.getId(),{id:ne.getId(),title:ne.getAttributes().title,display:!0,category:ue?"contract":"regular",hide_if_signed:!1})}),_.value.contract_pages=_.value.contract_pages.map(ne=>R.has(ne.id)?{...R.get(ne.id),display:ne.display}:ne),R.forEach((ne,ue)=>{_.value.contract_pages.find(we=>we.id===ue)||_.value.contract_pages.push(ne)})},U=()=>{P.value.length||p.value.DomComponents.getWrapper().find(".signature-slot").forEach(R=>{const ne=R.getAttributes()["data-signature-slot"],ue=R.getAttributes()["data-signer-type"];P.value.find(Be=>Be.signature_slot==ne)||P.value.push({id:null,proposal_id:null,signature_slot:ne,signer_type:ue??"",firstname:"",lastname:"",email:"",title:"",signature_blob:"",initials_blob:"",signed_date:"",ip_address:"",user_agent:"",device_type:"",status:"pending"})})},$=async()=>{if(!F())return;const J=new FormData,R=await s(),ne=a.value?"/proposals/update":"/proposals/store";i.value=!0,J.append("proposal",JSON.stringify({..._.value})),J.append("field_values",JSON.stringify({...T.value})),J.append("signatures",JSON.stringify({...P.value})),sn(R).post(ne,J).then(ue=>{if(console.log(ue.data),u(`Proposal ${_.value.id?"updated":"created"}!`),!a.value)return location.href=`/proposals/edit/${ue.data.proposal_id}`}).finally(()=>{r.FetchMetrics(R),r.FetchProposals(R),r.FetchFieldValues(R),i.value=!1})},Q=async()=>{const J=await s();if(!_.value.id)return P.value=[],U();P.value=[],U(),setTimeout(async()=>{const R=new FormData,ne=String(_.value.id);R.append("signatures",JSON.stringify(P.value)),R.append("proposal_id",ne),sn(J).post("/proposals/update-signature-entries",R).then(()=>{sn(J).get(`/proposals/find-signatures/${ne}`).then(ue=>{P.value=ue.data??[]})})},1e3)};return lt(()=>S.value,async J=>{J&&await I()},{immediate:!0}),lt(()=>vr.value,async J=>{if(J){const R=await s();r.FetchProductPricing({token:R,partner_id:J}),r.FetchAccessoryPricing({token:R,partner_id:J})}},{immediate:!0}),lt(()=>_.value.template_id,()=>{V()}),lt(()=>Tw.value,J=>{if(J.length){const R=Tw.value.find(ne=>ne.is_default==1);R?(r.LogSuccess("Default Template has been loaded"),r.SetTemplateCssAndHtml(R.id,R.css_content,R.html_content)):r.LogError("Template couldn't be loaded")}else r.LogError("Templates are empty.")}),mo(()=>{p.value&&_.value.template_html&&(p.value.setComponents(_.value.template_html+_.value.paperwork_html),setTimeout(()=>{V(),U()},1e3))}),zh(async()=>{const J=await s();await r.FetchCatalogProducts(),await r.FetchCatalogDatasets(),await r.FetchCatalogAccessories(),await r.FetchTemplates(J)}),Kn(async()=>{h.Instantiate("#gjs-dummy")}),(J,R)=>{const ne=iRe,ue=rRe,we=tRe,Be=ZNe,We=YNe,pe=du;return le(),Re(pe,null,{title:N(()=>[Je(at(O(_).id?"Edit":"Create")+" a Proposal ",1),O(tD)(O(_))?(le(),Re($e,{key:0,class:"ml-2",rounded:"pill",size:"small",color:"success",readonly:"",variant:"tonal","prepend-icon":"mdi-check-circle"},{default:N(()=>[...R[6]||(R[6]=[Je("Accepted",-1)])]),_:1})):xt("",!0)]),content:N(()=>[x(O(UZ),{modelValue:O(C),"onUpdate:modelValue":R[0]||(R[0]=_e=>Ht(C)?C.value=_e:null),onStart:R[1]||(R[1]=_e=>O(d)({is_reordering:!0})),onEnd:R[2]||(R[2]=_e=>O(d)({is_reordering:!1})),handle:".drag-handle","item-key":"index"},{item:N(({element:_e})=>[H("div",D$e,[(le(),Re(tL(O(l)[_e].component),{key:_e}))])]),_:1},8,["modelValue"]),R[7]||(R[7]=H("div",{id:"gjs-dummy",class:"d-none"},null,-1)),x(ne),O(_).id?xt("",!0):(le(),Re(ue,{key:0})),O(v).paperwork_editor?(le(),Re(we,{key:1,onRestore:Q})):xt("",!0),O(v).proposal_template?(le(),Re(Be,{key:2,onUpdate:$})):xt("",!0)]),footer:N(()=>[x(We),x(En),O(_).template_id?(le(),Re($e,{key:0,size:"small",color:"info",class:"mr-4",variant:"outlined",text:"Paperwork",disabled:O(i),style:Ue(O(On)),"prepend-icon":"mdi-playlist-edit",onClick:R[3]||(R[3]=_e=>O(Oc)("paperwork_editor",!0))},null,8,["disabled","style"])):xt("",!0),O(_).template_id?(le(),Re($e,{key:1,size:"small",color:"info",class:"mr-4",variant:"outlined",text:"Template",disabled:O(i),style:Ue(O(On)),"prepend-icon":"mdi-cookie-edit-outline",onClick:R[4]||(R[4]=_e=>O(Oc)("proposal_template",!0))},null,8,["disabled","style"])):xt("",!0),O(_).id?(le(),Re($e,{key:2,size:"small",text:"View Proposal",color:"info",class:"mr-4",width:"150",disabled:O(i),variant:"outlined",href:O(kY),target:"_blank",style:Ue(O(On)),"prepend-icon":"mdi-eye"},null,8,["disabled","href","style"])):xt("",!0),O(_).id?(le(),Re($e,{key:3,size:"small",text:"Send",color:"info",class:"mr-4",width:"120",variant:"outlined",disabled:O(i),style:Ue(O(On)),onClick:R[5]||(R[5]=_e=>O(Oc)("send_proposal",!0)),"prepend-icon":"mdi-send"},null,8,["disabled","style"])):xt("",!0),x($e,{size:"small",color:"primary",loading:O(i),onClick:$,style:Ue(O(hn)),text:O(f),"prepend-icon":O(tI)&&O(nu)?"mdi-check-circle":"mdi-floppy",disabled:O(tI)&&O(nu)},null,8,["loading","style","text","prepend-icon","disabled"])]),_:1})}}}),U$e=Object.freeze(Object.defineProperty({__proto__:null,default:jZ},Symbol.toStringTag,{value:"Module"})),L$e={__name:"declined",setup(n){const t=Vt(),{proposals:e}=Lt(t),r=ae(()=>e.value.filter(o=>o.partner_id===vr.value&&o.status==="declined"));return(o,i)=>(le(),Re(UT,{selected_proposals:O(r)},null,8,["selected_proposals"]))}},V$e=Object.freeze(Object.defineProperty({__proto__:null,default:L$e},Symbol.toStringTag,{value:"Module"})),N$e={__name:"drafts",setup(n){const t=Vt(),{proposals:e}=Lt(t),r=ae(()=>e.value.filter(o=>o.partner_id===vr.value&&o.status==="draft"));return(o,i)=>(le(),Re(UT,{selected_proposals:O(r)},null,8,["selected_proposals"]))}},R$e=Object.freeze(Object.defineProperty({__proto__:null,default:N$e},Symbol.toStringTag,{value:"Module"})),H$e={__name:"[id]",setup(n){return(t,e)=>(le(),Re(jZ))}},Q$e=Object.freeze(Object.defineProperty({__proto__:null,default:H$e},Symbol.toStringTag,{value:"Module"})),j$e={class:"w-100",style:{"border-collapse":"collapse"}},$$e={class:"border"},K$e={class:"border"},W$e={class:"border"},z$e={class:"border"},G$e={class:"border"},Y$e=rn({__name:"providers",setup(n){const t=Oe(!1),e=Vt(),r=Oe(!1),o=[{title:"ID",value:"id"},{title:"Name",value:"name"},{title:"Is Default",value:"is_default"},{title:"Action",value:"action"}],i=Oe({id:null,partner_id:null,name:"",lease_factors:[{term:12,fmv:0,buyout:0,efa:0},{term:24,fmv:0,buyout:0,efa:0},{term:36,fmv:0,buyout:0,efa:0},{term:48,fmv:0,buyout:0,efa:0},{term:60,fmv:0,buyout:0,efa:0}],created_at:"",updated_at:""}),{modals:a}=Lt(e),{getAccessTokenSilently:s}=Er(),{ShowSuccess:l,FetchPartnerUsers:u,FetchProviders:c}=e,d=C=>C.is_default==1,f=async C=>{const T=await s(),P=new FormData;r.value=!0,P.append("partner_id",vr.value),P.append("provider_id",C.id),sn(T).post("/providers/toggle-default",P).then(F=>{console.log(F.data),e.ShowSuccess("Provider default updated successfully!"),e.FetchProviders(T),r.value=!1})},h=async()=>{const C=new FormData,T=await s(),P=i.value.id?"/providers/update":"/providers/store",F=sn(T);if(!i.value.lease_factors.length)return e.ShowError("Please add at least one lease factor!");r.value=!0,C.append("provider",JSON.stringify(i.value)),F.post(P,C).then(I=>{console.log(I.data),c(T),l(`Financing provider successfully ${i.value.id?"edited!":"added!"}`)}).finally(()=>{t.value=!1,r.value=!1})},p=C=>{i.value={...C},t.value=!0},v=async C=>{const T=new FormData,P={...C},F=await s();r.value=!0,P.name=P.name+" (Copy)",P.is_default=0,delete P.id,T.append("provider",JSON.stringify(P)),sn(F).post("/providers/store",T).then(I=>{console.log(I.data),c(F),l("Item has been duplicated successfully!")}).finally(()=>{r.value=!1})},g=async C=>{if(await e.InputDialog("Confirm Action",'Type "DELETE" to confirm your action.')=="DELETE"){r.value=!0;const P=new FormData,F=await s();P.append("provider_id",C.id),sn(F).post("/providers/destroy",P).then(I=>{console.log(I.data),e.ShowSuccess("Item deleted successfully!"),e.FetchProviders(F),r.value=!1})}},_=()=>{i.value={id:null,partner_id:vr.value,lease_factors:[{term:12,fmv:0,buyout:0,efa:0},{term:24,fmv:0,buyout:0,efa:0},{term:36,fmv:0,buyout:0,efa:0},{term:48,fmv:0,buyout:0,efa:0},{term:60,fmv:0,buyout:0,efa:0}],name:"",created_at:"",updated_at:""},t.value=!0},S=()=>{i.value.lease_factors.push({term:0,fmv:0,buyout:0,efa:0})},y=C=>{i.value.lease_factors.splice(C,1)};return Kn(async()=>{const C=await s();await u(C).then(()=>{i.value.partner_id=vr.value})}),(C,T)=>{const P=pi,F=qi,I=du;return le(),Re(I,null,{title:N(()=>[...T[3]||(T[3]=[Je("Financing Provider",-1)])]),content:N(()=>[x($e,{class:"mb-5",color:"primary",onClick:_,text:"Add a Provider",style:Ue(O(hn)),"prepend-icon":"mdi-plus-circle"},null,8,["style"]),x(hi,{items:O(gh),headers:o,style:Ue(O(zr)),class:"elevation-1 border"},{item:N(({item:k})=>[H("tr",null,[H("td",null,at(k.id),1),H("td",null,at(k.name),1),H("td",null,[x(Sl,{"onUpdate:modelValue":M=>f(k),"base-color":d(k)?"green":"","model-value":d(k),disabled:d(k),density:"compact",color:"green","hide-details":"",inset:""},null,8,["onUpdate:modelValue","base-color","model-value","disabled"])]),H("td",null,[x($e,{text:"Delete",size:"small",color:"red",class:"mr-2",variant:"outlined",onClick:M=>g(k),"prepend-icon":"mdi-close",disabled:d(k),style:Ue(O(On))},null,8,["onClick","disabled","style"]),x($e,{text:"Edit",size:"small",color:"info",class:"mr-2",variant:"outlined",onClick:M=>p(k),style:Ue(O(On)),"prepend-icon":"mdi-pencil"},null,8,["onClick","style"]),x($e,{color:"info",size:"small",class:"mr-2",text:"Duplicate",variant:"outlined",onClick:M=>v(k),style:Ue(O(On)),"prepend-icon":"mdi-content-copy"},null,8,["onClick","style"]),x($e,{color:"orange",size:"small",variant:"outlined",href:`/paperwork/${k.id}`,text:"Paperwork",style:Ue(O(On)),"prepend-icon":"mdi-text-box-edit-outline"},null,8,["href","style"])])])]),_:1},8,["items","style"]),x(F,{modelValue:O(t),"onUpdate:modelValue":T[1]||(T[1]=k=>Ht(t)?t.value=k:null),max_width:"600",color:"transparent",title:`${O(i).id?"Edit":"Add"} a Financing Provider`,onClose:T[2]||(T[2]=k=>t.value=!1)},{footer:N(()=>[x($e,{width:"150",type:"submit",text:"Submit",onClick:h,color:"primary",loading:O(r),class:"ma-auto d-block",style:Ue(O(hn))},null,8,["loading","style"])]),default:N(()=>[x(Xn,null,{default:N(()=>[x(wt,{cols:"12"},{default:N(()=>[x(_t,{"hide-details":"","prepend-inner-icon":"mdi-domain",variant:"outlined",modelValue:O(i).name,"onUpdate:modelValue":T[0]||(T[0]=k=>O(i).name=k),label:"Finance Company Name",required:""},null,8,["modelValue"])]),_:1})]),_:1}),x(Ao,{"model-value":"0",elevation:"0",class:"mt-5"},{default:N(()=>[x(P,{class:"border",icon:"mdi-email-multiple-outline",title:"Lease Factors"},{default:N(()=>[x(Fn,null,{default:N(()=>[H("table",j$e,[H("tbody",null,[T[4]||(T[4]=H("tr",null,[H("th",{class:"w-25 pa-1 pt-3 pb-3 border"},"Term (Months)"),H("th",{class:"w-25 pa-1 pt-3 pb-3 border"},"FMV"),H("th",{class:"w-25 pa-1 pt-3 pb-3 border"},"Buyout"),H("th",{class:"w-25 pa-1 pt-3 pb-3 border"},"EFA"),H("th",{class:"w-25 pa-1 pt-3 pb-3 border"},"Manage")],-1)),(le(!0),et(ut,null,Wr(O(i).lease_factors,(k,M)=>(le(),et("tr",null,[H("th",$$e,[x(_t,{variant:"outlined",type:"number",density:"compact","hide-details":"",class:"d-block ma-auto w-100",modelValue:k.term,"onUpdate:modelValue":V=>k.term=V,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",K$e,[x(_t,{variant:"outlined",type:"number",density:"compact","hide-details":"",class:"d-block ma-auto w-100",modelValue:k.fmv,"onUpdate:modelValue":V=>k.fmv=V,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",W$e,[x(_t,{variant:"outlined",type:"number",density:"compact","hide-details":"",class:"d-block ma-auto w-100",modelValue:k.buyout,"onUpdate:modelValue":V=>k.buyout=V,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",z$e,[x(_t,{variant:"outlined",type:"number",density:"compact","hide-details":"",class:"d-block ma-auto w-100",modelValue:k.efa,"onUpdate:modelValue":V=>k.efa=V,modelModifiers:{number:!0}},null,8,["modelValue","onUpdate:modelValue"])]),H("td",G$e,[x($e,{text:"Remove",variant:"text",size:"x-small",onClick:V=>y(M),"prepend-icon":"mdi-trash-can"},null,8,["onClick"])])]))),256))])]),x($e,{size:"small",class:"mt-4",onClick:S,variant:"outlined",text:"Add New Term","prepend-icon":"mdi-plus",style:Ue(O(On))},null,8,["style"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue","title"])]),_:1})}}}),X$e=Object.freeze(Object.defineProperty({__proto__:null,default:Y$e},Symbol.toStringTag,{value:"Module"})),J$e=it({...Cn(),...Wde()},"VForm"),$Z=Dt()({name:"VForm",props:J$e(),emits:{"update:modelValue":n=>!0,submit:n=>!0},setup(n,t){let{slots:e,emit:r}=t;const o=zde(n),i=Oe();function a(l){l.preventDefault(),o.reset()}function s(l){const u=l,c=o.validate();u.then=c.then.bind(c),u.catch=c.catch.bind(c),u.finally=c.finally.bind(c),r("submit",u),u.defaultPrevented||c.then(d=>{var h;let{valid:f}=d;f&&((h=i.value)==null||h.submit())}),u.preventDefault()}return Kt(()=>{var l;return H("form",{ref:i,class:pt(["v-form",n.class]),style:Ue(n.style),novalidate:!0,onReset:a,onSubmit:s},[(l=e.default)==null?void 0:l.call(e,o)])}),nl(o,i)}}),Z$e={class:"pa-3 d-flex border-b align-center"},q$e=rn({__name:"Addons",setup(n){const t=Vt(),e=Oe(""),r=Oe(!1),o=[{title:"ID",value:"id"},{title:"Name",value:"name"},{title:"Price",value:"price"},{title:"Qty.",value:"qty"},{title:"Margin (%)",value:"price_margin"},{title:"Actions",key:"actions",sortable:!1}],i=Oe({addon:!1}),a=Oe({id:null,user_id:"",partner_id:null,name:"",type:"addon",price:0,qty:0,price_margin:0,charge_type:"",created_at:Xt().format("YYYY-MM-DD"),updated_at:Xt().format("YYYY-MM-DD")}),{getAccessTokenSilently:s}=Er(),l=ae(()=>{if(!e.value)return gF.value;const p=e.value.toLowerCase();return gF.value.filter(v=>v.name.toLowerCase().includes(p)||v.charge_type.toLowerCase().includes(p))}),u=async()=>{r.value=!0;const p=await s();await t.FetchAddons(p),r.value=!1},c=p=>{a.value={...p},a.value.updated_at=Xt().format("YYYY-MM-DD"),i.value.addon=!0},d=async p=>{if(await t.OpenDialog("Confirm Action","Are you sure you want to delete this addon?")){const g=s(),_=`/addons/destroy/${p}`;sn(g).delete(_).then(S=>{S.data.result&&(t.ShowSuccess("Addon deleted successfully!"),t.FetchAddons(g))})}},f=()=>{a.value={id:null,user_id:"",partner_id:null,name:"",type:"addon",price:0,qty:0,price_margin:0,charge_type:"",created_at:"",updated_at:""},a.value.user_id=Ys.value,a.value.partner_id=vr.value},h=()=>{const p=s(),v=new FormData,g=a.value.id?"/addons/update":"/addons/store";v.append("form",JSON.stringify(a.value)),sn(p).post(g,v).then(_=>{_.data.result&&(t.ShowSuccess("Addon saved successfully!"),i.value.addon=!1,t.FetchAddons(p),f())})};return Kn(async()=>{const p=await s();t.FetchPartnerUsers(p),t.FetchAddons(p).then(()=>{a.value.user_id=Ys.value,a.value.partner_id=vr.value,a.value.created_at=Xt().format("YYYY-MM-DD"),a.value.updated_at=Xt().format("YYYY-MM-DD")})}),(p,v)=>{const g=cv,_=pi,S=qi;return le(),et(ut,null,[x(Ao,{"model-value":0},{default:N(()=>[x(_,{class:"border",style:Ue(O(zr)),title:"Addon Manager",icon:"mdi-palette-swatch-outline"},{default:N(()=>[x(hi,{style:Ue(O(zr)),loading:O(r),headers:o,items:O(l)},{top:N(()=>[H("div",Z$e,[x(g,{modelValue:O(e),"onUpdate:modelValue":v[0]||(v[0]=y=>Ht(e)?e.value=y:null)},null,8,["modelValue"]),x(En),x($e,{class:"ml-3",color:"info",text:"Refresh",onClick:u,style:Ue(O(hn)),loading:O(r),"prepend-icon":"mdi-refresh"},null,8,["style","loading"]),x($e,{class:"ml-3",color:"info",text:"New Addon",style:Ue(O(hn)),onClick:v[1]||(v[1]=y=>{O(i).addon=!0,f()}),"prepend-icon":"mdi-plus-circle"},null,8,["style"])])]),"item.actions":N(({item:y})=>[x($e,{color:"info",size:"small",text:"Edit",style:Ue(O(On)),variant:"outlined","prepend-icon":"mdi-pencil",onClick:C=>c(y)},null,8,["style","onClick"]),x($e,{class:"ml-2",color:"red",size:"small",text:"Delete",style:Ue(O(On)),variant:"outlined","prepend-icon":"mdi-trash-can",onClick:C=>d(y.id)},null,8,["style","onClick"])]),_:1},8,["style","loading","items"])]),_:1},8,["style"])]),_:1}),x(S,{modelValue:O(i).addon,"onUpdate:modelValue":v[7]||(v[7]=y=>O(i).addon=y),color:"transparent",title:"Addon",max_width:"600"},{footer:N(()=>[x(En),x($e,{style:Ue(O(hn)),"prepend-icon":"mdi-pencil",color:"info",onClick:h},{default:N(()=>[...v[8]||(v[8]=[Je("Submit",-1)])]),_:1},8,["style"]),x(En)]),default:N(()=>[x(Fn,null,{default:N(()=>[x($Z,null,{default:N(()=>[x(_t,{variant:"outlined",modelValue:O(a).name,"onUpdate:modelValue":v[2]||(v[2]=y=>O(a).name=y),label:"Name",required:""},null,8,["modelValue"]),x(_t,{variant:"outlined",modelValue:O(a).price,"onUpdate:modelValue":v[3]||(v[3]=y=>O(a).price=y),modelModifiers:{number:!0},label:"Price",type:"number",required:""},null,8,["modelValue"]),x(_t,{variant:"outlined",modelValue:O(a).qty,"onUpdate:modelValue":v[4]||(v[4]=y=>O(a).qty=y),modelModifiers:{number:!0},label:"Quantity",type:"number",required:""},null,8,["modelValue"]),x(_t,{variant:"outlined",modelValue:O(a).price_margin,"onUpdate:modelValue":v[5]||(v[5]=y=>O(a).price_margin=y),modelModifiers:{number:!0},label:"Price Margin (%)",type:"number"},null,8,["modelValue"]),x(mr,{modelValue:O(a).charge_type,"onUpdate:modelValue":v[6]||(v[6]=y=>O(a).charge_type=y),items:O(Yw),variant:"outlined","hide-details":"",label:"Type",required:""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),e5e={class:"pa-3 d-flex border-b align-center"},t5e=rn({__name:"CustomFields",setup(n){const t=Vt(),{getAccessTokenSilently:e}=Er(),r=Oe({id:null,user_id:"",partner_id:null,field_key:"",field_type:"",field_label:"",field_options:[],created_at:"",updated_at:""}),o=Oe(!1),{shortcodes:i,reserved_shortcodes:a}=Lt(t),s=[{title:"ID",value:"id"},{title:"Label",value:"field_label"},{title:"Key",value:"field_key"},{title:"Type",value:"field_type"},{title:"Created at",value:"created_at"},{title:"Updated at",value:"updated_at"},{title:"Actions",key:"actions",sortable:!1}],l=Oe([]),u=["text","number","date","textarea","select"],c=Oe(""),d=Oe(!1),f=ae(()=>{if(!c.value)return yh.value;const T=c.value.toLowerCase();return yh.value.filter(P=>P.field_label.toLowerCase().includes(T)||P.field_key.toLowerCase().includes(T)||P.field_type.toLowerCase().includes(T))}),h=ae(()=>{const T=[];return i.value.forEach(P=>T.push(P.value)),a.value.forEach(P=>T.push(P.value)),yh.value.forEach(P=>T.push(`{${P.field_key}}`)),T}),p=T=>{r.value={...T},r.value.updated_at=Xt().format("YYYY-MM-DD"),o.value=!0},v=T=>{if(confirm("Are you sure you want to delete this field?")){const P=e(),F=`/customfields/destroy/${T}`;sn(P).delete(F).then(I=>{I.data.result&&(t.ShowSuccess("Custom Field deleted successfully!"),t.FetchCustomFields(P))})}},g=()=>{r.value={id:null,user_id:"",partner_id:null,field_key:"",field_type:"",field_label:"",field_options:[],created_at:"",updated_at:""},y()},_=()=>(l.value=[],r.value.field_label||l.value.push("- Field Label is required"),r.value.field_key?h.value.includes(`{${r.value.field_key}}`)&&l.value.push(`- Unique Key "${r.value.field_key}" cannot be used.`):l.value.push("- Field Key is required"),r.value.field_type||l.value.push("- Field Type is required"),l.value.length?(t.ShowError("Please correct the following issues: <br>"+l.value.join("<br>")),!1):!0),S=()=>{if(!_())return!1;const T=e(),P=new FormData,F=r.value.id?"/customfields/update":"/customfields/store";P.append("form",JSON.stringify(r.value)),sn(T).post(F,P).then(I=>{console.log(I.data),t.ShowSuccess(I.data.message),o.value=!1,g(),C()})},y=()=>{r.value.id||(r.value.user_id=Ys.value,r.value.partner_id=vr.value,r.value.created_at=Xt().format("YYYY-MM-DD"),r.value.updated_at=Xt().format("YYYY-MM-DD"))},C=async()=>{const T=await e();d.value=!0,t.FetchCustomFields(T).finally(()=>{d.value=!1})};return lt(()=>r.value.field_label,T=>{r.value.id||(r.value.field_key=T.trim().toLowerCase().replace(/\s+/g,"_"))}),Kn(async()=>{const T=await e();await t.FetchPartnerUsers(T),await t.FetchCustomFields(T).then(()=>{y()})}),(T,P)=>{const F=cv,I=pi,k=qi;return le(),et(ut,null,[x(Ao,{"model-value":0},{default:N(()=>[x(I,{class:"border",style:Ue(O(zr)),title:"Custom Fields",icon:"mdi-pencil-box-multiple-outline"},{default:N(()=>[x(hi,{style:Ue(O(zr)),loading:O(d),headers:s,items:O(f)},{top:N(()=>[H("div",e5e,[x(F,{modelValue:O(c),"onUpdate:modelValue":P[0]||(P[0]=M=>Ht(c)?c.value=M:null)},null,8,["modelValue"]),x(En),x($e,{class:"ml-3",color:"info",text:"Refresh",onClick:C,loading:O(d),style:Ue(O(hn)),"prepend-icon":"mdi-refresh"},null,8,["loading","style"]),x($e,{class:"ml-3",color:"info",text:"New Custom Field",style:Ue(O(hn)),onClick:P[1]||(P[1]=M=>{o.value=!0,g()}),"prepend-icon":"mdi-plus-circle"},null,8,["style"])])]),"item.actions":N(({item:M})=>[x($e,{color:"info",size:"small",text:"Edit",variant:"outlined","prepend-icon":"mdi-pencil",style:Ue(O(On)),onClick:V=>p(M)},null,8,["style","onClick"]),x($e,{class:"ml-2",color:"red",size:"small",text:"Delete",variant:"outlined","prepend-icon":"mdi-trash-can",style:Ue(O(On)),onClick:V=>v(M.id)},null,8,["style","onClick"])]),_:1},8,["style","loading","items"])]),_:1},8,["style"])]),_:1}),x(k,{modelValue:O(o),"onUpdate:modelValue":P[7]||(P[7]=M=>Ht(o)?o.value=M:null),title:"Custom Field",color:"transparent",max_width:"600"},{footer:N(()=>[x(En),x($e,{style:Ue(O(hn)),"prepend-icon":"mdi-pencil",color:"info",onClick:S},{default:N(()=>[...P[10]||(P[10]=[Je("Submit",-1)])]),_:1},8,["style"]),x(En)]),default:N(()=>[x(Fn,null,{default:N(()=>[x($Z,null,{default:N(()=>[x(_t,{modelValue:O(r).field_label,"onUpdate:modelValue":P[2]||(P[2]=M=>O(r).field_label=M),label:"Label (e.g. Buyer's First Name)",variant:"outlined",required:""},null,8,["modelValue"]),x(_t,{modelValue:O(r).field_key,"onUpdate:modelValue":P[3]||(P[3]=M=>O(r).field_key=M),label:"Unique Key (e.g. buyer_first_name)",variant:"outlined",required:""},null,8,["modelValue"]),x(mr,{modelValue:O(r).field_type,"onUpdate:modelValue":P[4]||(P[4]=M=>O(r).field_type=M),label:"Input Type",variant:"outlined",items:u,required:""},null,8,["modelValue"]),O(r).field_type=="select"?(le(),et(ut,{key:0},[x(Wy,{chips:"",multiple:"",variant:"outlined",modelValue:O(r).field_options,"onUpdate:modelValue":P[5]||(P[5]=M=>O(r).field_options=M),label:"Add your options here.."},null,8,["modelValue"]),x(O(UZ),{modelValue:O(r).field_options,"onUpdate:modelValue":P[6]||(P[6]=M=>O(r).field_options=M),"item-key":"id",class:"mt-2",handle:".drag-handle"},{item:N(({element:M,index:V})=>[x(Cr,{class:"border mb-2"},{prepend:N(()=>[x(en,{class:"drag-handle"},{default:N(()=>[...P[8]||(P[8]=[Je("mdi-drag",-1)])]),_:1})]),append:N(()=>[x(en,{onClick:U=>O(r).field_options.splice(V,1),class:"cursor-pointer"},{default:N(()=>[...P[9]||(P[9]=[Je(" mdi-close ",-1)])]),_:1},8,["onClick"])]),default:N(()=>[x(wh,null,{default:N(()=>[Je(at(M),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["modelValue"])],64)):xt("",!0)]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),n5e={class:"py-10"},r5e=rn({__name:"PropDefaults",setup(n){const t=Vt(),e=Oe(!1),{getAccessTokenSilently:r}=Er(),o=async()=>{const i=await r();e.value=!0;const a=new FormData;a.append("options",JSON.stringify(yF.value)),sn(i).post("/options/update",a).then(s=>{console.log(s.data),t.ShowSuccess("Options updated successfully")}).finally(()=>{e.value=!1})};return Kn(async()=>{const i=await r();t.FetchOptions(i)}),(i,a)=>{const s=Zk,l=pi;return le(),Re(Ao,{"model-value":0},{default:N(()=>[x(l,{class:"border",style:Ue(O(zr)),title:"Proposal Defaults",icon:"mdi-file-document-edit-outline"},{footer:N(()=>[x($e,{color:"info",class:"ma-auto",text:"Save Changes",onClick:o,style:Ue(O(hn)),loading:O(e)},null,8,["style","loading"])]),default:N(()=>[x(s,{columns:"6",offset:"3"},{default:N(()=>[H("div",n5e,[(le(!0),et(ut,null,Wr(O(yF),u=>(le(),Re(_t,{label:u.name,variant:"outlined",modelValue:u.content,"onUpdate:modelValue":c=>u.content=c},null,8,["label","modelValue","onUpdate:modelValue"]))),256))])]),_:1})]),_:1},8,["style"])]),_:1})}}}),o5e={class:"d-flex align-center pa-5 border border-opacity-25"},i5e={class:"logo-container mr-5"},a5e={class:"mt-15"},AN=rn({__name:"EditProfile",props:["edit_user"],emits:["update"],setup(n,{emit:t}){const e=Vt(),r=Oe(!1),o=Oe(!1),i=Oe(null),a=Oe(null),s=t,l=n,u=Oe({user_id:"",firstname:"",lastname:"",email:"",picture:"",new_password:"",confirm_password:"",email_signature:""}),c=ae(()=>{const y=u.value.new_password,C=u.value.confirm_password;if(!y||!C||y!==C||y.length<8)return!1;let T=0;return/[a-z]/.test(y)&&T++,/[A-Z]/.test(y)&&T++,/\d/.test(y)&&T++,/[^A-Za-z\d]/.test(y)&&T++,T>=3}),{getAccessTokenSilently:d,logout:f}=Er(),{profile:h,partner_users:p,users:v}=Lt(e),g=y=>{if(!y)return;const C=new FileReader;C.readAsDataURL(y),C.onload=()=>{u.value.picture=C.result},C.onerror=T=>{e.ShowError(T)}},_=async()=>{const y=new FormData;a.value="signature";const C=await d(),T="/users/update-email-signature";y.append("user_id",u.value.user_id),y.append("email_signature",u.value.email_signature),sn(C).post(T,y).then(()=>{e.FetchPartnerUsers(C).then(()=>{if(zx.value){const P=v4(u.value.user_id);u.value.email_signature=P.email_signature}}),e.ShowSuccess("Email signature updated successfully!")}).finally(()=>{a.value=null})},S=async y=>{var I,k;const C=new FormData,T={...u.value},P=await d(),F=y.charAt(0).toUpperCase()+y.slice(1);y=="profile"&&(delete T.new_password,delete T.confirm_password),u.value.picture==((I=h.value)==null?void 0:I.picture)?delete T.picture:(C.append("avatar",i.value),C.append("default_avatar",((k=h.value)==null?void 0:k.picture)??"")),a.value=y,C.append("profile",JSON.stringify(T)),sn(P).post("/users/update-profile",C).then(async M=>{console.log(M.data),i.value=null,await e.FetchUsers(P),await e.ShowSuccess(`${F} updated successfully!`),s("update")}).finally(()=>{a.value=null})};return Kn(async()=>{if(v.value.length<=0||p.value.length<=0){const y=await d();v.value.length<=0&&await e.FetchUsers(y),p.value.length<=0&&await e.FetchPartnerUsers(y)}lt([()=>v.value,()=>p.value,()=>l.edit_user],([y,C,T])=>{var I,k;if(!y||y.length===0)return;const P=T??y.find(M=>M.user_id==Ys.value),F=lde(P.name);if(P&&(u.value={user_id:P.user_id,firstname:((I=P.user_metadata)==null?void 0:I.first_name)??F.firstname,lastname:((k=P.user_metadata)==null?void 0:k.last_name)??F.lastname,email:P.email,picture:P.picture,new_password:"",confirm_password:"",email_signature:""},C&&C.length>0)){const M=v4(u.value.user_id);M&&(u.value.email_signature=M.email_signature)}},{immediate:!0})}),(y,C)=>{const T=Ky;return le(),Re(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(cr,{style:Ue(O(bh))},{default:N(()=>[x(Fn,null,{default:N(()=>[C[15]||(C[15]=H("strong",{class:"mb-5 d-block"},"Personal Data",-1)),H("div",o5e,[H("div",i5e,[x(Gu,{width:"165",height:"165",class:"rounded",src:O(u).picture},null,8,["src"])]),H("div",null,[C[13]||(C[13]=H("p",null,"Your Profile Image",-1)),C[14]||(C[14]=H("p",null,"The proposed size is 512 512 no bigger than 2MB",-1)),x(FT,{"hide-details":"",class:"mt-5",density:"compact",variant:"outlined",modelValue:O(i),"onUpdate:modelValue":[C[0]||(C[0]=P=>Ht(i)?i.value=P:null),g],label:"Click to upload"},null,8,["modelValue"])])]),H("div",a5e,[x(_t,{modelValue:O(u).firstname,"onUpdate:modelValue":C[1]||(C[1]=P=>O(u).firstname=P),density:"comfortable",variant:"outlined",label:"First name"},null,8,["modelValue"]),x(_t,{modelValue:O(u).lastname,"onUpdate:modelValue":C[2]||(C[2]=P=>O(u).lastname=P),density:"comfortable",variant:"outlined",label:"Last name"},null,8,["modelValue"]),x(_t,{modelValue:O(u).email,"onUpdate:modelValue":C[3]||(C[3]=P=>O(u).email=P),density:"comfortable",variant:"outlined",label:"Email"},null,8,["modelValue"])])]),_:1}),x(Fn,{class:"border-t"},{default:N(()=>[x($e,{text:"Update Profile",style:Ue(O(hn)),class:"ma-auto d-flex",onClick:C[4]||(C[4]=P=>S("profile")),loading:O(a)=="profile"},null,8,["style","loading"])]),_:1})]),_:1},8,["style"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(cr,{style:Ue(O(bh))},{default:N(()=>[x(Fn,null,{default:N(()=>[C[20]||(C[20]=H("strong",{class:"mb-5 d-block"},"Change Password",-1)),x(_t,{variant:"outlined",label:"New Password",density:"comfortable",modelValue:O(u).new_password,"onUpdate:modelValue":C[7]||(C[7]=P=>O(u).new_password=P),type:O(r)?"text":"password"},{"append-inner":N(()=>[O(r)?Qn((le(),Re(en,{key:0,onClick:C[5]||(C[5]=P=>r.value=!1)},{default:N(()=>[...C[16]||(C[16]=[Je("mdi-eye-closed",-1)])]),_:1})),[[Oo,"Hide Password"]]):Qn((le(),Re(en,{key:1,onClick:C[6]||(C[6]=P=>r.value=!0)},{default:N(()=>[...C[17]||(C[17]=[Je("mdi-eye",-1)])]),_:1})),[[Oo,"Show Password"]])]),_:1},8,["modelValue","type"]),x(_t,{"hide-details":"",variant:"outlined",density:"comfortable",label:"Confirm Password",modelValue:O(u).confirm_password,"onUpdate:modelValue":C[10]||(C[10]=P=>O(u).confirm_password=P),type:O(o)?"text":"password"},{"append-inner":N(()=>[O(o)?Qn((le(),Re(en,{key:0,onClick:C[8]||(C[8]=P=>o.value=!1)},{default:N(()=>[...C[18]||(C[18]=[Je("mdi-eye-closed",-1)])]),_:1})),[[Oo,"Hide Password"]]):Qn((le(),Re(en,{key:1,onClick:C[9]||(C[9]=P=>o.value=!0)},{default:N(()=>[...C[19]||(C[19]=[Je("mdi-eye",-1)])]),_:1})),[[Oo,"Show Password"]])]),_:1},8,["modelValue","type"])]),_:1}),x(Fn,{class:"border-t"},{default:N(()=>[x($e,{text:"Update Password",style:Ue(O(hn)),class:"ma-auto d-flex",disabled:!O(c),onClick:C[11]||(C[11]=P=>S("password")),loading:O(a)=="password"},null,8,["style","disabled","loading"])]),_:1})]),_:1},8,["style"]),x(cr,{style:Ue(O(bh)),class:"mt-5"},{default:N(()=>[x(Fn,null,{default:N(()=>[C[21]||(C[21]=H("strong",{class:"mb-5 d-block"},"Email Signature",-1)),x(T,{height:"120px",modelValue:O(u).email_signature,"onUpdate:modelValue":C[12]||(C[12]=P=>O(u).email_signature=P)},null,8,["modelValue"])]),_:1}),x(Fn,{class:"border-t"},{default:N(()=>[x($e,{text:"Update Signature",style:Ue(O(hn)),onClick:_,class:"ma-auto d-flex",loading:O(a)=="signature"},null,8,["style","loading"])]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})}}}),KZ=rn({__name:"NewUserModals",props:["is_owner"],setup(n){const t=Vt(),e=Oe(!1),r=Oe(!1),o=ae(()=>n.is_owner?["Admin","Manager","User"]:["Manager","User"]),{getAccessTokenSilently:i}=Er(),a=Oe({user_id:"",firstname:"",lastname:"",username:"",password:"",role:"User"}),{new_user_modal:s,user_added_modal:l}=Lt(t),u=()=>{l.value=!1,a.value={user_id:"",firstname:"",lastname:"",username:"",password:"",role:"User"}},c=async()=>{const h=await i(),p=new FormData;e.value=!0,p.append("partner_id",vr.value),p.append("form",JSON.stringify(a.value)),sn(h).post("/users/store",p).then(v=>{t.FetchUsers(h),t.FetchPartnerUsers(h),t.ShowSuccess(v.data.message),s.value=!1,l.value=!0}).finally(()=>{e.value=!1})},d=async()=>{a.value.username&&(await navigator.clipboard.writeText(a.value.username),t.ShowSuccess("Username copied"))},f=async()=>{a.value.password&&(await navigator.clipboard.writeText(a.value.password),t.ShowSuccess("Password copied"))};return Kn(()=>u()),(h,p)=>{const v=qi;return le(),et(ut,null,[x(v,{modelValue:O(s),"onUpdate:modelValue":p[7]||(p[7]=g=>Ht(s)?s.value=g:null),max_width:"500",title:"Add a user",color:"transparent"},{footer:N(()=>[x($e,{text:"Submit",onClick:c,loading:O(e),style:Ue(O(hn)),"append-icon":"mdi-play"},null,8,["loading","style"])]),default:N(()=>[x(mr,{label:"Role","item-value":"id","item-title":"name",variant:"outlined",items:O(o),modelValue:O(a).role,"onUpdate:modelValue":p[0]||(p[0]=g=>O(a).role=g)},null,8,["items","modelValue"]),x(Xn,null,{default:N(()=>[x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{variant:"outlined",modelValue:O(a).firstname,"onUpdate:modelValue":p[1]||(p[1]=g=>O(a).firstname=g),label:"First name"},null,8,["modelValue"])]),_:1}),x(wt,{cols:"12",lg:"6",md:"6",sm:"12"},{default:N(()=>[x(_t,{variant:"outlined",modelValue:O(a).lastname,"onUpdate:modelValue":p[2]||(p[2]=g=>O(a).lastname=g),label:"Last name"},null,8,["modelValue"])]),_:1})]),_:1}),x(_t,{variant:"outlined",modelValue:O(a).username,"onUpdate:modelValue":p[3]||(p[3]=g=>O(a).username=g),label:"Username/Email",type:"email"},null,8,["modelValue"]),x(_t,{variant:"outlined",modelValue:O(a).password,"onUpdate:modelValue":p[6]||(p[6]=g=>O(a).password=g),label:"Password",type:O(r)?"password":"text"},{"append-inner":N(()=>[O(r)?(le(),Re(en,{key:0,onClick:p[4]||(p[4]=g=>r.value=!O(r)),icon:"mdi-eye-circle-outline"})):(le(),Re(en,{key:1,onClick:p[5]||(p[5]=g=>r.value=!O(r)),icon:"mdi-eye-closed"}))]),_:1},8,["modelValue","type"])]),_:1},8,["modelValue"]),x(v,{modelValue:O(l),"onUpdate:modelValue":p[10]||(p[10]=g=>Ht(l)?l.value=g:null),max_width:"500",title:"User successfully added!",color:"transparent"},{footer:N(()=>[x($e,{style:Ue(O(hn)),onClick:u,text:"Done"},null,8,["style"])]),default:N(()=>[x(_t,{readonly:"",variant:"outlined",modelValue:O(a).username,"onUpdate:modelValue":p[8]||(p[8]=g=>O(a).username=g),label:"Username/Email",type:"email"},{"append-inner":N(()=>[x(en,{onClick:d,icon:"mdi-content-copy"})]),_:1},8,["modelValue"]),x(_t,{readonly:"",variant:"outlined",modelValue:O(a).password,"onUpdate:modelValue":p[9]||(p[9]=g=>O(a).password=g),label:"Password",type:"password"},{"append-inner":N(()=>[x(en,{onClick:f,icon:"mdi-content-copy"})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])],64)}}}),s5e={class:"d-flex align-center text-left"},l5e=["src"],u5e={class:"ml-3"},c5e={key:0},d5e={__name:"UsersSettings",setup(n){const t=Vt(),e=Oe(null),r=Oe(!1),o=Oe(!1),i=Oe({}),a=[{title:"Name",sortable:!0,value:"name"},{title:"Email",sortable:!0,value:"email"},{title:"Role",sortable:!1,value:"role"},{title:"Active",sortable:!1,value:"blocked"},{title:"Manage",sortable:!1,value:"Manage"}],{getAccessTokenSilently:s}=Er(),{FetchUsers:l,FetchPartners:u,FetchPartnerUsers:c}=t,{users:d,partner_users:f,new_user_modal:h}=Lt(t),p=async S=>{e.value=d.value.find(y=>y.user_id===S),r.value=!0},v=async S=>{const y=await s(),C=new FormData;o.value=!0,C.append("user_id",S.user_id),C.append("block_value",S.blocked?0:1),sn(y).post("/users/toggle-status",C).then(T=>{o.value=!1,t.ShowSuccess("User status updated."),_(),console.log(T.data)})},g=()=>{i.value={},d.value.forEach(S=>{const y=f.value.find(C=>C.user_id===S.user_id);y&&(i.value[S.user_id]=Number(y.partner_id))})},_=async()=>{o.value=!0;const S=await s();await l(S),await u(S),await c(S),o.value=!1,g()};return lt(()=>d.value,()=>{g()},{immediate:!0}),(S,y)=>{const C=KZ,T=AN,P=qi,F=pi;return le(),Re(Ao,{"model-value":0,class:"pb-10"},{default:N(()=>[x(F,{icon:"mdi-account-multiple",class:"border",title:"User Accounts"},{default:N(()=>[x(hi,{loading:O(o),style:Ue(O(zr)),items:O(ode),headers:a,class:"elevation-1 border"},{top:N(()=>[x(Fn,{class:"d-flex border-b"},{default:N(()=>[x($e,{"prepend-icon":"mdi-refresh",class:"mr-4",loading:O(o),style:Ue(O(hn)),text:"Refresh",onClick:_},null,8,["loading","style"]),x($e,{"prepend-icon":"mdi-plus-circle",disabled:O(o),style:Ue(O(hn)),text:"Add a user",onClick:y[0]||(y[0]=I=>h.value=!0)},null,8,["disabled","style"])]),_:1})]),item:N(({item:I})=>[H("tr",null,[H("td",null,[H("div",s5e,[H("img",{width:"30",height:"30",class:"rounded-circle",src:I.picture,alt:""},null,8,l5e),H("div",u5e,[Je(at(I.name)+" ",1),O(Yx)(I.user_id)?(le(),et("span",c5e,"(You)")):xt("",!0)])])]),H("td",null,at(I.email),1),H("td",null,at(I.role),1),H("td",null,[x(Sl,{disabled:O(o)||O(Yx)(I.user_id),"onUpdate:modelValue":k=>v(I),"model-value":!I.blocked,loading:O(o),density:"compact",color:"green","hide-details":"",inset:""},null,8,["disabled","onUpdate:modelValue","model-value","loading"])]),H("td",null,[x($e,{text:"Edit",class:"mr-1",size:"small",color:"primary",variant:"outlined",disabled:O(o),"prepend-icon":"mdi-pencil",onClick:k=>p(I.user_id)},null,8,["disabled","onClick"])])])]),_:1},8,["loading","style","items"]),x(C,{is_owner:!1}),x(P,{title:"Edit Profile",modelValue:O(r),"onUpdate:modelValue":y[1]||(y[1]=I=>Ht(r)?r.value=I:null)},{default:N(()=>[x(T,{edit_user:O(e)},null,8,["edit_user"])]),_:1},8,["modelValue"])]),_:1})]),_:1})}}},f5e=rn({__name:"[settings]",setup(n){const t=Vt(),e=Oe(null),{partner_form:r}=Lt(t),{getAccessTokenSilently:o}=Er(),i=async()=>{const a=await o();t.SubmitPartnerForm(a,Ys.value)};return Kn(()=>{lt(()=>Pm.value,a=>{r.value={...a}},{immediate:!0})}),(a,s)=>{const l=AN,u=wJ,c=pJ,d=mJ,f=d5e,h=r5e,p=t5e,v=q$e,g=du;return le(),Re(g,null,{title:N(()=>[...s[2]||(s[2]=[Je("Settings",-1)])]),content:N(()=>[x(Xy,{modelValue:O(e),"onUpdate:modelValue":s[0]||(s[0]=_=>Ht(e)?e.value=_:null),dark:"",height:"48"},{default:N(()=>[x(xi,{value:"profile",text:"My Profile",to:"/settings/profile","prepend-icon":"mdi-account-circle-outline"}),x(xi,{value:"business",text:"Business Profile",to:"/settings/business","prepend-icon":"mdi-briefcase"}),O(JW)||O(Xx)?(le(),Re(xi,{key:0,value:"users",text:"User Accounts",to:"/settings/users","prepend-icon":"mdi-account-multiple"})):xt("",!0),x(xi,{value:"proposal",text:"Proposal Settings",to:"/settings/proposal","prepend-icon":"mdi-file-document-edit"}),x(xi,{value:"custom-fields",text:"Custom Fields",to:"/settings/custom-fields","prepend-icon":"mdi-form-textbox"}),x(xi,{value:"addons",text:"Addons",to:"/settings/addons","prepend-icon":"mdi-puzzle"})]),_:1},8,["modelValue"]),x(r_,{modelValue:O(e),"onUpdate:modelValue":s[1]||(s[1]=_=>Ht(e)?e.value=_:null),class:"mt-4"},{default:N(()=>[x(js,{value:"profile"},{default:N(()=>[x(cr,{flat:""},{default:N(()=>[x(l)]),_:1})]),_:1}),x(js,{value:"business"},{default:N(()=>[x(cr,{flat:""},{default:N(()=>[x(u,{onSubmit:i,is_modal:!1}),x(c,{onSubmit:i,is_modal:!1}),x(d,{onSubmit:i,is_modal:!1,class:"mt-4"})]),_:1})]),_:1}),x(js,{value:"users"},{default:N(()=>[x(cr,{flat:""},{default:N(()=>[x(f)]),_:1})]),_:1}),x(js,{value:"proposal"},{default:N(()=>[x(cr,{flat:"",class:"pb-15"},{default:N(()=>[x(h)]),_:1})]),_:1}),x(js,{value:"custom-fields"},{default:N(()=>[x(cr,{flat:"",class:"pb-15"},{default:N(()=>[x(p)]),_:1})]),_:1}),x(js,{value:"addons"},{default:N(()=>[x(cr,{flat:"",class:"pb-15"},{default:N(()=>[x(v)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}}),A5e=Object.freeze(Object.defineProperty({__proto__:null,default:f5e},Symbol.toStringTag,{value:"Module"})),h5e={class:"d-flex align-center mb-4"},p5e={class:"pa-2"},m5e=rn({__name:"index",setup(n){const t=Vt(),e=Oe(""),r=Oe(!1),o=Oe([{sortable:!0,title:"ID",value:"id"},{sortable:!0,title:"Preview",value:"preview"},{sortable:!0,title:"Name",value:"name"},{sortable:!0,title:"Created at",value:"created_at"},{sortable:!0,title:"Is Default",value:"is_default"},{sortable:!0,title:"Manage",value:"manage"}]),{getAccessTokenSilently:i}=Er(),{partner_users:a}=Lt(t),s=async p=>{const v=await i();await t.InputDialog("Confirm Action",'Type "DELETE" to confirm your action.',"")=="DELETE"&&sn(v).post(`/templates/destroy/${p}`).then(()=>{t.ShowSuccess("Template deleted successfully!"),t.FetchTemplates(v)})},l=async p=>{const v=await i();sn(v).post(`/templates/duplicate/${p}`).then(g=>{console.log(g.data),t.ShowSuccess("Template duplicated successfully!"),t.FetchTemplates(v)})},u=p=>p.is_default==1,c=async p=>{const v=await i(),g=new FormData;r.value=!0,g.append("partner_id",vr.value),g.append("template_id",p.id),sn(v).post("/templates/toggle-default",g).then(_=>{console.log(_.data),t.ShowSuccess("Template default updated successfully!"),t.FetchTemplates(v),r.value=!1})},d=p=>`background-image: url(${p.thumbnail??"https://placehold.co/190x250?text=No%20Preview"})`,f=async()=>{const p=await i();await t.FetchTemplates(p,!0)},h=ae(()=>{if(e.value==="")return Tw.value;const p=e.value.toLowerCase();return Tw.value.filter(v=>v.name.toLowerCase().includes(p)||v.id.toString().includes(p))});return lt(a,async()=>{await f()},{immediate:!0}),(p,v)=>{const g=cv,_=LZ,S=du;return le(),Re(S,null,{title:N(()=>[...v[1]||(v[1]=[Je("Templates",-1)])]),content:N(()=>[H("div",h5e,[x(g,{modelValue:O(e),"onUpdate:modelValue":v[0]||(v[0]=y=>Ht(e)?e.value=y:null)},null,8,["modelValue"]),x(En),x($e,{color:"info",text:"Refresh",onClick:f,class:"mr-3",style:Ue(O(hn)),"prepend-icon":"mdi-refresh"},null,8,["style"]),x($e,{color:"info",text:"New Template",href:"/templates/build",style:Ue(O(hn)),"prepend-icon":"mdi-plus-circle"},null,8,["style"])]),x(hi,{class:"border",style:Ue(O(zr)),loading:O(r),items:O(h),headers:O(o)},{item:N(({item:y})=>[H("tr",null,[H("td",null,at(y.id),1),H("td",p5e,[H("div",{class:"thumbnail",style:Ue(d(y))},null,4)]),H("td",null,at(y.name),1),H("td",null,at(y.created_at),1),H("td",null,[x(Sl,{"onUpdate:modelValue":C=>c(y),"base-color":u(y)?"green":"","model-value":u(y),disabled:u(y),density:"compact",color:"green","hide-details":"",inset:""},null,8,["onUpdate:modelValue","base-color","model-value","disabled"])]),H("td",null,[x(_,{style:Ue(O(On)),variant:"outlined",icon:"mdi-pencil",href:`/templates/edit/${y.id}`,class:"mr-2",label:"Edit"},null,8,["style","href"]),x(_,{style:Ue(O(On)),variant:"outlined",icon:"mdi-content-copy",onClick:C=>l(y.id),class:"mr-2",label:"Duplicate"},null,8,["style","onClick"]),x(_,{style:Ue(O(On)),variant:"outlined",icon:"mdi-trash-can",onClick:C=>s(y.id),label:"Delete",color:"red",disabled:u(y)},null,8,["style","onClick","disabled"])])])]),_:1},8,["style","loading","items","headers"])]),_:1})}}}),v5e=Object.freeze(Object.defineProperty({__proto__:null,default:m5e},Symbol.toStringTag,{value:"Module"}));/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AU=function(n,t){return AU=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},AU(n,t)};function $c(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");AU(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var hU=function(){return hU=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},hU.apply(this,arguments)};function Us(n,t,e,r){function o(i){return i instanceof e?i:new e(function(a){a(i)})}return new(e||(e=Promise))(function(i,a){function s(c){try{u(r.next(c))}catch(d){a(d)}}function l(c){try{u(r.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):o(c.value).then(s,l)}u((r=r.apply(n,[])).next())})}function Ga(n,t){var e={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,o=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(i=e.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){e=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){e.label=u[1];break}if(u[0]===6&&e.label<i[1]){e.label=i[1],i=u;break}if(i&&e.label<i[2]){e.label=i[2],e.ops.push(u);break}i[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(c){u=[6,c],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function oS(n,t,e){if(arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return n.concat(i||t)}var lA=(function(){function n(t,e,r,o){this.left=t,this.top=e,this.width=r,this.height=o}return n.prototype.add=function(t,e,r,o){return new n(this.left+t,this.top+e,this.width+r,this.height+o)},n.fromClientRect=function(t,e){return new n(e.left+t.windowBounds.left,e.top+t.windowBounds.top,e.width,e.height)},n.fromDOMRectList=function(t,e){var r=Array.from(e).find(function(o){return o.width!==0});return r?new n(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),oO=function(n,t){return lA.fromClientRect(n,t.getBoundingClientRect())},g5e=function(n){var t=n.body,e=n.documentElement;if(!t||!e)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,e.scrollWidth),Math.max(t.offsetWidth,e.offsetWidth),Math.max(t.clientWidth,e.clientWidth)),o=Math.max(Math.max(t.scrollHeight,e.scrollHeight),Math.max(t.offsetHeight,e.offsetHeight),Math.max(t.clientHeight,e.clientHeight));return new lA(0,0,r,o)},iO=function(n){for(var t=[],e=0,r=n.length;e<r;){var o=n.charCodeAt(e++);if(o>=55296&&o<=56319&&e<r){var i=n.charCodeAt(e++);(i&64512)===56320?t.push(((o&1023)<<10)+(i&1023)+65536):(t.push(o),e--)}else t.push(o)}return t},Ci=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var e=n.length;if(!e)return"";for(var r=[],o=-1,i="";++o<e;){var a=n[o];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(o+1===e||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},O$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y5e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var iS=0;iS<O$.length;iS++)y5e[O$.charCodeAt(iS)]=iS;var P$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var aS=0;aS<P$.length;aS++)gb[P$.charCodeAt(aS)]=aS;var b5e=function(n){var t=n.length*.75,e=n.length,r,o=0,i,a,s,l;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),c=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<e;r+=4)i=gb[n.charCodeAt(r)],a=gb[n.charCodeAt(r+1)],s=gb[n.charCodeAt(r+2)],l=gb[n.charCodeAt(r+3)],c[o++]=i<<2|a>>4,c[o++]=(a&15)<<4|s>>2,c[o++]=(s&3)<<6|l&63;return u},w5e=function(n){for(var t=n.length,e=[],r=0;r<t;r+=2)e.push(n[r+1]<<8|n[r]);return e},_5e=function(n){for(var t=n.length,e=[],r=0;r<t;r+=4)e.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return e},Sm=5,hN=11,tM=2,C5e=hN-Sm,WZ=65536>>Sm,S5e=1<<Sm,nM=S5e-1,x5e=1024>>Sm,E5e=WZ+x5e,B5e=E5e,k5e=32,T5e=B5e+k5e,O5e=65536>>hN,P5e=1<<C5e,I5e=P5e-1,I$=function(n,t,e){return n.slice?n.slice(t,e):new Uint16Array(Array.prototype.slice.call(n,t,e))},M5e=function(n,t,e){return n.slice?n.slice(t,e):new Uint32Array(Array.prototype.slice.call(n,t,e))},F5e=function(n,t){var e=b5e(n),r=Array.isArray(e)?_5e(e):new Uint32Array(e),o=Array.isArray(e)?w5e(e):new Uint16Array(e),i=24,a=I$(o,i/2,r[4]/2),s=r[5]===2?I$(o,(i+r[4])/2):M5e(r,Math.ceil((i+r[4])/4));return new D5e(r[0],r[1],r[2],r[3],a,s)},D5e=(function(){function n(t,e,r,o,i,a){this.initialValue=t,this.errorValue=e,this.highStart=r,this.highValueIndex=o,this.index=i,this.data=a}return n.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>Sm],e=(e<<tM)+(t&nM),this.data[e];if(t<=65535)return e=this.index[WZ+(t-55296>>Sm)],e=(e<<tM)+(t&nM),this.data[e];if(t<this.highStart)return e=T5e-O5e+(t>>hN),e=this.index[e],e+=t>>Sm&I5e,e=this.index[e],e=(e<<tM)+(t&nM),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),M$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U5e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sS=0;sS<M$.length;sS++)U5e[M$.charCodeAt(sS)]=sS;var L5e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",F$=50,V5e=1,zZ=2,GZ=3,N5e=4,R5e=5,D$=7,YZ=8,U$=9,ph=10,pU=11,L$=12,mU=13,H5e=14,yb=15,vU=16,lS=17,Z0=18,Q5e=19,V$=20,gU=21,q0=22,rM=23,tg=24,zl=25,bb=26,wb=27,ng=28,j5e=29,Rp=30,$5e=31,uS=32,cS=33,yU=34,bU=35,wU=36,v_=37,_U=38,Ax=39,hx=40,oM=41,XZ=42,K5e=43,W5e=[9001,65288],JZ="!",_r="",dS="",CU=F5e(L5e),wf=[Rp,wU],SU=[V5e,zZ,GZ,R5e],ZZ=[ph,YZ],N$=[wb,bb],z5e=SU.concat(ZZ),R$=[_U,Ax,hx,yU,bU],G5e=[yb,mU],Y5e=function(n,t){t===void 0&&(t="strict");var e=[],r=[],o=[];return n.forEach(function(i,a){var s=CU.get(i);if(s>F$?(o.push(!0),s-=F$):o.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(a),e.push(vU);if(s===N5e||s===pU){if(a===0)return r.push(a),e.push(Rp);var l=e[a-1];return z5e.indexOf(l)===-1?(r.push(r[a-1]),e.push(l)):(r.push(a),e.push(Rp))}if(r.push(a),s===$5e)return e.push(t==="strict"?gU:v_);if(s===XZ||s===j5e)return e.push(Rp);if(s===K5e)return i>=131072&&i<=196605||i>=196608&&i<=262141?e.push(v_):e.push(Rp);e.push(s)}),[r,e,o]},iM=function(n,t,e,r){var o=r[e];if(Array.isArray(n)?n.indexOf(o)!==-1:n===o)for(var i=e;i<=r.length;){i++;var a=r[i];if(a===t)return!0;if(a!==ph)break}if(o===ph)for(var i=e;i>0;){i--;var s=r[i];if(Array.isArray(n)?n.indexOf(s)!==-1:n===s)for(var l=e;l<=r.length;){l++;var a=r[l];if(a===t)return!0;if(a!==ph)break}if(s!==ph)break}return!1},H$=function(n,t){for(var e=n;e>=0;){var r=t[e];if(r===ph)e--;else return r}return 0},X5e=function(n,t,e,r,o){if(e[r]===0)return _r;var i=r-1;if(Array.isArray(o)&&o[i]===!0)return _r;var a=i-1,s=i+1,l=t[i],u=a>=0?t[a]:0,c=t[s];if(l===zZ&&c===GZ)return _r;if(SU.indexOf(l)!==-1)return JZ;if(SU.indexOf(c)!==-1||ZZ.indexOf(c)!==-1)return _r;if(H$(i,t)===YZ)return dS;if(CU.get(n[i])===pU||(l===uS||l===cS)&&CU.get(n[s])===pU||l===D$||c===D$||l===U$||[ph,mU,yb].indexOf(l)===-1&&c===U$||[lS,Z0,Q5e,tg,ng].indexOf(c)!==-1||H$(i,t)===q0||iM(rM,q0,i,t)||iM([lS,Z0],gU,i,t)||iM(L$,L$,i,t))return _r;if(l===ph)return dS;if(l===rM||c===rM)return _r;if(c===vU||l===vU)return dS;if([mU,yb,gU].indexOf(c)!==-1||l===H5e||u===wU&&G5e.indexOf(l)!==-1||l===ng&&c===wU||c===V$||wf.indexOf(c)!==-1&&l===zl||wf.indexOf(l)!==-1&&c===zl||l===wb&&[v_,uS,cS].indexOf(c)!==-1||[v_,uS,cS].indexOf(l)!==-1&&c===bb||wf.indexOf(l)!==-1&&N$.indexOf(c)!==-1||N$.indexOf(l)!==-1&&wf.indexOf(c)!==-1||[wb,bb].indexOf(l)!==-1&&(c===zl||[q0,yb].indexOf(c)!==-1&&t[s+1]===zl)||[q0,yb].indexOf(l)!==-1&&c===zl||l===zl&&[zl,ng,tg].indexOf(c)!==-1)return _r;if([zl,ng,tg,lS,Z0].indexOf(c)!==-1)for(var d=i;d>=0;){var f=t[d];if(f===zl)return _r;if([ng,tg].indexOf(f)!==-1)d--;else break}if([wb,bb].indexOf(c)!==-1)for(var d=[lS,Z0].indexOf(l)!==-1?a:i;d>=0;){var f=t[d];if(f===zl)return _r;if([ng,tg].indexOf(f)!==-1)d--;else break}if(_U===l&&[_U,Ax,yU,bU].indexOf(c)!==-1||[Ax,yU].indexOf(l)!==-1&&[Ax,hx].indexOf(c)!==-1||[hx,bU].indexOf(l)!==-1&&c===hx||R$.indexOf(l)!==-1&&[V$,bb].indexOf(c)!==-1||R$.indexOf(c)!==-1&&l===wb||wf.indexOf(l)!==-1&&wf.indexOf(c)!==-1||l===tg&&wf.indexOf(c)!==-1||wf.concat(zl).indexOf(l)!==-1&&c===q0&&W5e.indexOf(n[s])===-1||wf.concat(zl).indexOf(c)!==-1&&l===Z0)return _r;if(l===oM&&c===oM){for(var h=e[i],p=1;h>0&&(h--,t[h]===oM);)p++;if(p%2!==0)return _r}return l===uS&&c===cS?_r:dS},J5e=function(n,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var e=Y5e(n,t.lineBreak),r=e[0],o=e[1],i=e[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(o=o.map(function(s){return[zl,Rp,XZ].indexOf(s)!==-1?v_:s}));var a=t.wordBreak==="keep-all"?i.map(function(s,l){return s&&n[l]>=19968&&n[l]<=40959}):void 0;return[r,o,a]},Z5e=(function(){function n(t,e,r,o){this.codePoints=t,this.required=e===JZ,this.start=r,this.end=o}return n.prototype.slice=function(){return Ci.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),q5e=function(n,t){var e=iO(n),r=J5e(e,t),o=r[0],i=r[1],a=r[2],s=e.length,l=0,u=0;return{next:function(){if(u>=s)return{done:!0,value:null};for(var c=_r;u<s&&(c=X5e(e,i,o,++u,a))===_r;);if(c!==_r||u===s){var d=new Z5e(e,c,l,u);return l=u,{value:d,done:!1}}return{done:!0,value:null}}}},e8e=1,t8e=2,fC=4,Q$=8,YB=10,j$=47,nw=92,n8e=9,r8e=32,fS=34,eb=61,o8e=35,i8e=36,a8e=37,AS=39,hS=40,tb=41,s8e=95,_l=45,l8e=33,u8e=60,c8e=62,d8e=64,f8e=91,A8e=93,h8e=61,p8e=123,pS=63,m8e=125,$$=124,v8e=126,g8e=128,K$=65533,aM=42,em=43,y8e=44,b8e=58,w8e=59,g_=46,_8e=0,C8e=8,S8e=11,x8e=14,E8e=31,B8e=127,dd=-1,qZ=48,eq=97,tq=101,k8e=102,T8e=117,O8e=122,nq=65,rq=69,oq=70,P8e=85,I8e=90,qa=function(n){return n>=qZ&&n<=57},M8e=function(n){return n>=55296&&n<=57343},rg=function(n){return qa(n)||n>=nq&&n<=oq||n>=eq&&n<=k8e},F8e=function(n){return n>=eq&&n<=O8e},D8e=function(n){return n>=nq&&n<=I8e},U8e=function(n){return F8e(n)||D8e(n)},L8e=function(n){return n>=g8e},mS=function(n){return n===YB||n===n8e||n===r8e},XB=function(n){return U8e(n)||L8e(n)||n===s8e},W$=function(n){return XB(n)||qa(n)||n===_l},V8e=function(n){return n>=_8e&&n<=C8e||n===S8e||n>=x8e&&n<=E8e||n===B8e},nh=function(n,t){return n!==nw?!1:t!==YB},vS=function(n,t,e){return n===_l?XB(t)||nh(t,e):XB(n)?!0:!!(n===nw&&nh(n,t))},sM=function(n,t,e){return n===em||n===_l?qa(t)?!0:t===g_&&qa(e):qa(n===g_?t:n)},N8e=function(n){var t=0,e=1;(n[t]===em||n[t]===_l)&&(n[t]===_l&&(e=-1),t++);for(var r=[];qa(n[t]);)r.push(n[t++]);var o=r.length?parseInt(Ci.apply(void 0,r),10):0;n[t]===g_&&t++;for(var i=[];qa(n[t]);)i.push(n[t++]);var a=i.length,s=a?parseInt(Ci.apply(void 0,i),10):0;(n[t]===rq||n[t]===tq)&&t++;var l=1;(n[t]===em||n[t]===_l)&&(n[t]===_l&&(l=-1),t++);for(var u=[];qa(n[t]);)u.push(n[t++]);var c=u.length?parseInt(Ci.apply(void 0,u),10):0;return e*(o+s*Math.pow(10,-a))*Math.pow(10,l*c)},R8e={type:2},H8e={type:3},Q8e={type:4},j8e={type:13},$8e={type:8},K8e={type:21},W8e={type:9},z8e={type:10},G8e={type:11},Y8e={type:12},X8e={type:14},gS={type:23},J8e={type:1},Z8e={type:25},q8e={type:24},e6e={type:26},t6e={type:27},n6e={type:28},r6e={type:29},o6e={type:31},xU={type:32},iq=(function(){function n(){this._value=[]}return n.prototype.write=function(t){this._value=this._value.concat(iO(t))},n.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==xU;)t.push(e),e=this.consumeToken();return t},n.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case fS:return this.consumeStringToken(fS);case o8e:var e=this.peekCodePoint(0),r=this.peekCodePoint(1),o=this.peekCodePoint(2);if(W$(e)||nh(r,o)){var i=vS(e,r,o)?t8e:e8e,a=this.consumeName();return{type:5,value:a,flags:i}}break;case i8e:if(this.peekCodePoint(0)===eb)return this.consumeCodePoint(),j8e;break;case AS:return this.consumeStringToken(AS);case hS:return R8e;case tb:return H8e;case aM:if(this.peekCodePoint(0)===eb)return this.consumeCodePoint(),X8e;break;case em:if(sM(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case y8e:return Q8e;case _l:var s=t,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(sM(s,l,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(vS(s,l,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(l===_l&&u===c8e)return this.consumeCodePoint(),this.consumeCodePoint(),q8e;break;case g_:if(sM(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case j$:if(this.peekCodePoint(0)===aM)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===aM&&(c=this.consumeCodePoint(),c===j$))return this.consumeToken();if(c===dd)return this.consumeToken()}break;case b8e:return e6e;case w8e:return t6e;case u8e:if(this.peekCodePoint(0)===l8e&&this.peekCodePoint(1)===_l&&this.peekCodePoint(2)===_l)return this.consumeCodePoint(),this.consumeCodePoint(),Z8e;break;case d8e:var d=this.peekCodePoint(0),f=this.peekCodePoint(1),h=this.peekCodePoint(2);if(vS(d,f,h)){var a=this.consumeName();return{type:7,value:a}}break;case f8e:return n6e;case nw:if(nh(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case A8e:return r6e;case h8e:if(this.peekCodePoint(0)===eb)return this.consumeCodePoint(),$8e;break;case p8e:return G8e;case m8e:return Y8e;case T8e:case P8e:var p=this.peekCodePoint(0),v=this.peekCodePoint(1);return p===em&&(rg(v)||v===pS)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case $$:if(this.peekCodePoint(0)===eb)return this.consumeCodePoint(),W8e;if(this.peekCodePoint(0)===$$)return this.consumeCodePoint(),K8e;break;case v8e:if(this.peekCodePoint(0)===eb)return this.consumeCodePoint(),z8e;break;case dd:return xU}return mS(t)?(this.consumeWhiteSpace(),o6e):qa(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):XB(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Ci(t)}},n.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},n.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},n.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},n.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();rg(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var r=!1;e===pS&&t.length<6;)t.push(e),e=this.consumeCodePoint(),r=!0;if(r){var o=parseInt(Ci.apply(void 0,t.map(function(l){return l===pS?qZ:l})),16),i=parseInt(Ci.apply(void 0,t.map(function(l){return l===pS?oq:l})),16);return{type:30,start:o,end:i}}var a=parseInt(Ci.apply(void 0,t),16);if(this.peekCodePoint(0)===_l&&rg(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var s=[];rg(e)&&s.length<6;)s.push(e),e=this.consumeCodePoint();var i=parseInt(Ci.apply(void 0,s),16);return{type:30,start:a,end:i}}else return{type:30,start:a,end:a}},n.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===hS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===hS?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},n.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===dd)return{type:22,value:""};var e=this.peekCodePoint(0);if(e===AS||e===fS){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===dd||this.peekCodePoint(0)===tb)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),gS)}for(;;){var o=this.consumeCodePoint();if(o===dd||o===tb)return{type:22,value:Ci.apply(void 0,t)};if(mS(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===dd||this.peekCodePoint(0)===tb?(this.consumeCodePoint(),{type:22,value:Ci.apply(void 0,t)}):(this.consumeBadUrlRemnants(),gS);if(o===fS||o===AS||o===hS||V8e(o))return this.consumeBadUrlRemnants(),gS;if(o===nw)if(nh(o,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),gS;else t.push(o)}},n.prototype.consumeWhiteSpace=function(){for(;mS(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===tb||t===dd)return;nh(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(t){for(var e=5e4,r="";t>0;){var o=Math.min(e,t);r+=Ci.apply(void 0,this._value.splice(0,o)),t-=o}return this._value.shift(),r},n.prototype.consumeStringToken=function(t){var e="",r=0;do{var o=this._value[r];if(o===dd||o===void 0||o===t)return e+=this.consumeStringSlice(r),{type:0,value:e};if(o===YB)return this._value.splice(0,r),J8e;if(o===nw){var i=this._value[r+1];i!==dd&&i!==void 0&&(i===YB?(e+=this.consumeStringSlice(r),r=-1,this._value.shift()):nh(o,i)&&(e+=this.consumeStringSlice(r),e+=Ci(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},n.prototype.consumeNumber=function(){var t=[],e=fC,r=this.peekCodePoint(0);for((r===em||r===_l)&&t.push(this.consumeCodePoint());qa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(r===g_&&qa(o))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Q$;qa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());r=this.peekCodePoint(0),o=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===rq||r===tq)&&((o===em||o===_l)&&qa(i)||qa(o)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=Q$;qa(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[N8e(t),e]},n.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],r=t[1],o=this.peekCodePoint(0),i=this.peekCodePoint(1),a=this.peekCodePoint(2);if(vS(o,i,a)){var s=this.consumeName();return{type:15,number:e,flags:r,unit:s}}return o===a8e?(this.consumeCodePoint(),{type:16,number:e,flags:r}):{type:17,number:e,flags:r}},n.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(rg(t)){for(var e=Ci(t);rg(this.peekCodePoint(0))&&e.length<6;)e+=Ci(this.consumeCodePoint());mS(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(e,16);return r===0||M8e(r)||r>1114111?K$:r}return t===dd?K$:t},n.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(W$(e))t+=Ci(e);else if(nh(e,this.peekCodePoint(0)))t+=Ci(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(e),t}},n})(),aq=(function(){function n(t){this._tokens=t}return n.create=function(t){var e=new iq;return e.write(t),new n(e.read())},n.parseValue=function(t){return n.create(t).parseComponentValue()},n.parseValues=function(t){return n.create(t).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===32)return t;t.push(e),t.push()}},n.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},n.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},r=this.consumeToken();;){if(r.type===32||a6e(r,t))return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue()),r=this.consumeToken()}},n.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return e;this.reconsumeToken(r),e.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?xU:t},n.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},n})(),AC=function(n){return n.type===15},r0=function(n){return n.type===17},io=function(n){return n.type===20},i6e=function(n){return n.type===0},EU=function(n,t){return io(n)&&n.value===t},sq=function(n){return n.type!==31},Dy=function(n){return n.type!==31&&n.type!==4},zd=function(n){var t=[],e=[];return n.forEach(function(r){if(r.type===4){if(e.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(e),e=[];return}r.type!==31&&e.push(r)}),e.length&&t.push(e),t},a6e=function(n,t){return t===11&&n.type===12||t===28&&n.type===29?!0:t===2&&n.type===3},$h=function(n){return n.type===17||n.type===15},Fi=function(n){return n.type===16||$h(n)},lq=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},Da={type:17,number:0,flags:fC},pN={type:16,number:50,flags:fC},mh={type:16,number:100,flags:fC},_b=function(n,t,e){var r=n[0],o=n[1];return[bo(r,t),bo(typeof o<"u"?o:r,e)]},bo=function(n,t){if(n.type===16)return n.number/100*t;if(AC(n))switch(n.unit){case"rem":case"em":return 16*n.number;case"px":default:return n.number}return n.number},uq="deg",cq="grad",dq="rad",fq="turn",aO={name:"angle",parse:function(n,t){if(t.type===15)switch(t.unit){case uq:return Math.PI*t.number/180;case cq:return Math.PI/200*t.number;case dq:return t.number;case fq:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Aq=function(n){return n.type===15&&(n.unit===uq||n.unit===cq||n.unit===dq||n.unit===fq)},hq=function(n){var t=n.filter(io).map(function(e){return e.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Da,Da];case"to top":case"bottom":return Lu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Da,mh];case"to right":case"left":return Lu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[mh,mh];case"to bottom":case"top":return Lu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[mh,Da];case"to left":case"right":return Lu(270)}return 0},Lu=function(n){return Math.PI*n/180},Oh={name:"color",parse:function(n,t){if(t.type===18){var e=s6e[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(n,t.values)}if(t.type===5){if(t.value.length===3){var r=t.value.substring(0,1),o=t.value.substring(1,2),i=t.value.substring(2,3);return vh(parseInt(r+r,16),parseInt(o+o,16),parseInt(i+i,16),1)}if(t.value.length===4){var r=t.value.substring(0,1),o=t.value.substring(1,2),i=t.value.substring(2,3),a=t.value.substring(3,4);return vh(parseInt(r+r,16),parseInt(o+o,16),parseInt(i+i,16),parseInt(a+a,16)/255)}if(t.value.length===6){var r=t.value.substring(0,2),o=t.value.substring(2,4),i=t.value.substring(4,6);return vh(parseInt(r,16),parseInt(o,16),parseInt(i,16),1)}if(t.value.length===8){var r=t.value.substring(0,2),o=t.value.substring(2,4),i=t.value.substring(4,6),a=t.value.substring(6,8);return vh(parseInt(r,16),parseInt(o,16),parseInt(i,16),parseInt(a,16)/255)}}if(t.type===20){var s=qf[t.value.toUpperCase()];if(typeof s<"u")return s}return qf.TRANSPARENT}},Ph=function(n){return(255&n)===0},ua=function(n){var t=255&n,e=255&n>>8,r=255&n>>16,o=255&n>>24;return t<255?"rgba("+o+","+r+","+e+","+t/255+")":"rgb("+o+","+r+","+e+")"},vh=function(n,t,e,r){return(n<<24|t<<16|e<<8|Math.round(r*255)<<0)>>>0},z$=function(n,t){if(n.type===17)return n.number;if(n.type===16){var e=t===3?1:255;return t===3?n.number/100*e:Math.round(n.number/100*e)}return 0},G$=function(n,t){var e=t.filter(Dy);if(e.length===3){var r=e.map(z$),o=r[0],i=r[1],a=r[2];return vh(o,i,a,1)}if(e.length===4){var s=e.map(z$),o=s[0],i=s[1],a=s[2],l=s[3];return vh(o,i,a,l)}return 0};function lM(n,t,e){return e<0&&(e+=1),e>=1&&(e-=1),e<1/6?(t-n)*e*6+n:e<1/2?t:e<2/3?(t-n)*6*(2/3-e)+n:n}var Y$=function(n,t){var e=t.filter(Dy),r=e[0],o=e[1],i=e[2],a=e[3],s=(r.type===17?Lu(r.number):aO.parse(n,r))/(Math.PI*2),l=Fi(o)?o.number/100:0,u=Fi(i)?i.number/100:0,c=typeof a<"u"&&Fi(a)?bo(a,1):1;if(l===0)return vh(u*255,u*255,u*255,1);var d=u<=.5?u*(l+1):u+l-u*l,f=u*2-d,h=lM(f,d,s+1/3),p=lM(f,d,s),v=lM(f,d,s-1/3);return vh(h*255,p*255,v*255,c)},s6e={hsl:Y$,hsla:Y$,rgb:G$,rgba:G$},rw=function(n,t){return Oh.parse(n,aq.create(t).parseComponentValue())},qf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},l6e={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,t){return t.map(function(e){if(io(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},u6e={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},sO=function(n,t){var e=Oh.parse(n,t[0]),r=t[1];return r&&Fi(r)?{color:e,stop:r}:{color:e,stop:null}},X$=function(n,t){var e=n[0],r=n[n.length-1];e.stop===null&&(e.stop=Da),r.stop===null&&(r.stop=mh);for(var o=[],i=0,a=0;a<n.length;a++){var s=n[a].stop;if(s!==null){var l=bo(s,t);l>i?o.push(l):o.push(i),i=l}else o.push(null)}for(var u=null,a=0;a<o.length;a++){var c=o[a];if(c===null)u===null&&(u=a);else if(u!==null){for(var d=a-u,f=o[u-1],h=(c-f)/(d+1),p=1;p<=d;p++)o[u+p-1]=h*p;u=null}}return n.map(function(v,g){var _=v.color;return{color:_,stop:Math.max(Math.min(1,o[g]/t),0)}})},c6e=function(n,t,e){var r=t/2,o=e/2,i=bo(n[0],t)-r,a=o-bo(n[1],e);return(Math.atan2(a,i)+Math.PI*2)%(Math.PI*2)},d6e=function(n,t,e){var r=typeof n=="number"?n:c6e(n,t,e),o=Math.abs(t*Math.sin(r))+Math.abs(e*Math.cos(r)),i=t/2,a=e/2,s=o/2,l=Math.sin(r-Math.PI/2)*s,u=Math.cos(r-Math.PI/2)*s;return[o,i-u,i+u,a-l,a+l]},bc=function(n,t){return Math.sqrt(n*n+t*t)},J$=function(n,t,e,r,o){var i=[[0,0],[0,t],[n,0],[n,t]];return i.reduce(function(a,s){var l=s[0],u=s[1],c=bc(e-l,r-u);return(o?c<a.optimumDistance:c>a.optimumDistance)?{optimumCorner:s,optimumDistance:c}:a},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},f6e=function(n,t,e,r,o){var i=0,a=0;switch(n.size){case 0:n.shape===0?i=a=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(e),Math.abs(e-o)):n.shape===1&&(i=Math.min(Math.abs(t),Math.abs(t-r)),a=Math.min(Math.abs(e),Math.abs(e-o)));break;case 2:if(n.shape===0)i=a=Math.min(bc(t,e),bc(t,e-o),bc(t-r,e),bc(t-r,e-o));else if(n.shape===1){var s=Math.min(Math.abs(e),Math.abs(e-o))/Math.min(Math.abs(t),Math.abs(t-r)),l=J$(r,o,t,e,!0),u=l[0],c=l[1];i=bc(u-t,(c-e)/s),a=s*i}break;case 1:n.shape===0?i=a=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(e),Math.abs(e-o)):n.shape===1&&(i=Math.max(Math.abs(t),Math.abs(t-r)),a=Math.max(Math.abs(e),Math.abs(e-o)));break;case 3:if(n.shape===0)i=a=Math.max(bc(t,e),bc(t,e-o),bc(t-r,e),bc(t-r,e-o));else if(n.shape===1){var s=Math.max(Math.abs(e),Math.abs(e-o))/Math.max(Math.abs(t),Math.abs(t-r)),d=J$(r,o,t,e,!1),u=d[0],c=d[1];i=bc(u-t,(c-e)/s),a=s*i}break}return Array.isArray(n.size)&&(i=bo(n.size[0],r),a=n.size.length===2?bo(n.size[1],o):i),[i,a]},A6e=function(n,t){var e=Lu(180),r=[];return zd(t).forEach(function(o,i){if(i===0){var a=o[0];if(a.type===20&&a.value==="to"){e=hq(o);return}else if(Aq(a)){e=aO.parse(n,a);return}}var s=sO(n,o);r.push(s)}),{angle:e,stops:r,type:1}},yS=function(n,t){var e=Lu(180),r=[];return zd(t).forEach(function(o,i){if(i===0){var a=o[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){e=hq(o);return}else if(Aq(a)){e=(aO.parse(n,a)+Lu(270))%Lu(360);return}}var s=sO(n,o);r.push(s)}),{angle:e,stops:r,type:1}},h6e=function(n,t){var e=Lu(180),r=[],o=1,i=0,a=3,s=[];return zd(t).forEach(function(l,u){var c=l[0];if(u===0){if(io(c)&&c.value==="linear"){o=1;return}else if(io(c)&&c.value==="radial"){o=2;return}}if(c.type===18){if(c.name==="from"){var d=Oh.parse(n,c.values[0]);r.push({stop:Da,color:d})}else if(c.name==="to"){var d=Oh.parse(n,c.values[0]);r.push({stop:mh,color:d})}else if(c.name==="color-stop"){var f=c.values.filter(Dy);if(f.length===2){var d=Oh.parse(n,f[1]),h=f[0];r0(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:d})}}}}),o===1?{angle:(e+Lu(180))%Lu(360),stops:r,type:o}:{size:a,shape:i,stops:r,position:s,type:o}},pq="closest-side",mq="farthest-side",vq="closest-corner",gq="farthest-corner",yq="circle",bq="ellipse",wq="cover",_q="contain",p6e=function(n,t){var e=0,r=3,o=[],i=[];return zd(t).forEach(function(a,s){var l=!0;if(s===0){var u=!1;l=a.reduce(function(d,f){if(u)if(io(f))switch(f.value){case"center":return i.push(pN),d;case"top":case"left":return i.push(Da),d;case"right":case"bottom":return i.push(mh),d}else(Fi(f)||$h(f))&&i.push(f);else if(io(f))switch(f.value){case yq:return e=0,!1;case bq:return e=1,!1;case"at":return u=!0,!1;case pq:return r=0,!1;case wq:case mq:return r=1,!1;case _q:case vq:return r=2,!1;case gq:return r=3,!1}else if($h(f)||Fi(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return d},l)}if(l){var c=sO(n,a);o.push(c)}}),{size:r,shape:e,stops:o,position:i,type:2}},bS=function(n,t){var e=0,r=3,o=[],i=[];return zd(t).forEach(function(a,s){var l=!0;if(s===0?l=a.reduce(function(c,d){if(io(d))switch(d.value){case"center":return i.push(pN),!1;case"top":case"left":return i.push(Da),!1;case"right":case"bottom":return i.push(mh),!1}else if(Fi(d)||$h(d))return i.push(d),!1;return c},l):s===1&&(l=a.reduce(function(c,d){if(io(d))switch(d.value){case yq:return e=0,!1;case bq:return e=1,!1;case _q:case pq:return r=0,!1;case mq:return r=1,!1;case vq:return r=2,!1;case wq:case gq:return r=3,!1}else if($h(d)||Fi(d))return Array.isArray(r)||(r=[]),r.push(d),!1;return c},l)),l){var u=sO(n,a);o.push(u)}}),{size:r,shape:e,stops:o,position:i,type:2}},m6e=function(n){return n.type===1},v6e=function(n){return n.type===2},mN={name:"image",parse:function(n,t){if(t.type===22){var e={url:t.value,type:0};return n.cache.addImage(t.value),e}if(t.type===18){var r=Cq[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(n,t.values)}throw new Error("Unsupported image type "+t.type)}};function g6e(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!Cq[n.name])}var Cq={"linear-gradient":A6e,"-moz-linear-gradient":yS,"-ms-linear-gradient":yS,"-o-linear-gradient":yS,"-webkit-linear-gradient":yS,"radial-gradient":p6e,"-moz-radial-gradient":bS,"-ms-radial-gradient":bS,"-o-radial-gradient":bS,"-webkit-radial-gradient":bS,"-webkit-gradient":h6e},y6e={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t.filter(function(r){return Dy(r)&&g6e(r)}).map(function(r){return mN.parse(n,r)})}},b6e={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,t){return t.map(function(e){if(io(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},w6e={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,t){return zd(t).map(function(e){return e.filter(Fi)}).map(lq)}},_6e={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,t){return zd(t).map(function(e){return e.filter(io).map(function(r){return r.value}).join(" ")}).map(C6e)}},C6e=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},ry;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(ry||(ry={}));var S6e={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,t){return zd(t).map(function(e){return e.filter(x6e)})}},x6e=function(n){return io(n)||Fi(n)},lO=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},E6e=lO("top"),B6e=lO("right"),k6e=lO("bottom"),T6e=lO("left"),uO=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return lq(e.filter(Fi))}}},O6e=uO("top-left"),P6e=uO("top-right"),I6e=uO("bottom-right"),M6e=uO("bottom-left"),cO=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},F6e=cO("top"),D6e=cO("right"),U6e=cO("bottom"),L6e=cO("left"),dO=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return AC(e)?e.number:0}}},V6e=dO("top"),N6e=dO("right"),R6e=dO("bottom"),H6e=dO("left"),Q6e={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},j6e={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},$6e={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,t){return t.filter(io).reduce(function(e,r){return e|K6e(r.value)},0)}},K6e=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},W6e={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},z6e={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},JB;(function(n){n.NORMAL="normal",n.STRICT="strict"})(JB||(JB={}));var G6e={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"strict":return JB.STRICT;case"normal":default:return JB.NORMAL}}},Y6e={name:"line-height",initialValue:"normal",prefix:!1,type:4},Z$=function(n,t){return io(n)&&n.value==="normal"?1.2*t:n.type===17?t*n.number:Fi(n)?bo(n,t):t},X6e={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,t){return t.type===20&&t.value==="none"?null:mN.parse(n,t)}},J6e={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},BU={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},fO=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},Z6e=fO("top"),q6e=fO("right"),eKe=fO("bottom"),tKe=fO("left"),nKe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,t){return t.filter(io).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},rKe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},AO=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},oKe=AO("top"),iKe=AO("right"),aKe=AO("bottom"),sKe=AO("left"),lKe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},uKe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},cKe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,t){return t.length===1&&EU(t[0],"none")?[]:zd(t).map(function(e){for(var r={color:qf.TRANSPARENT,offsetX:Da,offsetY:Da,blur:Da},o=0,i=0;i<e.length;i++){var a=e[i];$h(a)?(o===0?r.offsetX=a:o===1?r.offsetY=a:r.blur=a,o++):r.color=Oh.parse(n,a)}return r})}},dKe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},fKe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var e=pKe[t.name];if(typeof e>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},AKe=function(n){var t=n.filter(function(e){return e.type===17}).map(function(e){return e.number});return t.length===6?t:null},hKe=function(n){var t=n.filter(function(l){return l.type===17}).map(function(l){return l.number}),e=t[0],r=t[1];t[2],t[3];var o=t[4],i=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var a=t[12],s=t[13];return t[14],t[15],t.length===16?[e,r,o,i,a,s]:null},pKe={matrix:AKe,matrix3d:hKe},q$={type:16,number:50,flags:fC},mKe=[q$,q$],vKe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,t){var e=t.filter(Fi);return e.length!==2?mKe:[e[0],e[1]]}},gKe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ow;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(ow||(ow={}));var yKe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"break-all":return ow.BREAK_ALL;case"keep-all":return ow.KEEP_ALL;case"normal":default:return ow.NORMAL}}},bKe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,t){if(t.type===20)return{auto:!0,order:0};if(r0(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Sq={name:"time",parse:function(n,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},wKe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,t){return r0(t)?t.number:1}},_Ke={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},CKe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,t){return t.filter(io).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return e!==0})}},SKe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,t){var e=[],r=[];return t.forEach(function(o){switch(o.type){case 20:case 0:e.push(o.value);break;case 17:e.push(o.number.toString());break;case 4:r.push(e.join(" ")),e.length=0;break}}),e.length&&r.push(e.join(" ")),r.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},xKe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},EKe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,t){if(r0(t))return t.number;if(io(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},BKe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,t){return t.filter(io).map(function(e){return e.value})}},kKe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Gi=function(n,t){return(n&t)!==0},TKe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,t){if(t.length===0)return[];var e=t[0];return e.type===20&&e.value==="none"?[]:t}},OKe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;for(var r=[],o=t.filter(sq),i=0;i<o.length;i++){var a=o[i],s=o[i+1];if(a.type===20){var l=s&&r0(s)?s.number:1;r.push({counter:a.value,increment:l})}}return r}},PKe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,t){if(t.length===0)return[];for(var e=[],r=t.filter(sq),o=0;o<r.length;o++){var i=r[o],a=r[o+1];if(io(i)&&i.value!=="none"){var s=a&&r0(a)?a.number:0;e.push({counter:i.value,reset:s})}}return e}},IKe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,t){return t.filter(AC).map(function(e){return Sq.parse(n,e)})}},MKe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,t){if(t.length===0)return null;var e=t[0];if(e.type===20&&e.value==="none")return null;var r=[],o=t.filter(i6e);if(o.length%2!==0)return null;for(var i=0;i<o.length;i+=2){var a=o[i].value,s=o[i+1].value;r.push({open:a,close:s})}return r}},e5=function(n,t,e){if(!n)return"";var r=n[Math.min(t,n.length-1)];return r?e?r.open:r.close:""},FKe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,t){return t.length===1&&EU(t[0],"none")?[]:zd(t).map(function(e){for(var r={color:255,offsetX:Da,offsetY:Da,blur:Da,spread:Da,inset:!1},o=0,i=0;i<e.length;i++){var a=e[i];EU(a,"inset")?r.inset=!0:$h(a)?(o===0?r.offsetX=a:o===1?r.offsetY=a:o===2?r.blur=a:r.spread=a,o++):r.color=Oh.parse(n,a)}return r})}},DKe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,t){var e=[0,1,2],r=[];return t.filter(io).forEach(function(o){switch(o.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),e.forEach(function(o){r.indexOf(o)===-1&&r.push(o)}),r}},UKe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},LKe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,t){return AC(t)?t.number:0}},VKe=(function(){function n(t,e){var r,o;this.animationDuration=An(t,IKe,e.animationDuration),this.backgroundClip=An(t,l6e,e.backgroundClip),this.backgroundColor=An(t,u6e,e.backgroundColor),this.backgroundImage=An(t,y6e,e.backgroundImage),this.backgroundOrigin=An(t,b6e,e.backgroundOrigin),this.backgroundPosition=An(t,w6e,e.backgroundPosition),this.backgroundRepeat=An(t,_6e,e.backgroundRepeat),this.backgroundSize=An(t,S6e,e.backgroundSize),this.borderTopColor=An(t,E6e,e.borderTopColor),this.borderRightColor=An(t,B6e,e.borderRightColor),this.borderBottomColor=An(t,k6e,e.borderBottomColor),this.borderLeftColor=An(t,T6e,e.borderLeftColor),this.borderTopLeftRadius=An(t,O6e,e.borderTopLeftRadius),this.borderTopRightRadius=An(t,P6e,e.borderTopRightRadius),this.borderBottomRightRadius=An(t,I6e,e.borderBottomRightRadius),this.borderBottomLeftRadius=An(t,M6e,e.borderBottomLeftRadius),this.borderTopStyle=An(t,F6e,e.borderTopStyle),this.borderRightStyle=An(t,D6e,e.borderRightStyle),this.borderBottomStyle=An(t,U6e,e.borderBottomStyle),this.borderLeftStyle=An(t,L6e,e.borderLeftStyle),this.borderTopWidth=An(t,V6e,e.borderTopWidth),this.borderRightWidth=An(t,N6e,e.borderRightWidth),this.borderBottomWidth=An(t,R6e,e.borderBottomWidth),this.borderLeftWidth=An(t,H6e,e.borderLeftWidth),this.boxShadow=An(t,FKe,e.boxShadow),this.color=An(t,Q6e,e.color),this.direction=An(t,j6e,e.direction),this.display=An(t,$6e,e.display),this.float=An(t,W6e,e.cssFloat),this.fontFamily=An(t,SKe,e.fontFamily),this.fontSize=An(t,xKe,e.fontSize),this.fontStyle=An(t,kKe,e.fontStyle),this.fontVariant=An(t,BKe,e.fontVariant),this.fontWeight=An(t,EKe,e.fontWeight),this.letterSpacing=An(t,z6e,e.letterSpacing),this.lineBreak=An(t,G6e,e.lineBreak),this.lineHeight=An(t,Y6e,e.lineHeight),this.listStyleImage=An(t,X6e,e.listStyleImage),this.listStylePosition=An(t,J6e,e.listStylePosition),this.listStyleType=An(t,BU,e.listStyleType),this.marginTop=An(t,Z6e,e.marginTop),this.marginRight=An(t,q6e,e.marginRight),this.marginBottom=An(t,eKe,e.marginBottom),this.marginLeft=An(t,tKe,e.marginLeft),this.opacity=An(t,wKe,e.opacity);var i=An(t,nKe,e.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=An(t,rKe,e.overflowWrap),this.paddingTop=An(t,oKe,e.paddingTop),this.paddingRight=An(t,iKe,e.paddingRight),this.paddingBottom=An(t,aKe,e.paddingBottom),this.paddingLeft=An(t,sKe,e.paddingLeft),this.paintOrder=An(t,DKe,e.paintOrder),this.position=An(t,uKe,e.position),this.textAlign=An(t,lKe,e.textAlign),this.textDecorationColor=An(t,_Ke,(r=e.textDecorationColor)!==null&&r!==void 0?r:e.color),this.textDecorationLine=An(t,CKe,(o=e.textDecorationLine)!==null&&o!==void 0?o:e.textDecoration),this.textShadow=An(t,cKe,e.textShadow),this.textTransform=An(t,dKe,e.textTransform),this.transform=An(t,fKe,e.transform),this.transformOrigin=An(t,vKe,e.transformOrigin),this.visibility=An(t,gKe,e.visibility),this.webkitTextStrokeColor=An(t,UKe,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=An(t,LKe,e.webkitTextStrokeWidth),this.wordBreak=An(t,yKe,e.wordBreak),this.zIndex=An(t,bKe,e.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return Ph(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return Gi(this.display,4)||Gi(this.display,33554432)||Gi(this.display,268435456)||Gi(this.display,536870912)||Gi(this.display,67108864)||Gi(this.display,134217728)},n})(),NKe=(function(){function n(t,e){this.content=An(t,TKe,e.content),this.quotes=An(t,MKe,e.quotes)}return n})(),t5=(function(){function n(t,e){this.counterIncrement=An(t,OKe,e.counterIncrement),this.counterReset=An(t,PKe,e.counterReset)}return n})(),An=function(n,t,e){var r=new iq,o=e!==null&&typeof e<"u"?e.toString():t.initialValue;r.write(o);var i=new aq(r.read());switch(t.type){case 2:var a=i.parseComponentValue();return t.parse(n,io(a)?a.value:t.initialValue);case 0:return t.parse(n,i.parseComponentValue());case 1:return t.parse(n,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(t.format){case"angle":return aO.parse(n,i.parseComponentValue());case"color":return Oh.parse(n,i.parseComponentValue());case"image":return mN.parse(n,i.parseComponentValue());case"length":var s=i.parseComponentValue();return $h(s)?s:Da;case"length-percentage":var l=i.parseComponentValue();return Fi(l)?l:Da;case"time":return Sq.parse(n,i.parseComponentValue())}break}},RKe="data-html2canvas-debug",HKe=function(n){var t=n.getAttribute(RKe);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},kU=function(n,t){var e=HKe(n);return e===1||t===e},Gd=(function(){function n(t,e){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,kU(e,3))debugger;this.styles=new VKe(t,window.getComputedStyle(e,null)),PU(e)&&(this.styles.animationDuration.some(function(r){return r>0})&&(e.style.animationDuration="0s"),this.styles.transform!==null&&(e.style.transform="none")),this.bounds=oO(this.context,e),kU(e,4)&&(this.flags|=16)}return n})(),QKe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",n5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cb=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wS=0;wS<n5.length;wS++)Cb[n5.charCodeAt(wS)]=wS;var jKe=function(n){var t=n.length*.75,e=n.length,r,o=0,i,a,s,l;n[n.length-1]==="="&&(t--,n[n.length-2]==="="&&t--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),c=Array.isArray(u)?u:new Uint8Array(u);for(r=0;r<e;r+=4)i=Cb[n.charCodeAt(r)],a=Cb[n.charCodeAt(r+1)],s=Cb[n.charCodeAt(r+2)],l=Cb[n.charCodeAt(r+3)],c[o++]=i<<2|a>>4,c[o++]=(a&15)<<4|s>>2,c[o++]=(s&3)<<6|l&63;return u},$Ke=function(n){for(var t=n.length,e=[],r=0;r<t;r+=2)e.push(n[r+1]<<8|n[r]);return e},KKe=function(n){for(var t=n.length,e=[],r=0;r<t;r+=4)e.push(n[r+3]<<24|n[r+2]<<16|n[r+1]<<8|n[r]);return e},xm=5,vN=11,uM=2,WKe=vN-xm,xq=65536>>xm,zKe=1<<xm,cM=zKe-1,GKe=1024>>xm,YKe=xq+GKe,XKe=YKe,JKe=32,ZKe=XKe+JKe,qKe=65536>>vN,eWe=1<<WKe,tWe=eWe-1,r5=function(n,t,e){return n.slice?n.slice(t,e):new Uint16Array(Array.prototype.slice.call(n,t,e))},nWe=function(n,t,e){return n.slice?n.slice(t,e):new Uint32Array(Array.prototype.slice.call(n,t,e))},rWe=function(n,t){var e=jKe(n),r=Array.isArray(e)?KKe(e):new Uint32Array(e),o=Array.isArray(e)?$Ke(e):new Uint16Array(e),i=24,a=r5(o,i/2,r[4]/2),s=r[5]===2?r5(o,(i+r[4])/2):nWe(r,Math.ceil((i+r[4])/4));return new oWe(r[0],r[1],r[2],r[3],a,s)},oWe=(function(){function n(t,e,r,o,i,a){this.initialValue=t,this.errorValue=e,this.highStart=r,this.highValueIndex=o,this.index=i,this.data=a}return n.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=this.index[t>>xm],e=(e<<uM)+(t&cM),this.data[e];if(t<=65535)return e=this.index[xq+(t-55296>>xm)],e=(e<<uM)+(t&cM),this.data[e];if(t<this.highStart)return e=ZKe-qKe+(t>>vN),e=this.index[e],e+=t>>xm&tWe,e=this.index[e],e=(e<<uM)+(t&cM),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),o5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iWe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _S=0;_S<o5.length;_S++)iWe[o5.charCodeAt(_S)]=_S;var aWe=1,dM=2,fM=3,i5=4,a5=5,sWe=7,s5=8,AM=9,hM=10,l5=11,u5=12,c5=13,d5=14,pM=15,lWe=function(n){for(var t=[],e=0,r=n.length;e<r;){var o=n.charCodeAt(e++);if(o>=55296&&o<=56319&&e<r){var i=n.charCodeAt(e++);(i&64512)===56320?t.push(((o&1023)<<10)+(i&1023)+65536):(t.push(o),e--)}else t.push(o)}return t},uWe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var e=n.length;if(!e)return"";for(var r=[],o=-1,i="";++o<e;){var a=n[o];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(o+1===e||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},cWe=rWe(QKe),Eu="",mM="",dWe=function(n){return cWe.get(n)},fWe=function(n,t,e){var r=e-2,o=t[r],i=t[e-1],a=t[e];if(i===dM&&a===fM)return Eu;if(i===dM||i===fM||i===i5||a===dM||a===fM||a===i5)return mM;if(i===s5&&[s5,AM,l5,u5].indexOf(a)!==-1||(i===l5||i===AM)&&(a===AM||a===hM)||(i===u5||i===hM)&&a===hM||a===c5||a===a5||a===sWe||i===aWe)return Eu;if(i===c5&&a===d5){for(;o===a5;)o=t[--r];if(o===d5)return Eu}if(i===pM&&a===pM){for(var s=0;o===pM;)s++,o=t[--r];if(s%2===0)return Eu}return mM},AWe=function(n){var t=lWe(n),e=t.length,r=0,o=0,i=t.map(dWe);return{next:function(){if(r>=e)return{done:!0,value:null};for(var a=Eu;r<e&&(a=fWe(t,i,++r))===Eu;);if(a!==Eu||r===e){var s=uWe.apply(null,t.slice(o,r));return o=r,{value:s,done:!1}}return{done:!0,value:null}}}},hWe=function(n){for(var t=AWe(n),e=[],r;!(r=t.next()).done;)r.value&&e.push(r.value.slice());return e},pWe=function(n){var t=123;if(n.createRange){var e=n.createRange();if(e.getBoundingClientRect){var r=n.createElement("boundtest");r.style.height=t+"px",r.style.display="block",n.body.appendChild(r),e.selectNode(r);var o=e.getBoundingClientRect(),i=Math.round(o.height);if(n.body.removeChild(r),i===t)return!0}}return!1},mWe=function(n){var t=n.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",n.body.appendChild(t);var e=n.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=t.firstChild,o=iO(r.data).map(function(l){return Ci(l)}),i=0,a={},s=o.every(function(l,u){e.setStart(r,i),e.setEnd(r,i+l.length);var c=e.getBoundingClientRect();i+=l.length;var d=c.x>a.x||c.y>a.y;return a=c,u===0?!0:d});return n.body.removeChild(t),s},vWe=function(){return typeof new Image().crossOrigin<"u"},gWe=function(){return typeof new XMLHttpRequest().responseType=="string"},yWe=function(n){var t=new Image,e=n.createElement("canvas"),r=e.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),e.toDataURL()}catch{return!1}return!0},f5=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},bWe=function(n){var t=n.createElement("canvas"),e=100;t.width=e,t.height=e;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,e,e);var o=new Image,i=t.toDataURL();o.src=i;var a=TU(e,e,0,0,o);return r.fillStyle="red",r.fillRect(0,0,e,e),A5(a).then(function(s){r.drawImage(s,0,0);var l=r.getImageData(0,0,e,e).data;r.fillStyle="red",r.fillRect(0,0,e,e);var u=n.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=e+"px",f5(l)?A5(TU(e,e,0,0,u)):Promise.reject(!1)}).then(function(s){return r.drawImage(s,0,0),f5(r.getImageData(0,0,e,e).data)}).catch(function(){return!1})},TU=function(n,t,e,r,o){var i="http://www.w3.org/2000/svg",a=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return a.setAttributeNS(null,"width",n.toString()),a.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",e.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(s),s.appendChild(o),a},A5=function(n){return new Promise(function(t,e){var r=new Image;r.onload=function(){return t(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Ta={get SUPPORT_RANGE_BOUNDS(){var n=pWe(document);return Object.defineProperty(Ta,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=Ta.SUPPORT_RANGE_BOUNDS&&mWe(document);return Object.defineProperty(Ta,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=yWe(document);return Object.defineProperty(Ta,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?bWe(document):Promise.resolve(!1);return Object.defineProperty(Ta,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=vWe();return Object.defineProperty(Ta,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=gWe();return Object.defineProperty(Ta,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ta,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ta,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},iw=(function(){function n(t,e){this.text=t,this.bounds=e}return n})(),wWe=function(n,t,e,r){var o=SWe(t,e),i=[],a=0;return o.forEach(function(s){if(e.textDecorationLine.length||s.trim().length>0)if(Ta.SUPPORT_RANGE_BOUNDS){var l=h5(r,a,s.length).getClientRects();if(l.length>1){var u=gN(s),c=0;u.forEach(function(f){i.push(new iw(f,lA.fromDOMRectList(n,h5(r,c+a,f.length).getClientRects()))),c+=f.length})}else i.push(new iw(s,lA.fromDOMRectList(n,l)))}else{var d=r.splitText(s.length);i.push(new iw(s,_We(n,r))),r=d}else Ta.SUPPORT_RANGE_BOUNDS||(r=r.splitText(s.length));a+=s.length}),i},_We=function(n,t){var e=t.ownerDocument;if(e){var r=e.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var o=t.parentNode;if(o){o.replaceChild(r,t);var i=oO(n,r);return r.firstChild&&o.replaceChild(r.firstChild,r),i}}return lA.EMPTY},h5=function(n,t,e){var r=n.ownerDocument;if(!r)throw new Error("Node has no owner document");var o=r.createRange();return o.setStart(n,t),o.setEnd(n,t+e),o},gN=function(n){if(Ta.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(n)).map(function(e){return e.segment})}return hWe(n)},CWe=function(n,t){if(Ta.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(e.segment(n)).map(function(r){return r.segment})}return EWe(n,t)},SWe=function(n,t){return t.letterSpacing!==0?gN(n):CWe(n,t)},xWe=[32,160,4961,65792,65793,4153,4241],EWe=function(n,t){for(var e=q5e(n,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),r=[],o,i=function(){if(o.value){var a=o.value.slice(),s=iO(a),l="";s.forEach(function(u){xWe.indexOf(u)===-1?l+=Ci(u):(l.length&&r.push(l),r.push(Ci(u)),l="")}),l.length&&r.push(l)}};!(o=e.next()).done;)i();return r},BWe=(function(){function n(t,e,r){this.text=kWe(e.data,r.textTransform),this.textBounds=wWe(t,this.text,r,e)}return n})(),kWe=function(n,t){switch(t){case 1:return n.toLowerCase();case 3:return n.replace(TWe,OWe);case 2:return n.toUpperCase();default:return n}},TWe=/(^|\s|:|-|\(|\))([a-z])/g,OWe=function(n,t,e){return n.length>0?t+e.toUpperCase():n},Eq=(function(n){$c(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.src=r.currentSrc||r.src,o.intrinsicWidth=r.naturalWidth,o.intrinsicHeight=r.naturalHeight,o.context.cache.addImage(o.src),o}return t})(Gd),Bq=(function(n){$c(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.canvas=r,o.intrinsicWidth=r.width,o.intrinsicHeight=r.height,o}return t})(Gd),kq=(function(n){$c(t,n);function t(e,r){var o=n.call(this,e,r)||this,i=new XMLSerializer,a=oO(e,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),o.intrinsicWidth=r.width.baseVal.value,o.intrinsicHeight=r.height.baseVal.value,o.context.cache.addImage(o.svg),o}return t})(Gd),Tq=(function(n){$c(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.value=r.value,o}return t})(Gd),OU=(function(n){$c(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.start=r.start,o.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,o}return t})(Gd),PWe=[{type:15,flags:0,unit:"px",number:3}],IWe=[{type:16,flags:0,number:50}],MWe=function(n){return n.width>n.height?new lA(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new lA(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},FWe=function(n){var t=n.type===DWe?new Array(n.value.length+1).join(""):n.value;return t.length===0?n.placeholder||"":t},ZB="checkbox",qB="radio",DWe="password",p5=707406591,yN=(function(n){$c(t,n);function t(e,r){var o=n.call(this,e,r)||this;switch(o.type=r.type.toLowerCase(),o.checked=r.checked,o.value=FWe(r),(o.type===ZB||o.type===qB)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=MWe(o.bounds)),o.type){case ZB:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=PWe;break;case qB:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=IWe;break}return o}return t})(Gd),Oq=(function(n){$c(t,n);function t(e,r){var o=n.call(this,e,r)||this,i=r.options[r.selectedIndex||0];return o.value=i&&i.text||"",o}return t})(Gd),Pq=(function(n){$c(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.value=r.value,o}return t})(Gd),Iq=(function(n){$c(t,n);function t(e,r){var o=n.call(this,e,r)||this;o.src=r.src,o.width=parseInt(r.width,10)||0,o.height=parseInt(r.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){o.tree=Fq(e,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?rw(e,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):qf.TRANSPARENT,a=r.contentWindow.document.body?rw(e,getComputedStyle(r.contentWindow.document.body).backgroundColor):qf.TRANSPARENT;o.backgroundColor=Ph(i)?Ph(a)?o.styles.backgroundColor:a:i}}catch{}return o}return t})(Gd),UWe=["OL","UL","MENU"],px=function(n,t,e,r){for(var o=t.firstChild,i=void 0;o;o=i)if(i=o.nextSibling,Dq(o)&&o.data.trim().length>0)e.textNodes.push(new BWe(n,o,e.styles));else if($g(o))if(Nq(o)&&o.assignedNodes)o.assignedNodes().forEach(function(s){return px(n,s,e,r)});else{var a=Mq(n,o);a.styles.isVisible()&&(LWe(o,a,r)?a.flags|=4:VWe(a.styles)&&(a.flags|=2),UWe.indexOf(o.tagName)!==-1&&(a.flags|=8),e.elements.push(a),o.slot,o.shadowRoot?px(n,o.shadowRoot,a,r):!ek(o)&&!Uq(o)&&!tk(o)&&px(n,o,a,r))}},Mq=function(n,t){return IU(t)?new Eq(n,t):Lq(t)?new Bq(n,t):Uq(t)?new kq(n,t):NWe(t)?new Tq(n,t):RWe(t)?new OU(n,t):HWe(t)?new yN(n,t):tk(t)?new Oq(n,t):ek(t)?new Pq(n,t):Vq(t)?new Iq(n,t):new Gd(n,t)},Fq=function(n,t){var e=Mq(n,t);return e.flags|=4,px(n,t,e,e),e},LWe=function(n,t,e){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||bN(n)&&e.styles.isTransparent()},VWe=function(n){return n.isPositioned()||n.isFloating()},Dq=function(n){return n.nodeType===Node.TEXT_NODE},$g=function(n){return n.nodeType===Node.ELEMENT_NODE},PU=function(n){return $g(n)&&typeof n.style<"u"&&!mx(n)},mx=function(n){return typeof n.className=="object"},NWe=function(n){return n.tagName==="LI"},RWe=function(n){return n.tagName==="OL"},HWe=function(n){return n.tagName==="INPUT"},QWe=function(n){return n.tagName==="HTML"},Uq=function(n){return n.tagName==="svg"},bN=function(n){return n.tagName==="BODY"},Lq=function(n){return n.tagName==="CANVAS"},m5=function(n){return n.tagName==="VIDEO"},IU=function(n){return n.tagName==="IMG"},Vq=function(n){return n.tagName==="IFRAME"},v5=function(n){return n.tagName==="STYLE"},jWe=function(n){return n.tagName==="SCRIPT"},ek=function(n){return n.tagName==="TEXTAREA"},tk=function(n){return n.tagName==="SELECT"},Nq=function(n){return n.tagName==="SLOT"},g5=function(n){return n.tagName.indexOf("-")>0},$We=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},n.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},n.prototype.pop=function(t){var e=this;t.forEach(function(r){return e.counters[r].pop()})},n.prototype.parse=function(t){var e=this,r=t.counterIncrement,o=t.counterReset,i=!0;r!==null&&r.forEach(function(s){var l=e.counters[s.counter];l&&s.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=s.increment)});var a=[];return i&&o.forEach(function(s){var l=e.counters[s.counter];a.push(s.counter),l||(l=e.counters[s.counter]=[]),l.push(s.reset)}),a},n})(),y5={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},b5={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},KWe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},WWe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},og=function(n,t,e,r,o,i){return n<t||n>e?y_(n,o,i.length>0):r.integers.reduce(function(a,s,l){for(;n>=s;)n-=s,a+=r.values[l];return a},"")+i},Rq=function(n,t,e,r){var o="";do e||n--,o=r(n)+o,n/=t;while(n*t>=t);return o},wi=function(n,t,e,r,o){var i=e-t+1;return(n<0?"-":"")+(Rq(Math.abs(n),i,r,function(a){return Ci(Math.floor(a%i)+t)})+o)},Bp=function(n,t,e){e===void 0&&(e=". ");var r=t.length;return Rq(Math.abs(n),r,!1,function(o){return t[Math.floor(o%r)]})+e},vg=1,QA=2,jA=4,Sb=8,_f=function(n,t,e,r,o,i){if(n<-9999||n>9999)return y_(n,4,o.length>0);var a=Math.abs(n),s=o;if(a===0)return t[0]+s;for(var l=0;a>0&&l<=4;l++){var u=a%10;u===0&&Gi(i,vg)&&s!==""?s=t[u]+s:u>1||u===1&&l===0||u===1&&l===1&&Gi(i,QA)||u===1&&l===1&&Gi(i,jA)&&n>100||u===1&&l>1&&Gi(i,Sb)?s=t[u]+(l>0?e[l-1]:"")+s:u===1&&l>0&&(s=e[l-1]+s),a=Math.floor(a/10)}return(n<0?r:"")+s},w5="",_5="",C5="",vM="",y_=function(n,t,e){var r=e?". ":"",o=e?"":"",i=e?", ":"",a=e?" ":"";switch(t){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var s=wi(n,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return Bp(n,"",o);case 6:return og(n,1,3999,y5,3,r).toLowerCase();case 7:return og(n,1,3999,y5,3,r);case 8:return wi(n,945,969,!1,r);case 9:return wi(n,97,122,!1,r);case 10:return wi(n,65,90,!1,r);case 11:return wi(n,1632,1641,!0,r);case 12:case 49:return og(n,1,9999,b5,3,r);case 35:return og(n,1,9999,b5,3,r).toLowerCase();case 13:return wi(n,2534,2543,!0,r);case 14:case 30:return wi(n,6112,6121,!0,r);case 15:return Bp(n,"",o);case 16:return Bp(n,"",o);case 17:case 48:return _f(n,"",w5,"",o,QA|jA|Sb);case 47:return _f(n,"",_5,"",o,vg|QA|jA|Sb);case 42:return _f(n,"",w5,"",o,QA|jA|Sb);case 41:return _f(n,"",_5,"",o,vg|QA|jA|Sb);case 26:return _f(n,"","",C5,o,0);case 25:return _f(n,"","",C5,o,vg|QA|jA);case 31:return _f(n,"","",vM,i,vg|QA|jA);case 33:return _f(n,"","",vM,i,0);case 32:return _f(n,"","",vM,i,vg|QA|jA);case 18:return wi(n,2406,2415,!0,r);case 20:return og(n,1,19999,WWe,3,r);case 21:return wi(n,2790,2799,!0,r);case 22:return wi(n,2662,2671,!0,r);case 22:return og(n,1,10999,KWe,3,r);case 23:return Bp(n,"");case 24:return Bp(n,"");case 27:return wi(n,3302,3311,!0,r);case 28:return Bp(n,"",o);case 29:return Bp(n,"",o);case 34:return wi(n,3792,3801,!0,r);case 37:return wi(n,6160,6169,!0,r);case 38:return wi(n,4160,4169,!0,r);case 39:return wi(n,2918,2927,!0,r);case 40:return wi(n,1776,1785,!0,r);case 43:return wi(n,3046,3055,!0,r);case 44:return wi(n,3174,3183,!0,r);case 45:return wi(n,3664,3673,!0,r);case 46:return wi(n,3872,3881,!0,r);case 3:default:return wi(n,48,57,!0,r)}},Hq="data-html2canvas-ignore",S5=(function(){function n(t,e,r){if(this.context=t,this.options=r,this.scrolledElements=[],this.referenceElement=e,this.counters=new $We,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(t,e){var r=this,o=zWe(t,e);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var i=t.defaultView.pageXOffset,a=t.defaultView.pageYOffset,s=o.contentWindow,l=s.document,u=XWe(o).then(function(){return Us(r,void 0,void 0,function(){var c,d;return Ga(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(eze),s&&(s.scrollTo(e.left,e.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(s.scrollY!==e.top||s.scrollX!==e.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(s.scrollX-e.left,s.scrollY-e.top,0,0))),c=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,YWe(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(l,d)}).then(function(){return o})]:[2,o]}})})});return l.open(),l.write(ZWe(document.doctype)+"<html></html>"),qWe(this.referenceElement.ownerDocument,i,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},n.prototype.createElementClone=function(t){if(kU(t,2))debugger;if(Lq(t))return this.createCanvasClone(t);if(m5(t))return this.createVideoClone(t);if(v5(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return IU(e)&&(IU(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),e.loading==="lazy"&&(e.loading="eager")),g5(e)?this.createCustomElementClone(e):e},n.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return gM(t.style,e),e},n.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var r=[].slice.call(e.cssRules,0).reduce(function(i,a){return a&&typeof a.cssText=="string"?i+a.cssText:i},""),o=t.cloneNode(!1);return o.textContent=r,o}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return t.cloneNode(!1)},n.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var r=t.ownerDocument.createElement("img");try{return r.src=t.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var o=t.cloneNode(!1);try{o.width=t.width,o.height=t.height;var i=t.getContext("2d"),a=o.getContext("2d");if(a)if(!this.options.allowTaint&&i)a.putImageData(i.getImageData(0,0,t.width,t.height),0,0);else{var s=(e=t.getContext("webgl2"))!==null&&e!==void 0?e:t.getContext("webgl");if(s){var l=s.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}a.drawImage(t,0,0)}return o}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return o},n.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var r=e.getContext("2d");try{return r&&(r.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||r.getImageData(0,0,e.width,e.height)),e}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var o=t.ownerDocument.createElement("canvas");return o.width=t.offsetWidth,o.height=t.offsetHeight,o},n.prototype.appendChildNode=function(t,e,r){(!$g(e)||!jWe(e)&&!e.hasAttribute(Hq)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(e)))&&(!this.options.copyStyles||!$g(e)||!v5(e))&&t.appendChild(this.cloneNode(e,r))},n.prototype.cloneChildNodes=function(t,e,r){for(var o=this,i=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;i;i=i.nextSibling)if($g(i)&&Nq(i)&&typeof i.assignedNodes=="function"){var a=i.assignedNodes();a.length&&a.forEach(function(s){return o.appendChildNode(e,s,r)})}else this.appendChildNode(e,i,r)},n.prototype.cloneNode=function(t,e){if(Dq(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var r=t.ownerDocument.defaultView;if(r&&$g(t)&&(PU(t)||mx(t))){var o=this.createElementClone(t);o.style.transitionProperty="none";var i=r.getComputedStyle(t),a=r.getComputedStyle(t,":before"),s=r.getComputedStyle(t,":after");this.referenceElement===t&&PU(o)&&(this.clonedReferenceElement=o),bN(o)&&rze(o);var l=this.counters.parse(new t5(this.context,i)),u=this.resolvePseudoContent(t,o,a,aw.BEFORE);g5(t)&&(e=!0),m5(t)||this.cloneChildNodes(t,o,e),u&&o.insertBefore(u,o.firstChild);var c=this.resolvePseudoContent(t,o,s,aw.AFTER);return c&&o.appendChild(c),this.counters.pop(l),(i&&(this.options.copyStyles||mx(t))&&!Vq(t)||e)&&gM(i,o),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([o,t.scrollLeft,t.scrollTop]),(ek(t)||tk(t))&&(ek(o)||tk(o))&&(o.value=t.value),o}return t.cloneNode(!1)},n.prototype.resolvePseudoContent=function(t,e,r,o){var i=this;if(r){var a=r.content,s=e.ownerDocument;if(!(!s||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new t5(this.context,r));var l=new NKe(this.context,r),u=s.createElement("html2canvaspseudoelement");gM(r,u),l.content.forEach(function(d){if(d.type===0)u.appendChild(s.createTextNode(d.value));else if(d.type===22){var f=s.createElement("img");f.src=d.value,f.style.opacity="1",u.appendChild(f)}else if(d.type===18){if(d.name==="attr"){var h=d.values.filter(io);h.length&&u.appendChild(s.createTextNode(t.getAttribute(h[0].value)||""))}else if(d.name==="counter"){var p=d.values.filter(Dy),v=p[0],g=p[1];if(v&&io(v)){var _=i.counters.getCounterValue(v.value),S=g&&io(g)?BU.parse(i.context,g.value):3;u.appendChild(s.createTextNode(y_(_,S,!1)))}}else if(d.name==="counters"){var y=d.values.filter(Dy),v=y[0],C=y[1],g=y[2];if(v&&io(v)){var T=i.counters.getCounterValues(v.value),P=g&&io(g)?BU.parse(i.context,g.value):3,F=C&&C.type===0?C.value:"",I=T.map(function(V){return y_(V,P,!1)}).join(F);u.appendChild(s.createTextNode(I))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(s.createTextNode(e5(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(s.createTextNode(e5(l.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(s.createTextNode(d.value))}}),u.className=MU+" "+FU;var c=o===aw.BEFORE?" "+MU:" "+FU;return mx(e)?e.className.baseValue+=c:e.className+=c,u}}},n.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},n})(),aw;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(aw||(aw={}));var zWe=function(n,t){var e=n.createElement("iframe");return e.className="html2canvas-container",e.style.visibility="hidden",e.style.position="fixed",e.style.left="-10000px",e.style.top="0px",e.style.border="0",e.width=t.width.toString(),e.height=t.height.toString(),e.scrolling="no",e.setAttribute(Hq,"true"),n.body.appendChild(e),e},GWe=function(n){return new Promise(function(t){if(n.complete){t();return}if(!n.src){t();return}n.onload=t,n.onerror=t})},YWe=function(n){return Promise.all([].slice.call(n.images,0).map(GWe))},XWe=function(n){return new Promise(function(t,e){var r=n.contentWindow;if(!r)return e("No window assigned for iframe");var o=r.document;r.onload=n.onload=function(){r.onload=n.onload=null;var i=setInterval(function(){o.body.childNodes.length>0&&o.readyState==="complete"&&(clearInterval(i),t(n))},50)}})},JWe=["all","d","content"],gM=function(n,t){for(var e=n.length-1;e>=0;e--){var r=n.item(e);JWe.indexOf(r)===-1&&t.style.setProperty(r,n.getPropertyValue(r))}return t},ZWe=function(n){var t="";return n&&(t+="<!DOCTYPE ",n.name&&(t+=n.name),n.internalSubset&&(t+=n.internalSubset),n.publicId&&(t+='"'+n.publicId+'"'),n.systemId&&(t+='"'+n.systemId+'"'),t+=">"),t},qWe=function(n,t,e){n&&n.defaultView&&(t!==n.defaultView.pageXOffset||e!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(t,e)},eze=function(n){var t=n[0],e=n[1],r=n[2];t.scrollLeft=e,t.scrollTop=r},tze=":before",nze=":after",MU="___html2canvas___pseudoelement_before",FU="___html2canvas___pseudoelement_after",x5=`{
    content: "" !important;
    display: none !important;
}`,rze=function(n){oze(n,"."+MU+tze+x5+`
         .`+FU+nze+x5)},oze=function(n,t){var e=n.ownerDocument;if(e){var r=e.createElement("style");r.textContent=t,n.appendChild(r)}},Qq=(function(){function n(){}return n.getOrigin=function(t){var e=n._link;return e?(e.href=t,e.href=e.href,e.protocol+e.hostname+e.port):"about:blank"},n.isSameOrigin=function(t){return n.getOrigin(t)===n._origin},n.setContext=function(t){n._link=t.document.createElement("a"),n._origin=n.getOrigin(t.location.href)},n._origin="about:blank",n})(),ize=(function(){function n(t,e){this.context=t,this._options=e,this._cache={}}return n.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)||(bM(t)||uze(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),e},n.prototype.match=function(t){return this._cache[t]},n.prototype.loadImage=function(t){return Us(this,void 0,void 0,function(){var e,r,o,i,a=this;return Ga(this,function(s){switch(s.label){case 0:return e=Qq.isSameOrigin(t),r=!yM(t)&&this._options.useCORS===!0&&Ta.SUPPORT_CORS_IMAGES&&!e,o=!yM(t)&&!e&&!bM(t)&&typeof this._options.proxy=="string"&&Ta.SUPPORT_CORS_XHR&&!r,!e&&this._options.allowTaint===!1&&!yM(t)&&!bM(t)&&!o&&!r?[2]:(i=t,o?[4,this.proxy(i)]:[3,2]);case 1:i=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(l,u){var c=new Image;c.onload=function(){return l(c)},c.onerror=u,(cze(i)||r)&&(c.crossOrigin="anonymous"),c.src=i,c.complete===!0&&setTimeout(function(){return l(c)},500),a._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},n.prototype.has=function(t){return typeof this._cache[t]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(t){var e=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var o=t.substring(0,256);return new Promise(function(i,a){var s=Ta.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(s==="text")i(l.response);else{var d=new FileReader;d.addEventListener("load",function(){return i(d.result)},!1),d.addEventListener("error",function(f){return a(f)},!1),d.readAsDataURL(l.response)}else a("Failed to proxy resource "+o+" with status code "+l.status)},l.onerror=a;var u=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+u+"url="+encodeURIComponent(t)+"&responseType="+s),s!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=s),e._options.imageTimeout){var c=e._options.imageTimeout;l.timeout=c,l.ontimeout=function(){return a("Timed out ("+c+"ms) proxying "+o)}}l.send()})},n})(),aze=/^data:image\/svg\+xml/i,sze=/^data:image\/.*;base64,/i,lze=/^data:image\/.*/i,uze=function(n){return Ta.SUPPORT_SVG_DRAWING||!dze(n)},yM=function(n){return lze.test(n)},cze=function(n){return sze.test(n)},bM=function(n){return n.substr(0,4)==="blob"},dze=function(n){return n.substr(-3).toLowerCase()==="svg"||aze.test(n)},cn=(function(){function n(t,e){this.type=0,this.x=t,this.y=e}return n.prototype.add=function(t,e){return new n(this.x+t,this.y+e)},n})(),ig=function(n,t,e){return new cn(n.x+(t.x-n.x)*e,n.y+(t.y-n.y)*e)},CS=(function(){function n(t,e,r,o){this.type=1,this.start=t,this.startControl=e,this.endControl=r,this.end=o}return n.prototype.subdivide=function(t,e){var r=ig(this.start,this.startControl,t),o=ig(this.startControl,this.endControl,t),i=ig(this.endControl,this.end,t),a=ig(r,o,t),s=ig(o,i,t),l=ig(a,s,t);return e?new n(this.start,r,a,l):new n(l,s,i,this.end)},n.prototype.add=function(t,e){return new n(this.start.add(t,e),this.startControl.add(t,e),this.endControl.add(t,e),this.end.add(t,e))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),Ou=function(n){return n.type===1},fze=(function(){function n(t){var e=t.styles,r=t.bounds,o=_b(e.borderTopLeftRadius,r.width,r.height),i=o[0],a=o[1],s=_b(e.borderTopRightRadius,r.width,r.height),l=s[0],u=s[1],c=_b(e.borderBottomRightRadius,r.width,r.height),d=c[0],f=c[1],h=_b(e.borderBottomLeftRadius,r.width,r.height),p=h[0],v=h[1],g=[];g.push((i+l)/r.width),g.push((p+d)/r.width),g.push((a+v)/r.height),g.push((u+f)/r.height);var _=Math.max.apply(Math,g);_>1&&(i/=_,a/=_,l/=_,u/=_,d/=_,f/=_,p/=_,v/=_);var S=r.width-l,y=r.height-f,C=r.width-d,T=r.height-v,P=e.borderTopWidth,F=e.borderRightWidth,I=e.borderBottomWidth,k=e.borderLeftWidth,M=bo(e.paddingTop,t.bounds.width),V=bo(e.paddingRight,t.bounds.width),U=bo(e.paddingBottom,t.bounds.width),$=bo(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||a>0?Lo(r.left+k/3,r.top+P/3,i-k/3,a-P/3,Xr.TOP_LEFT):new cn(r.left+k/3,r.top+P/3),this.topRightBorderDoubleOuterBox=i>0||a>0?Lo(r.left+S,r.top+P/3,l-F/3,u-P/3,Xr.TOP_RIGHT):new cn(r.left+r.width-F/3,r.top+P/3),this.bottomRightBorderDoubleOuterBox=d>0||f>0?Lo(r.left+C,r.top+y,d-F/3,f-I/3,Xr.BOTTOM_RIGHT):new cn(r.left+r.width-F/3,r.top+r.height-I/3),this.bottomLeftBorderDoubleOuterBox=p>0||v>0?Lo(r.left+k/3,r.top+T,p-k/3,v-I/3,Xr.BOTTOM_LEFT):new cn(r.left+k/3,r.top+r.height-I/3),this.topLeftBorderDoubleInnerBox=i>0||a>0?Lo(r.left+k*2/3,r.top+P*2/3,i-k*2/3,a-P*2/3,Xr.TOP_LEFT):new cn(r.left+k*2/3,r.top+P*2/3),this.topRightBorderDoubleInnerBox=i>0||a>0?Lo(r.left+S,r.top+P*2/3,l-F*2/3,u-P*2/3,Xr.TOP_RIGHT):new cn(r.left+r.width-F*2/3,r.top+P*2/3),this.bottomRightBorderDoubleInnerBox=d>0||f>0?Lo(r.left+C,r.top+y,d-F*2/3,f-I*2/3,Xr.BOTTOM_RIGHT):new cn(r.left+r.width-F*2/3,r.top+r.height-I*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||v>0?Lo(r.left+k*2/3,r.top+T,p-k*2/3,v-I*2/3,Xr.BOTTOM_LEFT):new cn(r.left+k*2/3,r.top+r.height-I*2/3),this.topLeftBorderStroke=i>0||a>0?Lo(r.left+k/2,r.top+P/2,i-k/2,a-P/2,Xr.TOP_LEFT):new cn(r.left+k/2,r.top+P/2),this.topRightBorderStroke=i>0||a>0?Lo(r.left+S,r.top+P/2,l-F/2,u-P/2,Xr.TOP_RIGHT):new cn(r.left+r.width-F/2,r.top+P/2),this.bottomRightBorderStroke=d>0||f>0?Lo(r.left+C,r.top+y,d-F/2,f-I/2,Xr.BOTTOM_RIGHT):new cn(r.left+r.width-F/2,r.top+r.height-I/2),this.bottomLeftBorderStroke=p>0||v>0?Lo(r.left+k/2,r.top+T,p-k/2,v-I/2,Xr.BOTTOM_LEFT):new cn(r.left+k/2,r.top+r.height-I/2),this.topLeftBorderBox=i>0||a>0?Lo(r.left,r.top,i,a,Xr.TOP_LEFT):new cn(r.left,r.top),this.topRightBorderBox=l>0||u>0?Lo(r.left+S,r.top,l,u,Xr.TOP_RIGHT):new cn(r.left+r.width,r.top),this.bottomRightBorderBox=d>0||f>0?Lo(r.left+C,r.top+y,d,f,Xr.BOTTOM_RIGHT):new cn(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=p>0||v>0?Lo(r.left,r.top+T,p,v,Xr.BOTTOM_LEFT):new cn(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||a>0?Lo(r.left+k,r.top+P,Math.max(0,i-k),Math.max(0,a-P),Xr.TOP_LEFT):new cn(r.left+k,r.top+P),this.topRightPaddingBox=l>0||u>0?Lo(r.left+Math.min(S,r.width-F),r.top+P,S>r.width+F?0:Math.max(0,l-F),Math.max(0,u-P),Xr.TOP_RIGHT):new cn(r.left+r.width-F,r.top+P),this.bottomRightPaddingBox=d>0||f>0?Lo(r.left+Math.min(C,r.width-k),r.top+Math.min(y,r.height-I),Math.max(0,d-F),Math.max(0,f-I),Xr.BOTTOM_RIGHT):new cn(r.left+r.width-F,r.top+r.height-I),this.bottomLeftPaddingBox=p>0||v>0?Lo(r.left+k,r.top+Math.min(T,r.height-I),Math.max(0,p-k),Math.max(0,v-I),Xr.BOTTOM_LEFT):new cn(r.left+k,r.top+r.height-I),this.topLeftContentBox=i>0||a>0?Lo(r.left+k+$,r.top+P+M,Math.max(0,i-(k+$)),Math.max(0,a-(P+M)),Xr.TOP_LEFT):new cn(r.left+k+$,r.top+P+M),this.topRightContentBox=l>0||u>0?Lo(r.left+Math.min(S,r.width+k+$),r.top+P+M,S>r.width+k+$?0:l-k+$,u-(P+M),Xr.TOP_RIGHT):new cn(r.left+r.width-(F+V),r.top+P+M),this.bottomRightContentBox=d>0||f>0?Lo(r.left+Math.min(C,r.width-(k+$)),r.top+Math.min(y,r.height+P+M),Math.max(0,d-(F+V)),f-(I+U),Xr.BOTTOM_RIGHT):new cn(r.left+r.width-(F+V),r.top+r.height-(I+U)),this.bottomLeftContentBox=p>0||v>0?Lo(r.left+k+$,r.top+T,Math.max(0,p-(k+$)),v-(I+U),Xr.BOTTOM_LEFT):new cn(r.left+k+$,r.top+r.height-(I+U))}return n})(),Xr;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Xr||(Xr={}));var Lo=function(n,t,e,r,o){var i=4*((Math.sqrt(2)-1)/3),a=e*i,s=r*i,l=n+e,u=t+r;switch(o){case Xr.TOP_LEFT:return new CS(new cn(n,u),new cn(n,u-s),new cn(l-a,t),new cn(l,t));case Xr.TOP_RIGHT:return new CS(new cn(n,t),new cn(n+a,t),new cn(l,u-s),new cn(l,u));case Xr.BOTTOM_RIGHT:return new CS(new cn(l,t),new cn(l,t+s),new cn(n+a,u),new cn(n,u));case Xr.BOTTOM_LEFT:default:return new CS(new cn(l,u),new cn(l-a,u),new cn(n,t+s),new cn(n,t))}},nk=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},Aze=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},rk=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},hze=(function(){function n(t,e,r){this.offsetX=t,this.offsetY=e,this.matrix=r,this.type=0,this.target=6}return n})(),SS=(function(){function n(t,e){this.path=t,this.target=e,this.type=1}return n})(),pze=(function(){function n(t){this.opacity=t,this.type=2,this.target=6}return n})(),mze=function(n){return n.type===0},jq=function(n){return n.type===1},vze=function(n){return n.type===2},E5=function(n,t){return n.length===t.length?n.some(function(e,r){return e===t[r]}):!1},gze=function(n,t,e,r,o){return n.map(function(i,a){switch(a){case 0:return i.add(t,e);case 1:return i.add(t+r,e);case 2:return i.add(t+r,e+o);case 3:return i.add(t,e+o)}return i})},$q=(function(){function n(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),Kq=(function(){function n(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new fze(this.container),this.container.styles.opacity<1&&this.effects.push(new pze(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new hze(r,o,i))}if(this.container.styles.overflowX!==0){var a=nk(this.curves),s=rk(this.curves);E5(a,s)?this.effects.push(new SS(a,6)):(this.effects.push(new SS(a,2)),this.effects.push(new SS(s,4)))}}return n.prototype.getEffects=function(t){for(var e=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,o=this.effects.slice(0);r;){var i=r.effects.filter(function(l){return!jq(l)});if(e||r.container.styles.position!==0||!r.parent){if(o.unshift.apply(o,i),e=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=nk(r.curves),s=rk(r.curves);E5(a,s)||o.unshift(new SS(s,6))}}else o.unshift.apply(o,i);r=r.parent}return o.filter(function(l){return Gi(l.target,t)})},n})(),DU=function(n,t,e,r){n.container.elements.forEach(function(o){var i=Gi(o.flags,4),a=Gi(o.flags,2),s=new Kq(o,n);Gi(o.styles.display,2048)&&r.push(s);var l=Gi(o.flags,8)?[]:r;if(i||a){var u=i||o.styles.isPositioned()?e:t,c=new $q(s);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var d=o.styles.zIndex.order;if(d<0){var f=0;u.negativeZIndex.some(function(p,v){return d>p.element.container.styles.zIndex.order?(f=v,!1):f>0}),u.negativeZIndex.splice(f,0,c)}else if(d>0){var h=0;u.positiveZIndex.some(function(p,v){return d>=p.element.container.styles.zIndex.order?(h=v+1,!1):h>0}),u.positiveZIndex.splice(h,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else o.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);DU(s,c,i?c:e,l)}else o.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),DU(s,t,e,l);Gi(o.flags,8)&&Wq(o,l)})},Wq=function(n,t){for(var e=n instanceof OU?n.start:1,r=n instanceof OU?n.reversed:!1,o=0;o<t.length;o++){var i=t[o];i.container instanceof Tq&&typeof i.container.value=="number"&&i.container.value!==0&&(e=i.container.value),i.listValue=y_(e,i.container.styles.listStyleType,!0),e+=r?-1:1}},yze=function(n){var t=new Kq(n,null),e=new $q(t),r=[];return DU(t,e,e,r),Wq(t.container,r),e},B5=function(n,t){switch(t){case 0:return Vu(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return Vu(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return Vu(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);case 3:default:return Vu(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},bze=function(n,t){switch(t){case 0:return Vu(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return Vu(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return Vu(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);case 3:default:return Vu(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},wze=function(n,t){switch(t){case 0:return Vu(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return Vu(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return Vu(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);case 3:default:return Vu(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},_ze=function(n,t){switch(t){case 0:return xS(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return xS(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return xS(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);case 3:default:return xS(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},xS=function(n,t){var e=[];return Ou(n)?e.push(n.subdivide(.5,!1)):e.push(n),Ou(t)?e.push(t.subdivide(.5,!0)):e.push(t),e},Vu=function(n,t,e,r){var o=[];return Ou(n)?o.push(n.subdivide(.5,!1)):o.push(n),Ou(e)?o.push(e.subdivide(.5,!0)):o.push(e),Ou(r)?o.push(r.subdivide(.5,!0).reverse()):o.push(r),Ou(t)?o.push(t.subdivide(.5,!1).reverse()):o.push(t),o},zq=function(n){var t=n.bounds,e=n.styles;return t.add(e.borderLeftWidth,e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth),-(e.borderTopWidth+e.borderBottomWidth))},ok=function(n){var t=n.styles,e=n.bounds,r=bo(t.paddingLeft,e.width),o=bo(t.paddingRight,e.width),i=bo(t.paddingTop,e.width),a=bo(t.paddingBottom,e.width);return e.add(r+t.borderLeftWidth,i+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+o),-(t.borderTopWidth+t.borderBottomWidth+i+a))},Cze=function(n,t){return n===0?t.bounds:n===2?ok(t):zq(t)},Sze=function(n,t){return n===0?t.bounds:n===2?ok(t):zq(t)},wM=function(n,t,e){var r=Cze(gg(n.styles.backgroundOrigin,t),n),o=Sze(gg(n.styles.backgroundClip,t),n),i=xze(gg(n.styles.backgroundSize,t),e,r),a=i[0],s=i[1],l=_b(gg(n.styles.backgroundPosition,t),r.width-a,r.height-s),u=Eze(gg(n.styles.backgroundRepeat,t),l,i,r,o),c=Math.round(r.left+l[0]),d=Math.round(r.top+l[1]);return[u,c,d,a,s]},ag=function(n){return io(n)&&n.value===ry.AUTO},ES=function(n){return typeof n=="number"},xze=function(n,t,e){var r=t[0],o=t[1],i=t[2],a=n[0],s=n[1];if(!a)return[0,0];if(Fi(a)&&s&&Fi(s))return[bo(a,e.width),bo(s,e.height)];var l=ES(i);if(io(a)&&(a.value===ry.CONTAIN||a.value===ry.COVER)){if(ES(i)){var u=e.width/e.height;return u<i!=(a.value===ry.COVER)?[e.width,e.width/i]:[e.height*i,e.height]}return[e.width,e.height]}var c=ES(r),d=ES(o),f=c||d;if(ag(a)&&(!s||ag(s))){if(c&&d)return[r,o];if(!l&&!f)return[e.width,e.height];if(f&&l){var h=c?r:o*i,p=d?o:r/i;return[h,p]}var v=c?r:e.width,g=d?o:e.height;return[v,g]}if(l){var _=0,S=0;return Fi(a)?_=bo(a,e.width):Fi(s)&&(S=bo(s,e.height)),ag(a)?_=S*i:(!s||ag(s))&&(S=_/i),[_,S]}var y=null,C=null;if(Fi(a)?y=bo(a,e.width):s&&Fi(s)&&(C=bo(s,e.height)),y!==null&&(!s||ag(s))&&(C=c&&d?y/r*o:e.height),C!==null&&ag(a)&&(y=c&&d?C/o*r:e.width),y!==null&&C!==null)return[y,C];throw new Error("Unable to calculate background-size for element")},gg=function(n,t){var e=n[t];return typeof e>"u"?n[0]:e},Eze=function(n,t,e,r,o){var i=t[0],a=t[1],s=e[0],l=e[1];switch(n){case 2:return[new cn(Math.round(r.left),Math.round(r.top+a)),new cn(Math.round(r.left+r.width),Math.round(r.top+a)),new cn(Math.round(r.left+r.width),Math.round(l+r.top+a)),new cn(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new cn(Math.round(r.left+i),Math.round(r.top)),new cn(Math.round(r.left+i+s),Math.round(r.top)),new cn(Math.round(r.left+i+s),Math.round(r.height+r.top)),new cn(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new cn(Math.round(r.left+i),Math.round(r.top+a)),new cn(Math.round(r.left+i+s),Math.round(r.top+a)),new cn(Math.round(r.left+i+s),Math.round(r.top+a+l)),new cn(Math.round(r.left+i),Math.round(r.top+a+l))];default:return[new cn(Math.round(o.left),Math.round(o.top)),new cn(Math.round(o.left+o.width),Math.round(o.top)),new cn(Math.round(o.left+o.width),Math.round(o.height+o.top)),new cn(Math.round(o.left),Math.round(o.height+o.top))]}},Bze="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",k5="Hidden Text",kze=(function(){function n(t){this._data={},this._document=t}return n.prototype.parseMetrics=function(t,e){var r=this._document.createElement("div"),o=this._document.createElement("img"),i=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=t,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),o.src=Bze,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",i.style.fontFamily=t,i.style.fontSize=e,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(k5)),r.appendChild(i),r.appendChild(o);var s=o.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(k5)),r.style.lineHeight="normal",o.style.verticalAlign="super";var l=o.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:s,middle:l}},n.prototype.getMetrics=function(t,e){var r=t+" "+e;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(t,e)),this._data[r]},n})(),Gq=(function(){function n(t,e){this.context=t,this.options=e}return n})(),Tze=1e4,Oze=(function(n){$c(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o._activeEffects=[],o.canvas=r.canvas?r.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),r.canvas||(o.canvas.width=Math.floor(r.width*r.scale),o.canvas.height=Math.floor(r.height*r.scale),o.canvas.style.width=r.width+"px",o.canvas.style.height=r.height+"px"),o.fontMetrics=new kze(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-r.x,-r.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),o}return t.prototype.applyEffects=function(e){for(var r=this;this._activeEffects.length;)this.popEffect();e.forEach(function(o){return r.applyEffect(o)})},t.prototype.applyEffect=function(e){this.ctx.save(),vze(e)&&(this.ctx.globalAlpha=e.opacity),mze(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),jq(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(e){return Us(this,void 0,void 0,function(){var r;return Ga(this,function(o){switch(o.label){case 0:return r=e.element.container.styles,r.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(e){return Us(this,void 0,void 0,function(){return Ga(this,function(r){switch(r.label){case 0:if(Gi(e.container.flags,16))debugger;return e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(e)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(e,r,o){var i=this;if(r===0)this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+o);else{var a=gN(e.text);a.reduce(function(s,l){return i.ctx.fillText(l,s,e.bounds.top+o),s+i.ctx.measureText(l).width},e.bounds.left)}},t.prototype.createFontStyle=function(e){var r=e.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),o=Dze(e.fontFamily).join(", "),i=AC(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,r,e.fontWeight,i,o].join(" "),o,i]},t.prototype.renderTextNode=function(e,r){return Us(this,void 0,void 0,function(){var o,i,a,s,l,u,c,d,f=this;return Ga(this,function(h){return o=this.createFontStyle(r),i=o[0],a=o[1],s=o[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,s),u=l.baseline,c=l.middle,d=r.paintOrder,e.textBounds.forEach(function(p){d.forEach(function(v){switch(v){case 0:f.ctx.fillStyle=ua(r.color),f.renderTextWithLetterSpacing(p,r.letterSpacing,u);var g=r.textShadow;g.length&&p.text.trim().length&&(g.slice(0).reverse().forEach(function(_){f.ctx.shadowColor=ua(_.color),f.ctx.shadowOffsetX=_.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=_.offsetY.number*f.options.scale,f.ctx.shadowBlur=_.blur.number,f.renderTextWithLetterSpacing(p,r.letterSpacing,u)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=ua(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(_){switch(_){case 1:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+u),p.bounds.width,1);break;case 2:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:f.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+c),p.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&p.text.trim().length&&(f.ctx.strokeStyle=ua(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+u)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(e,r,o){if(o&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var i=ok(e),a=rk(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,e.intrinsicWidth,e.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return Us(this,void 0,void 0,function(){var r,o,i,a,s,l,S,S,u,c,d,f,C,h,p,T,v,g,_,S,y,C,T;return Ga(this,function(P){switch(P.label){case 0:this.applyEffects(e.getEffects(4)),r=e.container,o=e.curves,i=r.styles,a=0,s=r.textNodes,P.label=1;case 1:return a<s.length?(l=s[a],[4,this.renderTextNode(l,i)]):[3,4];case 2:P.sent(),P.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof Eq))return[3,8];P.label=5;case 5:return P.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return S=P.sent(),this.renderReplacedElement(r,o,S),[3,8];case 7:return P.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Bq&&this.renderReplacedElement(r,o,r.canvas),!(r instanceof kq))return[3,12];P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return S=P.sent(),this.renderReplacedElement(r,o,S),[3,12];case 11:return P.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Iq&&r.tree?(u=new t(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,u.render(r.tree)]):[3,14];case 13:c=P.sent(),r.width&&r.height&&this.ctx.drawImage(c,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),P.label=14;case 14:if(r instanceof yN&&(d=Math.min(r.bounds.width,r.bounds.height),r.type===ZB?r.checked&&(this.ctx.save(),this.path([new cn(r.bounds.left+d*.39363,r.bounds.top+d*.79),new cn(r.bounds.left+d*.16,r.bounds.top+d*.5549),new cn(r.bounds.left+d*.27347,r.bounds.top+d*.44071),new cn(r.bounds.left+d*.39694,r.bounds.top+d*.5649),new cn(r.bounds.left+d*.72983,r.bounds.top+d*.23),new cn(r.bounds.left+d*.84,r.bounds.top+d*.34085),new cn(r.bounds.left+d*.39363,r.bounds.top+d*.79)]),this.ctx.fillStyle=ua(p5),this.ctx.fill(),this.ctx.restore()):r.type===qB&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+d/2,r.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=ua(p5),this.ctx.fill(),this.ctx.restore())),Pze(r)&&r.value.length){switch(f=this.createFontStyle(i),C=f[0],h=f[1],p=this.fontMetrics.getMetrics(C,h).baseline,this.ctx.font=C,this.ctx.fillStyle=ua(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Mze(r.styles.textAlign),T=ok(r),v=0,r.styles.textAlign){case 1:v+=T.width/2;break;case 2:v+=T.width;break}g=T.add(v,0,0,-T.height/2+1),this.ctx.save(),this.path([new cn(T.left,T.top),new cn(T.left+T.width,T.top),new cn(T.left+T.width,T.top+T.height),new cn(T.left,T.top+T.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new iw(r.value,g),i.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Gi(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(_=r.styles.listStyleImage,_.type!==0)return[3,18];S=void 0,y=_.url,P.label=15;case 15:return P.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return S=P.sent(),this.ctx.drawImage(S,r.bounds.left-(S.width+10),r.bounds.top),[3,18];case 17:return P.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&r.styles.listStyleType!==-1&&(C=this.createFontStyle(i)[0],this.ctx.font=C,this.ctx.fillStyle=ua(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",T=new lA(r.bounds.left,r.bounds.top+bo(r.styles.paddingTop,r.bounds.width),r.bounds.width,Z$(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new iw(e.listValue,T),i.letterSpacing,Z$(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),P.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(e){return Us(this,void 0,void 0,function(){var r,o,_,i,a,_,s,l,_,u,c,_,d,f,_,h,p,_,v,g,_;return Ga(this,function(S){switch(S.label){case 0:if(Gi(e.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:S.sent(),r=0,o=e.negativeZIndex,S.label=2;case 2:return r<o.length?(_=o[r],[4,this.renderStack(_)]):[3,5];case 3:S.sent(),S.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:S.sent(),i=0,a=e.nonInlineLevel,S.label=7;case 7:return i<a.length?(_=a[i],[4,this.renderNode(_)]):[3,10];case 8:S.sent(),S.label=9;case 9:return i++,[3,7];case 10:s=0,l=e.nonPositionedFloats,S.label=11;case 11:return s<l.length?(_=l[s],[4,this.renderStack(_)]):[3,14];case 12:S.sent(),S.label=13;case 13:return s++,[3,11];case 14:u=0,c=e.nonPositionedInlineLevel,S.label=15;case 15:return u<c.length?(_=c[u],[4,this.renderStack(_)]):[3,18];case 16:S.sent(),S.label=17;case 17:return u++,[3,15];case 18:d=0,f=e.inlineLevel,S.label=19;case 19:return d<f.length?(_=f[d],[4,this.renderNode(_)]):[3,22];case 20:S.sent(),S.label=21;case 21:return d++,[3,19];case 22:h=0,p=e.zeroOrAutoZIndexOrTransformedOrOpacity,S.label=23;case 23:return h<p.length?(_=p[h],[4,this.renderStack(_)]):[3,26];case 24:S.sent(),S.label=25;case 25:return h++,[3,23];case 26:v=0,g=e.positiveZIndex,S.label=27;case 27:return v<g.length?(_=g[v],[4,this.renderStack(_)]):[3,30];case 28:S.sent(),S.label=29;case 29:return v++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},t.prototype.formatPath=function(e){var r=this;e.forEach(function(o,i){var a=Ou(o)?o.start:o;i===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),Ou(o)&&r.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},t.prototype.renderRepeat=function(e,r,o,i){this.path(e),this.ctx.fillStyle=r,this.ctx.translate(o,i),this.ctx.fill(),this.ctx.translate(-o,-i)},t.prototype.resizeImage=function(e,r,o){var i;if(e.width===r&&e.height===o)return e;var a=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,s=a.createElement("canvas");s.width=Math.max(1,r),s.height=Math.max(1,o);var l=s.getContext("2d");return l.drawImage(e,0,0,e.width,e.height,0,0,r,o),s},t.prototype.renderBackgroundImage=function(e){return Us(this,void 0,void 0,function(){var r,o,i,a,s,l;return Ga(this,function(u){switch(u.label){case 0:r=e.styles.backgroundImage.length-1,o=function(c){var d,f,h,M,R,ne,$,Q,I,p,M,R,ne,$,Q,v,g,_,S,y,C,T,P,F,I,k,M,V,U,$,Q,J,R,ne,ue,we,Be,We,pe,_e,Ce,ve;return Ga(this,function(Qe){switch(Qe.label){case 0:if(c.type!==0)return[3,5];d=void 0,f=c.url,Qe.label=1;case 1:return Qe.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return d=Qe.sent(),[3,4];case 3:return Qe.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return d&&(h=wM(e,r,[d.width,d.height,d.width/d.height]),M=h[0],R=h[1],ne=h[2],$=h[3],Q=h[4],I=i.ctx.createPattern(i.resizeImage(d,$,Q),"repeat"),i.renderRepeat(M,I,R,ne)),[3,6];case 5:m6e(c)?(p=wM(e,r,[null,null,null]),M=p[0],R=p[1],ne=p[2],$=p[3],Q=p[4],v=d6e(c.angle,$,Q),g=v[0],_=v[1],S=v[2],y=v[3],C=v[4],T=document.createElement("canvas"),T.width=$,T.height=Q,P=T.getContext("2d"),F=P.createLinearGradient(_,y,S,C),X$(c.stops,g).forEach(function(se){return F.addColorStop(se.stop,ua(se.color))}),P.fillStyle=F,P.fillRect(0,0,$,Q),$>0&&Q>0&&(I=i.ctx.createPattern(T,"repeat"),i.renderRepeat(M,I,R,ne))):v6e(c)&&(k=wM(e,r,[null,null,null]),M=k[0],V=k[1],U=k[2],$=k[3],Q=k[4],J=c.position.length===0?[pN]:c.position,R=bo(J[0],$),ne=bo(J[J.length-1],Q),ue=f6e(c,R,ne,$,Q),we=ue[0],Be=ue[1],we>0&&Be>0&&(We=i.ctx.createRadialGradient(V+R,U+ne,0,V+R,U+ne,we),X$(c.stops,we*2).forEach(function(se){return We.addColorStop(se.stop,ua(se.color))}),i.path(M),i.ctx.fillStyle=We,we!==Be?(pe=e.bounds.left+.5*e.bounds.width,_e=e.bounds.top+.5*e.bounds.height,Ce=Be/we,ve=1/Ce,i.ctx.save(),i.ctx.translate(pe,_e),i.ctx.transform(1,0,0,Ce,0,0),i.ctx.translate(-pe,-_e),i.ctx.fillRect(V,ve*(U-_e)+_e,$,Q*ve),i.ctx.restore()):i.ctx.fill())),Qe.label=6;case 6:return r--,[2]}})},i=this,a=0,s=e.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return a<s.length?(l=s[a],[5,o(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(e,r,o){return Us(this,void 0,void 0,function(){return Ga(this,function(i){return this.path(B5(o,r)),this.ctx.fillStyle=ua(e),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(e,r,o,i){return Us(this,void 0,void 0,function(){var a,s;return Ga(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(e,o,i)]:[3,2];case 1:return l.sent(),[2];case 2:return a=bze(i,o),this.path(a),this.ctx.fillStyle=ua(e),this.ctx.fill(),s=wze(i,o),this.path(s),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(e){return Us(this,void 0,void 0,function(){var r,o,i,a,s,l,u,c,d=this;return Ga(this,function(f){switch(f.label){case 0:return this.applyEffects(e.getEffects(2)),r=e.container.styles,o=!Ph(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=Ize(gg(r.backgroundClip,0),e.curves),o||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Ph(r.backgroundColor)||(this.ctx.fillStyle=ua(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){d.ctx.save();var p=nk(e.curves),v=h.inset?0:Tze,g=gze(p,-v+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(d.path(p),d.ctx.clip(),d.mask(g)):(d.mask(p),d.ctx.clip(),d.path(g)),d.ctx.shadowOffsetX=h.offsetX.number+v,d.ctx.shadowOffsetY=h.offsetY.number,d.ctx.shadowColor=ua(h.color),d.ctx.shadowBlur=h.blur.number,d.ctx.fillStyle=h.inset?ua(h.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),f.label=2;case 2:s=0,l=0,u=i,f.label=3;case 3:return l<u.length?(c=u[l],c.style!==0&&!Ph(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,s,e.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,s,e.curves,3)];case 6:return f.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,s,e.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,s,e.curves)];case 10:f.sent(),f.label=11;case 11:s++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(e,r,o,i,a){return Us(this,void 0,void 0,function(){var s,l,u,c,d,f,h,p,v,g,_,S,y,C,T,P,T,P;return Ga(this,function(F){return this.ctx.save(),s=_ze(i,o),l=B5(i,o),a===2&&(this.path(l),this.ctx.clip()),Ou(l[0])?(u=l[0].start.x,c=l[0].start.y):(u=l[0].x,c=l[0].y),Ou(l[1])?(d=l[1].end.x,f=l[1].end.y):(d=l[1].x,f=l[1].y),o===0||o===2?h=Math.abs(u-d):h=Math.abs(c-f),this.ctx.beginPath(),a===3?this.formatPath(s):this.formatPath(l.slice(0,2)),p=r<3?r*3:r*2,v=r<3?r*2:r,a===3&&(p=r,v=r),g=!0,h<=p*2?g=!1:h<=p*2+v?(_=h/(2*p+v),p*=_,v*=_):(S=Math.floor((h+v)/(p+v)),y=(h-S*p)/(S-1),C=(h-(S+1)*p)/S,v=C<=0||Math.abs(v-y)<Math.abs(v-C)?y:C),g&&(a===3?this.ctx.setLineDash([0,p+v]):this.ctx.setLineDash([p,v])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=ua(e),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Ou(l[0])&&(T=l[3],P=l[0],this.ctx.beginPath(),this.formatPath([new cn(T.end.x,T.end.y),new cn(P.start.x,P.start.y)]),this.ctx.stroke()),Ou(l[1])&&(T=l[1],P=l[2],this.ctx.beginPath(),this.formatPath([new cn(T.end.x,T.end.y),new cn(P.start.x,P.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(e){return Us(this,void 0,void 0,function(){var r;return Ga(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ua(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=yze(e),[4,this.renderStack(r)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(Gq),Pze=function(n){return n instanceof Pq||n instanceof Oq?!0:n instanceof yN&&n.type!==qB&&n.type!==ZB},Ize=function(n,t){switch(n){case 0:return nk(t);case 2:return Aze(t);case 1:default:return rk(t)}},Mze=function(n){switch(n){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Fze=["-apple-system","system-ui"],Dze=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(t){return Fze.indexOf(t)===-1}):n},Uze=(function(n){$c(t,n);function t(e,r){var o=n.call(this,e,r)||this;return o.canvas=r.canvas?r.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=r,o.canvas.width=Math.floor(r.width*r.scale),o.canvas.height=Math.floor(r.height*r.scale),o.canvas.style.width=r.width+"px",o.canvas.style.height=r.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-r.x,-r.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),o}return t.prototype.render=function(e){return Us(this,void 0,void 0,function(){var r,o;return Ga(this,function(i){switch(i.label){case 0:return r=TU(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Lze(r)];case 1:return o=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ua(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(Gq),Lze=function(n){return new Promise(function(t,e){var r=new Image;r.onload=function(){t(r)},r.onerror=e,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},Vze=(function(){function n(t){var e=t.id,r=t.enabled;this.id=e,this.enabled=r,this.start=Date.now()}return n.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,oS([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,oS([this.id,this.getTime()+"ms"],t))},n.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,oS([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},n.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,oS([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},n.instances={},n})(),Nze=(function(){function n(t,e){var r;this.windowBounds=e,this.instanceName="#"+n.instanceCount++,this.logger=new Vze({id:this.instanceName,enabled:t.logging}),this.cache=(r=t.cache)!==null&&r!==void 0?r:new ize(this,t)}return n.instanceCount=1,n})(),Rze=function(n,t){return t===void 0&&(t={}),Hze(n,t)};typeof window<"u"&&Qq.setContext(window);var Hze=function(n,t){return Us(void 0,void 0,void 0,function(){var e,r,o,i,a,s,l,u,c,d,f,h,p,v,g,_,S,y,C,T,F,P,F,I,k,M,V,U,$,Q,J,R,ne,ue,we,Be,We,pe,_e,Ce;return Ga(this,function(ve){switch(ve.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(e=n.ownerDocument,!e)throw new Error("Element is not attached to a Document");if(r=e.defaultView,!r)throw new Error("Document is not attached to a Window");return o={allowTaint:(I=t.allowTaint)!==null&&I!==void 0?I:!1,imageTimeout:(k=t.imageTimeout)!==null&&k!==void 0?k:15e3,proxy:t.proxy,useCORS:(M=t.useCORS)!==null&&M!==void 0?M:!1},i=hU({logging:(V=t.logging)!==null&&V!==void 0?V:!0,cache:t.cache},o),a={windowWidth:(U=t.windowWidth)!==null&&U!==void 0?U:r.innerWidth,windowHeight:($=t.windowHeight)!==null&&$!==void 0?$:r.innerHeight,scrollX:(Q=t.scrollX)!==null&&Q!==void 0?Q:r.pageXOffset,scrollY:(J=t.scrollY)!==null&&J!==void 0?J:r.pageYOffset},s=new lA(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new Nze(i,s),u=(R=t.foreignObjectRendering)!==null&&R!==void 0?R:!1,c={allowTaint:(ne=t.allowTaint)!==null&&ne!==void 0?ne:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+s.width+"x"+s.height+" scrolled to "+-s.left+","+-s.top),d=new S5(l,n,c),f=d.clonedReferenceElement,f?[4,d.toIFrame(e,s)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=ve.sent(),p=bN(f)||QWe(f)?g5e(f.ownerDocument):oO(l,f),v=p.width,g=p.height,_=p.left,S=p.top,y=Qze(l,f,t.backgroundColor),C={canvas:t.canvas,backgroundColor:y,scale:(we=(ue=t.scale)!==null&&ue!==void 0?ue:r.devicePixelRatio)!==null&&we!==void 0?we:1,x:((Be=t.x)!==null&&Be!==void 0?Be:0)+_,y:((We=t.y)!==null&&We!==void 0?We:0)+S,width:(pe=t.width)!==null&&pe!==void 0?pe:Math.ceil(v),height:(_e=t.height)!==null&&_e!==void 0?_e:Math.ceil(g)},u?(l.logger.debug("Document cloned, using foreign object rendering"),F=new Uze(l,C),[4,F.render(f)]):[3,3];case 2:return T=ve.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+_+","+S+" with size "+v+"x"+g+" using computed rendering"),l.logger.debug("Starting DOM parsing"),P=Fq(l,f),y===P.styles.backgroundColor&&(P.styles.backgroundColor=qf.TRANSPARENT),l.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),F=new Oze(l,C),[4,F.render(P)];case 4:T=ve.sent(),ve.label=5;case 5:return(!((Ce=t.removeContainer)!==null&&Ce!==void 0)||Ce)&&(S5.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,T]}})})},Qze=function(n,t,e){var r=t.ownerDocument,o=r.documentElement?rw(n,getComputedStyle(r.documentElement).backgroundColor):qf.TRANSPARENT,i=r.body?rw(n,getComputedStyle(r.body).backgroundColor):qf.TRANSPARENT,a=typeof e=="string"?rw(n,e):e===null?qf.TRANSPARENT:4294967295;return t===r.documentElement?Ph(o)?Ph(i)?a:i:o:a};const Yq=rn({__name:"build",setup(n){const t=P_(),e=tv(),r=Oe(!1),o=Oe(!1),i=Zy(),a=Vt(),s=Oe(null),{getAccessTokenSilently:l}=Er(),u=Oe({id:null,user_id:null,partner_id:null,name:"My Template",html_content:"",css_content:"",created_at:"",updated_at:""}),{hide_layout:c,is_data_loaded:d}=Lt(a),{gjs_instance:f,html_content:h,css_content:p}=Lt(i);async function v(){var F;const y=new FormData,C={...u.value},T=await l(),P=u.value.id?"/templates/update":"/templates/store";u.value.id||(C.name=await a.InputDialog("Template Name",null,u.value.name,"OK",!1)),(F=C.name)!=null&&F.length?(o.value=!0,C.user_id=Ys.value,C.partner_id=vr.value,C.thumbnail=await g(),y.append("template",JSON.stringify(C)),sn(T).post(P,y).then(I=>{console.log(I.data),u.value.id||e.push("/templates"),a.ShowSuccess("Template saved successfully!"),console.log("Saved template successfully!")}).finally(()=>{o.value=!1})):a.ShowError("Please provide a Template name!")}async function g(){const y=f.value.Canvas.getFrameEl(),T=(y.contentDocument||y.contentWindow.document).querySelector(".pdf-page");return T?(await Rze(T,{useCORS:!0,scale:.3})).toDataURL("image/png",.5):null}function _(y){u.value.html_content=y}function S(y){u.value.css_content=y}return lt(r,y=>{y?s.value=setInterval(()=>{v()},15e3):s&&(clearInterval(s.value),s.value=null)}),lt(()=>d.value,async y=>{if(y==!0&&t.params.id){const C=await l(),T=`/templates/find-template/${t.params.id}`,F=(await sn(C).get(T)).data;F?(u.value=F,f.value.setComponents(F.html_content),f.value.setStyle(F.css_content)):(a.ShowError("This template doesn't exist. Redirecting to Templates page..."),e.push("/templates"))}},{immediate:!0}),lu(()=>{s.value&&clearInterval(s.value),c.value=!1}),(y,C)=>{const T=MT,P=kT,F=du;return le(),Re(F,null,cA({title:N(()=>[C[3]||(C[3]=Je("Templates",-1))]),content:N(()=>[x(T,{"onUpdate:css":S,"onUpdate:html":_}),O(c)?(le(),Re(P,{key:0,loading:O(o),onOnsave:v},null,8,["loading"])):xt("",!0)]),_:2},[O(c)?void 0:{name:"footer",fn:N(()=>[x(_t,{class:"mt-1","hide-details":"",type:"text","max-width":"250",density:"compact",variant:"outlined",label:"Template name",modelValue:O(u).name,"onUpdate:modelValue":C[0]||(C[0]=I=>O(u).name=I)},null,8,["modelValue"]),x(En),x($e,{style:Ue(O(hn)),"prepend-icon":"mdi-overscan",text:"Distraction-Free Mode",onClick:C[1]||(C[1]=I=>c.value=!O(c))},null,8,["style"]),x(En),O(u).id?(le(),Re(Sl,{key:0,"hide-details":"",class:"mr-3",color:"info",label:"Autosave",modelValue:O(r),"onUpdate:modelValue":C[2]||(C[2]=I=>Ht(r)?r.value=I:null)},null,8,["modelValue"])):xt("",!0),x($e,{color:"primary",text:"Save Template",loading:O(o),onClick:v,style:Ue(O(hn)),class:"d-flex ml-auto"},null,8,["loading","style"])]),key:"0"}]),1024)}}}),jze=Object.freeze(Object.defineProperty({__proto__:null,default:Yq},Symbol.toStringTag,{value:"Module"})),$ze={__name:"[id]",setup(n){return(t,e)=>(le(),Re(O(Yq)))}},Kze=Object.freeze(Object.defineProperty({__proto__:null,default:$ze},Symbol.toStringTag,{value:"Module"})),Wze={class:"d-flex align-center justify-space-between mb-7"},zze={class:"d-flex align-center text-left"},Gze=["src"],Yze={class:"ml-3"},Xze={key:0},Jze={__name:"users",setup(n){const t=Vt(),e=Oe(null),r=Oe(!1),o=Oe(!1),i=Oe({}),a=[{title:"User ID",sortable:!0,value:"user_id"},{title:"Name",sortable:!0,value:"name"},{title:"Email",sortable:!0,value:"email"},{title:"Role",sortable:!1,value:"role"},{title:"Group",sortable:!1,value:"group"},{title:"Active",sortable:!1,value:"blocked"},{title:"Manage",sortable:!1,value:"Manage"}],{getAccessTokenSilently:s}=Er(),{FetchUsers:l,FetchPartners:u,FetchPartnerUsers:c}=t,{users:d,partners:f,partner_users:h,new_user_modal:p}=Lt(t),v=async(P,F)=>{const I=await s(),k=sn(I),M=new FormData;M.append("partner_id",P),M.append("user_id",F),k.post("/partnerusers/submit",M).then(V=>{console.log(V.data),t.global_loading=!0,t.FetchPartnerUsers(I).then(()=>{t.FetchAllData(I).then(()=>{t.global_loading=!1,t.ShowSuccess(`You switched to '${Im.value}'`)})}),c(I)})},g=async P=>{e.value=d.value.find(F=>F.user_id===P),r.value=!0},_=async P=>{const F=await s();await t.InputDialog("Confirm Action",'Type "DELETE" to confirm you want to delete this user.')==="DELETE"&&(o.value=!0,sn(F).post(`/users/destroy/${P}`).then(k=>{t.ShowSuccess("User Deleted."),C()}).finally(()=>{o.value=!1}))},S=async P=>{const F=await s(),I=new FormData;o.value=!0,I.append("user_id",P.user_id),I.append("block_value",P.blocked?0:1),sn(F).post("/users/toggle-status",I).then(k=>{o.value=!1,t.ShowSuccess("User status updated."),C(),console.log(k.data)})},y=()=>{i.value={},d.value.forEach(P=>{const F=h.value.find(I=>I.user_id===P.user_id);F&&(i.value[P.user_id]=Number(F.partner_id))})},C=async()=>{o.value=!0;const P=await s();await l(P),await u(P),await c(P),o.value=!1,y()},T=async(P,F)=>{const I=await s(),k=new FormData;k.append("role",P),k.append("user_id",F),o.value=!0,sn(I).post("/users/change-role",k).then(M=>{t.ShowSuccess(M.data.message)}).finally(()=>{o.value=!1,C()})};return lt(()=>d.value,()=>{y()},{immediate:!0}),Kn(async()=>C()),(P,F)=>{const I=KZ,k=AN,M=qi,V=du;return le(),Re(V,null,{title:N(()=>[...F[3]||(F[3]=[Je("Partners",-1)])]),content:N(()=>[H("div",Wze,[F[4]||(F[4]=H("div",null,[Je(" Users are fully managed in "),H("a",{href:"https://manage.auth0.com/dashboard/"},"Auth0 Dashboard"),Je(". This page allows you Add and Assign Users to groups (partners). ")],-1)),H("div",null,[x($e,{"prepend-icon":"mdi-refresh",class:"mr-2",loading:O(o),style:Ue(O(hn)),text:"Refresh",onClick:C},null,8,["loading","style"]),x($e,{"prepend-icon":"mdi-plus-circle",disabled:O(o),style:Ue(O(hn)),text:"Add a user",onClick:F[0]||(F[0]=U=>(p.value=!0,e.value=null))},null,8,["disabled","style"])])]),x(hi,{loading:O(o),style:Ue(O(zr)),items:O(d),headers:a,class:"elevation-1 border"},{item:N(({item:U})=>[H("tr",null,[H("td",null,at(U.user_id),1),H("td",null,[H("div",zze,[H("img",{width:"30",height:"30",class:"rounded-circle",src:U.picture,alt:""},null,8,Gze),H("div",Yze,[Je(at(U.name)+" ",1),O(Yx)(U.user_id)?(le(),et("span",Xze,"(You)")):xt("",!0)])])]),H("td",null,at(U.email),1),H("td",null,[x(mr,{"hide-details":"",variant:"plain",density:"compact",disabled:O(o),"model-value":U.role,items:["Admin","Manager","User"],"onUpdate:modelValue":$=>T($,U.user_id)},null,8,["disabled","model-value","onUpdate:modelValue"])]),H("td",null,[x(mr,{"hide-details":"","max-width":"300","item-title":"name",items:O(f),density:"compact",variant:"plain",disabled:O(o),modelValue:O(i)[U.user_id],"onUpdate:modelValue":[$=>O(i)[U.user_id]=$,$=>v($,U.user_id)],"item-value":"id"},null,8,["items","disabled","modelValue","onUpdate:modelValue"])]),H("td",null,[x(Sl,{"onUpdate:modelValue":$=>S(U),"model-value":!U.blocked,disabled:O(o)||O(Yx)(U.user_id),loading:O(o),density:"compact",color:"green","hide-details":"",inset:""},null,8,["onUpdate:modelValue","model-value","disabled","loading"])]),H("td",null,[x($e,{text:"Edit",class:"mr-1",size:"small",color:"primary",variant:"outlined",disabled:O(o),"prepend-icon":"mdi-pencil",onClick:$=>g(U.user_id)},null,8,["disabled","onClick"]),x($e,{color:"red",size:"small",variant:"outlined",text:"Delete",disabled:O(o),"prepend-icon":"mdi-close",onClick:$=>_(U.user_id)},null,8,["disabled","onClick"])])])]),_:1},8,["loading","style","items"]),x(I,{edit_user:O(e),is_owner:!0},null,8,["edit_user"]),x(M,{title:"Edit Profile",modelValue:O(r),"onUpdate:modelValue":F[2]||(F[2]=U=>Ht(r)?r.value=U:null)},{default:N(()=>[x(k,{edit_user:O(e),onUpdate:F[1]||(F[1]=U=>r.value=!1)},null,8,["edit_user"])]),_:1},8,["modelValue"])]),_:1})}}},Zze=Object.freeze(Object.defineProperty({__proto__:null,default:Jze},Symbol.toStringTag,{value:"Module"}))});export default qze();
